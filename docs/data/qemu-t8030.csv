project_name,repository_url,commit_hash,parent_commit_hash,author,date,message,variability_bug,bug_probability,matched_features,files_changed,build_system_affected,impact_scope,feature_scope,json_source_file,repo_dir
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c9087c2a6068b23207517f7d7ff796e68290358b,14ae3ba7f94f962669e3274cad28dcabb5185287,bellard,2003-05-27,cr2 update (dosemu VGA support fix)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@191 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.990638256072998,VGA,linux-user/signal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1e5ffbedded7ded797f5042d82b70109a712b4c0,79638566e5b87058e92f537b989df0dbc23f8b41,bellard,2003-06-15,fixed float to int overflow bug - added ARM host correct roundings for float rounding\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@237 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995273351669312,ARM,"helper-i386.c, op-i386.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6e295807acbaf7eb3200a685376fb968ebdb8571,f2674e31e0b79a8e30335438f274b846d084a383,bellard,2003-07-09,ARM fixes\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@314 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999502420425415,ARM,"arm-dis.c, exec-arm.h, op-arm.c, translate-arm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6fb883e8e3ce8fc661e4bb9f068565b4ccd97abf,6e295807acbaf7eb3200a685376fb968ebdb8571,bellard,2003-07-09,ARM fix: mmap\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@315 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999427318572998,ARM,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a1516e92b6ed887ef27f3a33a27a9acd772a5de4,6fb883e8e3ce8fc661e4bb9f068565b4ccd97abf,bellard,2003-07-09,ARM init fix\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@316 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9993495345115662,ARM,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1b21b62ab4b68da17b18f630e33ff7e1d5e3d3a2,a1516e92b6ed887ef27f3a33a27a9acd772a5de4,bellard,2003-07-09,ARM fixes\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@317 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995071887969972,ARM,cpu-exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,39cf7803273871207ec06a0d162e181998ccc384,e89f66eca974d2a9d5d89271c6041daefdab2105,bellard,2003-08-05,fixed graphical VGA 16 color mode - fixed 9 pixel wide text mode\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@345 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996844530105592,VGA,"hw/vga.c, hw/vga_template.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3b22c4707decb706b10ce023534f8b79413ff9fe,96e6e05372837a00d26284a8ba25ecb533a2e410,bellard,2003-08-10,fixed invalid ESP usage (Jon Nall)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@362 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996713399887084,ESP,helper-i386.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e748ba4f5352061474668a47341abe2a898e03ad,b8ed223bfe3b1af434adce07b2981ce8b5b9ecb4,bellard,2003-11-03,ARM half word load/store fix (Ulrich Hecht)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@438 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996119141578674,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6dca2016fc0cca49ce866b7f2fcfffe011c1f496,678673089d1ba7cd0f2960a2815a0d5bb8a72fa3,bellard,2003-11-23,fixed PPC state reloading\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@475 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.99953031539917,PPC,translate-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf495bcf9ffe0f1450a5de7497612dd1be23ff2a,fb0eaffc6d9982b5eee439b8461851bd18bf35ce,bellard,2004-01-04,SPARC fixes: corrected PC/NPC logic (now slower but can be optimized a lot) - fixed flags computations - added register window exceptions support - fixed mul and div - added mulscc - fixed immediate field decoding\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@484 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995754361152648,SPARC,"linux-user/sparc/syscall_nr.h, target-sparc/cpu.h, target-sparc/op.c, target-sparc/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f515528907764d1fb1fab2e68a8be25e15b3c096,b453b70bd8e61c4ab4bba48a32ae99c0aa758c79,bellard,2004-01-04,aligned stack on 16 byte boundary - PPC target fixes - SPARC target fixes\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@491 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994496703147888,"PPC, SPARC",linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,060366c5ad18b3e32886d8f7ce89c6cc23abb7ff,6da41eafc40c543c581d8b585a906691beca43b0,bellard,2004-01-04,SPARC fixes : syscall fixes - added user register window exception support\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@494 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996975660324096,SPARC,linux-user/main.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f09936ac82b3c56a0a36a533dd3f63d08e013e7d,d030931173a2d8c9038c45950d72900097013ecb,bellard,2004-01-18,ARM fcntl flag fixes (Lennert Buytenhek)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@564 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9993294477462769,ARM,linux-user/syscall_defs.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6f1f31c069b20611f8df768bd4cc484a49624d62,5467a722943adaa3d11e97656cf789586e31ee93,bellard,2004-04-25,ARM cache flush support (untested) - '-d' option fix\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@748 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999242663383484,ARM,"linux-user/arm/syscall.h, linux-user/main.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1078f663ae65cb4e053b8cb7adff5908c4c7b8de,0ac32c837507260009d170af15f4ae9652a9ea97,bellard,2004-05-20,dummy VGA PCI support - VGA font selection fix (Daniel Serpell)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@824 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9423880577087402,"PCI, VGA",hw/vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fb9f9444588d2f7f1af9692499b3953432151e64,92e873b996adb4cdc8ec9ab7e49d1c88d8749127,bellard,2004-05-22,PCI BIOS fixes\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@843 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995285272598268,PCI,"pc-bios/bios.bin, pc-bios/bios.diff",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1f62d9383f9236cd9cf8f017371800cdfe56a195,7727994d21eea75859df8f2fcfa7163a1d6f64e4,bellard,2004-06-03,fixed PCI config default write permissions\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@878 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995744824409484,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7b17d41e968bd0826b914ec7ed036cf9c6a51615,d6bfa22f729500d1bc7f90a560ef278c22a2e291,bellard,2004-06-05,Cirrus VGA display fix\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@893 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999509572982788,VGA,hw/vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e2733d20b2c8fade7e81aebb34e4e1db821d472f,637f6cd7352ad2570a77267e7d254785349a4a1f,bellard,2004-06-21,ADB fixes\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@965 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996241331100464,ADB,"hw/adb.c, hw/cuda.c, vl.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,38f0b147a57c1d64d068d3a15efde83322a5c90e,bec9d989dba24e5ce4f94fcbccc841769a510bae,bellard,2004-07-12,fixed ADB error reporting\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1010 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996119141578674,ADB,hw/cuda.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6d5e216de979afdc0a26410580ad31376f7107f7,e8af50a30e89e5cfdc1b2a2fa8fab3ce463a4790,bellard,2004-09-30,SPARC fixes (Blue Swirl)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1084 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996337890625,SPARC,"linux-user/signal.c, linux-user/syscall_defs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d75d9f6be958f0245ed7794bbd2a31eaffae40da,769bec7271eaaf908a21fb9c1e40937f04af3e90,bellard,2004-10-09,SDL Audio support and SB16 fixes (malc)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1108 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996168613433838,SB16,"Changelog, hw/sb16.c, oss.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,88920f344d5352dc0bb57539c4639344e9e0e0fe,f7cce898821ff2a050e3de7317fe05b1a3e155fb,bellard,2004-12-08,ARM shift fix (Paul Brook)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1167 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994865655899048,ARM,"target-arm/op.c, target-arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1e8d4eec4859574e7773fa3243fcc61fe7b534e7,88920f344d5352dc0bb57539c4639344e9e0e0fe,bellard,2004-12-08,more complete ARM shift fix\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1168 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995999932289124,ARM,"target-arm/op.c, target-arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,832ed0fa340cedb948a63abd472c7ba4bfd911c8,78573df6b28bf1419aeb98a8951bde30a0030fba,bellard,2005-02-07,ARM FPU endianness fix\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1265 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999406099319458,ARM,cpu-all.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e88de09993cf37702c1f20f5299471aa123295e6,832ed0fa340cedb948a63abd472c7ba4bfd911c8,bellard,2005-02-07,ARM FPA get_user/put_user fix\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1266 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9988880753517152,ARM,linux-user/qemu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9d60cac01fa5f0c36d49ae8df3ad040d13606700,8e96005d86cba6b2ce177f489463eda602d99238,bellard,2005-04-07,ARM double ordering fix (Paul Brook)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1356 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995236396789552,ARM,cpu-all.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e1a2849c90dd0710dd2893ce1ac1ea30aec150a2,e06e5259c3226f1e2408eb8bb940ee4fe5697f4c,bellard,2005-04-23,ARM syscall fix (Paul Brook)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1377 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995470643043518,ARM,linux-user/main.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dccfafc4e1325dbf90d8ee7b2bc56e6e02eaf4b5,111bfab3b5c6a47a7182e095647e6a5e0e17feb8,bellard,2005-04-23,"This patch fixes two bugs in cuda emulation:\n- the CUDA timer is always triggered twice, with current code\n- SET_TIME command is supposed to send back a 7 bytes packet\n(Jocelyn Mayer)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1380 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.999630093574524,CUDA,hw/cuda.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5899f386ba9474d0bb0c055f9276d8923845cbd3,6a0f9e82c5bf457b958fe7918f8ff0080035f35e,bellard,2005-04-27,ARM thumb fixes\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1418 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9992414712905884,ARM,"target-arm/op.c, target-arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ff8263a951c5ce22bef919c792d20e5cbf5066b3,04d81be884925127e2ebee994e4a89ce44eab06e,bellard,2005-05-13,ARM saturating arithmetic fixes (Paul Brook)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1431 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9990574717521667,ARM,"target-arm/op.c, target-arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bc380d1719ddcd70841784b2fb0a3b3c0ba935fa,ff8263a951c5ce22bef919c792d20e5cbf5066b3,bellard,2005-05-13,ARM VFP dump fix (Paul Brook)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1432 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9993915557861328,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a368741bf2508b7ca29d9ade73ec1b0f29ae2286,61271e5c2d3eff4cc0c4845be291172c2015b6f1,bellard,2005-07-07,suppressed ppc ide hack - fixed read toc for Darwin/PPC\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1509 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999617338180542,PPC,hw/ide.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,98352369101d2f3097e7f75d291b0a438c4dbbe4,e5733356241f92e565f0aed731d265c8b1ae3956,bellard,2005-07-07,specific mac-io PCI device_id for paddington/heathrow - fixed atapi requests - reset IDE drives in quiesce - added heathrow nvram OF description\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1512 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9991519451141356,PCI,"pc-bios/ohw.diff, pc-bios/ppc_rom.bin",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,92510b8cf5a18e1671633fddb53599fb02936302,6cc721cf4214a088538318083b27ed67a5159f3e,bellard,2005-08-06,"ide PCI ident fix, aka FreeBSD/amd64 bug fix (Jung-uk Kim)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1538 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9990959167480468,PCI,hw/ide.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c96a29cdef7659ae7c4a816206915896a8f69e39,4b7df22f91dd314bd99f9f8f163600587434341f,bellard,2005-08-21,Fix MIPS counter / compare interrupt (Ralf Baechle\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1550 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999452531337738,MIPS,hw/mips_r4k.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0bccf03d6f6d0c9ecb4534d1d5b7bb49350bd84e,89353a790bbc336cd1a5029e2d3c9df6a82845af,bellard,2005-08-21,fix AUX vector entries (Paul Brook)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1554 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999572455883026,AUX,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,946fc94733c9120ddc78512838d9087d01418eaa,a0d01ed9ea59e32d324ac7e43a5496b08e1bcf14,bellard,2005-11-11,ES1370 word sized read fix (aka Win9x bug)  (malc)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1613 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996237754821776,ES1370,hw/es1370.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e0fd87812f411342d88ada38a8b1d674c40b8173,6a00d60127dc0e1d4efadafe1feb88f05030fe52,bellard,2005-11-21,APIC fixes - SIPI support\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1641 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996069073677064,APIC,hw/apic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6810e154907c4ed3883f3f9fc03507fe45a679ea,a64d4718f1afde08fb74910242e7a7b946c3f162,bellard,2005-12-05,MIPS halt support - MIPS static state fix (Daniel Jacobowitz)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1689 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9991445541381836,MIPS,cpu-exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4ad40f366f20f6991b640d7af63c9fc3a59246fa,6810e154907c4ed3883f3f9fc03507fe45a679ea,bellard,2005-12-05,MIPS fixes (Daniel Jacobowitz)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1690 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999561369419098,MIPS,"target-mips/cpu.h, target-mips/exec.h, target-mips/helper.c, target-mips/op.c, target-mips/op_helper.c, target-mips/op_helper_mem.c, target-mips/op_mem.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,be9d365723740a8bf4f11d2eb3e9099c99019a57,242011157f0d454bf5a57541ebeba2c17611298e,pbrook,2006-02-19,PL110 byteswapping fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1763 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996073842048644,PL110,hw/pl110_template.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4e9aec746e8d87fbe8805b881d6dae898a75372b,56b194039eb3a2a9d239662c004367c726a5ab4f,pbrook,2006-03-11,Sparcf ESP dma fixes (Blue Swirl).\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1776 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9992120265960692,ESP,hw/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,76e050c2e62995f1d6905e28674dea3a7fcff1a5,da2414e9335d2116687fdc914daf12f443d9b87c,bellard,2006-04-23,Fix overflow conditions for MIPS add / subtract (Stefan Weil)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1828 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.99955815076828,MIPS,target-mips/op.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ce2f4b3cb9c1c542a6de6f0cdcd4771fe03a8bb6,cd7dd10f09a66b0e356f7164850f9270268c0a94,bellard,2006-04-23,MIPS single stepping fix (Dirk Behme)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1830 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996095299720764,MIPS,target-mips/op.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a1e7547389feeea0c777f558f47a0185f3fe2543,7918bf476b8b32a65b6d254f393e00325f2b7f4b,bellard,2006-04-28,APM CPU idle fix\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1866 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996627569198608,APM,"pc-bios/bios.bin, pc-bios/bios.diff",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6583391f0de86f6bec28ea13a0c16c9ee2fa6b8f,6515b203702b01cd7d4ef8f9cbad77474fc2ed42,bellard,2006-05-03,PCI irq mapping fix\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1903 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995550513267516,PCI,"hw/acpi-dsdt.dsl, hw/acpi-dsdt.hex",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,db59203d104bcd26d21218d817399b6a98eb49f5,1c46d7139a4d2c4491ce2459f9a32c1be85e23d5,pbrook,2006-05-21,ESP DMA fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1926 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995694756507874,ESP,hw/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6106487019177fa2bf61fa1beab11b3b113ad858,6cb7ee859a1b28aae8eab7f88908c9c9262b8a5c,pbrook,2006-05-22,Fix USB root hub hotplugging.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1931 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9991136193275452,USB,"hw/usb-ohci.c, hw/usb-uhci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0fc5c15a4fad2dac00126c802554d9ca33c4ccc7,cac782d496c0160aba9ae8df53a3504599a4c721,pbrook,2006-05-26,SCSI lun probing fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1945 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999594271183014,SCSI,"hw/esp.c, hw/scsi-disk.c, hw/usb-msd.c, vl.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9d0869b630baf5b94c6cb6a87520dd881ae08613,8fa00e0fec0e57cd2d08cee27391925b9ea9eb93,bellard,2006-06-14,fixed VBE protected mode calls - added VGA and VBE save restore support (not fully tested) - automatic generation of VBE mode table\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1959 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995056390762328,VGA,"pc-bios/vgabios-cirrus.bin, pc-bios/vgabios.bin, pc-bios/vgabios.diff",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,191f9a93f48ba8859bbbc8d5ac9b401568c2c6f4,d1e42c5c1e312320460509c5ab1e94fb17cb7515,pbrook,2006-06-14,ARM postincrememnt addressing fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1970 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995005130767822,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9854bc4662906a60c35c64c1e5b4d76eee4ac631,978efd6aac65bc1e025472859eb738839425318b,pbrook,2006-06-17,SH4 rts fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@1987 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996460676193236,SH4,target-sh4/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,51c1ebb1bc2642296379a8db1ba9dfb4f78a2f80,6eb5733a3cad93b00043d48fa22b9df7d1f5ab33,pbrook,2006-08-06,Fix SCSI off-by-one device size.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2091 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994367957115172,SCSI,hw/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3dc1cb3428f8661f99e03cfac6f5aedf3d614927,35f1df84b6a9d4462764b833e915100f91e4f257,pbrook,2006-08-15,ESP DMA fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2110 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995580315589904,ESP,hw/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,83acc96b235753f089fadd7f755a9856a31165f2,6e1b3e4da4de3720c8bd29cf22933a87e801b0d5,bellard,2006-08-18,fixed VGA resolutions with height > 1024\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2121 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996585845947266,VGA,"hw/cirrus_vga.c, hw/vga.c, hw/vga_int.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,707b3ee068a1324b708f6dd707cc156a0b8de371,78600320a8571f4b065a7ea9331e1290d319acbb,pbrook,2006-09-09,ARM 64-bit host fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2155 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999340832233429,ARM,linux-user/syscall_defs.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6787f5fae0fb9e3923b8c316780645c3e1d81df2,b8174937ed2c885aca5b9b08773a34397d802717,pbrook,2006-09-17,SPARC SCSI fixes.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2158 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.99964702129364,"SCSI, SPARC",hw/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d2b5931756fdb9f839180e33898cd1e3e4fbdc90,e69954b9fc698996c8416a2fb26c6b50ad9f49a9,pbrook,2006-09-24,PCI shared IRQ fix (original patch by andrzej zaborowski).\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2165 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9989461302757264,PCI,"hw/apb_pci.c, hw/grackle_pci.c, hw/pci.c, hw/piix_pci.c, hw/prep_pci.c, hw/unin_pci.c, hw/versatile_pci.c, vl.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,80b3ada7dd56088613a446934d144a747e740fa1,d2b5931756fdb9f839180e33898cd1e3e4fbdc90,pbrook,2006-09-24,Implement sun4u PCI IRQ routing.\nAllow multiple PCI busses and PCI-PCI bridges.\nFix bugs in Versatile PCI implementation.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2166 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9976091384887696,PCI,"hw/apb_pci.c, hw/grackle_pci.c, hw/pci.c, hw/piix_pci.c, hw/prep_pci.c, hw/unin_pci.c, hw/versatile_pci.c, vl.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5e966ce6f44c29c3b9d5349c25c75de145d8a0b1,74ce674fa856b37bf3ff46bff2c7a4a49810ed80,pbrook,2006-09-28,PCI IRC routing fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2185 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9990668892860411,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b4511723bdc0ead9b9b958ad20a4a8bf900d6243,d1beab8220d1a7535bbaa44e3821922dbbad3677,bellard,2006-10-08,APIC init fix + APIC get_irq fix (Juergen Keil)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2193 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996095299720764,APIC,hw/apic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a94a6abff47685e33caf332b55f45e02ab2d8a55,c688a6eb185544444a50e07cade5166b2e23270e,pbrook,2006-10-25,Fix ARM VFP debugging dumps.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2201 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.99958473443985,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,417f38f066e21cf69f85d78eecbf6268c53a80bc,2d37be61e3a377843f4e8b8fcc837838294b8b3f,pbrook,2006-11-12,MIPS FPU fixes (Daniel Jacobowitz).\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2213 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995716214179992,MIPS,"target-mips/op.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,71fb7241c65ef2de8b55e6907e674b8f766b3061,9f08349345dae1d67effb8494c8386dd74b94128,ths,2006-12-07,Fix build of MIPS target without FPU support.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2233 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999503254890442,MIPS,"target-mips/op.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7d600c804d79e21254a20b953d6bd175597d752d,71fb7241c65ef2de8b55e6907e674b8f766b3061,ths,2006-12-08,"Fix fstat for MIPS userland emulation, and add support for a cacheflush\nsyscall, thanks to Dave Denholm.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2234 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9992552399635316,MIPS,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a2d4e44b485222a8972ea9e555b148148c655bb9,3bcb80f1af107c25bf8c255f3ca88ac467f27a1a,ths,2006-12-10,"Fix PCI config space overflow, by Herbert Xu.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2238 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9991891980171204,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0d3267a728ee392bd5113b1d9ad3b135565012e3,8e33c08c84b9f418dee69f79e7b579c59e77814b,ths,2006-12-11,MIPS has also a fixed MMAP_SHIFT of 12.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2243 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9992632269859314,MIPS,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,179e32bbccd0b7ae2fa99e6612d1657c3b8205ae,e4630047e161ac1b23bfd37b2c52785fce49400a,ths,2006-12-16,"Fix erraneous fallthrough in MIPS trap implementation, thanks Atsushi Nemoto.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2247 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9983174800872804,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fa1fb14cd2f4f24e158b1bb284bd193e79899575,1f9584496747480020bb93ee1582d104f877ce0a,ths,2006-12-24,"Fix SCSI cdrom boot, thanks Blue Swirl.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2278 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9991673231124878,SCSI,"hw/esp.c, hw/sun4m.c, vl.c, vl.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,72742c8626a9a25dd707a4c76583cd9c9faa5942,adb4796796a073d782d0be3566f91e2489dc7065,pbrook,2007-01-17,ARM boot fix (Jason Wessel).\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2323 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999433934688568,ARM,hw/arm_boot.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8182266352df123bbe5661d14ded4ef06d866a60,54fd9cdfb468c1d701ffff168b76a433b73a95c6,ths,2007-01-17,"Fix USB buffer size, by Herbert Xu.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2328 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9994844198226928,USB,hw/usb-uhci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3ddd00658edf6c1af0c22f9cdcf963efdeda91bb,a2d1ebaf890da03de850812cc8dbec2d56efb4e8,ths,2007-01-31,"Fix 64bit-induced MIPS Malta breakage, by Aurelien Jarno.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2365 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9993576407432556,MIPS,hw/mips_malta.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,18acad9250068365340a74ea9e5201a06fb01ff4,e55744879fa56bdd257beb05de3163c917470731,pbrook,2007-02-14,ARM doubleword post-modify fix (Daniel Jacobowitz).\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2424 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.998992383480072,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,451a42127ff27a499bed22e4eef1a5c452adc311,6d2980f515c005091de0b9f4fe526e749f62c380,ths,2007-03-06,Fix typo in PCI bridge code.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2470 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999261200428009,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,35f1de319299f043132702c36ebaadfc4a15db69,451a42127ff27a499bed22e4eef1a5c452adc311,ths,2007-03-06,"Fix GT-64xxx PCI mapping, by Aurelien Jarno.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2471 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9982026815414428,PCI,hw/gt64xxx.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5fd46862e5232d1840a9353c99b163f11b49a035,214201bdd4e41ec9748a434a68fa8f6fcc57bd49,pbrook,2007-03-17,ARM register index+writeback fix (Lauro Ramos Venancio).\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2481 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994850158691406,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8294eba18726b897c6a497b36ecd74a793f90523,ee999a8899ba8c6326cda4e2e70bb52b284cf7bb,ths,2007-03-19,"SPARC host fixes, by Ben Taylor.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2503 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996328353881836,SPARC,"target-arm/exec.h, target-mips/exec.h, target-sparc/exec.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dcfb90144bd83a13e24f214e0c4a1b0b55067289,8294eba18726b897c6a497b36ecd74a793f90523,ths,2007-03-19,"SCSI fixes, by Wang Cheng Yeh.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2504 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996026158332824,SCSI,hw/lsi53c895a.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,faab7592c76ea67c970708c1cb64757bb178062e,9bb234b3b170299c39c9e88cfe7da5434a92d99d,ths,2007-03-19,"Fix call to generated code on SPARC, by Juergen Keil.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2511 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.999338448047638,SPARC,cpu-exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1c6e907082cf00c483be24612c9c4504446f09e1,d537cf6c8624b27ce2b63431d2f8937f6356f652,blueswir1,2007-04-07,Fix TCX base on SS10\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2636 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994649291038512,TCX,hw/sun4m.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,069dd10acf3e3109d119ffe02282b67f4bce5c44,6ecd45348408054bd7afa43a95ed5d47ba3c2809,pbrook,2007-04-09,ARM IRQ fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2639 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999315619468689,ARM,hw/pl190.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e9df014c0b433ecd9785db4a423e472bc3db386a,682c4f15598fa82eb00973b9b14be86d1e5a726c,j_mayer,2007-04-09,Implement embedded IRQ controller for PowerPC 6xx/740 & 750.\nFix PowerPC external interrupt input handling and lowering.\nFix OpenPIC output pins management.\nFix multiples bugs in OpenPIC IRQ management.\nFix OpenPIC CPU(s) reset function.\nFix Mac99 machine to properly route OpenPIC outputs to the PowerPC input pins.\nFix PREP machine to properly route i8259 output to the PowerPC external\n  interrupt pin.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2647 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9828636050224304,PREP,"cpu-exec.c, hw/openpic.c, hw/ppc.c, hw/ppc_chrp.c, hw/ppc_prep.c, target-ppc/cpu.h, target-ppc/helper.c, target-ppc/translate_init.c, vl.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b48cfdffd9f15432355c8e4ed9d2781eab9e4358,2423f6601a19fa0ac4eac360de9d3fe80a18d715,ths,2007-04-11,Throw RI for invalid MFMC0-class instructions. Introduce optional\nMIPS_STRICT_STANDARD define to adhere more to the spec than it makes\nsense in normal operation.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2650 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9982806444168092,MIPS,"target-mips/mips-defs.h, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5c8cdbf833511c1d078642d08bc3248130d7c76f,18c6e2ff5adc016031566f409382417f6fde626d,blueswir1,2007-04-17,TCX palette bug fix\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2695 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996596574783324,TCX,hw/tcx.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c73c3aa081cae0e565b8669ad7fba192749f8397,cf2d385c43b4387bec5a546c9b85ac654273cfa3,pbrook,2007-04-29,Fix ARM fine pagetables.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2742 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9853840470314026,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9e61ec315374120c92cc7a20e1e078b89b217e69,2a1d1880e53d25fbec0e5d3f29f86cf65ad06241,pbrook,2007-04-30,PL050 status register fixes.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2759 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996540546417236,PL050,hw/pl050.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a6763a588127d8b0f7e64312e9153c6c6bae822f,204a1b8d5ec12af7f0e4757f51802672fc2e6681,ths,2007-05-09,"Fix MIPS64 address computation specialcase, by Aurelien Jarno.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2793 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9941691160202026,"MIPS, MIPS64","target-mips/op.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,976a0d0d0d8f8a6f5ba3ac097e8bc4429bd370ae,9e315fa93c14d6da7dc5b8fef193a671b51defd8,ths,2007-05-10,Fix wrong branch condition in MIPS testandset.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2798 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.99949848651886,MIPS,exec-all.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a07dec2212d6ba9751dd1dac2b3f4b560325fee0,b645bb48850fea8db017026897827f0ab42fbdea,balrog,2007-05-12,Correct NAND erase block size.  Misc fixes in Spitz code.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2806 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9978368878364564,NAND,"hw/nand.c, hw/pxa.h, hw/pxa2xx.c, hw/pxa2xx_lcd.c, hw/spitz.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f1b0aa5de7f48650aa6260d5dfb8ece1899e286c,6b4d2ba13f597328161b1156e1fe0df820a90df2,ths,2007-05-13,"Fix mfc0 and dmtc0 instructions on MIPS64, by Aurelien Jarno.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2819 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9938151836395264,"MIPS, MIPS64","target-mips/op.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f469b9db01a1287ae8946159beace6285c2e213a,5d46d55d4b0f2be4ff7f553013fca4f7980549ab,ths,2007-05-19,"Fix slti/sltiu for MIPS64, by Aurelien Jarno.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2833 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.999251663684845,"MIPS, MIPS64","target-mips/op.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3a5b360dac4ce1900e1cb19b7ad870086936869c,5f30d62c261e0808e3135a3c75beb761f4d2a1c9,ths,2007-05-20,"Catch more MIPS FPU cornercases, fix addr.ps and mulr.ps instructions.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2841 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9984427094459534,MIPS,"target-mips/op_helper.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9b9e4393dd08481530f8d6389ed0ac64405aa4fa,4020f27707e748a2da58de72461dc1befd6bc9c5,ths,2007-05-28,"MIPS64 addressing fixes, by Aurelien Jarno.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2888 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995750784873962,"MIPS, MIPS64","target-mips/op.c, target-mips/op_template.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e35846583b6aaa4ac7f6ac90139d0952f2dee2d8,a7037b2950629ab1a305a7f5c6909e749d72b5d0,ths,2007-06-01,"Fix struct stat mapping for MIPS, by Stuart Anderson.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2906 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.999303936958313,MIPS,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6d9db39cd9c31084ab782f6ffd2d67e606fb0802,d315c8886b72b6ff8abfd43471449ac59da1f35a,pbrook,2007-06-03,MCF5208 timer fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2926 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999588429927826,MCF5208,hw/mcf5208.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d4a4d056eacb34265481d888c67f5667fc9be8ca,3187ef0390b049ee75bf806f13f6e5004e382c03,ths,2007-06-07,Fix PCI irq mapping on Malta.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2951 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9120023846626282,PCI,hw/gt64xxx.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f78cf0c442549e32c877ce37b4201af03e19a43,1823082ccc32394fe2788b6b545fd080d60bb7e7,ths,2007-06-07,Fix some Malta PCI config bits.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2955 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9993605017662048,PCI,hw/gt64xxx.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6361cdb630afa036dcff8586735c38d1aca55a7c,70cf0b63f106e6de33326b47c485d0624831f237,pbrook,2007-06-09,ARM PL181 MMCI fixes.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2964 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999117910861969,"ARM, PL181",hw/pl181.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,33d9cc8a9691157fd99b681a5122f734522fc63a,6361cdb630afa036dcff8586735c38d1aca55a7c,pbrook,2007-06-09,ARM GDB semihosting fixes\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2965 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9991995692253112,ARM,arm-semi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0cf5c6771b216793d1fe57d25864d842570f32f6,87ee166914e2d886b982a8d9e55c16b09a09a180,pbrook,2007-06-09,M68K status register fixes.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@2967 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996500015258788,M68K,"target-m68k/op.c, target-m68k/op_helper.c, target-m68k/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,175087965268c2792cf6bbb524dbccaadcf1fca4,e3b60f1d9e1f73e75095e885af66473400bef8aa,blueswir1,2007-06-28,"Update Sparc32 and Sparc64 OpenBIOS image to SVN revision 157. Changes:\nr150: Try to fix system reset for SMP and SS-10 cases\nr151: Fix obp_dumb_memalloc\nr152: Fix mapping more than 2G memory\nr153: Get a real memory allocator for Sparc, based on PPC ofmem\nr154: Update totavail when memory is allocated by dumb memory allocator\nr155: Fix pop_fstr_copy memory leaks\n- console one prevented Debian 3.1r1 from installing in console=prom mode\n- fixing this also needed the real malloc/free\nr156: Hack for building on CIFS directory\nr157: Allow boot start PC to be different from virtual location (boot mode)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3029 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9991338849067688,PPC,"pc-bios/README, pc-bios/openbios-sparc32, pc-bios/openbios-sparc64",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,64075cd76a1d78f37e4e436bd1e7d2376f6bd7c9,e735b91cd44e5dafb83ed4158a4c6721c0b289aa,pbrook,2007-06-30,PL110 versatile register hack fix (Adam Lackorzynski).\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3036 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995369911193848,PL110,hw/pl110.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3c4c9f9f51599845fba61240aba0f38485df7c14,81442192975a7badff6c8abcd7c800ef4c552470,ths,2007-07-11,Fix PPCEMB for 32bit hosts.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3059 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994049072265624,PPC,"target-ppc/cpu.h, target-ppc/exec.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c19dbb9426a34a8e8cfdc5c285e8562ff3fe4f7a,4cae1d16396f4a2827d5cafaaf232698588ade55,ths,2007-07-12,"Fix crash in set registers in PPC gdb-stub, by Jason Wessel.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3079 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9994640946388244,PPC,target-ppc/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ae5d8053a124508650140fc72cccf9f2bd131871,c3d2689d88159291ef8af338b5f01cfbe5551d2c,ths,2007-07-29,"Fix MIPS cache configuration, by Aurelien Jarno.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3092 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.999338448047638,MIPS,target-mips/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cfa0b71dd84977b9378a9100b759739ef9220ac6,724d3a8f2932f90e3527752f4b59f3607ceeb863,balrog,2007-07-31,Fix OMAP pic handling of simultaneous interrupts.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3095 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995405673980712,OMAP,hw/omap.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8c2cc7cecbb720e5be9db72dab17f659e5dbfe22,0975c30454de8e64d62d6a9360d7180f2e8d4e10,ths,2007-08-26,"SH4 mov.b fix, by Vince Weaver.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3152 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995997548103333,SH4,target-sh4/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3608160206ed55c35be916df0f5d43dccc183513,3b46e6242767a2c770c0aba0a6595e9511623c92,j_mayer,2007-09-17,"Coding style fixes in PowerPC related code (no functional change):\n- avoid useless blanks at EOL.\n- avoid tabs.\n- fix wrapping lines on 80 chars terminals.\n- add missing ';' at macros EOL to avoid confusing auto-identers.\n- fix identation.\n- Remove historical macros in micro-ops (PARAM, SPARAM, PPC_OP, regs)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3178 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.999395489692688,PPC,"hw/ppc405_uc.c, hw/ppc_chrp.c, hw/ppc_prep.c, target-ppc/cpu.h, target-ppc/exec.h, target-ppc/helper.c, target-ppc/op.c, target-ppc/op_helper.c, target-ppc/op_helper_mem.h, target-ppc/op_mem.h, target-ppc/op_template.h, target-ppc/translate.c, target-ppc/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e3b9808535376bff99343c8a61726059a965198e,e3878283def049b072ae47b8ee123ef6618ca2fc,ths,2007-09-27,"Build fix for PowerPC hosts, where ""PPC"" is a predefined macro name.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3251 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9988954067230223,PPC,target-ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,418d7c7169818bce67a570fdc86ffb613f53263a,df0d37366561d8f23703cd7cf754fefde79e618c,ths,2007-09-28,"Fix MIPS FP underflow handling, spotted by Daniel Jacobowitz.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3255 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9964064955711364,MIPS,target-mips/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9278480e8f9155fc3b3ce459efd12b500a611b7f,7385ac0ba2456159a52b9b2cbb5f6c71921d0c23,ths,2007-10-23,Fix CLO calculation for MIPS64. And a small code cleanup.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3428 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9990291595458984,"MIPS, MIPS64",target-mips/op.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7ac256b8725304aabae78bf012c25b6416509c46,d8871c5a490c29c579bf981b955d9d3f970e15bd,ths,2007-10-25,Fix gdb stub for MIPS64.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3435 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994763731956482,"MIPS, MIPS64",gdbstub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8c9d7f83bf1f2d61f0fdd5fbc030ab67c8f433e7,ef397e88e96d4a798bd190bcd0c43865c3725ae2,j_mayer,2007-10-29,Fix PreP PCI IRQ mapping.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3483 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9961812496185304,PCI,hw/prep_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e616a7e821c477fdb88cc422a8d925e0028e93b5,ab3d1727d126525284843a7c00cdb4de867d98e2,j_mayer,2007-11-04,Fix grackle (in fact MPC106) PCI host bridge header\n to avoid confusing firmwares and OSes.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3526 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9962045550346376,PCI,hw/grackle_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d8f699cb32c8c418b65aa6a2c252e097ae4716ae,bfa30a38968c204725a007e6cf845178231d3645,balrog,2007-11-04,"Zeroing ITR shouldn't ack irq zero.\nFix PWT & PWL clocks, fix user refcounting for clocks, add 'hsab_ck' and 'usb_w2fc_ck'.\nFix TCMI register addresses.\nImplement OMAP McBSP controller and connection to I2S-compatible CODECs.\nAdd audio support for TSC2102 as an I2S CODEC.\nConnect TSC2102 I2S interface to CPU's McBSP1 interface in the Palm Tungsten|E.\nCorrect '>' instead of '>>' typos.\nImplement GPIO PIN_CONTROL register (not in OMAP310 TRM, from OMAP1510).\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3534 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9879528880119324,OMAP,"hw/omap.c, hw/omap.h, hw/omap1_clk.c, hw/palm.c, hw/tsc210x.c, vl.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,87283515f5fe66fa382fa7296cb0063acbf37338,3f9b2b1f6358ec1a19bee6d8a9dd2c3faa81c293,balrog,2007-11-13,Fix signed/unsigned comparisons in OHCI host.\nADS7846 is partially compatible with TSC2046.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3635 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9939593076705932,ADS7846,"hw/ads7846.c, hw/usb-ohci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5a6932d51d1b34b68b3f10fc5ac65598bece88c0,7863667f35531557f10e7f920e4361f621a14e3f,ths,2007-11-16,Fix NaN handling for MIPS and HPPA.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3655 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994165897369384,"HPPA, MIPS",fpu/softfloat-specialize.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c6d6dd7c74aaf8ca156d4589adff060078ec20ef,8c89395eebc4c88e35949b3310254f0d893379c5,ths,2007-11-18,Fix MIPS64 R2 instructions.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3686 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9986866116523744,"MIPS, MIPS64","target-mips/op.c, target-mips/op_helper.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fca743f307526ffc561d948eda584788c40ece83,f9d43072e25715911b3ef7594132e4f87ead8ba0,ths,2007-11-20,"SH4 Fix missing 6th arg of syscall, by ""takasi-y"".\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3711 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9986581802368164,SH4,linux-user/main.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,67d6abff605064317d1922745b2e99ffc57b4a77,89dfe8980524218f99a8513f6e18dd8478e72d36,ths,2007-11-22,"Fix off-by-one address checks in MIPS64 MMU, by Aurelien Jarno.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3718 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.999026894569397,"MIPS, MIPS64",target-mips/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e57ec0168ce21cdda48ddf45d77b76185667d9e6,aae9366a036b813d58fad2d99d28a2a478109f75,pbrook,2007-11-24,ARMv7-M SysTick fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3727 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9990150928497314,ARM,"hw/arm-misc.h, hw/arm_gic.c, hw/armv7m_nvic.c, hw/stellaris.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9c2b428ee169dfbc92664f06e466a8bb0f45c702,66d4557ec6acbb8d56899ea808f246e593686895,blueswir1,2007-11-28,Fix compilation and warnings on PPC host\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3746 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999567449092865,PPC,"target-sparc/exec.h, target-sparc/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f2df526058b5815111aabca8db01f427891f006e,106627d0a036f9ebe523c648686b087eb8888355,balrog,2007-12-06,"Correct my 'thinko' in OMAP interrupt handler commit, fix by Lauro Ramos Venancio.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3775 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9902504682540894,OMAP,hw/omap.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf6d911814c0278c1dae48b78359ee90215a13e6,2e8c191795768429b7f621b17b0194f2298668c0,balrog,2007-12-10,Fix OMAP1 MPUI/O keyboard interrupt masking.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3796 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9992945194244384,OMAP,"hw/flash.h, hw/omap.c, hw/pflash_cfi02.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,52df269ca821e8bed49ae2d46fe67486f3ef88de,12abac853d38600847c1be2ccf90a67691a3588a,blueswir1,2007-12-11,Update OpenBIOS images to SVN revision 181. Changes:\nr177:\nReset fixes:\n * recalculate CRC to avoid error message and halt after reset\n * fix bug that crashed SS10/SMP when reset\nr178: Remove unused variable\nr179: Improved Module ID generation\nr180: Add support for eccmemctl\nr181: Add support for SPARCstation 20 machine type\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3804 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9902055859565736,SPARC,"pc-bios/README, pc-bios/openbios-sparc32, pc-bios/openbios-sparc64",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a139a3ad233e81c75eab9c5671934f4f79623147,05ebd537300ce858e4f98e5582d1140b0201adc6,ths,2008-01-09,Fix typo which broke MIPS32R2 64-bit FPU support.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3902 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9989674091339112,MIPS,target-mips/exec.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,45e4522e2e44651231551d8198a25efae716ab2b,59faef3a48648be8b2b88868d9897e710ce88a4e,balrog,2008-02-03,Fix VMware VGA init call (Anthony Liguori).\ns/vga_ram_size/vga_ram_addr/\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3957 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.7378029823303223,VGA,hw/pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2ba1eeb62c29d23238b95dc7e9ade3444b49f0a1,41df841110c6102ee20faae9a172e69a5d4a7f2d,pbrook,2008-02-10,Fix TCG relocation bug (exposed by fault after brcond op).  Add FIXME for\nannother potential bug.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@3968 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996415376663208,TCG,"tcg/tcg.c, tcg/tcg.h, translate-all.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7e8c2b6ca8bed50375fb5bb3363d46588c526ef9,dcf2490568c4515e9431abc7d61389f86e065b52,blueswir1,2008-03-04,"Convert float helpers to TCG, fix fabsq in the process\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4014 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9926685094833374,TCG,"target-sparc/exec.h, target-sparc/helper.h, target-sparc/op.c, target-sparc/op_helper.c, target-sparc/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a3ffaf3060e70b036ac082f0772eb7b814f865ed,a526a31cb4e02ecdf81c26c3f2f97db4a6089418,blueswir1,2008-03-06,Fix microSPARC II SFSR mask (Robert Reif)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4021 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.997633457183838,SPARC,target-sparc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c6c99c3f175fa3f7e0d27c57c32b7029648a7407,5567025f5352b7177f7040f40c200c6a66aa1cd2,aurel32,2008-03-10,"GT64XXX: fix endianness issues:\n\n- Byte swapping for internal GT64XXX registers is controlled by the bit\n  12 of the Configuration Register and not by the PCI Internal Command\n  register.\n- The bit 0 of the PCI Internal Command register controls byte swapping\n  for PCI access *except for the internal PCI device*, that is when both\n  bus and device numbers are 0.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4035 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9997043013572692,PCI,hw/gt64xxx.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,24988dc24169b581fe6563d7ed619bd50a2af40b,0954d0d9e242b4bc122eeaefb8825cc8f8eb3ab5,aurel32,2008-03-11,"SH4, fix several instructions\n\nfix instruction code for frchg, fschg, ocbp.\nfix addressing mode handling for @Rn+, @-Rn, @(disp,gbr).\nfix operation for div0s.\nfix comments for mov imm, add imm, @(r0+,gbr), mac.l @Rm+,@Rn+.\nfix ldb to ldub for or/tst/xor.b #imm,@(r0,gbr).\nadd fmov extended operations.\nadd fcmp/eq, fcmp/gt, fneg, fabs, fsqrt, fcnvsd, fcnvds.\n\n(Takashi Yoshii)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4040 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996871948242188,SH4,"target-sh4/op.c, target-sh4/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a208e54a2f97494ccb5f7ba0b852cc1e308ab668,663715fbe2f63d651458179952f70769ab38f6f9,pbrook,2008-03-31,TCG op size estimation fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4154 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996448755264282,TCG,"exec-all.h, exec.c, translate-all.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6fbe23d50ed24044ac2d12281b0e7d580a2374d9,f5d28393ca6303c7470d95c2360d8c76b5bbdfdc,pbrook,2008-04-01,ARM N=Z=1 flag fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4156 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995428323745728,ARM,"target-arm/cpu.h, target-arm/helper.c, target-arm/op_helper.c, target-arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2408b77bca21cf32cf9645cc125fc85524f7b3f8,95b010094c80d4af21b9b6fc1cfb4499bcd697d2,aurel32,2008-04-04,vmwarevga: fix PCI IO region registration\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4161 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994630217552184,PCI,hw/vmware_vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,72f1c62f7dc24546abafe873d0aeaa2a545c0033,6c95676b16dcabd69ad9a57c0a9ec4878d3d0e3d,balrog,2008-04-13,Fix ARM and Thumb ldlex/stlex.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4202 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9990124702453612,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,35c4d671ebfa9509ba915188836070717088bd13,3bee8bd013bf92f81f5826f75e72f48b6a017150,aurel32,2008-04-13,"Fix keyboard emulation for ARM versatile board:\n- 0xab is actually a keyboard reply. It should not be escaped.\n- Because of translated value 0x41, translated to raw conversion is not\n  a bijection. Instead of creating two translation tables, test for\n  s->translate before writing this value.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4209 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9961053729057312,ARM,hw/ps2.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,66230e0dee3f29107402d25f2f867006ea5f593f,9c9bb6c89d4aa9a86cc6eb78921138ff8db5a1b3,balrog,2008-04-20,Correct more ARM VFP 32/64 and signed/unsigned typos.\n\nFixes unreadable fonts in Maemo guest.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4221 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.998336136341095,ARM,"target-arm/helper.c, target-arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b29d8ae4d40a3cd1e3e6ca8810ed8cd8d93af46a,2408a5273fb328a63c7238d4441d8a98dfa48460,aurel32,2008-04-20,fix dyngen on HPPA hosts\n\n(Stuart Brady)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4227 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995546936988832,HPPA,dyngen.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,678803abe6d74efcf5e46a5d616849cedae247dd,b1fa716443d9854ce6745139cce5c12895882cd1,blueswir1,2008-04-29,"FDC fix 1/12 (Herv Poussineau):\n- Adds a command lookup table, as suggested by Fabrice at http://lists.gnu.org/archive/html/qemu-devel/2008-04/msg00143.html\n- This also moves initialization functions at the bottom of the file to prevent multiple forward declarations.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4281 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995654225349426,FDC,hw/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,746d6de7fef4c92f31c8e70c826ee63b2b6936b9,678803abe6d74efcf5e46a5d616849cedae247dd,blueswir1,2008-04-29,FDC fix 2/10 (Herv Poussineau):\n- Extract seeking to next sector handling in a function. Add a sector seek in PIO read and write modes\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4282 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9989401698112488,FDC,hw/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8c6a4d7742b12994791f33da17283d90f1278926,746d6de7fef4c92f31c8e70c826ee63b2b6936b9,blueswir1,2008-04-29,FDC fix 3/10 (Herv Poussineau):\n- Fixes status A and status B registers. It removes one Sun4m mutation. Also removes the internal FD_CTRL_INTR flag.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4283 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999705135822296,FDC,hw/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,368df94d16c030482adeae6b9d18220d9ad5fae3,8c6a4d7742b12994791f33da17283d90f1278926,blueswir1,2008-04-29,"FDC fix 4/10 (Herv Poussineau):\n- Handles correctly FD_MSR_NONDMA/FD_DOR_NONDMA flags, and uses them when possible. Fixes a problem with SPECIFY command.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4284 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9997263550758362,FDC,hw/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1c346df2a2992339609338d900bc919cf152ed85,368df94d16c030482adeae6b9d18220d9ad5fae3,blueswir1,2008-04-29,"FDC fix 5/10 (Herv Poussineau):\n- Better handling of DOR register. DOR register drives external motors, but it not limited to existing drives.\n- Use FD_DOR_nRESET flag instead of internal FD_CTRL_RESET flag.\n- Support writing to DOR register even in reset mode (as said in specification)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4285 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9992727637290956,FDC,hw/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b9b3d225163a07978d649af0bb560eacacf61b1a,1c346df2a2992339609338d900bc919cf152ed85,blueswir1,2008-04-29,"FDC fix 6/10 (Herv Poussineau):\n- Stores controller state in MSR register instead of internal state field. This simplifies the fdctrl_read_main_status() function, which may be called in some tight loops.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4286 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995660185813904,FDC,hw/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,77370520924697c6deb6964a7328f7fceaaecc17,b9b3d225163a07978d649af0bb560eacacf61b1a,blueswir1,2008-04-29,FDC fix 7/10 (Herv Poussineau):\n- Removes useless fields in fdrive_t structure.\n- Adds a message when bdrv_read/bdrv_write calls fail.\n- Rename int_status to status0.\n- Replace some constants by value names.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4287 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9961100220680236,FDC,hw/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,46d3233ba00f68e3d23a12d7428d8f53a66b12c9,77370520924697c6deb6964a7328f7fceaaecc17,blueswir1,2008-04-29,FDC fix 8/10 (Herv Poussineau):\n- Replaces bootsel field by the whole tdr register. It may be easier if we want to later add support for tapes.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4288 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9956054091453552,FDC,hw/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,78ae820cfeb04cb05b25bc024c4736cd80bf0007,46d3233ba00f68e3d23a12d7428d8f53a66b12c9,blueswir1,2008-04-29,FDC fix 9/10 (Herv Poussineau):\n- Supports up to 4 floppy drives if MAX_FD is set to 4.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4289 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996175765991212,FDC,hw/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cefec4f5dc137427a92d927cb1d3347980f28d07,78ae820cfeb04cb05b25bc024c4736cd80bf0007,blueswir1,2008-04-29,FDC fix 10/10 (Herv Poussineau):\n- Replaces access to cur_drv field by macros.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4290 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.8196788430213928,FDC,hw/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b3bc154098f211db7014de151c79b4234ae5029b,6ef05b95462b46a1a885f390b55eaf632f52ec70,blueswir1,2008-05-01,"FDC: Fix buffer overflow (Herv Poussineau)\n\nIn floppy controller, programming PIO writes which are more than one sector\nlong leads to a buffer overflow of the fdtrl->fifo[] array.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4293 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996659755706788,FDC,hw/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,771effeb8d49aaf4d1a39c0be5e4b722d22427ec,b3bc154098f211db7014de151c79b4234ae5029b,blueswir1,2008-05-01,"FDC: Fix data transfer len (Herv Poussineau)\n\nIn floppy controller, transfer data len is not correctly calculated.\nWe should read up to the last sector specified by the caller, and not up to\nthe last sector of the floppy.\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4294 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995229244232178,FDC,hw/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5b2808bfc06279db6a56942f3f6119c23ae07f42,50cfa95cbd6d0ab896530f7af07a4d5e7539ddc0,ths,2008-05-03,"Fix MIPS MT GPR accesses, thanks Stefan Weil.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4307 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9978132247924804,MIPS,"target-mips/op.c, target-mips/op_template.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1534272158814dbd860d0ab98e76a6fdaa0d5857,8dd3dca351738769f804dcb0feda4b39f3530826,aurel32,2008-05-04,Fix spurious VGA updates\n\n(Samuel Thibault)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4328 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9981189370155334,VGA,hw/vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fd501a05c6024f1d0c8963c139093848465b3aba,cfa2af1fe1d4624de35684c77be66b8ced47b264,aurel32,2008-05-05,PPC: fix isel opcode decoding\n\n(Tristan Gingold)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4345 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995670914649964,PPC,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b7ef7bf225416c2d4b9a730feec746c5b60e9655,5b9a1293beb0a71c8b2446ace77fea69d66cc0e1,ths,2008-05-06,Fix MIPS64 branches. Funny how this survived testing.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4355 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9990543723106384,"MIPS, MIPS64",target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b8b137d6f0aa8e14cce4b5e756e62c2d1fe2e47d,4eee57f57e8dc534c1a21181e01c3fb928873a5e,balrog,2008-05-06,Fix OMAP1 MPU-timer rate on 32-bit hosts.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4360 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9993842840194702,OMAP,hw/omap1.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f9320410e1c3bc0c2bdd6ea97c5c0c57212cec19,b8b137d6f0aa8e14cce4b5e756e62c2d1fe2e47d,aurel32,2008-05-06,PPC: fix definition of msr_spe\n\n(Tristan Gingold)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4361 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.997936487197876,PPC,target-ppc/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,894efddb50a4531cbeaf2e2b0a1832133d1ef34d,f9320410e1c3bc0c2bdd6ea97c5c0c57212cec19,aurel32,2008-05-06,PPC: fix efstst* instructions\n\n(Tristan Gingold)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4362 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999592125415802,PPC,target-ppc/op_helper.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,981564234797ba0f948f28e35284f0730c34a059,ec5b78cdc9cc8585bd9f85b0cdd4db0cd5c49e13,pbrook,2008-05-10,Fix DEBUG_TCGV.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4415 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994600415229796,TCG,tcg/tcg-op.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8cbcb4fa2c6d5fb84552ab141c6e35d33323aa18,33759846482cc4a3a0398972bf942fecd0fd78db,aurel32,2008-05-10,Fix broken PPC user space single stepping\n\n(Jason Wessel)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4421 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995599389076232,PPC,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b8b6a50b552e1ddb9f0c563cbfb6f67aa0330b64,6e01bdaedc3fc42c88672fafe960d3371dabb63e,bellard,2008-05-15,converted more helpers to TCG - fixed some SVM issues\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4459 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994871616363524,TCG,"target-i386/TODO, target-i386/exec.h, target-i386/helper.c, target-i386/helper.h, target-i386/op.c, target-i386/ops_sse.h, target-i386/ops_sse_header.h, target-i386/ops_template.h, target-i386/svm.h, target-i386/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bbf662ee31cbd2dcd4fa7f469ad7e16f78e1acfa,7d03f82f81e0e6c106ca0d2445a0fc49dc9ddc7b,bellard,2008-05-17,MONITOR insn address generation fix - converted XLAT to TCG\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4479 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9895100593566896,TCG,"target-i386/op.c, target-i386/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d4929d58a16ee67925d6962e0f5294f12c598562,c9e1e2b0ac300d0c2abd6d1f38207b7749b40b49,blueswir1,2008-05-18,Fix TCG alignment problems on Sparc64 host\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4485 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996410608291626,TCG,tcg/tcg.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,95af5ce5e21d789d3f3a8291585d5e67fc5e6bb5,42388c4ba7207ae49b58093a66a1f27267b7ede5,ths,2008-05-23,Fix build failure for MIPS64 targets on 64-bit hosts.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4536 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9992284774780272,"MIPS, MIPS64",target-mips/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb63669a54fdd926da7d07768f21f515acd4ad2a,455f9004866c2f1fd630f09a18353501dea5a77e,pbrook,2008-05-24,Fix ARM conditional branch bug.\nAdd tcg_gen_brcondi.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4552 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994981288909912,ARM,"target-arm/translate.c, target-cris/translate.c, target-i386/translate.c, target-mips/translate.c, target-sparc/translate.c, tcg/tcg-op.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bcb0126ff44a59e636c89b0b191e7203c83ff29f,cb63669a54fdd926da7d07768f21f515acd4ad2a,pbrook,2008-05-24,More TCGv type fixes.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4553 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995720982551576,TCG,"target-sparc/translate.c, tcg/tcg-op.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e6bb7d7efd76a8aeed5300e72481646e4d2b4d7e,2784847001ba054a2912460f9735fd4497327d02,ths,2008-05-24,"Fix mov[tf].ps handling for MIPS, by Richard Sandiford.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4563 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9993684887886048,MIPS,"target-mips/op.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3979144c49d62d23c4a31a07cf8282217ed3dde3,e6bb7d7efd76a8aeed5300e72481646e4d2b4d7e,pbrook,2008-05-24,Fix ARM host TLB.\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4564 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9986286163330078,ARM,tcg/arm/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8d96d20941f578e7ed3f4d8f1548116a96cd865a,f3f478a7efe9dc76325d0c774ca2e728d465bbe0,blueswir1,2008-05-26,More TCG type fixes\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4589 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996726512908936,TCG,target-sparc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,84774e8ea3259d05036678e29936013d6c7eeff7,e30b46789326eaa7fb1f870f0c7d964263851216,ths,2008-05-29,"Fix modulus result from MIPS DDIV & avoid overflowing division,\nby Richard Sandiford.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4619 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9986695051193236,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a4a99d71b29ef6e506feeabc119e8ddf8490b07b,90cb786c417403b15dcc28cf239913bc92a59cb6,ths,2008-05-30,Fix for 32-bit MIPS.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4622 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999506950378418,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,091d055b3e6cab13ac3d6b151fcacdcfc059f03e,a60de94777518d1324817050b297aa12c5ab264a,balrog,2008-06-02,"Fix ATAPI GET_CONFIGURATION function (Alexander Graf, Carlo Marcelo Arenas Belon).\n\nThe current implementation of GET_CONFIGURATION in the ATAPI stack of qemu\nreplies a different length depending on the buffer, the data should be\nwritten into.\n\nOn the other hand the SCSI spec defines that length information has to be\nconsistent and independent of return buffer lengths.\n\nThis patch makes the ATAPI emulation behave according to the spec and fixes\nthe Darwin DVD driver.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Kevin Wolf <kwolf@suse.de>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4649 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9997289776802064,SCSI,hw/ide.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b6ce8f0aead41b263b28f94d9c34d824e4987be8,9575cb94930895225ec1f6538ba1f74dda0342aa,ths,2008-06-04,Fix pointer calculation for MIPS64 targets.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4665 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.99954754114151,"MIPS, MIPS64",target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0a878c4760718e1604e2cfe423252729716110ad,1a14026e11b9baaf5050b0bed947e1b57f10ca08,malc,2008-06-07,"PPC TCG Fixes\n\n* Fix typo in aliased div2\n* ""Optimize"" aliased div2/divu2\n* Fix two remaining branch retranslation problems\n  (Kudos to Andrzej Zaborowski)\n* Rework goto_tb and set_jmp_target1\n* Use correct size when flushing icache\n* Use correct register selection for ORI\n  (Was harmless since in both cases srcreg was equal to dstreg)\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4691 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996217489242554,"PPC, TCG","exec-all.h, tcg/ppc/tcg-target.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,398ce98e4f4286370d97a7e51b01bf6334c3b65e,0f459d16c378128a586cf161526721a81b629405,malc,2008-06-09,"Fix div[u]2.\n\nPrevious code assummed 32 by 32 bit divmod operation, and survived\nx86_64 test only by sheer luck. MIPS wasn't so forgiving.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4705 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9988818764686584,MIPS,tcg/ppc/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e4bb997e06669b0a9990a5d7c9c14c77c945aeb9,2ecea9b8de5cd74df314541b87f712ae77f862ec,aurel32,2008-06-18,PPC: fix mtfsfi\n\n(Tristan Gingold)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4748 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995356798171996,PPC,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,33b6939fcb932a73965dc545c907f8e6bdd1b0cf,d978c02c311e833059b9d64487e37a5d0253a30b,blueswir1,2008-06-19,Fix crash when returning from monitor or serial console to normal TCX view\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4750 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999512791633606,TCX,hw/tcx.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ab19b0ecfddf94ae2053b973cea5a58c8dac0363,9277bc72cf9be32f7a7c1a6353d29da34bafe0d0,pbrook,2008-07-02,ARMv7-M interrupt stack alignment fix.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4823 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9988736510276794,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7997d92f2c75cf56e8142be8e4c1fb5b8dbcc2a4,22478e79f2793aa1bc7a5019ae2e48303573e0d5,balrog,2008-07-19,"ARM: fix CPS masks (Vincent Palatin).\n\nAccording to ARM Reference Manual (DDI0100 A4.1.16),\nbit 5 is fixed to 0 (bit 4 is the MSB of the mode), so the instruction mask\nshould be  0x0ff10020 not 0x0ff10010.\nBesides, mmod flag is bit 17 (b14 is SBZ)\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4899 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996898174285888,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a87aa10b85dcaf8e1a4cc962edbd562a96f78650,7997d92f2c75cf56e8142be8e4c1fb5b8dbcc2a4,balrog,2008-07-19,"ARMv6: fix SIMD add/sub carry flags (Vincent Palatin).\n\nAfter a quick code review, it seems to be a bad cut-n-paste between\n16-bit and 8-bit UADD/USUB, indeed UADD8/USUB8 tries to set GE bits by\npair instead of one at a time.\nBesides, the addition operations (UADD8/UADD16) set GE bits to ""NOT\ncarry"" instead of ""carry"" (probably once again due to a copy of the\nsubstraction code which sets flags to ""NOT borrow"")\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4900 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996989965438844,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3d5be8709be245c7631a65753666aaea3cae2342,50366fe93abf603989e41339701d05fe0786c0e7,ths,2008-07-21,"Fix logging output for MIPS HI, LO registers, by Stefan Weil.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4916 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.99882835149765,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f451387ac0127b076563fa5bce26e1c2763ccbbd,c19148bd8f5c2800265372d3554035efde1c5517,balrog,2008-07-25,Fix OMAP GPMC register offsets and SYSCTL 8bit io (Kyungmin Park).\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4943 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9967292547225952,OMAP,hw/omap2.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,301f6d903a68a6595b5ec5520d9fc2fc3d698fa3,e97b640d471ed15bc35ce4784c2d93eb369d3ba0,malc,2008-07-27,"Fix the opcode value of LWA\n\nThat should teach one to not blindly trust documentation that will\n(out of the blue) use decimal and binary representation for numbers in\nthe same chart for no apparent reason and without any prefixes, sigh..\n\nUnbreaks MIPS.\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4954 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.999224066734314,MIPS,tcg/ppc64/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1a7de94aa40729b4d7ed8f37c642304866232f40,b614106a170f77fc83ce9eb3ab0eb88379ee7161,aurel32,2008-08-21,"De-assert PIC IRQs properly at APIC level\n\n[ Taking latest isapc changes into account. ]\n\nEnsure that PIC-delivered IRQs are properly de-asserted in case the APIC\nis in EXTINT or FIXED mode (with level-triggering selected) on LINT0.\nFixes EFI-BIOS boot issues.\n\nThis patch also cleans up a bit the interface between PIC and APIC,\nmaking apic_local_deliver private again.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5041 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9993519186973572,APIC,"hw/apic.c, hw/pc.c, hw/pc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1f3870ab242018b724b845957f7f928a2d7c1f5b,cd01b4a312248dd4e12c3d389d1a349cea4015d8,aliguori,2008-08-21,"husb: support for USB host device auto disconnect (Max Krasnyansky)\n\nI got really annoyed by the fact that you have to manually do\nusb_del in the monitor when host device is unplugged and decided\nto fix it :)\n\nBasically we now automatically remove guest USB device\nwhen the actual host device is disconnected.\n\nAt first I've extended set_fd_handlerX() stuff to support checking\nfor exceptions on fds. But unfortunately usbfs code does not wake up\nuser-space process when device is removed, which means we need a\ntimer to periodically check if device is still there. So I removed\nfd exception stuff and implemented it with the timer.\n\nSigned-off-by: Max Krasnyansky <maxk@kernel.org>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5047 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995805621147156,USB,"hw/usb.h, usb-linux.c, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,334c0241c006533d1f4ed7e07239ec00b46c6efd,7ed9eba3848b99cc6adba520fe5dcdfbe32d657e,aurel32,2008-08-21,Add image format option for USB mass-storage devices\n\n(fix CVE-2008-1945)\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5059 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999275267124176,USB,"hw/usb-msd.c, qemu-doc.texi",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,274a9e70de095240c8013c9dd9980213d54198d0,833ed38689cca2b024f7952269f17d7bf2ab6de4,aurel32,2008-08-22,"[sh4] delay slot bug fix\n\nTwo bugs about delay slot handlings are fixed.\n\n- After an exception occurred in delay slot, the branch instruction\n  before delay slot should be executed again. To judge such re-execution\n  is necessery or not, delay slot status is kept in SH4 CPU data structure.\n- When a branch instruction is placed at the end of memory segment,\n  the delay slot is placed at the start of next memory segment.\n  It means delay slot comes to the start of a translation block.\n  In such occasion, DELAY_SLOT_CLAREME flag is used to transmit status\n  between translation blocks. When an exception occurs on this kind of\n  delay slot, DELAY_SLOT_CLEARME flag cause a status confusion in exception\n  handling. DELAY_SLOT_CLEARME flag should be cleared on exceptions.\n\nAnd some items are added to CPU status dump.\n\n(Shin-ichiro KAWASAKI)\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5066 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.999733865261078,"ARM, SH4","target-sh4/helper.c, target-sh4/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,06afe2c8840ec39c3b23db0eb830a5f49244b947,29e179bc3f5e804ab58b975e65c91cb9cd287846,aurel32,2008-08-22,"[sh4] MMU bug fix\n\nSome bugs on SH4 MMU are fixed.\n\n- When a TLB entry is overwritten or invalidated, tlb_flush_page() should be\n  invoked to invalidate old entry.\n- When a ASID is changed, tlb_flush() should be invoke to invalidate entries\n  which have old ASID.\n- The check for shared bit in TLB entry causes multiple TLB hit exception.\n  As SH3's MMU, shared bit is ignored.\n- ASID is used when MMUCR's SV bit or SR's MD bit is zero.\n  No need to check both bits are zero.\n\n(Shin-ichiro KAWASAKI)\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5068 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9997223019599916,SH4,"hw/sh7750.c, target-sh4/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5aa3b1eaf8e6685e11ccf8faaf15da45d0e3a30f,d8173e0fbae694f2fa0e61fde15eb61e1f20532c,aurel32,2008-08-29,"SH4: fix xtrct Rm,Rn (broken in r5103)\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5105 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9986305236816406,SH4,target-sh4/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,829337a6878affa8aef099061f52321ff82e316e,5aa3b1eaf8e6685e11ccf8faaf15da45d0e3a30f,aurel32,2008-08-29,SH4: Fix bugs introduce in r5099\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5106 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9992231130599976,SH4,target-sh4/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9669d3c570c7a2129c6d6d4e32b856a2d155eb54,7b45522533544bb29af03d6c6f698ae9e28b07f5,aurel32,2008-09-02,x86: Fix powerdown for non-ACPI case\n\nTrivial fix for a corner case: system_shutdown on isapc machines causes\nqemu to segfaults due to accessing the uninitialized pm_state. Issue a\nsystem shutdown instead.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5130 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996771812438964,ACPI,hw/acpi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,86e0abc7674626b9c21eb71bd15f52c2af34a5d6,7c9bde456972804fe56cbd78fc7e776effe4baac,aurel32,2008-09-02,SH4: fix a regression introduced in r5122\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5132 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9992746710777284,SH4,target-sh4/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ec1ac72d9ce0bb5055b3052ae95c2c3ddfaec1d6,a5e26afa6130c122949039e9483bd0c2c588cc91,aurel32,2008-09-04,ppc: fix fpr TCG registers creation\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5157 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995107650756836,TCG,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2fdbad255e73c7422dacd43bd0d2e627270104de,9507fb52e27cfcb9a63cce3b7552a30247b303f7,aurel32,2008-09-05,TCG fixes for target-mips\n\nThis patch fixes TCG errors reported on the MIPS target when TCG_DEBUG\nis enabled.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nAcked-by: Thiemo Seufer <ths@networkno.de>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5164 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995872378349304,"MIPS, TCG",target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cdcf4e51aab3e84c0db8abe2c1d6bbab32c4a363,2fdbad255e73c7422dacd43bd0d2e627270104de,aurel32,2008-09-05,TCG fixes for target-cris\n\nThis patch fixes TCG errors reported on the CRIS target when TCG_DEBUG\nis enabled.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nAcked-by: Edgar E. Iglesias <edgar@axis.com>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5165 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996583461761476,"CRIS, TCG",target-cris/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bbc0d79cb7ab5b2214cd984638ff8e0faa366fcf,75973fa1ee9afe3bf35c4a9ae6898ac126ebfb09,aurel32,2008-09-14,"MIPS: Fix tlbwi/tlbwr\n\nIn CP0 Index register, bit 31 means 'Probe Failure', while lowest bits\ncontain the TLB index.\n\nIn tlbwi and tlbwr instructions, this Probe Failure bit must be ignored\nwhen reading the TLB index.\n\nAttached patch fixes it.\n\n(Herv Poussineau)\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5215 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995833039283752,MIPS,target-mips/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f24f381b2de01c37a811ac06c7d60644fd74a5b5,9f4576f08b19f40d870afe5be0f9fa04e8b2b8c0,aurel32,2008-09-15,"SH4: sleep instruction bug fix\n\nfix a bug on 'sleep' instruction, which have caused halt of idle task.\nAs i386 'hlt' instruction does, it should save PC before sleep.\n\n(Shin-ichiro KAWASAKI)\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5220 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9997128844261168,SH4,"target-sh4/helper.h, target-sh4/op_helper.c, target-sh4/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,de5c2d0a1fd1668fe38bf88706c099b24407b079,08af02e25b3925f07ea236536955d40977661918,balrog,2008-09-15,Fix range in the hid report descriptor for USB tablet.\n\nShould prevent the ugly wrapping due to a typo in an earlier commit.\nFix by Gregor (gg@seh.de).\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5232 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.99637633562088,USB,hw/usb-hid.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6ba8dcd773e01dc3f61b3e788a8b6f12fb8ed4de,30c7183b676076c940538b838c330c854a7995a9,aurel32,2008-09-16,target-alpha: fix TCG register names\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5237 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995644688606262,TCG,target-alpha/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a4ae00bc0720ebd2b72c1f53cd1be33568f98436,8fbd6b526725aeef0b34e0e1f1be766054b0845e,balrog,2008-09-20,Fix pread() and pwrite() syscall on ARM EABI (Kirill Shutemov).\n\npread() and pwrite() have differences in arguments between ARM EABI and\nOABI.   \n\nSee arch/arm/kernel/entry-common.S in Linux kernel source for\nadditional information.\n \nSigned-off-by: Kirill A. Shutemov <kirill@shutemov.name>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5272 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9993194341659546,ARM,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b40d0353b0d43517ba1ab1c07eb86a1cb27f87f9,a4ae00bc0720ebd2b72c1f53cd1be33568f98436,balrog,2008-09-20,Fix QADD / QSUB decoding on ARM (Torbjrn Andersson).\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5273 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9987754225730896,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3018f2598c047e13b4479a47f55bfa7618e17381,e4b3861d15d43d2c8d834a1a3826676d97b82abf,pbrook,2008-09-22,Fix ARM NEON vdup and vtbl bugs.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5286 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9803658127784728,ARM,"target-arm/op_helper.c, target-arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ee4d919f30f1378cda697dd94d5a21b2a7f4d90d,72ecb8d9dd339d8c7f3227b25b98b726e3933ebd,aliguori,2008-09-22,"LSI SCSI: raise UDC on infinite loop (Marcelo Tosatti)\n\nRaise UDC (Unexpected Disconnect) when a large enough number of\ninstructions has been executed by the SCRIPTS processor. This ""solution""\nis much simpler than temporarily interrupting execution.\n\nThis remedies the situation with Windows which downloads SCRIPTS code\nthat busy loops on guest main memory. Their drivers _do_ handle UDC \nappropriately (at least XP and 2003).\n\nIt would be nicer to actually detect infinite loops, but until then,\nthis bandaid seems acceptable.\n\nSince the situation seems to be rare enough, raise the number \nof instructions to 10000 (previously 1000).\n\nThree people other than myself had success with this patch.\n\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5293 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9992464780807496,SCSI,hw/lsi53c895a.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c9b1ae2cfd25e3ad88c6ef61d18eaefd177a5e49,f87fc09b15bb73874b812ab82e96105ef6c7a2ba,blueswir1,2008-09-28,Add to machine structure a flag to use SCSI drives instead of IDE: fixes SS-20\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5339 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995225667953492,SCSI,"hw/boards.h, hw/realview.c, hw/sun4m.c, hw/versatilepb.c, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a1aebcb8e68a90b9fe130aef6b2667e4369574b4,890b165890e2d0eede89800a760d5341c5e7ff06,edgar_igl,2008-10-07,CRIS: Fix brk 8 and add S-flag emulation.\n\n* break 8 sets ERP to the current insn.\n* First shot at S flag single-stepping.\n* Make it easier to use the local disasm.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5445 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995755553245544,CRIS,"cpu-exec.c, target-cris/helper.c, target-cris/helper.h, target-cris/op_helper.c, target-cris/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cddffe373928480e501f4d9b28b427e157b38f7d,dd20fcd0ac20c4357f4d96786ab957c88c6cbe05,edgar_igl,2008-10-08,CRIS: Partial EXS reg support and fixes for SPC.\n\n* Add partial support for the EXS (exception status) register.\n* Update SPC after each singlestep exception.\n* Remove special treatment of break 8.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5448 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9988486766815186,CRIS,"target-cris/helper.c, target-cris/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c69e3264c3553697077f88571829face4e673100,f71903d020667ae704cf803d0cd64f80c879c6d0,aurel32,2008-10-12,"SH4: Fix swap.b\n\nThe SH4 manual documents the swap.b instruction as follows:\n\n        SWAP.B Rm,Rn\n                Rm  swap lower 2 bytes  Rn\n\nCurrent QEMU code, in addition to the above, also clears the high\n16 bits. The immediate breakage I saw is that htonl function applied\nto  netmask of 255.255.255.0 gives 0, which breaks all networking.\n\n(Vladimir Prus)\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5471 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9988780617713928,SH4,target-sh4/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bdbf22e6b712adb6171a129efce67feece3a5b56,c69e3264c3553697077f88571829face4e673100,aurel32,2008-10-12,"SH4: fix single-stepping\n\n* target-sh/translate.c (gen_intermediate_code_internal): If\n  singlestep is enabled, update PC before stopping.\n\n(Vladimir Prus)\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5472 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995145797729492,SH4,target-sh4/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,19f98ff634d82a73b25de8f4dbbce2e0dc6de7e3,f0aabd1aa335cecc01eddf16369c4be625df4d13,aurel32,2008-10-15,target-ppc: fix a TCG local variable creation\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5492 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999398708343506,TCG,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ed69522cafef8b22c8411e38141751d23af90334,3d3a6a0a48136117b8cd45dc9b1a88e7e3927d87,aurel32,2008-10-15,PPC: fix dcbi instruction\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5495 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9992210865020752,PPC,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,22babebbaa17c0c0c134ea4f5eaf5cbbd68472ab,26d6736245f313da32487688c9a171462ac7c6de,aliguori,2008-10-21,"Fix broken USB support for Linux host (Bjorn Danielsson)\n\nMake ""host:"" usb devices work again on systems that have the\nfile /proc/bus/usb/devices. This was broken in r5441 due to\nincorrect logic for the USB_FS_SYS case in usb_host_scan().\n\nSigned-off-by: Bjorn Danielsson <bdq@dax.nu>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5507 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996734857559204,USB,usb-linux.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b2fa17977f3e9b7ced2cbbe14f6d3c4b3e8e314e,83c1f87cc8f865f1f55a2e476cd827aa51089e8c,pbrook,2008-10-22,Fix ARMv6 translation table base address calculation.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5514 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9981516003608704,ARM,"target-arm/cpu.h, target-arm/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,86753403b282cd1de867e19449c76a3b1c6e47ff,f5a5cca35b3d8d198b7f41de3fc543f9bf25d0a6,pbrook,2008-10-22,Fix ARMv6t2 strex instructions.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5517 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.937277376651764,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2e31f5d38ca5b187f76e86faafe29a2ec008b1d7,aa25cf469485e41305425674e8e65f3c60874ef7,pbrook,2008-10-24,Fix typos in PPC TCG conversion.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5521 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.996664822101593,"PPC, TCG",target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7cc0dd20e1cc43529aac51b7680be857fad90065,cf3ebac7c28b3a852b33ee44bc0c595e33622845,aurel32,2008-11-01,Malta & OMAP: add a name to char devices\n\n(fixes regression introduced by r5575)\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5585 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995352029800416,OMAP,"hw/mips_malta.c, hw/omap1.c, hw/omap2.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6d17c604c0fb35dd7d02b60dd99ce882264e68e5,7cc0dd20e1cc43529aac51b7680be857fad90065,aurel32,2008-11-01,target-cris: access to TCG variables through GET_TCGV()\n\nFix build with DEBUG_TCGV enabled.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5586 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995658993721008,TCG,target-cris/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,527067d89285f3d78b4d05ec24cab2c786a2d7fd,6176a26d1d0fe40dea0fd6a4e1a437931cbdcb2d,blueswir1,2008-11-01,Fix TCGv size mismatches\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5593 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999596893787384,TCG,target-sparc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2ef1b120d1e8af5ab34fb6aed83ba171bd5f5572,1e4c090f7d204a65c6f0a851255b3f48192f08a4,aurel32,2008-11-09,"target-ppc: gen_op_arith_divw() & gen_op_arith_divd fixes\n\ngen_op_arith_divw():\n- ""deoptimize"" gen_op_arith_divw to make it more readable.\n- Correctly free TCG temp variable\n\ngen_op_arith_divd():\n- Call the right function.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5658 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995984435081482,TCG,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ec6469a3b1da26247bdb3f5dd5276fabcc1b694a,2ef1b120d1e8af5ab34fb6aed83ba171bd5f5572,aurel32,2008-11-09,target-ppc: fixes for gen_op_neg()\n\n- Rename to gen_op_arith_neg for consistency with other functions.\n- Correctly free TCG temp variable.\n- Fix the return value in 64-bit mode in case of overflow.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5659 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9993364214897156,TCG,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,741a7444a307957e6f0b4942ef5c156466fd5bb7,a973001797221b0fd7be55cb6513c72a01f4b639,aurel32,2008-11-09,target-ppc: fix TCG argument\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5661 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994288086891174,TCG,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9cd38c23722ff8383bdbf2f77fbb864b290de926,828808f5ece20fd606218e000139799921c89d93,aurel32,2008-11-11,target-alpha: fix double TCG variable allocation\n\nNoticed by Chris Krumme.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5671 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999549925327301,TCG,target-alpha/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c24135ffcc46ef1e02c69667f0b4156ebf7b86dd,1f9611242bdbb1b7c5c73a471bada2c26f8bdba1,aurel32,2008-11-11,target-mips: fix temporary variable freeing in op_ldst_##insn()\n\nMove tcg_temp_free() out of the conditional part to make sure\nthe TCG temporary variable is freed in all cases.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nAcked-by: Thiemo Seufer <ths@networkno.de>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5673 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9993694424629213,TCG,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,add69063e86c1dec66f285687c8bd923269c0c75,c24135ffcc46ef1e02c69667f0b4156ebf7b86dd,aurel32,2008-11-11,"target-mips: fix mft* helpers/call\n\nThis patch attempts to fix mft* helpers and the associated TCG calls.\nmft* helpers do not take a register in argument, however:\n- some helpers are called with an argument while they do not take one.\n- some helpers are declared with an argument they don't use.\n\nAcked-by: Thiemo Seufer <ths@networkno.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5674 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996885061264038,TCG,"target-mips/helper.h, target-mips/op_helper.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dccfec679e558b22b4f0e5970c951e99df668ddf,c2b48b69cb80170b749b4252f7eb78acbb370879,aurel32,2008-11-12,target-alpha: fix termbits and target IOC macros\n\nThis patch fixes the two following problems for Alpha linux-user:\n   - termbits.h is incorrectly using host IOC macros and structures\n   - IOC bitfields sizes are incorrectly set\n\nThis patch corrects the ioctl TCGETS done by isatty function call\non Alpha (when running SPEC crafty for instance).\n\nSigned-off-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5704 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999648094177246,TCG,"linux-user/alpha/termbits.h, linux-user/syscall_defs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,10781c09ed7ab6a0e36d7b8f1fbf7c49128eb177,57003085037f554de82327cbc34105cda1942892,aliguori,2008-11-13,x86: fix warning without CONFIG_KVM (Mark McLoughlin)\n\nWarning is:\n\n target-i386/helper.c: In function `cpu_x86_cpuid':\n target-i386/helper.c:1373: warning: implicit declaration of function `host_cpuid'\n\nSigned-off-by: Mark McLoughlin <markmc@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5718 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9993959665298462,KVM,target-i386/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b25cf5893f5ad07c2b8eada28250fc9cb8fb7e2a,426cd5d6d2b5759d16837fb8b3c44cd953b16bfa,aliguori,2008-11-18,Add 40-bit DMA support to LSI scsi emulation (Ryan Harper)\n\nThis patch fixes Linux machines configured with > 4G of ram and using a\nSCSI device.\n\nSigned-off-by: Ryan Harper <ryanh@us.ibm.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5750 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9980446100234984,SCSI,hw/lsi53c895a.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,34fc643fd3ff76dac6990cd2fa4a136111eb383a,af12906f77f37a3dd7da158d5b42d90a59d6fc7a,aliguori,2008-11-19,Make KVMSlot a real structure\n\nstruct kvm_userspace_memory_region does not use QEMU friendly types to \ndefine memory slots.  This results in lots of ugly casting with warnings \non 32-bit platforms.\n\nThis patch introduces a proper KVMSlot structure that uses QEMU types to\ndescribe memory slots.  This eliminates many of the casts and isolates \nthe type conversions to one spot.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5755 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.8080108761787415,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f2f39c234a33d3ded4365182b4794b51c0d92a2,34fc643fd3ff76dac6990cd2fa4a136111eb383a,aurel32,2008-11-19,target-ppc: fix TCG type errors introduced in r5754\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5756 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996192455291748,TCG,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8dea1dd406189dae6108104faf27f397835ae871,ce802585a9c18d93fc01fed320a3e066f52ef879,blueswir1,2008-11-29,"Misc fixes (Herve Poussineau)\n- Fix internal fifo size (16 bytes), according to http://www.ibiblio.org/pub/historic-linux/early-ports/Sparc/NCR/NCR53C9X.txt\n- Fix values of STAT_MI and STAT_MO\n- Give a scsi ID to adapter, and prevent this ID to be used by devices\n- Prevent fifo overrun in esp_mem_writeb\n- Add a ESP_ERROR macro, and use it where appropriate\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5811 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996395111083984,ESP,hw/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f46f15bca78946f3debc9eaa6dbf3a9a9e57872d,6e02c38dadfe4cf02b0da6135adfd8d9352b90e1,aliguori,2008-12-04,"Remove TARGET_PAGE_SIZE from virtio interface (Hollis Blanchard)\n\nTARGET_PAGE_SIZE should only be used internal to qemu, not in guest/host\ninterfaces. The virtio frontend code in Linux uses two constants (PFN shift\nand vring alignment) for the interface, so update qemu to match.\n\nI've tested this with PowerPC KVM and confirmed that it fixes virtio problems\nwhen using non-TARGET_PAGE_SIZE pages in the guest.\n\nSigned-off-by: Hollis Blanchard <hollisb@us.ibm.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5871 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.954098343849182,KVM,"hw/virtio.c, hw/virtio.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4dd8c1380312a64e8f73a84e30e11f42598f6c46,3476f891ccc3fa128de433845b93e23194444859,aurel32,2008-12-05,"Fix PPC PREP platform, broken by commit 5849\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5884 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9739963412284852,"PPC, PREP",hw/ppc_prep.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ded9d29547922ba1ade973d6031313411c98e214,662bbadd3529564e5bc4f1e5474979ac34872f0f,balrog,2008-12-07,ARM: fix usad8 and usada8 usage of registers (Mans Rullgard).\n\nThis fixes the destination and accumulator registers for the usad8\nand usada8 instructions.\n\nSigned-off-by: Mans Rullgard <mans@mansr.com>\nSigned-off-by: Andrzej Zaborowski <andrew.zaborowski@intel.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5912 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9881427884101868,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,955a7dd5e857bdeb1d41893a5ac9c1e02c327382,ded9d29547922ba1ade973d6031313411c98e214,balrog,2008-12-07,ARM: fix smmul and smmla/smmls usage of registers (Mans Rullgard).\n\nThis fixes the destination and accumulator registers for the smmul\nand smmla instructions.\n\nSigned-off-by: Mans Rullgard <mans@mansr.com>\nAcked-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nSigned-off-by: Andrzej Zaborowski <andrew.zaborowski@intel.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5913 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9993990659713744,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a810a2de170565529464072edf2102443aaa9fab,e8fc4fa7a13f7c3178fcdf6dd74cbcce076e9040,blueswir1,2008-12-07,Some fixes for TCG debugging\n\nThis fixes a few things after Paul's improvements for TCG debugging:\n\n  - change TCGv_i64 field name to something different from\n    TCGv_i32\n  - fix things in tcg that the above change made visible.\n\nSigned-off-by: Laurent Desnogues <laurent.desnogues@gmail.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5919 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9991738200187684,TCG,"tcg/tcg-op.h, tcg/tcg.c, tcg/tcg.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d8299bccf265b72db967a064e8151660b78cdfae,54604f74ae618aca3715cf0d8cb2ede923c0d6c0,aurel32,2008-12-07,"SH4: Implement FD bit\n\nSH4 manual say that if a floating point instruction is executed while\nFD bit in the status register is 1, an exception should be raised. QEMU\npresently does not do that, so the kernel does not initialize FP state\nfor any thread, nor does it save/restore FP state. The most apparent\nconsequence is that while recent gcc/libc expect double-precision mode\nto be set by kernel, they run in single-precision mode, and all FP code\nproduces wrong values.\n\nThis patch fixes this. It also fixes a couple of places where PC was\nnot updated before handling an exception, although both those places\ndeal with invalid instruction and don't lead to any user-visible bugs.\n\n(Vladimir Prus)\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5937 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995834231376648,SH4,"target-sh4/cpu.h, target-sh4/helper.h, target-sh4/op_helper.c, target-sh4/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aef3a282a44e1a3009a6b77dd0c28b4b14ded672,15b18ec20a41c69a0524aed50d5bb6bae7e19c5b,balrog,2008-12-07,"Fix 64-bit targets compilation on ARM host.\n\nOnly fix compilation, probably doesn't run.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5947 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9993321299552916,ARM,tcg/arm/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d85dc283fa87353be10b11b463196d10eb49ca41,f19412a2a6346ff4976d57c2692464f7cd8fa7eb,aliguori,2008-12-09,"Disable KVM support if the kernel modules have broken memory slot handling\n\nPrior to kvm-80, memory slot deletion was broken in the KVM kernel \nmodules.  In kvm-81, a new capability is introduced to signify that this\nproblem has been fixed.\n\nSince we rely on being able to delete memory slots, refuse to work with \nany kernel module that does not have this capability present.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5960 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9992802739143372,KVM,"configure, kvm-all.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4efbe58fb57314f422578a543fe3f47ffc854b68,f65ed4c1529f29a7d62d6733eaa50bed24a4b2ed,aurel32,2008-12-10,"MIPS Magnum: fix memory-mapped i8042\n\nCurrent implementation of memory-mapped i8042 controller is atm\nimplemented with an interface shift (it_shift) parameter, like most all\nmemory-mapped devices in Qemu.\nHowever, this isn't suitable for MIPS Magnum, where i8042 controller is at\n0x80005000 up to 0x80005fff.\n\nThomas Bogendoerfer (from #mipslinux) tested the behaviour of a real\nmachine, and found that odd addresses are for status/command register, and\neven addresses for data register.\n\nAttached patch implements this behaviour by replacing the it_shift\nparameter by a mask one.\nIncidentally, keyboard now works on OpenBSD 2.3, which accesses i8042\ncontroller at 0x80005060 and 0x80005061.\n\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5962 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996790885925292,MIPS,"hw/mips_jazz.c, hw/pc.h, hw/pckbd.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8de24106355d25512a8578ac83dab0c7515575b0,c78eae6177d180c58e45cc20eb318bf20c10a73e,aurel32,2008-12-11,"PPC405EP: fix fpga write function\n\nI'm not familiar with this device, but I'm fairly certain the writel handler is\nnot supposed to recurse.\n\nSigned-off-by: Hollis Blanchard <hollisb@us.ibm.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5995 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995170831680298,"PPC, PPC405",hw/ppc405_boards.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7a3a51414092bf9373987b0bc46cc9416b272df4,da93a1fd49778e3107c346317a044455f8b46e2f,blueswir1,2008-12-13,"Fix TARGET_LONG_BITS warning in TCG\n\nLooking at tcg/tcg.c:828, the bug that the warning indicated would show up as\nincorrect PC shown in log, only on 32 bit big endian host emulating a 64 bit\ntarget, -d op flag enabled. Now that dyngen is gone, the patch can be applied.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@5998 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996358156204224,TCG,tcg/tcg-runtime.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,330c483bbf52a73428148321eb0b800d0faf4473,71e991fdfa2f650a8e616920c2c32663e486bc32,aurel32,2008-12-15,target-ppc: fix TCGv type in fcmpu/fcmpo\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6044 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9993895292282104,TCG,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ebd7fc5099f8c643a2427bc18b8333d0cebef0d5,fe76d97653d6611df19dacc4e326fc7d3d057237,aliguori,2008-12-19,"Make sure ACPI structures are byte-aligned\n\nApparently, guests are very tolerant of corrupt ACPI tables because our \ntables have been badly corrupted for some time now.  A version of \nKnoppix using a 2.6.11 kernel refused to boot and it turned out it was \ndue to the interrupt override table introduced by the recent HPET \ncommit.\n\nThis patch updates the BIOS and introduces a patch to pack the ACPI \ntables.  If you have a guest that used to work and is broken by the this \ncommit, let me know.  We have some weird hacks in the tables that I \nsuspect are work arounds for this bug.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6108 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995054006576538,"ACPI, HPET","pc-bios/bios-pq/0006_acpi-packing.patch, pc-bios/bios-pq/series, pc-bios/bios.bin",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e4704b3b119d62df2fd3613b5a3c05fbb93ba80c,eaa449b94039d90c0bf17721528b7a8d97e74251,aurel32,2009-01-03,Fix TCG error in gen_avr_ptr.\n\nSigned-off-by: Nathan Froyd <froydnj@codesourcery.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6152 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9992891550064088,TCG,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4c5e8c5ce8a874880bc403ef153285f54dbbd960,6fa724a34a65645529a37ea363a69a6c9c93f6c1,blueswir1,2009-01-04,Fix VGA screen dump\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6159 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9991937279701232,VGA,hw/vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9f6164d6f635e4eead4a8b90ed40650108c9f303,6cdc737502a38eb41747de2e1ff72a6aa1afa1b5,edgar_igl,2009-01-07,gdbstub: fix gdbserver_fork\n\nAs reported by Martin Mohring fork doesn't work with NPTL.\nA fix is attached that makes the also attached test run\n(tested with ARM CodeSourcery 2008q3 on an x86_64\nFedora Core with kernel 2.6.23).\n\nSigned-off-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nAcked-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6195 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996398687362672,ARM,gdbstub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f094a78220187996e33ba5adce29789326cf6c3c,f48c144e2481e94eba625fd637f5161d090535e5,aliguori,2009-01-13,"Fix race in POSIX AIO emulation (Jan Kiszka)\n\nWhen we cancel an AIO request that is already being processed by\naio_thread, qemu_paio_cancel should return QEMU_PAIO_NOTCANCELED as long\nas aio_thread isn't done with this request. But as the latter currently\nupdates aiocb->ret after every block of the request, we may report\nQEMU_PAIO_ALLDONE too early.\n\nFuthermore, in case some zero-length request should have been queued,\naiocb->ret is never set to != -EINPROGRESS and callers like\nraw_aio_cancel could get stuck in an endless loop.\n\nFix those issues by updating aiocb->ret _after_ the request has been\nfully processed. This also simplifies the locking.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6278 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996035695075988,LED,posix-aio-compat.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2c3891ab7feb9f1ed3e09f405866585d89efa243,f094a78220187996e33ba5adce29789326cf6c3c,aliguori,2009-01-13,"RTL8139: Latch C+ mode state instead of inferring it from C+ Command register (Avi Kivity)\n\nIt was observed that Windows 2003 x64 hangs when shutting down if an\nRTL8139 NIC and a USB device tablet are both present.  What seems to be\nhappening is:\n\n- the guest shuts down the transmitter and receiver\n- time passes\n- the guest requests a tally counter dump\n\nAs it happens, the tally counter command register overlaps the transmit\nstatus register in C mode.  Qemu determines whether the chip is in C or C+\nmode by looking at the C+ transmit enable bit; as this is now unset, the\ndump tally counter command is interpreted as a C mode transmit command.  The\nguest doesn't think so, however, and continues to poll for completion of the\ntally counter dump command.  This never occurs, so the guest hangs.\n\nFix by redefining C+ mode as ""a write to the C+ command register has occurred\nsince the last reset"".  The data sheet is silent on the matter.\n\nSigned-off-by: Avi Kivity <avi@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6279 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9984040856361388,USB,hw/rtl8139.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,395f153dcd299026358fef4218cbf874f5ea4c6b,1eff7fbf116790aaacc8f89def68be11149626cc,malc,2009-01-14,"Fix building on PPC64\n\nHOST_PPC alone can't be a substitute for __powerpc__ which is defined\nfor both 32 and 64bit PPCs, so go with HOST_PPC || HOST_PPC64 instead.\n\nReported by C. W. Betts\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6293 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9994826316833496,"PPC, PPC64","cache-utils.c, cache-utils.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,73822ec806bc8459047b6e9dea71d675c283a84c,5fc1503efc552e0ae0d9fec070d5784f51fce6b9,aliguori,2009-01-15,"Add -rtc-td-hack option to fix time drift with RTC on Windows (Gleb Natapov)\n\nAfter my last patch to fix interrupt coalescing was rejected\non the basis that it is too intrusive we decided to make the\nfix much more localized and only fix the problem for RTC time\nsource. Unfortunately it is impossible to fix the problem entirely\ninside RTC code like Andrzej proposed since Windows reads RTC\nregister C more then once on each time interrupt so it is impossible\nto count reliably how many interrupt windows actually handled.\nProposed solution is localized to I386 target and is disabled by\ndefault. To enable it ""-rtc-td-hack"" flag should be used.\n\nSigned-off-by: Gleb Natapov <gleb@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6320 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996994733810424,I386,"hw/apic.c, hw/mc146818rtc.c, hw/pc.h, qemu-doc.texi, sysemu.h, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9fd8d8d70db785c7a18fe6788a66dcf1c095a7ad,6d2c51466e694895ed6cfe4b4bc8cd40300947bd,aliguori,2009-01-15,"report issues causing the kvm probe to fail (Christian Ehrhardt)\n\nThe patch applies to upstream qemu as well as kvm-userspace, but since it is\nthe qemu configure script I think it should go to upstream qemu (Anthony)\nfirst and with the next merge to kvm-userspace. On the other hand it is the kvm\nprobe so an ack from Avi in case v3 is ok would be reasonable.\n\n*updates*\nv2 - it also reports other errors than just #error preprocessor statements\n     (requested by Avi)\nv3 - In case awk or grep is not installed it now gracfully (silently)\n     fails still disabling kvm (requested by Anthony)\n\nThis patch is about reporting more details of the issue if configuring kvm\nfails. Therefore this patch keeps the qemu style configure output which is a\nlist of ""$Feature $Status"", but extend the ""no"" result like ""KVM Support no""\nwith some more information.\n\nThere might be a lot of things going wrong with that probe and I don't want\nto handle all of them, but if it is one of the known checks e.g. for\nKVM_API_VERSION then we could grep/awk that out and report it. The patch\nreports in case of a known case in the style\n""KVM support no - (Missing KVM capability KVM_CAP_DESTROY_MEMORY_REGION_WORKS)""\n\nIn case more than one #error is triggered it creates a comma separated list in\nthose brackets and in case it is something else than an #error it just reports\nplain old ""no"".\n\nSigned-off-by: Christian Ehrhardt <ehrhardt@linux.vnet.ibm.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6334 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.99932062625885,KVM,configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e3697092228770c3b23d0bf524e18b508b109932,570724dc40254f057a26f6b5ea6b2d854b4bbd83,aurel32,2009-01-16,Fix vga on PPC\n\nFix crash introduced in revision 6336.\n\n(Stefano Stabellini)\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6349 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.998738706111908,PPC,hw/vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4892792678580c50949e465fd1e51cea7e411fb1,8f391ab41ac02d6f7d94113161883f3ff92cc144,pbrook,2009-01-20,Fix NAND flash save/restore.\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6370 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9993742108345032,NAND,hw/nand.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9a717b55df29b2b0dd0553ccfa656671bad043d1,9043b62d4c3a13e8a47ddfc027fa96c93e7176a5,aliguori,2009-01-21,Add BIOS fixes from KVM tree\n\nSee each patch for individual Signed-off-by's/commit logs\n\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6392 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999341070652008,KVM,"pc-bios/bios-pq/0002_kvm-bios-update-smbios-table-to-report-memory-above-4g.patch, pc-bios/bios-pq/0003_kvm-bios-generate-mptable-unconditionally.patch, pc-bios/bios-pq/0004_kvm-bios-add-mtrr-support.patch, pc-bios/bios-pq/0005_kvm-bios-smp-mtrr-support.patch, pc-bios/bios-pq/0006_kvm-bios-extend-mtrrs-to-above-4g.patch, pc-bios/bios-pq/0007_kvm-bios-cleanup-consolidate-above-4g-memory-parsing.patch, pc-bios/bios-pq/0008_kvm-bios-switch-mtrrs-to-cover-only-the-pci-range-and--default-to-wb.patch, pc-bios/bios-pq/0009_kvm-bios-resolve-memory-device-roll-over-reporting--issues-with-32g-guests.patch, pc-bios/bios-pq/0010_kvm-bios-fix-smbios-memory-device-length-boundary--condition.patch, pc-bios/bios-pq/HEAD, pc-bios/bios-pq/series, pc-bios/bios.bin",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e0dd114c163bfba86a736dae00fb70758e1c0200,57c7d9e57983d25ddf2ef995493366b9e15d32b4,aliguori,2009-01-26,"Check if the i8254 timer is active before deactivating it (Alexander Graf)\n\nThe HPET emulation can disable the i8254 when the HPET is\nin legacy mode, thus emulating the i8254's behavior.\n\nBut if it does, the i8254 doesn't have to be running, so\nlet's check to see if the timer works and not disable it\nif it's not.\n\nThis fixes a segmentation fault when running Mac OS X as\nguest os.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6460 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996585845947266,HPET,hw/i8254.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e035b43d7c98b1509420d41b017abcdac0de0442,baa8c602295b1d33844503ce0a172b85f84646d3,aliguori,2009-01-28,"fix signed/unsigned overflows in SCSI disk (Rik van Riel)\n\nSector numbers can overflow on a virtual scsi disk of over 1TB\nin size.  Qemu's bdrv_read expects an int64_t, so fix the overflow\nby going to that data type.\n\nOn large disks, we clip the capacity to 2TB instead of returning\n""capacity modulo 2TB"".\n\nTurn sector_count into an unsigned to prevent a signed/unsigned\noverflow with SCSI transfers larger than 2TB.  We're unlikely to\never hit this bug, but fixing it is just one line.\n\nSigned-off-by: Rik van Riel <riel@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6467 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9997277855873108,SCSI,hw/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c1c0438c800df9579c9ed5385e3cf198ed03d562,86106e5920d90a92d72ca50ca5aadafd6c1f6c80,aliguori,2009-01-28,"SCSI divide capacity by s->cluster_size (Rik van Riel)\n\nPaul Brook pointed out that the number of sectors reported\nby the SCSI read capacity commands needs to be divided by\ns->cluster_size, because bdrv_get_geometry reports the number\nof 512 byte sectors, while emulated CDROMs report 2048 byte\nsectors back to the guest.\n\nThis has no consequences for emulated hard disks, which use\na cluster size of 1.\n\naliguori: fixed typo\n\nSigned-off-by: Rik van Riel <riel@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6469 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9989525079727172,SCSI,hw/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,173a543b36d0b2491438cf1dcc2c7bb34d59bb5c,4ebcf884836887324848291032a385fe0df7b0af,blueswir1,2009-02-01,"Add and use #defines for PCI device classes\n\nThis patch adds and uses #defines for PCI device classes and subclases,\nusing a new pci_config_set_class() function, similar to the recently\nadded pci_config_set_vendor_id() and pci_config_set_device_id().\n\nChange since v1: fixed compilation of hw/sun4u.c\n\nSigned-off-by: Stuart Brady <stuart.brady@gmail.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6491 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.8729888796806335,PCI,"hw/ac97.c, hw/acpi.c, hw/apb_pci.c, hw/cirrus_vga.c, hw/e1000.c, hw/eepro100.c, hw/es1370.c, hw/grackle_pci.c, hw/gt64xxx.c, hw/ide.c, hw/lsi53c895a.c, hw/macio.c, hw/ne2000.c, hw/openpic.c, hw/pci.c, hw/pci.h, hw/pcnet.c, hw/piix_pci.c, hw/ppc4xx_pci.c, hw/prep_pci.c, hw/rtl8139.c, hw/sun4u.c, hw/unin_pci.c, hw/usb-ohci.c, hw/usb-uhci.c, hw/versatile_pci.c, hw/vga.c, hw/virtio-balloon.c, hw/virtio-blk.c, hw/virtio-console.c, hw/virtio-net.c, hw/virtio.c, hw/virtio.h, hw/vmware_vga.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fce5ecb7808bee2858789c9e56cb3d3d16e9d37f,9bdba1b67b93247382cfbdf8f06c6386d70e9287,aurel32,2009-02-03,Fix compilation of PPC64 targets with DEBUG_TCGV enabled\n\nThe attached patch fixes compilation of PPC64 targets with DEBUG_TCGV\nenabled.\n\nSigned-off-by: Stuart Brady <stuart.brady@gmail.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6502 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.981287956237793,"PPC, PPC64, TCG",target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ea0444b5760df265884c735d27e017be4cf9e76b,bedf26e6b47b47e8fb72ad4e965a31896466d184,aurel32,2009-02-03,SH4: Fix warning when compiling sh7750_regnames.c\n\nThis patch fixes a warning when compiling sh7750_regnames.c which is\ncaused by sh7750_regnames.h (which contains the prototype of regname())\nnot being included.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6504 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.998764991760254,SH4,hw/sh7750_regnames.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0a645949d519321c6f1560ee38ab6470edb06736,f2ba730e89b420903257e543c1bb7f7d945ba36a,blueswir1,2009-02-07,Fix VGA RAM offsets\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6546 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9984689354896544,VGA,hw/ppc_chrp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c2432a42fe13c3c6774f5443ac8f6f7261fe91d1,68af3f249157f2538fea806622c45f537d65c9bc,aurel32,2009-02-07,"SH7750/51: add register BCR3, BCR4, PCR, RTCOR, RTCNT, RTCSR, SDMR2, SDMR3 and fix BCR2 support\n\nSigned-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6548 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995905756950378,SH7750,"hw/sh7750.c, hw/sh7750_regnames.c, hw/sh7750_regs.h, target-sh4/cpu.h, target-sh4/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e7786f27c39f9bb9f75c71246d4993e4a8778758,c2432a42fe13c3c6774f5443ac8f6f7261fe91d1,aurel32,2009-02-07,SH4: fix TMU init\n\nInit the TMU and the ptimer with the correct cpu reset value\n\nSigned-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6549 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9994000196456908,SH4,hw/sh_timer.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a747723bed603a88c01fca9a970f742e2819422a,84694dd280622424607cb2241d90b3d7b0d2393b,aurel32,2009-02-09,Fix DEBUG_TCGV compile error.\n\nDon't call TCGV_LOW on arg2.  This section of code falls under\n\nSigned-off-by: Nathan Froyd <froydnj@codesourcery.com>\nAcked-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6585 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995753169059752,TCG,tcg/tcg-op.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,176050719287eb73f6ff8610843cbcbbb0ae388b,b136a4c6ef9bff59151f3c5d8aad48b0b924da12,blueswir1,2009-02-12,Fix Sparc64 VGA memory size bug exposed by r6604\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6618 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.999497652053833,VGA,hw/pc.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d85d0d3883f5a567fa2969a0396e42e0a662b3fa,753b4053311ff1437d99726970b1e7e6bf38249b,aliguori,2009-02-16,"Fix hardware accelerated video to video copy on Cirrus VGA (Brian Kress)\n\ncirrus_do_copy() in hw/cirrus_vga.c seems to make some incorrect assumptions\nabout video memory layout.  It tries to convert addresses to coordinates\nassuming that one row of data is (width * depth) bytes long.  The correct way\nseems to be to use the pitch fields in the CirrusVGAState structure instead.\n\nWithout this patch, I get lots of screen corruption when I try to drag a window\nunder X as it's passing the wrong coordinates to the display surface for the\ncopy.  With this patch I can drag a window with no screen corruption.\n\nSigned-off-by: Brian Kress <kressb@moose.net>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6622 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9992557168006896,VGA,hw/cirrus_vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6c2934db949aa259ed47b126b5c6838ac57a3f6f,978dd63540b380768a03be400e703f6e67f47e8f,aurel32,2009-02-18,"Fix cpu_physical_memory_rw() for 64-bit I/O accesses\n\nKVM uses cpu_physical_memory_rw() to access the I/O devices. When a\nread or write with a length of 8-byte is requested, it is split into 2\n4-byte accesses.\n\nThis has been broken in revision 5849. After this revision, only the\nfirst 4 bytes are actually read/write to the device, as the target\naddress is changed, so on the next iteration of the loop the next 4\nbytes are actually read/written elsewhere (in the RAM for the graphic\ncard).\n\nThis patch fixes screen corruption (and most probably data corruption)\nwith FreeBSD/amd64. Bug #2556746 in KVM bugzilla.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6628 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9994876384735109,KVM,exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cc53adbca0df43a69fec1ce271833b7130db9abb,07c485ce78b60de7a40e4606f1f95d9c492d52ed,edgar_igl,2009-02-22,CRIS: Fix remaining build warnings.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nAcked-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6638 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9986794590950012,CRIS,"hw/etraxfs_eth.c, hw/etraxfs_ser.c, hw/etraxfs_timer.c, target-cris/cpu.h, target-cris/exec.h, target-cris/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7c664e2f4efbf27b1fa47ceed0c4e661fb681238,0cfe11ea5fff6a62dd28f116ec5d227d682b08e7,aurel32,2009-03-03,SH4: Added monitoring of TLBs\n\nThis patch might interest some people trying (as I try to do) to fix\nsome tlbs for kernel/user space data sharing.\n\nSigned-off-by: Lionel Landwerlin <lionel.landwerlin@openwide.fr>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6670 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9983844757080078,SH4,monitor.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fb1045824924e7b906b432acdb6e358cfbbebeef,7c664e2f4efbf27b1fa47ceed0c4e661fb681238,aurel32,2009-03-03,"SH4: Fixed last UTLB unused\n\nWith my previous patch (the one monitoring tlb), I found that the last\nTLB entry was never use. Here a little fix.\n\nSigned-off-by: Lionel Landwerlin <lionel.landwerlin@openwide.fr>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6671 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996771812438964,SH4,target-sh4/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,45f4d016be0a40af247faa2de26fa775882cb5eb,fb1045824924e7b906b432acdb6e358cfbbebeef,aurel32,2009-03-03,SH4: Fixed last UTLB unused\n\nVersion 2 of the patch.\n\nSigned-off-by: Lionel Landwerlin <lionel.landwerlin@openwide.fr>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6672 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9995716214179992,SH4,target-sh4/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,927e3a4e066d4bce091d368b15c7ad7877a1e0e1,d905dba48fd1a67af3668649523e5a0959d2f619,aurel32,2009-03-03,SH4: Fixed last UTLB unused and URB/URC management\n\nSigned-off-by: Lionel Landwerlin <lionel.landwerlin@openwide.fr>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6675 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9996102452278136,SH4,target-sh4/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d488ddd8352e1e25f13e9c1f644dd1d7ebc0b342,5368a4228ff5dd5ec95d0416f23bcfc9e556f37b,edgar_igl,2009-03-03,CRIS: Avoid endless loops for unstested CRIS cpu-state load/save.\n\nFix several endless loops.\n\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>\nAcked-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6679 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9993170499801636,CRIS,target-cris/machine.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d2c753454eadaf82027c634247554533b8e3544c,70976a7926b42d87e0c575412b85a8f5c1e48fad,aurel32,2009-03-07,"Work around QEMU GDB stub suboptimality\n\nThe current XML files claim, on floating point-supporting Power chips,\nthat $f0 is register 70.  This would be fine, except that register 70\nfor non-XML-aware GDB is FPSCR.  More importantly, 70 is less than\nNUM_CORE_REGS (71) for Power, so a request for register 70 goes to the\n""core"" register reading routines, rather than the floating-point\nregister read routine we registered with gdb_register_coprocessor.\n\nTherefore, when we are talking to an XML-aware GDB, we claim that\nregister has zero width, which causes the rest of QEMU's GDB stub to\nsend an error back to GDB, which causes GDB to be unable to read the\nfloating-point registers.  (The problem is also present for SPE\nregisters and occurs in a slightly different way for Altivec registers.)\n\nThe best way to fix this is to have the ""core register"" XML files for\nPPC32 and PPC64 claim that there is a 4-byte register 70, which causes\n$f0 to be register 71, and everything works just fine from that point\nforward.\n\nSigned-off-by: Nathan Froyd <froydnj@codesourcery.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6770 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9977349042892456,"PPC, PPC64","gdb-xml/power-core.xml, gdb-xml/power64-core.xml",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,533d177a98c5f73ba34fd04bf232fac1f44cf168,d2c753454eadaf82027c634247554533b8e3544c,aurel32,2009-03-07,"Fix correct reset value for ARM CP15 c1 auxiliary control register\n\nAccording to ARM Cortex A8 Technical Reference Manual, the reset value for CP15 c1 auxiliary control\nregister is 2, not zero (page 3.12).\n\nSigned-off-by: Riku Voipio <riku.voipio@iki.fi>\nAcked-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6771 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9982896447181702,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,43e860ef0989ac152854ad5775295e86656bdf4e,a3fe901337703a04d39f4fe8444b03c8aa37bd3c,aurel32,2009-03-10,Fix tcg after commit 6800\n\nThe introduction of TCGV_EQUAL and not op is slightly broken.\nThe definition of DEBUG_TCGV shows that.\n\nSigned-off-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6802 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9975480437278748,TCG,"tcg/tcg-op.h, tcg/tcg.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cbbccffc7acebb3256f58b232b4f9d819f9596ec,d78f399542b0b81fab67f31c9a88665943f0571d,pbrook,2009-03-17,Fix ARM quadword VDUP (core register).\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6857 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9967257976531982,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aba35a6cd1c70f8cb4b9a08d6685eafe76725cee,cbbccffc7acebb3256f58b232b4f9d819f9596ec,malc,2009-03-17,Fix VGA issue introduced by r6349\n\nThanks to Robert Riebisch for bisection\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6858 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.99964702129364,VGA,hw/vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,819f56b7fb1f4910ac826202fcf42d8093da3c4f,9230eaf6797ffce465aef2a6c5b26d605c162a24,aliguori,2009-03-28,"char: Fix closing of various char devices (Jan Kiszka)\n\nThis patch fixes several issues around closing char devices. Affected\nwere pty (timer was left behind, even running), udp (no close handling\nat all) and tcp (missing async IO handler cleanup). The bugs either\ncaused segfaults or stalled the qemu process. So far, hot-unplugging USB\nserial adapters suffered from this.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6911 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.999726951122284,USB,qemu-char.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f364515c836fcc7caa1606a8c27edae25f27a6ce,41e0c701599de298beec6853f9bb055365e51174,aurel32,2009-03-28,"target-mips: fix FPU in 64-bit mode\n\nTCG does not allow the same memory location to be aliased in two\ndifferent global registers, fpu_fpr32 and fpu_fpr64.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6915 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996331930160522,TCG,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2c7c13d4b81d59dfe50ce4ae9afe1a34f2d573cf,b7df4bcc00725d293cc73dba0ded23106b448720,aurel32,2009-04-08,"apic: Fix access to non-existent APIC\n\nWhen running with -M isapc, there is no env->apic_state. Fix\ncpu_get/set_apic_* helpers to handle this corner case gracefully.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@7048 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9994142055511476,APIC,hw/apic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,007ac6faed12abdd4113e2460ba4464aacb7f4dd,585c88d5af67be5bf74a557b5365bb91a998de7b,aurel32,2009-04-16,"target-mips: fix call to check_*() functions\n\ncheck_*() functions may in fine call generate_exception(), which ends\nby a call to tcg_gen_exit_tb(). As a consequence, we have to make sure\nthat no TCG temp variables are crossing a check_*() function.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@7127 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9997158646583556,TCG,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d3f8d37fe2d0c24ec8bac9c94d5b0e2dc09c0d2a,494ada4234368b76583c2c1054a685488129dd76,aliguori,2009-04-17,"kvm: Add sanity checks to slot management (Jan Kiszka)\n\nFail loudly if we run out of memory slot.\n\nMake sure that dirty log start/stop works with consistent memory regions\nby reporting invalid parameters. This reveals several inconsistencies in\nthe vga code, patch to fix them follows later in this series.\n\nAnd, for simplicity reasons, also catch and report unaligned memory\nregions passed to kvm_set_phys_mem (KVM works on page basis).\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@7138 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9996046423912048,KVM,"kvm-all.c, kvm.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6152e2ae4344ec8c849393da3f76f2263cc55766,d3f8d37fe2d0c24ec8bac9c94d5b0e2dc09c0d2a,aliguori,2009-04-17,"kvm: improve handling of overlapping slots (Jan Kiszka)\n\nThis reworks the slot management to handle more patterns of\ncpu_register_physical_memory*, finally allowing to reset KVM guests (so\nfar address remapping on reset broke the slot management).\n\nWe could actually handle all possible ones without failing, but a KVM\nkernel bug in older versions would force us to track all previous\nfragmentations and maintain them (as that bug prevents registering\nlarger slots that overlap also deleted ones). To remain backward\ncompatible but avoid overly complicated workarounds, we apply a simpler\nworkaround that covers all currently used patterns.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@7139 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9956868290901184,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e7f3dcc4a7e60291d206669dc1cb10285351e35c,6152e2ae4344ec8c849393da3f76f2263cc55766,aliguori,2009-04-17,"vga: Fix inconsistent tracking of map_addr (Jan Kiszka)\n\nOnly track video RAM mapping in map_addr and use the correct RAM size.\nFurthermore, make sure the reset the address in case unmapping took\nplace via PCI reconfiguration.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@7140 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995152950286864,PCI,hw/vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3787324101bbc68c0d13a6aca51e6a90d1f7ce06,a33609cae0d57a7574608145f553cc5279221c31,aliguori,2009-04-17,"hpet: Fix emulation of HPET_TN_SETVAL (Jan Kiszka)\n\nWhile Intel's spec is not that clear here, latest changes to Linux' HPET\ncode (commit c23e253e67c9d8a91a0ffa33c1f571a17f0a2403, ""x86: hpet: stop\nHPET_COUNTER when programming periodic mode"") strongly suggest that\nHPET_TN_SETVAL rather means: Set _both_ the comparator value and\nregister.\n\nWith this patch applied, I'm again able to boot 2.6.30-rc kernels as\nthey no longer panic like this (which was due to the comparator\nregister remaining 0):\n\nENABLING IO-APIC IRQs\n..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1\n..MP-BIOS bug: 8254 timer not connected to IO-APIC\n...trying to set up timer (IRQ0) through the 8259A ...\n..... (found apic 0 pin 2) ...\n....... failed.\n...trying to set up timer as Virtual Wire IRQ...\n..... failed.\n...trying to set up timer as ExtINT IRQ...\n..... failed :(.\nKernel panic - not syncing: IO-APIC + timer doesn't work! [...]\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@7168 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9993376135826112,"APIC, HPET",hw/hpet.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3f53d546ebd08c4bddd1e89301f6858a7d5426fd,df357f0e6287339e3cb880635719cca3b79d2b6c,pbrook,2009-04-21,Fix target_siginfo ordering for MIPS.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@7192 c046a42c-6fe2-441c-8c8c-71466251a162,1,0.9958769083023072,MIPS,linux-user/syscall_defs.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0b1bcb00fb2baf5f3227dd9cd849fa69bf50d7a8,e4474235d8b0a3a8603dcce8088f2a282a4e4925,pbrook,2009-04-21,"MIPS signal handling fixes.\n\nAlso fixes a register corruption bug in do_sigreturn. When ""returning""\nfrom sigreturn we are actually restoring the virtual cpu state from the\nsignal frame.  This is actually surprisingly hard to observe in practice.\n\nTypically an thread be blocked in a FUTEX_WAIT call when the signal arrives,\nso the effect is a spurious syscall success and the introduction of a\nsubtle race condition.\n\nOn x86/arm a syscall modifies a single word sized register, so\ndo_sigreturn can just return that value.  On MIPS a syscall clobbers\nmultiple registers, so we need additional smarts.  My solution is to\ninvent a magic errno value that means ""don't touch CPU state"".\n\n\ngit-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@7194 c046a42c-6fe2-441c-8c8c-71466251a162",1,0.9995731711387634,MIPS,"linux-user/main.c, linux-user/mips/syscall.h, linux-user/signal.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fc1c67bc2a43a53f7315b602e0c67f9604835fe1,efcfd0c5d953722d89ae343d4bf2a9fd326775fa,Blue Swirl,2009-04-28,Fix PPC reset,1,0.9997228980064392,PPC,"target-ppc/cpu.h, target-ppc/helper.c, target-ppc/machine.c, target-ppc/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e6f4afe029ae21853fd6625d94e9e0b2caa4defd,582af0da2a65784e431c2c5ed3a003a35c5587f7,Jan Kiszka,2009-04-30,kvm: Relax aligment check of kvm_set_phys_mem\n\nThere is no need to reject an unaligned memory region registration if\nthe region will be I/O memory and it will not split an existing KVM\nslot. This fixes KVM support on PPC.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9996331930160522,"KVM, PPC",kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e6a6dfe454c6b43abf9d5df8170950c4a9f28920,704aec581c1683750e313832ba3aa4813d59cbd0,Anthony Liguori,2009-05-01,Fix serial option with -drive\n\nThis is from the KVM tree.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9996912479400636,KVM,vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aff427a1ca09945082a4ec21aee2960306800fb0,e6a6dfe454c6b43abf9d5df8170950c4a9f28920,Chris Wright,2008-04-21,Pci nic: pci_register_device can fail\n\nThe pci_register_device() call in PCI nic initialization routines can\nfail.  Handle this failure and propagate a meaningful error message to\nthe user instead of generating a SEGV.\n\nCc: Marcelo Tosatti <mtosatti@redhat.com>\nSigned-off-by: Chris Wright <chrisw@sous-sol.org>\nSigned-off-by: Avi Kivity <avi@qumranet.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9996861219406128,PCI,"hw/e1000.c, hw/eepro100.c, hw/ne2000.c, hw/pcnet.c, hw/rtl8139.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d02f7094b9b98b45fb129f8c9dcf10c70b5c93b7,aff427a1ca09945082a4ec21aee2960306800fb0,Anthony Liguori,2009-05-01,Make sure not to fall through on error in loadvm\n\nThis is from the KVM tree\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.99964439868927,KVM,savevm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,399a4e2106e9800ba1b7de7d96f3370f6d862f7c,72af9170882c435d19705f774f62828467d63e87,Paul Brook,2009-05-06,Fix PL110 framebuffer byteswapping in 32bpp mode.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9996961355209352,PL110,hw/pl110_template.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb76e138d361131379dbb10bd86d5aa853bf0415,009a4356a7e912d911649ce5229ccffb1bc9e6b6,Paul Brook,2009-05-09,Fixe ARM NEON vrshl.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9980594515800476,ARM,target-arm/neon_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f3bc52385cacca63565d453ff4a63856f7686bce,22d83b140e7b2dda555b7e3035050454f8764b7f,Edgar E. Iglesias,2009-05-12,CRIS: Fix bmi.\n\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>,1,0.9996826648712158,CRIS,target-cris/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e9bb4aa977391e2c62b7dc496b1e14d29b7cbd4e,f7897430950ee94fb2dc4d6a5ca658d4909d9d85,Juha Riihimki,2009-05-06,fix ARMv7 data processing instructions\n\nModernize parts of target-arm/translate.c in preparation for the\nmodifications in the subsequent patch in this patch set. This is done\nin order to avoid writing new code to target-arm/translate.c that\nwould use deprecated methods and/or variables.\n\nSigned-off-by: Juha Riihimki <juha.riihimaki@nokia.com>\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9109278321266174,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,21aeb3430ce7ba066f394c2029c2ddf130662455,e9bb4aa977391e2c62b7dc496b1e14d29b7cbd4e,Juha Riihimki,2009-05-06,"fix ARMv7 data processing instructions\n\nARMv7 defines a new behavior for ARM data processing instructions\ncompared to earlier architecture revisions; when the destination\nregister is R15, a Branch and Exchange operation is executed rather\nthan a simple Branch to the target address. This patch corrects the\nbehavior of the emulation for the aforementioned operations. To be\napplied after applying the previous patch in this patch set.\n\nSigned-off-by: Juha Riihimki <juha.riihimaki@nokia.com>\nSigned-off-by: Paul Brook <paul@codesourcery.com>",1,0.9995483756065368,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,76ae317f7c16aec6b469604b1764094870a75470,e561a2809fc63b77b05075b10b713749edf93e25,Mark McLoughlin,2009-05-19,kvm: work around supported cpuid ioctl() brokenness\n\nKVM_GET_SUPPORTED_CPUID has been known to fail to return -E2BIG\nwhen it runs out of entries. Detect this by always trying again\nwith a bigger table if the ioctl() fills the table.\n\nSigned-off-by: Mark McLoughlin <markmc@redhat.com>,1,0.9996644258499146,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9f8fd69460b30bc3817deabd1d76455248b76da2,42fa1c2e226bd62e8df145f3509b692b65a6170c,Mark McLoughlin,2009-05-12,"kvm: add error message for when SMP is requested\n\nRight now, if you try e.g. '-smp 2' you just get 'failed to\ninitialize KVM'.\n\nSigned-off-by: Mark McLoughlin <markmc@redhat.com>",1,0.9992761015892028,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e69917e29acc6a21a15c5c6b5569333ddf384a38,73c632edc4e28d0a8cae3b34abf7ae46fa33bf1e,Jan Kiszka,2009-05-01,kvm: Conditionally apply workaround for KVM slot handling bug\n\nOnly apply the workaround for broken slot joining in KVM when the\ncapability was not found that signals the corresponding fix existence.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9997279047966005,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,62518b8b1dccb67969688228f14fb379f1918ede,4495d6a74575b4ee7e9aabdc66e67b6c9e19a698,Jan Kiszka,2009-05-01,"kvm: Fix dirty log temporary buffer size\n\nThe buffer passed to KVM_GET_DIRTY_LOG requires one bit per page. Fix\nthe size calculation in kvm_physical_sync_dirty_bitmap accordingly,\navoiding allocation of extremly oversized buffers.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996988773345948,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4ca1a9c62af1b98a359254546cd8e9999c892670,153859be1a0928d07ec2dc2b18847e32e180ff43,Blue Swirl,2009-06-07,"Fix generation of CONFIG_KVM\n\nWhen configuring for several targets, some with KVM and some without, CONFIG_KVM was accidentally disabled for some of the targets.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9996116757392884,KVM,configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,edf8e2af1453ce56c72b2f25a745e3734177a05d,88a8c98455cc28ef27f92fd0c6845cedf86d21fc,Mika Westerberg,2009-04-07,linux-user: implemented ELF coredump support for ARM target\n\nWhen target process is killed with signal (such signal that\nshould dump core) a coredump file is created.  This file is\nsimilar than coredump generated by Linux (there are few exceptions\nthough).\n\nRiku Voipio: added support for rlimit\n\nSigned-off-by: Mika Westerberg <mika.westerberg@iki.fi>\nSigned-off-by: Riku Voipio <riku.voipio@iki.fi>,1,0.9447592496871948,ARM,"cpu-all.h, elf.h, exec.c, linux-user/elfload.c, linux-user/linuxload.c, linux-user/main.c, linux-user/qemu.h, linux-user/signal.c, linux-user/syscall.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,538f368612565f7c7672145c31e87f1d3d02d545,ef7681389f1d5bd4bba9b66504df8a0b768b27b1,Nitin A Kamble,2009-06-04,"QEMU KVM: i386: Fix the cpu reset state\n\nAs per the IA32 processor manual, the accessed bit is set to 1 in the\nprocessor state after reset. qemu pc cpu_reset code was missing this\naccessed bit setting.\n\nSigned-off-by: Nitin A Kamble <nitin.a.kamble@intel.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996459484100342,KVM,target-i386/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8c14c17395809dfb2b20bd3598e067d2c5af7dc4,6a7ad2998ca47711eddd191caa1a95f14459793f,Jan Kiszka,2009-05-30,"kvm: Fix IRQ injection into full queue\n\nUser space may only inject interrupts during kvm_arch_pre_run if\nready_for_interrupt_injection is set in kvm_run. But that field is\nupdated on exit from KVM_RUN, so we must ensure that we enter the\nkernel after potentially queuing an interrupt, otherwise we risk to\nloose one - like it happens with the current code against latest\nkernel modules (since kvm-86) that started to queue only a single\ninterrupt.\n\nFix the problem by reordering kvm_cpu_exec.\n\nCredits go to Gleb Natapov for analyzing the issue in details.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996992349624634,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b09ea7d55cfab5a75912bb56ed1fcd757604a759,6eaa68474671a6c69f30b185ce3c87ff18f85e01,Gleb Natapov,2009-06-17,Handle init/sipi in a main cpu exec loop. (v2)\n\nThis should fix compilation problem in case of CONFIG_USER_ONLY.\n\nCurrently INIT/SIPI is handled in the context of CPU that sends IPI.\nThis patch changes this to handle them like all other events in a main\ncpu exec loop. When KVM will gain thread per vcpu capability it will\nbe much more clear to handle those event by cpu thread itself and not\nmodify one cpu's state from the context of the other.\n\nSigned-off-by: Gleb Natapov <gleb@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9994051456451416,KVM,"cpu-all.h, cpu-exec.c, hw/apic.c, target-i386/cpu.h, target-i386/exec.h, target-i386/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6c1f42fe83bf9bc14a7a6cc5afd8dad83ee25c74,f441bee871fa251d73cfcd63120f1dc76314b289,Andre Przywara,2009-06-25,"fix KVMs GET_SUPPORTED_CPUID feature usage\n\nIf we want to trim the user provided CPUID bits for KVM to be not greater\nthan that of the host, we should not remove the bits _after_ we sent\nthem to the kernel.\nThis fixes the masking of features that are not present on the host by\nmoving the trim function and it's call from helper.c to kvm.c.\nIt helps to use -cpu host.\n\nSigned-off-by: Andre Przywara <andre.przywara@amd.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9994469285011292,KVM,"target-i386/helper.c, target-i386/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e8d2a88755b849bdadaf80d19e342eade3c017bc,e36f587715cf554b7e4f91fd3d65e98286a55509,Blue Swirl,2009-07-05,Fix the PCI header type of APB\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.99970680475235,PCI,hw/apb_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,18113962e4f9b9e980f2abfa4896fbbc6288d00f,d88a76d1d359c1e97fb8921288af87f14247c999,Paul Brook,2009-07-09,Fix MIPS sys_clone\n\nThe clone syscall takes 6 args.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9996894598007202,MIPS,linux-user/main.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,94c5495dd16ca3311cbc95705e58d28a45899d1d,f04dc72f398c80d1a8e918000d9e184edcb42f74,Paul Brook,2009-07-09,MIPS signal handling fix\n\nAdd explicit padding to MIPS signal frame structures.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9986345171928406,MIPS,linux-user/signal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,616cbc78a50c638b94cc4756a565f11bb10dbfeb,110c50fd3147f749373926400ed583504f351fd1,Paul Brook,2009-07-11,Fix PCI IRQ breakage\n\nZero initialize the PCI bus irq count.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9996671676635742,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,feeb3b6a7afd6be80ea31842171f25ec0c36693d,53e3c4f9183af22ab5426faa901a507c6ee5b13c,Paul Brook,2009-07-12,Fix MIPS SC\n\nFix botched merge of op_ldst_sc calls to match actual implementation.\nThanks to Aurelien Jarno for diagnosing this.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9996658563613892,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,33890b3e0deb8891d5b1241671eb3979f8896bf3,f55e9d9a40acd3b0e364844017fa14f3aab76645,Nathan Froyd,2009-06-04,"target-ppc: fix evmergelo and evmergelohi\n\nFor 32-bit PPC targets, we translated:\n\nevmergelo rX, rX, rY\n\nas:\n\nrX-lo = rY-lo\nrX-hi = rX-lo\n\nwhich is wrong, because we should be transferring rX-lo first.  This\nproblem is fixed by swapping the order in which we write the parts of\nrX.\n\nSimilarly, we translated:\n\nevmergelohi rX, rX, rY\n\nas:\n\nrX-lo = rY-hi\nrX-hi = rX-lo\n\nIn this case, we can't swap the assignment statements, because that\nwould just cause problems for:\n\nevmergelohi rX, rY, rX\n\nInstead, we detect the first case and save rX-lo in a temporary\nvariable:\n\ntmp = rX-lo\nrX-lo = rY-hi\nrX-hi = tmp\n\nThese problems don't occur on PPC64 targets because we don't split the\nSPE registers into hi/lo parts for such targets.\n\nSigned-off-by: Nathan Froyd <froydnj@codesourcery.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9995811581611632,"PPC, PPC64",target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b8c0e7d7c4e9fe3ec00757053a33605eda1c5ac4,d8d2e079fada8ae97ecc655e6870621ee8099d47,Anthony Liguori,2009-07-11,Fix non-ACPI Timer Interrupt Routing - v3\n\nv1 -> v2 adds comment suggested by Ryan.\nv2 -> v3 clarifies comment and corrects entry count\n\nSigned-off-by: Beth Kon <eak@us.ibm.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9994975328445436,ACPI,"pc-bios/bios-pq/0013_fix-non-acpi-timer-interrupt-routing.patch, pc-bios/bios.bin",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d3ffcafe25b5966b351ea6100160c2156688f22f,24d904eab3e806dc4d1ccdabbc3b4dcb64ddf497,Blue Swirl,2009-07-16,Sparc32: fix SDL zooming with TCX\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9996939897537231,TCX,hw/tcx.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7ed208c433a2ec9bb2fda3d3bfb17b512ea0a796,356c7ff4b699fb80ece580feb5e7a0c2ae9c93eb,Juan Quintela,2009-07-16,fix XEN Build\n\nI miss s/yes/y/ in one place\n\nSigned-off-by: Juan Quintela <quintela@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.999667763710022,XEN,Makefile.target,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2d69f3590d533ee029fb9739a2bd5339dde22bcb,5e6500026030eccd95fb4bdacd9f5d6bbed1d929,Paul Brook,2009-07-17,ARM host fixes\n\nMinor TCG cleanups and warning fixes for ARM hosts.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9996613264083862,"ARM, TCG","tcg/arm/tcg-target.c, tcg/arm/tcg-target.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c0a2a096a0f1655e604370ab373bf96f6784b69b,12a71a027c49db34d88ad69989d7c0bf6cca658d,Blue Swirl,2009-07-20,Fix build with DEBUG_PCI in pci_host.h enabled\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9997017979621888,PCI,hw/ppce500_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b80a55e67b90a87646c44474822a40c00b821d37,861bbc8052781e24bc1ecf3bbbe2c213d05ba889,Alexander Graf,2009-07-17,Fix warning in kvm-all.c\n\nThis fixes a warning I stumbled across while compiling qemu on PPC64.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.99968159198761,"PPC, PPC64",kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ce536cfd1c33bf1a59a02436a025ddc7ef3a63b6,bb53fc5394201c0cbe3c89a1c9fa5fbd6a3b832c,Beth Kon,2009-07-24,"HPET fixes for reg writes\n\nThis patch addresses the problems found by Andriy Gapon:\n\n- The code was incorrectly overwriting the high order 32\n  bits of the timer and hpet config registers. This didn't show up\n  in testing because linux and windows use hpet in legacy mode,\n  where the high order 32 bits (advertising available interrupts)\n  of the timer config register are ignored, and the high order 32\n  bits of the hpet config register are reserved and unused.\n\n- The mask for level-triggered interrupts was off by a bit. (hpet\n  doesn't currently support level-triggered interrupts).\n\nIn addition, I removed some unused #defines, and corrected the ioapic\ninterrupt values advertised. I'd set this up early in hpet development\nand never went back to correct it, and no bugs resulted since linux and\nwindows use hpet in legacy mode where available interrupts are ignored.\n\nSigned-off-by: Beth Kon <eak@us.ibm.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997207522392272,HPET,"hw/hpet.c, hw/hpet_emul.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fc5d642fcae392bbc9fed9ac6bc78ac29ed48372,aaf10d9d2e14ceed03b75f24494fb3e8c4d15d57,Luiz Capitulino,2009-07-22,"Fix broken build\n\nThe only caller of on_vcpu() is protected by ifdef\nKVM_CAP_SET_GUEST_DEBUG, so protect on_vcpu() too otherwise QEMU\nmay not to build.\n\nSigned-off-by: Luiz Capitulino <lcapitulino@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997050166130066,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2e29bd04786003561303dcad940b38afe790fb9b,426f17bb0b8dc30d29c27eed0a01cb2c113e9066,Blue Swirl,2009-07-31,PPC: convert Uni-north to qdev: also fixes Mac99 machine crash\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9871339201927184,PPC,hw/unin_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5e1e0a3bb9ae875f32c1f605e50c4766b93e6032,4c6aa085a8371a24603a919fe4264fd92dbccf02,Blue Swirl,2009-08-22,"ESP: Implement select without ATN, fix comments\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9935762286186218,ESP,hw/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4e6f6d4c20252c6900f01787559b97a559c0b402,0d6b0b1d8190738b820955bf749741c1ae60e7d7,Laurent Desnogues,2009-08-25,ARM back-end: Fix encode_imm\n\nthe encode_imm function in tcg/arm/tcg-target.c lacks shift declaration.\n\nLaurent\n\nSigned-off-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nSigned-off-by: Andrzej Zaborowski <andrew.zaborowski@intel.com>,1,0.9996209144592284,ARM,tcg/arm/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e44bd6fc15757193d044188213e439ca942dd581,f8274971945206f350f22439497f72c8ba8365ee,Stefan Weil,2009-08-28,Don't compile aio code if CONFIG_LINUX_AIO is undefined\n\nThis patch fixes linker errors when building QEMU without Linux AIO support.\n\nIt is based on suggestions from malc and Kevin Wolf.\n\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9996860027313232,LINUX,block/raw-posix.c,0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4e2a68c1e1b296bca8a60b480ac935527cd87953,9e3a95ef4752dc86bf30a578be4a579a7c6c04e6,Artyom Tarasenko,2009-08-31,"esp (sparc32) Extra scsi data.\n\n> ESP: Message Accepted (12)\n> ESP: Transfer status (sense=0)\n> ESP: read reg[5]: 0x20\n> ESP: read reg[4]: 0x07\n> ESP: read reg[7]: 0x02\n> Extra scsi data. Fatal error.\n\nIt looks like ""Message Accepted"" shouldn't write a response. At least\nESP_RFLAGS must definetely be 0. With the following fix OBP goes one\nstep further:\n\nSigned-off-by: Artyom Tarasenko <atar4qemu@gmail.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997126460075378,ESP,hw/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ae027ad3c5ea9a041f46c22bcb52e879645ed171,7b8c51add768584118a14d84f799e73ab1ec988b,Stefan Weil,2009-08-28,mips malta: Fix fdc regression and use qdev for i8042 setup\n\n8baf73adf664e79eae201c3f618078a220a661d9 (qdev/isa: convert fdc)\nbreaks MIPS Malta:\n\nTried to create isa device isa-fdc with no isa bus present\n\nFix this by creating an isa bus for piix4.\nThis change also requires some more qdev related changes\n(similar changes were applied to pc.c) and allows\ncleaning of piix3/piix4 code.\n\nThanks to Gerd Hoffmann for his hints.\n\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.947828471660614,MIPS,"hw/ide.h, hw/ide/pci.c, hw/mips_malta.c, hw/pc.c, hw/piix4.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,321c1cb10b93b5a32b8d1299653f434ab44a8535,4d224196614a005b519682b3eaff312ec71b5b97,Jean-Christophe DUBOIS,2009-09-02,fix vl.c compilation if CONFIG_KVM is not defined\n\nvl.c will not link if CONFIG_KVM is not defined.\n\nThis patch fixes the problem.\n\nSigned-off-by: Jean-Christophe Dubois <jcd@tribudubois.net>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.999732792377472,KVM,vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,13f5545daa8b4d12221bc69287c6a5d87962e115,733318ea9c6d846a6a047b87619e7d9d6e9707d1,Juan Quintela,2009-09-09,"Fix VMSTATE_PCI_DEVICE version\n\nPCI device entries have to have a default version, not 2, because they are\nused in the midle of other structures that can have _any_ version number.\n\nWe can't use proper versioning here until we have SubSections support.\nWhy we didn't noticed before?  Because in a PC, the only device ported with\na version less that 2 is piix_pm, and for that one, default pci values are\nright.  If you use a virtio-console, you will see that its state it is not\nloaded back.\n\nThanks to Amit Shah for reporting the problem and help debug the fix.\n\nSigned-off-by: Juan Quintela <quintela@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.999664545059204,PCI,hw/hw.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aeec26d348363d6b03d3f2679d86d53017cf6dd4,91553dcc9ea95ac0b92b57a4f33bfcbe8378e965,Stefan Weil,2009-09-06,Fix conditional compilation (MIPS host)\n\nCompilation for MIPS host (not part of official QEMU)\nchecks __mips_isa_rev which is not always defined.\n\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9996932744979858,MIPS,cpu-all.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b8193adbda922659ba290fd9fb6ee053ee191d70,711bf3d954371abffc07e397fc868a9c9e7e5585,Michael S. Tsirkin,2009-09-07,qemu: init all queues to NO_VECTOR value\n\ninitialize vectors for all vqs to VIRTIO_NO_VECTOR rather than 0 which\nis a valid vector. This fixes migration which happened before driver\nwas loaded.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReported-by: Amit Shah <amit.shah@redhat.com>\nTested-by: Amit Shah <amit.shah@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9996486902236938,VIRTIO,hw/virtio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ed757e140c0ada220f213036e4497315d24ca8bc,aa659be3dc2aa86614bcf6960f9d4af2a4362156,Yan Vugenfirer,2009-09-08,"VirtIO: Fix QEMU crash during Windows PNP tests\n\nHello,\n\nIn some cases bus driver can deassert ""bus master"" bit in PCI command\nregister. The driver will no longer be able to update related registers in\nthe device. Eventually it will cause QEMU to exit in ""virtqueue_num_heads""\nfunction.\n\nAttached path that fixes the described issue.\n\nBest regards,\nYan Vugenfirer.\n\n>From 3fdafbdfad676ec8479dc073cff70bf356868bfe Mon Sep 17 00:00:00 2001\nFrom: Yan Vugenfirer <yvugenfi@redhat.com>\nDate: Tue, 8 Sep 2009 10:08:14 -0400\nSubject: [PATCH] VirtIO: Fix QEMU crash during Windows PNP tests\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997254014015198,PCI,hw/virtio-pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d03f09ccdee789168b5a26d2f4c5187717ec5605,ed757e140c0ada220f213036e4497315d24ca8bc,Markus Armbruster,2009-09-05,qdev: Fix i6300 upcast\n\nUse DO_UPCAST() instead of container_of() to go from PCIDevice to\nI6300State.  This ensures that PCIDevice is the first member of struct\nI6300State.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.999701201915741,PCI,hw/wdt_i6300esb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7b270ef2a3f1429b3a97aab4f5a3332da61591b9,b37fc148bb81b5b022846156a6cba266e6c23962,Nathan Froyd,2009-07-14,"target-mips: fix single-stepping\n\nSingle-stepping branches on MIPS didn't work right, because the\ngeneration of EXCP_DEBUG happened after the generation of the code to\nexit the current TB.  That is, given the code:\n\n    bne v0,v1,target\n    nop\n    ...\n  target:\n    addu v0,v0,v1\n  1:\n\nwhen you single-stepped through the NOP, execution wouldn't actually\nhalt until you reached the label `1'.\n\nThis patch corrects that and also changes single-stepping so that a\nbranch and its delay slot are executed as one instruction for the\npurposes of single-stepping.  This behavior is comparable to what other\nMIPS tools (e.g. MIPSsim with MDI) do.  GDB avoids placing breakpoints\nin branch delay slots, so this change doesn't break anything on the GDB\nside.\n\nSigned-off-by: Nathan Froyd <froydnj@codesourcery.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.99958473443985,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,87b78ad18f61864011779616d2010926d71d9881,979ba184aaa1746f13c79cde6eb4aa4ac758823c,Laurent Desnogues,2009-09-21,ARM host: fix generated blocks linking\n\nThis patch fixes the linking of generated blocks on an ARM host.\nNo need to say this brings a very nice speedup :-)\n\nSigned-off-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9997009038925172,ARM,exec-all.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6692b043198d58a12317009edb98654c6839f043,731c54f86988d3f28268f184fabfe9b2a32fb5d3,Aurelien Jarno,2009-09-29,TCG: fix DEF2 macro\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.99971204996109,TCG,tcg/tcg.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b3807725f6540f9f2f02ce040c85df2f69cba080,5f30fa18ad043a841fe9f0c3917ac60f2519ebd1,Jan Kiszka,2009-09-17,kvm: Fix guest single-stepping\n\nHopefully the last regression of 4c0960c0: KVM_SET_GUEST_DEBUG requires\nproperly synchronized guest registers (on x86: eflags) on entry.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9996880292892456,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,48042d861e364c04d0431cc6f52594ea00267c80,19a2223feaabc6c574af57c8c5f1c21a60e8d194,Markus Armbruster,2009-09-25,"Fix pci_vga_init() not to ignore bus argument\n\nCommit a414c306 converted all VGA devices to qdev.  It used\npci_create_simple() for all devices, except for this one it used\npci_create().  That's wrong, because it uses PCI bus#0 regardless of\nthe bus argument.  Fix by switching to pci_create_noinit().\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.999643087387085,"PCI, VGA",hw/vga-pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,05fcfada5e45b900c32ca6bccf0ce52cb5422509,dc1c9fe8b759d4e70222d8f94838a6f6ef5c4ef1,Michael S. Tsirkin,2009-10-05,"qemu/pci: clarify pci config load routine\n\nPCI load routine has to be called with size equal to 256 (otherwise it\nwill crash in weird ways).  So assert this, making code clearer.\nAlso avoid dynamically sized array on stack - good for portability.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nCc: Juan Quintela <quintela@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9922375082969666,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5041fccd8ebed677f4d3012011657f8cc2340ea4,bf854d65a5db2380ef2f0e8014f79a405c523b94,Roy Tam,2009-10-15,"MIPS jazz: create isa bus\n\nAs i8259 in mips_jazz.c is not correctly connected to the isa bus, the\nmc146818rtc isa devices fails to be created.\n\nSigned-off-by: Roy Tam <roytam@gmail.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9951366782188416,MIPS,hw/mips_jazz.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,15bb4eac129931329e3b4d1493331b780d2a92f4,194576157afb34f7ce69cde800bf9715c730b39f,Filip Navara,2009-10-15,target-arm: fix TANDC and TORC instructions\n\nUninitialized register was used instead of proper TCG variable.\n\nSigned-off-by: Filip Navara <filip.navara@gmail.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.999652862548828,TCG,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dcc7e25fd18e453168c8f2e59b50a335d0a9346a,581d45f02916687e1afc679ad3e44a10e85c36a1,Paul Bolle,2009-10-13,"usb-linux: return USB_RET_STALL on -EPIPE\n\n0) This is an attempt to get an issue in usb-linux.c, for which a patch\nwas posted about a year ago, finally fixed.\n\n1) Mark Burkley submitted a ""EHCI emulation module"" for review in in\nOctober 2008 (see:\nhttp://lists.gnu.org/archive/html/qemu-devel/2008-10/msg01326.html). No\nEHCI emulation module was ever committed to qemu.\n\n2) Part of that (large) patch was a fix for a separate issue in\nusb-linux.c. Max Krasnyansky has ACK'ed that fix (see:\nhttp://lists.gnu.org/archive/html/qemu-devel/2008-11/msg00032.html).\n\n3) I already asked whether this fix was ready to be committed in last\nApril (see:\nhttp://lists.gnu.org/archive/html/qemu-devel/2009-04/msg01763.html)\n\n4) Maybe submitting this fix as a separate patch (with a really long\ncommit message but without a Signed-off-by) and cc-ing everbody involved\nwill help if actually getting this issue fixed.\n\nPaul Bolle\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.999680519104004,USB,usb-linux.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,30d335d68d93705eb346387c03bb6aca0f52454a,5b684b5a56e81f6f88234952fe8ed68010c36e19,Gerd Hoffmann,2009-10-14,"hotplug: more fixes for scsi disk hotplug.\n\nChanges:\n - create common scsi_hot_add function for adding a scsi disk to\n   a adapter.\n - Add sanity checks.  You can't drive_add disks to the VGA any more.\n - Ignore the unit value calculated by drive_init, add a comment\n   explaining why.  Review the patch to find the details ;)\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9980323910713196,VGA,hw/pci-hotplug.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,83ef8fe03b9b8acdb90e5aa08e77f9be2a67b09e,fe740c431666e2e34db199eef20d8a678f6a4a5f,Juan Quintela,2009-10-14,vmware_vga: remove !EMBED_STDVGA code\n\nIt don't compile.  And the trivial fixes (change vga.foo field to foo field\ndon't work either.  No output\n\nSigned-off-by: Juan Quintela <quintela@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9920976161956788,VGA,hw/vmware_vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,76f5159d7fc4cdea9574dfbb54307735b280bc66,79758e95d7f018dabd726bf7eb8cdd087692410c,Michael S. Tsirkin,2009-10-26,"qemu/msix: fix table access issues\n\nFixes a couple of issues with msix table access:\n- With misbehaving guests, misaligned 4 byte access could overflow\n  msix table and cause qemu to segfault. Since PCI spec requires\n  host to only issue dword-aligned accesses, as a fix,\n  it's enough to mask the address low bits.\n- Tables use pci format, not native format, and so\n  we must use pci_[sg]et_long on read/write.\n\nReported-by: Juan Quintela <quintela@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997428059577942,PCI,hw/msix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3e6ba503400c34cbe0f9ad6e289921688bf303a3,2d7adea4fe57a12f3b9f4b4761db2a90cb54173a,Artyom Tarasenko,2009-11-04,Sparc: fix carry flag handling (Solaris bootblk fix)\n\nThe page 108 of the SPARC Version 8 Architecture Manual describes\nthat addcc and addxcc shall compute carry flag the same way.\nThe page 110 claims the same about subcc and subxcc instructions.\nThis patch fixes carry computation in corner cases and removes redundant code.\nThe most visible effect of the patch is enabling Solaris boot when using OBP.\n\nSigned-off-by: Artyom Tarasenko <atar4qemu@gmail.com>\n[blauwirbel@gmail.com: cleaned up formatting]\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9995763897895812,SPARC,target-sparc/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b4558d7481aefc865b0b52bf9b285ebcf2e8b59f,4a6435639781214a14f3c6054955e5ef16298d72,Blue Swirl,2009-11-07,"(x86/Sparc/PPC)-user: fix cpu_copy\n\nb55a37c981914aa8ecd21b9a2a2fb37f39b917c5 moved the call to cpu_reset\nto user emulators. But cpu_copy also initializes a CPU structure, so add the\ncall also there.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9994031190872192,PPC,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,39a51dfda835a75c0ebbfd92705b96e4de77f795,c79662f7f765a0e6cb7aa26902cc8d61f9022dd5,Markus Armbruster,2009-10-27,"qdev: Tag isa-fdc, PIIX3 IDE and PIIX4 IDE as no-user\n\nThese devices are created automatically, and attempting to create\nanother one with -device fails with ""qemu: hardware error:\nregister_ioport_write: invalid opaque"".\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9993896484375,"PIIX3, PIIX4","hw/fdc.c, hw/ide/piix.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2e49d64ac7578b707f1dffb825cf355b29514fd9,783c4f5835688eac4121e14bdeba79577d061a13,Isaku Yamahata,2009-10-30,pci: fix PCI_DPRINTF() wrt variadic macro.\n\nadd missing ## in PCI_DPRINTF() to compile.\n\nSigned-off-by: Isaku Yamahata <yamahata@valinux.co.jp>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9996583461761476,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ba42b6467b0e95f29187539237424cec13f0d5da,b4dccd8db43f6ee45389916bb96846344f7ce203,Stefan Weil,2009-10-30,"eepro100: Improve support for different devices\n\n* Add device properties (size of statistical data,\n  extended tcb support) to EEPRO100State and set\n  these values for the different devices.\n\n* Fix PCI configuration for existing devices.\n\n* Add initialisation code for missing devices.\n\n* Remove function device_supports_eTxCB.\n  It is no longer needed.\n\n* Fix dump of statistical data. It now respects\n  the real size of the statistical data.\n  An endianess issue was fixed here, too.\n\n* CU_SHOWSTATS, CU_DUMPSTATS now write a\n  completion value after the statistical data.\n  There is no need to keep this value in\n  eepro100_stats_t, so member ""complete""\n  could be removed.\n\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.999154806137085,PCI,hw/eepro100.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f2d74978764f62d832d61ac17bb5d934ade58816,715a664ac4ca3b9e44ffbc0ca41ecd91fbe96656,Paul Brook,2009-11-11,Fix ARM system emulation\n\nSince 45a50b1 load_image_targphys should only be called once.\nARM boards incorrectly call it every time the system is reset.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9997063279151917,ARM,"hw/arm-misc.h, hw/arm_boot.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,be0f204aa0d8743f0627cd3cffb0ffc5bbf962e9,97fe84f5efbd4f3ded433b7da5daca1f8fd5a82f,Paul Brook,2009-11-11,Fix ARM MCore secondary cpu boot\n\nMake MPCore secondary cpu initialization work with the new reset\nhandling.  Also change the inital FLAG value from 3 to zero to match\nrecent kenrels.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9982835054397584,ARM,"hw/arm_boot.c, hw/arm_sysctl.c, hw/realview.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bc90ff774221e77fe0f8a319ceab3e1fe7169298,c988bfadc9cabb441cfc70cb011df5ee26f2ec5f,Blue Swirl,2009-11-13,"Fix PPC crash\n\nBecause of a typo, structure field vga_bios_size was not initialized\nproperly and a bogus BAR6 for the nonexistent VGA BIOS appeared.\n\nThe bug was uncovered by c169998802505c244b8bcad562633f29de7d74a4.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997227787971495,"PPC, VGA",hw/vga-pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c364c974d9ab90e25e7887f516da65d2811ba5e3,3e65aaf5b2a01272fcd71d9b4efa7fe94c9c11af,Blue Swirl,2009-11-15,"PCI: make duplicate devfn allocation fatal\n\nOnly two callers of pci_create_simple/pci_register_device bothered\nto check the return value. Other cases were prone to crashing with\nspurious NULL pointer dereferences.\n\nMake QEMU exit with an error message when devfn is attempted to\nbe duplicated, also applies to case when the bus is full. Remove\nchecks.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9995526671409608,PCI,"hw/openpic.c, hw/pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,603987488c61ca02ee99890d07cdaecdb118a659,c364c974d9ab90e25e7887f516da65d2811ba5e3,Blue Swirl,2009-11-15,"PPC64: Partial fix to Linux crash: revert to old devfn\n\nBefore 2e29bd04786003561303dcad940b38afe790fb9b, Uni-North host and AGP\nbridge were using the same devfn, 11 << 3. The net effect was that only\nAGP bridge was visible. This was changed in the commit to 13 << 3 for AGP.\n\nSome of the later crashes happened due to NULL pointer dereferences generated\nby 07b7d05377a5e2b242ef0cce3d461d3284700fc0 and insufficient return value\nchecks.\n\nDisable host device and revert AGP to 11 << 3.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9982447624206544,"PPC, PPC64",hw/unin_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d27d06f21fa87ec08d05d7ab6e9b096d7605b803,603987488c61ca02ee99890d07cdaecdb118a659,Blue Swirl,2009-11-15,PPC64: map Uni-North AGP bus aka fix Linux boot\n\nUni-North AGP device mapping was accidentally dropped in\n2e29bd04786003561303dcad940b38afe790fb9b.\n\nMap the device.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9971081614494324,"PPC, PPC64",hw/unin_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ae1be0bbc127a9a6289873efdb7cb22c57d81a9d,1b8e9b274287ea7e2256244e62ed285b7d83e0ad,Michael S. Tsirkin,2009-11-25,msix: fix mask bit state after reset\n\nPCI spec states that mask bit must be 1 after reset.\nMake it so.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9997041821479796,PCI,hw/msix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,98304c846d8866dae6322ef400ce6595b23cfc41,1f944c661a821774e7b8cfbf5560a238795f2a60,Michael S. Tsirkin,2009-11-25,"msix: clear pending bit of an unused vector\n\nPCI spec states:\nif a masked vector has its Pending bit set, and the associated\nunderlying interrupt events are somehow satisfied (usually by software\nthough the exact manner is function-specific), the function must clear\nthe Pending bit, to avoid sending a spurious interrupt message later\nwhen software unmasks the vector.\n\nIn our case this happens if vector becomes unused.\nClear pending bit in this case.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9966705441474916,PCI,hw/msix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b3a219883ebe21f55a8ee5e7e5b38b9eb309e9c0,51954d565fc5566897f6a6d90feb62e4944cebc5,Juha Riihimki,2009-06-08,"fix I2C slave addressing\n\nWith the recent device handling changes the I2C slave addressing code\nwas broken. With current code, if a slave with the correct address is\n\nnot found on the bus the last scanned slave on the bus will be\naddressed. This is wrong. Please find attached a patch to fix it.\n\nSigned-off-by: Juha Riihimki <juha.riihimaki@nokia.com>\nAcked-by: Riku Voipio <riku.voipio@iki.fi>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996801614761353,I2C,hw/i2c.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,77203ea00b3abc8246722a0e6f982c2932387a09,cc9f28bc2a95eb96959c39ce498800bbd95cc77b,Laszlo Ast,2009-11-19,"lsi53c895a: Fix message code of DISCONNECT\n\nSee SCSI-2, 6.5 Message system description/message codes.\n\nSigned-off-by: Laszlo Ast <laszlo.ast@siemens-enterprise.com>\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.999648094177246,SCSI,hw/lsi53c895a.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e560125e2692714054b718b51211f32a311538b5,38f5b2b88cbe02492a4cad3aa06a778a952f7146,Laszlo Ast,2009-11-19,"lsi53c895a: Implement IRQ on reselection\n\nThe critical part of this change is how to deal with simultaneaous\ngeneration of interrupts. The only (normal) case when this happens in\nthe emulation is near simultaneous reselection + selection. If selection\ncomes first, there is no problem, since the target attempting\nreselection loses the arbitration (in the emulation it only means that\nthe reselect function will not be started). In the worst case the host\nadapter is reselected, but the device driver already started a\nselection, so we jump to the alternative address to handle the\nsituation.\n\nThe SCRIPTS code can trigger another interrupt to notify the driver that\nthe new task has to be postponed. I suppose that on real hardware there\nis enough time after the reselection interrupt to set the SIP bit before\nthe next interrupt comes, so it would result in 2 stacked interrupts (a\nSCSI and a DMA one). However, in the emulation there is no interrupt\nstacking, so there is a good chance that the 2 interrupts will get to\nthe interrupt handler at the same time.\n\nNevertheless, it should not make a big difference in interrupt handling,\nsince in both cases both interrupts have to be fetched first, and after\nthat the new task (that failed during the selection phase) has to be\nprepared/reset for a later restart, and the reconnected device has to be\nserviced.\n\nThe changes do not modify the host adapter's behavior if this interrupt\nis not enabled.\n\nSee also LSI53C895A technical manual, SCID and SIEN0.\n\nSigned-off-by: Laszlo Ast <laszlo.ast@siemens-enterprise.com>\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9994768500328064,SCSI,hw/lsi53c895a.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f74ab486d573e7b122ad9702194104aa90f30d53,40ff6d7e8dceca227e7f8a3e8e0d58b2c66d19b4,Michael S. Tsirkin,2009-11-30,"qemu: make cirrus init value pci spec compliant\n\nPCI memory should be disabled at reset, otherwise\nwe might claim transactions at address 0.\nI/O should also be disabled, although for cirrus\nit is harmless to enable it as we do not\nhave I/O bar.\n\nNote: bios fix needed for this patch to work\nwas already applied:\npreviously bios incorrently assumed that it does not\nneed to enable i/o unless device has i/o bar.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nAcked-by: Juan Quintela <quintela@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9994927644729614,PCI,hw/cirrus_vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ba5e50908c66751b2c387ece023b796be2563c47,feb9e61285df74b64a7ed63f7138e906ed55f083,Alexander Graf,2009-12-02,"target-ppc: Get MMU state on register sync\n\nWhile x86 only needs to sync cr0-4 to know all about its MMU state and enable\nqemu to resolve virtual to physical addresses, we need to sync all of the\nsegment registers on PPC to know which mapping we're in.\n\nSo let's grab the segment register contents to be able to use the ""x"" monitor\ncommand and also enable the gdbstub to resolve virtual addresses.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.999690055847168,PPC,target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,550fe6c6fc3cfcb9ed62340492326ae86b4329de,a0fb002c6462d21ceb9eac8c5772e469ec189374,Laszlo Ast,2009-11-19,"SCSI: Fix Standard INQUIRY data\n\nVendor identification, product identification and product revision level\nshould be padded with spaces without a terminating NULL character, see\nSCSI-2 standard, 8.2.5.1 Standard INQUIRY data.\n\nSigned-off-by: Laszlo Ast <laszlo.ast@siemens-enterprise.com>\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996101260185242,SCSI,hw/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0745eb1e4336bf665a911754d18ddd63794b352d,21eb3a2ba3af9aa7c9c46d91d7be0fbdfb393b0d,Markus Armbruster,2009-11-27,"Fix recently introduced bugs in -usbdevice host\n\nCommit 26a9e82a has the following flaws:\n\n* It enabled DEBUG.\n\n* It referenced two properties by the wrong name in\n  usb_host_device_open(), which crashes with ""qdev_prop_set: property\n  ""USB Host Device.bus"" not found"".\n\n* It broke ""-usbdevice host:auto:..."" by calling parse_filter()\n  incorrectly.\n\n* It broke parsing of ""-usbdevice host:BUS.ADDR"" and ""-usbdevice\n  host:VID:PRID"" with a trivial pasto.\n\n* It broke wildcards in ""-usbdevice host:auto:..."".  Before, the four\n  filter components were stored as int, and the wildcard was encoded\n  as -1.  The faulty commit changed storage to uint32_t, and the\n  wildcard encoding to 0.  But it failed to update parse_filter()\n  accordingly.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997206330299376,USB,usb-linux.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5d7ff5bbde21858b43af38e7cb5cae59bd4668ad,ee4660f9258dedfcb275a0fbed6c795f470a0caf,Andreas Faerber,2009-12-06,"TCG: Mac OS X support for ppc64 target\n\nDarwin/ppc64 does not use function descriptors,\nadapt prologue and tcg_out_call accordingly.\nGPR2 is available for general use, so let's use it.\n\nhttp://developer.apple.com/mac/library/documentation/DeveloperTools/Conceptual/LowLevelABI/110-64-bit_PowerPC_Function_Calling_Conventions/64bitPowerPC.html\n\nv2:\n- Don't mark reserved GPR13 as callee-save.\n- Move tcg_out_b up.\n- Fix unused variable warning in prologue.\n\nSigned-off-by: Andreas Faerber <andreas.faerber@web.de>\nCc: malc <av1474@comtv.ru>\nSigned-off-by: malc <av1474@comtv.ru>",1,0.9936281442642212,TCG,tcg/ppc64/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6fb6d245546d3ae48c4cb764b3593e4739aa1364,5d7ff5bbde21858b43af38e7cb5cae59bd4668ad,Jan Kiszka,2009-12-06,kvm: x86: Fix initial kvm_has_msr_star\n\nKVM_GET_MSR_INDEX_LIST returns -E2BIG when the provided space is too\nsmall for all MSRs. But this is precisely the error we trigger with the\ninitial request in order to obtain that size. Do not fail in that case.\n\nThis caused a subtle corruption of the guest state as MSR_STAR was not\nproperly saved/restored. The corruption became visible with latest kvm\noptimizing the MSR updates.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9997093081474304,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6d9fef1a02e6efd51e9ebd0130651ca61f75839b,6fb6d245546d3ae48c4cb764b3593e4739aa1364,Andre Przywara,2009-12-07,"cpuid: Fix multicore setup on Intel\n\nThe multicore CPUID code detects whether the guest is an Intel or an\nAMD CPU, because the Linux kernel is picky about the CmpLegacy bit.\nKVM by default passes through the host's vendor, which was not\ncatched by the code. So fork out the vendor determining bits into a\nseparate function to be used from both places and always get the real\nvendor.\nThis fixes KVM's multicore setup on Intel CPUs.\n\nSigned-off-by: Andre Przywara <andre.przywara@amd.com>\nReported-by: Dietmar Maurer <dietmar@proxmox.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996421337127686,KVM,target-i386/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,725b8a6983215de4e510be68d120279d29ceec41,7029a83bd6f71c6fe748220eb481f2afff3ab33f,Paul Brook,2009-12-11,Fix ARM userspace strex implementation.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.999652624130249,ARM,linux-user/main.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,64465297cd4c701942988f36f7ce707fb21cc1d8,e1c09175bc00dd8dfb2ad1b26e1858dcdc109b59,Gerd Hoffmann,2009-12-08,"default devices: vga adapter.\n\nQemu creates a vga display for you in case you didn't specify one on the\ncommand line.  Right now this is tied to the '-vga <type>' command line\nswitch, which in turn causes trouble if you are creating your gfx card\nusing '-device VGA,<props>'.\n\nThis patch adds a variable default_vga which says whenever a default\nserial line should be added.  It is enabled by default.  It is cleared\nwhen qemu finds '-vga' or '-device {VGA,Cirrus VGA,QEMUware SVGA}' on\nthe command line.\n\n'-device VGA' still doesn't work though due to a initialization order\nissue (vga must init before calling i440fx_init_memory_mappings).\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9994524121284484,VGA,vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,09e3acc6cfabfd85a9dacc04471df5f05019c779,53e0d8affe8514b070db2d265af13a534cb8eda4,Gerd Hoffmann,2009-12-10,"pci: don't hw_error() when no slot is available.\n\nCurrent PCI code will simply hw_error() and thus abort in case no free\nPCI slot is available or the requested PCI slot is already in use by\nanother device.  For the hotplug case this behavior is not acceptable.\nThis patch makes qemu pass up the error properly, so the calling code\ncan decide whenever it wants to exit with an error (on startup) or\nwhenever it wants to continue (hotplug).\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996888637542723,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,91a759352623e4a3da969fa66626cc99241e9da2,f1e00a9cf326acc1f2386a72525af8859852e1df,Nathan Froyd,2009-12-11,"target-mips: fix user-mode emulation startup\n\nRunning programs with the MIPS user-mode emulator fails during dynamic\nloading, as floating-point instructions are not enabled in in\nenv->hflags.  Move the code for doing so from fpu_init to cpu_reset so\nthe MIPS_HFLAG_{FPU,F64} setting doesn't get clobbered by cpu_reset\nsetting env->hflags to MIPS_HFLAG_UM.\n\nThe same end can be achieved by swapping the ordering of fpu_init and\ncpu_reset in cpu_mips_init, but it seemed better to consolidate the\nCONFIG_USER_ONLY code into a single location.\n\nSigned-off-by: Nathan Froyd <froydnj@codesourcery.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.999313235282898,MIPS,"target-mips/translate.c, target-mips/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,806991da3ab4b4a09720e0bd09d4bb7e06d594b0,13e4df99ce5a2fde4b8ac9a21c3d98db4c629b7c,Richard Henderson,2009-12-10,target-alpha: Fix -d in_asm\n\nGeneric disassembly was incorrectly keyed on ALPHA_DEBUG_DISAS\nrather than the generic DEBUG_DISAS.  Use qemu_log_mask for\nadditional LOG_DISAS output.  Delete some random insn_count\nlogging noise from gen_intermediate_code_internal.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9994826316833496,ALPHA,target-alpha/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,73642f5bdb71f478f221593ec7b06c974a2cb5b6,4c24aa0a69796005447982a6c70bf58c66311bdc,Stefan Weil,2009-12-15,"target-mips: 4Kc, 4KEc cores do not support MIPS16\n\n4Kc, 4KEc cores do not support MIPS16, so not only the\nCP0_Config1 had to be fixed (see previous patch),\nbut also MIPS16 instructions must not be executed.\n\n(Hint from Nathan Froyd, thanks).\n\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997044205665588,MIPS,target-mips/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ab3aee26c480eb5e522896b3f758a3c3c3c9f9c6,212df029754caabba45f941fbd22ec219b934ef9,Stefan Weil,2009-12-15,"target-mips: No MIPS16 support for 4Kc, 4KEc cores\n\nFix regression introduced by d19954f46dfc262612c30e9534e660e953049487.\n\n4Kc and 4KEc don't support MIPS16.\n\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996614456176758,MIPS,target-mips/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,31827373f03b0ff1550d45ddef0ca1305a2ae70d,02c2b87fff97e77a1f6033fb09f53afa267c0c1e,Jan Kiszka,2009-12-14,kvm: x86: Use separate exception_injected CPUState field\n\nMarcelo correctly remarked that there are usage conflicts between QEMU\ncore code and KVM /wrt exception_index. So spend a separate field and\nalso save/restore it properly.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.978847086429596,KVM,"target-i386/cpu.h, target-i386/kvm.c, target-i386/machine.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f0138a63a41fe26bcef61d031ae53d872d12a992,f351d050dccfc469fecd353d095526d52e4632c6,Anthony Liguori,2009-12-18,"Make sure to enable dirty tracking of VBE vram mapping\n\nApparently, VBE maps the VGA vram to a fixed physical location.  KVM requires\nthat all mappings of the VGA vram have dirty tracking enabled on them.  Any\naccess to the VGA vram through the VBE mapping currently fails to result in\ndirty page tracking updates causing a black screen.\n\nThis is the true root cause of VMware VGA not working correctly under KVM and\nlikely also an issue with some of the std-vga black screen issues too.\n\nCirrus does not enable VBE so it would not be a problem when using Cirrus.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\nRebased-by: Dave Airlie <airlied@redhat.com>",1,0.9996250867843628,"KVM, VGA","hw/vga-isa.c, hw/vga-pci.c, hw/vga.c, hw/vga_int.h, hw/vmware_vga.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a6109ff1b5d7184a9d490c4ff94f175940232ebd,ee3e41a9a0194af21d0da75f5afd87bea3738cf3,Anthony Liguori,2009-12-18,"Fix VMware VGA depth computation\n\nVMware VGA requires that the depth presented to the guest is the same as the\nDisplaySurface that it renders to.  This is because it performs a very simple\nmemcpy() to blit from one surface to another.\n\nWe currently hardcode a 24-bit depth.  The surface allocator for SDL may, and\nusually will, allocate a surface with a different depth causing screen\ncorruption.\n\nThis changes the code to allocate the DisplaySurface before initializing the\ndevice which allows the depth of the DisplaySurface to be used instead of\nhardcoding something.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.999336302280426,VGA,hw/vmware_vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ec7efac4a967c650ae1cd8cebe28e7c69cbe3864,47f5ba724871622c7db7a73fd05d6b3646478dd6,Daniel P. Berrange,2009-12-07,"Fix backcompat for hotplug of SCSI controllers\n\nSCSI controllers have no trouble existing without any attached\ndisks. This could be achieved with the (legacy) monitor syntax\n\n  pci_add pci_addr=auto storage if=scsi\n\nThis is now denied with\n\n  scsi requires a backing file/device.\n  failed to add if=scsi\n\nThere is no need for this denial and it breaks compatability\nwith existing QEMU usage, so remove the check for presence\nof a drive.\n\n  Signed-off-by: Daniel P. Berrange <berrange@redhat.com>\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996793270111084,SCSI,hw/pci-hotplug.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,82c09f2f0d0f405428ce0c567da2ada493acc30b,384dce1eded17cb0413b473d0d0bee993f254045,Alexander Graf,2009-12-19,"target-ppc: fix ppc32 kvm build\n\nMy segment sync patch broke compilation on PPC32, because it was trying to\nsync the SLB even though ppc32 CPUs don't have an SLB.\n\nSo let's only sync it when we're on a PP64 one!\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996626377105712,PPC,target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d14ed2548c3163cdb316eb4da36cd7a6a8975da4,0aced4e219f81ab583b2d99663e13c3278d163ea,Alexander Graf,2009-12-18,"target-ppc: Initialize OpenPIC properly\n\nWhen lowering an IRQ line, we search for the line we're supposed to lower.\n\nUsually we run into an optimization there that queues up interrupts. This\nqueue ends with -1. Unfortunately we didn't set the first item to -1.\n\nThis patch fixes this, making interrupts work on PPC64.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9987314343452454,"PPC, PPC64",hw/openpic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d049e626ad38be8b88246076398dbadbcf2e0f65,21e807fadb8a16608875551fd313cb471ab315ce,Nathan Froyd,2009-12-11,linux-user: fix ARM core dumps on opposite-endian hosts\n\nSigned-off-by: Nathan Froyd <froydnj@codesourcery.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9996441602706908,ARM,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e3ea652962383a2ffc05b2f1b10a0e97542eb6f8,c4b3be39661d158b3480ad6982dfdee36ec67c7a,Alexander Graf,2009-12-21,"PPC64: Fix timebase\n\nOn PPC we have a 64-bit time base. Usually (PPC32) this is accessed using\ntwo separate 32 bit SPR accesses to SPR_TBU and SPR_TBL.\n\nOn PPC64 the SPR_TBL register acts as 64 bit though, so we get the full\n64 bits as return value. If we only take the lower ones, fine. But Linux\nwants to see all 64 bits or it breaks.\n\nThis patch makes PPC64 Linux work even after TB crossed the 32-bit boundary,\nwhich usually happened a few seconds after bootup.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997074007987976,"PPC, PPC64","darwin-user/main.c, hw/ppc.c, linux-user/main.c, target-ppc/cpu.h, target-ppc/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b711de9565d3c8f758956dfa96b648cc321577b6,e3ea652962383a2ffc05b2f1b10a0e97542eb6f8,Aurelien Jarno,2009-12-21,PPC64: Fix alternate timebase\n\nFix the alternate time base the same way as the default timebase. SPR_ATBL\nshould return a 64-bit value on 64 bit implementations.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9995738863945008,"PPC, PPC64","darwin-user/main.c, hw/ppc.c, linux-user/main.c, target-ppc/cpu.h, target-ppc/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,73b01960b4af0e75c955757034a91b6370a4edb8,b711de9565d3c8f758956dfa96b648cc321577b6,Alexander Graf,2009-12-21,"PPC: Make DCR uint32_t\n\nFor what I know DCR is always 32 bits wide, so we should also use uint32_t to\npass it along the stacks.\n\nThis fixes a warning when compiling qemu-system-ppc64 with KVM enabled, making\nit compile without --disable-werror\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9992637038230896,"KVM, PPC","darwin-user/main.c, hw/ppc.c, hw/ppc.h, hw/ppc405_uc.c, hw/ppc4xx_devs.c, linux-user/main.c, target-ppc/cpu.h, target-ppc/helper.h, target-ppc/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf616802171905a9b6d087a69caa3b978b9cd741,6bb4ca57a15ab9458ce8821572def6758131d8b9,Blue Swirl,2009-12-27,PCI: Fix bus address conversion\n\nPass physical addresses to map functions instead of PCI bus addresses.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9997026324272156,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0b987f19342802dec38d0f257d2b5e0a0630a4ac,bae7b517a21abfa703871eba2428182311177f16,Blue Swirl,2010-01-10,PCI: Fix a typo\n\nFixes build with PCI_DEBUG defined.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.999731719493866,PCI,hw/pci_host.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3f7638ec4093100a63b18cbacd45dcd847f7c06b,af364b418cc57c53275c76ee5e0e0645908605b9,Jiri Denemark,2010-01-05,Fix CPU topology initialization\n\nLate initialization of CPU topology in CPUState prevents KVM guests to\nactually see the topology.\n\nSigned-off-by: Jiri Denemark <jdenemar@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.999648094177246,KVM,vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,49e75cf38848e6da70c0e9ddb4d994e9d71a9625,8172539d21a03e982aa7f139ddc1607dc1422045,Michael S. Tsirkin,2010-01-11,"virtio-pci: thinko fix\n\nSince patch ed757e140c0ada220f213036e4497315d24ca8bct, virtio will\nsometimes clear all status registers on bus master disable, which loses\ninformation such as VIRTIO_CONFIG_S_FAILED bit.  This is a result of\na patch being misapplied: code uses !  instead of ~ for bit\noperations as in Yan's original patch.  This obviously does not make\nsense.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997209906578064,"LED, VIRTIO",hw/virtio-pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c3863f25448c41654c652251992e1f22150263f5,ca1a8a0658e34b724fc2f5cbe5b72dbb65f68181,Anthony Liguori,2010-01-11,"Update to SeaBIOS 0.5.1\n\n  5da6833 Update version to 0.5.1\n  669c991 Fix sign error preventing incorrect memory over 4gig calculation.\n  7e6bd3e Minor - better indent assembler in int1587.\n  48cf232 Add comment explaining why mptable is in low memory.\n  643062f Add int1589 support.\n  085debd Set FDPT in irq table even for small drives.\n  7c1b186 Reduce #ifs by weeding out some cross-chunk function definitions.\n  f9b25d3 Fix vgahook sign issue; add warning to build to catch future cases.\n  3862b2d vgabios: Fix compile error due to fixed prototypes.\n  1ca05b0 Be sure to add ""void"" to all function prototypes that take no args.\n  b5bb9db mptable: Reset pinmask on new bus or device.\n  8918989 Detect latest FC12 gcc -combine breakage.\n  c9d3c2d Minor vga binary cleanups.\n  9a8609f Make MTRR region 0xc0000-0x100000 be cached.\n  fdca418 Force a link error if a function is used from the wrong code chunk.\n  dad41d9 Add __noreturn define for __attribute__((noreturn)).\n  c003148 Implement native 32bit APM support.\n  5c99b6c Commit compiled dsdt file; misc comment updates.\n  29f4b91 prevent acpi from rerouting SCI interrupt\n  4c94b7e enumerate all PCI buses in mptable\n  871e0a0 Add support for 32bit PCI BIOS entry.\n  eda2c83 Only add ""addr32"" to memory accesses that require them.\n  52a300f Introduce MODESEGMENT define; rename VISIBLE32 to VISIBLE32FLAT.\n  fe2c3ee Allocate smbios in temp space and copy into final location.\n  b164d2c Clear user reserved interrupts (0x60-0x66).\n  d9104ff Remove pci_bios_bigmem_addr; set pci_bios_mem_addr=0xe0000000\n  14021f2 Add initial support for ATA DMA.\n  8362699 Allocate mptable in temp space and copy into final location.\n  979862e Also report memory over 4G during init.\n  928d4df provide correct pci routing information in mptable\n  afc02da Add symbolic definitions for MTRR code.\n  fb214dc Fix yield() so it works from boot code.\n  2ceeec9 Fix potential build failure due to text16 section being too large.\n  a2195e4 Increase version in preparation for next release.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9990849494934082,"APM, PCI","pc-bios/bios.bin, roms/seabios",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3eb26cc2167e771c49f7a20f70d07d61d327c1ef,cc6dfecf02eadbdc14100dff54aec4df0c139393,Blue Swirl,2010-01-12,Sparc64: Fix PCI config accessor order\n\nFix by Igor Kovalenko.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9996938705444336,PCI,hw/apb_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,61702408c7b321ae57f871d4ccddb372ec0347ad,72ff25e4e98d6dba9286d032b9ff5432553bbad5,Stefan Weil,2010-01-07,eepro100: Fix initial value for PCI_STATUS\n\nThe numerical value was wrong (0x2800 instead of 0x0280)\nwhich indeed did not make sense.\n\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9997050166130066,PCI,hw/eepro100.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b3d6b95998a29fd5fe242d7354d64077ea53ae30,5716990376e22e758c434ba7092b8eacaa148973,Kazu Hirata,2010-01-14,"target-m68k: fix a typo in 'P' packet processing\n\nAttached is a patch to fix a typo in 'P' packet processing for M68K.\n\nWithout this patch, QEMU fails to honor GDB's P packets from GDB\n(writing to registers) for the address registers (A0 - A7).\n\nThe problem is because of an obvious typo.  Notice that the second\n""if"" condition is meant to be n < 16 in:\n\n  if (n < 8) {\n    :\n  } else if (n < 8) {\n\nSigned-off-by: Kazu Hirata <kazu@codesourcery.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997357726097108,M68K,gdbstub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,204c7a39d04a38af023fde0e56b3e8dfb2900782,3e39789b64b01444b6377a043894e6b9a3ba6cbb,Blue Swirl,2010-01-22,Sparc64: fix PCI probe problems\n\nByte swap PCI config values.\n\nRemove old bogus PCI config mechanism so that device 0:0.0 can be probed.\nThis requires OpenBIOS r667.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9978287816047668,PCI,hw/apb_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,642582296479eabded45f262acbfea5121d2fbf8,15e7c45139c74552dccb10a82c7631a68c18170a,Jan Kiszka,2010-01-23,Musicpal: Fix wm8750 I2C address\n\nCommit b3a219883e uncovered that we attached the Wolfson with an I2C\naddress shifted left by one. Fixing this makes sound work again for\nthe Musicpal.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@web.de>\nSigned-off-by: malc <av1474@comtv.ru>,1,0.999705970287323,I2C,hw/musicpal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,776e1bbb6cf4fe66a93c1a5dd814bbb650deca00,f139a4125682ecd45d96c2d1523443d1be65405c,Blue Swirl,2010-01-26,"PCI: fix bridge configuration\n\nPCI bridges' qdev info structures must indicate bridge header type,\notherwise critical bridge registers (esp. PCI_PRIMARY_BUS,\nPCI_SECONDARY_BUS, PCI_SUBORDINATE_BUS) will not be writable.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997201561927797,PCI,"hw/apb_pci.c, hw/grackle_pci.c, hw/pci.c, hw/unin_pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f8a83245d9ec685bc6aa6173d6765fe03e20688f,a35aed57bf47584b5f55b71acf8daba19decf12a,Herve Poussineau,2010-01-24,win32: pair qemu_memalign() with qemu_vfree()\n\nWin32 suffers from a very big memory leak when dealing with SCSI devices.\nEach read/write request allocates memory with qemu_memalign (ie\nVirtualAlloc) but frees it with qemu_free (ie free).\nPair all qemu_memalign() calls with qemu_vfree() to prevent such leaks.\n\nSigned-off-by: Herve Poussineau <hpoussin@reactos.org>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.999060332775116,SCSI,"block.c, block/raw-posix.c, exec.c, hw/scsi-disk.c, qemu-nbd.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,19ccb8ea1799f6f29ba5bc37d5f18dc8050d4029,aee028b95d1d250a727583a14c864bc95ec27c69,Jan Kiszka,2010-02-03,KVM: x86: Fix up misreported CPU features\n\nFrom qemu-kvm: Kernels before 2.6.30 misreported some essential CPU\nfeatures via KVM_GET_SUPPORTED_CPUID. Fix them up.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>,1,0.9994637370109558,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c021f8e65f5009a5ab5711d9d5326fcab553ef1c,e1c6bbabee30db2e007e7fcbdaf088c54151f1d0,Blue Swirl,2010-02-06,"PCI: fix multiple bridge problems\n\nWhen several PCI bridges were in use, monitor command ""info pci"" would\nenter into infinite loop. Buses behind the bridge were not discoverable\nbecause secondary and subordinate bus numbers were not used properly.\nOther buses were not found because bus search terminated on first miss.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997262358665466,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fd7a446f162768c044b3bf3844f7605eeef351af,5c43485f1bc7ba3e255e52b882de68d91f34b63c,Christian Krause,2010-01-24,"usb-linux: increase buffer for USB control requests\n\nThe WLAN USB stick ZyXEL NWD271N (0586:3417) uses very large\nusb control transfers of more than 2048 bytes which won't fit\ninto the buffer of the ctrl_struct. This results in an error message\n""husb: ctrl buffer too small"" and a non-working device.\nIncreasing the buffer size to 8192 seems to be a safe choice.\n\nSigned-off-by: Christian Krause <chkr@plauener.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9937607645988464,USB,usb-linux.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,37cc0b44b48fcb9f8d75105202d45e70ad1774ca,5105c5564cc062f848c6602e911b1a0b75befef7,Aurelien Jarno,2010-01-30,SH4/R2D: fix poweroff\n\nThe write the the PA_POWOFF register is currently ignored. Fix that by\ncalling qemu_system_shutdown_request() when a poweroff is requested.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9997323155403136,"R2D, SH4",hw/r2d.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b2eca4453fb60c85c63912b7218b41b521165d94,a2236d4820a09a35e017508c57564c97736c79f7,Alexander Graf,2010-02-09,"PPC: Fix large pages\n\nWe were masking 1TB SLB entries on the feature bit of 16 MB pages. Obviously\nthat breaks, so let's just ignore 1TB SLB entries for now and instead do\n16MB pages correctly.\n\nThis fixes PPC64 Linux boot with -m above 256.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997043013572692,"PPC, PPC64",target-ppc/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c68aaa18921b88ba98a9c62cfe45d59f56de7808,dbfe80e1eaf8790f6b3bc42c3a7d146ac8794ed2,Stefan Weil,2010-02-15,"tcg: Add consistency checks for op definitions\n\nWhen compiled with CONFIG_DEBUG_TCG, this code looks\nfor missing, duplicate and wrong entries in the\nop definitions.\n\nErrors will raise an assertion at program start\n(all checks are done in the initial phase).\n\nThe current code contains such errors, at least for\ni386 guest on i386 host.\n\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9977752566337584,TCG,"tcg/tcg.c, tcg/tcg.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,14dcc3e2ac52d7a2a1cfe2e54c332d8042485a39,f3dfda6114fd12ca7caac456b1997962b5c48274,Jan Kiszka,2010-02-19,kvm: Fix eflags corruption in kvm mode\n\nThis should explain a lot of the weird breakages of upstream KVM we've\nseen recently (actually we should have seen it much earlier):\n\nStop translating eflags into TCG format when in kvm mode as we never\ntranslate it back and rather sync this broken state into the kernel.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Avi Kivity <avi@redhat.com>,1,0.9996121525764464,"KVM, TCG",cpu-exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bc3b26f5356c6de13f887c865c98dcdfac143514,238431a9d8354c4dc3a7ff85e7ff31a7c8ce9b01,Paul Brook,2010-02-22,"PL181 write fix\n\nThe PL181 data transfer loop incorrectly terminates after the last FIFO\nword is popped, discarding the last 3 bytes of data on a write transfer.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>",1,0.9997088313102722,PL181,hw/pl181.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,30c0c76ce0a6915f0049d53d91b6a05c37cdfda7,bc3b26f5356c6de13f887c865c98dcdfac143514,Jay Foad,2010-02-22,"tcg: fix build on 32-bit hppa, ppc and sparc hosts\n\nThe qemu_ld32s op is only defined if TCG_TARGET_REG_BITS == 64.\n\nSigned-off-by: Jay Foad <jay.foad@gmail.com>\nSigned-off-by: malc <av1474@comtv.ru>",1,0.999704897403717,TCG,"tcg/hppa/tcg-target.c, tcg/ppc/tcg-target.c, tcg/sparc/tcg-target.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c5883be23519921254c6940873ee8db04979c20a,724c689357211cb929c9b957e1556f211d2b56db,Paul Brook,2010-02-23,ARM CP15 tls fix\n\nFix temporary handling in cp15 tls register load/store.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9997082352638244,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e1c247d26cc15dbdf3f99836c0b16a6c91128cf2,c64484a543ac8763367d1222358b9c626fce5543,Anthony Liguori,2010-02-23,"pc-bios: update to latest Seabios\n\n - 0360e8e Seabios e820 reservation portion v3\n - 7149fc8 Initial support for booting from USB drives.\n - 3c160dd Introduce helper functions for finding USB end-points.\n - 9571439 USB UHCI cleanups.\n - a4bd919 Minor - arrange struct drive_s to clarify field roles.\n - dac46b1 Fix off by one error in strtcpy.\n - d2d1de0 Don't require a valid physical cylinders/heads/spt for logical mapping.\n - 76977b2 Move common ""command data block"" functions to new file blockcmd.c.\n - d7e998f Dynamically allocate each drive_g with malloc_fseg().\n - 525be69 Add *.pyc to .gitignore.\n - 7d70025 Add common ""block command"" definitions and update cdrom code.\n - 68caaa7 Optimize ntohl() code.\n - 42157c8 Minor - sort ATA CMD definitions.\n - 54671c1 Initial support for USB hubs.\n - 7852331 Minor - increase debug level of some USB debug statements.\n - ba94a68 Don't leave USB UHCI ports disabled for extended time during reset.\n - 49a0aa6 Don't parallelize USB OHCI root port reset.\n - cfdc13f Introduce standard warnings for allocation failures and timeouts.\n - 8bbc79c Add symbolic definitions for USB delays.\n - 991eaff Support USB interrupt schedules on OHCI and UHCI.\n - 59c7574 Add some ASSERT32FLAT() to help compiler eliminate dead code.\n - e1920be seabios: acpi: fix memory leak in build_srat().\n - 84a4d4b Support USB keyboard auto-repeat.\n - bf7f1f3 mptable: Pull cpuid_signature/features setting out of loop.\n - 6f702dd Rework disabling of ps2 port irqs.\n - 2d3f0f5 Go back to using 0xf0000000 for PCI memory start.\n - 41c0957 Read APIC version from APIC instead of using a hard-coded value.\n - 7a98fd0 Work around bochs floppy issue with wait_irq().\n - 4d07902 Add CONFIG_ATA_DMA option; default to off for now.\n - 3012af1 Fix PkgLength calculation for the SSDT.\n - 92a5742 Add explicit Program Headers to linker scripts.\n - 6fc91b2 Prep version for next release.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.998193085193634,"APIC, PCI, USB","pc-bios/bios.bin, roms/seabios",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,23f2166d736dcf7854e674a160694b151ee0725b,c2c789cf9e1733f6e0bbef1cc0d1f80ec3b723f8,Paul Brook,2010-02-23,ARM defconfig fix\n\nTix typo in default-configs/arm-softmmu.mak\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9996870756149292,ARM,default-configs/arm-softmmu.mak,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d44168fffa07fc57e61a37da65e9348661dec887,23f2166d736dcf7854e674a160694b151ee0725b,Paul Brook,2010-02-25,"Fix -usbdevice crash\n\nIf -usbdevice is used on a machine with no USB busses, usb_create\nwill fail and return NULL.  Patch below handles this failure gracefully\nrather than crashing when we try to init the device.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>",1,0.9997404217720032,USB,"hw/usb-bus.c, hw/usb-msd.c, hw/usb-net.c, hw/usb-serial.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b0b1d69079fcb9453f45aade9e9f6b71422147b0,c902760fb25f9c490af01e8f6bccaa8dd71cc224,Jan Kiszka,2010-03-01,"KVM: Rework of guest debug state writing\n\nSo far we synchronized any dirty VCPU state back into the kernel before\nupdating the guest debug state. This was a tribute to a deficite in x86\nkernels before 2.6.33. But as this is an arch-dependent issue, it is\nbetter handle in the x86 part of KVM and remove the writeback point for\ngeneric code. This also avoids overwriting the flushed state later on if\nuser space decides to change some more registers before resuming the\nguest.\n\nWe furthermore need to reinject guest exceptions via the appropriate\nmechanism. That is KVM_SET_GUEST_DEBUG for older kernels and\nKVM_SET_VCPU_EVENTS for recent ones. Using both mechanisms at the same\ntime will cause state corruptions.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9012765288352966,KVM,"kvm-all.c, kvm.h, target-i386/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4e17eae9f2ee49833698aae2753c5bb041510870,2e21e7491ff2af3628a97d4652e7adcc6961c2e9,Aurelien Jarno,2010-03-05,"tcg/arm: correctly save/restore registers in prologue/epilogue\n\nSince commit 6113d6d3169393c323ac4c82d756a850145a5e7a QEMU crashes\non ARM hosts. This is not a bug of this commit, but a latent bug\nrevealed by this commit.\n\nThe TCG code is called through a procedure call using the prologue\nand epilogue code. This code does not save and restore enough registers.\nThe ""Procedure Call Standard for the ARM Architecture"" says:\n\n  A subroutine must preserve the contents of the registers r4-r8, r10,\n r11 and SP (and r9 in PCS variants that designate r9 as v6).\n\nThe current code only saves and restores r9 to r11, and misses r4 to\nr8. The patch fixes that by saving r4 to r12. Theoretically there is\nno need to save and restore r12, but an even number of registers have\nto be saved as per EABI.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9929088354110718,"ARM, TCG",tcg/arm/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf5a65aaaf3e9382e50df550ba049a1c8691a5dd,65abca0a3441fb47024553e7676f6f3eef685a32,Markus Armbruster,2010-02-18,"error: Track locations in configuration files\n\nNew LOC_FILE.  Use it for tracking file name and line number in\nqemu_config_parse().  We now report errors like\n\n    qemu:foo.conf:42: Did not find I2C bus for smbus-eeprom\n\nIn particular, gems like this message:\n\n    -device: no driver specified\n\nbecome almost nice now:\n\n    qemu:foo.conf:44: -device: no driver specified\n\n(A later commit will get rid of the bogus -device:)",1,0.9997015595436096,I2C,"qemu-config.c, qemu-config.h, qemu-error.c, qemu-error.h, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f0bc3f1d526924ef4a75ad25dd0ec3771a66496,ef82516d8fb41cbae9703d07516641f6bdf91a77,Markus Armbruster,2010-02-18,error: Track locations on command line\n\nNew LOC_CMDLINE.  Use it for tracking option with argument in\nlookup_opt().  We now report errors like this\n\n    qemu: -device smbus-eeprom: Did not find I2C bus for smbus-eeprom,1,0.9996883869171144,I2C,"qemu-error.c, qemu-error.h, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4d9a1a15214c01dcbff2d7c02cef027e80442d79,8eae73b5d7085b0f9b087033c328fdbbbcc6271d,Markus Armbruster,2010-02-19,error: New QERR_DEVICE_INIT_FAILED,1,0.9995697140693665,LED,"qerror.c, qerror.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0104dcacf374cb9ceff078e9470cc0cc5bb7c8ec,c92114b1fb9b8e3cd0ee503fbb2a4c96bd0e300c,Alexander Graf,2010-04-01,"S390: Tell user why VM creation failed\n\nThe KVM kernel module on S390 refuses to create a VM when the switch_amode\nkernel parameter is not used.\n\nSince that is not exactly obvious, let's give the user a nice warning.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.999138593673706,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ba0d89bbebbc2a40107552879d46d2814a4b8da1,aa77bebd989469a973cc1dfb4d582d4655a4adde,Aurelien Jarno,2010-04-05,tcg/mips: fix 64-bit linux-user on big endian MIPS\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.999705135822296,MIPS,tcg/mips/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,983fe82611b87a1198d32f58636f6f38b88ad337,116348def2bb446d972bdc2f44bd77ff631f85de,Paul Brook,2010-04-05,ARMv7-M reset fixes\n\nMove ARMv7-M PC/SP initialization to the CPU reset routine.  Add a board\nreset routine to call this.  Also load values directly from ROM as\nimages have not been copied yet.\n\nAvoid clearing the NVIC pointer on cpu reset.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9778320789337158,ARM,"hw/armv7m.c, target-arm/cpu.h, target-arm/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f62719ca6fcdab99d6fbd7a1d6798e0fad4e0b70,269eba077104df9b4d6faedb4da1c2aa978e2b1d,Stefan Weil,2010-04-06,"eepro100: fix PCI interrupt pin configuration regression\n\nCommit 15e89f5916c9e82347cbd1fd416db3e348bab426\nremoved this setting, but it is still needed.\n\nWithout this patch, e100 device drivers using\ninterrupts don't work with qemu.\n\nSee other nic emulations which also set the\nPCI interrupt pin.\n\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996763467788696,PCI,hw/eepro100.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d7da2a10402f1644128b66414ca8f86bdea9ae7c,73f190352dcef63f6e20e4b0f9efe29e6ec57b43,Blue Swirl,2010-04-11,"Sparc: fix exceptions in delay slot\n\nFix a case where an exception happens with the\ninstruction in the delay slot.\n\nRecovery of branch condition in the exception handling\ncode was not converted to TCG. Because the condition\nwas bogus, wrong NPC could be selected from the two\ncandidates.\n\nA nice bug report with a test case can be found in:\nhttps://bugs.launchpad.net/qemu/+bug/551814\n\nFix based on patch by Fabrice Bellard.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997246861457824,TCG,target-sparc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5ba9e9522cf572715ca1966b292f64fb78342e22,612b2bd0ac17aeefa8041fadff3f094cf0f1f501,Aurelien Jarno,2010-04-11,"sh_pci: fix memory and I/O access\n\nSince commit 8da3ff180974732fc4272cb4433fef85c1822961 (""MMIO callback\ninterface changes""), the addresses passed to the I/O functions are an\noffset to the start of the area. As a consequence, there is no need to\ncorrect the address using the value of IOBR. This make possible the use\nof the default MMIO functions. Moreover the addresses are now remaped\nwhen the value if IOBR change.\n\nThe memory area corresponds to the devices behing the PCI bus, it should\nnot be mapped by the PCI controller. Remove the corresponding code.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9982410669326782,PCI,"default-configs/sh4-softmmu.mak, default-configs/sh4eb-softmmu.mak, hw/sh_pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3c83eb4f17ffa981cb60b965087769b808062a3a,606257c6f2dbbaa63f462e557f15a5f7364967a6,Blue Swirl,2010-04-18,"Fix harmless if statements with empty body, spotted by clang\n\nThese clang errors are harmless but worth fixing:\n  CC    libhw64/fdc.o\n/src/qemu/hw/fdc.c:998:74: error: if statement has empty body [-Wempty-body]\n        FLOPPY_DPRINTF(""Floppy digital input register: 0x%02x\n"", retval);\n  CC    libhw64/cuda.o\n/src/qemu/hw/cuda.c:320:66: error: if statement has empty body [-Wempty-body]\n        CUDA_DPRINTF(""read: reg=0x%x val=%02x\n"", (int)addr, val);\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997076392173768,CUDA,"hw/cuda.c, hw/fdc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,676d9b9b883691cf99e298291dbc2ad7956516b9,da9fcfa54486797a5f261b43ad0c0b2f8dc47181,Artyom Tarasenko,2010-04-18,sparc32 use empty_slot for missing RAM v1\n\nuse empty_slot device for the RAM which is not installed\n\nModels without ECC don't trap when missing ram is accessed.\n\nv0->v1 compile only once and fix indentation\n\nSigned-off-by: Artyom Tarasenko <atar4qemu@gmail.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9996988773345948,ECC,"Makefile.objs, default-configs/sparc-softmmu.mak, hw/sun4m.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7b13448f05882b98c836c32329b1aca347abeb52,8c0d577eb5e5255333e43bd4b89dc3a266f03685,Blue Swirl,2010-04-18,"PPC: avoid function pointer type mismatch, spotted by clang\n\nFixes clang errors:\n  CC    ppc-softmmu/translate.o\n/src/qemu/target-ppc/translate.c:3748:13: error: comparison of distinct pointer types ('void (*)(void *, int, int)' and 'void *')\n        if (likely(read_cb != SPR_NOACCESS)) {\n/src/qemu/target-ppc/translate.c:3748:28: note: instantiated from:\n        if (likely(read_cb != SPR_NOACCESS)) {\n/src/qemu/target-ppc/translate.c:3903:13: error: comparison of distinct pointer types ('void (*)(void *, int, int)' and 'void *')\n        if (likely(write_cb != SPR_NOACCESS)) {\n/src/qemu/target-ppc/translate.c:3903:29: note: instantiated from:\n        if (likely(write_cb != SPR_NOACCESS)) {\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.99968683719635,PPC,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7107944a7b72ec31366c30d747fb91dee07ebc88,156aa8981a26ea6a71028edf85410b02e6f23654,Blue Swirl,2010-04-18,"slirp: fix unused return value, spotted by clang\n\nFix clang errors like:\n  CC    slirp/cksum.o\n/src/qemu/slirp/cksum.c:78:3: error: expression result unused [-Wunused-value]\n                REDUCE;\n/src/qemu/slirp/cksum.c:45:66: note: instantiated from:\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9996525049209596,EDU,slirp/cksum.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bf5675efe33888fe058210be98259a34faf4d4e5,2633a2d015b0ba57432f1e11970cc080eb5119a3,Aurelien Jarno,2010-04-09,"tcg/arm: fix argument alignment in qemu_st64\n\n64-bit arguments should be aligned on an even register as specified\nby the ""Procedure Call Standard for the ARM Architecture"".\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997127652168274,ARM,tcg/arm/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,98c8573eb37bf5d7bb0c07225985a78537c73101,c66b5c2cb6bf5ab9869bf0739ff3cdf143ab778c,Paolo Bonzini,2010-04-19,provide a stub version of kvm-all.c if !CONFIG_KVM\n\nThis allows limited use of kvm functions (which will return ENOSYS)\neven in once-compiled modules.  The patch also improves a bit the error\nmessages for KVM initialization.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\n[blauwirbel@gmail.com: fixed Win32 build]\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9994077682495116,KVM,"Makefile.target, kvm-all.c, kvm-stub.c, kvm.h, vl.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7c80eef899ff0feb1ab6730d4dd3bc3aee046093,b5e5a934174ade5dcfc98a41f21f8a6c4816dd54,Marcelo Tosatti,2010-03-23,kvm: handle internal error\n\nPort qemu-kvm's KVM_EXIT_INTERNAL_ERROR handling to upstream.\n\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>\nSigned-off-by: Avi Kivity <avi@redhat.com>,1,0.9995315074920654,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,884d348b7bd4c6f1c1993dafd2e89ac31fe4e543,0085bd5161190840ed810d771a63c8a66e7bc380,Richard Henderson,2010-04-09,tcg-hppa: Fix GUEST_BASE initialization in prologue.\n\nLoad from the guest_base variable rather than embed a constant.\nAlways reserve TCG_GUEST_BASE_REG if guest base support enabled.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9996845722198486,TCG,tcg/hppa/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6910b8f66a9ad0c2c2052b4be884e11b76049718,8aa3fa2038d9d0a7d69acdac505d990acc5eafc8,Richard Henderson,2010-04-07,target-alpha: Fix load-locked/store-conditional.\n\nUse an exception plus start_exclusive to implement the compare-and-swap.\nThis follows the example set by the MIPS and PPC ports.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9997003078460692,"MIPS, PPC","linux-user/main.c, target-alpha/cpu.h, target-alpha/helper.c, target-alpha/op_helper.c, target-alpha/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,14ac15d3ac8e0ef1c91204e2ac772b6412a6b99e,5acd0646b6033d40ef5d0ae06338cc354108f640,Anthony Liguori,2010-05-11,"Update SeaBIOS\n\n - 7d09d0e Fix virtio compile errors on various gcc versions.\n - 89acfa3 Support for booting from virtio disks\n - 6d66316 smbios: avoid counting io hole as ram\n - e5cd945 Fix error causing USB HID ""boot"" protocol to not be enabled.\n - 0e88576 Add support for USB mice.\n - dd5a8a6 When USB keyboard active, don't send keyboard commands to ps2 port.\n - 5718d56 Document usb-hid.c functions.\n - e438b0c Further parallelize init when using CONFIG_THREAD_OPTIONROMS.\n - f59b5ac Handle unknown function addresses in tools/checkstack.py.\n - 9ba1dea Simplify build by manually resolving external symbols in layoutrom.py.\n - 698d3f9 USB EHCI should yield() whil waiting for controller to ack reset.\n - f9a774c Add __attribute__((__malloc__)) declaration to internal malloc funcs.\n - b7045ce Minor - remove redundant check from ata_try_dma.\n - 67f6d37 Fix possible unitialized variable issue in usb msc.\n - a7eb8fc Some improvements to optionrom preemption support.\n - d28b0fe Refactor USB hub code.\n - ba28541 Prep version for next release.\n - 12bffd5 Update version to 0.6.0.\n - 87ab2fb Improve USB EHCI timing.\n - d705e5a Disable inlining on old compilers.\n - bca0736 Force use of indirect function calls in inline assembler.\n - d7eb27e Don't move EBDA while an optionrom is running (CONFIG_THREAD_OPTIONROMS).\n - 7415270 Call to int1552 (from int1346) should set regs->dl.\n - 9dc243e Adjust debug levels of device discovery.\n - d9c9361 Default CONFIG_COREBOOT_FLASH on; make depend on CONFIG_COREBOOT.\n - c35e1e5 Restore segment limits in handle_1589 code.\n - 11cc662 Extend time for rtc to be ready.\n - 4ed378a Backup and restore registers when calling out to user funcs.\n - 68c5139 Enable irqs in kbd/clock calls that caller might ""spin"" on.\n - f628244 Process event on ps2 keyboard irq even if event already read.\n - a5d8458 Revert ""Unify ps2 port data processing.""\n - b9ed5e2 Handle variable length return of ps2 port GETID command.\n - 67a9eec Prevent ps2 irqs from messing up ps2 init.\n - 6704cf9 Revert ""Rework disabling of ps2 port irqs.""\n - 808939c Fix smp cpu detect on gcc 4.5.\n - a979c1c Improvements to tools/checkstack.py.\n - 190cc62 Add USB EHCI controller support.\n - 0770d67 Some USB UHCI and OHCI fixes and cleanups.\n - bfe7ca7 Minor - USB OHCI interrupt queue should be one larger.\n - 09e2f7c Reduce size of USB 'struct uhci_td'.\n - 406fad6 Dynamically allocate USB controller structures.\n - 4547eb9 Replace USB encoded 'u32 endp' scheme with explicit struct fields.\n - 8ebcac0 Further parallelize USB init by launching a thread per usb port.\n - e908665 Introduce simple ""mutex"" locking code.\n - 3b79f8b Only compile usb-hub.c and paravirt.c with 32bit code.\n - 357bdfa Prefer passing a USB ""pipe"" structure over a USB endp encoding.\n - 7fb8ba8 Add a generic ""internal error"" warning function.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.999171018600464,USB,"pc-bios/bios.bin, roms/seabios",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fb41a66edd0c7bd652dab14db43426cbbd8514d7,57f18a9515b1240280c59cf60df041f50be05493,Richard Henderson,2010-05-03,"alpha-linux-user: Fix pipe return mechanism.\n\nAt the same time, tidy the code wrt MIPS and SH4 which have the\nsame two register return mechanism.  Fix confusion between pipe\nand pipe2 with an explicit flags=0, when the guest will not be\nusing the two register return mechanism.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.999646544456482,"MIPS, SH4",linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,da7ed37955d955b47a538fcfe65ad1cc730e69a5,471fd34221dcda9b271a3016f95e1ad12842c5ff,Artyom Tarasenko,2010-05-29,sparc32 SuperSPARC MMU Breakpoint Action register (SS-20 OBP fix)\n\nSuperSPARC MMU Breakpoint Action register is used by OBP at boot\n\nThe patch allows booting Solaris and some other OS with\nSPARCStation-20 OBP.\n\nSigned-off-by: Artyom Tarasenko <atar4qemu@gmail.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9996485710144044,SPARC,target-sparc/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c3d420ead1aee9fcfd12be11cbdf6b1620134773,aa6f63fff62faf2fe9ffba5a789675d49293614d,Thomas Monjalon,2010-05-28,"target-ppc: fix RFI by clearing some bits of MSR\n\nSince commit 2ada0ed, ""Return From Interrupt"" is broken for PPC processors\nbecause some interrupt specifics bits of SRR1 are copied to MSR.\n\nSRR1 is a save of MSR during interrupt.\nDuring RFI, MSR must be restored from SRR1.\nBut some bits of SRR1 are interrupt-specific and are not used for MSR saving.\n\nThis is the specification (ISA 2.06) at chapter 6.4.3 (Interrupt Processing):\n""2. Bits 33:36 and 42:47 of SRR1 or HSRR1 are loaded with information specific\n    to the interrupt type.\n 3. Bits 0:32, 37:41, and 48:63 of SRR1 or HSRR1 are loaded with a copy of the\n    corresponding bits of the MSR.""\n\nBelow is a representation of MSR bits which are not saved:\n0:15 16:31 32  33:36    37:41      42:47     48:63\n |  |  X X X X      X X X X X X | \n0000 0000 |    7   |   8   |   3   |   F    | 0000\n\nHistory:\nIn the initial Qemu implementation (e1833e1), the mask 0x783F0000 was used for\nsaving MSR in SRR1. But all the bits 32:47 were cleared during RFI restoring.\nThis was wrong. The commit 2ada0ed explains that this breaks Altivec.\nIndeed, bit 38 (for Altivec support) must be saved and restored.\nThe change of 2ada0ed was to restore all the bits of SRR1 to MSR.\nBut it's also wrong.\n\nExplanation:\nAs an example, let's see what's happening after a TLB miss.\nAccording to the e300 manual (E300CORERM table 5-6), the TLB miss interrupts\nset the bits 44-47 for KEY, I/D, WAY and S/L. These bits are specifics to the\ninterrupt and must not be copied into MSR at the end of the interrupt.\nWith the current implementation, a TLB miss overwrite bits POW, TGPR and ILE.\n\nFix:\nIt shouldn't be needed to filter-out bits on MSR saving when interrupt occurs.\nSpecific bits overwrite MSR ones in SRR1.\nBut at the end of interrupt (RFI), specifics bits must be cleared before\nrestoring MSR from SRR1. The mask 0x783F0000 apply here.\n\nDiscussion:\nThe bits of the mask 0x783F0000 are cleared after an interrupt.\nI cannot find a specification which talks about this\nbut I assume it is the truth since Linux can run this way.\nMaybe it's not perfect but it's better (works for e300).\n\nSigned-off-by: Thomas Monjalon <thomas@monjalon.net>\nAcked-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9995999932289124,PPC,"target-ppc/helper.c, target-ppc/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,330875984432c26ef78bad85c4ee9816d3c41ca5,aecf13769852a4e14b51e8403860b18871826298,Stefan Weil,2010-06-09,target-mips: Fix compilation\n\nTCGv t1 needs tcg_temp_free instead of tcg_temp_free_i32.\n\nCc: Nathan Froyd <froydnj@codesourcery.com>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.999621033668518,TCG,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,09564574b868f591fb1a9cf426f0c1d64f280431,11165820d194478d493d667a11ea8480ce893c70,Paul Brook,2010-06-13,OHCI address decoding fix\n\nIgnore high address bits when PCI memory window is not mapped on a page\nboundary.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>,1,0.9996829032897948,PCI,hw/usb-ohci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2ffcb18de0bc02ad8a836ec955584c02b70e0e24,40ac17cd56eb5c5a89559ea0fa53f7eea80cbd07,Markus Armbruster,2010-06-11,"Make netdev_del delete the netdev even when it's in use\n\nTo hot-unplug guest and host part of a network device, you do:\n\n    device_del NIC-ID\n    netdev_del NETDEV-ID\n\nFor PCI devices, device_del merely tells ACPI to unplug the device.\nThe device goes away for real only after the guest processed the ACPI\nunplug event.\n\nYou have to wait until then (e.g. by polling info pci) before you can\nunplug the netdev.  Not good.\n\nFix by removing the ""in use"" check from do_netdev_del().  Deleting a\nnetdev while it's in use is safe; packets simply get routed to the bit\nbucket.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9993975162506104,"ACPI, PCI",net.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,46aaebff40f942e7b17b426916a3dee9b8b6f274,55541c8afc1a2d75de890c6ee858769d7d605526,Jes Sorensen,2010-06-08,"un-register kbd driver in case of USB kbd unplug.\n\nIf a USB keyboard is unplugged, the keyboard eventhandler is never\nremoved, and events will continue to be passed through to the device,\ncausing crashes or memory corruption.\n\nSigned-off-by: Jes Sorensen <Jes.Sorensen@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.998712420463562,USB,"console.h, hw/usb-hid.c, input.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3709c1b7ccad238e129c219c0081f1d55330e900,c20fd872257fb9abd2ce99741937c0f65aa162b7,Daniel P. Berrange,2010-06-08,"Clarify error message when a PCI slot is already in use (v2)\n\nWhen mistakenly configuring two devices in the same PCI slot,\nQEMU gives a not entirely obvious message about a 'devfn' being\nin use:\n\n$ qemu -device rtl8139 -device virtio-balloon-pci,bus=pci.0,addr=0x3\nqemu-kvm: -device virtio-balloon-pci,bus=pci.0,addr=0x3: PCI: devfn 24 not available for virtio-balloon-pci, in use by rtl8139\n\nThe user does not configure 'devfn' numbers, they use slot+function.\nThus the error messages should be reported back to the user with that\nsame terminology rather than the internal QEMU terminology. This\npatch makes it report:\n\n$ qemu -device rtl8139 -device virtio-balloon-pci,bus=pci.0,addr=0x3\nqemu: -device virtio-balloon-pci,bus=pci.0,addr=0x3.7: PCI: slot 3 function 0 not available for virtio-balloon-pci, in use by rtl8139\n\nSigned-off-by: Daniel P. Berrange <berrange@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9748782515525818,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1e297c323590d3deae46e566956cc4351e2aa5da,c7126d5b3216e57b4e388e3fd34faa785b8e4bd0,Christoph Hellwig,2010-06-15,block: fix physical_block_size calculation\n\nBoth SCSI and virtio expect the physical block size relative to the\nlogical block size.  So get the factor first before calculating the\nlog2.\n\nReported-by: Mike Cao <bcao@redhat.com>\nSigned-off-by: Christoph Hellwig <hch@lst.de>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>,1,0.9996812343597412,SCSI,block_int.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,be41cbe0368b5becac02a1bf885341ba25ba9a9e,4972d592113c627d4b6ea1be5c94a85b56099afd,Jan Kiszka,2010-05-20,kvm: Switch kvm_update_guest_debug to run_on_cpu\n\nGuest debugging under KVM is currently broken once io-threads are\nenabled. Easily fixable by switching the fake on_vcpu to the real\nrun_on_cpu implementation.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Avi Kivity <avi@redhat.com>,1,0.9983281493186952,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8935499831312ec3e108287d3d49614915847ab2,be41cbe0368b5becac02a1bf885341ba25ba9a9e,Andre Przywara,2010-06-02,"fix CPUID vendor override\n\nthe meaning of vendor_override is actually the opposite of how it\nis currently used :-(\nFix it to allow KVM to export the non-native CPUID vendor if\nexplicitly requested by the user.\n\nThe intended behavior is:\nWith TCG:\n  - always inject the configured vendor (either hard-coded, in config\n    files or via "",vendor="" commandline)\nWith KVM:\n  - by default inject the host's vendor\n  - if the user specifies "",vendor="" on the commandline, use this\n    instead of the host's vendor\n  - all pre-configured vendors (hard-coded, config file) are ignored\n\nSigned-off-by: Andre Przywara <andre.przywara@amd.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9995326995849608,"KVM, TCG",target-i386/cpuid.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,33dd298323c36ec2de7a21b85d29bfd9ba255d72,aa8f40090ab94877b49a256069077e1476607e35,Aurelien Jarno,2010-06-30,MIPS: fix fulong bios loading\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9996988773345948,MIPS,hw/mips_fulong2e.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,18846dee1a795b4345ac0bd10b70a3a46fd14287,dfb0acd88782573e075251ef323e23a4bffdbf93,Markus Armbruster,2010-06-29,"block: Catch attempt to attach multiple devices to a blockdev\n\nFor instance, -device scsi-disk,drive=foo -device scsi-disk,drive=foo\nhappily creates two SCSI disks connected to the same block device.\nIt's all downhill from there.\n\nDevice usb-storage deliberately attaches twice to the same blockdev,\nwhich fails with the fix in place.  Detach before the second attach\nthere.\n\nAlso catch attempt to delete while a guest device model is attached.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.999665379524231,SCSI,"block.c, block.h, block_int.h, hw/fdc.c, hw/ide/qdev.c, hw/pci-hotplug.c, hw/qdev-properties.c, hw/qdev.h, hw/s390-virtio.c, hw/scsi-bus.c, hw/usb-msd.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,680a34eeb8f2d455121c67697fca146440e61612,262ea18e890d51b8f86157f8e4aeb162b9ef2ad8,Jan Kiszka,2010-07-06,"scsi: Fix SCSI bus reset\n\nWhen the controller raises the SCSI reset line, we have to perform the\nrequested reset on all disks attached to the controller's bus. Moreover,\nreset is edge triggered, so avoid repeating it if the line was already\nhigh.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996812343597412,SCSI,hw/lsi53c895a.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,71ebd6dcf9dc4d733923ba798154aba8893c28ca,1ddda5cd364d2f82201830ca69675e17c60ded8e,Isaku Yamahata,2010-06-17,"pci: fix pci_device_reset\n\nClear interrupt disable bit on reset, according to PCI spec.\nFix pci_device_reset() with 64bit BAR.\n\nSigned-off-by: Isaku Yamahata <yamahata@valinux.co.jp>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.99969744682312,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,98f28ad7a7d26e5e77c5cb37b262d76d6ccd963d,d75d25e34e4b4eb6a18122b5fa3baac70cea0f2b,Markus Armbruster,2010-07-06,"ide scsi virtio-blk: Reject empty drives unless media is removable\n\nDisks without media make no sense.  For SCSI, a Linux guest kernel\ncomplains during boot.  I didn't try other combinations.\n\nscsi-generic doesn't need the additional check, because it already\nrequires bdrv_is_sg(), which fails without media.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9942820072174072,SCSI,"hw/ide/core.c, hw/scsi-disk.c, hw/virtio-blk.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3c638d0690a0b21c6acef7ce3132f821d8c1e25d,472fb0c479cd98e245cce67cb525b1f15d6c1679,Jan Kiszka,2010-06-25,"Rework debug exception processing for gdb use\n\nGuest debugging is currently broken under CONFIG_IOTHREAD. The reason is\ninconsistent or even lacking signaling the debug events from the source\nVCPU to the main loop and the gdbstub.\n\nThis patch addresses the issue by pushing this signaling into a\nCPUDebugExcpHandler: cpu_debug_handler is registered as first handler,\nthus will be executed last after potential breakpoint emulation\nhandlers. It sets informs the gdbstub about the debug event source,\nrequests a debug exit of the main loop and stops the current VCPU. This\nmechanism works both for TCG and KVM, with and without IO-thread.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Marcelo Tosatti <mtosatti@redhat.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996668100357056,"KVM, TCG","cpus.c, kvm-all.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,36388314febad3d7675ab919287f03733a560ff6,b2178704e46d061b6162ebd37a19e0db02ccbd77,Edgar E. Iglesias,2010-07-24,"mips: Correct MIPS interrupt glue logic for icount\n\nWhen hw interrupt pending bits in CP0_Cause are set, the CPU should\nsee the hw interrupt line as active. The CPU may or may not take the\ninterrupt based on internal state (global irq mask etc) but the glue\nlogic shouldn't care.\n\nThis fixes MIPS external hw interrupts in combination with -icount.\n\nSigned-off-by: Edgar E. Iglesias <edgar@axis.com>",1,0.999461591243744,MIPS,"hw/mips_int.c, target-mips/cpu.h, target-mips/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5dc5d9f055c59701519d1212078a298d92411cf6,a5efa6441cdda002a4b14c982098424dd60a55d0,Aurelien Jarno,2010-07-25,mips: more fixes to the MIPS interrupt glue logic\n\nCommit 36388314febad3d7675ab919287f03733a560ff6 moved most of the\ninterrupt logic to cpu-exec.c. Remove the remaining useless code\nand fix software interrupts.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nAcked-by: Edgar E. Iglesias <edgar@axis.com>\nTested-by: Edgar E. Iglesias <edgar@axis.com>,1,0.999496579170227,MIPS,"hw/mips_int.c, target-mips/cpu.h, target-mips/helper.h, target-mips/op_helper.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e9119cd864a0db039339994b502f8701fd6209ff,6cbf4c8c6416237e9c323661b87d60792a9d51af,Andreas Frber,2010-08-14,TCG: Fix Darwin/ppc calling convention recognition\n\n5da79c86a3744e3a901c7986c109dd06951befd2 broke compilation on Mac OS X v10.5 ppc.\nApple's GCC 4.0.1 does not define _CALL_DARWIN. Recognize __APPLE__ again as well.\n\nSigned-off-by: Andreas F?rber <andreas.faerber@web.de>\nCc: malc <av1474@comtv.ru>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: J?rgen Lock <nox@jelal.kn-bremen.de>\nCc: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: malc <av1474@comtv.ru>,1,0.9996694326400756,TCG,tcg/ppc/tcg-target.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fc87e185302a96c2675a1c3a86ca47c6a2d657ff,ba5e7f82169f32ab8163c707d97c799ca09f8924,Alexander Graf,2010-08-30,"KVM: PPC: Add level based interrupt logic\n\nKVM on PowerPC used to have completely broken interrupt logic. Usually,\ninterrupts work by having a PIC that pulls a line up/down, so the CPU knows\nthat an interrupt is active. This line stays active until some action is\ndone to the PIC to release the line.\n\nOn KVM for PPC, we just checked if there was an interrupt pending and pulled\na line in the kernel module. We never released it though, hoping that kernel\nspace would just declare an interrupt as released when injected - which is\nwrong.\n\nTo fix this, we need to completely redesign the interrupt injection logic.\nWhenever an interrupt line gets triggered, we need to notify kernel space\nthat the line is up. Whenever it gets released, we do the same. This way\nwe can assure that the interrupt state is always known to kernel space.\n\nThis fixes random stalls in KVM guests on PowerPC that were waiting for\nan interrupt while everyone else thought they received it already.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9995005130767822,"KVM, PPC","hw/ppc.c, target-ppc/kvm.c, target-ppc/kvm_ppc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2488b74081650a5312fe1515660b6cb095244c34,282ab04eb1e6f4faa6c5d2827e3209c4a1eec40e,Bernhard Kohl,2010-08-31,"scsi-disk: fix the block descriptor returned by the MODE SENSE command\n\nThe block descriptor contains the number of blocks, not the highest LBA.\nReal hard disks return 0 if the number of blocks exceed the maximum 0xFFFFFF.\n\nSCSI-Spec:\nhttp://ldkelley.com/SCSI2/SCSI2/SCSI2-08.html#8.3.3\n""The number of blocks field specifies the number of logical blocks on the\nmedium to which the density code and block length fields apply. A value\nof zero indicates that all of the remaining logical blocks of the logical\nunit shall have the medium characteristics specified.""\n\nSigned-off-by: Bernhard Kohl <bernhard.kohl@nsn.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9997016787528992,SCSI,hw/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,333d50fe3d9a1ff0a6a1a44ef42a0d3a2a7f2abe,a9c17b2bf3639662fbdeb736289ebabfda9fa21a,Bernhard Kohl,2010-08-31,"scsi-disk: fix the check of the DBD bit in the MODE SENSE command\n\nThe DBD bit does not work as expected.\n\nSCSI-Spec:\nhttp://ldkelley.com/SCSI2/SCSI2/SCSI2-08.html#8.2.10\n""A disable block descriptors (DBD) bit of zero indicates that the target\nmay return zero or more block descriptors in the returned MODE SENSE\ndata (see 8.3.3), at the target's discretion. A DBD bit of one\nspecifies that the target shall not return any block descriptors in the\nreturned MODE SENSE data.""\n\nSigned-off-by: Bernhard Kohl <bernhard.kohl@nsn.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9996961355209352,SCSI,hw/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6a8aabd3c132188ee8e0e82ef4aba09f782cbe96,62dd89dea25b08796fcb83beeac3aea5f5a89c95,Stefan Weil,2010-08-08,"hw/omap: Fix default setup for OMAP UART devices\n\nCharacter devices created by qemu_chr_open don't\nallow duplicate device names, so naming all\nUART devices ""null"" no longer works.\n\nRunning ""qemu-system-arm -M n800"" (and some other machines)\nresults in this error message:\n\n	qemu-system-arm: Duplicate ID 'null' for chardev\n	Can't create serial device, empty char device\n\nThis is fixed by setting a default label ""uart1"",\n""uart2"" or ""uart3"".\n\nCc: Andrzej Zaborowski <andrew.zaborowski@intel.com>\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>",1,0.9997150301933287,OMAP,"hw/omap.h, hw/omap1.c, hw/omap2.c, hw/omap_uart.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,73d7434279e390505164afd02360eebe4b43c7fa,24e0e38b83616ee7b540a270d8c4f24edf94f802,Blue Swirl,2010-09-11,ESP: fix ESP DMA access when DMA is not enabled\n\nSending ESP a command caused it to trigger DMA immediately\neven if DMA was not enabled at the DMA controller.\n\nAdd a signal from DMA controller to ESP to tell ESP about changes in\nDMA enable bit. Also use the correct function for setting up GPIO outputs.\n\nThis fixes NetBSD 1.6.1 through 3.0 boot.\n\nThanks to Artyom Tarasenko for extensive debugging of the problem.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9997052550315856,ESP,"hw/esp.c, hw/esp.h, hw/mips_jazz.c, hw/sparc32_dma.c, hw/sun4m.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5a9ff3819a1023b63b94ad4fb82da973f93f65d0,cf4c01fde264416dc8b1a1904bc9068a4af78cb7,Isaku Yamahata,2010-09-09,"pci: sorting out type confusion in pci_register_bar().\n\nThis patch sorts out invalid use of pcibus_t.\n\nIn pci_register_bar(), pcibus_t wmask is used.  It should,\nhowever, be uint64_t because it is used to set\npci configuration space value(PCIDevice::wmask)\nby pci_set_quad() or pci_set_long().\n\nSigned-off-by: Isaku Yamahata <yamahata@valinux.co.jp>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996854066848756,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f844c817d726cd2bdb431aa41c8217891ede2eaf,9a7c4878427dba2fbbd080fb21ba66d5daf21b8e,Alexander Graf,2010-09-10,"PPC: Enable hint bits for lwarx/ldarx\n\nThe lwarx and ldarx instructions have a bit to give some hint to the\nCPU which is safe to ignore. We currently refuse to accept any instruction\nwith that bit set, as it used to be declared MBZ.\n\nLet's remove the reserved bit and make the instruction work as expected.\nThis fixes Linux boot for ppc64.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nReviewed-by: Andreas Frber <andreas.faerber@web.de>\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>",1,0.999091625213623,PPC,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d62d28630dde50b436ca19afc9279ce449170121,95ee3914bfd551aeec49932a400530141865acad,Blue Swirl,2010-09-18,PPC: Suppress gcc warnings with -Wtype-limits\n\nThe hack added by c5b76b381081680633e2e0a91216507430409fb2 was not\nenough to avoid warnings with gcc flag -Wtype-limits. Add a new macro\nto fix both problems.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9993587136268616,PPC,target-ppc/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1c7242da851cc65a2cc93fbc6defa964084a2826,d62d28630dde50b436ca19afc9279ce449170121,Blue Swirl,2010-09-18,MIPS: fix yield handling\n\nThe parameter for yield should be handled as a signed integer\nfor the comparisons to have any effect.\n\nThis also avoids a gcc warning with -Wtype-limits.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.999727189540863,MIPS,target-mips/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a5e3d9ef4dcca9b709999a98f6b37b9506c93ad3,f8b6d67251cfafed930d5f8be402fb0adac61299,Bernhard Kohl,2010-09-06,scsi_bus: fix length and xfer_mode for RESERVE and RELEASE commands\n\nFor the RESERVE and RELEASE commands the length must be zero\nand xfer_mode must be SCSI_XFER_NONE.\n\nSigned-off-by: Bernhard Kohl <bernhard.kohl@nsn.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>,1,0.9997100234031676,SCSI,hw/scsi-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c0532a76b407af4b276dc5a62d8178db59857ea6,983dfc3b135de0a4808a41a8ca71e1809ba6a62e,Marcelo Tosatti,2010-10-11,"MCE: Relay UCR MCE to guest\n\nPort qemu-kvm's\n\ncommit 4b62fff1101a7ad77553147717a8bd3bf79df7ef\nAuthor: Huang Ying <ying.huang@intel.com>\nDate:   Mon Sep 21 10:43:25 2009 +0800\n\n    MCE: Relay UCR MCE to guest\n\n    UCR (uncorrected recovery) MCE is supported in recent Intel CPUs,\n    where some hardware error such as some memory error can be reported\n    without PCC (processor context corrupted). To recover from such MCE,\n    the corresponding memory will be unmapped, and all processes accessing\n    the memory will be killed via SIGBUS.\n\n    For KVM, if QEMU/KVM is killed, all guest processes will be killed\n    too. So we relay SIGBUS from host OS to guest system via a UCR MCE\n    injection. Then guest OS can isolate corresponding memory and kill\n    necessary guest processes only. SIGBUS sent to main thread (not VCPU\n    threads) will be broadcast to all VCPU threads as UCR MCE.\n\naliguori: fix build\n\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>\nSigned-off-by: Avi Kivity <avi@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.7676997780799866,KVM,"cpus.c, kvm-stub.c, kvm.h, target-i386/cpu.h, target-i386/helper.c, target-i386/kvm.c, target-i386/kvm_x86.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d8da8574b167144d1868f343514dfb88716e2edb,f71ac88fe97620f9cc80facc5e00826b8256fe5d,Hidetoshi Seto,2010-10-21,Fix build on !KVM_CAP_MCE\n\nThis patch removes following warnings:\n\ntarget-i386/kvm.c: In function 'kvm_put_msrs':\ntarget-i386/kvm.c:782: error: unused variable 'i'\ntarget-i386/kvm.c: In function 'kvm_get_msrs':\ntarget-i386/kvm.c:1083: error: label at end of compound statement\n\nSigned-off-by: Hidetoshi Seto <seto.hidetoshi@jp.fujitsu.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>,1,0.9975007176399232,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,acc086837e49b44f15eff6007bb1726844df7aec,17786d52acd3e18e77cd7e823f7d6bad9ece818e,Gerd Hoffmann,2010-11-09,"intel-hda: fix codec addressing.\n\nThe HDA bus supports up to 15 codecs, with addresses 0 ... 14.\nWe get that wrong in two places:\n\n * When handing out addresses we accept address 15 as valid.\n * The bitmasks for two registers (WAKEEN and STATESTS) don't\n   have bit 14 set.\n\nThis patch fixes it.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: malc <av1474@comtv.ru>",1,0.9997181296348572,HDA,hw/intel-hda.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,df0db2212d86e98c41774600c44cc960ddc2b68c,e2553eb44e4ddd0b22124216d3dd20b6a0fecefb,Gerd Hoffmann,2010-11-09,"intel-hda: fix codec addressing.\n\nThe HDA bus supports up to 15 codecs, with addresses 0 ... 14.\nWe get that wrong in two places:\n\n * When handing out addresses we accept address 15 as valid.\n * The bitmasks for two registers (WAKEEN and STATESTS) don't\n   have bit 14 set.\n\nThis patch fixes it.\n\n[ v2: codestyle: add braces ]\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: malc <av1474@comtv.ru>",1,0.9997027516365052,HDA,hw/intel-hda.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,38671423466875ecd848710cc1d7019448a6b145,0562c67432991d1cee442615d70fd39e638bec71,Hidetoshi Seto,2010-11-24,"virtio-9p: fix build on !CONFIG_UTIMENSAT\n\nThis patch introduce a fallback mechanism for old systems that do not\nsupport utimensat().  This fix build failure with following warnings:\n\nhw/virtio-9p-local.c: In function 'local_utimensat':\nhw/virtio-9p-local.c:479: warning: implicit declaration of function 'utimensat'\nhw/virtio-9p-local.c:479: warning: nested extern declaration of 'utimensat'\n\nand:\n\nhw/virtio-9p.c: In function 'v9fs_setattr_post_chmod':\nhw/virtio-9p.c:1410: error: 'UTIME_NOW' undeclared (first use in this function)\nhw/virtio-9p.c:1410: error: (Each undeclared identifier is reported only once\nhw/virtio-9p.c:1410: error: for each function it appears in.)\nhw/virtio-9p.c:1413: error: 'UTIME_OMIT' undeclared (first use in this function)\nhw/virtio-9p.c: In function 'v9fs_wstat_post_chmod':\nhw/virtio-9p.c:2905: error: 'UTIME_OMIT' undeclared (first use in this function)\n\n[NOTE: At this time virtio-9p is only user of utimensat(), and is available\n       only when host is linux and CONFIG_VIRTFS is defined.  So there are\n       no similar warning for win32.  Please provide a wrapper for win32 in\n       oslib-win32.c if new user really requires it.]\n\nv5:\n  - Allow fallback on runtime\n  - Move qemu_utimensat() to oslib-posix.c\n  - Rebased on latest qemu.git\nv4:\n  - Use tv_now.tv_usec\nv3:\n  - Use better alternative handling for UTIME_NOW/OMIT\n  - Move qemu_utimensat() to cutils.c\nV2:\n  - Introduce qemu_utimensat()\n\nAcked-by: Chris Wright <chrisw@sous-sol.org>\nAcked-by: M. Mohan Kumar <mohan@in.ibm.com>\nAcked-by: Jes Sorensen <Jes.Sorensen@redhat.com>\nSigned-off-by: Hidetoshi Seto <seto.hidetoshi@jp.fujitsu.com>\nSigned-off-by: Venkateswararao Jujjuri <jvrao@linux.vnet.ibm.com>",1,0.9996938705444336,VIRTFS,"hw/virtio-9p-local.c, oslib-posix.c, qemu-os-posix.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e6e055c9d79c665de200fc46c746d403d3d943ad,bcd478781ab1d11911ab5505c34b5577de904eeb,Blue Swirl,2010-12-04,"Fix mingw32 and OpenBSD warnings\n\nffsl() is not universally available, so there are these warnings\non both mingw32 and OpenBSD:\n/src/qemu/hw/pcie_aer.c: In function 'pcie_aer_update_log':\n/src/qemu/hw/pcie_aer.c:399: warning: implicit declaration of function 'ffsl'\n\nSince status field in PCIEAERErr is uint32_t, we can just use ffs() instead.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9996839761734008,PCI,hw/pcie_aer.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2c9adbda721c9996ec6b371cac4a00c1164b818e,49e14940adeea797abd2be4ccda97d0349b22aae,Peter Maydell,2010-12-07,ARM: fix ldrexd/strexd\n\nCorrect ldrexd and strexd code to always read and write the\nhigh word of the 64-bit value from addr+4.\nAlso make ldrexd and strexd agree that for a 64 bit value the\naddress in env->exclusive_addr is that of the low word.\n\nThis fixes the issues reported in\nhttps://bugs.launchpad.net/qemu/+bug/670883\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Nathan Froyd <froydnj@codesourcery.com>,1,0.9996927976608276,ARM,"linux-user/main.c, target-arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,04595bf66f15cb205cb7f64eaa3a38804bf0893a,2c9adbda721c9996ec6b371cac4a00c1164b818e,Peter Maydell,2010-12-07,ARM: Fix decoding of VFP forms of VCVT between float and int/fixed\n\nCorrect the decoding of source and destination registers\nfor the VFP forms of the VCVT instructions which convert\nbetween floating point and integer or fixed-point.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Nathan Froyd <froydnj@codesourcery.com>,1,0.9993379712104796,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f73534a56e21f0fa37c10941a2a887b3576c2f69,04595bf66f15cb205cb7f64eaa3a38804bf0893a,Peter Maydell,2010-12-07,"ARM: Fix decoding of Neon forms of VCVT between float and fixed point\n\nFix errors in the decoding of the Neon forms of fixed-point VCVT:\n * fixed-point VCVT is op 14 and 15, not 15 and 16\n * the fbits immediate field was being misinterpreted\n * the sense of the to_fixed bit was inverted\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Nathan Froyd <froydnj@codesourcery.com>",1,0.9996472597122192,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d3587ef81db34885189178d53f99831aea95c702,f73534a56e21f0fa37c10941a2a887b3576c2f69,Peter Maydell,2010-12-07,ARM: Fix sense of to_integer bit in Neon VCVT float/int conversion\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Nathan Froyd <froydnj@codesourcery.com>,1,0.9993446469306946,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,80376c3fc2c38fdd45354e4b0eb45031f35587ed,68694897e55ebd229898d4b6546877ccea500954,Isaku Yamahata,2010-12-20,"qbus: register reset handler for qbus whose parent is NULL\n\nStefan Weil reported the regression caused by\nec990eb622ad46df5ddcb1e94c418c271894d416 as follows\n\n> The second regression also occurs with MIPS malta.\n> Networking no longer works with the default pcnet nic.\n>\n> This is caused because the reset function for pcnet is no\n> longer called during system boot. The result in an invalid\n> mac address (all zero) and a non-working nic.\n>\n> For this second regression I still have no simple solution.\n> Of course mips_malta.c should be converted to qdev which\n> would fix both problems (but only for malta system emulation).\n\nThe issue is, it is assumed that all qbuses, qdeves are under\nmain_system_bus. But there are qbuses whose parent is NULL. So it\nis necessary to trigger reset for those qbuses.\n(On the other hand, if NULL is passed to qdev_create(), its parent bus\nis main_system_bus.)\nIdeally those buses should be moved under bus controller\ndevice which is qdev. But it's not done yet.\nSo register qbus reset handler for qbus whose parent is NULL.\n\nReported-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: ""Michael S. Tsirkin"" <mst@redhat.com>\nSigned-off-by: Isaku Yamahata <yamahata@valinux.co.jp>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995373487472534,MIPS,"hw/qdev.c, hw/qdev.h, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9ed5726c043958359b0f1fa44ab3e4f25f9d9a47,cbb608a5c8ff918188545edb28127f63db76bd1e,Nathan Froyd,2010-10-29,"target-mips: fix translation of MT instructions\n\nThe translation of dmt/emt/dvpe/evpe was doing the moral equivalent of:\n\n  int x;\n  ...		/* no initialization of x */\n  x = f (x);\n\nwhich confused later bits of TCG rather badly, leading to crashes.\n\nFix the helpers to only return results (those instructions have no\ninputs), and fix the translation code accordingly.\n\nSigned-off-by: Nathan Froyd <froydnj@codesourcery.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996261596679688,TCG,"target-mips/helper.h, target-mips/op_helper.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6d5c34fa027d1477c0572ea74421e21b0f733838,0fcec41eec0432c77645b4a407d3a3e030c4abc4,Mike Pall,2010-12-31,Fix translation of unary PPC/SPE instructions (efdneg etc.).\n\nSigned-off-by: Mike Pall <mike-lp10@luajit.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.988933563232422,PPC,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3eb28bbd472c0d4e3182421c4af7043afa059903,dd94ad96e51457d8d9562a73659734b559d2f4b1,Aurelien Jarno,2011-01-06,target-ppc: fix default qNaN\n\nOn PPC the default qNaN doesn't have the sign bit set.\n\nAcked-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9996877908706664,PPC,target-ppc/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,93ae1c6fea6433bca732c907d7c3ee9be4f8a2ab,d735d695e7b547272412f63433e023496c4d36ed,Aurelien Jarno,2011-01-06,"softfloat: fix float{32,64}_maybe_silence_nan() for MIPS\n\nOn targets that define sNaN with the sNaN bit as one, simply clearing\nthis bit may correspond to an infinite value.\n\nConvert it to a default NaN if SNAN_BIT_IS_ONE, as it corresponds to\nthe MIPS implementation, the only emulated CPU with SNAN_BIT_IS_ONE.\nWhen other CPU of this type are added, this might be updated to include\nmore cases.\n\nAcked-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.999510645866394,MIPS,fpu/softfloat-specialize.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,838fa72d0b721766616e94a0f7dc76b15146cd82,71df0eeb98a1ecff7770aa486faf08a8c1049745,Aurelien Jarno,2011-01-06,"target-arm: fix SMMLA/SMMLS instructions\n\nSMMLA and SMMLS are broken on both in normal and thumb mode, that is\nboth (different) implementations are wrong. They try to avoid a 64-bit\nadd for the rounding, which is not trivial if you want to support both\nSMMLA and SMMLS with the same code.\n\nThe code below uses the same implementation for both modes, using the\ncode from the ARM manual. It also fixes the thumb decoding that was a\nmix between normal and thumb mode.\n\nThis fixes the issues reported in\nhttps://bugs.launchpad.net/qemu/+bug/629298\n\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997339844703674,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3ebe80c2993205ad6ad7ee0e800068f08932775c,2bed652fc596dee09f27dd7ab20528cf5eaf9203,Peter Maydell,2011-01-06,"linux-user: Fix incorrect NaN detection in ARM nwfpe emulation\n\nThe code in the linux-user ARM nwfpe emulation was incorrectly\nchecking only for quiet NaNs when it should have been checking\nfor any kind of NaN. This is probably because the code in\nquestion was taken from the Linux kernel, whose copy of the\nsoftfloat library had been modified so that float*_is_nan()\nreturned true for all NaNs, not just quiet ones. The qemu\nequivalent function is float*_is_any_nan(), so use that.\nNB that this code is really obsolete since nobody uses FPE\nfor actual arithmetic now; this is just cleanup following\nthe recent renaming of the NaN related functions.\n\nAcked-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@iki.fi>",1,0.9996052384376526,ARM,linux-user/arm/nwfpe/fpa11_cprt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2e8785acc601f72dd10ce19929c455689fc2649d,3ebe80c2993205ad6ad7ee0e800068f08932775c,Wolfgang Schildbach,2010-12-06,Fix commandline handling for ARM semihosted executables\n\nUse the copy of the command line that loader_build_argptr() sets up in guest\nmemory as the command line to return from the ARM SYS_GET_CMDLINE semihosting\ncall. Previously we were using a pointer to memory which had already been\nfreed before the guest program started.\n\nThis fixes https://bugs.launchpad.net/qemu/+bug/673613 .\n\nSigned-off-by: Wolfgang Schildbach <wschi@dolby.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@iki.fi>,1,0.9996819496154784,ARM,arm-semi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c69806ab82760a2e5ca880d41e8786276c838152,497aebb99e0700ba30b9b8d1e86f3452dcb18b28,Aurelien Jarno,2011-01-06,"tcg/arm: fix branch target change during code retranslation\n\nQEMU uses code retranslation to restore the CPU state when an exception\nhappens. For it to work the retranslation must not modify the generated\ncode. This is what is currently implemented in ARM TCG.\n\nHowever on CPU that don't have icache/dcache/memory synchronised like\nARM, this requirement is stronger and code retranslation must not modify\nthe generated code ""atomically"", as the cache line might be flushed\nat any moment (interrupt, exception, task switching), even if not\ntriggered by QEMU. The probability for this to happen is very low, and\ndepends on cache size and associativiy, machine load, interrupts, so the\nsymptoms are might happen randomly.\n\nThis requirement is currently not followed in tcg/arm, for the\nload/store code, which basically has the following structure:\n  1) tlb access code is written\n  2) conditional fast path code is written\n  3) branch is written with a temporary target\n  4) slow path code is written\n  5) branch target is updated\nThe cache lines corresponding to the retranslated code is not flushed\nafter code retranslation as the generated code is supposed to be the\nsame. However if the cache line corresponding to the branch instruction\nis flushed between step 3 and 5, and is not flushed again before the\ncode is executed again, the branch target is wrong. In the guest, the\nsymptoms are MMU page fault at a random addresses, which leads to\nkernel page fault or segmentation faults.\n\nThe patch fixes this issue by avoiding writing the branch target until\nit is known, that is by writing only the branch instruction first, and\nlater only the offset.\n\nThis fixes booting linux guests on ARM hosts (tested: arm, i386, mips,\nmipsel, sh4, sparc).\n\nAcked-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996840953826904,"ARM, TCG",tcg/arm/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d43ffce14023df871d6065eb864d1f41eb441f37,9a3abc21a61f95799c1f301b0b480a98a29fa0ff,Aurelien Jarno,2011-01-06,"tcg/mips: fix branch target change during code retranslation\n\nTCG on MIPS was trying to avoid changing the branch offset, but didn't\ndue to a stupid typo. Fix it.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997122883796692,"MIPS, TCG",tcg/mips/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,180c22e18b0a9be21445271f94347238b0bc0a25,c574ba5a4ce0faee6a687412804d6045ef815327,Gerd Hoffmann,2011-01-06,pci: allow devices being tagged as not hotpluggable.\n\nThis patch adds a field to PCIDeviceInfo to tag devices as being\nnot hotpluggable.  Any attempt to plug-in or -out such a device\nwill throw an error.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9997039437294006,PCI,"hw/pci.c, hw/pci.h, qerror.c, qerror.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,618c169b577db64ac6589ad48825d2e11760d1a6,0d86d2bebb625a222f70b76972139f6a272e3e0b,Gerd Hoffmann,2010-12-01,"usb: rework attach/detach workflow\n\nAdd separate detach callback to USBPortOps, split\nuhci/ohci/musb/usbhub attach functions into two.\n\nMove common code to the usb_attach() function, only\nthe hardware-specific bits remain in the attach/detach\ncallbacks.\n\nKeep track of the port it is attached to for each usb device.\n\n[ v3: fix tyops in usb-musb.c ]\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.8446689248085022,USB,"hw/usb-hub.c, hw/usb-musb.c, hw/usb-ohci.c, hw/usb-uhci.c, hw/usb.c, hw/usb.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0322b26e2d451c3c0fe5f54b1ff4fa18a17525aa,4ca4502c93a7ebc358d4e3b5574574e1d84f64b2,Peter Maydell,2011-01-08,"ARM: Fix decoding of VQSHL/VQSHLU immediate forms\n\nFix errors in the decoding of ARM VQSHL/VQSHLU immediate forms,\nincluding using the new VQSHLU helper functions where appropriate.\n\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9994887113571168,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,102016020bb0f368958ae91d293e13c61b3923a1,e90877507ea8864e32692cb79da1685f5ada8c78,Aurelien Jarno,2011-01-14,"softfloat: fix default-NaN mode\n\nWhen the default-NaN mode is enabled, it should return the default NaN\nvalue, but it should anyway raise the invalid operation flag if one of\nthe operand is an sNaN.\n\nI have checked that this behavior matches the ARM and SH4 manuals, as\nwell as real SH4 hardware.\n\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996731281280518,"ARM, SH4",fpu/softfloat-specialize.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,21829e9b39e3aa0874931aa6981f258c82f41715,a0d4ac333a8e59152c48ce659dc831391fff6df3,Aurelien Jarno,2011-01-14,"target-sh4: implement FPU exceptions\n\nFPU exception support where not implemented on SH4. Implement them by\nclearing the softfloat exceptions flags before an FP instruction (the\nSH4 FPU also clear them before an instruction), and calling a function\nto update the FPSCR register after an FP instruction. This function\nupdate the corresponding FPSCR bits (both flags and cumulative flags)\nand trigger exception if enabled.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9990399479866028,SH4,target-sh4/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3bd4be3ada596bbed81fe955c963bb6a64335011,d30df5cec94cc165d76ccabb0d1847357178795e,Aurelien Jarno,2011-01-14,"lsi53c895a: fix endianness issues\n\nlsi_ram_read*() and lsi_ram_write*() are not consistent, one uses\nleXX_to_cpu() the other uses nothing. As the comment above the RAM\ndeclaration says: ""Script ram is stored as 32-bit words in host\nbyteorder."", remove the leXX_to_cpu() calls.\n\nThis fixes the boot of an ARM versatile machine on MIPS and PowerPC\nhosts.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997023940086364,"ARM, MIPS",hw/lsi53c895a.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9ea62f571ce8953dba1d2bad2bdeaf9c3a84b7d7,6f3300ad2b5a1e7090720993d9fcb9f550259e12,Peter Maydell,2011-01-14,"target-arm: Fix implementation of VRSQRTS\n\nThe implementation of the ARM VRSQRTS instruction (which calculates\n(3 - op1 * op2) / 2) was missing the division operation. It also\ndid not handle the special cases of (0,inf) and (inf,0).\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9993941783905028,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,964413d9d96ab81ee6bf81b176c767342aa90db9,bc4a0de0a2c891b8daba4806baf9f11436f5f562,Peter Maydell,2011-01-14,"linux-user: ARM: clear the IT bits when invoking a signal handler\n\nWhen invoking a signal handler for an ARM target, make sure the IT\nbits in the CPSR are cleared. (This would otherwise cause incorrect\nexecution if the IT state was non-zero when an exception occured.\nThis bug has been masked previously because we weren't getting the\nIT state bits at exception entry right anyway.)\n\nAlso use the proper cpsr_read()/cpsr_write() interface to update\nthe CPSR rather than manipulating CPUState fields directly.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.999607264995575,ARM,linux-user/signal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4cd31ad264b11274f199bbd8e96474d8cde60c42,0c16e71e6a96a91e65c2a2e7b14b86423a21dd94,Blue Swirl,2011-01-16,"tcg/sparc64: fix segfault\n\nWith current OpenBSD, code_gen_buffer was mapped 8GB away from\ntext segment. Then any helpers were beyond the 2GB range of call\ninstruction genereated by TCG and so the calls would go nowhere,\nleading to a segfault.\n\nFix by specifying an address for the code_gen_buffer,\nhopefully free and nearby the helpers.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9996927976608276,TCG,exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a8fb7ff3fdd05ffb4cce1ab4d3ff7768a490f2f5,b2d9eda5d473fa7251319a368b0ee72d75218aed,Michael Tokarev,2010-10-18,"USB keyboard emulation key mapping error\n\nThe USB keyboard emulation's translation table in hw/usb-hid.c doesn't\nmatch the codes actually sent for the Logo (a.k.a. ""Windows"") or Menu\nkeys. This results in the guest OS not being able to receive these keys\nat all when the USB keyboard emulation is being used.\n\nIn particular, both the keymap in /usr/share/kvm/keymaps/modifiers and\nthe evdev table in x_keymap.c map these keys to 0xdb, 0xdc, and 0xdd,\nwhile usb_hid_usage_keys[] seems to be expecting them to be mapped to\n0x7d, 0x7e, and 0x7f.\n\nThe attached patch seems to fix the problem, at least in my (limited)\ntesting.\n\nhttp://bugs.debian.org/578846\nhttp://bugs.debian.org/600593 (cloned from the above against different pkg)\nhttps://bugs.launchpad.net/qemu/+bug/584139\n\nSigned-Off-By: Brad Jorsch <anomie@users.sourceforge.net>\nSigned-Off-By: Michael Tokarev <mjt@tls.msk.ru>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9995181560516356,USB,hw/usb-hid.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,51f9b84e759c692575542627dd8d39ae216ac521,e2af15b2ad57d3c61b79c8aea0871e3a00264e96,Herv Poussineau,2011-01-02,m48t59: Fix a wrong opaque passed to nvram read and write routines\n\nThis fixes boot on PPC prep.\n\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9997088313102722,PPC,hw/m48t59.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,373dfc441d55fe6619929fd049ab635bdfca9e62,de4af5f7928bb68d4e2b576598c245a256fcabbb,Aurelien Jarno,2011-01-17,"usb-hid: modifiers should generate an event\n\nWhen a modifier key is pressed or released, the USB HID keyboard still\nanswers NAK, unless another key is also pressed or released.\n\nThe patch fixes that by calling usb_hid_changed() when a modifier key\nis pressed or released.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.996410310268402,USB,hw/usb-hid.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,730986e4942188c5ec2b8752e3db47d09cb222b2,5dbbda340533cd7d217dcf3ab904fb353598cbde,Peter Maydell,2011-01-20,"hw/pl190.c: Fix writing of default vector address\n\nThe PL190 implementation keeps the default vector address\nin vect_addr[16], but we weren't using this for writes to\nthe DEFVECTADDR register. As a result of this fix the\ndefault_addr structure member is unused and we can delete it.\n\nReported-by: Himanshu Chauhan <hschauhan@nulltrace.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996938705444336,PL190,hw/pl190.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f5c848eed769b795ac9c06bfb315e4aa9116337c,bb44e0d12df70bd4a653341db4446daf6a9326be,Jan Kiszka,2011-01-21,x86: Optionally dump code bytes on cpu_dump_state\n\nIntroduce the cpu_dump_state flag CPU_DUMP_CODE and implement it for\nx86. This writes out the code bytes around the current instruction\npointer. Make use of this feature in KVM to help debugging fatal vm\nexits.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>,1,0.9996225833892822,KVM,"cpu-all.h, kvm-all.c, target-i386/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,521f0798d7e38c21983211a6585ebcf79de4c14a,ff5c186b8b6169bf25a6f30670a75fb9d4c945e3,Jan Kiszka,2011-01-21,"kvm: x86: Fix !CONFIG_KVM_PARA build\n\nIf we lack kvm_para.h, MSR_KVM_ASYNC_PF_EN is not defined. The change in\nkvm_arch_init_vcpu is just for consistency reasons.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9996273517608644,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c5999bfcfdf66390c98115044cb6fd174fbcf36d,d8f771d9124e9a295b564d47d7546d93e844b526,Jan Kiszka,2011-01-21,"kvm: x86: Only read/write MSR_KVM_ASYNC_PF_EN if supported\n\nIf the kernel does not support KVM_CAP_ASYNC_PF, it also does not know\nabout the related MSR. So skip it during state synchronization in that\ncase. Fixes annoying kernel warnings.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9997214674949646,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,13f8b97a57450534ccb7aaeb55095a668183fbee,0bfe006c5380c5f8a485a55ded3329fbbc224396,Paolo Bonzini,2011-01-12,"add event queueing to USB HID\n\nThe polling nature of the USB HID device makes it very hard to double\nclick or drag while on a high-latency VNC connection.  This patch,\nbased on work done in the Xen qemu-dm tree by Ian Jackson, fixes this\nbug by adding an event queue to the device.  The event queue associates\neach movement with the correct button state, and remembers all button\npresses and releases as well.\n\nSigned-off-by: Ian Jackson <ian.jackson@eu.citrix.com>\nSigned-off-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Gerd Hoffman <kraxel@redhat.com>",1,0.9996156692504884,USB,hw/usb-hid.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9892088b52da05c3944e84982922fa984e048044,42292d4e51ac01eb28360d53127337fe275c39c5,Gerd Hoffmann,2011-01-14,"vnc: fix numlock+capslock tracking\n\nThis patch makes the numlock+capslock tracking logic only look at\nkeydown events.  Without this patch the vnc server will insert\nbogous capslock keypress in case it sees the following key sequence:\n\n  shift down --- 'A' down --- shift up  --- 'A' up\n                                         ^ here\n\nIt doesn't hurt with a PS/2 keyboard, but it disturbs the USB Keyboard.\nAnd with the key event queue just added to the usb keyboard the guest\nwill actually notice.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996733665466307,USB,ui/vnc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c1ecb40a6124b80f1e346e38a1975e82da6507ca,9892088b52da05c3944e84982922fa984e048044,Gerd Hoffmann,2010-12-10,"usb core: add migration support\n\nYes, seriously.  There is no migration support at all for usb devices.\nThey loose state, especially the device address, and stop responding\nbecause of that.  Oops.\n\nLuckily there is so much broken usb hardware out there that the guest\nusually just kicks the device hard (via port reset and\nreinitialization), then continues without a hitch.  So we got away with\nthat in a surprising high number of cases.\n\nThe arrival of remote wakeup (which enables autosuspend support) changes\nthat picture though.  The usb devices also forget that it they are\nsupposed to wakeup, so they don't do that.  The host also doesn't notice\nthe device stopped working in case it suspended the device and thus\nexpects it waking up instead of polling it.  Result is that your mouse\nis dead.\n\nLets start fixing that.  Add a vmstate struct for USBDevice.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999268352985382,USB,"hw/hw.h, hw/usb-bus.c, hw/usb.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,27d6bf40edc346a61ade6d4c5d4f27f6b40acc81,1960966d1b57628f730b66fe33cd2005846092e0,Markus Armbruster,2011-01-28,"blockdev: Fix regression in -drive if=scsi,index=N\n\nBefore commit 622b520f, index=12 meant bus=1,unit=5.\n\nSince the commit, it means bus=0,unit=12.  The drive is created, but\nnot the guest device.  That's because the controllers we use with\nif=scsi drives (lsi53c895a and esp) support only 7 units, and\nscsi_bus_legacy_handle_cmdline() ignores drives with unit numbers\nexceeding that limit.\n\nChanging the mapping of index to bus, unit is a regression.  Breaking\n-drive invocations that used to work just makes it worse.\n\nRevert the part of commit 622b520f that causes this, and clean up\nsome.\n\nNote that the fix only affects if=scsi.  You can still put more than 7\nunits on a SCSI bus with -device & friends.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.999584972858429,SCSI,"blockdev.c, blockdev.h, hw/ide.h, hw/ide/ahci.c, hw/qdev.c, hw/scsi.h, savevm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,60f356e86d66a4a22530ec7570f7582af602d200,2685d2961b51437d0c7bc71f4ed7c320f6cbd010,Fabien Chouteau,2011-01-31,"SPARC: Fix Leon3 cache control\n\nThe ""leon3_cache_control_int"" (op_helper.c) function is called within leon3.c\nwhich leads to segfault error with the global ""env"".\n\nNow cache control is a CPU feature and everything is handled in op_helper.c.\n\nSigned-off-by: Fabien Chouteau <chouteau@adacore.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997192025184632,SPARC,"hw/leon3.c, target-sparc/cpu.h, target-sparc/helper.c, target-sparc/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c84a88d8cb298b6757ad01a12a8bbba66cb6eaa2,60f356e86d66a4a22530ec7570f7582af602d200,Peter Maydell,2011-01-31,hw/slavio_intctl.c: fix gcc warning about array bounds overrun\n\nThe Ubuntu 10.10 gcc for ARM complains that we might be overrunning\nthe cpu_irqs[][] array: silence this by correcting the bounds on the\nloop. (In fact we would not have overrun the array because bit\nMAX_PILS in pil_pending and irl_out will always be 0.)\n\nAlso add a comment about why the loop's lower bound is OK.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9996925592422484,ARM,hw/slavio_intctl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1f5e71a8e6b24dce74b156472ff9253b9bd33a11,5dce499948e4a4abe62f010baf4a7ed3d49e53cb,Jan Kiszka,2011-02-03,"ioapic: Style & magics cleanup\n\nFix a few style issues and convert magic numbers into prober symbolic\nconstants, also fixing the wrong but unused IOAPIC_DM_SIPI value.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996039271354676,"APIC, IOAPIC",hw/ioapic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,607b4b0876bd3b1f33786ecc010ca2723de57270,e1bbf44636a7435be0582f56aa0947d5186d6009,Peter Maydell,2011-02-03,"target-arm: Clean up handling of MPIDR\n\nThe ARM cp15 register 0,c0,c0,5 is standardised in the v7 architecture\nas the MPIDR. Clean up its implementation to remove A9 specific handling.\n\nThis commit includes fixing an error in the value returned for the\nMPIDR on A9, where we were erroneously claiming a cluster ID of 9.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.7957614064216614,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3d185e5dd4967b7d03772d806ee566ed09d67485,607b4b0876bd3b1f33786ecc010ca2723de57270,Peter Maydell,2011-02-03,"target-arm: Fix decoding of preload and memory hint space\n\nCorrect the decoding of the ARM preload and memory hint space,\nby adding decoding of PLI, PLDW and the v7MP unallocated hint\nspace. This commit also corrects a slightly overexuberant\ndecoding of PLD(register) which was not checking that bit 4\nwas one.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.999057114124298,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,29057492871e63caeab8ee7cdf1062c0270f19d8,f26e5a54f0554798a2e6f7a074b809b13635d007,Jan Kiszka,2011-02-04,"x86: Fix MCA broadcast parameters for TCG case\n\nWhen broadcasting MCEs, we need to set MCIP and RIPV in mcg_status like\nit is done for KVM. Use the symbolic constants at this chance.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996997117996216,"KVM, TCG",target-i386/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,898b1bebf97e5f973624a4e513da45dffefdb9b7,8d9016c0919bab1fdf3a36c0f72d012924bb7efd,Martin Mohring,2011-02-08,"linux-user: fix for loopmount ioctl\n\nIn case a chrooted build uses XEN or KVM, a looped mount needs to be done to setup the chroot.\nThe ioctl for loop mount works correctly for arm, mips, ppc32 and sh4, so its now activated.\n\nSigned-off-by: Riku Voipio <riku.voipio@nokia.com>",1,0.9996987581253052,"KVM, XEN",linux-user/ioctls.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,005e1a0a02810ee132742d8a29771cd48a2b4285,d5138cf4a8f2415d2d568adfd3f65d3cc5a0b736,Peter Maydell,2011-02-10,linux-user/arm: fix compilation failures using softfloat's struct types\n\nAdd uses of the float32/float64 boxing and unboxing macros so that\nthe ARM linux-user targets will compile with USE_SOFTFLOAT_STRUCT_TYPES\nenabled.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9997074007987976,ARM,"linux-user/arm/nwfpe/fpa11_cpdt.c, linux-user/arm/nwfpe/fpopcode.c, linux-user/signal.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b4a3d965dee06d52281496bb5fd0a5cb5534b545,aa2c364b4cf2fae4d9c8acf53ee4436ed533902d,Jan Kiszka,2011-02-01,"Stop current VCPU on synchronous reset requests\n\nIf some I/O operation ends up calling qemu_system_reset_request in VCPU\ncontext, we record this and inform the io-thread, but we do not\nterminate the VCPU loop. This can lead to fairly unexpected behavior if\nthe triggering reset operation is supposed to work synchronously.\n\nFix this for TCG (when run in deterministic I/O mode) by setting the\nVCPU on stop and issuing a cpu_exit. KVM requires some more work on its\nVCPU loop.\n\n[ ported from qemu-kvm ]\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9996817111968994,"KVM, TCG","cpus.c, cpus.h, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,de758970b60f129ed9d024cc5c90c1f57fab2fd4,d0f294cec0ee25461a0a15b889929c5c7dc983cd,Jan Kiszka,2011-02-01,"kvm: Fix race between timer signals and vcpu entry under !IOTHREAD\n\nFound by Stefan Hajnoczi: There is a race in kvm_cpu_exec between\nchecking for exit_request on vcpu entry and timer signals arriving\nbefore KVM starts to catch them. Plug it by blocking both timer related\nsignals also on !CONFIG_IOTHREAD and process those via signalfd.\n\nAs this fix depends on real signalfd support (otherwise the timer\nsignals only kick the compat helper thread, and the main thread hangs),\nwe need to detect the invalid constellation and abort configure.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nCC: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9997320771217346,KVM,"configure, cpus.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9ccfac9ea4b862a75a4270ed32db1f8e314911c5,46d62fac8a6a43453322b3305ab2fcb8ee594443,Jan Kiszka,2011-02-01,"kvm: Unconditionally reenter kernel after IO exits\n\nKVM requires to reenter the kernel after IO exits in order to complete\ninstruction emulation. Failing to do so will leave the kernel state\ninconsistently behind. To ensure that we will get back ASAP, we issue a\nself-signal that will cause KVM_RUN to return once the pending\noperations are completed.\n\nWe can move kvm_arch_process_irqchip_events out of the inner VCPU loop.\nThe only state that mattered at its old place was a pending INIT\nrequest. Catch it in kvm_arch_pre_run and also trigger a self-signal to\nprocess the request on next kvm_cpu_exec.\n\nThis patch also fixes the missing exit_request check in kvm_cpu_exec in\nthe CONFIG_IOTHREAD case.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nCC: Gleb Natapov <gleb@redhat.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.981827437877655,KVM,"kvm-all.c, target-i386/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6792a57bf19ab37f61f5acf0f8e3003cf08814af,83f338f73ecb88cc6f85d6e7b81ebef112ce07be,Jan Kiszka,2011-02-07,"kvm: Separate TCG from KVM cpu execution\n\nMixing up TCG bits with KVM already led to problems around eflags\nemulation on x86. Moreover, quite some code that TCG requires on cpu\nenty/exit is useless for KVM. So dispatch between tcg_cpu_exec and\nkvm_cpu_exec as early as possible.\n\nThe core logic of cpu_halted from cpu_exec is added to\nkvm_arch_process_irqchip_events. Moving away from cpu_exec makes\nexception_index meaningless for KVM, we can simply pass the exit reason\ndirectly (only ""EXCP_DEBUG vs. rest"" is relevant).\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9412593841552734,"KVM, TCG","cpu-exec.c, cpus.c, kvm-all.c, target-i386/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fe0e4872e46a5264ea433a22a793538545108564,56bf4fe2978e3e14c976feae825dbbd3700573d0,Christophe Lyon,2011-02-21,target-arm: fix support for VRECPE.\n\nNow use the same algorithm as described in the ARM ARM.\n\nSigned-off-by: Christophe Lyon <christophe.lyon@st.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9978834986686708,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e07be5d2aeecc64b3d245cd20b9ccbeeedc9d1dd,fe0e4872e46a5264ea433a22a793538545108564,Christophe Lyon,2011-02-21,target-arm: fix support for VRSQRTE.\n\nNow use the same algorithm as described in the ARM ARM.\n\nSigned-off-by: Christophe Lyon <christophe.lyon@st.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9991461038589478,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,60c07d933c66c4b30a83b7ccbc8a0cb3df1b2d0e,24ac3a7d4eacea38d514dbf50baa845e5bc6840b,Vincent Palatin,2011-03-02,"net: fix qemu_can_send_packet logic\n\nIf any of the clients is not ready to receive (ie it has a can_receive\ncallback and can_receive() returns false), we don't want to start\nsending, else this client may miss/discard the packet.\n\nI got this behaviour with the following setup :\nthe emulated machine is using an USB-ethernet adapter, it is connected\nto the network using SLIRP and I'm dumping the traffic in a .pcap file.\nAs per the following command line :\n-net nic,model=usb,vlan=1 -net user,vlan=1 -net dump,vlan=1,file=/tmp/pkt.pcap\nEvery time that two packets are coming in a row from the host, the\nusb-net code will receive the first one, then returns 0 to can_receive\ncall since it has a 1 packet long queue. But as the dump code is always\nready to receive, qemu_can_send_packet will return true and the next\npacket will discard the previous one in the usb-net code.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997182488441468,USB,net.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0d2e91c17829729812bf5d22d20dd0f5d2554ec2,ce0536616d338e3ee56288fa8e7aee1ea75e92d4,Aurelien Jarno,2011-03-06,"hw/sd.c: fix sd_set_cb() crash when bdrv == NULL\n\nsd_set_cb() calls bdrv_is_read_only() and bdrv_is_inserted() even if\nno block driver is associated with the card reader.\n\nThis patch fixes the issues by not setting the irq in this case, this\nfixes ARM versatile crash.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997408986091614,ARM,hw/sd.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8387da81975a1f5d310d5f3008514c419b3e82de,e095e2f3b47ced1ced72f3f2c72260e55f39903b,Peter Maydell,2011-03-01,"target-arm: Handle VMOV between two core and VFP single regs\n\nFix two bugs in the translation of the instructions VMOV sa,sb,rx,ry and\nVMOV rx,ry,sa,sb (which copy between a pair of ARM core registers and a\npair of VFP single precision registers):\n\n * An incorrect condition meant these instruction patterns were being\n   treated as load/store multiple, which resulted in the generation\n   of bad code and a runtime segfault\n * The order of the core register pair was reversed so the values would\n   go to the wrong registers\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9995779395103456,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,29501f1b9e6b1ee9d5d4761a452116321be5ae95,f66a99d7526782495931bb1ef22f0a6c623c0ff0,Peter Maydell,2011-03-06,"target-arm: Set carry flag correctly for Thumb2 ORNS\n\nThe code for Thumb2 ORNS (or negated and set flags) was trashing\na TCG input register which was needed later for use in calculating\nflags, with the effect that the carry flag was always set with\nthe wrong sense. Fix this by using the TCG orc op instead of\nseparate not and or ops.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996598958969116,TCG,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7d82af38b78305155553013c6fd709dc50404199,d48751ed4f8368d3fdca99fbcd241d9efeedccbc,Vincent Palatin,2011-03-10,"Fix performance regression in qemu_get_ram_ptr\n\nWhen the commit f471a17e9d869df3c6573f7ec02c4725676d6f3a converted the\nram_blocks structure to QLIST, it also removed the conditional check before\nswitching the current block at the beginning of the list.\n\nIn the common use case where ram_blocks has a few blocks with only one\nfrequently accessed (the main RAM), this has a performance impact as it\nperforms the useless list operations on each call (which are on a really\nhot path).\n\nOn my machine emulation (ARM on amd64), this patch reduces the\npercentage of CPU time spent in qemu_get_ram_ptr from 6.3% to 2.1% in the\nprofiling of a full boot.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9969748258590698,ARM,exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fbc1c7e6886290c72e78bac85db8e779d608b38b,bdcbd3e2fb98407e6b0928a17d1ed61786cb6389,Jan Kiszka,2011-03-02,kvm: Fix build warning when KVM_CAP_SET_GUEST_DEBUG is lacking\n\nOriginal fix by David Gibson.\n\nCC: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>,1,0.999705731868744,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ab443475c9235822e329e1bfde89be6c71e2c21e,990368650f77d6f2b428b034209331ada7cb463f,Jan Kiszka,2011-03-02,"kvm: x86: Inject pending MCE events on state writeback\n\nThe current way of injecting MCE events without updating of and\nsynchronizing with the CPUState is broken and causes spurious\ncorruptions of the MCE-related parts of the CPUState.\n\nAs a first step towards a fix, enhance the state writeback code with\nsupport for injecting events that are pending in the CPUState. A pending\nexception will then be signaled via cpu_interrupt(CPU_INTERRUPT_MCE).\nAnd, just like for TCG, we need to leave the halt state when\nCPU_INTERRUPT_MCE is pending (left broken for the to-be-removed old KVM\ncode).\n\nThis will also allow to unify TCG and KVM injection code.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nCC: Huang Ying <ying.huang@intel.com>\nCC: Hidetoshi Seto <seto.hidetoshi@jp.fujitsu.com>\nCC: Jin Dongming <jin.dongming@np.css.fujitsu.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.999614715576172,"KVM, TCG",target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cd19cfa23609dc1a35dd34f0b7554a8462337fde,75d49497332361a574d9ed1f546d36de385d238f,Huang Ying,2011-03-02,"Add qemu_ram_remap\n\nqemu_ram_remap() unmaps the specified RAM pages, then re-maps these\npages again.  This is used by KVM HWPoison support to clear HWPoisoned\npage tables across guest rebooting, so that a new page may be\nallocated later to recover the memory error.\n\n[ Jan: style fixlets, WIN32 fix ]\n\nSigned-off-by: Huang Ying <ying.huang@intel.com>\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9995625615119934,KVM,"cpu-all.h, cpu-common.h, exec.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3c85e74fbf9e5a39d8d13ef91a5f3dd91f0bc8a8,cd19cfa23609dc1a35dd34f0b7554a8462337fde,Huang Ying,2011-03-02,"KVM, MCE, unpoison memory address across reboot\n\nIn Linux kernel HWPoison processing implementation, the virtual\naddress in processes mapping the error physical memory page is marked\nas HWPoison.  So that, the further accessing to the virtual\naddress will kill corresponding processes with SIGBUS.\n\nIf the error physical memory page is used by a KVM guest, the SIGBUS\nwill be sent to QEMU, and QEMU will simulate a MCE to report that\nmemory error to the guest OS.  If the guest OS can not recover from\nthe error (for example, the page is accessed by kernel code), guest OS\nwill reboot the system.  But because the underlying host virtual\naddress backing the guest physical memory is still poisoned, if the\nguest system accesses the corresponding guest physical memory even\nafter rebooting, the SIGBUS will still be sent to QEMU and MCE will be\nsimulated.  That is, guest system can not recover via rebooting.\n\nIn fact, across rebooting, the contents of guest physical memory page\nneed not to be kept.  We can allocate a new host physical page to\nback the corresponding guest physical address.\n\nThis patch fixes this issue in QEMU-KVM via calling qemu_ram_remap()\nto clear the corresponding page table entry, so that make it possible\nto allocate a new page to recover the issue.\n\n[ Jan: rebasing and tiny cleanups]\n\nSigned-off-by: Huang Ying <ying.huang@intel.com>\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9996758699417114,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1009d2edea4acd5b683ab1572ad7f4d4583e1860,1ab3c6c07382c4249854f811cd6182a0a88e25fb,Jan Kiszka,2011-03-15,"x86: Unbreak TCG support for hardware breakpoints\n\nCommit 83f338f73e broke x86 hardware breakpoint emulation by moving the\ndebug exception handling out of cpu_exec. Fix this by moving all TCG\nrelated bits back, only leaving the generic guest debugging parts in\ncpus.c.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nCC: TeLeMan <geleman@gmail.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9996127486228944,TCG,"cpu-exec.c, cpus.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dc77d341d2dcd3eeadae736ed7e7775e22324844,7cbb533f92f040ab1dbafe2233a51c7d4e321d90,Jan Kiszka,2011-03-15,kvm: Reorder error handling of KVM_RUN\n\nTest for general errors first as this is the slower path.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>,1,0.9930564761161804,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,735e77ecb14355df35c9dbb727f3bc76d730b651,aa315f95b7c3c5b032cbc6c78f434a871002f558,Stefan Hajnoczi,2011-03-07,e1000: Fix multi-descriptor packet checksum offload\n\nThe PCI/PCI-X Family of Gigabit Ethernet Controllers Software\nDevelopers Manual states the following about the POPTS field:\n\n  Provides a number of options which control the handling of this\n  packet.  This field is ignored except on the first data descriptor of\n  a packet.\n\nThe current implementation always loads the field and its checksum\noffload flags.  This patch uses only the first descriptor's POPTS field\nin order to comply with the specification.\n\nWhen Solaris sends multi-descriptor packets it fills in POPTS for the\nfirst descriptor only.  Therefore this patch is necessary in order to\nperform checksum offload correctly for multi-descriptor packets.\n\nReported-by: Daniel Pecka <dpecka@techniservit.cz>\nReported-by: Gabriele A. Trombetti <gabriele.trombetti@itb.cnr.it>\nSigned-off-by: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9986806511878968,PCI,hw/e1000.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2a0308c54f8afb606d4185d59d502823be3c307b,30cb4cdec79dc2727f562edee36a4f3df4dfc23f,Peter Maydell,2011-03-10,"target-arm: Fix UNDEF cases in Thumb load/store\n\nDecode of Thumb load/store was merging together the cases of 'bit 11==0'\n(reg+reg LSL imm) and 'bit 11==1' (reg+imm). This happens to work for\nvalid instruction patterns but meant that we would not UNDEF for the\ncases the architecture mandates that we must. Make the decode actually\nlook at bit 11 as well as [10..8] so that we UNDEF in the right places.\n\nThis change also removes what was a spurious unreachable 'case 8',\nand correctly frees TCG temporaries on the illegal-insn codepaths.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.999494194984436,TCG,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7d2aabe262846ddeda1785d42ff4d7964e8ac1c8,e1d177b922f52569e900e96d611caa09655bdec9,Peter Maydell,2011-03-11,target-arm: Fix TCG temporary leaks for scalar VMULL\n\nFix a TCG temporary leak when translating 32-bit scalar VMULL.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9992691874504088,TCG,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,89c473fd82daf7dddad8162a683bcd0ef671ecda,6f3279b5d1d39e658d29d20221f5a5de850b0c15,Michael S. Tsirkin,2011-03-19,"virtio-pci: fix bus master work around on load\n\nCommit c81131db15dd1844d0db1d51f3cd7a105cfd2cf3\ndetects old guests by comparing virtio and\nPCI status. It attempts to do this on load,\nas well, but load_config callback in a binding\nis invoked too early and so the virtio status\nisn't set yet.\n\nWe could add yet another callback to the\nbinding, to invoke after load, but it\nseems easier to reuse the existing vmstate\ncallback.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nCc: Alexander Graf <agraf@suse.de>",1,0.9996380805969238,PCI,"hw/virtio-pci.c, hw/virtio.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e6b3c8ca0222f6633516c0461a713e7bddc4f076,366c9332450caace5843c17806ba4879bf2d005c,Peter Maydell,2011-03-22,"hw/versatilepb, realview: Fix condition for instantiation of onboard NIC\n\nCorrect the condition determining whether we instantiate the onboard\nNIC or a PCI card NIC on VersatilePB and Realview boards. This was broken\nin two ways:\n (1) if the user asked for two default NICs (""-net nic -net nic"") we would\ncrash trying to strcmp() a NULL pointer\n (2) if the user asked for two NICs explicitly of the same model as the\nonboard NIC (eg ""-net nic,model=smc91c111 -net nic,model=smc91c111"")\nwe would try to instantiate two onboard NICs at the same address.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.99970942735672,PCI,"hw/realview.c, hw/versatilepb.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1b01b4e717ada625575c207105b0b270c0b8467d,6d65516f774c62a1abde3e52b689ac743b9ccc71,Alexander Graf,2011-03-29,"Only build ivshmem when CONFIG_PCI && CONFIG_KVM\n\nThe ivshmem depends on PCI and KVM, not only KVM. Reflect this\nin the Makefile, so we don't get build errors on s390x.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nCC: Cam Macdonell <cam@cs.ualberta.ca>\nCC: Juan Quintela <quintela@redhat.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9935546517372132,"KVM, PCI",Makefile.target,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,359507eed1b6d8ae2392e0c8fe32d5f0de9d1d75,29f82b37e5341b96e514373854411c4fcb935fc0,Alexander Graf,2011-03-29,"s390x: fix KVM target\n\nDuring Jan's rework of the generic KVM layer, he added some more error checks\nand actually aborted if something went wrong. Unfortunately, one of the s390\ninternal error codes slipped through, aborting the VM without needing to.\n\nThis patch fixes booting of S390x virtual machines in KVM.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nCC: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.99971741437912,KVM,target-s390x/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6be9b4147adb27f78ec944af5abfc97e7cd0d066,359507eed1b6d8ae2392e0c8fe32d5f0de9d1d75,Alexander Graf,2011-03-29,"s390x: fix s390-virtio-serial\n\nCommit 6b331efb733a0f913ddc0b7762a1307dec304061 broke the s390 proxy version\nof virtio-serial by only taking its PCI brother into account.\n\nSo let's adjust s390-virtio-serial the same way as its PCI counterpart, making\nit compile and work again.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nCC: Amit Shah <amit.shah@redhat.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9869924783706664,PCI,"hw/s390-virtio-bus.c, hw/s390-virtio-bus.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6957785773e8a3cc8bd51f0e3172eaccbbaa5f3a,3601ff11732160e42d3174d2821d873cfcd52a59,David Gibson,2011-04-08,"ppce500_mpc8544ds: Fix compile with --enable-debug and --disable-kvm\n\nWhen configured with --enable-debug, we compile without optimization.\nThis means that the function mpc8544_copy_soc_cell() in ppce500_mpc8544ds.c\nis not optimized out, even though it is never called without kvm.  That in\nturn causes a link failure, because it calls the function\nkvmppc_read_host_property() which is in kvm_ppc.o and therefore not\nincluded in a --disable-kvm build.\n\nThis patch fixes the problem by providing a dummy stub for\nkvmppc_read_host_property() in kvm_ppc.h when !CONFIG_KVM.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9995829463005066,KVM,target-ppc/kvm_ppc.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,420b6c317de87890e06225de6e2f8af7bf714df0,4d9ad7f793605abd9806fc932b3e04e028894565,Peter Maydell,2011-04-14,"tests/test-mmap.c: Check mmap() return value before using it\n\nCorrect the position of a ""stop if MAP_FAILED"" check in the mmap()\ntests, so that if mmap() does fail we print a failure message\nrather than segfaulting inside memcpy().\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>",1,0.99886155128479,LED,tests/test-mmap.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7cb4db8f41d20d2c9d9c9a6830a362eebaeb42ed,f2dd89d0c7e5d39237f43392ccaed79bda47a71e,Peter Maydell,2011-04-20,"linux-user/arm/nwfpe: rename REG_PC to ARM_REG_PC\n\nThe REG_PC constant used in the ARM nwfpe code is fine in the kernel\nbut when used in qemu can clash with a definition in the host system\ninclude files (in particular on Ubuntu Lucid SPARC, including signal.h\nwill define a REG_PC). Rename the constant to avoid this issue.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9554754495620728,"ARM, SPARC","linux-user/arm/nwfpe/fpa11.c, linux-user/arm/nwfpe/fpa11.h, linux-user/arm/nwfpe/fpa11_cpdt.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,19e83f6bdf86f92ee90db77d606affe5b08f8b40,143f6ffe9cd288d2b507ddc1508316181c1007a7,Peter Maydell,2011-04-26,configure: Make epoll_create1 test work around SPARC glibc bug\n\nWork around a SPARC glibc bug which caused the epoll_create1 configure\ntest to wrongly claim that the function was present. Some versions of\nSPARC glibc provided the function in the library but didn't declare\nit in the include file; the result is that gcc warns about an implicit\ndeclaration but a link succeeds. So we reference the function as a\nvalue rather than a function call to induce a compile time error\nif the declaration was not present.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.99960857629776,SPARC,configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2f9cba0c148af32fad6813480f5c92efe17c2d49,cd0544ee550cb125d752f765e9d9e7c3fdf464b2,Stefan Weil,2011-04-05,"qemu-timer: Fix timers for w32\n\nCommit 68c23e5520e8286d79d96ab47c0ea722ceb75041 removed the\nmultimedia timer, but this timer is needed for certain\nLinux kernels. Otherwise Linux boot stops with this error:\n\n    MP-BIOS bug: 8254 timer not connected to IO-APIC\n\nSo the multimedia timer is added again here.\n\nCc: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>",1,0.9997075200080872,APIC,qemu-timer.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,51b0c6065aa6e47a47094d73e24be298a4a7f3a1,aa7f74d1199020a29c677bc80518df5267bfe73f,Michael Tokarev,2011-04-26,"fix crash in migration, 32-bit userspace on 64-bit host\n\nThis change fixes a long-standing immediate crash (memory corruption\nand abort in glibc malloc code) in migration on 32bits.\n\nThe bug is present since this commit:\n\n  commit 692d9aca97b865b0f7903565274a52606910f129\n  Author: Bruce Rogers <brogers@novell.com>\n  Date:   Wed Sep 23 16:13:18 2009 -0600\n\n    qemu-kvm: allocate correct size for dirty bitmap\n\n    The dirty bitmap copied out to userspace is stored in a long array,\n    and gets copied out to userspace accordingly.  This patch accounts\n    for that correctly.  Currently I'm seeing kvm crashing due to writing\n    beyond the end of the alloc'd dirty bitmap memory, because the buffer\n    has the wrong size.\n\n    Signed-off-by: Bruce Rogers\n    Signed-off-by: Marcelo Tosatti <mtosatti@redhat.com>\n\n --- a/qemu-kvm.c\n +++ b/qemu-kvm.c\n @@ int kvm_get_dirty_pages_range(kvm_context_t kvm, unsigned long phys_addr,\n -            buf = qemu_malloc((slots[i].len / 4096 + 7) / 8 + 2);\n +            buf = qemu_malloc(BITMAP_SIZE(slots[i].len));\n             r = kvm_get_map(kvm, KVM_GET_DIRTY_LOG, i, buf);\n\nBITMAP_SIZE is now open-coded in that function, like this:\n\n size = ALIGN(((mem->memory_size) >> TARGET_PAGE_BITS), HOST_LONG_BITS) / 8;\n\nThe problem is that HOST_LONG_BITS in 32bit userspace is 32\nbut it's 64 in 64bit kernel.  So userspace aligns this to\n32, and kernel to 64, but since no length is passed from\nuserspace to kernel on ioctl, kernel uses its size calculation\nand copies 4 extra bytes to userspace, corrupting memory.\n\nHere's how it looks like during migrate execution:\n\nour=20, kern=24\nour=4, kern=8\n...\nour=4, kern=8\nour=4064, kern=4064\nour=512, kern=512\nour=4, kern=8\nour=20, kern=24\nour=4, kern=8\n...\nour=4, kern=8\nour=4064, kern=4064\n*** glibc detected *** ./x86_64-softmmu/qemu-system-x86_64: realloc(): invalid next size: 0x08f20528 ***\n\n(our is userspace size above, kern is the size as calculated\nby the kernel).\n\nFix this by always aligning to 64 in a hope that no platform will\nhave sizeof(long)>8 any time soon, and add a comment describing it\nall.  It's a small price to pay for bad kernel design.\n\nAlternatively it's possible to fix that in the kernel by using\ndifferent size calculation depending on the current process.\nBut this becomes quite ugly.\n\nSpecial thanks goes to Stefan Hajnoczi for spotting the fundamental\ncause of the issue, and to Alexander Graf for his support in #qemu.\n\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>\nCC: Bruce Rogers <brogers@novell.com>\nSigned-off-by: Avi Kivity <avi@redhat.com>",1,0.998382806777954,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5666ca4ae06d20497f887241151278e266947087,d0384d1d38f3ae13909b527ba0676429472b2807,Scott Wood,2011-04-11,"kvm: ppc: fixes for KVM_SET_SREGS on init\n\nClassic/server ppc has had SREGS for a while now (though I think not\nalways?), but it's still missing for booke.  Check the capability before\ncalling KVM_SET_SREGS.\n\nWithout this, booke kvm fails to boot as of commit\n84b4915dd2c0eaa86c970ffc42a68ea8ba9e48b5 (kvm: Handle kvm_init_vcpu\nerrors).\n\nAlso, don't write random stack state into the non-PVR sregs fields --\nhave kvm fill it in first.\n\nEventually booke will have sregs and it will have its own capability to\nbe tested here.  However, we will want a way for platform code to request\nto look like the actual CPU we're running on, especially if SoC devices\nare being directly assigned.\n\nSigned-off-by: Scott Wood <scottwood@freescale.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997437596321106,KVM,target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,64e07be544ee9c5fb5b741175262fd34726ec431,90dc8812229a1d3f31bc08ccf0aa50e10282faef,Alexander Graf,2011-04-16,"kvm: ppc: detect old headers\n\nWhen compiling Qemu with older kernel headers, the PVR setting\nmechanism isn't available yet. Unfortunately, back then I didn't add\na capability we could check against, so all we can do is add a configure\ntest to see if we support PVR setting. For BookE, we don't care yet.\n\nThis fixes compilation errors with KVM enabled on older kernel headers\n(like 2.6.32).\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996722936630248,KVM,"configure, target-ppc/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d4d6868f7b18874d6371388e3c226ea235802215,64e07be544ee9c5fb5b741175262fd34726ec431,Alexander Graf,2011-04-16,"kvm: ppc: warn user on PAGE_SIZE mismatch\n\nOn PPC, the default PAGE_SIZE is 64kb. Unfortunately, the hardware\nalignments don't match here: There are RAM and MMIO regions within\na single page when it's 64kb in size.\n\nSo the only way out for now is to tell the user that he should use 4k\nPAGE_SIZE.\n\nThis patch gives the user a hint on that, telling him that failing to\nregister a prefix slot is most likely to be caused by mismatching PAGE_SIZE.\n\nThis way it's also more future-proof, as bigger PAGE_SIZE can easily be\nsupported by other machines then, as long as they stick to 64kb granularities.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996604919433594,PPC,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a2589e5cf288971d66afd0d41f5eefb735419890,711c21280b2cb56060859cc574221a8bf40f908a,Blue Swirl,2011-04-26,"sparc64: fix wrpstate and wrtl on delay slot\n\nUse TCG local to work around TCG register flush due to a branch.\n\nThanks to Artyom Tarasenko, Igor Kovalenko and Aurelien Jarno.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997132420539856,TCG,target-sparc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,605a6aed56963360b744355d0c25da9e26a9bb0a,de1db2a172074a9ed7756d21823a70181b9a1dfb,Peter Maydell,2011-05-05,"target-arm: Fix VMLA, VMLS, VNMLS, VNMLA handling of NaNs\n\nCorrect handling of NaNs for VFP VMLA, VMLS, VNMLS and VNMLA requires that\nwe implement the set of negations and additions specified by the ARM ARM;\nplausible looking simplifications like turning (-A + B) into (B - A) or\ncomputing (A + B) rather than (B + A) result in selecting the wrong NaN or\nreturning a NaN with the wrong sign bit.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996466636657716,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4d29b50a41810684ad34e44352a630eb1dd94b58,3bfe4dbf92d98d8c119b74f6c90b42fd8f289b58,Jan Kiszka,2011-05-09,"ahci: Fix crashes on duplicate BH registration\n\nIf ahci_dma_set_inactive is called a while there is still a pending BH\nfrom a previous run, we will crash on the second run of\nahci_check_cmd_bh as it overwrites AHCIDevice::check_bh. Avoid this\nbroken and redundant duplicate registration.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9996953010559082,AHCI,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1fddfba129f5435c80eda14e8bc23fdb888c7187,8d278467ff698de351a136e71f352e611e728579,Alexander Graf,2011-05-19,"ahci: Fix non-NCQ accesses for LBA > 16bits\n\nAHCI provides two ways of reading/writing data:\n\n 1) NCQ\n 2) ATA commands with the LBA in the command FIS\n\nIn the second code path, we didn't handle any LBAs that were bigger than\n16 bits, so whenever a guest that used high LBA numbers wanted to access\ndata, the LBA got truncated down to 16 bits, giving the guest garbage.\n\nThis patch adds support for LBAs higher than 16 bits. I've tested that it\nworks just fine with SeaBIOS and Linux guests. This patch also unbreaks\nthe often reported grub errors people have seen with AHCI.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9992973804473876,AHCI,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8c11ad25f40ee443000d2dbc0ef296ee210d86b4,6b64b624cde336f3df1146483e7858f5fa814f95,Aurelien Jarno,2011-05-17,"tcg: don't keep dead outputs in registers\n\nIf an op with dead outputs is not removed, because it has side effects\nor has multiple output and only one dead, mark the registers as dead\ninstead of saving them. This avoid a few register spills on TCG targets\nwith low register count, especially with div2 and mul2 ops, or when a\nqemu_ld* result is not used (prefetch emulation for example).\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9993962049484252,TCG,tcg/tcg.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,40f16dd1279e7f26357b3c4b3838a89ffc6153da,5138efecf23471abcf7dedce1956918f4ba312e3,Paolo Bonzini,2011-05-03,"scsi-generic: Remove bogus double complete\n\nscsi-generic scsi_read_complete() should not -both- call the client\ncomplete callback with SCSI_REASON_DATA -and- call\nscsi_command_complete().  The former will cause the client to queue a\nnew read or write request, while the later will free the request data\nstructure, thus causing the new read or write request to use a\nfreed/stale structure when it completes.\n\nThis patch fixes the bug, fixing a crash with scsi-generic & RHEL5.5\ninstaller.\n\nCc: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nCc: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Christoph Hellwig <hch@lst.de>",1,0.99941885471344,SCSI,hw/scsi-generic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ad2d30f79d3b0812f02c741be2189796b788d6d7,d33e0ce213cec82a059f5e37667231200eb77325,Paolo Bonzini,2011-04-18,"scsi: reference-count requests\n\nWith the next patch, a device may hold SCSIRequest for an indefinite\ntime.  Split a rather big patch, and protect against access errors,\nby reference counting them.\n\nThere is some ugliness in scsi_send_command implementation due to\nthe need to unref the request when it fails.  This will go away\nwith the next patches, which move the unref'ing to the devices.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nCc: Christoph Hellwig <hch@lst.de>",1,0.9995142221450806,SCSI,"hw/scsi-bus.c, hw/scsi-disk.c, hw/scsi-generic.c, hw/scsi.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,94d3f98a3f3caddd7875f9a11776daeb84962a7b,19d110ab8af3308ce58d0936f085f0124930e7e7,Paolo Bonzini,2011-04-18,"scsi: introduce scsi_req_cancel\n\nThis is for when the request must be dropped in the void,\nbut still memory should be freed.  To this end, the devices\nregister a second callback in SCSIBusOps.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Christoph Hellwig <hch@lst.de>",1,0.7564370632171631,SCSI,"hw/esp.c, hw/lsi53c895a.c, hw/scsi-bus.c, hw/scsi-disk.c, hw/scsi-generic.c, hw/scsi.h, hw/spapr_vscsi.c, hw/usb-msd.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a1f0cce2ac0243572ff72aa561da67fe3766a395,2b8b3bb9dd1c67d8296b7610dca909539e25a196,Hannes Reinecke,2011-04-18,scsi: Update sense code handling\n\nThe SCSI spec has a quite detailed list of sense codes available.\nIt even mandates the use of specific ones for some failure cases.\nThe current implementation just has one type of generic error\nwhich is actually a violation of the spec in certain cases.\nThis patch introduces various predefined sense codes to have the\nsense code reporting more in line with the spec.\n\nOn top of Hannes's patch I fixed the reply to REQUEST SENSE commands\nwith DESC=0 and a small (<18) length.\n\nSigned-off-by: Hannes Reinecke <hare@suse.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Christoph Hellwig <hch@lst.de>,1,0.9996123909950256,SCSI,"hw/scsi-bus.c, hw/scsi-disk.c, hw/scsi-generic.c, hw/scsi.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,578c7b2ca8ee9e97fa8693b1a83d517e8e3f962e,b1d7d2b93a1d6b2d2848b616cc35acdf521c923c,Juha Riihim?ki,2011-05-31,audio: fix integer overflow expression\n\nFix an integer overflow that can happen for signed 32 bit types\nwhen using FLOAT_MIXENG. (Note that at the moment this is only true\nwhen using the MacOSX coreaudio audio driver.)\n\nSigned-off-by: Juha Riihim?ki <juha.riihimaki@nokia.com>\n[Peter Maydell: Removed unnecessary casts]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: malc <av1474@comtv.ru>,1,0.9996635913848876,XEN,audio/mixeng_template.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fafc0b6afed9d913ddbcd2da87e5d39da9bf04c5,1ff7854e8899266085aea923b032274d15d7fe58,Alexander Graf,2011-05-25,"PPC: fix sregs usage on booke\n\nWhen compiling qemu with kvm support on BookE PPC machines, I get\nthe following error:\n\n  cc1: warnings being treated as errors\n  /tmp/qemu/target-ppc/kvm.c: In function 'kvm_arch_get_registers':\n  /tmp/qemu/target-ppc/kvm.c:188: error: unused variable 'sregs'\n\nThis is due to overly ambitious #ifdef'ery introduced in 90dc88.\nFix it by keeping code that doesn't depend on new headers alive\nfor the compiler, but never executed due to failing capability\nchecks.\n\nCC: Scott Wood <scottwood@freescale.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997188448905944,PPC,target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fbd659b76c0601efc49a4a3291730ca47f36c12c,fafc0b6afed9d913ddbcd2da87e5d39da9bf04c5,Alexander Graf,2011-05-25,"PPC: install mpc8544ds.dtb\n\nWe don't install mpc8544ds.dtb, which means that -M mpc8544ds doesn't\nwork when installed. Fix it by installing the file.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9995726943016052,PPC,Makefile,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,be82ee2aca363753888fe777215849a86f4e737c,d4a3ef69703e289af7b08122d969e72af799d15f,Stefan Weil,2011-05-27,target-s390x: Fix wrong argument in call of tcg_gen_shl_i64()\n\ntcg_gen_shl_i64 needs a 3rd argument of type TCGv_i64.\nSet tmp4 so it can be used here.\n\nv2:\nDon't call tcg_const_i64() inside of the loop\nbecause it creates additional code.\n\nSigned-off-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9996581077575684,TCG,target-s390x/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,03938c133e60c10a6903ddf71021d76496d69cb0,b7fa9214d8d4f57992c9acd0ccb125c54a095f00,Brad,2011-05-25,Use the correct header in the TCG MIPS code to find cacheflush() on OpenBSD.\n\nUse the correct header in the TCG MIPS code to find cacheflush() on OpenBSD\nto fix compilation of the MIPS host support for OpenBSD/mips64 based architecures.\n\nSigned-off-by: Brad Smith <brad@comstyle.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.99969744682312,"MIPS, TCG",tcg/mips/tcg-target.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6bd4b08ab236d59eb2cec92a52efb9c7df2388ac,03938c133e60c10a6903ddf71021d76496d69cb0,Peter Maydell,2011-05-27,"tcg/tcg-op.h: Fix prototypes for ld/st functions on 64 bit hosts\n\nThe prototypes for the ld/st functions on a 64 bit host declared\nthe address parameter as a TCGv_i64 rather than a TCGv_ptr. This\nworked OK (since the two are aliases), but needs to be fixed to\nallow extension of TCG type debugging to i64/i32/ptr mismatches.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997264742851256,TCG,tcg/tcg-op.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7157e2e23e89adcd436caeab31fdd6b47eded377,e75ccf2c033fb0503d6cb7ddd0fd1dfa0aa4fc16,Stefan Hajnoczi,2011-05-08,"virtio: guard against negative vq notifies\n\nThe virtio_queue_notify() function checks that the virtqueue number is\nless than the maximum number of virtqueues.  A signed comparison is used\nbut the virtqueue number could be negative if a buggy or malicious guest\nis run.  This results in memory accesses outside of the virtqueue array.\n\nIt is risky doing input validation in common code instead of at the\nguest<->host boundary.  Note that virtio_queue_set_addr(),\nvirtio_queue_get_addr(), virtio_queue_get_num(), and many other virtio\nfunctions do *not* validate the virtqueue number argument.\n\nInstead of fixing the comparison in virtio_queue_notify(), move the\ncomparison to the virtio bindings (just like VIRTIO_PCI_QUEUE_SEL) where\nwe have a uint32_t value and can avoid ever calling into common virtio\ncode if the virtqueue number is invalid.\n\nSigned-off-by: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9990222454071044,"PCI, VIRTIO, VIRTIO_PCI","hw/syborg_virtio.c, hw/virtio-pci.c, hw/virtio.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,46115ac4c4f211b5b9b4d22f7af6ebe91c79a05c,d05393071ad4cb72ae69f77f9f61fc451251521f,Kevin O'Connor,2011-05-28,"Fix USB mouse Set_Protocol behavior\n\nThe QEMU USB mouse claims to support the ""boot"" protocol\n(bInterfaceSubClass is 1).  However, the mouse rejects the\nSet_Protocol command.\n\nThe qemu mouse does support the ""boot"" protocol specification, so a\nsimple fix is to enable the Set_Protocol request.\n\nSigned-off-by: Kevin O'Connor <kevin@koconnor.net>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997158646583556,USB,hw/usb-hid.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b9e17a345382ebb91446fd6cf0bb8f0eb5ba5706,826e7b827c5f83e88d5aa84c0bf0b3459f28ec35,Alexander Graf,2011-06-15,"PPC: calculate kernel,initrd,cmdline locations dynamically\n\nDuring testing, I was generating a vmlinux binary that easily occupied\nmore than 20MB of RAM. Since the current -kernel code loads the initrd\nat a fixed address behind the kernel, we were overwriting kernel data\nwhen the kernel got too big.\n\nTo finally get rid of the issue, let's calculate the initrd and cmdline\naddresses relative to the kernel size, so we can have kernels and initrds\nthat are as big as they want to - as long as they fit in RAM.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996817111968994,PPC,"hw/ppc_mac.h, hw/ppc_newworld.c, hw/ppc_oldworld.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bf09551a6b2282a1c59bd8335c1ef6e58704de98,ebed85058b6e89a5202112e9aa2abab3aa3804c3,Stefano Stabellini,2011-06-15,xen: fix interrupt routing\n\nCompared to the last version I only added a comment to the code.\n\n- remove i440FX-xen and i440fx_write_config_xen\nwe don't need to intercept pci config writes to i440FX anymore;\n\n- introduce PIIX3-xen and piix3_write_config_xen\nwe do need to intercept pci config write to the PCI-ISA bridge to update\nthe PCI link routing;\n\n- set the number of PIIX3-xen interrupts line to 128;\n\nSigned-off-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9967572093009948,"PCI, PIIX3","hw/pc.h, hw/pc_piix.c, hw/piix_pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,31e8c69697becf5e0b54a6a0cef1d27109d469e9,3d39c9593314946258bb334737aa7a4d113731d8,Andre Przywara,2011-06-10,"KVM: Fix XSAVE feature bit enumeration\n\nWhen iterating through the XSAVE feature enumeration CPUID leaf (0xD)\nwe should not stop at the first zero EAX, but instead keep scanning\nsince there are gaps in the enumeration (ECX=1 for instance).\nThis fixes the proper usage of AVX in KVM guests.\n\nSigned-off-by: Andre Przywara <andre.przywara@amd.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9997081160545348,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f3ed1f5d476bfc18c4b2e27bf2386f54c98561f1,b947527941b17c8f4a31f95dfa114e467ba1325d,Peter Maydell,2011-05-17,"linux-user: Handle images where lowest vaddr is not page aligned\n\nFix a bug in the linux-user ELF loader code where it was not correctly\nhandling images where the lowest vaddr to be loaded was not page aligned.\nThe problem was that the code to probe for a suitable guest base address\nwas changing the 'loaddr' variable (by rounding it to a page boundary),\nwhich meant that the load bias would then be incorrectly calculated\nunless loaddr happened to already be page-aligned.\n\nBinaries generated by gcc with the default linker script do start with\na loadable segment at a page-aligned vaddr, so were unaffected. This\nbug was noticed with a binary created by the Google Go toolchain for ARM.\n\nWe fix the bug by refactoring the ""probe for guest base"" code out into\nits own self-contained function.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@iki.fi>",1,0.999611794948578,ARM,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5945cfcb4b862a57fbbbf794f5e4b0fa4499624a,3002fa8472b1b9293cac785ca032df727540f85d,Peter Maydell,2011-06-16,"linux-user: Bump do_syscall() up to 8 syscall arguments\n\nOn 32 bit MIPS a few syscalls have 7 arguments, and so to call\nthem via NR_syscall the guest needs to be able to pass 8 arguments\nto do_syscall(). Raise the number of arguments do_syscall() takes\naccordingly.\n\nThis fixes some gcc 4.6 compiler warnings about arg7 and arg8\nvariables being set and never used.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@iki.fi>",1,0.9958024621009828,MIPS,"linux-user/main.c, linux-user/qemu.h, linux-user/syscall.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,82845826e89fdc02f6f000fca5d5019ec9be4ab3,74594c9d813e4d14e9c16cc71824d8905bedc19d,Sebastian Huber,2011-05-29,"target-arm: Fix BASEPRI, BASEPRI_MAX, and FAULTMASK access\n\nCorrect the decode of the register numbers for BASEPRI, BASEPRI_MAX\nand FAULTMASK, according to ""ARMv7-M Architecture Reference Manual""\nissue D section ""B5.2.3 MRS"" and ""B5.2.3 MSR"".\n\nSigned-off-by: Sebastian Huber <sebastian.huber@embedded-brains.de>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996515512466432,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f3dc0051dcd68b395861b6f1f3d5a900d44bd767,bf5547f5365c1bfeba9d5c3e87653b9803a875a5,Peter Maydell,2011-06-15,"hw/usb-ohci.c: Fix handling of remote wakeup corner cases\n\nCorrect a number of minor errors in the OHCI wakeup implementation:\n * when the port is suspended but the controller is not, raise RHSC\n * when the controller is suspended but the port is not, raise RD\n * when the controller is suspended, move it to resume state\n\nThese fix some edge cases where a USB device might not successfully get\nthe attention of the guest OS if it tried to do so at the wrong time.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997220635414124,USB,hw/usb-ohci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,af2be2077734e0ebfc8afbe6caf0f89a1474eef2,744d3644181ddb16ef5944a0f9217e46961c8c84,Jan Kiszka,2011-06-23,Fix fallouts from Linux header inclusion\n\nThis is an all-in-one fix for the smaller and bigger mistakes of the\nbuild system changes for accompanied Linux headers:\n - only enable KVM and vhost on Linux hosts\n - fix powerpc asm header symlink\n - do not use Linux headers on non-Linux hosts\n - fix kvmclock for !CONFIG_KVM\n - fix s390 build on non-Linux hosts\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nTested-by: Andreas Frber <andreas.faerber@web.de>\nTested-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9996769428253174,KVM,"Makefile.target, configure, hw/kvmclock.h, target-s390x/op_helper.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b591dc59bc98ee558db4ca512aa117748ebfdeef,614f104dfd2bf6d25170fb0afc086920cc7c407b,Blue Swirl,2011-05-14,"TCG: fix negative frame offset calculations\n\nsize_t is unsigned, so the frame offset calculations can be incorrect for\nnegative offsets.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.999724805355072,TCG,tcg/tcg.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f44c99607a46484c52f03aed373e3a3a194af721,ac0275dcfea6ec21705b30fe83c21686871e9d70,Blue Swirl,2011-05-14,"TCG/Sparc64: use stack for TCG temps\n\nUse stack instead of temp_buf array in CPUState for TCG temps.\n\nOn Sparc64, stack pointer is not aligned but there is a fixed bias of 2047,\nso don't try to enforce alignment.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9676955342292786,TCG,"tcg/sparc/tcg-target.c, tcg/tcg.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d2e4d08b3e02deb2d5824b17283c63c1354b7696,f26e428da505709ec03b2ed2c9eb3db82b30bd7b,Luiz Capitulino,2011-06-17,"virtio-serial: Fix segfault on guest boot\n\nIf I start qemu with:\n\n  # qemu -hda disks/test.img -enable-kvm -m 1G -snapshot \\n         -device virtio-serial \\n         -chardev socket,host=localhost,port=1234,server,nowait,id=foo \\n         -device virtserialport,chardev=foo,name=org.qemu.guest_agent\n\nI get a segfault when booting a Fedora 14 guest. The backtrace says:\n\n  Program terminated with signal 11, Segmentation fault.\n    #0  0x0000000000420850 in handle_control_message (vser=0x3732bd0, buf=0x2c173e0, len=8) at /home/lcapitulino/src/qmp-unstable/hw/virtio-serial-bus.c:335\n    335     info = DO_UPCAST(VirtIOSerialPortInfo, qdev, port->dev.info);\n\nWhat's happening is VIRTIO_CONSOLE_DEVICE_READY is a message for the\nwhole device, not for an individual port. So port is NULL. This bug was\nintroduced by commit a15bb0d6a981de749452a5180fc8084d625671da.\n\nThis commit fixes that by making the port returned by find_port_by_id()\nbe used only by the VIRTIO_CONSOLE_PORT_READY and\nVIRTIO_CONSOLE_PORT_OPEN messages.\n\nSigned-off-by: Luiz Capitulino <lcapitulino@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Amit Shah <amit.shah@redhat.com>",1,0.9997019171714784,VIRTIO,hw/virtio-serial-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d47e59b8b8adc96a2052f7e004cb12b6ff62edd9,ae60fea97c78e7f855794f2770517244d93def73,Hans de Goede,2011-06-21,"usb: Make port wakeup and complete ops take a USBPort instead of a Device\n\nThis makes them consistent with the attach and detach ops, and in general\nit makes sense to make portops take a port as argument. This also makes\nadding support for a companion controller easier / cleaner.\n\n[ kraxel: fix usb-musb.c build ]\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996646642684937,USB,"hw/usb-ehci.c, hw/usb-hub.c, hw/usb-musb.c, hw/usb-ohci.c, hw/usb-uhci.c, hw/usb.c, hw/usb.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,429bef6912bd3d504593b9aefdbcb39e981d387e,f5fc40bb8133849618e0d05adc798c5f07f7b17f,Herv Poussineau,2011-07-09,"esp: cancel current request only if some request is in flight\n\nThis bug was introduced in 94d3f98a3f3caddd7875f9a11776daeb84962a7b:\nscsi_cancel_io was checking if some request was pending before trying\nto cancel it, while scsi_req_cancel always cancels the request.\n\nThis may lead to a crash of Qemu due to dereferencing a NULL pointer,\nas exhibited by NetBSD 5.1 installer on MIPS Magnum emulation.\n\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9995980858802797,MIPS,hw/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,48e515d4fa7c6ffdc21944ffc8620a161c772c09,c3edf3472faf3dad73a0c504db8e9d853debfde6,Riku Voipio,2011-07-12,"linux-user: make MIPS and ARM eabi use same argument reordering\n\nMIPS uses similar calling convention than ARM eabi, where when using\n64-bit values some registers are skipped. This patch makes MIPS and ARM\neabi share the argument reordering code.\n\nThis affects ftruncate64, creating insane sized fails (or just failing).\n\nCc: Wesley W. Terpstra <terpstra@debian.org>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9778234958648682,"ARM, MIPS",linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8872eb4f567b9ae36dbd9c320f6a86c53a776d43,4183f36df0bf8cb82dda423414aa3b1a82e91ce9,Tsuneo Saito,2011-07-14,SPARC64: fp_disabled checks on ldfa/lddfa/ldqfa\n\nldfa/lddfa/ldqfa instructions should raise fp_disabled exceptions\nif %pstate.PEF==0 or %fprs.FEF==0.\n\nSigned-off-by: Tsuneo Saito <tsnsaito@gmail.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9977068901062012,"SPARC, SPARC64",target-sparc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5f06b54718b063840e14a93cd1059c3a92e4603a,e1ef36c4a34082a075182ec0ba44c80a2dbf43c2,Tsuneo Saito,2011-07-14,SPARC64: fp_disabled checks on stfa/stdfa/stqfa\n\nstfa/stdfa/stqfa instructions should raise fp_disabled exceptions\nif %pstate.PEF==0 or %fprs.FEF==0.\n\nSigned-off-by: Tsuneo Saito <tsnsaito@gmail.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.997407853603363,"SPARC, SPARC64",target-sparc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf973e469bd9d47c0460347764c1315a6180e13c,f838e2c535e47dc8e99ae7ec711407b849700cc9,Artyom Tarasenko,2011-07-14,set ELF_HWCAP for SPARC and SPARC64\n\nsetting ELF_HWCAP fixes dynamic library loading for Linux/sparc64\nThis patch allows loading busybox from Debian 6 initrd\n\nSigned-off-by: Artyom Tarasenko <atar4qemu@gmail.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9996832609176636,"SPARC, SPARC64",linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9fbe4784449f6248224ac95e0aa9e56a0bfdd155,7cef3f4fdbe813ac7d495e15a81531f1181b19f9,Alexander Graf,2011-06-29,"checkpatch: don't error out on },{ lines\n\nWhen having code like this:\n\n    static PCIDeviceInfo piix_ide_info[] = {\n        {\n            .qdev.name    = ""piix3-ide"",\n            .qdev.size    = sizeof(PCIIDEState),\n            .qdev.no_user = 1,\n            .no_hotplug   = 1,\n            .init         = pci_piix_ide_initfn,\n            .vendor_id    = PCI_VENDOR_ID_INTEL,\n            .device_id    = PCI_DEVICE_ID_INTEL_82371SB_1,\n            .class_id     = PCI_CLASS_STORAGE_IDE,\n        },{\n            .qdev.name    = ""piix4-ide"",\n            .qdev.size    = sizeof(PCIIDEState),\n            .qdev.no_user = 1,\n            .no_hotplug   = 1,\n            .init         = pci_piix_ide_initfn,\n            .vendor_id    = PCI_VENDOR_ID_INTEL,\n            .device_id    = PCI_DEVICE_ID_INTEL_82371AB,\n            .class_id     = PCI_CLASS_STORAGE_IDE,\n        },{\n            /* end of list */\n        }\n    };\n\ncheckpatch currently errors out, claiming that spaces need to follow\ncommas. However, this particular style of defining structs is pretty\ncommon in qemu code and very readable. So let's declare it as supported\nfor the above case.\n\nReported-by: Kevin Wolf <kwolf@redhat.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999609649181366,PCI,scripts/checkpatch.pl,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ce4fd422a6c5119baf4a2c3115c7ea63efb0f68e,33d5ad53c1039989c4ecf583ed52a584d3888495,Anthony PERARD,2011-06-22,hw/piix_pci.c: Fix PIIX3-xen to initialize ids\n\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.999624729156494,PIIX3,hw/piix_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,afcb7375123fcb73649dba56f5393e2f2e173b5e,a3ce3668ccff7d350a4f795ad99a012a6d41caef,Tsuneo Saito,2011-07-18,"SPARC64: fix VIS1 SIMD signed compare instructions\n\nThe destination registers of SIMD signed compare instructions\n(fcmp*<16|32>) are not FP registers but general purpose r registers.\nComparisons should be freg_rs1 CMP freg_rs2, that were reversed.\n\nSigned-off-by: Tsuneo Saito <tsnsaito@gmail.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.996826171875,"SPARC, SPARC64","target-sparc/helper.h, target-sparc/op_helper.c, target-sparc/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ccc76c24efdb06b895b8ff3d0a932c905ff483d4,06e12b6503d08bbc27f256b9f5d7d211420b3c41,Tsuneo Saito,2011-07-22,SPARC64: SFSR cleanup and fix\n\nAdd macros for SFSR fields and use macros instead of magic numbers.\nAlso fix the update of the register fields on MMU faults.\n\nSigned-off-by: Tsuneo Saito <tsnsaito@gmail.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.999589502811432,"SPARC, SPARC64","target-sparc/cpu.h, target-sparc/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,103dcbe581524ba777ccee1ca8ef7c3838c4d4de,b64b64361413808bee8e6213095e2e3a18b3358f,Tsuneo Saito,2011-07-22,"SPARC64: fix fault status overwritten on nonfaulting load\n\ncpu_get_phys_page_nofault() calls get_physical_address() twice,\nthat results in overwriting the fault status in the SFSR.\nWe need this change in order for nonfaulting loads to raising MMU faults\nas normal loads do.\nAlso removed the call to cpu_get_physical_page_desc() since we are\ngoing to modify nonfaulting loads raising MMU faults.\n\nSigned-off-by: Tsuneo Saito <tsnsaito@gmail.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9989560842514038,"SPARC, SPARC64",target-sparc/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d1afc48b7cfdb4490f322d5d82a2aae6d545ec06,b7785d2072164fa8576767853af9ed517508ee57,Tsuneo Saito,2011-07-22,"SPARC64: implement addtional MMU faults related to nonfaulting load\n\nThis patch implements MMU faults caused by TTE.NFO and TTE.E:\n- access other than nonfaulting load to a page marked NFO should\n  raise data_access_exception\n- nonfaulting load to a page marked with E bit should raise\n  data_access_exception\n\nTo distinguish nonfaulting loads, this patch extends (abuses?) the rw\nargument of get_physical_address_data().  rw is set to 4 on nonfaulting\nloads.\n\nSigned-off-by: Tsuneo Saito <tsnsaito@gmail.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9977248311042786,"SPARC, SPARC64","target-sparc/cpu.h, target-sparc/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0070f095d9aa216ebe4c06c43d0072275f23c8af,e7e73892a66dd3850eb723ee2ef9ef3f4569529f,Gerd Hoffmann,2011-07-08,"usb-uhci: fix irq handling on error.\n\nSpec on UHCI_STS_USBERR: ""If the TD on which the error interrupt\noccurred also had its IOC bit set, both this bit and Bit 0 are set.""\n\nMake UHCI emulation do that.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999736487865448,USB,hw/usb-uhci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8a369e20e701c9d220834e0daa027e65acd35214,f15fbc4bd1a24bd1477a846e63e62c6d435912f8,Anthony PERARD,2011-07-20,"xen: Fix the memory registration to reflect of what is done by Xen.\n\nA Xen guest memory is allocated by libxc. But this memory is not\nallocated continuously, instead, it leaves the VGA IO memory space not\nallocated, same for the MMIO space (at HVM_BELOW_4G_MMIO_START of size\nHVM_BELOW_4G_MMIO_LENGTH).\n\nSo to reflect that, we do not register the physical memory for this two\nholes. But we still keep only one RAMBlock for the all RAM as it is more\neasier than have two separate blocks (1 above 4G). Also this prevent QEMU\nfrom use the MMIO space for a ROM.\n\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997139573097228,VGA,xen-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6e0c0ed185227c301f643281220603fcaf217b31,934814f1984346af3e95306648cf20195269b098,Peter Maydell,2011-07-22,target-arm: UNDEF on a VCVTT/VCVTB UNPREDICTABLE to avoid TCG assert\n\nVCVTT/VCVTB with bit 8 set is UNPREDICTABLE; we choose to UNDEF.\nThis avoids a TCG assert later when the VCVTT/VCVTB code tries to\nuse a source register that wasn't ever set up.\n\nWe pull the check for the presence of the half-precision extension\nup in to this common code as well.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.8272808790206909,TCG,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,33fa8234c3d642317583c992b7fdc67ce7fdd1b5,cbbab9226da9572346837466a8770c117e7e65a2,Dr. David Alan Gilbert,2011-07-25,"Fix last sector write on sd card\n\n    When writing the last sector of an SD card using WRITE_MULTIPLE_BLOCK\nQEmu throws an error saying that we've run off the end, and leaves\nitself in the wrong state.\n\n    Tested on ARM Vexpress model.\n\nSigned-off-by: Dr. David Alan Gilbert <david.gilbert@linaro.org>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996902942657472,ARM,hw/sd.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d5f2fd586f1cc4651f8b03336b34c28dceab43bb,522f253ca8c731aafc8e53087a18f6015c4e776e,Juha Riihimki,2011-07-29,hw/nand: Support large NAND devices\n\nAdd support for NAND devices of over 1Gb.\n\nSigned-off-by: Juha Riihimki <juha.riihimaki@nokia.com>\n[Riku Voipio: Fixes and restructuring patchset]\nSigned-off-by: Riku Voipio <riku.voipio@iki.fi>\n[Peter Maydell: More fixes and cleanups for upstream submission]\nSigned-off-by:  Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Andrzej Zaborowski <andrew.zaborowski@intel.com>,1,0.7849005460739136,NAND,hw/nand.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d4220389ffcc1e6302e759d3b15f8605201d6369,89f640bc0405ed1e9c5c5a6cb6c19c8012d11e3f,Juha Riihimki,2011-07-29,hw/nand: qdevify\n\nQdevify the NAND device.\n\nSigned-off-by: Juha Riihimki <juha.riihimaki@nokia.com>\n[Riku Voipio: Fixes and restructuring patchset]\nSigned-off-by: Riku Voipio <riku.voipio@iki.fi>\n[Peter Maydell: More fixes and cleanups for upstream submission]\nSigned-off-by:  Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Andrzej Zaborowski <andrew.zaborowski@intel.com>,1,0.9976674914360046,NAND,"hw/axis_dev88.c, hw/flash.h, hw/nand.c, hw/spitz.c, hw/tc6393xb.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ccb57e0ea74892a29969f9a28c67df3fdcb5259d,5e37141bbb9796ef139aee902a882ca97d59b84d,Tsuneo Saito,2011-07-23,SPARC64: fix fnor* and fnand*\n\nFix the problem that result values are not assigned to the destination\nregisters.\n\nSigned-off-by: Tsuneo Saito <tsnsaito@gmail.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9997250437736512,"SPARC, SPARC64",target-sparc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1bfd07bdfe56cea43dbe258dcb161e46b0ee29b7,a640f03178c22355a158fa9378e4f8bfa4f517a6,Blue Swirl,2011-07-30,"TCG: fix breakage on some RISC hosts\n\nFix breakage by a640f03178c22355a158fa9378e4f8bfa4f517a6\nand 55c0975c5b358e948b9ae7bd7b07eff92508e756.\n\nSome TCG targets don't implement all TCG ops, so make\noptimizing those conditional.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997017979621888,TCG,tcg/optimize.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2ec00650f66ea624e06d76fadd0918317de1119f,1bfd07bdfe56cea43dbe258dcb161e46b0ee29b7,Blue Swirl,2011-07-30,TCG: fix breakage by previous patch\n\nFix incorrect logic and typos in previous commit\n1bfd07bdfe56cea43dbe258dcb161e46b0ee29b7.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9997233748435974,TCG,tcg/optimize.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,67494323f2c782fe3e65c60529fe9dfa613fc500,927d721777e73339f73719f36eaf400ab641366c,Blue Swirl,2011-08-01,"Sparc: fix non-faulting unassigned memory accesses\n\nCommit b14ef7c9ab41ea824c3ccadb070ad95567cca84e\nintroduced cpu_unassigned_access() function. On Sparc,\nthe function does not restore AREG0 used for global CPUState\non function exit, causing bugs with non-faulting unassigned\nmemory accesses. Alpha, Microblaze and MIPS are not affected.\n\nFix by restoring AREG0 on exit. Remove excess saving by\ndo_unassigned_access() functions.\n\nAlso ignore unassigned accesses outside of CPU context.\n\nReported-by: Bob Breuer <breuerr@mc.net>\nTested-by: Bob Breuer <breuerr@mc.net>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9995669722557068,MIPS,target-sparc/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e31b0a7c050711884ad570fe73df806520953618,97b348e7d221c94ddde609346407bd2cd6f85044,Blue Swirl,2011-08-06,"TCG: fix copy propagation\n\nCopy propagation introduced in 22613af4a6d9602001e6d0e7b6d98aa40aa018dc\nconsidered only global registers. However, register temps and stack\nallocated locals must be handled differently because register temps\ndon't survive across brcond.\n\nFix by propagating only within same class of temps.\n\nTested-by: Stefan Weil <weil@mail.berlios.de>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997052550315856,TCG,"tcg/optimize.c, tcg/tcg.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,682a9b213ca3c47c4de5b0518c59c2e550299106,05751d3ff7d3c12d1468002886a71453491481ce,Paolo Bonzini,2011-08-03,"scsi: pass status when completing\n\nA small improvement in the SCSI request API.  Pass the status\nat the time the request is completed, so that we can assert that\nno request is completed twice.  This would have detected the\nproblem fixed in the previous patch.\n\nReviewed-by: Christoph Hellwig <hch@lst.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.99662846326828,SCSI,"hw/scsi-bus.c, hw/scsi-disk.c, hw/scsi-generic.c, hw/scsi.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,871708bf39fd19e56680af61d5db665986bae036,8b2a04eeb95212305d3a39170e1c4bc3dbe45e8a,Peter Maydell,2011-08-20,"target-cris/opcode-cris.h: rename REG_PC/SP to CRIS_REG_PC/SP\n\nThe REG_PC constant used in opcode-cris.h can clash with a\nsimilar define in system include files. In particular the\nUbuntu Lucid SPARC signal.h will define REG_PC, and since\nqemu-common.h now includes signal.h this was causing compile\nfailures. Rename the constants to avoid this issue.\n(NB that REG_SP is not actually used within QEMU.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>",1,0.9769789576530457,"CRIS, SPARC",target-cris/opcode-cris.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f90074f49309de9dd65b978a95d10f089017960a,94ac5cd20c6e441e0ed3aec5c98d6cbefb7f503f,Blue Swirl,2011-08-07,"slavio_timer: avoid structure holes spotted by pahole\n\nReport from pahole on amd64 host:\nstruct SLAVIO_TIMERState {\n	SysBusDevice               busdev;               /*     0  5648 */\n	/* --- cacheline 88 boundary (5632 bytes) was 16 bytes ago --- */\n	uint32_t                   num_cpus;             /*  5648     4 */\n\n	/* XXX 4 bytes hole, try to pack */\n\n	CPUTimerState              cputimer[17];         /*  5656   816 */\n	/* --- cacheline 101 boundary (6464 bytes) was 8 bytes ago --- */\n	uint32_t                   cputimer_mode;        /*  6472     4 */\n\n	/* size: 6480, cachelines: 102 */\n	/* sum members: 6472, holes: 1, sum holes: 4 */\n	/* padding: 4 */\n	/* last cacheline: 16 bytes */\n};	/* definitions: 1 */\n\nstruct CPUTimerState {\n	qemu_irq                   irq;                  /*     0     8 */\n	ptimer_state *             timer;                /*     8     8 */\n	uint32_t                   count;                /*    16     4 */\n	uint32_t                   counthigh;            /*    20     4 */\n	uint32_t                   reached;              /*    24     4 */\n\n	/* XXX 4 bytes hole, try to pack */\n\n	uint64_t                   limit;                /*    32     8 */\n	uint32_t                   running;              /*    40     4 */\n\n	/* size: 48, cachelines: 1 */\n	/* sum members: 40, holes: 1, sum holes: 4 */\n	/* padding: 4 */\n	/* last cacheline: 48 bytes */\n};	/* definitions: 1 */\n\nFix by rearranging the structures to avoid padding.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9952467083930968,SLAVIO,hw/slavio_timer.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,07dd0035d83727ed2b1922a85cd5aea5b010025b,97bbb109b1349051390f6b2ad77b1bfb44e3d760,Blue Swirl,2011-08-07,"slavio_intctl: avoid structure holes spotted by pahole\n\nReport from pahole on amd64 host:\nstruct SLAVIO_INTCTLState {\n	SysBusDevice               busdev;               /*     0  5648 */\n	/* --- cacheline 88 boundary (5632 bytes) was 16 bytes ago --- */\n	uint32_t                   intregm_pending;      /*  5648     4 */\n	uint32_t                   intregm_disabled;     /*  5652     4 */\n	uint32_t                   target_cpu;           /*  5656     4 */\n\n	/* XXX 4 bytes hole, try to pack */\n\n	qemu_irq                   cpu_irqs[16][16];     /*  5664  2048 */\n	/* --- cacheline 120 boundary (7680 bytes) was 32 bytes ago --- */\n	SLAVIO_CPUINTCTLState      slaves[16];           /*  7712   384 */\n	/* --- cacheline 126 boundary (8064 bytes) was 32 bytes ago --- */\n\n	/* size: 8096, cachelines: 127 */\n	/* sum members: 8092, holes: 1, sum holes: 4 */\n	/* last cacheline: 32 bytes */\n};	/* definitions: 1 */\n\nstruct SLAVIO_CPUINTCTLState {\n	uint32_t                   intreg_pending;       /*     0     4 */\n\n	/* XXX 4 bytes hole, try to pack */\n\n	struct SLAVIO_INTCTLState * master;              /*     8     8 */\n	uint32_t                   cpu;                  /*    16     4 */\n	uint32_t                   irl_out;              /*    20     4 */\n\n	/* size: 24, cachelines: 1 */\n	/* sum members: 20, holes: 1, sum holes: 4 */\n	/* last cacheline: 24 bytes */\n};	/* definitions: 1 */\n\nFix by rearranging the structures to avoid padding.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9982458353042604,SLAVIO,hw/slavio_intctl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,427a66c3a5674cf69efcd2d82f32ffdf91f2044a,149e1ea154efebf0b3a7aae20538ce7673d78b77,Blue Swirl,2011-08-07,"tcx: avoid structure holes spotted by pahole\n\nReport from pahole on amd64 host:\nstruct TCXState {\n	SysBusDevice               busdev;               /*     0  5648 */\n	/* --- cacheline 88 boundary (5632 bytes) was 16 bytes ago --- */\n	target_phys_addr_t         addr;                 /*  5648     8 */\n	DisplayState *             ds;                   /*  5656     8 */\n	uint8_t *                  vram;                 /*  5664     8 */\n	uint32_t *                 vram24;               /*  5672     8 */\n	uint32_t *                 cplane;               /*  5680     8 */\n	ram_addr_t                 vram_offset;          /*  5688     8 */\n	/* --- cacheline 89 boundary (5696 bytes) --- */\n	ram_addr_t                 vram24_offset;        /*  5696     8 */\n	ram_addr_t                 cplane_offset;        /*  5704     8 */\n	uint32_t                   vram_size;            /*  5712     4 */\n	uint16_t                   width;                /*  5716     2 */\n	uint16_t                   height;               /*  5718     2 */\n	uint16_t                   depth;                /*  5720     2 */\n	uint8_t                    r[256];               /*  5722   256 */\n	/* --- cacheline 93 boundary (5952 bytes) was 26 bytes ago --- */\n	uint8_t                    g[256];               /*  5978   256 */\n	/* --- cacheline 97 boundary (6208 bytes) was 26 bytes ago --- */\n	uint8_t                    b[256];               /*  6234   256 */\n\n	/* XXX 2 bytes hole, try to pack */\n\n	/* --- cacheline 101 boundary (6464 bytes) was 28 bytes ago --- */\n	uint32_t                   palette[256];         /*  6492  1024 */\n	/* --- cacheline 117 boundary (7488 bytes) was 28 bytes ago --- */\n	uint8_t                    dac_index;            /*  7516     1 */\n	uint8_t                    dac_state;            /*  7517     1 */\n\n	/* size: 7520, cachelines: 118 */\n	/* sum members: 7516, holes: 1, sum holes: 2 */\n	/* padding: 2 */\n	/* last cacheline: 32 bytes */\n};	/* definitions: 1 */\n\nFix by rearranging the structure to avoid padding.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9979435801506042,TCX,hw/tcx.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9a975d63563c2d09279b0e9a7fb7c2abcbd512b9,61999750d3df96ee3f2b111420c7d0a117e57df7,Blue Swirl,2011-08-07,"esp: avoid structure holes spotted by pahole\n\nReport from pahole on amd64 host:\nstruct ESPState {\n	SysBusDevice               busdev;               /*     0  5648 */\n	/* --- cacheline 88 boundary (5632 bytes) was 16 bytes ago --- */\n	uint32_t                   it_shift;             /*  5648     4 */\n\n	/* XXX 4 bytes hole, try to pack */\n\n	qemu_irq                   irq;                  /*  5656     8 */\n	uint8_t                    rregs[16];            /*  5664    16 */\n	uint8_t                    wregs[16];            /*  5680    16 */\n	/* --- cacheline 89 boundary (5696 bytes) --- */\n	int32_t                    ti_size;              /*  5696     4 */\n	uint32_t                   ti_rptr;              /*  5700     4 */\n	uint32_t                   ti_wptr;              /*  5704     4 */\n	uint8_t                    ti_buf[16];           /*  5708    16 */\n	uint32_t                   status;               /*  5724     4 */\n	uint32_t                   dma;                  /*  5728     4 */\n\n	/* XXX 4 bytes hole, try to pack */\n\n	SCSIBus                    bus;                  /*  5736  2120 */\n	/* --- cacheline 122 boundary (7808 bytes) was 48 bytes ago --- */\n	SCSIDevice *               current_dev;          /*  7856     8 */\n	SCSIRequest *              current_req;          /*  7864     8 */\n	/* --- cacheline 123 boundary (7872 bytes) --- */\n	uint8_t                    cmdbuf[16];           /*  7872    16 */\n	uint32_t                   cmdlen;               /*  7888     4 */\n	uint32_t                   do_cmd;               /*  7892     4 */\n	uint32_t                   dma_left;             /*  7896     4 */\n	uint32_t                   dma_counter;          /*  7900     4 */\n	uint8_t *                  async_buf;            /*  7904     8 */\n	uint32_t                   async_len;            /*  7912     4 */\n\n	/* XXX 4 bytes hole, try to pack */\n\n	ESPDMAMemoryReadWriteFunc  dma_memory_read;      /*  7920     8 */\n	ESPDMAMemoryReadWriteFunc  dma_memory_write;     /*  7928     8 */\n	/* --- cacheline 124 boundary (7936 bytes) --- */\n	void *                     dma_opaque;           /*  7936     8 */\n	int                        dma_enabled;          /*  7944     4 */\n\n	/* XXX 4 bytes hole, try to pack */\n\n	void                       (*dma_cb)(ESPState *); /*  7952     8 */\n\n	/* size: 7960, cachelines: 125 */\n	/* sum members: 7944, holes: 4, sum holes: 16 */\n	/* last cacheline: 24 bytes */\n};	/* definitions: 1 */\n\nFix by rearranging the structure to avoid padding.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9979988932609558,"ESP, SCSI",hw/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ae0a54664c76f1d2a2a7a268266d47b4e8c12a4c,be20f9e902ca47ea84e1b1c1e89b0a55d59b4c11,Avi Kivity,2011-08-15,"440fx: fix PAM, PCI holes\n\nThe current implementation of PAM and the PCI holes is broken in several\nways:\n\n  - PCI BARs are not restricted to the PCI hole (a BAR may hide memory)\n  - PCI devices do not respect PAM (if a PCI device maps a region while\n    PAM maps the region to RAM, the request will be honored)\n\nThis patch fixes things by introducing a pci address space, and using\nmemory region aliases to represent PAM regions, SMRAM, and PCI holes.\n\nThe memory hierarchy looks something like\n\nsystem_memory\n |\n +--- low memory alias (0-0xe0000000)\n |      |\n |      +-- ram@0\n |\n +--- high memory alias (0x100000000-EOM)\n |      |\n |      +-- ram@0xe0000000\n |\n +--- pci hole alias (end of low memory-0x100000000)\n |      |\n |      +-- pci@end-of-low-memory\n |\n |\n +--- pam[n] (0xc0000-0xc3fff etc) (when set to pci, priority 1)\n |      |\n |      +-- pci@0xc4000 etc\n |\n +--- smram (0xa0000-0xbffff) (when set to pci/vga, priority 1)\n        |\n        +-- pci@0xa0000 etc\n\nram (simple ram region)\n\npci\n |\n +--- BARn\n |\n +--- VGA 0xa0000-0xbffff\n |\n +--- ROMs\n\nSigned-off-by: Avi Kivity <avi@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.999716818332672,"PAM, PCI, VGA","hw/pc.c, hw/pc.h, hw/pc_piix.c, hw/piix_pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a5e1cbc80e88ed7d73b3fcb46053a3ba167293fc,ae0a54664c76f1d2a2a7a268266d47b4e8c12a4c,Anthony Liguori,2011-08-22,"memory: temporarily suppress the subregion collision warning\n\nAfter 312b4234, the APIC and PCI devices are colliding with each other.  This\nis harmless in practice because the APIC accesses are special cased and never\nmake there way onto the bus.\n\nAvi is working on a proper fix, but until that's ready, avoid printing the\nwarning.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9995403289794922,"APIC, PCI",memory.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,563ea489031375c53d3b94d74c56c42238e94914,a5e1cbc80e88ed7d73b3fcb46053a3ba167293fc,Richard Henderson,2011-08-10,"memory: Fix old_portio vs non-zero offset\n\nThe legacy functions that we're wrapping expect that offset\nto be included in the register.  Indeed, they generally\nexpect the absolute address and then mask off the ""high"" bits.\n\nThe FDC is the first converted device with a non-zero offset.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Avi Kivity <avi@redhat.com>",1,0.999678373336792,FDC,memory.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,80763888bfcb89dddb2f4eeece8ffc2ed91bde40,fe55ff6e6114c7382a68a2cf7230f125d4f3a248,Jan Kiszka,2011-08-22,"vga: Use linear mapping + dirty logging in chain 4 memory access mode\n\nMost VGA memory access modes require MMIO handling as they demand weird\nlogic to get a byte from or into the video RAM. However, there is one\nexception: chain 4 mode with all memory planes enabled for writing. This\nmode actually allows lineary mapping, which can then be combined with\ndirty logging to accelerate KVM.\n\nThis patch accelerates specifically VBE accesses like they are used by\ngrub in graphical mode. Not only the standard VGA adapter benefits from\nthis, also vmware and spice in VGA mode.\n\nCC: Gerd Hoffmann <kraxel@redhat.com>\nCC: Avi Kivity <avi@redhat.com>\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.7576088905334473,"KVM, VGA","hw/vga.c, hw/vga_int.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,710ffe604810676f9385263ba10f71f41b330cce,f412c762e2c2798088c0188e7fdb714def549e05,Peter Maydell,2011-08-23,"hw/omap_gpmc: Don't try to map CS0 twice on reset\n\nRemove a spurious second map of the OMAP GPMC CS0 region on reset.\nThis fixes an assertion failure when we try to add the region to\nits container when it was already added. (The old code did not\ncomplain about mismatched map/unmap calls, but the new MemoryRegion\nimplementation does.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>",1,0.9994955062866212,OMAP,hw/omap_gpmc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,27a69bb088bee6d4efea254659422fb9c751b3c7,542df9bfb707866f1ddf937898341f749975dd17,Alexander Graf,2011-08-23,"PPC: E500: Inject SPE exception on invalid SPE access\n\nWhen accessing an SPE instruction despite it being not available,\nthrow an SPE exception instead of an APU exception. That way the\nguest knows what's going on and actually uses SPE.\n\nReported-by: Jason Wessel <jason.wessel@windriver.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>",1,0.9993407130241394,"E500, PPC",target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e8906f3529a452276375ab8e7b8598751bc33b01,27a69bb088bee6d4efea254659422fb9c751b3c7,Alexander Graf,2011-08-23,"PPC: E500: Set ESR values\n\nWhen an exception occurs on BookE, we need to set ESR bits to expose\nto the guest information on what exactly happened. Add the obvious ones.\n\nReported-by: Jason Wessel <jason.wessel@windriver.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>",1,0.999403476715088,"E500, PPC",target-ppc/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1553d4f1fc6b7455234de93d105e7b46bc7a0844,e8906f3529a452276375ab8e7b8598751bc33b01,Isaku Yamahata,2011-08-05,"pcie/slot: fix hotplug event\n\nWhen slot status register is cleared, PCIDevice::exp.hpev_notify\nneeds to be cleared.\nOtherwise, PCIDevice::exp.hpev_notify is never set to false resulting\nin no more hot plug event once it's raised.\n\nSigned-off-by: Isaku Yamahata <yamahata@valinux.co.jp>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997146725654602,PCI,hw/pcie.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c9abe111209abca1b910e35c6ca9888aced5f183,74d63b65479f4d8a72c1bba54256eee029cd5d5f,Jan Kiszka,2011-08-24,pci: Error on PCI capability collisions\n\nNothing good can happen when we overlap capabilities. This may happen\nwhen plugging in assigned devices or when devices models contain bugs.\nDetect the overlap and report it.\n\nBased on qemu-kvm commit by Alex Williamson.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nAcked-by: Don Dutile <ddutile@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9995757937431335,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5b15f27516ce3249c80bd2e0458d8d61f20da415,89da90b1b4acf24a9a3f2fd197b1bdf69ab24e72,Avi Kivity,2011-08-24,"ppc_oldworld, ppc_newworld: fix escc BAR related crash\n\nppc maps the escc mmio region both at a fixed offset (as a sysbus area) and as part of a PCI BAR.\nThis crashes, since a MemoryRegion may have only one parent.  Use an alias so we have a separate\nMemoryRegion for the BAR.\n\nSigned-off-by: Avi Kivity <avi@redhat.com>",1,0.9997166991233826,PCI,"hw/ppc_newworld.c, hw/ppc_oldworld.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,500954e35cac9dd4544a023d482804186b7f7383,82866965e98030b780d6097af27afe347583f45e,Juha Riihimki,2011-08-28,hw/onenand: Qdevify\n\nQdevify the ONENAND device.\n\nSigned-off-by: Juha Riihimki <juha.riihimaki@nokia.com>\n[Riku Voipio: Fixes and restructuring patchset]\nSigned-off-by: Riku Voipio <riku.voipio@iki.fi>\n[Peter Maydell: More fixes and cleanups for upstream submission]\nSigned-off-by:  Peter Maydell <peter.maydell@linaro.org>,1,0.9530322551727296,"NAND, ONENAND","hw/flash.h, hw/nseries.c, hw/onenand.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,de8af7fe0158493baa1c9a5418ac598a18e86027,77c6c7369035c25d9d4babd920dbe691e3453cfc,Peter Maydell,2011-08-28,"omap_gpmc: Fix handling of FIFOTHRESHOLDSTATUS bit\n\nThe OMAP3 TRM is inconsistent about whether the GPMC FIFOTHRESHOLDSTATUS\nbit should be set when FIFOPOINTER > FIFOTHRESHOLD or when it is >=\nFIFOTHRESHOLD. Apparently the underlying functional spec from which\nthe TRM was created states that the behaviour is "">="", and this also\nmakes more conceptual sense.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997089505195618,OMAP,hw/omap_gpmc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b5325c2739d9795f9462ef87e4080b792835d70a,de8af7fe0158493baa1c9a5418ac598a18e86027,Juha Riihimki,2011-08-28,omap_gpmc: Take omap_mpu_state* in omap_gpmc_init\n\nTake a pointer to the omap mpu state struct in omap_gpmc_init.\nSome details of GPMC behaviour depend on the OMAP version we\nare a part of.\n\nSigned-off-by: Juha Riihimki <juha.riihimaki@nokia.com>\n[Riku Voipio: Fixes and restructuring patchset]\nSigned-off-by: Riku Voipio <riku.voipio@iki.fi>\n[Peter Maydell: More fixes and cleanups for upstream submission]\nSigned-off-by:  Peter Maydell <peter.maydell@linaro.org>,1,0.9864245653152466,OMAP,"hw/omap.h, hw/omap2.c, hw/omap_gpmc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f69539b14bdba7a5cd22e1f4bed439b476b17286,962d4b2834e6a3b37784391a906b5fe2a7e96b74,Blue Swirl,2011-09-03,apb_pci: convert PCI space to memory API\n\nAdd a new memory space for PCI instead of using system memory.\n\nThis also fixes a bug where VGA region vga.chain4 is\naccidentally mapped to 0xa0000 instead of 0x1ff000a0000.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9982892870903016,"PCI, VGA",hw/apb_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eb7700bb999544151d6e4350362b9b6d9d20abe8,3ee886c5ba77a65d6b2c2a372a091d6796ed502b,Gerd Hoffmann,2011-08-24,usb-host: fix configuration tracking.\n\nIt is perfectly fine to leave the usb device in unconfigured state\n(USBHostDevice->configuration == 0).  Just do that and wait for the\nguest to explicitly set a configuration.  This is closer to what real\nhardware does and it also simplifies the device initialization.  There\nis no need to figure how the device is configured on the host.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.999419927597046,USB,usb-linux.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4d8debba766265d70cb7bf11570e3622512641d6,0c402e5abb8c2755390eee864b43a98280fc2453,Gerd Hoffmann,2011-08-25,"usb: fix use after free\n\nThe ->complete() callback might have released the USBPacket (uhci\nactually does), so we must not touch it after the callback returns.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997251629829408,USB,hw/usb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,70afc343c75ecc8895b9308ee6a15fcc7a3b0f3e,07ff2c4475df77e38a31d50ee7f3932631806c15,Cdric VINCENT,2011-08-26,"linux-user: Fix initialization of the heap contents when allocating new pages\n\nTechnically the new mmapped pages are already initialized to zero\nsince they are anonymous, however we have to take care with the\ncontents that come from the remaining part of the previous page: it\nmay contains garbage data due to a previous heap usage (grown then\nshrunken).\n\nThis patch completes commit 55f08c84.  The problem could be reproduced\nwhen emulating the build process of Perl 5.12.3 on ARMedSlack 13.37:\n\n    make[1]: Entering directory `/tmp/perl-5.12.3/cpan/Compress-Raw-Bzip2'\n    cc -c  -I. -fno-strict-aliasing -pipe -fstack-protector                 \\n           -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64  \\n           -O2   -DVERSION=\""2.024\"" -DXS_VERSION=\""2.024\"" -fPIC ""-I../.."" \\n           -DBZ_NO_STDIO  decompress.c\n    decompress.c: In function 'BZ2_decompress':\n    decompress.c:621:1: internal compiler error: Segmentation fault\n\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>\nSigned-off-by: Laurent ALFONSI <laurent.alfonsi@st.com>\nSigned-off-by: Cdric VINCENT <cedric.vincent@st.com>",1,0.9994563460350036,ARM,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,29fb0f25303a76edb100362eaea59b6f74bdb823,ff7a981affbbc4f19f6f92143a3ddff90a1363fe,An-Cheng Huang,2011-08-09,linux-user: Fix MIPS indirect syscall handling\n\nChange the number of argument for MIPS sys_syscall from 0 to 8. This\nallows arguments for indirect syscalls to be processed correctly.\n\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: An-Cheng Huang <ancheng@ubnt.com>,1,0.9986518025398254,MIPS,linux-user/main.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,44520db10b1b92f272348ab7028e7afc68ac3edf,7d890b4074a415d39f02d3b01e7c40ece1b57087,Fabien Chouteau,2011-09-08,"Gdbstub: Fix back-trace on SPARC32\n\nGdb expects all registers windows to be flushed in ram, which is not the case\nin Qemu. Therefore the back-trace generation doesn't work. This patch adds a\nfunction to handle reads (and only read) in stack frames as if windows were\nflushed.\n\nSigned-off-by: Fabien Chouteau <chouteau@adacore.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997010231018066,SPARC,"gdbstub.c, target-sparc/cpu.h, target-sparc/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,df3f457b4b3a910de575b39bfa11d9a41330077c,f44cc4852a04c0423780e115b935e201aaf3384e,Peter Maydell,2011-09-12,"hw/integratorcp: Fix bugs in writes to CM_CTRL system register\n\nFix a number of bugs in the implementation of writes to the CM_CTRL\nsystem register:\n * write to cm_ctrl, not cm_init !\n * an '&' vs '^' typo meant we would write the inverse of the bits\n * handling the LED via printf() meant we spew lots of output\n   to stdout when Linux uses the LED as a heartbeat indicator\n * we would hw_error() if a reset was requested rather than\n   actually resetting\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997066855430604,LED,hw/integratorcp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,778d1799397e1353b69f16547d359f944fb49ea6,a92eb87a4463230620e14e4f1b19a740be4058c3,Wen Congyang,2011-08-26,pci_bridge: use parent bus's address space\n\nThe switch to the new memory API caused the following problem:\n\nThe pci device may call pci_register_bar() to use PCI bus's address\nspace.  But we don't init PCI bus's address space if it is not bus\n0.  A crash was reported:\nhttp://lists.gnu.org/archive/html/qemu-devel/2011-08/msg02243.html\n\nMore work will be needed to make bridge filtering work correctly\nwith the memory API.\n\nSigned-off-by: Wen Congyang <wency@cn.fujitsu.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9993720650672911,PCI,hw/pci_bridge.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bdbc1b3cd4fbec9f7219e05e77874b489e61b217,0919ac787641db11024912651f3bc5764d4f1286,Peter Maydell,2011-09-21,"hw/omap1: Wire up GPIO clock\n\nWire up the OMAP1 GPIO clock -- this fixes a hw_error() on startup\nwith OMAP1 based machines (sx1, cheetah).\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996954202651978,OMAP,hw/omap1.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dd8e93799f13ef82d83c185b8e71e049452f7d40,74e26c179efa6eed821c2863b8a50c7b586432c4,dann frazier,2011-09-21,"e1000: Don't set the Capabilities List bit\n\n[Originally sent to qemu-kvm list, but I was redirected here]\n\nThe Capabilities Pointer is NULL, so this bit shouldn't be set. The state of\nthis bit doesn't appear to change any behavior on Linux/Windows versions we've\ntested, but it does cause Windows' PCI/PCI Express Compliance Test to balk.\n\nI happen to have a physical 82540EM controller, and it also sets the\nCapabilities Bit, but it actually has items on the capabilities list to go\nwith it :)\n\nSigned-off-by: dann frazier <dann.frazier@canonical.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9735740423202516,PCI,hw/e1000.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4463aee630685a6ac595b1acc777536f0a41d02d,dd8e93799f13ef82d83c185b8e71e049452f7d40,Jan Kiszka,2011-09-21,"pc: Unbreak ROM mapping for ISA machine\n\nThis is based on the original fix by Herv Poussineau: pc_memory_init\nactually takes a memory region for mapping BIOS and extension ROMs. That\nequals the PCI memory region if PCI is available, but must be system\nmemory in the ISA case.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9995887875556946,PCI,"hw/pc.c, hw/pc.h, hw/pc_piix.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,df0eda9b73420363ad9dbf8c7eff47a0c4e47ff3,f28ffed52cd0fd4231adbf9b229a0c1bba1b2e3f,Peter Maydell,2011-09-12,tcg/arm: Remove unused tcg_out_addi()\n\nRemove the unused function tcg_out_addi() from the ARM TCG backend;\nthis fixes a compilation failure on ARM hosts with newer gcc.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.7122501134872437,"ARM, TCG",tcg/arm/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a675155e2d78b083b47774c118990041333308b5,bc59d9c9163abbe3646a70bca5ff59e73e07904a,Alexander Graf,2011-07-21,PPC: Fix IPI support in MPIC\n\nThe current IPI support in the MPIC code is incomplete and doesn't work. This\ncode adds proper support for IPIs in MPIC by using the IDE register to remember\nwhich CPUs IPIs are still outstanding to. New triggers through the IPI trigger\nregister only add to the list of CPUs we want to IPI.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\n\n---\n\nv1 -> v2:\n\n  - Use MAX_IPI instead of hardcoded 4\n\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9996964931488036,PPC,hw/openpic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9250fd24a98af75f196480a75aacf99291ef46a9,a675155e2d78b083b47774c118990041333308b5,Alexander Graf,2011-07-23,PPC: Set MPIC IDE for IPI to 0\n\nWe use the IDE register with IPIs as a mask to keep track which processors\nhave already acknowledged the respective interrupt. So we need to initialize\nit to 0 to make sure that it doesn't accidently fire an IPI on CPU0 when the\nfirst IPI is triggered.\n\nReported-by: Elie Richa <richa@adacore.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>\n\n---\n\nv2 -> v3:\n\n  - fix IDE IPI reset,1,0.9996154308319092,PPC,hw/openpic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0d33defbe3e75db75599c52607da6fc3b4ce0f25,3ee82442c53e342883eb6f05b1776b05892e336f,Alexander Graf,2011-07-23,"PPC: MPIC: Fix CI bit definitions\n\nThe bit definitions for critical interrupt routing are in PowerPC order\n(most significant bit is 0), while we end up shifting it with normal bit\norder. Turn the numbers around so we actually end up fetching the\nright ones.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9995647072792052,PPC,hw/openpic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cc67b9c89907d752f9970b7078afe69afcf10b7a,0a8b293893051f5c170ae7a2209c12fb92666027,David Gibson,2011-08-03,"pseries: Bugfixes for interrupt numbering in XICS code\n\nThe implementation of the XICS interrupt controller contains several\n(difficult to trigger) bugs due to the fact that we were not 100%\nconsistent with which irq numbering we used.  In most places, global\nnumbers were used as handled by the presentation layer, however a few\nfunctions took ""local"" numberings, that is the source number within\nthe interrupt source controller which is offset from the global\nnumber.  In most cases the function and its caller agreed on this, but\nin a few cases it didn't.\n\nThis patch cleans this up by always using global numbering.\nTranslation to the local number is now always and only done when we\nlook up the individual interrupt source state structure.  This should\nremove the existing bugs and with luck reduce the chances of\nre-introducing such bugs.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9991220831871032,XICS,hw/xics.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4e85f82c857550c5864b27ea96571d722bd80b61,f73a2575a3bce8a3c487331c918d2c0f9b2e489d,Elie Richa,2011-07-22,"PPC: Fix sync instructions problem in SMP\n\nIn the current emulation of the load-and-reserve (lwarx) and\nstore-conditional (stwcx.) instructions, the internal reservation\nmechanism is taken into account, however each CPU has its own\nreservation information and this information is not synchronized between\nCPUs to perform proper synchronization.\nThe following test case with 2 CPUs shows that the semantics of the\n""lwarx"" and ""stwcx."" instructions are not preserved by the emulation.\nThe test case does the following :\n	- CPU0: reserve a memory location\n	- CPU1: reserve the same memory location\n	- CPU0: perform stwcx. on the location\nThe last store-conditional operation succeeds while it is supposed to\nfail since the reservation was supposed to be lost at the second reserve\noperation.\n\nThis (one line) patch fixes this problem in a very simple manner by\nremoving the reservation of a CPU every time it is scheduled (in\ncpu_exec()). While this is a harsh workaround, it does not affect the\nguest code much because reservations are usually held for a very short\ntime, that is an lwarx is almost always followed by an stwcx. a few\ninstructions below. Therefore, in most cases, the reservation will be\ntaken and consumed before a CPU switch occurs. However in the rare case\nwhere a CPU switch does occur between the lwarx and its corresponding\nstwcx.  this patch solves a potential erroneous behavior of the\nsynchronization instructions.\n\nSigned-off-by: Elie Richa <richa@adacore.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996964931488036,PPC,cpu-exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f5b6ffcf2a94337df31e801dd11b34896bd4fe2b,a3d0abaecaa2981ad8c0036b6caf0ff1324fa57d,Paolo Bonzini,2011-08-24,"vscsi: send the CHECK_CONDITION status down together with autosense data\n\nI introduced this bug in commit 05751d3 (vscsi: always use get_sense,\n2011-08-03) because at the time there was no way to expose a sense\ncondition to SLOF and Linux manages to work around the bug.  However,\nthe bug becomes evident now that SCSI devices also report unit\nattention on reset.\n\nSLOF also has problems dealing with unit attention conditions, so\nit still will not boot even with this fix (just like OpenBIOS).\nIBM folks are aware of their part of the bug. :-)\n\nReported-by: Thomas Huth <thuth@linux.vnet.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999703586101532,SCSI,hw/spapr_vscsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ea0a7eb4603d5929d25ac32e27d2e318b5cea910,7a880d9352575c70bae6fb246436c513ff5fe418,Alexander Graf,2011-09-08,PPC: Fix via-cuda memory registration\n\nCommit 23c5e4ca (convert to memory API) broke the VIA Cuda emulation layer\nby not registering the IO structs.\n\nThis patch registers them properly and thus makes -M g3beige and -M mac99\nwork again.\n\nTested-by: Andreas Frber <andreas.faerber@web.de>\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9995946288108826,PPC,hw/cuda.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0157644c7b0bce8f3169bb17ca588ad1e8039fe2,ea0a7eb4603d5929d25ac32e27d2e318b5cea910,Alexander Graf,2011-09-13,"PPC: Fix heathrow PIC to use little endian MMIO\n\nDuring the memory API conversion, the indication on little endianness of\nMMIO for the heathrow PIC got dropped. This patch adds it back again.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996410608291626,PPC,hw/heathrow_pic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6e19a1379d3d12c2d8f934aa8154037a609f4507,e4fc8781db7c49b0c5ac5d24762e17c59dfe0871,Blue Swirl,2011-10-08,"ARM: fix segfault\n\nFix a bug in bccd9ec5f098668576342c83d90d6d6833d61d33,\ntarget-arm/op_helper.c missed a change unlike all other targets.\nThis lead to a NULL pointer dereferences.\n\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.999643325805664,ARM,target-arm/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,28a7282a5d5a15527e66d3a93c93c4ccc292f694,449c184ed23c6238da7fcc8b965c8fcc865d72a9,Luiz Capitulino,2011-09-26,"block: Keep track of devices' I/O status\n\nThis commit adds support to the BlockDriverState type to keep track\nof devices' I/O status.\n\nThere are three possible status: BDRV_IOS_OK (no error), BDRV_IOS_ENOSPC\n(no space error) and BDRV_IOS_FAILED (any other error). The distinction\nbetween no space and other errors is important because a management\napplication may want to watch for no space in order to extend the\nspace assigned to the VM and put it to run again.\n\nQemu devices supporting the I/O status feature have to enable it\nexplicitly by calling bdrv_iostatus_enable() _and_ have to be\nconfigured to stop the VM on errors (ie. werror=stop|enospc or\nrerror=stop).\n\nIn case of multiple errors being triggered in sequence only the first\none is stored. The I/O status is always reset to BDRV_IOS_OK when the\n'cont' command is issued.\n\nNext commits will add support to some devices and extend the\nquery-block/info block commands to return the I/O status information.\n\nSigned-off-by: Luiz Capitulino <lcapitulino@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9994959831237792,LED,"block.c, block.h, block_int.h, monitor.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,86fbf97ceb4a9c46a609dd4ae053ba4262b68fe8,51d9e939b8120d76feb096aeff04368683784541,Jan Kiszka,2011-10-07,"i8259: Clear ELCR on reset\n\nThe ELCR is actually part of the chipset but we model it here for\nsimplicity reasons. The PIIX3 clears the ELCR on reset, which was once\nbroken by 4dbe19e181. Fix this by splitting up pic_init_reset from\npic_reset and clearing the register in the latter.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9993908405303956,PIIX3,hw/i8259.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f37e2a6bb3ee440219a7724722e8c0363cd5dc2e,ba43d28916c4f51c19bd7366089155ce81bee058,Stefan Weil,2011-10-24,"target-sparc: Fix order of function parameters\n\nThe MinGW-w64 gcc complains about wrong parameters for\ngen_helper_fpadd16_s and three other functions.\n\ngen_helper_fpadd16_s is declared like this (hidden in lots of macros):\n\nstatic inline void\n gen_helper_fpadd16s(TCGv_i32 retval, TCGv_ptr arg1,\n                     TCGv_i32 arg2, TCGv_i32 arg3);\n\nSo it looks like cpu_env should be the 2nd parameter.\n\nPlease review this patch as I have no environment to test it\n(maybe the 1st parameter should be cpu_dst?).\n\nCc: Blue Swirl <blauwirbel@gmail.com>\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.999721109867096,TCG,target-sparc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7cec78b6f0e9a3b33732afd14a811849d219ffbc,0d3545e76c856be4cce26cf1c96981b26cafb6b1,Paolo Bonzini,2011-10-03,"scsi-disk: fail READ CAPACITY if LBA != 0 but PMI == 0\n\nTested by the Windows Logo Kit SCSI Compliance test. From SBC-3, paragraph\n5.25: ""The LOGICAL BLOCK ADDRESS field shall be set to zero if the PMI\nbit is set to zero. If the PMI bit is set to zero and the LOGICAL BLOCK\nADDRESS field is not set to zero, then the device server shall terminate\nthe command with CHECK CONDITION status with the sense key set to ILLEGAL\nREQUEST and the additional sense code set to INVALID FIELD IN CDB"".\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9994412064552308,SCSI,hw/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eeae2e7b52255dae0976a027b6e11274990c708d,6875dc8ea4f9e14f33c217c3596af51c60cfd1b5,Liu Yu-B13201,2011-09-29,ppc/e500_pci: Fix an array overflow issue\n\nWhen access PPCE500_PCI_IW1 the previous index get overflow.\nThe patch fix the issue and update all to keep consistent style.\n\nSigned-off-by: Liu Yu <yu.liu@freescale.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9997310042381288,"E500, PCI, PPC, PPCE500_PCI",hw/ppce500_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bdcf9d6cd4ff987e58ba4f311ba7b1a33cf3ce5e,0f5cb2989f33059a70e8da335b62af5f27fabbe2,David Gibson,2011-09-29,"pseries: Update SLOF firmware image\n\nThis patch updates the SLOF submodule and precompiled image.  The new\nSLOF versions contains two changes of note:\n\n * The previous SLOF has a bug in SCSI condition handling that was\n   exposed by recent updates to qemu's SCSI emulation.  This update\n   fixes the bug.\n\n * The previous SLOF has a bug in its addressing of SCSI devices,\n   which can be exposed under certain conditions.  The new SLOF also\n   fixes this.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.982086420059204,SCSI,"pc-bios/README, pc-bios/slof.bin, roms/SLOF",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,55f7d4b09e0bd1f6e5875fe0a5a58852999e4e92,f0ad8c340145b246982885addef1aac183790706,David Gibson,2011-10-16,"ppc: Avoid decrementer related kvm exits\n\nIn __cpu_ppc_store_decr(), we set up a regular timer used to trigger\ndecrementer interrupts.  This is necessary to implement the decrementer\nproperly under TCG, but is unnecessary under KVM (true for both Book3S-PR\nand Book3S-HV KVM variants), because the kernel handles generating and\ndelivering decrementer exceptions.\n\nUnder kvm, in fact, the timer causes expensive and unnecessary exits from\nkvm to qemu.  This patch, therefore, disables setting the timer when kvm\nis in use.\n\nSigned-off-by: Anton Blanchard <anton@au1.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9864336252212524,"KVM, TCG",hw/ppc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,70bca53ffb811ea59dc090b3ca7825cf0bf346a7,98efaf75282a96ffbe2914f79a9f5cb736a03db4,Alexander Graf,2011-10-24,"KVM: PPC: Override host vmx/vsx/dfp only when information known\n\nThe -cpu host feature tries to find out the host capabilities based\non device tree information. However, we don't always have that available\nbecause it's an optional property in dt.\n\nSo instead of force unsetting values depending on an unreliable source\nof information, let's just try to be clever about it and not override\ncapabilities when we don't know the device tree pieces.\n\nThis fixes altivec with -cpu host on YDL PowerStations.\n\nReported-by: Nishanth Aravamudan <nacc@us.ibm.com>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9993720650672911,"KVM, PPC",target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,54825d2e39b0a809332b5fee837f456d5d9befee,a053f1b1fb63cb57483354db7b154e9a2e585b5a,Alon Levy,2011-10-25,"qxl: create slots on post_load in vga state\n\nRHBZ 740547\n\nIf we migrate when the device is in vga state the guest\nstill believes the slots are created, and will cause operations\nthat reference the slots, causing a ""panic: virtual address out of range""\non the first of them. Easy to see by migrating in vga mode with\na driver loaded, for instance windows cmd window in full screen mode,\nand then exiting vga mode back to native mode will cause said panic.\n\nFixed by doing the slot recreation in post_load for vga mode as well.\nNote that compat does not require any changes because it creates it's\nonly slot by a side effect of QXL_IO_SET_MODE.\n\nSigned-off-by: Alon Levy <alevy@redhat.com>",1,0.9995262622833252,QXL,hw/qxl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,463ce4ae2dc5214f1b3ce5951c7cc3904c903702,9477c87ed9b7795b292cb683cf758fdfec866de3,Eric Sunshine,2011-11-01,"qemu-barrier: Fix build failure on PowerPC Mac OS X\n\nqemu-barrier.h tests if macro __powerpc__ is defined, however, the\npreprocessor on PowerPC Mac OS X defines only __POWERPC__, not\n__powerpc__.  Resolve by testing instead for qemu-provided _ARCH_PPC.\n\nSigned-off-by: Eric Sunshine <sunshine@sunshineco.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997103810310364,PPC,qemu-barrier.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,db9eae1c49fe2766a7709d7b2c4cdfcd91b9c25b,3a26360d1df3c3519a45636ec2189429d3df0ecb,Xu He Jie,2011-10-27,"kvm_init didn't set return value after create vm failed\n\nAnd kvm_ioctl(s, KVM_CREATE_VM, 0)'s return value can be < -1,\nso change the check of vmfd at label 'err'.\n\nSigned-off-by: Xu He Jie <xuhj@linux.vnet.ibm.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.739713191986084,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5bb23927761db0d48507c60f56c4e28f72f3c2a7,e072ea2fd8fdceef64159b9596d3c15ce01bea91,Paolo Bonzini,2011-11-02,"virtio-blk: pass full status to the guest\n\nWhen SCSI passthrough is being used by the guest with virtio-blk, the\nguest is not able to detect disk failures.  This is because the status\nfield is expected by the guest driver to include also the msg_status,\nhost_status and driver_status fields, but the device is only passing\ndown the SCSI status.\n\nThe patch fixes this, and also makes sure that the guest always sees a\nCHECK_CONDITION status when there is valid sense data.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997181296348572,SCSI,hw/virtio-blk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f2209eb854a016eabc444b45f6d6b1636949141f,18ebcc86f2e21c83efe26b09218c859234876465,Bharata B Rao,2011-11-02,Fix X86 CPU topology in KVM mode\n\napic id returned to guest kernel in ebx for cpuid(function=1) depends on\nCPUX86State->cpuid_apic_id which gets populated after the cpuid information\nis cached in the host kernel. This results in broken CPU topology in guest.\n\nFix this by setting cpuid_apic_id before cpuid information is passed to\nthe host kernel. This is done by moving the setting of cpuid_apic_id\nto cpu_x86_init() where it will work for both KVM as well as TCG modes.\n\nAcked-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Bharata B Rao <bharata.rao@gmail.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9996398687362672,"KVM, TCG","hw/pc.c, target-i386/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,439229c7cb97f6c4cddd3965c3e9d2b8319fe83c,f54c556c08c57a317ad54f5d2d9ad549b931cda2,Markus Armbruster,2011-11-04,"console: Fix rendering of VGA underline\n\nvga_putcharxy()'s underline code sets font_data to 0xffff instead of\n0xff.  vga_putcharxy() then reads dmask16[0xffff >> 4] and\ndmask4[0xffff >> 6].  In practice, these out-of-bounds subscripts\n""only"" put a few crap bits into the display surface.\n\nFor 32 bit pixels, there's no array access.  font_data's extra bits go\nstraight into the display surface.\n\nBroken when commit 6d6f7c28 implemented underline.\n\nSpotted by Coverity.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.999686360359192,VGA,console.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c0465d1a1d4c9562cfa7e91f6c31ea1bce22052c,95117be5a337d15555b69b7059d4e0791ce8063d,Peter Maydell,2011-11-09,hw/omap_gpmc.c: Add missing 'break's to fix 8 bit NAND writes\n\nAdd missing 'break' statements which would have meant that writing\nto an 8 bit NAND device was broken. Spotted by Coverity (see bug\n887883).\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.99942147731781,NAND,hw/omap_gpmc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4f61927a41a098d06e642ffdea5fc285dc3a0e6b,c0465d1a1d4c9562cfa7e91f6c31ea1bce22052c,Max Filippov,2011-11-09,"hpet: fix infinite loop in qemu_run_timers with -icount enabled\n\nhpet_timer timer callback rearms itself based on difference between\ncurrent HPET tick counter and comparator value. Difference calculated by\nthe hpet_calculate_diff function is limited to non-negative values.\n\ncur_tick is calculated via hpet_get_ticks that uses qemu_get_clock_ns(vm_clock).\n\nWith -icount enabled vm_clock doesn't advance during qemu_run_timers\nloop thus once difference is zero, qemu_run_timers loops forever\nhandling hpet_timer.\n\nLimit hpet_calculate_diff results to positive only values to avoid that\ninfinite loop.\n\nThis fixes the following qemu-system-x86_64 hang when it reaches\ntimer_irq_works() in the linux bootup:\n\n[    0.000000] Fast TSC calibration using PIT\n[    0.000000] Detected 1000.054 MHz processor.\n[    0.000031] Calibrating delay loop (skipped), value calculated using timer frequency.. 2000.10 BogoMIPS (lpj=10000540)\n[    0.000404] pid_max: default: 32768 minimum: 301\n[    0.001138] Mount-cache hash table entries: 256\n[    0.003883] Initializing cgroup subsys ns\n[    0.004035] Initializing cgroup subsys cpuacct\n[    0.004280] Initializing cgroup subsys freezer\n[    0.004790] Performance Events: AMD PMU driver.\n[    0.004985] ... version:                0\n[    0.005134] ... bit width:              48\n[    0.005285] ... generic registers:      4\n[    0.005437] ... value mask:             0000ffffffffffff\n[    0.005625] ... max period:             00007fffffffffff\n[    0.005807] ... fixed-purpose events:   0\n[    0.005957] ... event mask:             000000000000000f\n[    0.006275] SMP alternatives: switching to UP code\n\nSigned-off-by: Max Filippov <jcmvbkbc@gmail.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996770620346068,"HPET, MIPS",hw/hpet.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,025ccaa7f9d2f54a79567599d3eb402100bed7a4,7704df98b09f886a9cf1d42aa6aa9a776ad1be3c,Paolo Bonzini,2011-11-07,"block: add eject request callback\n\nRecent versions of udev always keep the tray locked so that the kernel\ncan observe ""eject request"" events (aka tray button presses) even on\ndiscs that aren't mounted.  Add support for these events in the ATAPI\nand SCSI cd drive device models.\n\nTo let management cope with the behavior of udev, an event should also\nbe added for ""tray opened/closed"".  This way, after issuing an ""eject""\ncommand, management can poll until the guests actually reacts to the\ncommand.  They can then issue the ""change"" command after the tray has been\nopened, or try with ""eject -f"" after a (configurable?) timeout.  However,\nwith this patch and the corresponding support in the device models,\nat least it is possible to do a manual two-step eject+change sequence.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9756993055343628,SCSI,"block.c, block.h, blockdev.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d43b45e220ae82081e389ae113f6f03d9294fdcf,0e3b800e71cb7759d099eabbd8ad4c4fe848e381,David Gibson,2011-11-01,"pseries: Fix initialization of sPAPREnvironment structure\n\nSince we added PCI support to the pseries machine, we include a qlist of\nPCI host bridges in the sPAPREnvironment structure.  However this list\nwas never properly initialized it.  Somehow we got away with this until\nsome other recent change broke it, and we now segfault immediately on\nstartup.\n\nThis patch adds the required QLIST_INIT(), and while we're at it makes sure\nwe initialize the rest of the sPAPREnvironment structure to 0, to avoid\nfuture nasty surprises.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9988601207733154,PCI,hw/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ee2b39946312952f5aa99cf9b7bab238cd5b6329,9df3b45dd4e6e5a856a08e5c7799a3434e9e5ccf,Sebastian Bauer,2011-08-10,"PPC: Fix for the gdb single step problem on an rfi instruction\n\nWhen using gdb to single step a ppc interrupt routine, the execution\nflow passes the rfi instruction without actually returning from the\ninterrupt.\n\nThe patch fixes this by avoiding to update the nip when the debug\nexception is raised and a previous POWERPC_EXCP_SYNC was set.\n\nThe latter is the case only, if code for rfi or a related instruction\nwas generated.\n\nSigned-off-by: Sebastian Bauer <mail@sebastianbauer.info>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997437596321106,PPC,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b2887c43eeec4b8e7697e18dfac071fd9cb4f0c0,7c64d297f988f6ee2136f29fac010db2c8fc352c,Jean-Christophe DUBOIS,2011-11-14,hw/arm_sysctl: Fix RESETCTL for realview-pb-a8 and -pbx-a9\n\nDepending on the considered baseboard the bit used to\nreset the platform is different.\n\nHere is the list of considered Realview/Versatile platforms:\n\nRealview/Versatile AB for ARM926EJ-S: BOARD_ID = 0x100 = BOARD_ID_PB9\nhttp://infocenter.arm.com/help/topic/com.arm.doc.dui0225d/CACCIFGI.html\n\nRealView Emulation Baseboard: BOARD_ID = 0x140 = BOARD_ID_EB\nNo reset register\n\nRealView PB for Cortex-A8: BOARD_ID = 0x178 = BOARD_ID_PBA8\nhttp://infocenter.arm.com/help/topic/com.arm.doc.dui0417d/BBACIGAD.html\n\nRealView PB for Cortex-A9: BOARD_ID = 0x182 = BOARD_ID_PBX\nhttp://infocenter.arm.com/help/topic/com.arm.doc.dui0440b/CACCHBFB.html\n\nMotherboard Express =C2=B5ATX: BOARD_ID = 0x190 = BOARD_ID_VEXPRESS\nNo reset register\n\nSigned-off-by: Jean-Christophe DUBOIS <jcd@tribudubois.net>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Andrzej Zaborowski <andrew.zaborowski@intel.com>,1,0.9997170567512512,"ARM, VEXPRESS",hw/arm_sysctl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,854e42f3e8d3dcaf35b018cf56618fbcd15082d9,13449a6e0ecf6c73e34657100566a471f0c26bbb,Christian Borntraeger,2011-10-04,s390: Fix cpu shutdown for KVM\n\nOn s390 a shutdown is the state of all CPUs being either stopped\nor disabled (for interrupts) waiting. We have to track the overall\nnumber of running CPUs to call the shutdown sequence accordingly.\nThis patch implements the counting and shutdown handling for the\nkvm path in qemu.\nLets also wrap changes to env->halted and env->exception_index.\n\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.999616265296936,KVM,"hw/s390-virtio.c, target-s390x/cpu.h, target-s390x/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e1556ad5b8143a15c26067c3862fe20631c0053f,371572dff4d4dae128a03b30d623b7d212238a70,Peter Maydell,2011-11-07,hw/omap_gpio: Fix infinite recursion when doing 8/16 bit reads\n\nFix a long-standing bug which meant that any attempt to do an\n8 or 16 bit read from the OMAP GPIO module would cause qemu to\ncrash due to an infinite recursion.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9997205138206482,OMAP,hw/omap_gpio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7082826eb41887da7795b3135eaeda1726647987,00984e395363bd924627f8c332ca08007c861a1e,Paolo Bonzini,2011-11-15,"scsi: fix fw path\n\nThe pre-1.0 firmware path for SCSI devices already included the LUN\nusing the suffix argument to add_boot_device_path.  I missed that when\nmaking channel and LUN customizable.  Avoid that it is included twice, and\nconvert the colons to commas for consistency with other kinds of devices\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9990504384040833,SCSI,"hw/scsi-bus.c, hw/scsi-disk.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2c20ae11adcfab94441da31460e86c6e15719084,245d0049475206995ed39e36ecb95b0ca08878e6,Paolo Bonzini,2011-11-14,"atapi: kill MODE SENSE(6), fix MODE SENSE(10)\n\nMode page 2A of emulated ATAPI DVD-ROM should have page length 0x14\nlike SCSI CD-ROM, rather than 0x12.\n\nMode page length is off by 8, as it should contain the length of the\npayload after the first two bytes.\n\nMODE SENSE(6) should be thrown out of ATAPI DVD-ROM emulation.  It is\nnot specified in the ATAPI list of MMC-2, and MMC-5 prescribes to use\nMODE SENSE(10).  Anyway, its implementation is wrong.\n\nReported-by: Thomas Schmitt <scdbackup@gmx.net>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9996802806854248,SCSI,hw/ide/atapi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,06b863577e960413466560d44e2e38eaaca1257e,00a01ad47ae471a88cb64ccac6ed648c5c70d5f3,Paolo Bonzini,2011-11-14,"scsi: fix parsing of allocation length field\n\n- several MMC commands were parsed wrong by QEMU because their allocation\nlength/parameter list length is placed in a non-standard position in\nthe CDB (i.e. it is different from most commands with the same value in\nbits 5-7).\n\n- SEND VOLUME TAG length was multiplied by 40 which is not in SMC.  The\nparameter list length is between 32 and 40 bytes.  Same for MEDIUM SCAN\n(spec found at http://ldkelley.com/SCSI2/SCSI2-16.html but not in any of\nthe PDFs I have here).\n\n- READ_POSITION (SSC) conflicts with PRE_FETCH (SBC).  READ_POSITION's\ntransfer length is not hardcoded to 20 in SSC; for PRE_FETCH cmd->xfer\nshould be 0.  Both fixed.\n\n- FORMAT MEDIUM (the SSC name for FORMAT UNIT) was missing.  The FORMAT\nUNIT command is still somewhat broken for block devices because its\nparameter list length is not in the CDB.  However it works for CD/DVD\ndrives, which mandate the length of the payload.\n\n- fixed wrong sign-extensions for 32-bit fields (for the LBA field,\nthis affects disks >1 TB).\n\n- several other SBC or SSC commands were missing or parsed wrong.\n\n- some commands were not in the list of ""write"" commands.\n\nReported-by: Thomas Schmitt <scdbackup@gmx.net>\nTested-by: Thomas Schmitt <scdbackup@gmx.net> (MMC bits only)\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9997097849845886,SCSI,hw/scsi-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ff51a738cf487811a7890d5292c38bc30eb54e45,ae392c416c69a020226c768d9c3af08b29dd6d96,Hongyong Zang,2011-11-21,"ivshmem: fix PCI BAR2 registration during initialization\n\nIvshmem cannot work, and the command lspci cannot show ivshmem BAR2 in the guest.\nAs for pci_register_bar(), parameter MemoryRegion should be s->bar instead of s->ivshmem.\n\nReviewed-by: Avi Kivity <avi@redhat.com>\nSigned-off-by: Hongyong Zang <zanghongyong@huawei.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996366500854492,PCI,hw/ivshmem.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,795928f61daff10b06bb21e837bc5bf0227cf076,ce4e7e4661af433674f349ccdd5709b4b7a8b2fd,Paolo Bonzini,2011-11-18,"scsi: fix fw path\n\nThe pre-1.0 firmware path for SCSI devices already included the LUN\nusing the suffix argument to add_boot_device_path.  Avoid that it is\nincluded twice, and convert the colons to commas for consistency with\nother kinds of devices\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9993508458137512,SCSI,hw/scsi-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c7662daaa2898fa5a9a39bc51985cd1dd08af988,335b8d2068cbc56ce86b3c89b0fcd1c1eb4b61e2,Gerd Hoffmann,2011-11-16,usb-host: add usb_host_do_reset function.\n\nAdd a special function to reset the host usb device.  It tracks the time\nneeded by the USBDEVFS_RESET ioctl and prints a warning in case it needs\ntoo long.  Usually it should be finished in 200 - 300 miliseconds.\nWarning threshold is one second.\n\nIntention is to help troubleshooting by indicating that the usb device\nstopped responding even to a reset request and is possibly broken.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.995134174823761,USB,usb-linux.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,81584fd50deb3c324cafc854a946dbb6b83c2fc6,f4fc247b0df2dfccae80618ccf6741a9b9e50e49,David Gibson,2011-11-29,"pseries: Fix array overrun bug in PCI code\n\nspapr_populate_pci_devices() containd a loop with PCI_NUM_REGIONS (7)\niterations.  However this overruns the 'bars' global array, which only has\n6 elements. In fact we only want to run this loop for things listed in the\nbars array, so this patch corrects the loop bounds to reflect that.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Andrzej Zaborowski <andrew.zaborowski@intel.com>",1,0.9996339082717896,PCI,hw/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7b4252e83f6f7d82a4bbd95257523091fdb68fa1,f18318eef8b4b263f4e82a5338c9b2875a6c73c8,Peter Chubb,2011-12-12,Fix sp804 dual-timer\n\nProperly implement dual-timer read/write for the sp804 dual timer module.\nBased on ARM specs at\nhttp://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.ddi0271d/index.html\n\nSigned-off-by: Hans Jang <hsjang@ok-labs.com>\nSigned-off-by: David Mirabito <david.mirabito@nicta.com.au>\nSigned-off-by: Peter Chubb <peter.chubb@nicta.com.au>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9995231628417968,ARM,hw/arm_timer.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,222f23f508a8d778f56eddef14752dfd26d225b4,23ce84b1bbae9dd244ad8cd77a1ac30fdac07606,Dr. David Alan Gilbert,2011-12-12,"tcg/arm: remove fixed map code buffer restriction\n\nOn ARM, don't map the code buffer at a fixed location, and fix up the\ncall/goto tcg routines to let it do long jumps.\n\nMapping the code buffer at a fixed address could sometimes result in it being\nmapped over the top of the heap with pretty random results.\n\nSigned-off-by: Dr. David Alan Gilbert <david.gilbert@linaro.org>\nSigned-off-by: Andrzej Zaborowski <andrew.zaborowski@intel.com>",1,0.9994497895240784,ARM,"exec.c, tcg/arm/tcg-target.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,56384e8b1eebac750e6186f5041af710433ddc9e,15d37e709fa809f1b64d3ad81965f3d8200e828a,Andreas Frber,2011-11-30,"exec.c: Fix subpage memory access to RAM MemoryRegion\n\nCommit 95c318f5e1f88d7e5bcc6deac17330fd4806a2d3 (Fix segfault in mmio\nsubpage handling code.) prevented a segfault by making all subpage\nregistrations over an existing memory page perform an unassigned access.\nSymptoms were writes not taking effect and reads returning zero.\n\nVery small page sizes are not currently supported either,\nso subpage memory areas cannot fully be avoided.\n\nTherefore change the previous fix to use a new IO_MEM_SUBPAGE_RAM\ninstead of IO_MEM_UNASSIGNED. Suggested by Avi.\n\nReviewed-by: Avi Kivity <avi@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nCc: Avi Kivity <avi@redhat.com>\nCc: Gleb Natapov <gleb@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996800422668456,SSI,"cpu-common.h, exec.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7b011fbc050d442a20ed5d2a29724570c1557661,bfc213af97c5f7768ad7549bc95134cb4e218a76,Michael Ellerman,2011-12-16,"kvm: Print something before calling abort() if KVM_RUN fails\n\nIt's a little unfriendly to call abort() without printing any sort of\nerror message. So turn the DPRINTK() into an fprintf(stderr, ...).\n\nSigned-off-by: Michael Ellerman <michael@ellerman.id.au>\nSigned-off-by: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>",1,0.9987926483154296,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,33bcd98c4e9fe0866807bef6253a057c82087539,4e9200a0a0f89ad2b26f6aa42e1fca16b364a8c8,Alexander Graf,2011-11-18,"console: Fix segfault on screendump without VGA adapter\n\nWhen trying to create a screen dump without having any VGA adapter\ninside the guest, QEMU segfaults.\n\nThis is because it's trying to switch back to the ""previous"" screen\nit was on before dumping the VGA screen. Unfortunately, in my case\nthere simply is no previous screen so it accesses a NULL pointer.\n\nFix it by checking if previous_active_console is actually available.\n\nThis is 1.0 material.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996793270111084,VGA,console.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e9b40fd34ceb23461083d505a444a389c094455b,a2e4d53ec5cc1983a615d87b251726f17358be9a,Stefan Weil,2011-11-29,"malta: Fix regression (i8259 interrupts did not work)\n\nCommit 5632ae46d5bda798e971dae48ebb318ac2c3686a passes the address\nof i8259 to qemu_irq_proxy. i8259 is an auto variable with undefined\nvalue outside of mips_malta_init.\n\nThis made the interrupt proxy unusable: either QEMU crashes, or\nthe interrupt handler was not called.\n\nEthernet for example no longer worked with MIPS Malta.\n\nv2:\nWhile v1 used a static variable for i8259, this patch introduces\na qdev for the malta machine. i8259 is now part of the device status.\nThis is a minimal qdev implementation to keep the patch small.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996896982192992,MIPS,hw/mips_malta.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,05b922dd0a1919c265361ca62902d6cdaea4cc36,520a02f8b844152929817b686113aed27229d3a9,Peter Maydell,2011-12-26,"tcg/arm: Use r6 as TCG_AREG0 to avoid clash with Thumb framepointer\n\nOn ARM, in Thumb mode r7 is used for the framepointer; this meant\nthat we would fail to compile in debug mode because we were using r7\nfor TCG_AREG0. Shift to r6 instead to avoid this clash.\n(Bug reported as LP:870990.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Andrzej Zaborowski <andrew.zaborowski@intel.com>",1,0.9976582527160645,"ARM, TCG","dyngen-exec.h, tcg/arm/tcg-target.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,665a04ae1cbfa8004a38cf0fe99ba799c978a1fe,0cdb95549fedc73e13c147ab9dcabcc303426a07,Alexander Graf,2011-12-12,"PPC: Fix linker scripts on ppc hosts\n\nWhen compiling qemu statically with multilib on PPC, we hit the\nsame issue that commit 845f2c2812d9ed24b36c02a3d06ee83aeafe8b49\nis fixing. Do the same here.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.999723732471466,PPC,"ppc.ld, ppc64.ld",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5c84bd904ba0aacdb295df5ff7c90ef941f469bb,bd947d30b6757067fa8f8407ef248fd8645383ee,Aurelien Jarno,2012-01-07,"tcg-arm: fix a typo in comments\n\nARM still doesn't support 16GB buffers in 32-bit modes, replace the\n16GB by 16MB in the comment.\n\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>",1,0.992551565170288,ARM,"exec.c, tcg/arm/tcg-target.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,41bd360325168b3c1db78eb7311420a1607d521f,ddcada78895042f1260c6ddd981618e83c52f54f,Jan Kiszka,2012-01-15,seabios: Update to release 1.6.3.1\n\nUser visible changes in seabios:\n - Probe HPET existence (fix for -no-hpet)\n - Probe PCI existence (fix for -machine isapc)\n - usb: fix boot paths\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>,1,0.9966895580291748,"HPET, PCI","pc-bios/bios.bin, roms/seabios",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f3c3cc9507872e8d06ae888b70eac055a6a39f8,3c941c613a398ca62a9852f5bd29c1400ceffb3a,Andreas Frber,2012-01-17,lm32: Fix mixup of uint32 and uint32_t\n\nCommit d23948b15a9920fb7f6374b55a6db1ecff81f3ee (lm32: add Milkymist\nVGAFB support) introduced a stray usage of the softfloat uint32 type.\n\nUse uint32_t instead.\n\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nAcked-by: Michael Walle <michael@walle.cc>\nCc: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>,1,0.99944669008255,VGA,hw/milkymist-vgafb_template.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,48e937283af85aedb7d974a774c7c6bf21794b24,809680c017b944676a34d2712560da61895f4a6d,Andreas Frber,2012-01-13,prep: Use ISA m48t59\n\nThis simplifies the code later when the i8259 moves to the i82378\nPCI->ISA bridge and happens to fix a SysBus m48t59 io_base issue\nintroduced by commit 0fb56ffc5edd66f12ccfc0d71af5f9c79c0a2612 (m48t59:\ndrop obsolete address base arithmetic). Suggested by Herv and Jan.\n\nSigned-off-by: Andreas Frber <andreas.faerber@web.de>\nCc: Herv Poussineau <hpoussin@reactos.org>\nCc: Jan Kiszka <jan.kiszka@siemens.com>\nCc: Blue Swirl <blauwirbel@gmail.com>,1,0.9995773434638976,PCI,hw/ppc_prep.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d49bc1fb3e2ca981e1655b82cbd5ef6b301ce2ff,72718e9a4a26f18ba765b4954e5be985676a60b8,Alexander Graf,2012-01-03,"PPC: 440: Ignore invalid PCI IRQs\n\nWhen running a 440 target, we currently get invalid irq_num values (-1)\nwhich completely confuse the IRQ setting code.\n\nThis is most likely due to the missing qdev conversion.\n\nWhile this shouldn't happen in the first place and should really rather\nbe fixed by converting the target, I dislike segfaults. So for now, let's\njust print a warning and ignore invalid irq_num values.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999543070793152,"PCI, PPC",hw/ppc4xx_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,acd1bf9083dc83e0ef756dbdc81a9805bfb43167,d3c4548b8e2954a33d2d713e4e67d8deda7d97bf,Alexander Graf,2012-01-10,"PPC: bamboo: fix whitespace\n\nTabs followed by spaces are a no-go. My editor shows it red, distracting\nme from actual work! :)\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997056126594543,PPC,hw/ppc440_bamboo.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,82afa58641b0e67abbaf4da6c325ebd7c2513262,34ba1dc8739196c771281b0ba38c2ccd32c6d1fe,Benjamin Herrenschmidt,2012-01-10,"virtio-pci: Fix endianness of virtio config\n\nThe virtio config area in PIO space is a bit special. The initial\nheader is little endian but the rest (device specific) is guest\nnative endian.\n\nThe PIO accessors for PCI on machines that don't have native IO ports\nassume that all PIO is little endian, which works fine for everything\nexcept the above.\n\nA complicated way to fix it would be to split the BAR into two memory\nregions with different endianess settings, but this isn't practical\nto do, besides, the PIO code doesn't honor region endianness anyway\n(I have a patch for that too but it isn't necessary at this stage).\n\nSo I decided to go for the quick fix instead which consists of\nreverting the swap in virtio-pci in selected places, hoping that when\nwe eventually do a ""v2"" of the virtio protocols, we sort that out once\nand for all using a fixed endian setting for everything.\n\nSigned-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nSigned-off-by: Alexander Graf <agraf@suse.de>\n[agraf: keep virtio in libhw and determine endianness through a\n        helper function in exec.c]\nReviewed-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996961355209352,PCI,"exec.c, hw/virtio-pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,964455f39ed540e5968ec3000a3fb3d8fb20823c,033276a7d1701c98bb478341c13d2e1c6692b688,David Gibson,2012-01-11,"Correct types in bmdma_addr_{read,write}\n\nBack when I made patches introducing dma_addr_t and various PCI DMA\nwrapper functions, I made a mistake.  The bmdma_addr_{read,write} functions\nneed to take target_phys_addr_t not dma_addr_t, since they are assigned\nto MemoryRegionOps callbacks.\n\nThis patch corrects my error.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9995637536048888,PCI,hw/ide/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4d8d5467cd6e324fb49ae97b9d5dcee3973d9a19,c9c3c80af71dd2b7813d1ada9b14cb51df584221,Benjamin Herrenschmidt,2012-01-11,"pseries: SLOF PCI flag day\n\nCurrently on the pseries machine the SLOF firmware is used normally,\nbut we bypass it when -kernel is specified.  Having these two\n\ndifferent boot paths can cause some confusion.\n\nIn particular at present we need to ""probe"" the (emulated) PCI bus and\nproduce device tree nodes for the PCI devices in qemu, for the -kernel\ncase.  In the SLOF case, it takes the device tree from qemu adds some\nstuff to it then passes it on to the kernel.\n\nIt's been decided that a better approach is to always boot through\nSLOF, even when using -kernel.  WIth this approach we can leave PCI\nprobing and device node creation to SLOF in all cases which removes a\nbunch of code in qemu, and avoids iterating the PCI devices from the\nmachine specific init code which we're not supposed to do.\n\nThis patch changes qemu to always boot through SLOF, and not to create\nPCI nodes.  Simultaneously it updates the included version of SLOF\n(submodule and binary image) to one which supports (and requires) the\nnew approach.\n\nThe new SLOF version also includes a number of unrelated enhancements:\nsupport for booting from virtio-pci devices and e1000, greatly\nimproved FCode support and many bugfixes.  It also makes SLOF ready to\nbe used even when specifying a kernel on the qemu command line.\n\nSigned-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9975754618644714,PCI,"hw/spapr.c, hw/spapr_pci.c, pc-bios/README, pc-bios/slof.bin, roms/SLOF",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,61eb1f38c10ef73220e862313b792c56646495a6,5b4448d27d7c6ff6e18a1edc8245cb1db783e37c,Blue Swirl,2012-01-23,hyperv: fix build on non-KVM hosts\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9997161030769348,KVM,"Makefile.target, target-i386/hyperv.h",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dc8714ca57c1796abddf7c96d6f66852a972cb08,5b4448d27d7c6ff6e18a1edc8245cb1db783e37c,Peter Maydell,2012-01-25,"target-arm: Fix implementation of TLB invalidate operations\n\nFix some bugs in the implementation of the TLB invalidate\noperations on ARM:\n * the 'invalidate all' op was not passing flush_global=1\n   to tlb_flush(); this doesn't have a practical effect since\n   tlb_flush() currently ignores that argument, but is\n   semantically incorrect\n * 'invalidate by address for all ASIDs' was implemented as\n   flushing the whole TLB, which invalidates much more than\n   strictly necessary. Use tlb_flush_page() instead.\nWe also annotate the ops with the ARM ARM official acronyms.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996126294136048,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c5bd4f3d2ddf243565d94a5a16eafcb994c1524a,61eb1f38c10ef73220e862313b792c56646495a6,Blue Swirl,2012-01-24,vga: fix -nodefaults -device VGA\n\nFlag -nodefaults should also imply no VGA. This was broken in\na369da5f31ddbdeb32a7f76622e480d3995fbb00.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9997184872627258,VGA,vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,70f9c98744d92d89c9f67b5100edc7415b7316fc,f82e35e38c0149dc201f1e329a215e6a6b739974,Andreas Frber,2012-01-19,"unin_pci: Clean up qdev names\n\nAdd -pcihost to SysBus devices to resolve name conflicts,\nand clarify PCI vs. Internal PCI.\n\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9960333704948424,PCI,hw/unin_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3f162d119ef52fda714ebb498fcb4f4b7c354d38,6d3db821c18fdc9727108b5b4bbb38cb7ab5c0e6,Alexander Graf,2012-01-25,PPC: booke206: Check for TLB overrun\n\nOur internal helpers to fetch TLB entries were not able to tell us\nthat an entry doesn't even exist. Pass an error out if we hit such\na case to not accidently pass beyond the TLB array.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9996848106384276,PPC,"target-ppc/cpu.h, target-ppc/helper.c, target-ppc/op_helper.c, target-ppc/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a9c5eb0db1739d53e7a3b1491e496eb25d3db3f4,21a0b6ed1dd9f1d8e3d953954847776c8697bd99,Alexander Graf,2012-01-25,"KVM: Fix compilation on non-x86\n\nCommit 84b058d broke compilation for KVM on non-x86 targets, which\ndon't have KVM_CAP_IRQ_ROUTING defined.\n\nFix by not using the unavailable constant when it's not around.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997337460517884,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5379557b8d5acb140c17e00441fda45eae627fed,2a7e12455c1d388e41f4c8d2231fb48a968792cd,Alexander Graf,2011-11-24,"linux-user: fix wait* syscall status returns\n\nWhen calling wait4 or waitpid with a status pointer and WNOHANG, the\nsyscall can potentially not modify the status pointer input. Now if we\nhave guest code like:\n\n  int status = 0;\n  waitpid(pid, &status, WNOHANG);\n  if (status)\n     <breakage>\n\nthen we have to make sure that in case status did not change we actually\nreturn the guest's initialized status variable instead of our own uninitialized.\nWe fail to do so today, as we proxy everything through an uninitialized status\nvariable which for me ended up always containing the last error code.\n\nThis patch fixes some test cases when building yast2-core in OBS for ARM.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9996825456619264,ARM,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4cafe606040bfb7526a954e131daa61afc5d747a,3bc36349722a6f0d96ec9d8dc870aa82ae6de4cd,Jan Kiszka,2012-02-03,KVM: Fix breakages of QOM conversion\n\nKVM APIC and PIC require instance sizes.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9995474219322203,"APIC, KVM","hw/kvm/apic.c, hw/kvm/i8259.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a4aecd2819fd31641ab62472e3385073043521fb,3d4b26494fdce89354dac49ef909356ccda77914,Jan Kiszka,2012-02-05,"apic: Fix legacy vmstate loading for KVM\n\nAlso in case of loading pre-vmstate machines, we also need to open-code\nthe reading of the timer expires value and instead call the post_load\ncallback to apply it (or not). This fixes loading of legacy states into\nthe KVM APIC.\n\nReported-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9996943473815918,"APIC, KVM",hw/apic_common.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7a65c8cc315c76bde6d692845c12e7ba06f44f89,a642153013b2d0af106c0d4b9a637677d1e2c010,Peter Maydell,2012-02-09,"ARM devboards: Set arm_sysctl properties before init, not after\n\nThe ARM devboard models (vexpress-a9, realview, versatilepb, etc)\nwere accidentally trying to set one of the arm_sysctl properties\nafter device init. This has now become a fatal error; set the property\nbefore device init where it should be done instead.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999473512172699,ARM,"hw/realview.c, hw/versatilepb.c, hw/vexpress.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c9b308d20b642c106048f088ccc31f2aa7cf59ba,ea8f978ffef325ab2fd0edcf5f24b6dcec6078f3,Alexander Graf,2012-01-30,"AHCI: Fix port reset race\n\nbdrv_aio_cancel() can trigger bdrv_aio_flush() which makes all aio\nthat is currently in flight finish. So what we do is:\n\n  port reset\n  detect ncq in flight\n  cancel ncq\n  delete ncq sg list\n\nat which point we have double freed the sg list. Instead, with this\npatch we do:\n\n  port reset\n  detect ncq in flight\n  cancel ncq\n  check if we are really still in flight\n  delete ncq sg list\n\nwhich makes things work and gets rid of the race.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9979514479637146,AHCI,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f76e1d814241794467366d70d3d77849a6fd5ab0,3200d1085df5f368885428e33d9439f55c7f1a47,Hans de Goede,2012-01-13,usb-ehci: Clear the portstatus powner bit on device disconnect\n\nAccording to the EHCI spec port ownership should revert to the EHCI controller\non device disconnect. This fixes the problem of a port getting stuck on USB 1\nwhen using redirection and plugging in a USB 2 device after a USB 1 device\nhas been redirected.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9996041655540466,USB,hw/usb-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ce967e2f33861b0e17753f97fa4527b5943c94b6,319ba9f52737fc79de5c2c6abd059933398b72d5,Jan Kiszka,2012-02-01,"i8254: Rework & fix interaction with HPET in legacy mode\n\nWhen the HPET enters legacy mode, the IRQ output of the PIT is\nsuppressed and replaced by the HPET timer 0. But the current code to\nemulate this was broken in many ways. It reset the PIT state after\nre-enabling, it worked against a stale static PIT structure, and it did\nnot properly saved/restored the IRQ output mask in the PIT vmstate.\n\nThis patch solves the PIT IRQ control in a different way. On x86, it\nboth redirects the PIT IRQ to the HPET, just like the RTC. But it also\nkeeps the control line from the HPET to the PIT. This allows to disable\nthe PIT QEMU timer when it is not needed. The PIT's view on the control\nline state is now saved in the same format that qemu-kvm is already\nusing.\n\nNote that, in contrast to the suppressed RTC IRQ line, we do not need to\nsave/restore the PIT line state in the HPET. As we trigger a PIT IRQ\nupdate via the control line, the line state is reconstructed on mode\nswitch.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9698890447616576,HPET,"hw/hpet.c, hw/hpet_emul.h, hw/i8254.c, hw/i8254.h, hw/pc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8db36e9dddb1b6fab3554a8c00d92268b33a487b,aa0568ff2559d7717f4684af6a83d0bd1a125f56,Alon Levy,2012-02-26,"usb-desc: fix user trigerrable segfaults (!config)\n\nCheck for dev->config being NULL in two places:\n USB_REQ_GET_CONFIGURATION and USB_REQ_GET_STATUS.\n\nThe behavior of USB_REQ_GET_STATUS is unspecified in the Default state,\nthat corresponds to dev->config being NULL (it defaults to NULL and is\nreset whenever a SET_CONFIGURATION with value 0, or attachment). I\nimplemented it to correspond with the state before\ned5a83ddd8c1d8ec7b1015315530cf29949e7c48, the commit moving SET_STATUS\nto usb-desc; if dev->config is not set we return whatever is in the\nfirst configuration.\n\nThe behavior of USB_REQ_GET_CONFIGURATION is also undefined before any\nSET_CONFIGURATION, but here we just return 0 (same as specified for the\nAddress state).\n\nA win7 guest failed to initialize the device before this patch,\nsegfaulting when GET_STATUS was called with dev->config == NULL. With\nthis patch the passthrough device still doesn't work but the failure is\nunrelated.\n\nSigned-off-by: Alon Levy <alevy@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997033476829528,USB,hw/usb-desc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,df7871851eb327af0a612895738c0e1854fde00b,0082f4336e128a17d5f34e01de0fd29930e99b0d,Hans de Goede,2012-02-26,"usb-ehci: Handle ISO packets failing with an error other then NAK\n\nBefore this patch the ehci code was not checking for any other errors other\nthen USB_RET_NAK. This causes 2 problems:\n1) Other errors are not reported to the guest.\n2) When transactions with the ITD_XACT_IOC bit set completing with another\n   error would not result in USBSTS_INT getting set.\n\nI hit this problem when unplugging devices while iso data was streaming from\nthe device to the guest. When this happens it takes a while for the guest to\nprocess the unplugging and remove ISO transactions from the ehci schedule, in\nthe mean time these transactions would complete with a result of USB_RET_NODEV,\nwhich was not handled. This lead to the Linux guest's usb subsystem ""hanging"",\nthat is it would no longer see new usb devices getting plugged in and running\nfor example lsusb would lead to a stuck (D state) lsusb process. This patch\nfixes this.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999732792377472,USB,hw/usb-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d86b8853e1f0c7ffb917a7a48f2e44bc3d8e9f8a,097a66ef5f6138c22bfdd1cc218eb2704e5eef9c,Hans de Goede,2012-02-26,"usb-redir: Limit return values returned by iso packets\n\nThe usbredir protocol uses a status of usb_redir_stall to indicate that\nan iso data stream has stopped (ie because the urbs failed on resubmit),\nbut iso packets should never return a result of USB_RET_STALL, since iso\nendpoints cannot stall. So instead simply always return USB_RET_NAK on\niso stream errors.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999114453792572,USB,usb-redir.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3741715cf2e54727fe3d9884ea6dcea68c7f7d4b,e64722108c1342d499d408c386ce65794c44dd63,Jan Kiszka,2012-02-27,"usb: Resolve warnings about unassigned bus on usb device creation\n\nWhen creating an USB device the old way, there is no way to specify the\ntarget bus. Thus the warning issued by usb_create makes no sense and\nrather confuses our users.\n\nResolve this by passing a bus reference to the usbdevice_init handler\nand letting those handlers forward it to usb_create.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999716341495514,USB,"hw/usb-bt.c, hw/usb-bus.c, hw/usb-msd.c, hw/usb-net.c, hw/usb-serial.c, hw/usb.h, usb-bsd.c, usb-linux.c, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8f6f962b994e1402935055ac7093ac977ccc9a5c,7c51c1aa03a52b9fd75ed1ade2e65d079ae4d50e,Avi Kivity,2012-02-29,"kvm: fix unaligned slots\n\nkvm_set_phys_mem() may be passed sections that are not aligned to a page\nboundary.  The current code simply brute-forces the alignment which leads\nto an inconsistency and an abort().\n\nFix by aligning the start and the end of the section correctly, discarding\nand unaligned head or tail.\n\nThis was triggered by a guest sizing a 64-bit BAR that is smaller than a page\nwith PCI_COMMAND_MEMORY enabled and the upper dword clear.\n\nSigned-off-by: Avi Kivity <avi@redhat.com>",1,0.9997355341911316,PCI,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f58a1882bae42d7c76bdb66792c204a810ec01f,412beee6a0349ce430920e2b2faa8009ced4a672,Peter Maydell,2012-03-02,"hw/arm11mpcore: Fix broken realview_mpcore/arm11mpcore_priv properties\n\nFix confusion in the Property arrays for the ""arm11mpcore_priv""\n(per-CPU devices for the ARM11MPcore CPU) and ""realview_mpcore""\n(realview-eb board specific device encapsulating CPU and some\nextra interrupt controllers) -- the num-irq property was defined\non the wrong device and the mpcore_rirq_properties were defined\nas offsets in the wrong structure. The effect was that the\nrealview-eb-mpcore machine would abort on startup trying to\nallocate an insane amount of memory. (This bug was introduced in\nthe QOM conversion in commit 999e12bb.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997206330299376,ARM,hw/arm11mpcore.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0454b611bb129ada92d16cfb9bec5fd6e1df5ab0,27a9476cf75c4e147cb7d8c10c415928b3791b91,Hans de Goede,2012-03-02,usb-redir: Set ep type and interface\n\nSince we don't use usb_desc.c we need to do this ourselves. This fixes\niso transfers no longer working for USB 2 devices due to the ep->type\ncheck in ehci.c\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.99966561794281,USB,usb-redir.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7bce354e148b0ae0ceae7582574810adc6fab4e4,df5d5c5c9eeaedb7705b4df6f5ee8083f39cf7b5,Hans de Goede,2012-03-02,"usb-ehci: always call ehci_queues_rip_unused for period queues\n\nBefore this patch USB 2 devices with interrupt endpoints were not working\nproperly. The problem is that to avoid loops we stop processing as soon\nas we encounter a queue-head (qh) we've already seen since qhs can be linked\nin a circular fashion, this is tracked by the seen flag in our qh struct.\n\nThe resetting of the seen flag is done from ehci_queues_rip_unused which\nbefore this patch was only called when executing the statemachine for the\nasync schedule.\n\nBut packets for interrupt endpoints are part of the periodic schedule! So what\nwould happen is that when there were no ctrl or bulk packets for a USB 2\ndevice with an interrupt endpoint, the async schedule would become non\nactive, then ehci_queues_rip_unused would no longer get called and when\nprocessing the qhs for the interrupt endpoints from the periodic schedule\ntheir seen bit would still be 1 and they would be skipped.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9995614886283876,USB,hw/usb-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dd54cfe0bcf30d1f3a34e9c397f619d423fe0c5b,2763cbc751c494dd2f58f902ad80a8048f9cfd7b,Hans de Goede,2012-03-02,"usb-ehci: Fix cerr tracking\n\ncerr should only be decremented on errors which cause XactErr to be set, and\nwhen that happens the failing transaction should be retried until cerr reaches\n0 and only then should USBSTS_ERRINT be set (and inactive cleared and\nUSBSTS_INT set if requested).\n\nSince we don't have any hardware level errors (and in case of redirection\nthe real hardware has already retried), re-trying makes no sense, so\nimmediately set cerr to 0 on errors which set XactErr.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997355341911316,USB,hw/usb-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,553a6a59f6931bf3a034945e0c1585f4b05d6000,aa73fcdcc1bf4157121716e2eb3230130b0d1232,Hans de Goede,2012-03-02,"usb-ehci: Fix and simplify nakcnt handling\n\nThe nakcnt code in ehci_execute_complete() marked transactions as finished\nwhen a packet completed with a result of USB_RET_NAK, but USB_RET_NAK\nmeans that the device cannot receive / send data at that time and that\nthe transaction should be retried later, which is also what the usb-uhci\nand usb-ohci code does.\n\nNote that there already was some special code in place to handle this\nfor interrupt endpoints in the form of doing a return from\nehci_execute_complete() when reload == 0, but that for bulk transactions\nthis was not handled correctly (where as for example the usb-ccid device does\nreturn USB_RET_NAK for bulk packets).\n\nBesides that the code in ehci_execute_complete() decrement nakcnt by 1\non a packet result of USB_RET_NAK, but\n-since the transaction got marked as finished,\n nakcnt would never be decremented again\n-there is no code checking for nakcnt becoming 0\n-there is no use in re-trying the transaction within the same usb frame /\n usb-ehci frame-timer call, since the status of emulated devices won't change\n as long as the usb-ehci frame-timer is running\nSo we should simply set the nakcnt to 0 when we get a USB_RET_NAK, thus\nclaiming that we've tried reload times (or as many times as possible if\nreload is 0).\n\nBesides the code in ehci_execute_complete() handling USB_RET_NAK there\nwas also code handling it in ehci_state_executing(), which calls\nehci_execute_complete(), and then does its own handling on top of the handling\nin ehci_execute_complete(), this code would decrement nakcnt *again* (if not\nalready 0), or restore the reload value (which was never changed) on success.\n\nSince the double decrement was wrong to begin with, and is no longer needed\nnow that we set nakcnt directly to 0 on USB_RET_NAK, and the restore of reload\nis not needed either, this patch simply removes all nakcnt handling from\nehci_state_executing().\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9995208978652954,USB,hw/usb-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d61000a8b1d99c5155440b727ea32f12a4988120,4d819a9bde7f52e7421d4128dc69c296c9fd017a,Hans de Goede,2012-03-02,"usb: add USB_RET_IOERROR\n\nWe already have USB_RET_NAK, but that means that a device does not want\nto send/receive right now. But with host / network redirection we can\nactually have a transaction fail due to some io error, rather then ie\nthe device just not having any data atm.\n\nThis patch adds a new error code named USB_RET_IOERROR for this, and uses\nit were appropriate.\n\nNotes:\n-Currently all usb-controllers handle this the same as NODEV, but that\n may change in the future, OHCI could indicate a CRC error instead for example.\n-This patch does not touch hw/usb-musb.c, that is because the code in there\n handles STALL and NAK specially and has a if status < 0 generic catch all\n for all other errors\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999665379524231,USB,"hw/usb-ehci.c, hw/usb-ohci.c, hw/usb-uhci.c, hw/usb.h, usb-linux.c, usb-redir.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d715ea961254512c6989e17edbfaf959aa7805b0,32a2003af9cb0cb11b3992fd3248cb89752c53e9,Alexander Graf,2012-02-21,"PPC: 405: Fix ppc405ep initialization\n\nWhen trying to run a ppc405 guest, it segfaults quite quickly, trying to\naccess timers that weren't initialized. Initialize them properly instead.\n\nReported-by: Andreas Faerber <afaerber@suse.de>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.998238205909729,PPC,hw/ppc405_uc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eb6ea4b22e89d4c6ed510c7cfcd33d15be92733b,2e06214f22e080be4a8a17b0fae3b4c03b0aa3ea,Nathan Whitehorn,2012-03-09,"PPC: Fix large page support in TCG\n\nFix large page support in TCG. The old code would overwrite the large page\ntable entry with the fake 4 KB one generated here whenever the ref/change bits\nwere updated, causing it to point to the wrong area of memory.\n\nSigned-off-by: Nathan Whitehorn <nwhitehorn@freebsd.org>\nAcked-by: David Gibson <david@gibson.drobpear.id.au>\n[agraf: fix whitespace, braces]\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996939897537231,"PPC, TCG",target-ppc/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,29979a8d2596d33b474c11efb376ed47ba1d44d3,92e4b519e0808948ae4bc710fb1db7d3cc2245a1,Alexander Graf,2012-03-14,"PPC: KVM: Synchronize regs on CPU dump\n\nWhen we dump the CPU registers, there's a certain chance they haven't been\nsynchronized with KVM yet, so we have to manually trigger that.\n\nThis aligns the code with x86 and fixes a bug where the register state was\nbogus on invalid/unknown kvm exit reasons.\n\nReported-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996843338012696,"KVM, PPC",target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,38ae51a804a6ad2baec3e45ecb1571583b312441,298a971024534e9ab6c7b57845bbbd8188867d7a,Alexander Graf,2012-03-14,PPC: Fix openpic with relative memregions\n\nAfter commit 5312bd8b3152 we got memory region relative offsets into our mmio\ncallbacks instead of page boundary based offsets.\n\nThis broke the OpenPIC emulation which expected offsets to be on page boundary\nand substracted its region offset manually.\n\nThis patch gets rid of that manual substraction and lets the memory api do its\nmagic instead.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9995330572128296,PPC,hw/openpic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fdba487859bff44db21dc119ee2b1b3691c69f0f,95be1196030c003a65052fc7b8a3394fdac690a8,Anthony PERARD,2012-02-13,"pci: Do not check if a bus exist in pci_parse_devaddr.\n\nActually, pci_parse_devaddr checks if the dom/bus of the PCI address exist. But\nthis should be the jobs of a caller. In fact, the two callers of this function\nwill try to retrieve the PCIBus related to the devaddr and return an error if\nthey cannot.\n\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996395111083984,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,15a7a7780675eb99c093e29deefc5d6cc371bd87,fdba487859bff44db21dc119ee2b1b3691c69f0f,Anthony PERARD,2012-02-17,pci_regs: Fix value of PCI_EXP_TYPE_RC_EC.\n\nValue check in PCI Express Base Specification rev 1.1\n\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9996676445007324,PCI,hw/pci_regs.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4de47793d49e70ee048e15889d4bf139e7b36ce7,ae7d54d489540b49b7c13a7df7ddc220588a2ced,Peter Maydell,2012-03-14,target-arm: Fix typo in ARM946 cp15 c5 handling\n\nFix a typo in handling of the ARM946 cp15 c5 c0 0 1 handling\n(instruction access permission bits) that meant it would\nreturn the data access permission bits by mistake.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.999502658843994,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1d7a1197068da26813e2a4706b4573143db166f5,03a1a8e1b13bb447c898eb282ee8c3fc41c866b4,Stefan Weil,2012-01-28,"malta: Fix display for LED array\n\nThe 8-LED array was already implemented in the first commit to Malta,\nbut this implementation was incomplete.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>",1,0.9997009038925172,LED,hw/mips_malta.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1dc324d20f7404fd6a416f16c2cb9a4ec50a4dd7,8a3d80faf7794820da5e9666e4adf6a7d4f80f7b,Michael S. Tsirkin,2012-02-12,"shpc: standard hot plug controller\n\nThis adds support for SHPC interface, as defined by PCI Standard\nHot-Plug Controller and Subsystem Specification, Rev 1.0\nhttp://www.pcisig.com/specifications/conventional/pci_hot_plug/SHPC_10\n\nOnly SHPC intergrated with a PCI-to-PCI bridge is supported,\nSHPC integrated with a host bridge would need more work.\n\nAll main SHPC features are supported:\n- MRL sensor\n- Attention button\n- Attention indicator\n- Power indicator\n\nWake on hotplug and serr generation are stubbed out but unused\nas we don't have interfaces to generate these events ATM.\n\nOne issue that isn't completely resolved is that qemu currently\nexpects an ""eject"" interface, which SHPC does not provide: it merely\nremoves the power to device and it's up to the user to remove the device\nfrom slot. This patch works around that by ejecting the device\nwhen power is removed and power LED goes off.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9994837045669556,"LED, PCI","Makefile.objs, hw/pci.h, hw/shpc.c, hw/shpc.h, qemu-common.h",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,68917102740d9aa96c8f3ed4b95eab9917e8c61b,633442ff56909214576549d34f5be1f50a67c5a6,Michael S. Tsirkin,2012-03-04,"pci: fix bridge IO/BASE\n\ncommit 5caef97a16010f818ea8b950e2ee24ba876643ad introduced\na regression: we do not make IO base/limit upper 16\nbit registers writeable, so we should report a 16 bit\nIO range type, not a 32 bit one.\nNote that PCI_PREF_RANGE_TYPE_32 is 0x0, but PCI_IO_RANGE_TYPE_32 is 0x1.\n\nIn particular, this broke sparc64.\n\nNote: this just reverts to behaviour prior to the commit above.\nMaking PCI_IO_BASE_UPPER16 and PCI_IO_LIMIT_UPPER16\nregisters writeable should, and seems to, work just as well, but\nas no system seems to actually be interested in 32 bit IO,\nlet's not make unnecessary changes.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996782541275024,PCI,hw/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,14dd5faa7e168d70760902c269dc68f3104b8ed6,27424dcc6804e630602a61229e57e42b14050869,Peter Maydell,2012-03-14,"hw/pxa2xx.c: Fix handling of pxa2xx_i2c variable offset within region\n\nThe pxa2xx I2C controller can have its registers at an arbitrary offset\nwithin the MemoryRegion it creates. We use this to create two controllers,\none which covers a region of size 0x10000 with registers starting at an\noffset 0x1600 into that region, and a second one which covers a region\nof size just 0x100 with the registers starting at the base of the region.\n\nThe implementation of this offsetting uses two qdev properties, ""offset""\n(which sets the offset which must be subtracted from the address to\nget the offset into the actual register bank) and ""size"", which is the\nsize of the MemoryRegion. We were actually using ""offset"" for two\npurposes: firstly the required one of handling the registers not being\nat the base of the MemoryRegion, and secondly as a workaround for a\ndeficiency of QEMU. Until commit 5312bd8b3, if a MemoryRegion was mapped\nat a non-page boundary, the address passed into the read and write\nfunctions would be the offset from the start of the page, not the\noffset from the start of the MemoryRegion. So when calculating the value\nto set the ""offset"" qdev property we included a rounding to a page\nboundary.\n\nFollowing commit 5312bd8b3 MemoryRegion read/write functions are now\ncorrectly passed the offset from the base of the region, and our\nworkaround now means we're subtracting too much from addresses, resulting\nin warnings like ""pxa2xx_i2c_read: Bad register 0xffffff90"".\nThe fix for this is simply to remove the rounding to a page boundary;\nthis allows us to slightly simplify the expression since\n  base - (base & (~region_size)) == base & region_size\n\nThe qdev property ""offset"" itself must remain because it is still\nperforming its primary job of handling register banks not being at\nthe base of the MemoryRegion.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Andreas Frber <afaerber@suse.de>",1,0.9997004270553588,I2C,hw/pxa2xx.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b21227c499b5939891cdc1e5e6834c92eaf2dee0,103f9af2a1ad6427533ae2c92d9e1e721b2ae902,Blue Swirl,2012-03-10,"apb: use normal PCI device header for PBM device\n\nPBM has a normal PCI device header, fix.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997074007987976,PCI,hw/apb_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0c1f781b7c8ddd79ca15c20b59afa2be69d18295,720f9f582533b2274ee2f1dd0337feb983e2d510,Jason Wang,2012-03-19,"ioapic: fix build with DEBUG_IOAPIC\n\nioapic.c:198: error: format %08x expects type unsigned int, but argument 3 has type uint64_t\n\nSigned-off-by: Jason Wang <jasowang@redhat.com>\nReviewed-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>",1,0.999505877494812,"APIC, IOAPIC",hw/ioapic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6ec5dae5a49f2933dc9b3925d8054eb380a56d88,d0638b185c92a3fa8c82c2ef229312e9dbbd555c,Yonit Halperin,2012-03-18,monitor: fix client_migrate_info error handling\n\nReport QERR_MISSING_PARAMETER when port is missing. Otherwise\nQERR_UNDEFINED_ERROR will occur.\n\nrhbz #795652\n\nSigned-off-by: Yonit Halperin <yhalperi@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.999722182750702,SSI,monitor.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9bcaf4fe264c507b59ab2e5fc6b2fa9d36f06d44,7725d14679c4391391b63f933d604b046ef8adf6,Paolo Bonzini,2012-03-16,"scsi-cd: check ready condition before processing several commands\n\nThis commit is more or less obvious.  What it caused is less obvious:\nSCSI CD drives failed to eject under Linux, though for example the\n""change"" command worked okay.  This happens because of the autoclose\noption in the Linux CD-ROM driver.\n\nThe actual chain of events is quite complex and somehow involves\nudev helpers; the actual command that matters is READ TOC, though\nhonestly it's not really clear to me how because it should always be\ninvoked after autoclose, not before.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9845982789993286,SCSI,hw/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d1b02ea0dcd20998ef178ddc55fb9765f6aa1d44,db9526b10a956fd80c08727685c300b63d5a7465,Peter Maydell,2012-03-16,"linux-user/arm/syscall_nr.h: Add syscall number for ppoll\n\nThe list of ARM syscall numbers was missing the entry for ppoll,\nwhich meant we were accidentally not providing it. (This wasn't\ncausing any practical issues beyond warnings about unimplemented\nsyscalls, because glibc will fall back to another code path if the\nsyscall isn't present.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9993865489959716,ARM,linux-user/arm/syscall_nr.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d8fd2954996255ba6ad610917e7849832d0120b7,ef8b0c0474aa7eab5172e866dc37428b41ff2934,Paul Brook,2012-03-30,"Userspace ARM BE8 support\n\nAdd support for ARM BE8 userspace binaries.\ni.e. big-endian data and little-endian code.\nIn principle LE8 mode is also possible, but AFAIK has never actually\nbeen implemented/used.\n\nSystem emulation doesn't have any useable big-endian board models,\nbut should in principle work once you fix that.\nDynamic endianness switching requires messing with data accesses,\npreferably with TCG cooperation, and is orthogonal to BE8 support.\n\nSigned-off-by: Paul Brook <paul@codesourcery.com>\n[PMM: various changes, mostly as per my suggestions in code review:\n * rebase\n * use EF_ defines rather than hardcoded constants\n * make bswap_code a bool for future VMSTATE macro compatibility\n * update comment in cpu.h about TB flags bit field usage\n * factor out load-code-and-swap into arm_ld*_code functions and\n   get_user_code* macros\n * fix stray trailing space at end of line\n * added braces in disas.c to satisfy checkpatch\n]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9992263317108154,"ARM, TCG","disas.c, linux-user/elfload.c, linux-user/main.c, linux-user/qemu.h, target-arm/cpu.h, target-arm/helper.c, target-arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6375e09e79964fa6eac3e8426d25c8b759185482,760e141613f5f7c09f5c141658f1e7c23b4a5c33,Stefan Weil,2012-04-06,"w64: Fix data type of tb_next and other variables used for host addresses\n\nQEMU host addresses must use uintptr_t to be portable for hosts with\nan unusual size of long (w64).\n\ntb_jmp_offset is an uint16_t value, therefore the local variable offset\nin function tb_set_jmp_target was changed from unsigned long to uint16_t.\n\nThe type cast to long in function tb_add_jump now also uses uintptr_t.\nFor the bit operation used here, the signedness of the type cast does\nnot matter.\n\nSome remaining unsigned long values are either only used for ARM assembler\ncode or will be fixed in a later patch for PPC.\n\nv2:\nFix signature of tb_find_pc in exec.c, too (hint from Blue Swirl, thanks).\nThere remain lots of other long / unsigned long in exec.c which must be\nreplaced by uintptr_t. This will be done in a separate patch. Here\nonly one of these type casts is fixed.\n\nv3:\nAlso fix signature of page_unprotect.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.999607264995575,"ARM, PPC","exec-all.h, exec.c, translate-all.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3b2aba2f1309cebbcb72a5f006479f2467aa4e9f,adcd61f7fcd5a24e65b2ec087bfae2356805993b,Stefan Weil,2012-04-07,tci: Support targets with CONFIG_TCG_PASS_AREG0 (fix broken build)\n\nBuilds with --enable-tcg-interpreter failed because more and more\ntargets (currently alpha and sparc) replaced the global env in AREG0\nby function parameters.\n\nConvert the TCG interpreter to use the new helper functions and add\ndefines for those targets which still use AREG0.\n\nCc: Blue Swirl <blauwirbel@gmail.com>\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9993671774864196,TCG,tci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d50c6c8b0fc28c2dd91f3f7ab2a0bbb56419214b,4e1957acc854b2f3f3068c75cef2a429f9b97011,Alexey Korolev,2012-02-29,piix_pci: fix typo in i400FX chipset init code\n\nThere is a typo in i440FX init code. This is causing problems when\nsomebody wants to access the 64bit PCI range.\n\nSigned-off-by: Alexey Korolev <alexey.korolev@endace.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9997170567512512,PCI,hw/piix_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2ba1d381c2f5f5868fe071b45977c2ed459d78f0,4490c71191b59dce2dd88f5f9ab49f2c92ab410c,David Gibson,2012-04-03,"virtio-pci: change virtio balloon PCI class code\n\nCurrently the virtio balloon device, when using the virtio-pci interface\nadvertises itself with PCI class code MEMORY_RAM.  This is wrong; the\nballoon is vaguely related to memory, but is nothing like a PCI memory\ndevice in the meaning of the class code, and this code is not required\nor suggested by the virtio PCI specification.\n\nWorse, this patch causes problems on the pseries machine, because the\nfirmware, seeing this class code, advertises the device as memory in the\ndevice tree, and then a guest kernel bug causes it to see this ""memory""\nbefore the real system memory, leading to a crash in early boot.\n\nThis patch fixes the problem by removing the bogus PCI class code on the\nballoon device.  The backwards compatibility PC machines get new compat\nproperties so that they don't change.\n\nCc: Rusty Russell <rusty@rustcorp.com.au>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9986153841018676,PCI,"hw/pc_piix.c, hw/virtio-pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b3c09bde4842f1b157bc4431135aad4f2031e312,dadc1064c348545695b8a14d9dc72ccaa2983be7,Stefan Hajnoczi,2012-03-09,"kvm: add flightrecorder script\n\nThe kvm kernel module includes a number of trace events which can be\nuseful when debugging system behavior.  Even on production systems these\ntrace events can be used to observe guest behavior and identify the\nsource of problems.\n\nThe kvm_flightrecorder script is a command-line wrapper for the\n/sys/kernel/debug/tracing interface.  Kernel symbols do not need to be\ninstalled.\n\nThis script captures a fixed-size buffer of KVM trace events.  Recent\nevents overwrite the oldest events when the buffer size is exceeded and\nit is possible to leave KVM tracing enabled for any period of time with\njust a fixed-size buffer.  If the buffer is large enough this script is\na useful tool for collecting detailed information after an issue occurs\nwith a guest.  Hence the name ""flight recorder"".\n\nThe script can also be used in 'tail' mode to simply view KVM trace\nevents as they occur.  This is handy for development and to ensure that\nthe guest is indeed running.\n\nSigned-off-by: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9995469450950624,KVM,scripts/kvm/kvm_flightrecorder,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7faa8075d898ae56d2c533c530569bb25ab86eaf,ba737541edddf9d0026460eb7b1d1c599b4c8ae9,Alex Williamson,2012-04-05,"acpi_piix4: Fix PCI hotplug race\n\nAs Michael Tsirkin demonstrated, current PCI hotplug is vulnerable\nto a few races.  The first is a race with other hotplug operations\nbecause we clear the up & down registers at each event.  If a new\nevent comes before the last is processed, up/down is cleared and\nthe event is lost.\n\nTo fix this for the down register, we create a life cycle for\nthe event request that starts with the hot unplug request in\npiix4_device_hotplug() and ends when the device is ejected.\nThis allows us to mask and clear individual bits, preserving them\nagainst races.  For the up register, we have no clear end point\nfor when the event is finished.  We could modify the BIOS to\nacknowledge the bit and clear it, but this creates BIOS compatibiliy\nissues without offering a complete solution.  Instead we note that\ngratuitous ACPI device checks are not harmful, which allows us to\nissue a device check for every slot.  We know which slots are present\nand we know which slots are hotpluggable, so we can easily reduce\nthis to a more manageable set for the guest.\n\nThe other race Michael noted was that an unplug request followed\nby reset may also lose the eject notification, which may also\nresult in the eject request being lost which a subsequent add\nor remove.  Once we're in reset, the device is unused and we can\nflush the queue of device removals ourselves.  Previously if a\ndevice_del was issued to a guest without ACPI PCI hotplug support,\nit was necessary to shutdown the guest to recover the device.\nWith this, a guest reboot is sufficient.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.99973863363266,"ACPI, PCI",hw/acpi_piix4.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cdde6ffc27517bdf069734fbc5693ce2b14edc75,54bfa546a0b5af335128ef5c477f8af9834df498,Avi Kivity,2012-01-04,"pci: fix corrupted pci conf index register by unaligned write\n\nCommit d0ed8076cbdc261 converted the PCI config access to the memory\nAPI, but also inadvertantly changed it to accept unaligned writes,\nand corrupt the index register in the process.  This causes a regression\nbooting NetBSD.\n\nFix by ignoring unaligned or non-dword writes.\n\nhttps://bugs.launchpad.net/qemu/+bug/897771\n\nReported-by: Andreas Gustafsson <gson@gson.org>\nSigned-off-by: Avi Kivity <avi@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996180534362792,PCI,hw/pci_host.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,52d631dcc70144b6ce8293db78cd6de635331c83,da12872a0973718997c00f1c1e8e5b91ee4c713a,Mark Cave-Ayland,2012-03-27,"PPC: Fix TLB invalidation bug within the PPC interrupt handler.\n\nCommit 41557447d30eeb944e42069513df13585f5e6c7f also introduced a subtle TLB\nflush bug. By applying a mask to the interrupt MSR which cleared the IR/DR\nbits at the start of the interrupt handler, the logic towards the end of the\nhandler to force a TLB flush if either one of these bits were set would never\nbe triggered.\n\nThis patch simply changes the IR/DR bit check in the TLB flush logic to use\nthe original MSR value (albeit with some interrupt-specific bits cleared) so\nthat the IR/DR bits are preserved at the point where the check takes place.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9996998310089112,PPC,target-ppc/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,12b1143b2807a5b760e477fac0e1028a9760b6c6,e2fbb432fc4ec64d0a53c41588ede31450b6c6a8,David Gibson,2012-04-04,"target-ppc: Add hooks for handling tcg and kvm limitations\n\nOn target-ppc, our table of CPU types and features encodes the features as\nfound on the hardware, regardless of whether these features are actually\nusable under TCG or KVM.  We already have cases where the information from\nthe cpu table must be fixed up to account for limitations in the emulation\nmethod we're using.  e.g. TCG does not support the DFP and VSX instructions\nand KVM needs different numbering of the CPUs in order to tell it the\ncorrect thread to core mappings.\n\nThis patch cleans up these hacks to handle emulation limitations by\nconsolidating them into a pair of functions specifically for the purpose.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\n[AF: Style and typo fixes, rename new functions and drop ppc_def_t arg]\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9980947375297546,"KVM, TCG","target-ppc/helper.c, target-ppc/kvm.c, target-ppc/kvm_ppc.h, target-ppc/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,92615a5ab96cd2b4981e2aaef40bece6cd7553b6,45e45ed2d61fb287adf03e49c74c152bfd2c975a,David Gibson,2012-04-02,"pseries: Fix RTAS based config access\n\nOn the pseries platform, access to PCI config space is via RTAS calls(\nwhich go to the hypervisor) rather than MMIO.  This means we don't use\nthe same code path as nearly everyone else which goes through pci_host.c\nand we're missing some of the parameter checking along the way.\n\nWe do have some parameter checking in the RTAS calls, but it's not enough.\nIt checks for overruns, but does not check for unaligned accesses,\noversized accesses (which means the guest could trigger an assertion\nfailure from pci_host_config_{read,write}_common().  Worse it doesn't do\nthe basic checking for the number of RTAS arguments and results before\naccessing them.\n\nThis patch fixes these bugs.\n\nCc: Michael S. Tsirkin <mst@redhat.com>\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\n[AF: Fix typos spotted by mst]\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.999718964099884,PCI,hw/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c17491b63e198ac48d533f8a9d301d11c5880a36,3cabba609de07e06b3dacf4f30403f6e9e293f2c,David Gibson,2012-04-12,"pseries: Fix reset of VIO network device\n\nCurrently, the PAPR VIO network device does not have a reset handler.  This\nmeans that after a hard reset, H_REGISTER_LOGICAL_LAN will return an error\nwhen the new guest boot attempts to initialize the device.\n\nThis patch corrects this, adding a suitable reset hook.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9997091889381408,REGISTER,hw/spapr_llan.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,90449c388711c3defdc76da490926d1eca177b06,e776bffb53973619e93e805fa441bd5f3d999e27,Blue Swirl,2012-04-19,sparc: fix qtest\n\nInitialize TCG only when enabled.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9996174573898317,TCG,target-sparc/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c3ca04679e93a72635d6ef347886dbeba799b2d6,a896d03bb5f70ed76b3e9e1acba864115cfb5e01,Stefan Weil,2012-04-17,"tci: GETPC() macro must return an uintptr_t\n\nChange the data type of tci_tb_ptr, so GETPC() returns an\nuintptr_t now (like for all other TCG targets).\n\nThis completes commit 2050396801ca0c8359364d61eaadece951006057\nand fixes builds with TCI.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9994816184043884,TCG,"exec-all.h, tci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,62a9fbf7fd022103c6b271abd7b7834b84ba7071,3c30dd5a68e9fee6af67cfd0d14ed7520820f36a,Alon Levy,2012-04-23,"virtio-serial-bus: fix guest_connected init before driver init\n\nguest_connected should be false before guest driver initialization, and\ntrue after, both for multiport aware and non multiport aware drivers.\n\nDon't set it before the guest_features are available; instead use\nset_status which is called by io to VIRTIO_PCI_STATUS with\nVIRTIO_CONFIG_S_DRIVER_OK by even older non multiport drivers.\n\n[Amit: Add comment, tweak summary, only set guest_connected and not\n       reset it as a side-effect.]\n\nSigned-off-by: Alon Levy <alevy@redhat.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Amit Shah <amit.shah@redhat.com>",1,0.9997254014015198,"PCI, VIRTIO, VIRTIO_PCI",hw/virtio-serial-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,65074706b9353bae7307fcfcbbf63a36f6896aa7,30d70e71b3250ab4a0e3209836e1153f1e5e04ba,Alexander Graf,2012-04-30,"linux-user: Fix undefined HOST_LONG_SIZE on PPC hosts\n\nOn my PPC host, HOST_LONG_SIZE is not defined even after\nrunning configure. Use the normal C way of determining the\nlong size instead.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: malc <av1474@comtv.ru>",1,0.999664306640625,PPC,thunk.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7fb0bd3473dfb2bb1768072ebbfa5771e8c8af4a,d601fac478eee7391f3e7005a9321fbf38d74809,David Gibson,2012-04-25,"pseries: Use the same interrupt swizzling for host bridges as p2p bridges\n\nCurrently the pseries PCI code uses a somewhat strange scheme of PCI irq\nallocation - one per slot up to a maximum that's greater than the usual 4.\nThis scheme more or less worked, because we were able to tell the guest the\nirq mapping in the device tree, however it's a bit odd and may break\nassumptions in the future.  Worse, the array used to construct the dev\ntree interrupt map was mis-sized, we got away with it only because it\nhappened that our SPAPR_PCI_NUM_LSI value was greater than 7.\n\nThis patch changes the pseries PCI code to use the same interrupt swizzling\nscheme as is standardized for PCI to PCI bridges.  This makes for better\nconsistency, deals better with any devices which use multiple interrupt\npins and will make life easier in the future when we add passthrough of\nwhat may be either a host bridge or a PCI to PCI bridge.  This won't break\nexisting guests, because they don't assume a particular mapping scheme for\nhost bridges, but just follow what we tell them in the device tree (also\nupdated to match, of course).  This patch also fixes the allocation of the\nirq map.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.8801802396774292,PCI,"hw/spapr_pci.c, hw/spapr_pci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7e3efdac75caca0b283f8e76ad24c924b4718e7b,58a331bab950e9a12da8b17b57e11927893eaf5e,Alon Levy,2012-03-07,spice: require spice-protocol >= 0.8.1\n\nRequiring spice-server >= 0.8.2 is not enough since spice-server.pc\ndoesn't require spice-protocol (any version). Until that is fixed\nupstream an explicit requirement in qemu fixes compilation broken since\n\ncommit 2e1a98c9c1b90ca093278c6b43244dc46604d7b7\nAuthor: Alon Levy <alevy@redhat.com>\nDate:   Fri Feb 24 23:19:30 2012 +0200\n\n    qxl: introduce QXLCookie\n\nReported-by: Peter Maydell <peter.maydell@linaro.org>\n\nSigned-off-by: Alon Levy <alevy@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9995355606079102,QXL,configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,31e8fd86f24b4eec8a1708d712bf0532460bb0a5,12a08998fe4f749af3622385521829a5143e6ff1,Paolo Bonzini,2012-04-24,"scsi: fix refcounting for reads\n\nRecently introduced FUA support also gave us a use-after-free\nof the BlockAcctCookie within a SCSIDiskReq, due to unbalanced\nreference counting.\n\nThe patch fixes this by making scsi_do_read look like a combination\nof scsi_*_complete + scsi_*_data.  It does both a ref (like\nscsi_read_data) and an unref (like scsi_flush_complete).\n\nReported-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997255206108092,SCSI,hw/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,381b634c275ca1a2806e97392527bbfc01bcb333,a5ee9085627eaeb501db31e3758df4e18500be71,Ronnie Sahlberg,2012-04-28,"scsi: Specify the xfer direction for UNMAP and ATA_PASSTHROUGH commands\n\nscsi_cmd_xfer_mode() is used to specify the xfer direction for SCSI\ncommands that come in from the guest.  If the direction is set incorrectly\nthis will eventually cause QEMU to kernel-panic the guest.\n\nAdd UNMAP and ATAPASSTHROUGH as commands that send data to the device.\n\nWithout this change, recent kernels will send both UNMAP as well\nas ATAPASSTHROUGH commands to any /dev/sg* device, which due to the\nincorrect xfer direction very quickly causes the guest kernel to crash.\n\nExample causing a crash without the patch applied:\n\n./x86_64-softmmu/qemu-system-x86_64 -m 1024 -enable-kvm -cdrom linuxmint-12-gnome-dvd-64bit.iso -drive file=/dev/sg4,if=scsi,bus=0,unit=6\n\nSigned-off-by: Ronnie Sahlberg <ronniesahlberg@gmail.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9990242719650269,SCSI,hw/scsi-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f94e9b9b3535ea977c5a919f88adf36da95a8292,d044be3714db9c3750c430a2bb1be74beee6fd27,Hans de Goede,2012-05-07,"hw/ac97: Use AC97_Record_Gain_Mute not AC97_Line_In_Volume_Mute\n\nAfter commit 19677a380a70348134ed7650b294522617eb03fc:\n""hw/ac97: add support for volume control""\n\nWe are (correctly) using AC97_Record_Gain_Mute and not AC97_Line_In_Volume_Mute\nfor recording volume, but various places in hw/ac97 were still assumimg that\nwe are using AC97_Line_In_Volume_Mute for record volume control, this patch\nfixes this.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: malc <av1474@comtv.ru>",1,0.9376721382141112,AC97,hw/ac97.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bdc62e62ead1a6c2a113934bf28cb5abef48618d,847c25d01cbe8e4fe457a7426f82daaaf3287aae,Avi Kivity,2012-05-07,"rtl8139: fix regression in TxStatus/TxAddr read\n\nCommit afe0a595356192 added byte reads for TxStatus/TxAddr, but\nbroke 32-bit reads; the mask generation\n\n   (1 << (8 * size)) - 1\n\nis unspecified in C for size >= sizeof(int), and in fact returns 0\non x86.\n\nFix by using a larger type.\n\nFixes (at least) Fedora 9 i386 with -machine kernel_irqchip=on.  I\ndidn't see it with the qemu APIC implementation; may be due to timing\nor (more likely) a tester error.\n\nSigned-off-by: Avi Kivity <avi@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997316002845764,APIC,hw/rtl8139.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,17904bcfb760bdf6bd462e0396478893555d1edb,165ceac0950dcfdf7a2676d6189bbab3d67701f1,Stefan Weil,2012-05-03,"tci: Fix wrong macro name for debug code\n\nCode which is compiled with CONFIG_TCG_DEBUG (set by configure option\n--enable-debug-tcg) should not disable the assert macro by\ndefining NDEBUG.\n\nWith the wrong macro name CONFIG_TCG_DEBUG, all assertions in tci.c\nwere completely useless because NDEBUG was always defined.\n\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996067881584167,TCG,tci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c1696d94c17b7fe03a2b103b1ba117fb0726a316,c438b1970b6b751dd403a9ed6a7ef7e078ec2307,Andreas Frber,2012-05-09,"tcg/ppc: Do not overwrite lower address word on Darwin and AIX\n\nFor targets where TARGET_LONG_BITS != 32, i.e. 64-bit guests,\naddr_reg is moved to r4. For hosts without TCG_TARGET_CALL_ALIGN_ARGS\neither data_reg2 or data_reg or a masked version thereof would overwrite\nr4. Place it in r5 instead, matching TCG_TARGET_CALL_ALIGN_ARGS hosts.\n\nThis fixes immediate crashes of 64-bit guests observed on Darwin/ppc but\nnot on Darwin/ppc64.\n\nSigned-off-by: Andreas Frber <andreas.faerber@web.de>\nAcked-by: malc <av1474@comtv.ru>\nAcked-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9987562894821168,TCG,tcg/ppc/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1b3e76ebd1e270eae27e502ea8b836c31d95f801,a082615b0752e113e40537e7f820ffb4bbb15750,Andreas Frber,2012-05-09,"tcg/ppc: Fix CONFIG_TCG_PASS_AREG0 mode\n\nAdjust the tcg_out_qemu_{ld,st}() slow paths to pass AREG0 in r3,\nbased on patches by malc.\n\nAlso adjust the registers clobbered, based on patch by Alex.\n\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nAcked-by: Alexander Graf <agraf@suse.de>\n[AF: Do not hardcode r3 for AREG0, requested by Alex]\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9994015693664552,TCG,tcg/ppc/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ad37ad5b25592d2829989111b8386b8007ea0d83,7e598de023e4f3f612be7f16acea2ec5dac010ec,Peter Maydell,2012-05-10,"target-arm/cpu.h: Make cpu_init(""nonexistent cpu"") return NULL\n\nThe macro definition of cpu_init meant that if cpu_arm_init()\nreturned NULL this wouldn't result in cpu_init() itself returning\nNULL. This had the effect that ""-cpu foo"" for some unknown CPU\nname 'foo' would cause ARM targets to segfault rather than\ngenerating a useful error message. Fix this by making cpu_init\na simple inline function.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nAcked-by: Andreas Frber <afaerber@suse.de>",1,0.9997177720069884,ARM,target-arm/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7f1b17f2974ba0981e12615129e56b92ce31afa4,56eb21e15827fd0326c57dcab59771cb03ad9df6,Paolo Bonzini,2012-05-10,"vga: disable default VGA if appropriate -device is used\n\nThis is a partial revert of commits a369da5 (vga: improve VGA logic,\ncommitted 2012-01-22) and c5bd4f3 (vga: fix -nodefaults -device VGA,\n2012-01-24) which broke command-line option parsing in different ways.\n\nSince commit a369da5 it has become impossible to specify a VGA device\nentirely with QemuOpts-enabled options, i.e. without needing an explicit\n""-vga none"".\n\nIn addition, until commit c5bd4f3 -nodefaults would not disable the device\nyou specified with the legacy ""-vga"" option, independent of the order.\nSince commit c5bd4f3 QEMU -nodefaults will override a previous -vga\noption.\n\nI did not reintroduce machine->no_vga.  Boards can simply ignore the\nvga_interface_type variable, and most will indeed do so.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9546038508415222,VGA,vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,00b2ace50904068256239b0e2e5b680381aea262,22036a49dd618051d932177b5d93daee746e5609,Artyom Tarasenko,2012-05-12,fix block loads broken in commit 30038fd818\n\nFix UltraSPARC/JPS1/UA2007 VIS block load instructions broken in\n30038fd81808f7c3bca92be2369e74c8ca7b3d69.\n\nSigned-off-by: Artyom Tarasenko <atar4qemu@gmail.com>\n[blauwirbel@gmail.com: trimmed unwanted part of patch]\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9995927214622498,SPARC,target-sparc/ldst_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f4f7d01a3af6fccd2afd2abd624ab1720ee11855,c82e5848e21b7ef5d03310f50ef64ed7d006f5d9,Andreas Frber,2012-05-12,tcg/ppc64: Fix CONFIG_TCG_PASS_AREG0\n\nIn qemu_ld/st load the registers for the helper calls directly rather\nthan rotating them around afterwards for AREG0.\n\nAlso clobber the additional register.\n\nSigned-off-by: Andreas F?rber <afaerber@suse.de>\nSigned-off-by: malc <av1474@comtv.ru>,1,0.9997110962867736,TCG,tcg/ppc64/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d7f66b52dee3dd7423a28c0ceb600aec388859cb,77a8f1a5125457d845fac6aa0c2e1e2681d94f07,Richard Sandiford,2011-11-26,"mips: Fix BC1ANY[24]F instructions\n\nThere's some dodgy application of De Morgan's law in the emulation\nof the MIPS BC1ANY[24]F instructions: they end up branching only\nif all CCs are false, rather than if one CC is.\n\nTested on mips64-linux-gnu, where it fixes the GCC MIPS3D tests.\n\nSigned-off-by: Richard Sandiford <rdsandiford@googlemail.com>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9996360540390016,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f34e73cd69bdbdb9b1d56b288c5e14d6fff58165,80a2ba3d3cf33b777d6a45776b0625b9a4283951,Paolo Bonzini,2012-05-16,"virtio-blk: report non-zero status when failing SG_IO requests\n\nLinux really looks only at scsi->errors for SG_IO requests; it does\nnot look at the virtio request status at all.  Because of this, when\na SG_IO request is failed early with virtio_blk_req_complete(req,\nVIRTIO_BLK_S_UNSUPP), without writing hdr.status, it will look like\na success to the guest.\n\nThis is their bug, but we can make it safe for older guests now by\nforcing scsi->errors to have a non-zero value whenever a request\nhas to be failed.\n\nBut if we fix the bug in the guest driver, we will have another problem\nbecause QEMU returns VIRTIO_BLK_S_IOERR if the status is non-zero, and\nLinux translates that to -EIO.  Rather, the guest should succeed the\nrequest and pass the non-zero status via the userspace-provided SG_IO\nstructure.  So, remove the case where virtio_blk_handle_scsi can\nreturn VIRTIO_BLK_S_IOERR.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996813535690308,"VIRTIO, VIRTIO_BLK",hw/virtio-blk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a6c5c84ae25bc68f22725f77d6d77c98af5c4f9e,12c5674b846dccf1f80fb43b64606721e6f78976,Paolo Bonzini,2012-05-16,"virtio-blk: always enable VIRTIO_BLK_F_SCSI\n\nVIRTIO_BLK_F_SCSI is supposed to mean whether the host can *parse*\nSCSI requests, not *execute* them.  You could run QEMU with scsi=on\nand a file-backed disk, and QEMU would fail all SCSI requests even\nthough it advertises VIRTIO_BLK_F_SCSI.\n\nBecause we need to do this to fix a migration compatibility problem\nrelated to how QEMU is invoked by management, we must do this\nunconditionally even on older machine types.  This more or less assumes\nthat no one ever invoked QEMU with scsi=off.\n\nHere is how testing goes:\n\n- old QEMU, scsi=on -> new QEMU, scsi=on\n- new QEMU, scsi=on -> old QEMU, scsi=on\n- old QEMU, scsi=off -> new QEMU, scsi=on\n- new QEMU, scsi=off -> old QEMU, scsi=on\n        ok (new QEMU has VIRTIO_BLK_F_SCSI, adding host features is fine)\n\n- old QEMU, scsi=off -> new QEMU, scsi=off\n        ok (new QEMU has VIRTIO_BLK_F_SCSI, adding host features is fine)\n\n- old QEMU, scsi=on -> new QEMU, scsi=off\n        ok, bug fixed\n\n- new QEMU, scsi=on -> old QEMU, scsi=off\n        doesn't work (same as: old QEMU, scsi=on -> old QEMU, scsi=off)\n\n- new QEMU, scsi=off -> old QEMU, scsi=off\n        broken by the patch\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.999646544456482,"SCSI, VIRTIO, VIRTIO_BLK","hw/s390-virtio-bus.c, hw/virtio-blk.c, hw/virtio-blk.h, hw/virtio-pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f8687bab919672ccdfe29e366e60b5dd1b6ae71b,c48b0c80fca9858eb2f9343f1c0a04427f604941,Stefan Weil,2012-05-23,"es1370: Fix debug code\n\nWhen DEBUG_ES1370 is defined, the compiler shows these warnings:\n\nhw/es1370.c: In function ?es1370_update_voices?:\nhw/es1370.c:414: warning: format ?%d? expects type ?int?, but argument 3 has type ?size_t?\nhw/es1370.c: In function ?es1370_writel?:\nhw/es1370.c:582: warning: format ?%d? expects type ?int?, but argument 3 has type ?long int?\nhw/es1370.c:592: warning: format ?%d? expects type ?int?, but argument 3 has type ?long int?\nhw/es1370.c:609: warning: format ?%d? expects type ?int?, but argument 3 has type ?long int?\nhw/es1370.c: In function ?es1370_readl?:\nhw/es1370.c:751: warning: suggest braces around empty body in an ?if? statement\n\nFix the format strings and add the missing braces.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: malc <av1474@comtv.ru>",1,0.9997133612632751,ES1370,hw/es1370.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8294a64d7f9ecc428cd58ba36ad0b913084a8824,1c4ad9d2b4b5f2be08588a91e4193d13cc314282,Avi Kivity,2012-05-09,"vga: fix vram double-mapping with -vga std and -M pc-0.12\n\nWith pc-0.12, we map the video RAM both through the PCI BAR (the guest does\nthis) and through a fixed mapping at 0xe0000000.  The memory API doesn't allow\nthis double map, and aborts.\n\nFix by using an alias.\n\nReported-by: Michael Tokarev <mjt@tls.msk.ru>\nSigned-off-by: Avi Kivity <avi@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.99969220161438,PCI,"hw/vga.c, hw/vga_int.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a6de8ed80e1cf47d0f372e0856e6eeb6de9bbf0e,9c3a596a03cc10c2d9097f057b9ccb9d557a4d5f,Amos Kong,2012-05-20,"pci: call object_unparent() before free_qdev()\n\nStart VM with 8 multiple-function block devs, hot-removing\nthose block devs by 'device_del ...' would cause qemu abort.\n\n| (qemu) device_del virti0-0-0\n| (qemu) **\n|ERROR:qom/object.c:389:object_delete: assertion failed: (obj->ref == 0)\n\nIt's a regression introduced by commit 57c9fafe\n\nThe whole PCI slot should be removed once. Currently only one func\nis cleaned in pci_unplug_device(), if you try to remove a single\nfunc by monitor cmd.\n\nfree_qdev() are called for all functions in slot,\nbut unparent_delete() is only called for one\nfunction.\n\nSigned-off-by: XXXX\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996436834335328,PCI,"hw/acpi_piix4.c, hw/pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5f4ef08b20ece1b3711bcfb3751efb13986d17e5,43824588af2fa77f9586e16ef2f01d1990c6460e,Andreas Frber,2012-05-04,"omap: Use cpu_arm_init() to store ARMCPU in omap_mpu_state_s\n\nFix tab indentations of comments, add braces, use cpu_reset().\n\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nAcked-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996201992034912,ARM,"hw/nseries.c, hw/omap.h, hw/omap1.c, hw/omap2.c, hw/omap_sx1.c, hw/palm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d3d3bef0a03adfe73216d741d355bb12f6e52b33,8cc9b43f7c5f826b39af4b012ad89bb55faac29c,Jan Kiszka,2012-06-05,"kvm: Fix build for non-CAP_IRQ_ROUTING targets\n\nA type definition and a KVMState field initialization escaped the\nrequired wrapping with KVM_CAP_IRQ_ROUTING. Also, we need to provide a\ndummy kvm_irqchip_release_virq as virtio-pci references (but does not\nuse) it.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nAcked-by: Ben Collins <bcollins@ubuntu.com>\nTested-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Avi Kivity <avi@redhat.com>",1,0.9997040629386902,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7046530c36fa3a3f87692bdb54556f5d891a9c03,0f588df8b3688b00e77aabaa32e26ece5f19bd39,Gerd Hoffmann,2012-05-24,"ehci: fix reset\n\nCheck for the reset bit first when processing USBCMD register writes.\nAlso break out of the switch, there is no need to check the other bits.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997180104255676,USB,hw/usb/hcd-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,daf25307b4f8c5c13b3a15059fbf9df55823bb72,b53f685d63e1928c0cee669703a8b30f604e6a6e,Gerd Hoffmann,2012-05-24,"ehci: fix halt status handling\n\nWhen the enable bits for controller / async schedule / periodic schedule\nchange just make sure we kick the frame timer and let\nehci_advance_periodic_state and ehci_advance_async_state handle the\ncontroller state changes.\n\nThis will make ehci set USBSTS_HALT when the controller shutdown is\nactually done, once both schedules are in inactive state and the\nUSBSTS_PSS and USBSTS_ASS bits are clear.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996614456176758,USB,hw/usb/hcd-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0cdd3d14447da1a04e778c219c77db8b96f9cf33,0614cb82ca27bdffb83864e693fc29e29182667b,Jan Kiszka,2012-06-06,"kvm: i8254: Fix conversion of in-kernel to userspace state\n\nDue to a offset between the clock used to generate the in-kernel\ncount_load_time (CLOCK_MONOTONIC) and the clock used for processing this\nin userspace (vm_clock), reading back the output of PIT channel 2 via\nport 0x61 was broken. One use cases that suffered from it was the CPU\nfrequency calibration of SeaBIOS, which also affected IDE/AHCI timeouts.\n\nThis fixes it by calibrating the offset between both clocks on\nkvm_pit_get and adjusting the kernel value before saving it in the\nuserspace state. As the calibration only works while the vm_clock is\nrunning, we cache the in-kernel state across stopped phases.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Avi Kivity <avi@redhat.com>",1,0.9996861219406128,AHCI,hw/kvm/i8254.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,118f2c2b48b9758a3a2967868b337eb388d1531b,393a98924eb00df76231384b86652e1d5f964d67,Alex Williamson,2012-06-13,"msix: fix PCIDevice naming inconsistency\n\nmsix.h calls the PCIDevice * parameter ""dev"" almost everywhere except\nthe msix_write_config declaration. Fix the inconsistency.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997124075889589,PCI,hw/msix.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5f629d943cb0b11c37a891cf4f40a9166aee6f53,eb2aeacf983a2a88a2b31e8fee067c38bd10abd3,Alexander Graf,2012-05-18,"s390x: fix s390 virtio aliases\n\nSome of the virtio devices have the same frontend name, but actually\nimplement different devices behind the scenes through aliases.\n\nThe indicator which device type to use is the architecture. On s390, we\nwant s390 virtio devices. On everything else, we want PCI devices.\n\nReflect this in the alias selection code. This way we fix commands like\n-device virtio-blk on s390x which with this patch applied select the\ncorrect virtio-blk-s390 device rather than virtio-blk-pci.\n\nReported-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996306896209716,PCI,hw/qdev-monitor.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f7bfd8198ffad58a5095ac5d7a46288ea7f5c6e,0a530548a1007dd24a9ea3429af2c9dfae690386,Alon Levy,2012-05-24,qxl: stop dirty loging when not in vga mode\n\nTested with linux guest. Not sure how to check actual performance affect\nof this. Checked with the previously send traceevent that the kvm ioctl\nto start/stop dirty logging is being called.\n(KVM_SET_USER_MEMORY_REGION).\n\nSigned-off-by: Alon Levy <alevy@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.991320788860321,KVM,hw/qxl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,13d1fd44c46629aad672f192abbf02238c6cbf36,4a1e244eb65c646bdd938d9d137ace42d76c95a7,Alon Levy,2012-06-10,"qxl: add vgamem_size_mb and vgamem_size\n\nIn preperation for supporting a larger framebuffer for multiple monitors\non a single card, add a property to qxl vgamem_size_mb, and corresponding\nbyte sized vgamem_size, and use instead of VGA_RAM_SIZE.\n\n[ kraxel: simplify property handling, add sanity checks ]\n[ kraxel: fix mode copying ]\n\nSigned-off-by: Alon Levy <alevy@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9754346013069152,VGA,"hw/qxl.c, hw/qxl.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,affe5189907f397514cdd4ee7446595c1246a0e9,47ecbdf07ed2c37bdfd2d77137d01bb319ce13da,Alexander Graf,2012-06-24,"TCG: Fix compile breakage in tcg_dump_ops\n\nCommit eeacee4d865 changed the syntax of tcg_dump_ops, but didn't convert\nall users (notably missing the ppc ones) to it. Fix them to the new syntax.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: malc <av1474@comtv.ru>",1,0.9996126294136048,TCG,"tcg/ppc/tcg-target.c, tcg/ppc64/tcg-target.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e5f17ac633fa7ac7a0936846c505a3c2d2b5687c,ad71ed68117c2a740f82ab297581d7dd8fa21aef,Blue Swirl,2012-05-30,ppc: Avoid AREG0 for exception helpers\n\nAdd an explicit CPUPPCState parameter instead of relying on AREG0.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9797639846801758,PPC,"target-ppc/Makefile.objs, target-ppc/excp_helper.c, target-ppc/helper.h, target-ppc/op_helper.c, target-ppc/translate.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d15f74fb83fdaa80e8ef85001554d7fba0c1d0a3,64654ded79762878a6207ccb9b299c69e9a90acf,Blue Swirl,2012-05-30,ppc: Avoid AREG0 for integer and vector helpers\n\nAdd an explicit CPUPPCState parameter instead of relying on AREG0.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Andreas Frber <afaerber@suse.de>\n[fix unwanted whitespace line in Makefile.target]\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.999601185321808,PPC,"target-ppc/Makefile.objs, target-ppc/helper.h, target-ppc/int_helper.c, target-ppc/translate.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cba2026a410328216f26db276a6ecf0e55a06e17,ea6c0dac4bf161bb696ef0867d94b6223e9432c0,Alexander Graf,2012-05-19,"PPC: mpc8544ds: Span initial TLB entry over as much RAM as we need\n\nThe initial TLB entry is supposed to help us run the guest -kernel payload.\nThis means the guest needs to be able to access its own memory, the initrd\nmemory and the device tree.\n\nSo far we only statically reserved a TLB entry from [0;256M[. This patch\nfixes it to span from [0;dt_end[, allowing the guest payload to access\neverything initially.\n\nReported-by: Stuart Yoder <stuart.yoder@freescale.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999525785446167,PPC,hw/ppce500_mpc8544ds.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d86a77f8abb9ed4b598f86f6476ccb2dc0a433e6,8292f75ad2d65364387b09bb920dd65c8842a3a6,David Gibson,2012-06-27,"iommu: Add universal DMA helper functions\n\nNot that long ago, every device implementation using DMA directly\naccessed guest memory using cpu_physical_memory_*().  This meant that\nadding support for a guest visible IOMMU would require changing every\none of these devices to go through IOMMU translation.\n\nShortly before qemu 1.0, I made a start on fixing this by providing\nhelper functions for PCI DMA.  These are currently just stubs which\ncall the direct access functions, but mean that an IOMMU can be\nimplemented in one place, rather than for every PCI device.\n\nClearly, this doesn't help for non PCI devices, which could also be\nIOMMU translated on some platforms.  It is also problematic for the\ndevices which have both PCI and non-PCI version (e.g. OHCI, AHCI) - we\ncannot use the the pci_dma_*() functions, because they assume the\npresence of a PCIDevice, but we don't want to have to check between\npci_dma_*() and cpu_physical_memory_*() every time we do a DMA in the\ndevice code.\n\nThis patch makes the first step on addressing both these problems, by\nintroducing new (stub) dma helper functions which can be used for any\nDMA capable device.\n\nThese dma functions take a DMAContext *, a new (currently empty)\nvariable describing the DMA address space in which the operation is to\ntake place.  NULL indicates untranslated DMA directly into guest\nphysical address space.  The intention is that in future non-NULL\nvalues will given information about any necessary IOMMU translation.\n\nDMA using devices must obtain a DMAContext (or, potentially, contexts)\nfrom their bus or platform.  For now this patch just converts the PCI\nwrappers to be implemented in terms of the universal wrappers,\nconverting other drivers can take place over time.\n\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Eduard - Gabriel Munteanu <eduard.munteanu@linux360.ro>\nCc: Richard Henderson <rth@twiddle.net>\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9993584752082824,"AHCI, PCI","dma-helpers.c, dma.h, hw/pci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,335f560f9c7b63ede973d7b9712438f39ee2df61,619d7ae952bb61ec27ec21fe4a383a8d4dd4cd70,Christian Hoff,2012-06-14,scsi: Fix data length == SCSI_SENSE_BUF_SIZE\n\nFix the edge case where the sense data length is exactly the same\nas SCSI_SENSE_BUF_SIZE.\nThis makes SCSI requests work that use all of the available 95 byte\nsense data.\n\nSigned-off-by: Christian Hoff <christian.hoff@de.ibm.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996851682662964,SCSI,hw/scsi-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,15e58a21a8f48b6a00081587fa1fa23aa9159dfd,335f560f9c7b63ede973d7b9712438f39ee2df61,Christian Hoff,2012-06-14,scsi: Fix LOAD_UNLOAD\n\nChange operation code of LOAD_UNLOAD command to 0x1b as described in\nsection 7.3 of the SCSI Stream Commands spec.\n\nSigned-off-by: Christian Hoff <christian.hoff@de.ibm.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9312433004379272,SCSI,"hw/scsi-bus.c, hw/scsi-defs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9ce1bb2d36f24af79d2757497acbaf4dc4a2e302,40723a99b8c406143f27538846103f98942e4e24,Christian Hoff,2012-06-14,"scsi: Fix transfer length for READ POSITION commands.\n\nThe transfer length depends on the specific service action\ncode, as defined in the SCSI stream commands spec section 7.7.\nUp to now only the extended form was supported.\n\nSigned-off-by: Christian Hoff <christian.hoff@de.ibm.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996644258499146,SCSI,"hw/scsi-bus.c, hw/scsi-defs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2e2aafc0f6c0964b736d81cb7b13a2a1a3d8a564,71ea2e016131a9fcde6f1ffd3e0e34a64c21f593,Stanislav Vorobiov,2012-07-04,"ARM: hw/exynos4210_mct.c: Fix a bug which hangs Linux kernel.\n\nAfter some long period of time Linux kernel hanged due to\nptimer_get_count may return 0 before timer interrupt occurs,\nthus, causing FRC to jump back in time\n\nSigned-off-by: Evgeny Voevodin <e.voevodin@samsung.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997125267982484,ARM,hw/exynos4210_mct.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7892df069addf28304190935748e8d59982180bd,b631bc37d97344bb35f54d6af6a12df35a6764d8,Evgeny Voevodin,2012-07-04,hw/exynos4210.c: Fix misleading initialization of IROM mirror\n\nWe want to mirror whole IROM and should pass zero instead of\nEXYNOS4210_IROM_BASE_ADDR (though it equals to zero too) since\nmemory_region_init_alias takes an offset within an original\nregion as an argument.\n\nSigned-off-by: Evgeny Voevodin <e.voevodin@samsung.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9993101358413696,EXYNOS4,hw/exynos4210.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7341ea075c09258b98a1d0efc60efd402cbfc9b4,9bc3a3a216e2689bfcdd36c3e079333bbdbf3ba0,Hans de Goede,2012-07-06,"usb-ehci: Fix an assert whenever isoc transfers are used\n\nhcd-ehci.c is missing an usb_packet_init() call for the ipacket UsbPacket\nit uses for isoc transfers, triggering an assert (taking the entire vm down)\nin usb_packet_setup as soon as any isoc transfers are done by a high speed\nUSB device.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997075200080872,USB,hw/usb/hcd-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3db3659bf60094657e1465cc809acb09551816ee,a75b3e0f641a68b7cdd4bbe4ed1b60f963bf2b62,Jan Kiszka,2012-07-09,"apic: Resolve potential endless loop around apic_update_irq\n\nCommit d96e173769 refactored the reinjection of pending PIC interrupts.\nHowever, it missed the potential loop of apic_update_irq ->\napic_deliver_pic_intr -> apic_local_deliver -> apic_set_irq ->\napic_update_irq that /could/ occur if LINT0 is injected as APIC_DM_FIXED\nand that vector is currently blocked via TPR.\n\nResolve this by reinjecting only where it matters: inside\napic_get_interrupt. This function may clear a vector while a\nPIC-originated reason still exists.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Avi Kivity <avi@redhat.com>",1,0.999592125415802,APIC,hw/apic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5d62c43a17edaa7f6a88821c9086e6c8e0e5327d,a94820ddc36f8c452b37f9dcb323f55ffdbc75f9,Jan Kiszka,2012-07-09,"apic: Defer interrupt updates to VCPU thread\n\nKVM performs TPR raising asynchronously to QEMU, specifically outside\nQEMU's global lock. When an interrupt is injected into the APIC and TPR\nis checked to decide if this can be delivered, a stale TPR value may be\nused, causing spurious interrupts in the end.\n\nFix this by deferring apic_update_irq to the context of the target VCPU.\nWe introduce a new interrupt flag for this, CPU_INTERRUPT_POLL. When it\nis set, the VCPU calls apic_poll_irq before checking for further pending\ninterrupts. To avoid special-casing KVM, we also implement this logic\nfor TCG mode.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Avi Kivity <avi@redhat.com>",1,0.9995278120040894,"APIC, KVM, TCG","cpu-exec.c, hw/apic.c, hw/apic.h, hw/apic_internal.h, target-i386/cpu.h, target-i386/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ed336850e830711a3b940a1d311b5958f439f342,091fd17ce8ebdc2922d536e13d2bb96f8acc83f0,Peter Maydell,2012-07-12,"target-arm: Fix TCG temp handling in 64 bit cp writes\n\nFix errors in the TCG temp handling in the 64 bit coprocessor\nwrite path: we were reusing a 32 bit temp after it had been\nfreed by store_reg(), and failing to free a 64 bit temp.\n\nThis bug has no visible effect at this point because there\naren't any non-NOP 64 bit registers yet; it needs to be fixed\nas a prerequisite for the 64 bit registers in LPAE support.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997203946113586,TCG,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,636bd289398d203b2be5542279d24459767d6d4c,fabaaf1d1f3f793999257cb16b509e32dfc1de71,Peter Maydell,2012-06-25,"disas: Fix printing of addresses in disassembly\n\nIn our disassembly code, the bfd_vma type is always 64 bits,\neven if the target's virtual address width is only 32 bits. This\nmeans that when we print out addresses we need to truncate them\nto 32 bits, to avoid odd output which has incorrectly sign-extended\na value to 64 bits, for instance this ARM example:\n    0x80479a60:  e59f4088     ldr  r4, [pc, #136]  ; 0xffffffff80479a4f\n\n(It would also be possible to truncate before passing the address\nto info->print_address_func(), but truncating in the final print\nfunction is the same approach that binutils takes to this problem.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9994885921478271,ARM,disas.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0d4abda8f7328c8911c1d020bb6961650eaf7801,61dc008f3529fa74a63aad1907438dad857e255a,Peter Maydell,2012-07-20,hw/pl011.c: Avoid crash on read when no chr backend present\n\nAdd a missing guard that meant we would segfault if the guest read\nUARTDR on a PL011 serial device which had no chr backend connected.\n(This didn't happen for Linux guests because Linux reads the flags\nregister and doesn't try to read the UART if it's empty.)\n\nReported-by: Christian Mller <christian.mueller@heig-vd.ch>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9986491799354552,PL011,hw/pl011.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c4889f54237aec5195d42de2c87292d6e41dd704,61dc008f3529fa74a63aad1907438dad857e255a,Alexey Kardashevskiy,2012-07-18,"powerpc pci: fixed packing of ranges[]\n\nBy default mingw-gcc is trying to pack structures the way to\npreserve binary compatibility with MS Visual C what leads to\nincorrect and unexpected padding in the PCI bus ranges property of\nthe sPAPR PHB.\n\nThe patch replaces __attribute__((packed)) with more strict QEMU_PACKED\nwhich actually is __attribute__((gcc_struct, packed)) on Windows.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nTested-by: Stefan Weil <sw@weilnetz.de>\nReviewed-by: Stefan Weil <sw@weilnetz.de>\nAcked-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>",1,0.9993638396263124,PCI,hw/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2f0772c5b4818d4b2078be9dace0036d1030faee,e2b06058f7a0812729b95bcd4600238165323220,Paolo Bonzini,2012-07-02,"lsi: use qdev_reset_all\n\nBy first resetting the devices, lsi_soft_reset will find the queue\nalready cleared so there is no need to do that forcibly (which may also\nleak SCSIRequests, and/or worse due to dangling references to the\nlsi_request in the hba_private field).\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9859992861747742,SCSI,hw/lsi53c895a.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,96bdbbab55976b106f9db2b61042ebf5f0493e5a,96c91bbf6090b3098db22ed19ab5ae2f9c6e4f16,Ronnie Sahlberg,2012-07-12,"scsi-disk: rd/wr/vr-protect !=0 is an error\n\nThe QEMU SCSI emulation does not support protection information,\nso any READ/WRITE/VERIFY commands that has the protect bits set to\nnon-zero should fail with ILLEGAL_REQUEST/INVALID_FIELD_IN_CDB\n\nFrom SCSI SBC :\nIf the logical unit does not support protection information,\nthen the device server should terminate the command with CHECK CONDITION\nstatus with the sense key set to ILLEGAL REQUEST and the additional sense\ncode set to INVALID FIELD IN CDB.\n\nSigned-off-by: Ronnie Sahlberg <ronniesahlberg@gmail.com>\n[ Rebase after scsi_dma_reqops introduction - Paolo ]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996979236602784,SCSI,hw/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,350e6e419902991b073b313aa65b240d1024d57e,814589c450440da2fd7567aafaf6259bc8ea02f4,Cong Meng,2012-06-20,scsi: introduce hotplug() and hot_unplug() interfaces for SCSI bus\n\nAdd two interfaces hotplug() and hot_unplug() to scsi bus info.\nThe scsi bus can implement these two interfaces to signal the HBA driver\nof guest kernel to add/remove the scsi device in question.\n\nSigned-off-by: Sen Wang <senwang@linux.vnet.ibm.com>\nSigned-off-by: Cong Meng <mc@linux.vnet.ibm.com>\n[ Fixed braces and indentation - Paolo ]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9868480563163756,SCSI,"hw/scsi-bus.c, hw/scsi.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fb5b0c6d5cea2d05a5e4e81390a4b6c4c70c6668,0b22ef0f57a8910d849602bef0940edcd0553d2c,Stefano Stabellini,2012-08-01,"fix Xen compilation\n\nxen_pt_unregister_device is used as PCIUnregisterFunc, so it should\nmatch the type.\n\nSigned-off-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996459484100342,PCI,hw/xen_pt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,47fb65ce3e15762064dd6d93834e3ce923ef6f89,f6ccf1f45385c33ec0ea0463cdb0b1fba3bd7178,Stefano Stabellini,2012-08-01,"fix Xen compilation\n\nxen_pt_unregister_device is used as PCIUnregisterFunc, so it should\nmatch the type.\n\nSigned-off-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nTested-by: Andreas Frber <afaerber@suse.de>",1,0.9996575117111206,PCI,hw/xen_pt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,79fb50bb95ff85fe388a40e4884080f5a0c1bb21,18fc611b81d449827916f1cb27b3dbf0bcf364a8,Paolo Bonzini,2012-07-31,scsi-disk: fix compilation with DEBUG_SCSI\n\nReported-by: Gerhard Wiesinger <lists@wiesinger.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9997058510780334,SCSI,hw/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ee785fed5dd035d4b12142cacec6d3c344426dec,161abfb5f929184a68baa16701606015f5683722,Chegu Vinod,2012-07-16,"Fixes related to processing of qemu's -numa option\n\nThe -numa option to qemu is used to create [fake] numa nodes\nand expose them to the guest OS instance.\n\nThere are a couple of issues with the -numa option:\n\na) Max VCPU's that can be specified for a guest while using\n   the qemu's -numa option is 64. Due to a typecasting issue\n   when the number of VCPUs is > 32 the VCPUs don't show up\n   under the specified [fake] numa nodes.\n\nb) KVM currently has support for 160VCPUs per guest. The\n   qemu's -numa option has only support for upto 64VCPUs\n   per guest.\nThis patch addresses these two issues.\n\nBelow are examples of (a) and (b)\n\na) >32 VCPUs are specified with the -numa option:\n\n/usr/local/bin/qemu-system-x86_64 \\n-enable-kvm \\n71:01:01 \\n-net tap,ifname=tap0,script=no,downscript=no \\n-vnc :4\n\n...\nUpstream qemu :\n--------------\n\nQEMU 1.1.50 monitor - type 'help' for more information\n(qemu) info numa\n6 nodes\nnode 0 cpus: 0 1 2 3 4 5 6 7 8 9 32 33 34 35 36 37 38 39 40 41\nnode 0 size: 131072 MB\nnode 1 cpus: 10 11 12 13 14 15 16 17 18 19 42 43 44 45 46 47 48 49 50 51\nnode 1 size: 131072 MB\nnode 2 cpus: 20 21 22 23 24 25 26 27 28 29 52 53 54 55 56 57 58 59\nnode 2 size: 131072 MB\nnode 3 cpus: 30\nnode 3 size: 131072 MB\nnode 4 cpus:\nnode 4 size: 131072 MB\nnode 5 cpus: 31\nnode 5 size: 131072 MB\n\nWith the patch applied :\n-----------------------\n\nQEMU 1.1.50 monitor - type 'help' for more information\n(qemu) info numa\n6 nodes\nnode 0 cpus: 0 1 2 3 4 5 6 7 8 9\nnode 0 size: 131072 MB\nnode 1 cpus: 10 11 12 13 14 15 16 17 18 19\nnode 1 size: 131072 MB\nnode 2 cpus: 20 21 22 23 24 25 26 27 28 29\nnode 2 size: 131072 MB\nnode 3 cpus: 30 31 32 33 34 35 36 37 38 39\nnode 3 size: 131072 MB\nnode 4 cpus: 40 41 42 43 44 45 46 47 48 49\nnode 4 size: 131072 MB\nnode 5 cpus: 50 51 52 53 54 55 56 57 58 59\nnode 5 size: 131072 MB\n\nb) >64 VCPUs specified with -numa option:\n\n/usr/local/bin/qemu-system-x86_64 \\n-enable-kvm \\n-cpu Westmere,+rdtscp,+pdpe1gb,+dca,+pdcm,+xtpr,+tm2,+est,+smx,+vmx,+ds_cpl,+monitor,+dtes64,+pclmuldq,+pbe,+tm,+ht,+ss,+acpi,+d-vnc :4\n\n...\n\nUpstream qemu :\n--------------\n\nonly 63 CPUs in NUMA mode supported.\nonly 64 CPUs in NUMA mode supported.\nQEMU 1.1.50 monitor - type 'help' for more information\n(qemu) info numa\n8 nodes\nnode 0 cpus: 6 7 8 9 38 39 40 41 70 71 72 73\nnode 0 size: 65536 MB\nnode 1 cpus: 10 11 12 13 14 15 16 17 18 19 42 43 44 45 46 47 48 49 50 51 74 75 76 77 78 79\nnode 1 size: 65536 MB\nnode 2 cpus: 20 21 22 23 24 25 26 27 28 29 52 53 54 55 56 57 58 59 60 61\nnode 2 size: 65536 MB\nnode 3 cpus: 30 62\nnode 3 size: 65536 MB\nnode 4 cpus:\nnode 4 size: 65536 MB\nnode 5 cpus:\nnode 5 size: 65536 MB\nnode 6 cpus: 31 63\nnode 6 size: 65536 MB\nnode 7 cpus: 0 1 2 3 4 5 32 33 34 35 36 37 64 65 66 67 68 69\nnode 7 size: 65536 MB\n\nWith the patch applied :\n-----------------------\n\nQEMU 1.1.50 monitor - type 'help' for more information\n(qemu) info numa\n8 nodes\nnode 0 cpus: 0 1 2 3 4 5 6 7 8 9\nnode 0 size: 65536 MB\nnode 1 cpus: 10 11 12 13 14 15 16 17 18 19\nnode 1 size: 65536 MB\nnode 2 cpus: 20 21 22 23 24 25 26 27 28 29\nnode 2 size: 65536 MB\nnode 3 cpus: 30 31 32 33 34 35 36 37 38 39\nnode 3 size: 65536 MB\nnode 4 cpus: 40 41 42 43 44 45 46 47 48 49\nnode 4 size: 65536 MB\nnode 5 cpus: 50 51 52 53 54 55 56 57 58 59\nnode 5 size: 65536 MB\nnode 6 cpus: 60 61 62 63 64 65 66 67 68 69\nnode 6 size: 65536 MB\nnode 7 cpus: 70 71 72 73 74 75 76 77 78 79\n\nSigned-off-by: Chegu Vinod <chegu_vinod@hp.com>, Jim Hull <jim.hull@hp.com>, Craig Hada <craig.hada@hp.com>\nTested-by: Eduardo Habkost <ehabkost@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997439980506896,KVM,"cpus.c, hw/pc.c, sysemu.h, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,acfbe712df86e20634b7860be91e16ae9aa39cd0,cea936b1b5c741c0456f9ccb90be54b5e4b589e5,Blue Swirl,2012-07-30,"sparc: fix floppy TC line setup\n\nThe qemu_irq for Terminal Count (TC) line between FDC and Slavio misc\ndevice was created only after use, spotted by Clang compiler. Also,\nit was not created if the FDC didn't exist.\n\nRearrange code to fix order. Always create the TC line.\n\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997164607048036,FDC,hw/sun4m.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f32cf6abcea8006fbf1f9c9bc8bc5bedcf6e431,13f59ae8157e8ec238fa8aefe5309909a1eeb7e2,Luiz Capitulino,2012-07-27,"qerror: add proper ErrorClass value for QERR_ macros\n\nThis commit replaces the place holder value for the ErrorClass\nargument with a proper ErrorClass value for all QERR_ macros.\n\nAll current errors are mapped to GenericError, except for errors\nCommandNotFound, DeviceEncrypted, DeviceNotActive, DeviceNotFound,\nKVMMissingCap and MigrationExpected, which are maintained as they\nare today.\n\nSigned-off-by: Luiz Capitulino <lcapitulino@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>",1,0.9987286925315856,KVM,qerror.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3a1363acf9648bc26989b01b87c7c3c494df2138,806d102141b99d4f1e55a97d68b7ea8c8ba3129f,Alexander Graf,2012-05-29,"linux-user: ARM: Ignore immediate value for svc in thumb mode\n\nWhen running in thumb mode, Linux doesn't evaluate the immediate value\nof the svc instruction, but instead just always assumes the syscall number\nto be in r7.\n\nThis fixes executing go_bootstrap while building go for me.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999032974243164,ARM,linux-user/main.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,205df4d1a87cbb14a50655fb2c0a987467fb29d6,873359d411eeb380906761e46839a2b705dbcf75,Jan Kiszka,2012-08-14,"kvm: i8254: Cache kernel clock offset in KVMPITState\n\nTo prepare the final fix for clock calibration issues with the in-kernel\nPIT, we want to cache the offset between vmclock and the clock used by\nthe in-kernel PIT. So far, we only need to update it when the VM state\nchanges between running and stopped because we only read the in-kernel\nPIT state while the VM is running.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>",1,0.9996658563613892,KVM,hw/kvm/i8254.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9abf567d95a4e840df868ca993219175fbef8c22,03834e22abafbc8dc4052d46a5ccd6dd135a54a3,Christian Borntraeger,2012-07-23,"s390: Fix error handling and condition code of service call\n\nInvalid sccb addresses will cause specification or addressing exception.\nLets add those checks. Furthermore, the good case (cc=0) was incorrect\nfor KVM, we did not set the CC at all. We now use return codes < 0\nas program checks and return codes > 0 as condition code values.\n\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997135996818542,KVM,"target-s390x/kvm.c, target-s390x/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,78e8fde26c032931ca2ae13bfc7c59e38afd17ee,4d5c29ca455ed6adb1fb9f8394e4d7badfd0c532,David Gibson,2012-08-06,"ppc: Fix bug in handling of PAPR hypercall exits\n\nCurrently for powerpc, kvm_arch_handle_exit() always returns 1, meaning\nthat its caller - kvm_cpu_exec() - will always exit immediately afterwards\nto the loop in qemu_kvm_cpu_thread_fn().\n\nThere's no need to do this.  Once we've handled the hypercall there's no\nreason we can't go straight around and KVM_RUN again, which is what ret = 0\nwill signal.  The only exception might be for hypercalls which affect the\nstate of cpu_can_run(), however the only one that might do this is H_CEDE\nand for kvm that is always handled in the kernel, not qemu.\n\nFurtherm setting ret = 0 means that when exit_requested is set from a\nhypercall, we will enter KVM_RUN once more with a signal which lets the\nthe kernel do its internal logic to complete the hypercall with out\nactually executing any more guest code.  This is important if our hypercall\nalso triggered a reset, which previously would re-initialize everything\nwithout completing the hypercall.  This caused the kernel to get confused\nbecause it thought the guest was still in the middle of a hypercall when\nit has actually been reset.\n\nThis patch therefore changes to ret = 0, which is both a bugfix and a small\noptimization.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997382760047911,KVM,target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,03332579b81ef7f2b0fcb41e45f7764a5bfc1ea4,3fc5acdeedfcea7c7d86040fa427ae785920b399,Benjamin Herrenschmidt,2012-07-30,"pseries: Update SLOF\n\nThis patch updates the SLOF version, introducing a number of fixes:\n * add proper graphics support\n * fix bugs with graphical terminal under grub2\n * fix bugs in handling of 64-bit unit addresses\n * fix VSCSI representation to be closer to PowerVM\n * fix bugs which caused grub2 to crash\n\nSigned-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9994015693664552,SCSI,"pc-bios/README, pc-bios/slof.bin, roms/SLOF",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a307d59434ba78b97544b42b8cfd24a1b62e39a6,c9f709d2e7d9dcc6e6ecbee8d499b4b14b11320b,Alexey Kardashevskiy,2012-08-07,"pseries: Rework irq assignment to avoid carrying qemu_irqs around\n\nCurrently, the interfaces in the pseries machine code for assignment\nand setup of interrupts pass around qemu_irq objects.  That was done\nin an attempt not to be too closely linked to the specific XICS\ninterrupt controller.  However interactions with the device tree setup\nmade that attempt rather futile, and XICS is part of the PAPR spec\nanyway, so this really just meant we had to carry both the qemu_irq\npointers and the XICS irq numbers around.\n\nThis mess will just get worse when we add upcoming PCI MSI support,\nsince that will require tracking a bunch more interrupt.  Therefore,\nthis patch reworks the spapr code to just use XICS irq numbers\n(roughly equivalent to GSIs on x86) and only retrieve the qemu_irq\npointers from the XICS code when we need them (a trivial lookup).\n\nThis is a reworked and generalized version of an earlier spapr_pci\nspecific patch from Alexey Kardashevskiy.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\n[agraf: fix checkpath warning]\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.8866935968399048,"PCI, XICS","hw/spapr.c, hw/spapr.h, hw/spapr_llan.c, hw/spapr_pci.c, hw/spapr_pci.h, hw/spapr_vio.c, hw/spapr_vio.h, hw/spapr_vty.c, hw/xics.c, hw/xics.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,47d073cc3b8ad4a3ef1dba7055b35a87fa4091ff,6d3b6d3d2deaf682def95e3e512ad0e17f02274f,Hans de Goede,2012-08-15,"ehci: Fix setting of halt bit from usbcmd register updates\n\nThis fixes linux guests started without any USB devices not seeing newly\nplugged devices until ""lsusb"" is done inside the guest.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996905326843262,USB,hw/usb/hcd-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1bd075f29ea6d11853475c7c42734595720c3ac6,cfb3f5064af2d2e29c976e292c9472dfe9d61e31,Paolo Bonzini,2012-08-18,"iscsi: fix races between task completion and abort\n\nThis patch fixes two main issues with block/iscsi.c:\n\n1) iscsi_task_mgmt_abort_task_async calls iscsi_scsi_task_cancel which\nwas also directly called in iscsi_aio_cancel\n\n2) a race between task completion and task abortion could happen cause\nthe scsi_free_scsi_task were done before iscsi_schedule_bh has finished.\nTo fix this, all the freeing of IscsiTasks and releasing of the AIOCBs\nis centralized in iscsi_bh_cb, independent of whether the SCSI command\nhas completed or was cancelled.\n\n3) iscsi_aio_cancel was not synchronously waiting for the end of the\ncommand.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997461438179016,SCSI,block/iscsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b44ff9d430c5f2b51872f542d9562a15f0061a82,57fd7b7fce9098cdac58a8442033cb91412400b9,Andreas Frber,2012-08-20,"pci_host: Turn into SysBus-derived QOM type\n\nThe preceding commits fixed misuses of FROM_SYSBUS() that led people to\nadd a bogus busdev field. For qdev the field order was less relevant but\nfor QOM the PCIHostState field (including the SysBusDevice actually\ninitialized with a value) must be placed first within the state struct.\n\nTo facilitate accessing the PCIHostState fields, derive all PCI host\nbridges from TYPE_PCI_HOST_BRIDGE rather than TYPE_SYS_BUS_DEVICE.\n\nWe can now access PCIHostState QOM-style, with PCI_HOST_BRIDGE() macro.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\nSigned-off-by: Wanpeng Li <liwanp@linux.vnet.ibm.com>\nSigned-off-by: Andreas Frber <andreas.faerber@web.de>\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9992002844810486,PCI,"hw/pci_host.c, hw/pci_host.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,98609cd8fcf755c0ba7049d751353b8b2e243b65,da5a44e8b0b727681fc33e8d94832d1cae48a788,Paolo Bonzini,2012-08-22,"ivshmem: fix memory_region_del_eventfd assertion failure\n\nWe do not register ioeventfds unless the IVSHMEM_IOEVENTFD feature\nis set.  The same feature must be checked before releasing the eventfds.\nRegression introduced by commit 563027c (ivshmem: use EventNotifier and\nmemory API, 2012-07-05).\n\nReported-by: Cam Macdonnell <cam@cs.ualberta.ca>\nTested-by: Cam Macdonnell <cam@cs.ualberta.ca>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996844530105592,IVSHMEM,hw/ivshmem.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9716ef3b1b48ebbb4b6515fb4685a5db96ce41d9,f278d4947fff814dcde2ef2acad36d172ff8be35,Peter Maydell,2012-08-26,"tcg/arm: Fix broken CONFIG_TCG_PASS_AREG0 code\n\nThe CONFIG_TCG_PASS_AREG0 code for calling ld/st helpers was\nbroken in that it did not respect the ABI requirement that 64\nbit values were passed in even-odd register pairs. The simplest\nway to fix this is to implement some new utility functions\nfor marshalling function arguments into the correct registers\nand stack, so that the code which sets up the address and\ndata arguments does not need to care whether there has been\na preceding env argument.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9997319579124452,TCG,tcg/arm/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,18fec301cd2a38f72a5eeba2656a0c5b4fa69fb7,ce6760404851f410d63519084329d54dc216ff93,Aurelien Jarno,2012-08-27,"tcg/mips: fix broken CONFIG_TCG_PASS_AREG0 code\n\nThe CONFIG_TCG_PASS_AREG0 code for calling ld/st helpers was\nbroken in that it did not respect the ABI requirement that 64\nbit values were passed in even-odd register pairs. The simplest\nway to fix this is to implement some new utility functions\nfor marshalling function arguments into the correct registers\nand stack, so that the code which sets up the address and\ndata arguments does not need to care whether there has been\na preceding env argument.\n\nBased on commit 9716ef3b for ARM by Peter Maydell.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997366070747375,"ARM, TCG",tcg/mips/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ef8621b1a3b199c348606c0a11a77d8e8bf135f1,4d09d37c6aa9a02b44b1fdb6268820fab92499bd,Anthony Liguori,2012-08-29,"target-i386: disable pv eoi to fix migration across QEMU versions\n\nWe have a problem with how we handle migration with KVM paravirt features.\nWe unconditionally enable paravirt features regardless of whether we know how\nto migrate them.\n\nWe also don't tie paravirt features to specific machine types so an old QEMU on\na new kernel would expose features that never existed.\n\nThe 1.2 cycle is over and as things stand, migration is broken.  Michael has\nanother series that adds support for migrating PV EOI and attempts to make it\nwork correctly for different machine types.\n\nAfter speaking with Michael on IRC, we agreed to take this patch plus 1 & 4\nfrom his series.  This makes sure QEMU can migrate PV EOI if it's enabled, but\ndoes not enable it by default.\n\nThis also means that we won't unconditionally enable new features for guests\nfuture proofing us from this happening again in the future.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9979941844940186,KVM,target-i386/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0132b4b6595423c92f54d7e0b172b5d73aaa8375,da9fbe76a0639c529f9678aabcc052dfe4cd9cc4,Hans de Goede,2012-08-17,"usb: Halt ep queue en cancel pending packets on a packet error\n\nFor controllers which queue up more then 1 packet at a time, we must halt the\nep queue, and inside the controller code cancel all pending packets on an\nerror.\n\nThere are multiple reasons for this:\n1) Guests expect the controllers to halt ep queues on error, so that they\nget the opportunity to cancel transfers which the scheduled after the failing\none, before processing continues\n\n2) Not cancelling queued up packets after a failed transfer also messes up\nthe controller state machine, in the case of EHCI causing the following\nassert to trigger: ""assert(p->qtdaddr == q->qtdaddr)"" at hcd-ehci.c:2075\n\n3) For bulk endpoints with pipelining enabled (redirection to a real USB\ndevice), we must cancel all the transfers after this a failed one so that:\na) If they've completed already, they are not processed further causing more\n   stalls to be reported, originating from the same failed transfer\nb) If still in flight, they are cancelled before the guest does\n   a clear stall, otherwise the guest and device can loose sync!\n\nNote this patch only touches the ehci and uhci controller changes, since AFAIK\nno other controllers actually queue up multiple transfer. If I'm wrong on this\nother controllers need to be updated too!\n\nAlso note that this patch was heavily tested with the ehci code, where I had\na reproducer for a device causing a transfer to fail. The uhci code is not\ntested with actually failing transfers and could do with a thorough review!\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996968507766724,USB,"hw/usb.h, hw/usb/core.c, hw/usb/hcd-ehci.c, hw/usb/hcd-uhci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7ce86aa1aafaa65e7d3e572873bdf37bdb896f49,e983395d30d1d5bfa0ed3ae9c028c130f7c498cc,Hans de Goede,2012-08-28,ehci: Fix NULL ptr deref when unplugging an USB dev with an iso stream active\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>,1,0.9996483325958252,USB,hw/usb/hcd-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1de53459272d89c52bb21b45d5d970de40fbb642,692e587fc61fd32d755234d187b4f082e28c3993,Jason Baron,2012-08-08,"pcie: drop version_id field for live migration\n\nWhile testing q35 live migration, I found that the migration would abort with\nthe following error: ""Unknown savevm section type 76"".\n\nThe error is due to this check failing in 'vmstate_load_state()':\n\n    while(field->name) {\n        if ((field->field_exists &&\n             field->field_exists(opaque, version_id)) ||\n            (!field->field_exists &&\n             field->version_id <= version_id)) {\n\nThe VMSTATE_PCIE_DEVICE() currently has a 'version_id' set to 2. However,\n'version_id' in the above check is 1. And thus we fail to load the pcie device\nfield. Further the code returns to 'qemu_loadvm_state()' which produces the\nerror that I saw.\n\nI'm proposing to fix this by simply dropping the 'version_id' field from\nVMSTATE_PCIE_DEVICE(). VMSTATE_PCI_DEVICE() defines no such field and further\nthe vmstate_pcie_device that VMSTATE_PCI_DEVICE() refers to is already\nversioned. Thus, any versioning issues could be detected at the vmsd level.\n\nTaking a step back, I think that the 'field->version_id' should be compared\nagainst a saved version number for the field not the 'version_id'. Futhermore,\nonce vmstate_load_state() is called recursively on another vmsd, the check of:\n\n    if (version_id > vmsd->version_id) {\n        return -EINVAL;\n    }\n\nWill never fail since version_id is always equal to vmsd->version_id. So I'm\nwondering why we aren't storing the vmsd version id of the source in the\nmigration stream?\n\nThis patch also renames the 'name' field of vmstate_pcie_device from:\nPCIDevice -> PCIEDevice to differentiate it from vmstate_pci_device.\n\nSigned-off-by: Jason Baron <jbaron@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995773434638976,PCI,"hw/pci.c, hw/pcie.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,03e6e5017757645f00b2f3b4f3a257973985e455,449bc90e1f2e2fbafb64eb0c76d16c9352b0d2df,Maciej W. Rozycki,2012-06-08,"MIPS/user: Fix reset CPU state initialization\n\n This change updates the CPU reset sequence to use a common piece of code\nthat figures out CPU state flags, fixing the problem with MIPS_HFLAG_COP1X\nnot being set where applicable that causes floating-point MADD family\ninstructions (and other instructions from the MIPS IV FP subset) to trap.\n\n As compute_hflags is now shared between op_helper.c and translate.c, the\nfunction is now moved to a common header.  There are no changes to this\nfunction.\n\n The problem was seen with the 24Kf MIPS32r2 processor in user emulation.\nThe new approach prevents system and user emulation from diverging -- all\nthe hflags state is initialized in one place now.\n\nSigned-off-by: Maciej W. Rozycki <macro@codesourcery.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9993459582328796,MIPS,"target-mips/cpu.h, target-mips/op_helper.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0c267217ca9985e6d118ec8368bebd382db7a099,ce6c760c37b9a88db87c5b9b9bf39ca866e570f6,Jan Kiszka,2012-09-08,musicpal: Fix flash mapping\n\nThe old arithmetic assumed 32 physical address bits which is no longer\ntrue for ARM since 3cc0cd61f4.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@web.de>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.999616265296936,ARM,hw/musicpal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6845df48cec9cc6833429942b3ceed333a791119,19b0516fb4fd22b08c6ee42ea4162aaf3b9c8ee1,Aurelien Jarno,2012-09-08,"tcg/s390: fix ld/st with CONFIG_TCG_PASS_AREG0\n\nThe load/store slow path has been broken in e141ab52d:\n- We need to move 4 registers for store functions and 3 registers for\n  load functions and not the reverse.\n- According to the s390x calling convention the arguments of a function\n  should be zero extended. This means that the register shift should be\n  done with TCG_TYPE_I64 to ensure the higher word is correctly zero\n  extended when needed.\n\nI am aware that CONFIG_TCG_PASS_AREG0 is being removed and thus that\nthis patch can be improved, but doing so means it can also be applied to\nthe 1.1 and 1.2 stable branches.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997240900993348,TCG,tcg/s390/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,181133404f520fab40a3ad40d935d91cf3cf546c,cf1f81691d1998fa8fe5bfcb8b498fb3723cf3c3,Hans de Goede,2012-08-17,"usb-redir: Never return USB_RET_NAK for async handled packets\n\nUSB_RET_NAK is not a valid response for async handled packets (and will\ntrigger an assert as such).\n\nAlso drop the warning when receiving a status of cancelled for packets not\ncancelled by qemu itself, this can happen when a device gets unredirected\nby the usbredir-host while transfers are pending.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9908658862113952,USB,hw/usb/redirect.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2bbd086c41a00dc4384727ec895a94890c688eb5,2964cd9bfa5100e433471d3e3fedcc9d62891894,Gerd Hoffmann,2012-08-28,"usb-audio: fix usb version\n\nusb-audio is a full speed (1.1) device,\nbut bcdUSB claims it is usb 2.0.  Fix it.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996893405914308,USB,hw/usb/dev-audio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2a4f4f34e6fe55f4c82507c3e7ec9b58c2e24ad4,9ca111544c64b5abed2e79cf52e19a8f227b347b,Jason Baron,2012-09-04,"ahci: properly reset PxCMD on HBA reset\n\nWhile testing q35, I found that windows 7 (specifically, windows 7 ultimate\nwith sp1 x64), wouldn't install because it can't find the cdrom or disk drive.\nThe failure message is: 'A required cd/dvd device driver is missing. If you\nhave a driver floppy disk, CD, DVD, or USB flash drive, please insert it now.'\nThis can also be reproduced on piix by adding an ahci controller, and\nobserving that windows 7 does not see any devices behind it.\n\nThe problem is that when windows issues a HBA reset, qemu does not reset the\nindividual ports' PxCMD register. Windows 7 then reads back the PxCMD register\nand presumably assumes that the ahci controller has already been initialized.\nWindows then never sets up the PxIE register to enable interrupts, and thus it\nnever gets irqs back when it sends ata device inquiry commands.\n\nThis change brings qemu into ahci 1.3 specification compliance.\n\nSection 10.4.3 HBA Reset:\n\n""\nWhen GHC.HR is set to '1', GHC.AE, GHC.IE, the IS register, and all port\nregister fields (except PxFB/PxFBU/PxCLB/PxCLBU) that are not HwInit in the\nHBA's register memory space are reset.\n""\n\nI've also re-tested Fedora 16 and 17 to verify that they continue to work with\nthis change.\n\nSigned-off-by: Jason Baron <jbaron@redhat.com>\nAcked-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.996608018875122,USB,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,72a04d0c178f01908d74539230d9de64ffc6da19,35efba2cc6812dc980c336d7b9bf81dbfb5daf00,Hans de Goede,2012-09-12,"uhci: Don't queue up packets after one with the SPD flag set\n\nDon't queue up packets after a packet with the SPD (short packet detect)\nflag set. Since we won't know if the packet will actually be short until it\nhas completed, and if it is short we should stop the queue.\n\nThis fixes a miniature photoframe emulating a USB cdrom with the windows\nsoftware for it not working.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997126460075378,USB,hw/usb/hcd-uhci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,52a8e968a325f5dbbdceba06aaad2ac94f30da37,aade7b91d5afce84b1328f0dbbc77452bde00d1f,Stefan Weil,2012-08-16,"Spelling fixes in comments and macro names (ressource -> resource)\n\nMacro XEN_HOST_PCI_RESOURCE_BUFFER_SIZE is only used locally,\nso the change should be safe.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>",1,0.7980253100395203,"PCI, XEN",hw/xen-host-pci-device.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,190563f9a90c9df8ad32fc7f3e4b166deda949a6,f237ddbb89142c6948a2257c459e49dee7500a7c,Stefan Hajnoczi,2012-08-24,net: fix usbnet_receive() packet drops\n\nThe USB network interface has a single buffer which the guest reads\nfrom.  This patch prevents multiple calls to usbnet_receive() from\nclobbering the input buffer.  Instead we queue packets until buffer\nspace becomes available again.\n\nThis is inspired by virtio-net and e1000 rxbuf handling.\n\nSigned-off-by: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>,1,0.9997007846832277,USB,hw/usb/dev-network.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d104bebd073cc05a1a572529a060857a377be6aa,332864bd95257111bf457e3f0501114028c107d6,Aurelien Jarno,2012-09-10,"revert ""TCG: fix copy propagation""\n\nGiven the copy propagation breakage on 32-bit hosts has been fixed\ncommit e31b0a7c050711884ad570fe73df806520953618 can be reverted.\n\nCc: Blue Swirl <blauwirbel@gmail.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9908623695373536,TCG,"tcg/optimize.c, tcg/tcg.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9fa7748873c99cbf8b281650bdc18fd442be4743,e1050a7637d24d9f49e739cbe6d6d657359603db,Richard Henderson,2012-09-18,target-mips: Fix MIPS_DEBUG.\n\nThe macro uses the DisasContext.  Pass it around as needed.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nAcked-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9996405839920044,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a25506603914d706f4ac4c63d3b93b4f1227b9b4,bd277fa1966bc400f1b411f868f39125cda0c403,Aurelien Jarno,2012-09-19,"tcg/optimize: fix end of basic block detection\n\nCommit e31b0a7c050711884ad570fe73df806520953618 fixed copy propagation on\n32-bit host by restricting the copy between different types. This was the\nwrong fix.\n\nThe real problem is that the all temps states should be reset at the end\nof a basic block. This was done by adding such operations in the switch,\nbut brcond2 was forgotten (that's why the crash was only observed on 32-bit\nhosts).\n\nFix that by looking at the TCG_OPF_BB_END instead. We need to keep the case\nfor op_set_label as temps might be modified through another path.\n\nCc: Blue Swirl <blauwirbel@gmail.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997408986091614,TCG,tcg/optimize.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1012740098d0307ce5d957ebbe9a7f020da7f574,ed22e6f30e7f8c723f9b1be30869b9c0368e3e4e,Aurelien Jarno,2012-09-16,"target-sh4: rework exceptions handling\n\nSince commit fd4bab102 PC is restored in case of exception through code\nretranslation. While it is clearly the thing to do in case it is not\nnot known if an helper is going to trigger an exception or not\n(e.g. for load/store, FPU, etc.), it just make things slower when the\nexception is already known at translation time.\n\nPartially revert this commit and save PC in the TCG code. Set bstate to\nBS_BRANCH to not generate TCG exit code. Micro-optimize the sleep\nhelper. Make all the exception helpers to call raise_exception and mark\nit as noreturn.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9974557757377625,TCG,"target-sh4/helper.h, target-sh4/op_helper.c, target-sh4/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eca5c303339016c8640567f2e5a31ef1d6487df9,5d8f53630011f93dc774f1b2dc9557c7eac3ad89,Aurelien Jarno,2012-09-16,"gdbstub/sh4: fix build with USE_SOFTFLOAT_STRUCT_TYPES\n\nWe have to use different type to access float values when\nUSE_SOFTFLOAT_STRUCT_TYPES is defined.\n\nRework SH4 version of cpu_gdb_{read,write}_register() using\na single case, and fixing the coding style. Use ldll_p() and\nstfl_p() to access float values.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9992478489875792,SH4,gdbstub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fe7e1d3ec4410d91a1a687ff4a9288870aefac40,eca5c303339016c8640567f2e5a31ef1d6487df9,Richard Henderson,2012-09-17,"tcg: Fix !USE_DIRECT_JUMP\n\nCommit 6375e09e changed the type of TranslationBlock.tb_next,\nbut failed to change the type of TCGContext.tb_next.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nReviewed-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996832609176636,TCG,tcg/tcg.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e55f523d7977480462151d8abb0ebb4b1747eabf,c08d9ee38d240ef45496620cbfe8e1b5ed81accb,Richard Henderson,2012-09-18,tcg-hppa: Fix broken load/store helpers\n\nThe CONFIG_TCG_PASS_AREG0 code for calling ld/st helpers\nwas not respecting the ABI requirement for 64-bit values\nbeing aligned in registers.\n\nMirror the ARM port in use of helper functions to marshal\narguments into the correct registers.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9996792078018188,"ARM, TCG",tcg/hppa/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1b7621ad99d352629c096cba40eadc6fb2b0c294,9bacf4143190ca57771c8db5981d040f9c625ae5,Stefan Weil,2012-09-13,"w64: Fix TCG helper functions with 5 arguments\n\nTCG uses 6 registers for function arguments on 64 bit Linux hosts,\nbut only 4 registers on W64 hosts.\n\nCommit 2999a0b20074a7e4a58f56572bb1436749368f59 increased the number\nof arguments for some important helper functions from 4 to 5\nwhich triggered a bug for W64 hosts: QEMU aborts when executing\nhelper_lcall_real in the guest's BIOS because function\ntcg_target_get_call_iarg_regs_count always returned 6.\n\nAs W64 has only 4 registers for arguments, the 5th argument must be\npassed on the stack using a correct stack offset.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996883869171144,TCG,"tcg/i386/tcg-target.c, tcg/i386/tcg-target.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8f06bf693dec29642255adcc2828bc6b7daa83d9,d3e8f95753114a827f9cd8e819b1d5cc8333f76b,Aurelien Jarno,2012-09-22,tcg/mips: fix MIPS32(R2) detection\n\nFix the MIPS32(R2) cpu detection so that it also works with\n-march=octeon. Thanks to Andrew Pinski for the hint.\n\nCc: Andrew Pinski <apinski@cavium.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9996768236160278,MIPS,"tcg/mips/tcg-target.c, tcg/mips/tcg-target.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f813cb838f19ee8637d3c365659e6a6bb0c9c974,a80a6b63e362cc8eda7aae5b4c3f9e4e49013d62,Aurelien Jarno,2012-09-26,tcg/i386: fix build with -march < i686\n\nThe movcond_i32 op has to be protected with TCG_TARGET_HAS_movcond_i32\nto fix the build with -march < i686.\n\nThanks to Richard Henderson for the hint.\n\nReported-by: Alex Barcelo <abarcelo@ac.upc.edu>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9997010231018066,TCG,tcg/i386/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cae5d3f4b3fbe9b681c0c4046008af424bd1d6a5,1d8a4e69eeda7e474d1a6b50951b0b1680f8186e,Hans de Goede,2012-09-20,"ehci: Fix interrupt packet MULT handling\n\nThere are several issues with our handling of the MULT epcap field\nof interrupt qhs, which this patch fixes.\n\n1) When we don't execute a transaction because of the transaction counter\nbeing 0, p->async stays EHCI_ASYNC_NONE, and the next time we process the\nsame qtd we hit an assert in ehci_state_fetchqtd because of this. Even though\nI believe that this is caused by 3 below, this patch still removes the assert,\nas that can still happen without 3, when multiple packets are queued for the\nsame interrupt ep.\n\n2) We only *check* the transaction counter from ehci_state_execute, any\npackets queued up by fill_queue bypass this check. This is fixed by not calling\nfill_queue for interrupt packets.\n\n3) Some versions of Windows set the MULT field of the qh to 0, which is a\nclear violation of the EHCI spec, but still they do it. This means that we\nwill never execute a qtd for these, making interrupt ep-s on USB-2 devices\nnot work, and after recent changes, triggering 1).\n\nSo far we've stored the transaction counter in our copy of the mult field,\nbut with this beginnig at 0 already when dealing with these version of windows\nthis won't work. So this patch adds a transact_ctr field to our qh struct,\nand sets this to the MULT field value on fetchqh. When the MULT field value\nis 0, we set it to 4. Assuming that windows gets way with setting it to 0,\nby the actual hardware going horizontal on a 1 -> 0 transition, which will\ngive it 4 transactions (MULT goes from 0 - 3).\n\nNote that we cannot stop on detecting the 1 -> 0 transition, as our decrement\nof the transaction counter, and checking for it are done in 2 different places.\n\nReported-by: Shawn Starr <shawn.starr@rogers.com>\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997479319572448,USB,hw/usb/hcd-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6673f47da21718d07346b0f3725f0dbf0d6d8e45,ac05f3492421caeb05809ffa02c6198ede179e43,Stefan Weil,2012-09-18,tci: Fix for AREG0 free mode\n\nSupport for helper functions with 5 arguments was missing\nin the code generator and in the interpreter.\n\nThere is no need to pass the constant TCG_AREG0 from the\ncode generator to the interpreter. Remove that code for\nthe INDEX_op_qemu_st* opcodes.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9995083808898926,TCG,"tcg/tci/tcg-target.c, tci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,256b408abea2cfe18d8c0278e5b46213509db271,eddeed26ac83392053aef823a341f643ea8e3d2f,David Gibson,2012-09-12,"pseries: Fix XICS reset\n\nThe XICS interrupt controller used on the pseries machine currently has no\nreset handler.  We can get away with this under some circumstances, but\nit's not correct, and can cause failures if the XICS happens to be in the\nwrong state at the time of reset.\n\nThis patch adds a hook to properly reset the XICS state.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997045397758484,XICS,hw/xics.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ace9a2cbac9b2949aadc176ffa83a1d2a0873e2c,3fe719f467530b7c8ac0797881ff4b66d1357c18,David Gibson,2012-09-19,"target-ppc: KVM: Fix some kernel version edge cases for kvmppc_reset_htab()\n\nThe kvmppc_reset_htab() function invokes the KVM_PPC_ALLOCATE_HTAB vm ioctl\nto request KVM to allocate and reset a hash page table for the guest - it\nreturns the size of hash table allocated, or 0 to indicate that qemu needs\nto allocate the hash table itself.  In practice qemu needs to allocate the\nhtab for full emulation and with Book3sPR KVM, but the kernel has to\nallocate it for Book3sHV KVM (the hash table needs to be physically\ncontiguous in that case).\n\nUnfortunately, the logic in this function is incorrect for some existing\nkernels.  Specifically:\n  * at least some PR KVM versions advertise the relevant capability but\ndon't actually implement the ioctl(), returning ENOTTY.\n  * For old kernels which don't have the capability, we currently return 0.\nThis is correct for PV KVM, where we need to allocate the htab, but not for\nHV KVM - kernels of this era always allocate a 16MB hash table per guest.\n\nThis patch corrects both of these edge cases.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999692678451538,"KVM, PPC",target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fb37c3029c5a695e367baaacc6baf17640cc63cc,2b15811c8cd4dbe8dcde32320936fe74e51e4279,Alexander Graf,2012-10-04,"PPC: e500: Only expose even TLB sizes in initial TLB\n\nWhen booting our e500 machine, we automatically generate a big TLB entry\nin TLB1 that covers all of the code we need to run in there until the guest\ncan handle its TLB on its own.\n\nHowever, e500v2 can only handle MAS1.0 sizes. However, we keep our TLB\ninformation in MAS2.0 layout, which means we have twice as many TLB sizes\nto choose from. That also means we can run into a situation where we try\nto add a TLB size that could not fit into the MAS1.0 size bits.\n\nFix it by making sure we always have the lower bit set to 0. That way we\nare always guaranteed to have MAS1.0 compatible TLB size information.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9797981977462769,PPC,hw/ppc/e500.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ef8beb0e94c75984e016e855164361c36e15396c,fb37c3029c5a695e367baaacc6baf17640cc63cc,Alexander Graf,2012-10-05,"PPC: KVM: Fix BAT put\n\nIn the sregs API, upper and lower 32bit segments of the BAT registers\nare swapped when doing a set. Since we need to support old kernels out\nthere, don't bother to fix it in the kernel, but instead work around\nthe problem in QEMU by swapping on put.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997300505638124,"KVM, PPC",target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ffe01e599f106bedf13ba0e0f6956735b1942a0c,36a03e0ba5202cf49749b2128bb62d41983681d6,Gerd Hoffmann,2012-09-25,qxl: fix range check for rev3 io commands.\n\nEnables QXL_IO_FLUSH_SURFACES_ASYNC and QXL_IO_FLUSH_RELEASE\nwhich are part of the qxl rev3 feature set.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9996954202651978,QXL,hw/qxl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3a4f2816fac1b0f9cc197bb2208ddf03dc7bc592,1a40313381262ebb5f30fb95d5550b674280f396,Jan Kiszka,2012-10-08,"vfio-pci: Fix BAR->VFIODevice translation in\n\nDO_UPCAST is supposed to translate from the first member of a struct to\nthat struct, not from arbitrary ones. And it (usually) breaks the build\nwhen neglecting this rule. Use container_of to fix the build breakage\nand likely also the runtime behavior.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\naw: runtime behavior is actually the same, but clearly misuse of DO_UPCAST\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.999679684638977,VFIO,hw/vfio_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ba4906a9b64e165a958e12f6208ca834dc7a36dc,9ab1b6053f03d58ba8e7accc8f19c882fbffb66f,Peter Maydell,2012-10-12,"hw/ds1338: Fix mishandling of register pointer\n\nCorrect several deficiencies in the handling of the register pointer:\n * it should wrap around after 0x3f, not 0xff\n * guard against the caller handing us an out of range pointer\n   (on h/w this can never happen, because only a 7 bit value is\n   transferred over the I2C bus)\n * there was confusion over whether nvram[] holds only the 56 bytes\n   of guest-accessible NVRAM, or also the secondary registers\n   which hold the value of the clock captured at the start of a\n   multibyte read. Correct to consistently be the latter, by fixing\n   the array size and the offset used for NVRAM writes.\n * ds1338_send was attempting to use 'data' as both the data and\n   the register offset simultaneously, which meant that writes to\n   any register were broken; fix to use the register pointer.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997081160545348,I2C,hw/ds1338.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2725aec70114cf1bee00443aeb47a305f9b0c665,28f362be6e7f45ea9b7a57a08555c4c784f36198,Avi Kivity,2012-10-17,"i440fx: avoid destroying memory regions within a transaction\n\nCalling memory_region_destroy() within a transaction is illegal, since\nthe memory API is allowed to continue to dispatch to a region until the\ntransaction commits.  440fx does that however when managing PAM registers.\n\nThis bug is benign, since the regions are all aliases (which the memory\ncore tends to throw anyway), and since we don't do concurrent dispatch yet,\nbut instead of relying on that, tighten ship ahead of the coming concurrency\nstorm.\n\nFix by having a predefined set of regions, of which one will be enabled at\nany time.\n\nSigned-off-by: Avi Kivity <avi@redhat.com>",1,0.9997045397758484,PAM,hw/piix_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,817dcc5368988b023c5e1d3f1444fd370c77c6a9,83f3c251422b0724044f976a7ff26b2e8a47c374,Avi Kivity,2012-10-03,"pci: give each device its own address space\n\nAccesses from different devices can resolve differently\n(depending on bridge settings, iommus, and PCI_COMMAND_MASTER), so\nset up an address space for each device.\n\nCurrently iommus are expressed outside the memory API, so this doesn't\nwork if an iommu is present.\n\nSigned-off-by: Avi Kivity <avi@redhat.com>",1,0.9996881484985352,PCI,"hw/pci.c, hw/pci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,87d5f24f3f5edc4b69d071d5966cea0aec7b571d,43eaae28e0394f8fb80848fb40aa5d28c6360321,Paolo Bonzini,2012-10-02,"qemu-char: ask and print error information from qemu-sockets\n\nBefore:\n\n    $ qemu-system-x86_64 -monitor tcp:localhost:6000\n    (starts despite error)\n\n    $ qemu-system-x86_64 -monitor tcp:foo.bar:12345\n    getaddrinfo(foo.bar,12345): Name or service not known\n    chardev: opening backend ""socket"" failed\n\n    $ qemu-system-x86_64 -monitor tcp:localhost:443,server=on\n    inet_listen_opts: bind(ipv4,127.0.0.1,443): Permission denied\n    inet_listen_opts: FAILED\n    chardev: opening backend ""socket"" failed\n\nAfter:\n\n    $ x86_64-softmmu/qemu-system-x86_64 -monitor tcp:localhost:6000\n    x86_64-softmmu/qemu-system-x86_64: -monitor tcp:localhost:6000: Failed to connect to socket: Connection refused\n    chardev: opening backend ""socket"" failed\n\n    $ x86_64-softmmu/qemu-system-x86_64 -monitor tcp:foo.bar:12345\n    qemu-system-x86_64: -monitor tcp:foo.bar:12345: address resolution failed for foo.bar:12345: Name or service not known\n    chardev: opening backend ""socket"" failed\n\n    $ x86_64-softmmu/qemu-system-x86_64 -monitor tcp:localhost:443,server=on\n    qemu-system-x86_64: -monitor tcp:localhost:443,server=on: Failed to bind socket: Permission denied\n    chardev: opening backend ""socket"" failed\n\nReviewed-by: Luiz Capitulino <lcapitulino@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996297359466552,LED,qemu-char.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3f8b11bc7d86a1952311565f089063d544d5a2f7,58899664de29c250229f8d306fcf04f852cf5cc6,Paolo Bonzini,2012-10-19,"vnc: drop QERR_VNC_SERVER_FAILED\n\nWe now always return ""nice"" error messages in errp when we goto fail.\nDrop the default error message.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9983721375465392,LED,"qerror.h, ui/vnc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0262f65aaae49d582e7d4e4b1b5c8cfe4cd19d6d,cf08a8a1f600b2ac25f72cf5736247f3e95cc43d,Hans de Goede,2012-10-24,"ehci: Improve latency of interrupt delivery and async schedule scanning\n\nWhile doing various performance tests of reading from USB mass storage devices\nI noticed the following::\n1) When an async handled packet completes, we don't immediately report an\n   interrupt to the guest, instead we wait for the frame-timer to run and\n   report it from there\n2) If 1) has been fixed and an async handled packet takes a while to complete,\n   then async_stepdown will become a high value, which means that there\n   will be a large latency before any new packets queued by the guest in\n   response to the interrupt get seen\n\n1) was done deliberately as part of commit f0ad01f92:\nhttp://www.kraxel.org/cgit/qemu/commit/?h=usb.57&id=f0ad01f92ca02eee7cadbfd225c5de753ebd5fce\nSince setting the interrupt immediately on async packet completion was causing\nissues with Linux guests, I believe this recently fixed Linux bug explains\nwhy this is happening:\nhttp://git.kernel.org/?p=linux/kernel/git/torvalds/linux.git;a=commitdiff;h=361aabf395e4a23cf554cf4ec0c0c6963b8beb01\n\nNote that we can *not* count on this fix being present in all Linux guests!\n\nI was hoping that the recently added support for Interrupt Threshold Control\nwould fix the issues with Linux guests, but adding a simple ehci_commit_irq()\ncall to ehci_async_bh() still caused problems with Linux guests.\n\nThe problem is, that when doing ehci_commit_irq() from ehci_async_bh(),\nthe ""old"" frindex value is used to calculate usbsts_frindex, and when\nthe frame-timer then runs possibly very shortly after ehci_async_bh(),\nit increases the frame-timer, and thus any interrupts raised from that\nframe-timer run, will also get reported to the guest immediately, rather\nthen being delayed to the next frame-timer run.\n\nLuckily the solution for this is simple, this means that we need to\nincrease frindex before calling ehci_commit_irq() from ehci_async_bh(),\nwhich in the end boils down to simple calling ehci_frame_timer() instead\nof ehci_async_bh() from the bh.\n\nThis may seem like it causes a lot of extra work to be done, but this\nis not true. Any work done from the frame-timer processing the periodic\nschedule is work which then does not need to be done the next time the\nframe timer runs, also the frame-timer will re-arm itself at (possibly)\na later time then it was armed for saving a vmexit at that time.\n\nAs an additional advantage moving to simply calling the frame-timer also\nfixes 2) as the packet completion will set async_stepdown to 0, and the\nre-arming of the timer with an async_stepdown of 0 ensures that any\nnewly queued up packets get seen in a reasonable amount of time.\n\nThis improves the speed (MB/s) of a Linux guest reading from a USB mass\nstorage device by a factor of 1.5 - 1.7 with input pipelining disabled,\nand by a factor of 1.8 with input pipelining enabled.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.996160626411438,USB,hw/usb/hcd-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0cae7b1a004d6857e3bde3d511d7efa39d3cb48a,36dfe324fd4b5efd9ef1a5b4c352bbb158952e24,Hans de Goede,2012-10-24,"usb: Move clearing of queue on halt to the core\n\nhcds which queue up more then one packet at once (uhci, ehci and xhci),\nmust clear the queue after an error which has caused the queue to halt.\n\nCurrently this is handled as a special case inside the hcd code, this\npatch instead adds an USB_RET_REMOVE_FROM_QUEUE packet result code, teaches\nthe 3 hcds about this and moves the clearing of the queue on a halt into\nthe USB core.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9988719820976256,USB,"hw/usb.h, hw/usb/core.c, hw/usb/hcd-ehci.c, hw/usb/hcd-uhci.c, hw/usb/hcd-xhci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0ebfb144e8ad3f2da436d630fdcc5aa9ab646341,91062ae00fd4a88a40c28288e8ac7fe50ee83adf,Gerd Hoffmann,2012-10-24,"xhci: fix usb name in caps\n\nUsed to be ""UTB"" not ""USB"".\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997155070304872,USB,hw/usb/hcd-xhci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0356404b0f1da939657cad1efeb556745cd430d5,8a527317059bb6ece8a01a8d5be92b5452fa5ad0,Aurelien Jarno,2012-10-22,target-sparc64: disable VGA cirrus\n\nOpenBIOS on sparc64 only support Standard VGA and not Cirrus VGA. Don't\nbuild Cirrus VGA support so that it can't be selected.\n\nThis fixes the breakage introduced by commit f2898771.\n\nReported-by: Richard Henderson <rth@twiddle.net>\nCc: Blue Swirl <blauwirbel@gmail.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nTested-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9981644749641418,VGA,default-configs/sparc64-softmmu.mak,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,344028ba0f63b31c30723d2c1064d3539aa0f070,2c0366f036cbb7b2565ba8185a9daee98d709edb,Aurelien Jarno,2012-10-09,"tcg: fix some op flags\n\nSome branch related ops are marked with TCG_OPF_SIDE_EFFECTS, some other\nnot. In practice they don't need to, as they are all marked with\nTCG_OPF_BB_END, which is handled specifically in all the code.\n\nThe call op is marked as TCG_OPF_SIDE_EFFECTS, which might be not true\nas there is are specific flags (TCG_CALL_CONST and TCG_CALL_PURE) for\nspecifying that. On the other hand it always clobber arguments, so mark\nit as such even if the call op is handled in a different code path.\n\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997370839118958,TCG,tcg/tcg-opc.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5232fa59b17b45c04bd24e0d38224964816bf391,21b2f13ae21974e0fd7f8da99d84628a8000d1d7,Alexander Graf,2012-10-06,PPC: Bamboo: Fix memory size DT property\n\nDevice tree properties need to be specified in big endian. Fix the\nbamboo memory size property accordingly.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nCC: qemu-stable@nongnu.org,1,0.9996675252914428,PPC,hw/ppc440_bamboo.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,edb94a41e30f1b2ca241bfdfd7f7e90badfa6192,8c8dc39fa60f782f988bc08113f3abfddebbfebd,Peter Maydell,2012-10-30,"hw/arm_timer: Use LOG_GUEST_ERROR and LOG_UNIMP\n\nUse LOG_GUEST_ERROR to report guest accesses to bad register\noffsets, and LOG_UNIMP for access to the unimplemented\ntest registers.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9960339665412904,UNIMP,hw/arm_timer.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,60671e583c2bfb09746f59268fdc7d88eaa24deb,449994eb58a4175a2e7656175b18c65ead6c09ca,Andreas Frber,2012-10-10,apic: Store X86CPU in APICCommonState\n\nPrepares for using a link<> property to connect APIC with CPU and for\nchanging the CPU APIs to CPUState.\n\nResolve Coding Style warnings by moving the closing parenthesis of\nforeach_apic() macro to next line.\n\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>,1,0.9656983017921448,APIC,"hw/apic.c, hw/apic_common.c, hw/apic_internal.h, hw/kvm/apic.c, target-i386/cpu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e1e1b25c97632cf68d6a11e20f8068282e3d7915,ac4119c023c72b15f54238af43e4a178fcf41494,Richard Henderson,2012-10-31,"target-alpha: Use TCG_CALL_NO_WG\n\nMark helper functions that raise exceptions, but otherwise do not\nchange TCG register state, with TCG_CALL_NO_WG.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9973676800727844,TCG,target-alpha/helper.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5dbe90bba778c6ffcd0c7991ec67c4e7469e1c09,4a587b2ccb336e36817712ab21c513e35baa0eca,Aurelien Jarno,2012-10-09,"target-mips: fix FPU exceptions\n\nFor each FPU instruction that can trigger an FPU exception, to call\ncall update_fcr31() after.\n\nRemove the manual NaN assignment in case of float to float operation, as\nsoftfloat is already taking care of that. However for float to int\noperation, the value has to be changed to the MIPS one. In the cvtpw_ps\ncase, the two registers have to be handled separately to guarantee\na correct final value in both registers.\n\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9995933175086976,MIPS,target-mips/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9678aedd8e76978465698b9edeb069ccee15e975,e250d949feb1334828f27f0d145c35f29c4b7639,Gerd Hoffmann,2012-10-09,vga: fix text mode updating\n\nWith both text (curses) and graphics (vnc/sdl/spice/...) display active\nvga text mode emulation fails to update both correctly.  Depending on\nwhenever vga_update_text() or vga_draw_text() happens to be called first\nonly the text display or only the graphics display will see display\nresolution changes and full redraws.\n\nFix it by calling both text/gfx resize functions in both code paths and\nkeep track of full screen redraws needed in VGACommonState fields.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9996222257614136,VGA,"hw/vga.c, hw/vga_int.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cdfd3530fafbef441ab6b86da64151f74073e5bd,24ac283aa293f9bd8ca4137775506edf33e45eae,Jan Kiszka,2012-10-31,"usb-redir: Allow to attach USB 2.0 devices to 1.1 host controller\n\nThis follows the logic of host-linux: If a 2.0 device has no ISO\nendpoint and no interrupt endpoint with a packet size > 64, we can\nattach it also to an 1.1 host controller. In case the redir server does\nnot report endpoint sizes, play safe and remove the 1.1 compatibility as\nwell. Moreover, if we detect a conflicting change in the configuration\nafter the device was already attached, it will be disconnected\nimmediately.\n\nHdG: Several small cleanups and fixes\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999337375164032,USB,hw/usb/redirect.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e4ab0d6b0d1118a90238d8194eedb91aab15ebe1,4ba79505f43bd0ace35c3fe42197eb02e7e0478e,Eduardo Habkost,2012-11-02,"target-i386: cpu: fix --disable-kvm compilation\n\nThis fixes the following:\n  target-i386/cpu.o: In function `kvm_cpu_fill_host':\n  target-i386/cpu.c:783: undefined reference to `kvm_state'\n\nI didn't notice the problem before because GCC was optimizing the entire\nkvm_cpu_fill_host() function out (because all calls are conditional on\nkvm_enabled()).\n\n* cpu_x86_fill_model_id() is used only if CONFIG_KVM is set, so #ifdef it\n  entirely to avoid compiler warnings.\n\n* kvm_cpu_fill_host() should be called only if KVM is enabled, so\n  use #ifdef CONFIG_KVM around the entire function body.\n\nReported-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9997201561927797,KVM,target-i386/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7c2c3ea3fd9e108a1c174a5db021ac1d33b1a22d,0af10c86ed6656da0c9b680ec9d1c65768dd99b2,Eric Johnson,2012-11-09,target-mips: Fix seg fault for LUI when MIPS_DEBUG_DISAS==1.\n\nThe call to gen_logic_imm for OPC_LUI passes -1 for rs.  This\ncauses the MIPS_DEBUG statement to seg fault due to the deference\nof regnames[rs].  This patch fixes that.\n\nSigned-off-by: Eric Johnson <ericj@mips.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\n(aurel32: replaced static string formating by a static string),1,0.9996347427368164,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c8dcb531bcd37a4a81d2cc08a89fcd19c34348f9,3c5645fab3c4b65d0cffbe1aaafc787e4be63d0f,Paolo Bonzini,2012-10-10,"scsi: do not return short responses for emulated commands\n\nThe inquiry command, for the case of VPD=1, was returning short\nresponses; the number of returned bytes was just the number of bytes\nin the request, without padding to the specified allocation length\nwith zero bytes.  This is usually harmless, but it is a violation\nof the SCSI specification.\n\nTo fix this, always pad with zero bytes to r->cmd.xfer in\nscsi_disk_emulate_command, and return at most r->buflen bytes\n(the size of the buffer for command data) rather than at most\nbuflen bytes (the number of bytes that was filled in).\n\nBefore this patch, ""strace sg_inq -p0x83 /dev/sda"" would report a\nnon-zero resid value.  After this patch, it reports resid=0.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995400905609132,SCSI,hw/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,68d001928b151a0c50f367c0bdca645b3d5e9ed3,ce34cf72fe508b27a78f83c184142e8d1e6a048a,Aurelien Jarno,2012-11-14,"mips/malta: fix CBUS UART interrupt pin\n\nAccording to the MIPS Malta Developement Platform User's Manual, the\ni8259 interrupt controller is supposed to be connected to the hardware\nIRQ0, and the CBUS UART to the hardware interrupt 2.\n\nIn QEMU they are both connected to hardware interrupt 0, the CBUS UART\ninterrupt being wrong. This patch fixes that. It should be noted that\nthe irq array in QEMU includes the software interrupts, hence\nenv->irq[2] is the first hardware interrupt.\n\nCc: Ralf Baechle <ralf@linux-mips.org>\nReviewed-by: Eric Johnson <ericj@mips.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997010827064514,MIPS,hw/mips_malta.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6801038bc52d61f81ac8a25fbe392f1bad982887,68d001928b151a0c50f367c0bdca645b3d5e9ed3, (Wei-Ren Chen),2012-11-14,"target-mips: fix wrong microMIPS opcode encoding\n\nWhile reading microMIPS decoding, I found a possible wrong opcode\nencoding. According to [1] page 166, the bits 13..12 for MULTU is\n0x01 rather than 0x00. Please review, thanks.\n\n[1] MIPS Architecture for Programmers VolumeIV-e: The MIPS DSP\n    Application-Specific Extension to the microMIPS32 Architecture\n\nSigned-off-by: Chen Wei-Ren <chenwj@iis.sinica.edu.tw>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996453523635864,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,601a234731602df7c2bf6d01301c6eec4b1d1a5a,ff80ce599e0465cc6109a38bd3a8ca1890e88891,Hans de Goede,2012-11-14,"ehci: Better detection for qtd-s linked in circles\n\nWindows links interrupt qtd-s in circles, which means that when interrupt\nendpoints return USB_RET_ASYNC, combined with the recent\n""ehci: Retry to fill the queue while waiting for td completion"" patch,\nwe keep adding the tds to the queue over and over again, as we detect the\ncircle from fill_queue, but we call it over and over again ...\n\nThis patch fixes this by changing the circle detection to also detect\ncircling into tds already queued up previously.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9995177984237672,USB,hw/usb/hcd-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,71e0aa3930e7ac2e039b175ffad222e3dc5b1813,8c908fca584dbf47094b63f132bb49b82eaa3e19,Gerd Hoffmann,2012-11-15,usb-host: fix splitted transfers\n\nUSBPacket->actual_length wasn't updated correctly for USBPackets\nsplitted into multiple urbs.  Fix it.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9995864033699036,USB,hw/usb/host-linux.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,de91f537997c96204e35fb308aacb102071f0827,3bc2f570ec9fc930619a8ef26a22dd6d03c25dac,Stefan Weil,2012-11-18,"tci: fix build breakage for target MIPS\n\ncommit 5f7319cd introduced GETPC() usage for MIPS, which is currently\nnot defined when building with --enable-tcg-interpreter. Add MIPS to\nthe list of targets we selectively define GETPC() for.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9996181726455688,MIPS,exec-all.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,13586813446054aeff71b359aa627e201094375c,de91f537997c96204e35fb308aacb102071f0827,Stefan Weil,2012-11-18,tci: Fix build breakage (unresolved symbol tcg_out_tb_finalize)\n\nCommit 32761257c0b9fa7ee04d2871a6e48a41f119c469 enabled\nqemu_ld/st optimization unconditionally for some hosts.\n\nThe TCG interpreter still does not support this kind of\noptimization. Therefore builds with TCI fail with an\nunresolved symbol tcg_out_tb_finalize. This is fixed here.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9997302889823914,TCG,configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1cbdde909f70fd15ff85f068a6318b73865c7fa3,887938160e5d631c56ee115b1817613a60184138,Hans de Goede,2012-11-17,"uhci: Don't allow the guest to set port-enabled when there is no dev connected\n\nIt is possible for device disconnect and the guest trying to reset the port\n(because of USB xact errors prior to the disconnect getting signaled) to race,\nwhen we hit this race, the guest will write the port-control register with its\npre-disconnect value + the reset bit set, after which we have a disconnected\ndevice with its port-enabled bit set in its port-control register, which\nis no good :)\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997039437294006,USB,hw/usb/hcd-uhci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d17bd1d8cc27f8c1a24c65f555a77a661c332b7f,1ccbc2851282564308f790753d7158487b6af8e2,Aurelien Jarno,2012-10-09,"tcg/arm: fix TLB access in qemu-ld/st ops\n\nThe TCG arm backend considers likely that the offset to the TLB\nentries does not exceed 12 bits for mem_index = 0. In practice this is\nnot true for at least the MIPS target.\n\nThe current patch fixes that by loading the bits 23-12 with a separate\ninstruction, and using loads with address writeback, independently of\nthe value of mem_idx. In total this allow a 24-bit offset, which is a\nlot more than needed.\n\nCc: Andrzej Zaborowski <balrogg@gmail.com>\nCc: Peter Maydell <peter.maydell@linaro.org>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997245669364928,"MIPS, TCG",tcg/arm/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7aab08aa786e3a8838beac758ee61c5000144937,d17bd1d8cc27f8c1a24c65f555a77a661c332b7f,Aurelien Jarno,2012-10-09,"tcg/arm: fix cross-endian qemu_st16\n\nThe bswap16 TCG opcode assumes that the high bytes of the temp equal\nto 0 before calling it. The ARM backend implementation takes this\nassumption to slightly optimize the generated code.\n\nThe same implementation is called for implementing the cross-endian\nqemu_st16 opcode, where this assumption is not true anymore. One way to\nfix that would be to zero the high bytes before calling it. Given the\nstore instruction just ignore them, it is possible to provide a slightly\nmore optimized version. With ARMv6+ the rev16 instruction does the work\ncorrectly. For lower ARM versions the patch provides a version which\nbehaves correctly with non-zero high bytes, but fill them with junk.\n\nCc: Andrzej Zaborowski <balrogg@gmail.com>\nCc: Peter Maydell <peter.maydell@linaro.org>\nCc: qemu-stable@nongnu.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997088313102722,"ARM, TCG",tcg/arm/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,243b95111c8b8d171e627247a7de16e94c7e9de0,21bcfdd9a43041720f9370831c694bcb2e11eea4,Jan Kiszka,2012-11-14,q35: Fix non-PCI IRQ processing in ich9_lpc_update_apic\n\nAvoid passing a non-PCI IRQ to ich9_gsi_to_pirq. It's wrong and triggers\nan assertion.\n\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Jason Baron <jbaron@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9995003938674928,PCI,hw/lpc_ich9.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b5007bcc9729acd995518c52eb1038c4d8416b5d,b7f43fe46029d8fd0594cd599fa2599dcce0f553,Paolo Bonzini,2012-11-23,"hmp: do not crash on invalid SCSI hotplug\n\nCommit 0d93692 (qdev: Convert busses to QEMU Object Model, 2012-05-02)\nremoved a check on the type of the bus where a SCSI disk is hotplugged.\nHowever, hot-plugging to the wrong kind of device now causes a crash\ndue to either a NULL pointer dereference (avoided by the previous patch)\nor a failed QOM cast.\n\nInstead, in this case we need to use object_dynamic_cast and check for\nthe result, similar to what was done before that commit.\n\nReported-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9976925849914552,SCSI,hw/pci-hotplug.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f0cc4aa8450376ca2aee3ebb09db71f9f2ff333b,d688e5239aad2a1f991147974832ce026f78c1a3,Julio Guerra,2012-10-19,"PPC: Fix missing TRACE exception\n\nThis patch fixes bug 1031698 :\nhttps://bugs.launchpad.net/qemu/+bug/1031698\n\nIf we look at the (truncated) translation of the conditional branch\ninstruction in the test submitted in the bug post, the call to the\nexception helper is missing in the ""bne-false"" chunk of translated\ncode :\n\nIN:\nbne-    0x1800278\n\nOUT:\n0xb544236d:  jne    0xb5442396\n\n0xb5442373:  mov    %ebp,(%esp)\n0xb5442376:  mov    $0x44,%ebx\n0xb544237b:  mov    %ebx,0x4(%esp)\n0xb544237f:  mov    $0x1800278,%ebx\n0xb5442384:  mov    %ebx,0x25c(%ebp)\n0xb544238a:  call   0x827475a\n                     ^^^^^^^^^^^^^^^^^^\n\n0xb5442396:  mov    %ebp,(%esp)\n0xb5442399:  mov    $0x44,%ebx\n0xb544239e:  mov    %ebx,0x4(%esp)\n0xb54423a2:  mov    $0x1800270,%ebx\n0xb54423a7:  mov    %ebx,0x25c(%ebp)\n\nIndeed, gen_exception(ctx, excp) called by gen_goto_tb (called by\ngen_bcond) changes ctx->exception's value to excp's :\n\ngen_bcond()\n{\n  gen_goto_tb(ctx, 0, ctx->nip + li - 4);\n  /* ctx->exception value is POWERPC_EXCP_BRANCH */\n\n  gen_goto_tb(ctx, 1, ctx->nip);\n  /* ctx->exception now value is POWERPC_EXCP_TRACE */\n}\n\nMaking the following gen_goto_tb()'s test false during the second call :\n\nif ((ctx->singlestep_enabled &\n    (CPU_BRANCH_STEP | CPU_SINGLE_STEP)) &&\n    ctx->exception == POWERPC_EXCP_BRANCH /* false...*/) {\n         target_ulong tmp = ctx->nip;\n         ctx->nip = dest;\n         /* ... and this is the missing call */\n         gen_exception(ctx, POWERPC_EXCP_TRACE);\n         ctx->nip = tmp;\n}\n\nSo the patch simply adds the missing matching case, fixing our problem.\n\nSigned-off-by: Julio Guerra <guerr@julio.in>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997231364250184,PPC,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,752ced0488806830f18f96b60ae6f3d1fadfd089,f0cc4aa8450376ca2aee3ebb09db71f9f2ff333b,Alexey Kardashevskiy,2012-11-19,"kvm: fix incorrect length in a loop over kvm dirty pages map\n\nQEMU allocates a map enough for 4k pages. However the system page size\ncan be 64K (for example on POWER) and the host kernel uses only a small\npart of it as one big stores a dirty flag for 16 pages 4K each,\nthe hpratio variable stores this ratio and\nthe kvm_get_dirty_pages_log_range function handles it correctly.\n\nHowever kvm_get_dirty_pages_log_range still goes beyond the data\nprovided by the host kernel which is not correct. It does not cause\nerrors at the moment as the whole bitmap is zeroed before doing KVM ioctl.\n\nThe patch reduces number of iterations over the map.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997323155403136,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,70c68cf638b4cf44a42a937622deac3ad3c7833c,752ced0488806830f18f96b60ae6f3d1fadfd089,Alexey Kardashevskiy,2012-11-12,"pseries: Fix bug in PCI MSI allocation\n\nIn one of the recent reworks to the XICS code, a bug was introduced where\nwe use the wrong sense and allocate level interrupts instead of message\ninterrupts for PCI MSIs.  This patch fixes it.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997139573097228,"PCI, XICS",hw/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c4d88267ae76810420295a1682cf779c49f3ddec,70c68cf638b4cf44a42a937622deac3ad3c7833c,Peter Maydell,2012-11-22,"vl.c: Fix broken -usb option\n\nCommit 094b287f0b accidentally broke the ""-usb"" command line\noption, so it would have no effect if the user had not specified\nany machine options at that point. (the return value from\n'qemu_opts_find(qemu_find_opts(""machine""), 0);' is NULL if there\nare no user specified options, so it is only to be used for\nlooking up an option, not when trying to set one.) Similarly,\nwould '-usbdevice' no longer cause USB to default to enabled.\n\nFix this regression by using the same style of code for forcing\nthe usb=on machine option that we use for other aliases such as\n'-enable-kvm'.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999699592590332,USB,vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fa5358c69d090d13f762f545d39c5e03124dfdd8,339c2708e7a0d91e926c473314d563354a949c7f,Peter Maydell,2012-11-22,"vl.c: Fix broken -usb option\n\nCommit 094b287f0b accidentally broke the ""-usb"" command line\noption, so it would have no effect if the user had not specified\nany machine options at that point. (the return value from\n'qemu_opts_find(qemu_find_opts(""machine""), 0);' is NULL if there\nare no user specified options, so it is only to be used for\nlooking up an option, not when trying to set one.) Similarly,\nwould '-usbdevice' no longer cause USB to default to enabled.\n\nFix this regression by using the same style of code for forcing\nthe usb=on machine option that we use for other aliases such as\n'-enable-kvm'.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.999699592590332,USB,vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c128d6a6d785eb9235a4f6dbd52f405ab8c60bee,6c2d1c32d084320081b0cd047f8cacd6e722d03a,Stefan Hajnoczi,2012-11-25,usb: fail usbdevice_create() when there is no USB bus\n\nReport an error instead of segfaulting when attaching a USB device to a\nmachine with no USB busses:\n\n  $ qemu-system-arm -machine vexpress-a9 \\n      -sd Fedora-17-armhfp-vexpress-mmcblk0.img \\n      -kernel vmlinuz-3.4.2-3.fc17.armv7hl \\n      -initrd initramfs-3.4.2-3.fc17.armv7hl.img \\n      -usbdevice disk:format=raw:test.img\n\nNote that the vexpress-a9 machine does not have a USB host controller.\n\nReported-by: David Abdurachmanov <David.Abdurachmanov@cern.ch>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.8510811924934387,USB,hw/usb/bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,be41efde3ca0372dbf7543e09ff473b4eec25057,8beba9304391189666df1b62b23a5101b3831317,Hans de Goede,2012-11-17,"usb: Don't allow USB_RET_ASYNC for interrupt packets\n\nIt is tempting to use USB_RET_ASYNC for interrupt packets, rather then the\ncurrent NAK + polling approach, but this causes issues for migration, as\nan async completed packet will not getting written back to guest memory until\nthe next poll time, and if a migration happens in between it will get lost!\n\nMake an exception for host devices, because:\n1) host-linux actually uses async completion for interrupt endpoints\n2) host devices don't migrate anyways\n\nIdeally we would convert host-linux.c to handle (input) interrupt endpoints in\na buffered manner like it does for isoc endpoints, keeping multiple urbs\nsubmitted to ensure the devices timing requirements are met, as well as making\nits interrupt ep handling the same as other usb-devices.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996670484542848,USB,"hw/usb.h, hw/usb/core.c, hw/usb/host-bsd.c, hw/usb/host-linux.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bf471f7950e9dc9416747b2774eb712f63afe5a7,1c97e303d4ea80a2691334b0febe87a50660f99d,Peter Maydell,2012-12-11,"hw/arm_boot, exynos4210, highbank: Fix secondary boot GIC init\n\nFix the code in the secondary CPU boot stubs so that it correctly\ninitialises the GIC rather than relying on bugs or implementation\ndependent aspects of the QEMU GIC implementation:\n * set the GIC_PMR.Priority field to all-ones, so that all\n   interrupts are passed through. The default of all-zeroes\n   means all interrupts are masked, and QEMU only booted because\n   of a bug in the priority masking in our GIC implementation.\n * add a barrier after GIC setup and before WFI to ensure that\n   GIC config is complete before we go into a possible low power\n   state. This isn't needed with the software GIC model but could\n   be required when using KVM and executing this code on the\n   real hardware CPU.\n\nNote that of the three secondary stub implementations, only\nthe common generic one needs to support both v6 and v7 DSB\nencodings; highbank and exynos4210 will always be v7 CPUs.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Igor Mitsyanko <i.mitsyanko@samsung.com>",1,0.9996331930160522,KVM,"hw/arm_boot.c, hw/exynos4210.c, hw/highbank.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f47b48fb678581d6ee369cfe26b3513100b7d53e,79f5d67e9db35d53b478699393590392f7be03ac,Daniel Sangorrin,2012-12-11,hw/arm_gic: fix target CPUs affected by set enable/pending ops\n\nFix a bug on the ARM GIC model where interrupts are not\nset pending on the correct target CPUs when they are\ntriggered by writes to the Interrupt Set Enable or\nSet Pending registers.\n\nSigned-off-by: Daniel Sangorrin <dsl@ertl.jp>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9997265934944152,ARM,hw/arm_gic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,044f4c8b0ee90290b6cbbc616c4be3c8aeffcaab,1c97e303d4ea80a2691334b0febe87a50660f99d,David Gibson,2012-11-12,"pseries: Fix incorrect initialization of interrupt controller\n\nCurrently in the reset code for the XICS interrupt controller, we\ninitialize the pending_priority field to 0 (most favored, by XICS\nconvention).  This is incorrect, since there is no pending interrupt, it\nshould be set to least favored - 0xff.  At the moment our XICS\nimplementation doesn't get hurt by this edge case, but it does confuse the\nupcoming kernel XICS implementation.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996144771575928,XICS,hw/xics.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,044b99c6555f562254ae70dc39f32190eecbc1f2,2c1d4d15f09cf95b8f832624e7aac2916f9d1865,Stefano Stabellini,2012-12-17,xen: fix trivial PCI passthrough MSI-X bug\n\nWe are currently passing entry->data as address parameter. Pass\nentry->addr instead.\n\nSigned-off-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nTested-by: Sander Eikelenboom <linux@eikelenboom.it>\nXen-devel: http://marc.info/?l=xen-devel&m=135515462613715,1,0.9997069239616394,PCI,hw/xen_pt_msi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e12cdb1b4055530c61fe99683d256c42e9e62ac8,887eb29930a7b48e46d16916cb050d114016f143,John Spencer,2012-12-10,"fix build error on ARM due to wrong glibc check\n\nthe test for glibc < 2 ""succeeds"" wrongly for any non-glibc C library,\nand breaks the build on musl libc.\nwe must first test if __GLIBC__ is defined at all, before using it\nunconditionally.\n\nSigned-off-by: John Spencer <maillist-qemu@barfooze.de>\nReviewed-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9996933937072754,ARM,user-exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,62e0c095450f6a7eb37914991f3f7966aa4da7a1,f7575c96c6058763fe3bd8dd26f3d09473f2df36,Andreas Frber,2012-12-09,"MAINTAINERS: Include X86CPU in CPU maintenance area\n\nDocument that the x86 CPU refactorings are going through the qom-cpu\ntree. This does not contradict the established practice that patches\nadding KVM features to the x86 CPU go through the KVM maintainers,\nit merely takes it out of target-i386 TCG's Odd Fixes status.\n\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nCc: Marcello Tosatti <mtosatti@redhat.com>",1,0.9851562976837158,"KVM, TCG",MAINTAINERS,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,15faf946f7a17a5fab0d05a2312d43249d81af3c,914606d26e654d4c01bd5186f4d05e3fd445e219,Gerd Hoffmann,2012-12-20,Update seabios to a810e4e72a0d42c7bc04eda57382f8e019add901\n\ngit shortlog:\n\nKevin O'Connor (6):\n      floppy: Minor - reduce handle_0e code size when CONFIG_FLOPPY is disabled.\n      vga: Minor comment spelling fix.\n      Don't recursively evaluate CFLAGS variables.\n      Don't use gcc's -combine option.\n      Add compile checking phase to build.\n      acpi: Use prt_slot() macro to describe irq pins of first PCI device.\n\nLaszlo Ersek (1):\n      maininit(): print machine UUID under seabios version message\n\nPaolo Bonzini (1):\n      acpi: reintroduce LNKS\n\nPaolo's patch fixes the FreeBSD boot failure.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.8661918640136719,PCI,"pc-bios/acpi-dsdt.aml, pc-bios/bios.bin, pc-bios/q35-acpi-dsdt.aml, roms/seabios",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,812d2594d558f7c4f95c99c8fc58adc47ab68eb3,d2a0ccc613ccc48c7240f99e1ce05e0acce6e2a1,Knut Omang,2012-12-18,"pcie: Fix bug in pcie_ext_cap_set_next\n\nUpper 16 bits of the PCIe Extended Capability Header was truncated during update,\nalso breaking pcie_add_capability.\n\nSigned-off-by: Knut Omang <knut.omang@oracle.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996380805969238,PCI,hw/pci/pcie.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eec8972a5bc744eda695a86a984d746c240dff90,a795ef8dcb8cbadffc996c41ff38927a97645234,Petar Jovanovic,2012-12-06,"target-mips: Fix incorrect reads and writes to DSPControl register\n\nUpper 4 bits of ccond (bits 31..28 ) of DSPControl register are not used in\nthe MIPS32 architecture. They are used in the MIPS64 architecture. For MIPS32\nthese bits must be written as zero, and return zero on read.\n\nThe change fixes writes (WRDSP) and reads (RDDSP) to the register. It also fixes\nthe tests that use these instructions, and makes them smaller and simpler.\n\nSigned-off-by: Petar Jovanovic <petarj@mips.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.998862624168396,"MIPS, MIPS64","target-mips/dsp_helper.c, tests/tcg/mips/mips32-dsp/rddsp.c, tests/tcg/mips/mips32-dsp/wrdsp.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5928023cef87847a295035487397b9ec701fdd6b,0f0b93980572726e69e32ff13e2d7fb72b936157,Stefan Weil,2012-11-24,"pflash_cfi01: Suppress warning when Linux probes for AMD flash\n\nThere are several ARM and MIPS boards which are manufactured with\neither Intel (pflash_cfi01.c) or AMD (pflash_cfi02.c) flash memory.\n\nThe Linux kernel supports both and first probes for AMD flash which\nresulted in one or two warnings from the Intel flash emulation:\n\npflash_write: Unimplemented flash cmd sequence (offset 0000000000000000, wcycle 0x0 cmd 0x0 value 0xf000f0)\npflash_write: Unimplemented flash cmd sequence (offset 0000000000000000, wcycle 0x0 cmd 0x0 value 0xf0)\n\nThese warnings confuse users, so suppress them.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.990663766860962,"ARM, MIPS",hw/pflash_cfi01.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8a873ba78069ef81c4ef073a0bd703172c8b3312,530c0bbd73e1b658c9266582072847de1fbdff10,Stefan Hajnoczi,2012-12-10,"virtio-blk: restore VirtIOBlkConf->config_wce flag\n\nTwo slightly different versions of a patch to conditionally set\nVIRTIO_BLK_F_CONFIG_WCE through the ""config-wce"" qdev property have been\napplied (ea776abca and eec7f96c2).  David Gibson\n<david@gibson.dropbear.id.au> noticed that the ""config-wce""\nproperty is broken as a result and fixed it recently.\n\nThe fix sets the host_features VIRTIO_BLK_F_CONFIG_WCE bit from a qdev\nproperty.  Unfortunately, the virtio device then has no chance to test\nfor the presence of the feature bit during virtio_blk_init().\n\nTherefore, reinstate the VirtIOBlkConf->config_wce flag.  Drop the\nduplicate qdev property to set the host_features bit.  The\nVirtIOBlkConf->config_wce flag will be used by virtio-blk-data-plane in\na later patch.\n\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.999101996421814,"VIRTIO, VIRTIO_BLK","hw/virtio-blk.c, hw/virtio-blk.h, hw/virtio-pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,503483336039a8b2b182535f87f4820d259fca82,74e91370beb3fabda515623b4491a8b7a024304a,Stefan Weil,2013-01-01,"tci: Fix broken builds with TCG interpreter\n\nTCI no longer compiled after commit 76cad71136b7eb371cf2a2a4e1621cfe8d9c769a.\n\nThe TCI disassembler depends on data structures which are different for\neach QEMU target, so it cannot be compiled as a universal-obj today.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996628761291504,TCG,"Makefile.target, disas/Makefile.objs",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d918a65c690c321f56e7ce4b5a9e1f2fbe32bb1b,b7886de3f36111b71ee0664a0b992f6c5b55de7d,Richard Henderson,2012-11-15,"target-s390: Use TCG_CALL_NO_WG for memory helpers\n\nThose that do not read or write tcg registers, but can\nraise exceptions via memory faults.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9996201992034912,TCG,target-s390x/helper.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c482ea94eaf26761e5cc0e53259cf1a98db29622,d918a65c690c321f56e7ce4b5a9e1f2fbe32bb1b,Richard Henderson,2012-11-15,"target-s390: Use TCG_CALL_NO_WG for floating-point helpers\n\nNone of them read or write tcg registers, but most can\nraise fp exceptions.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9991692304611206,TCG,target-s390x/helper.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c20fec4055f06de6d96789d1a290f284fac48fc4,c482ea94eaf26761e5cc0e53259cf1a98db29622,Richard Henderson,2012-11-15,"target-s390: Use TCG_CALL_NO_WG for integer helpers\n\nThe division routines do not read or write tcg registers,\nbut can raise fixed-point divide exceptions.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9996060729026794,TCG,target-s390x/helper.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,beb526b12134a6b6744125deec5a7fe24a8f92e3,88a78d9093917096feffeba66802be27d0e64ead,Samuel Seay,2013-01-02,"PPC: fix segfault in signal handling code\n\nRemoved h2g() macro around the ka->_sa_handler due to the _sa_handler being a\nguest memory address.\n\nChanged the __put_user to put_user as it was attempting to put a value at the\nstack address but the new address is a guest memory address, __put_user is\nfor host memory addresses.\n\nSigned-off-by: Samuel Seay <LightningTH@GMail.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\n[agraf: change subject line, reformat commit message]\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9990265369415284,PPC,linux-user/signal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1a61a9ae61cdf7b7d24c3eb711fe772c196c235e,d4834ff9b72d7b89181e88b1a481564cb750c1b5,Stuart Yoder,2013-01-03,"PPC: KVM: set has-idle in guest device tree\n\nOn e500mc, the platform doesn't provide a way for the CPU to go idle.\n\nTo still not uselessly burn CPU time, expose an idle hypercall to the guest\nif kvm supports it.\n\nSigned-off-by: Stuart Yoder <stuart.yoder@freescale.com>\n[agraf: adjust for current code base, add patch description, fix non-kvm case]\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9994422793388368,"KVM, PPC","hw/ppc/e500.c, target-ppc/kvm.c, target-ppc/kvm_ppc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,314992b1a48a5a2a0f2b14195f959ad2c3f5b3ff,8e4a424b305e29dc0e454f52df3b35577f342975,Alexander Graf,2013-01-03,"linux-user: fix mips 32-on-64 prealloc case\n\nMIPS only supports 31 bits of virtual address space for user space, so let's\nmake sure we stay within that limit with our preallocated memory block.\n\nThis fixes the MIPS user space targets when executed without command line\noption.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997124075889589,MIPS,linux-user/main.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8fc94e5a8046e349e07976f9bcaffbcd5833f3a2,b0223e29afdc88cc262a764026296414396cd129,Alex Williamson,2013-01-08,"vfio-pci: Loosen sanity checks to allow future features\n\nVFIO_PCI_NUM_REGIONS and VFIO_PCI_NUM_IRQS should never have been\nused in this manner as it locks a specific kernel implementation.\nFuture features may introduce new regions or interrupt entries\n(VGA may add legacy ranges, AER might add an IRQ for error\nsignalling).  Fix this before it gets us into trouble.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>\nCc: qemu-stable@nongnu.org",1,0.9996649026870728,"PCI, VFIO, VFIO_PCI, VGA",hw/vfio_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bc5f92e5db6f303e73387278e32f8669f0abf0e5,63fb2590839162afdf14d7c0ee02d460766c0956,Markus Armbruster,2013-01-10,"qxl: Fix SPICE_RING_PROD_ITEM(), SPICE_RING_CONS_ITEM() sanity check\n\nThe pointer arithmetic there is safe, but ugly.  Coverity grouses\nabout it.  However, the actual comparison is off by one: <= end\ninstead of < end.  Fix by rewriting the check in a cleaner way.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997169375419616,SPICE,hw/qxl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b8bec49cccbf8e34558371df60e7e64419c4fde9,53510bfc1256711365cd2a841649f3ad5a79790f,Michael Roth,2013-01-14,dataplane: fix build breakage on set_guest_notifiers()\n\nvirtio_pci_set_guest_notifiers() now takes an additional argument to\nspecify the number of virtqueues to assign a guest notifier for. This\ncauses a build breakage for CONFIG_VIRTIO_BLK_DATA_PLANE builds:\n\n/home/mdroth/w/qemu2.git/hw/dataplane/virtio-blk.c: In function\nvirtio_blk_data_plane_start:\n/home/mdroth/w/qemu2.git/hw/dataplane/virtio-blk.c:451:47: error: too\nfew arguments to function s->vdev->binding->set_guest_notifiers\n/home/mdroth/w/qemu2.git/hw/dataplane/virtio-blk.c: In function\nvirtio_blk_data_plane_stop:\n/home/mdroth/w/qemu2.git/hw/dataplane/virtio-blk.c:511:5: error: too few\narguments to function s->vdev->binding->set_guest_notifiers\nmake[1]: *** [hw/dataplane/virtio-blk.o] Error 1\nmake[1]: *** Waiting for unfinished jobs....\nmake: *** [subdir-x86_64-softmmu] Error 2\n\nFix this by passing 1 as the number of virtqueues to assign notifiers\nfor.\n\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9997063279151917,"VIRTIO, VIRTIO_BLK",hw/dataplane/virtio-blk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb5ef3fa1871522a0886627033459e94bd537fb7,6d0b430176e3571af0e1596276078f05bfe1c5a5,Andreas Frber,2013-01-16,"tmp105: Fix I2C protocol bug\n\nAn early length postincrement in the TMP105's I2C TX path led to\ntransfers of more than one byte to place the second byte in the third\nbyte's place within the buffer and the third byte to get discarded.\n\nFix this by explictly incrementing the length after the checks but\nbefore the callback is called, which again checks the length.\n\nAdjust the Coding Style while at it.\n\nSigned-off-by: Alex Horn <alex.horn@cs.ox.ac.uk>\nSigned-off-by: Andreas Frber <andreas.faerber@web.de>\nReviewed-by: Anthony Liguori <aliguori@us.ibm.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996697902679444,"I2C, TMP105",hw/tmp105.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,528e536ea2fd3bfe8412e39a5623e80b254f3ae0,86e56a885aa5051c87906dfcd060c59f0af22309,Alexander Graf,2013-01-14,"PPC: E500: Calculate loading blob offsets properly\n\nWe have 3 blobs we need to load when booting the system:\n\n  - kernel\n  - initrd\n  - dtb\n\nWe place them in physical memory in that order. At least we should.\nThis patch fixes the location calculation up to take any module into\naccount, fixing the dtb offset along the way.\n\nReported-by: Stuart Yoder <stuart.yoder@freescale.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9993964433670044,"E500, PPC",hw/ppc/e500.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3588185b8396eb97fd9efd41c2b97775465f67c4,8b17ed4caa7e015324a4ecbe3c863e32458d840a,Gerd Hoffmann,2013-01-21,"seabios: update to 1.7.2 release\n\nNot that many changes as we have a pretty recent git snapshot in master\nalready:\n\nHannes Reinecke (1):\n      megasas: Invert PCI device selection\n\nKevin O'Connor (2):\n      Minor: Separate UUID display from F12 boot prompt.\n      boot: Support ""halt"" in the boot order to prevent default boot attempts.\n\nLaszlo Ersek (1):\n      display_uuid(): fix incomplete check after the loop\n\nPaolo Bonzini (1):\n      vgabios: implement AX=1120H..1124H functions",1,0.9475508332252502,PCI,"pc-bios/acpi-dsdt.aml, pc-bios/bios.bin, pc-bios/q35-acpi-dsdt.aml, roms/seabios",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3f668b6c5dc9747d0367837532c3b2ce0520cc17,9fc7577af56153a4f75709ce526d64bf6845d002,Andreas Frber,2013-01-24,target-cris: Fix typo in D_LOG() macro\n\nIt's __VA_ARGS__. Fixes the build with CRIS_[OP_]HELPER_DEBUG defined.\n\nBroken since r6338 / 93fcfe39a0383377e647b821c9f165fd927cd4e0 (Convert\nreferences to logfile/loglevel to use qemu_log*() macros).\n\nCc: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>,1,0.999635934829712,CRIS,"target-cris/helper.c, target-cris/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2e4a7c9c5df442d4223e738f7e8f73192b8b2a65,84ede329083b649c54f078276e7e06d48e910b9d,Andreas Frber,2013-01-23,"adb: QOM'ify ADB devices\n\nThey were not qdev'ified before. Derive ADBDevice from DeviceState and\nconvert reset callbacks to DeviceClass::reset, ADBDevice::opaque pointer\nto ADBDevice subtypes for mouse and keyboard and adb_{kbd,mouse}_init()\nto regular qdev functions.\n\nFixing Coding Style issues and splitting keyboard and mouse off into\ntheir own files is left for a later point in time.\n\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9953998923301696,ADB,"hw/adb.c, hw/adb.h, hw/ppc/mac_newworld.c, hw/ppc/mac_oldworld.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fe828a4d4b7a5617cda7b24e95e327bfb71d790e,293c867d8c7399d17e6b593053411a6515171f38,Mike Qiu,2013-01-23,"target-ppc: Give a meaningful error if too many threads are specified\n\nCurrently the target-ppc tcg code only supports a single thread.  You can\nspecify more, but they're treated identically to multiple cores.  On KVM\nwe obviously can't support more threads than the hardware; if more are\nspecified it will cause strange and cryptic errors.\n\nThis patch clarifies the situation by giving a simple meaningful error if\nmore threads are specified than we can support.\n\nSigned-off-by: Mike Qiu <qiudayu@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996981620788574,KVM,target-ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd25922e737a2c90668a7bdd1e1319413a7a51f3,e0dfe5b18919a6a4deb841dcf3212e3e998c95e5,Scott Wood,2013-01-21,PPC: e500: fix mpic_iack address\n\nMPIC+0xa0 is IACK for the current CPU.  MPIC+0x200a0 is IACK for CPU 0.\nThis fix allows EPR to work with an SMP target.\n\nSigned-off-by: Scott Wood <scottwood@freescale.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9997270703315736,PPC,hw/ppc/e500.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8932cfdf7b95734c9b4a114b8ed0b4527af77ce7,247c9de13f9d54a94734875000a9faea8168c8ca,Eduardo Habkost,2013-01-22,"pc: Generate APIC IDs according to CPU topology\n\nThis keeps compatibility on machine-types pc-1.2 and older, and prints a\nwarning in case the requested configuration won't get the correct\ntopology.\n\nI couldn't think of a better way to warn about broken topology when in\ncompat mode other than using error_report(). The warning message will\nprobably be buried in a log file somewhere, but it's better than\nnothing.\n\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.997444748878479,APIC,"hw/pc_piix.c, target-i386/cpu.c, target-i386/cpu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5900d6b2d59875c9b11e4d8cead6d9ddaa9eb787,2b8c27549917b3e07fec5807dbd2b6528ceb4efa,Andreas Frber,2013-01-21,"target-arm: Detect attempt to instantiate non-CPU type in cpu_init()\n\nConsolidate model checking into a new arm_cpu_class_by_name().\n\nIf the name matches an existing type, also check whether that type is\nactually (a sub-type of) TYPE_ARM_CPU.\n\nThis fixes, e.g., -cpu tmp105 asserting.\n\nCc: qemu-stable <qemu-stable@nongnu.org>\nAcked-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.99868506193161,ARM,"target-arm/cpu.c, target-arm/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0e44a02301b081d36e686e767694a770c25160a2,5900d6b2d59875c9b11e4d8cead6d9ddaa9eb787,Andreas Frber,2013-01-21,"target-alpha: Detect attempt to instantiate non-CPU type in cpu_init()\n\nCheck in alpha_cpu_class_by_name() whether the type found is actually\n(a sub-type of) TYPE_ALPHA_CPU.\n\nThis fixes, e.g., -cpu typhoon-pcihost asserting.\n\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9996175765991212,ALPHA,target-alpha/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bc5b2da32ba54d991e8669b14a771afb3a67f408,0e44a02301b081d36e686e767694a770c25160a2,Andreas Frber,2013-01-21,"target-m68k: Detect attempt to instantiate non-CPU type in cpu_init()\n\nConsolidate model checking into a new m68k_cpu_class_by_name().\n\nIf the name matches an existing type, also check whether that type is\n(a sub-type of) TYPE_M68K_CPU.\n\nThis fixes, e.g., -cpu ide-hd asserting.\n\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9945217370986938,M68K,"target-m68k/cpu.c, target-m68k/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd039ce0094f3724a87a193c846ee8468ce652b0,bc5b2da32ba54d991e8669b14a771afb3a67f408,Andreas Frber,2013-01-23,"target-openrisc: Detect attempt to instantiate non-CPU type in cpu_init()\n\nConsolidate model checking into a new openrisc_cpu_class_by_name().\n\nIf the name matches an existing type, also check whether that type is\nactually (a sub-type of) TYPE_OPENRISC_CPU.\n\nThis fixes, e.g., -cpu open_eth asserting.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9988592863082886,OPENRISC,target-openrisc/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f8bb056564ed719b2fa5e05028bc70aeb0cc5c6c,f9e90c798dc84be2b0b988517e86b49faf79d5dc,Igor Mammedov,2013-01-28,"target-i386: kvm: prevent buffer overflow if -cpu foo, [x]level is too big\n\nStack corruption may occur if too big 'level' or 'xlevel' values passed\non command line with KVM enabled, due to limited size of cpuid_data\nin kvm_arch_init_vcpu().\n\nreproduces with:\n qemu -enable-kvm -cpu qemu64,level=4294967295\nor\n qemu -enable-kvm -cpu qemu64,xlevel=4294967295\n\nCheck if there is space in cpuid_data before passing it to cpu_x86_cpuid()\nor abort() if there is not space.\n\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Andreas Faerber <afaerber@suse.de>\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Gleb Natapov <gleb@redhat.com>",1,0.9976003766059875,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e4c1cfa5cb8f8bfbbfd949f2fabbe2be35e60c99,0893d46014b0300fb8aec92df94effea34d04b61,Peter Maydell,2013-01-30,target-arm: Fix TCG temp leaks for WI and UNDEF VFP sysreg writes\n\nFix a leak of a TCG temporary in code paths for VFP system register\nwrites for cases which UNDEF or are write-ignored.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9997010827064514,TCG,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,df6126a7f21a1a032e41b15899ca29777399d5a2,0a16c79cc4087838ae5f2bc9554d91db2cbb2503,Aurelien Jarno,2013-01-01,"target-mips: implement DSP (d)append sub-class with TCG\n\nDSP instruction from the (d)append sub-class can be implemented with\nTCG. Use a different function for these instructions are they are quite\ndifferent from compare-pick sub-class.\n\nFix BALIGN instruction for negative value, where the value should be\nzero-extended before being shift to the right.\n\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.999220371246338,TCG,"target-mips/dsp_helper.c, target-mips/helper.h, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,17e8fef1af2db3a13613a311db2ec2f7a69645a1,810ded13792042d988c8dbdea3b97eedbd949b40,Richard Sandiford,2013-01-20,target-mips: Fix signedness of loads in MIPS16 RESTOREs\n\nMake RESTORE use sign-extending rather than zero-extending loads.\n\nSigned-off-by: Richard Sandiford <rdsandiford@googlemail.com>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9994997978210448,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,476b6d1619446b9c8f72d7523985ba4fdfeaa405,cca48a93a9a6c1c95ace89b299d3f9f47adadd6d,Andreas Frber,2013-01-27,target-ppc: Fix build for PPC_DEBUG_DISAS\n\nIn r5949 / 76db3ba44ee8db671f804755f13b016eefd13288 (target-ppc: memory\nload/store rework) variable little_endian was replaced with ctx.le_mode.\nUpdate the debug code.\n\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9962856769561768,PPC,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,350ed2fcd95d30b02609e8783f33735f356ad7ce,6bf0076643dac4f37cabb9233dc9170f1c2fdd49,Andreas Frber,2013-01-31,"target-ppc: Fix target_ulong vs. hwaddr format mismatches\n\nSince HWADDR_PRIx is always the same now, use %016 for TARGET_PPC64 and\n%08 for common code. This may slightly change the ppc64 debug output.\n\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.999567687511444,"PPC, PPC64",target-ppc/mmu_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,217e21be6e0f2c1caa0b644f56aa60dba7ea7893,e3c66d939480e0f372316c22184c07fb3de12873,liguang,2013-01-24,"vl: correct error message when fail to init kvm\n\ncommand:\nqemu-system-x86_64 -hda disk.img -smp 32 --enable-kvm\nerror:\nNumber of SMP cpus requested (32) exceeds max cpus supported by KVM (16)\nfailed to initialize KVM: Invalid argument\nNo accelerator found!\n\nwell, it did find kvm, but failed to init,\nso message ""No accelerator found!"" is confusing,\nthis commit remove the confusing error message.\n\nSigned-off-by: liguang <lig.fnst@cn.fujitsu.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996271133422852,KVM,vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ded67782e6d06069873adce7f9074d273ae75760,c881e20eed4911ab6f8c674f2b1bf225a2cdde71,Michael Roth,2013-02-04,"acpi_piix4: fix segfault migrating from 1.2\n\nb0b873a07872f7ab7f66f259c73fb9dd42aa66a9 bumped the vmstate version and\nintroduced an old-style load function to handle migration from prior\n(<= 1.2) versions.\n\nThe load function passes the top-level PIIX4PMState pointer to\nvmstate_load_state() to handle nested structs for APMState and\npci_status, which leads to corruption of the top-level PIIX4PMState,\nsince pointers to the nested structs are expected.\n\nA segfault can be fairly reliably triggered by migrating from 1.2 and\nissuing a reset, which will trigger a number of QOM operations which\nrely on the now corrupted ObjectClass/Object members.\n\nFix this by passing in the expected pointers for vmstate_load_state().\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.999382495880127,"APM, PIIX4",hw/acpi_piix4.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,84208085d357d95b84f6e281ec3aa028e988e5ff,91107fdf4443d2171e06840e87277bb7a047343b,Richard Henderson,2013-02-04,"configure: Fix build with XFree\n\nThe build is broken on ppc64-linux, possibly only with new binutils:\n\nld: hw/lm32/../milkymist-tmu2.o: undefined reference to symbol 'XFree'\nld: note: 'XFree' is defined in DSO /lib64/libX11.so.6 so try \\n  adding it to the linker command line\n\nSo let's follow the linker's advice.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9993755221366882,X11,configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,be96bd3fbffde908a392c830c856063e122791c1,05499f4b9fd431631299dc1b70156dbc1fb43318,Andreas Frber,2013-02-16,tcg/ppc: Fix build of tcg_qemu_tb_exec()\n\nCommit 0b0d3320db74cde233ee7855ad32a9c121d20eb4 (TCG: Final globals\nclean-up) moved code_gen_prologue but forgot to update ppc code.\nThis broke the build on 32-bit ppc. ppc64 is unaffected.\n\nCc: Evgeny Voevodin <evgenyvoevodin@gmail.com>\nCc: Blue Swirl <blauwirbel@gmail.com>\nSigned-off-by: Andreas Frber <andreas.faerber@web.de>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9987527132034302,TCG,tcg/ppc/tcg-target.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,84644c451ce7cf8e3cf027501f0f44041f8c6972,f037809907bcc51295a471ad66b14e90f22d8caa,Markus Armbruster,2013-02-13,"doc help: A few options are under inappropriate headings, fix\n\n--device is under heading ""USB options"".  --name and --uuid are under\n""Virtual File system pass-through options"".  Move all three to\n""Standard options"".\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-id: 1360781383-28635-7-git-send-email-armbru@redhat.com\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9971932768821716,USB,qemu-options.hx,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8c3ac601bdaf8d4d81823a79f2a166b586db7dab,a345481baa2b2fb3d54f8c9ddb58dfcaf75786df,Peter Crosthwaite,2013-02-25,arm/translate.c: Fix adc_CC/sbc_CC implementation\n\ncommits 49b4c31efcce45ab714f286f14fa5d5173f9069d and\n2de68a4900ef6eb67380b0c128abfe1976bc66e8 reworked the implementation of adc_CC\nand sub_CC. The new implementations (on the TCG_TARGET_HAS_add2_i32 code path)\nare incorrect. The new logic is:\n\nCF:NF = 0:A +/- 0:CF\nCF:NF = CF:A +/- 0:B\n\nThe lower 32 bits of the intermediate result stored in NF needs to be passes\ninto the second addition in place of A (s/CF:A/CF:NF):\n\nCF:NF = 0:A +/- 0:CF\nCF:NF = CF:NF +/- 0:B\n\nThis patch fixes the issue.\n\nCc: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Crosthwaite <peter.crosthwaite@xilinx.com>\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9996694326400756,TCG,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7feb640cf32d86f91f5a624136345eb6a63eab42,2af234e61d59f39ae16ba882271e7c4fef2c41c1,Alexey Korolev,2013-02-22,"Fix guest OS hang when 64bit PCI bar present\n\nThis patch addresses the issue fully described here:\nhttp://lists.nongnu.org/archive/html/qemu-devel/2013-02/msg01804.html\n\nLinux kernels prior to 2.6.36 do not disable the PCI device during\nenumeration process. Since lower and higher parts of a 64bit BAR\nare programmed separately this leads to qemu receiving a request to occupy\na completely wrong address region for a short period of time.\nWe have found that the boot process screws up completely if kvm-apic range\nis overlapped even for a short period of time (it is fine for other\nregions though).\n\nThis patch raises the priority of the kvm-apic memory region, so it is\nnever pushed out by PCI devices. The patch is quite safe as it does not\ntouch memory manager.\n\nSigned-off-by: Alexey Korolev <akorolex@gmail.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997159838676452,PCI,"hw/sysbus.c, hw/sysbus.h, target-i386/cpu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,378df4b23753a11be650af7664ca76bc75cb9f01,77211379d73ea0c89c0b5bb6eee74b17cb06f9a8,Peter Maydell,2013-02-22,"Handle CPU interrupts by inline checking of a flag\n\nFix some of the nasty TCG race conditions and crashes by implementing\ncpu_exit() as setting a flag which is checked at the start of each TB.\nThis avoids crashes if a thread or signal handler calls cpu_exit()\nwhile the execution thread is itself modifying the TB graph (which\nmay happen in system emulation mode as well as in linux-user mode\nwith a multithreaded guest binary).\n\nThis fixes the crashes seen in LP:668799; however there are another\nclass of crashes described in LP:1098729 which stem from the fact\nthat in linux-user with a multithreaded guest all threads will\nuse and modify the same global TCG date structures (including the\ngenerated code buffer) without any kind of locking. This means that\nmultithreaded guest binaries are still in the ""unsupported""\ncategory.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>",1,0.9996846914291382,TCG,"cpu-exec.c, exec.c, include/exec/gen-icount.h, include/qom/cpu.h, tcg/tcg.h, translate-all.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,26135ead80fa1fd13e95c162dacfd06f2ba82981,54b2f42cb1eef758b6070e805a5d6f7a84315ace,Richard Sandiford,2013-01-21,"target-mips: Fix accumulator selection for MIPS16 and microMIPS\n\nAdd accumulator arguments to gen_HILO and gen_muldiv, rather than\nextracting the accumulator directly from ctx->opcode.  The extraction\nwas only right for the standard encoding: MIPS16 doesn't have access\nto the DSP registers, while microMIPS encodes the accumulator register\nin a different field (bits 14 and 15).\n\nPassing the accumulator register is probably an over-generalisation\nfor division and 64-bit multiplication, which never access anything\nother than HI and LO, and which always pass 0 as the new argument.\nSeparating them felt a bit fussy though.\n\nSigned-off-by: Richard Sandiford <rdsandiford@googlemail.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9994390606880188,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,81465888c5306cd94abb9847e560796fd13d3c2f,26135ead80fa1fd13e95c162dacfd06f2ba82981,Peter Maydell,2013-03-05,target-arm: Factor out handling of SRS instruction\n\nFactor out the handling of the SRS instruction rather than\nduplicating it between the Thumb and ARM decoders. This in\npassing fixes two bugs in the Thumb decoder's SRS handling\nwhich didn't exist in the ARM decoder:\n * (LP:1079080) storing CPSR rather than SPSR (fixed in the\n   ARM decoder in commit c67b6b71 in 2009)\n * failing to free the 'addr' TCG temp in the writeback case\n\nReported-by: Cesson Vincent <vcesson@stmi.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9997043013572692,"ARM, TCG",target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f5206413affd658e2fdcf893c810d715b2c7fec6,eadd0e4413c9b69015c798909f48ec48ab0c7bd4,Peter Maydell,2013-03-05,"target-arm: Drop CPUARMState* argument from bank_number()\n\nDrop the CPUARMState* argument from bank_number(), since we only\nuse it for passing to cpu_abort(). Use hw_error() instead.\nThis avoids propagating further interfaces using env pointers.\n\nIn the long term this function's callers need auditing to fix\nproblems where badly behaved guests can pass invalid bank numbers.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Andreas Frber <afaerber@suse.de>",1,0.9954326152801514,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0bc472a9d6b80567c212023c5eae413f4dfb53ad,76c48503c4c87afabf0c93acf78480f65276844d,Kuo-Jung Su,2013-03-05,"hw/nand.c: correct the sense of the BUSY/READY status bit\n\nThe BIT6 of Status Register(SR):\n\nSR[6] behaves the same as R/B# pin\n    SR[6] = 0 indicates the device is busy;\n    SR[6] = 1 means the device is ready\n\nSome NAND flash controller (i.e. ftnandc021) relies on the SR[6]\nto determine if the NAND flash erase/program is success or error timeout.\n\nP.S:\nThe exmaple NAND flash datasheet could be found at following link:\nhttp://www.mxic.com.tw/QuickPlace/hq/PageLibrary4825740B00298A3B.nsf/h_Index/8FEA549237D2F7674825795800104C26/$File/MX30LF1G08AA,%203V,%201Gb,%20v1.1.pdf\n\nSigned-off-by: Kuo-Jung Su <dantesu@gmail.com>\nReviewed-by: Peter Crosthwaite <peter.crosthwaite@xilinx.com>\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>",1,0.9995490908622742,NAND,hw/nand.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4d7fb187e07b35dcbe51e906927a94ed691e0c7a,53116ebfc98b72a00297255e216fac87c65e23a5,Andreas Frber,2013-02-17,"target-ppc: Register all types for TARGET_PPCEMB\n\nDon't attempt to suppress registration of CPU types, since the criteria\nis actually a property of the class and should thus become a field.\nSince we can't check a field set in a class_init function before\nregistering the type that leads to execution of that function, guard the\n-cpu class lookup instead and suppress exposing these classes in -cpu ?\nand in QMP.\n\nIn case someone tries to hot-add an incompatible CPU via device_add,\nerror out in realize.\n\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9994296431541444,PPC,target-ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,70b79849b84510604e46299672e663a703ad5a4b,d67d40ea07577b0a952d3bea5a2f92edf0ee26a6,David Gibson,2013-02-20,"target-ppc: Synchronize FPU state with KVM\n\nCurrently qemu does not get and put the state of the floating point and\nvector registers to KVM.  This is obviously a problem for savevm, as well\nas possibly being problematic for debugging of FP-using guests.\n\nThis patch fixes this by using new extensions to the ONE_REG interface to\nsynchronize the qemu floating point state with KVM.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996496438980104,KVM,target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,edbe35e0319c15ed2f373bcca626cbb4361f87c8,70b79849b84510604e46299672e663a703ad5a4b,Andreas Frber,2013-02-20,"target-ppc: Fix PPC_DUMP_SPR_ACCESS build\n\nA victim of the d523dd00a7d73b28f2e99acf45a4b3f92e56e40a AREG0\nconversion, insert the missing cpu_env arguments.\n\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996826648712158,PPC,target-ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e13da40448fabb0829d75b01dc57da5f44f391b3,edbe35e0319c15ed2f373bcca626cbb4361f87c8,Amadeusz Sawiski,2013-02-21,"PPC: Fix dma interrupt\n\nIn openbios (drivers/ide.c) they are set to\n\n0000000d 00000000 00000002 00000000\n0000000e 00000000 00000003 00000000\n0000000f 00000000 00000004 00000000\n(The last one seems to be not implemented in qemu)\n\nIt follows convention of how they are set on real machines,\nboth ide and dma ones are increased\n\nReal machine one:\nhttp://web.archive.org/web/20090107151044/http://penguinppc.org/historical/dev-trees-html/g4_agp_500_2.html\n00000013 00000001 0000000b 00000000\n00000014 00000001 0000000c 00000000\n00000015 00000001 0000000d 00000000\n\nSigned-off-by: Amadeusz Sawiski <amade@asmblr.net>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996949434280396,PPC,hw/ppc/mac_newworld.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,987422bc4a4c6366ca6a7fbfa38a9920fd7ada2f,e13da40448fabb0829d75b01dc57da5f44f391b3,Amadeusz Sawiski,2013-02-21,"PPC: xnu kernel expects FLUSH to be cleared on STOP\n\notherwise it gets stuck in a loop\nso clear it when unsetting run when flush is set\n\nvoid\nIODBDMAStop( volatile IODBDMAChannelRegisters *registers)\n{\n\n	IOSetDBDMAChannelControl( registers,\n	IOClearDBDMAChannelControlBits( kdbdmaRun )\n		| IOSetDBDMAChannelControlBits(  kdbdmaFlush ));\n\nDBDMA: writel 0x0000000000000b00 <= 0xa0002000\nDBDMA: channel 0x16 reg 0x0\nDBDMA:     status 0x00002000\n\n	while( IOGetDBDMAChannelStatus( registers) & (\n			kdbdmaActive | kdbdmaFlush))\n		eieio();\n\nDBDMA: readl 0x0000000000000b04 => 0x00002000\nDBDMA: channel 0x16 reg 0x1\nDBDMA: readl 0x0000000000000b04 => 0x00002000\nDBDMA: channel 0x16 reg 0x1\nDBDMA: readl 0x0000000000000b04 => 0x00002000\nDBDMA: channel 0x16 reg 0x1\nDBDMA: readl 0x0000000000000b04 => 0x00002000\nDBDMA: channel 0x16 reg 0x1\nit continues to get printed\n\n}\n\nSigned-off-by: Amadeusz Sawiski <amade@asmblr.net>\n[agraf: replace tabs with spaces]\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9995054006576538,PPC,hw/mac_dbdma.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d3fcbb16789c6f975ba6e22d8a2ba477519f51bc,6635075596e0ae583de9c04ff605e16ceaa7d294,Michael Walle,2013-03-06,configure: proper OpenGL/GLX probe\n\nProbe for GL and GLX symbols and X11 library. This fixes a build error\nwhere the header files are available but the libraries are not.\n\nSigned-off-by: Michael Walle <michael@walle.cc>,1,0.9996464252471924,X11,configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a8e5cc0c076a6e3a62f0e9aad88b007dccf3dd17,f95e26ddf526a025aa1334bbe527739397970443,Dunrong Huang,2013-03-19,"virtio-blk: Do not segfault fault if failed to initialize dataplane\n\n$ ~/usr/bin/qemu-system-x86_64 -enable-kvm -m 1024 -drive if=none,id=drive0,cache=none,aio=native,format=raw,file=/root/Image/centos-6.4.raw -device virtio-blk-pci,drive=drive0,scsi=off,x-data-plane=on,config-wce=on # make dataplane fail to initialize\nqemu-system-x86_64: -device virtio-blk-pci,drive=drive0,scsi=off,x-data-plane=on,config-wce=on: device is incompatible with x-data-plane, use config-wce=off\n*** glibc detected *** /root/usr/bin/qemu-system-x86_64: free(): invalid pointer: 0x00007f001fef12f8 ***\n======= Backtrace: =========\n/lib64/libc.so.6(+0x7d776)[0x7f00153a5776]\n/root/usr/bin/qemu-system-x86_64(+0x2c34ec)[0x7f001cf5b4ec]\n/root/usr/bin/qemu-system-x86_64(+0x342f9a)[0x7f001cfdaf9a]\n/root/usr/bin/qemu-system-x86_64(+0x33694e)[0x7f001cfce94e]\n....................\n\n (gdb) bt\n #0  0x00007f3bf3a12015 in raise () from /lib64/libc.so.6\n #1  0x00007f3bf3a1348b in abort () from /lib64/libc.so.6\n #2  0x00007f3bf3a51a4e in __libc_message () from /lib64/libc.so.6\n #3  0x00007f3bf3a57776 in malloc_printerr () from /lib64/libc.so.6\n #4  0x00007f3bfb60d4ec in free_and_trace (mem=0x7f3bfe0129f8) at vl.c:2786\n #5  0x00007f3bfb68cf9a in virtio_cleanup (vdev=0x7f3bfe0129f8) at /root/Develop/QEMU/qemu/hw/virtio.c:900\n #6  0x00007f3bfb68094e in virtio_blk_device_init (vdev=0x7f3bfe0129f8) at /root/Develop/QEMU/qemu/hw/virtio-blk.c:666\n #7  0x00007f3bfb68dadf in virtio_device_init (qdev=0x7f3bfe0129f8) at /root/Develop/QEMU/qemu/hw/virtio.c:1092\n #8  0x00007f3bfb50da46 in device_realize (dev=0x7f3bfe0129f8, err=0x7fff479c9258) at hw/qdev.c:176\n.............................\n\nIn virtio_blk_device_init(), the memory which vdev point to is a static\nmember of ""struct VirtIOBlkPCI"", not heap memory, and it does not\nget freed. So we shoule use virtio_common_cleanup() to clean this VirtIODevice\nrather than virtio_cleanup(), which attempts to free the vdev.\n\nThis error was introduced by commit 05ff686536f408ba6e8426b1b54d25bd3379fda2\nrecently.\n\nSigned-off-by: Dunrong Huang <huangdr@cloud-times.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.997465968132019,PCI,hw/virtio-blk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8b4a89884196aaa9115fee900396498b78245c91,085d813407453e498e05c37d988efba8c6f5af0a,Kevin Wolf,2013-03-19,serial: Fix debug format strings\n\nThis fixes the build of hw/serial.c with DEBUG_SERIAL enabled.\n\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>,1,0.9997147917747498,SERIAL,hw/serial.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,52ae646d4a3ebdcdcc973492c6a56f2c49b6578f,3f08ffb4a4741d147634761dc053ed386243a0de,Yeongkyoon Lee,2013-03-22,"tcg: Fix occasional TCG broken problem when ldst optimization enabled\n\nis_tcg_gen_code() checks the upper limit of TCG generated code range wrong, so\nthat TCG could get broken occasionally only when CONFIG_QEMU_LDST_OPTIMIZATION\nenabled. The reason is code_gen_buffer_max_size does not cover the upper range\nup to (TCG_MAX_OP_SIZE * OPC_BUF_SIZE), thus code_gen_buffer_max_size should be\nmodified to code_gen_buffer_size.\n\nCC: qemu-stable@nongnu.org\nSigned-off-by: Yeongkyoon Lee <yeongkyoon.lee@samsung.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997331500053406,TCG,translate-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6214e73cc5b75a4f8d89a70d71727edfa47a81b3,a5519b42cfd6c00e9f8b31c5aad7682e7a9f1181,Alex Williamson,2013-03-19,pcie: Add endpoint capability initialization wrapper\n\nFix the awkward API of mangling the caller specified PCIe type and\njust provide an interface to initialize an endpoint device.  This\nwill pick either a regular endpoint or integrated endpoint based on\nthe bus and return pcie_cap_init to doing exactly what is asked.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.998307466506958,PCI,"hw/pci/pcie.c, hw/pci/pcie.h, hw/usb/hcd-xhci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,32aea752f47f30c00878dcc323ac4debf0c9e645,1db8b5efe0c2b5000e50691eea61264a615f43de,Wendy Liang,2013-04-03,"hw/nand.c: Fix nand erase operation\n\nUsually, nand erase operation has only 2 or 3 address cycles.\nWe need to mask s->addr to zero unset stale high-order bytes in the nand address\nbefore using it as the erase address.\n\nThis fixes the NAND erase operation in Linux.\n\n[PC: Generalised to work for any number of address cycles rather than just 3]\n\nSigned-off-by: Wendy Liang <jliang@xilinx.com>\nSigned-off-by: Peter Crosthwaite <peter.crosthwaite@xilinx.com>\nMessage-id: 1364967188-26711-1-git-send-email-peter.crosthwaite@xilinx.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996654987335204,NAND,hw/nand.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b879f3084650410709051202e0e834b903b0858c,78c9f7c5b09408b4cac69a4fee97a118c8a89f6c,Richard Henderson,2013-04-05,"tcg-s390: Fix merge error in tgen_brcond\n\nWhen the TCG condition codes were re-organized last year,\nwe failed to update all of the ""old-style"" tests for unsigned.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9995927214622498,TCG,tcg/s390/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2f493fee18a62104caddfabaa2712b076528cede,06f3ed26983a04df74729d748a7b05400d8f3386,Andreas Frber,2013-04-09,"sh7750: Change cpu field type to SuperHCPU\n\nThis brings us a step closer to QOM'ified SH7750 SoC and\nfixes b350ab75 (target-sh4: Move PVR/PRR/CVR into SuperHCPUClass)\nassuming SuperHCPU type for SUPERH_CPU_GET_CLASS().\n\nFix Coding Style issues while at it (indentation, braces).\n\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.998782217502594,SH7750,"hw/sh4/r2d.c, hw/sh4/sh7750.c, hw/sh4/shix.c, include/hw/sh4/sh.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd2be1500337f0349f70802e4d8d43f5aca61477,e2ec3f976803b360c70d9ae2ba13852fa5d11665,Peter Maydell,2013-04-09,arm: fix location of some include files\n\nThe recent rearrangement of include files had some minor errors:\n devices.h is not ARM specific and should not be in arm/\n arm.h should be in arm/\n\nMove these two headers to correct this.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.999538779258728,ARM,"hw/alpha/typhoon.c, hw/arm/armv7m.c, hw/arm/boot.c, hw/arm/collie.c, hw/arm/exynos4210.c, hw/arm/exynos4_boards.c, hw/arm/gumstix.c, hw/arm/highbank.c, hw/arm/integratorcp.c, hw/arm/kzm.c, hw/arm/mainstone.c, hw/arm/musicpal.c, hw/arm/nseries.c, hw/arm/omap1.c, hw/arm/omap2.c, hw/arm/omap_sx1.c, hw/arm/palm.c, hw/arm/pic_cpu.c, hw/arm/realview.c, hw/arm/spitz.c, hw/arm/stellaris.c, hw/arm/strongarm.c, hw/arm/tosa.c, hw/arm/versatilepb.c, hw/arm/vexpress.c, hw/arm/xilinx_zynq.c, hw/arm/z2.c, hw/block/m25p80.c, hw/display/blizzard.c, hw/display/sm501.c, hw/display/tc6393xb.c, hw/input/stellaris_input.c, hw/input/tsc2005.c, hw/input/tsc210x.c, hw/intc/armv7m_nvic.c, hw/lm32/lm32_boards.c, hw/lm32/milkymist.c, hw/microblaze/petalogix_ml605_mmu.c, hw/microblaze/petalogix_s3adsp1800_mmu.c, hw/misc/cbus.c, hw/net/lan9118.c, hw/net/smc91c111.c, hw/ppc/virtex_ml507.c, hw/sh4/r2d.c, hw/timer/tusb6010.c, include/hw/arm.h, include/hw/arm/arm.h, include/hw/arm/devices.h, include/hw/devices.h, target-arm/arm-semi.c, target-arm/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3b8acc11d3f60792f9f716f2a93c258e729af980,e53339cf7cf90cf5c7a6bca64d0e7c0956f53a66,Paolo Bonzini,2013-03-18,"configure: fix TPM logic\n\nA non-native i386 or x86_64 emulator should not have TPM passthrough\nsupport, since the TPM is only present for those hosts.\n\nReviewed-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9991933703422546,TPM,"configure, default-configs/i386-softmmu.mak, default-configs/x86_64-softmmu.mak, tpm/Makefile.objs",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4c314da6d1b438c815533380981880fe3f49b1ac,ef809300fcf300a3efef479734e9456dc5b7581c,Richard Henderson,2013-04-02,"tcg-ppc64: Use TCGType throughout compares\n\nThe optimization/bug being fixed is that tcg_out_cmp was not applying the\nright type to loading a constant, in the case it can't be implemented\ndirectly.  Rather than recomputing the TCGType enum from the arch64 bool,\npass around the original TCGType throughout.\n\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9947254061698914,TCG,tcg/ppc64/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,21ad77892d321f15325d77f6fab700864af61f49,24a6e7f4d91e9ed5f8117ecb083431a23f8609a0,Jan Kiszka,2013-03-24,"target-i386: Fix including ""host"" in -cpu ? output\n\nkvm_enabled() cannot be true at this point because accelerators are\ninitialized much later during init. Also, hiding this makes it very hard\nto discover for users. Simply dump unconditionally if CONFIG_KVM is set.\n\nAdd explanation for ""host"" CPU type.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9996591806411744,KVM,target-i386/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a67188743bc30a3ad1358b8cd0a2a3cb64c10ff9,af203be36deb234550c3c8d2cbafbaef0f08ae1b,Gerd Hoffmann,2013-04-05,"xhci: fix address device\n\nZero-initialize the set-address dummy USBPacket,\nalso add buffer to avoid sanity checks triggering.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=929019\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996902942657472,USB,hw/usb/hcd-xhci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9bda413c96c3c7cced25ee4509c74d71e40f094d,8a0743cf747c659a3443e722a832c8f21f1cc774,Anthony Liguori,2013-04-16,"i440fx-test: add test to compare default register values\n\nThis test compares all of the default register values against the\nspec.  It turns out we deviate in quite a few places.  These\nplaces are really only visible to the BIOS though which is why\nthis hasn't created any problems.\n\nThe deviation actually happens in the core PCI layer so I suspect\nit's not a simple fix if we really care to fix it.  For now, just\ndisable the affected checks.\n\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>\nMessage-id: 1366123521-4330-6-git-send-email-aliguori@us.ibm.com",1,0.9995349645614624,PCI,"tests/Makefile, tests/i440fx-test.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a29f998d04a515e389ec4d5aa76ba5f585f4e540,ca98ac830f4e3a7d7729ec1ff22d54d97c86dcbd,Paolo Bonzini,2013-04-17,"elfload: fix size of registers for N32\n\nRegisters are 64-bit in size for the MIPS n32 ABI.  Define\ntarget_elf_greg_t accordingly, and use the correct function\nto do endian swaps.\n\nReviewed-by: Peter Maydell <peter.maydell@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>",1,0.9989425539970398,MIPS,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,881d588a98bf0dce98ddb65c15aa0854c0ac41ed,ef8489d45927a6d35b214365e4b39ab311b48f2a,Dmitry Fleytman,2013-04-19,"scsi: VMWare PVSCSI paravirtual device implementation\n\nSigned-off-by: Dmitry Fleytman <dmitry@daynix.com>\nSigned-off-by: Yan Vugenfirer <yan@daynix.com>\n[ Rename files to vmw_pvscsi, fix setting of hostStatus in\n  pvscsi_request_cancelled - Paolo ]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9704464673995972,SCSI,"default-configs/pci.mak, docs/specs/vmw_pvscsi-spec.txt, hw/scsi/Makefile.objs, hw/scsi/vmw_pvscsi.c, hw/scsi/vmw_pvscsi.h, include/hw/pci/pci.h, trace-events",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,66a96d7018b9cbabb73c9b87b62a37e4cc46580a,5f37ef92b7690423ac6311d3c597e182fc5f8fe6,Peter Maydell,2013-04-19,"versatile_pci: Implement the correct PCI IRQ mapping\n\nImplement the correct IRQ mapping for the Versatile PCI controller; it\ndiffers between realview and versatile boards, but the previous QEMU\nimplementation was correct only for the first PCI card on a versatile\nboard, since we weren't swizzling IRQs based on the slot number.\n\nSince this change would otherwise break any uses of PCI on Linux kernels\nwhich have an equivalent bug (since they have effectively only been\ntested against QEMU, not real hardware), we implement a mechanism\nfor automatically detecting those broken kernels and switching back\nto the old mapping. This works by looking at the values the kernel\nwrites to the PCI_INTERRUPT_LINE register in the config space, which\nis effectively the interrupt number the kernel expects the device\nto be using.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9908156394958496,PCI,hw/pci-host/versatile.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a2bff788d2316c037ce5ab72468b3fda1a0527a1,7468d73ac9a514b33c0c2797a1238db11163b23b,Peter Maydell,2013-04-19,"arm/realview: Fix mapping of PCI regions\n\nFix the mapping of the PCI regions for the realview board, which were\nall incorrect. (This was never noticed because the Linux kernel\ndoesn't actually include a PCI driver for the realview boards.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nAcked-by: Paul Brook <paul@codesourcery.com>",1,0.9996148347854614,PCI,hw/arm/realview.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dcc6ceffc066745777960a1f0d32f3a555924f65,153d02e338a063ad5c51ff0725d5d88285f44121,Luiz Capitulino,2013-04-18,"virtio-balloon: fix integer overflow in BALLOON_CHANGE QMP event\n\nBecause dev->actual is uint32_t, the expression 'dev->actual <<\nVIRTIO_BALLOON_PFN_SHIFT' is truncated to 32 bits. This overflows when\ndev->actual >= 1048576.\n\nTo reproduce:\n\n 1. Start a VM with a QMP socket and 5G of RAM\n 2. Connect to the QMP socket, negotiate capabilities and issue:\n\n   { ""execute"":""balloon"", ""arguments"": { ""value"": 1073741824 } }\n\n 3. Watch for BALLOON_CHANGE QMP events, the last one will incorretly be:\n\n   { ""timestamp"": { ""seconds"": 1366228965, ""microseconds"": 245466 },\n     ""event"": ""BALLOON_CHANGE"", ""data"": { ""actual"": 5368709120 } }\n\nTo fix it this commit casts it to ram_addr_t, which is ram_size's type.\n\nSigned-off-by: Luiz Capitulino <lcapitulino@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>",1,0.9996775388717652,"VIRTIO, VIRTIO_BALLOON",hw/virtio/virtio-balloon.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3f5cc97e2ba00b34fd20a5553ed9d2fecf32f7e3,3b7e759a4110690c9617b1ffa6a7c96a343a330d,Gerd Hoffmann,2013-04-18,usb-host: raise libusbx minimum version to 1.0.13\n\nAllows to remove one FIXME.  Makes LIBUSB_LOG_LEVEL_WARNING build errors\ngo away.  And starting with that version libusb has a LIBUSBX_API_VERSION\ndefine which allows to easily #ifdef version dependencies should that\nneed arrive in the future.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9990052580833436,USB,"configure, hw/usb/host-libusb.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b702d2aebeb6b1392f42262f537f70e6890233a7,48c75f484de13d59df6ae0e6becfe4ad4cd41ad5,Ed Maste,2013-04-25,virtio: Fix compilation without CONFIG_VHOST_SCSI\n\nSigned-off-by: Ed Maste <emaste@freebsd.org>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>,1,0.9996966123580932,"SCSI, VHOST_SCSI","hw/s390x/s390-virtio-bus.c, hw/s390x/virtio-ccw.c, hw/s390x/virtio-ccw.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8e7a6db96566fe4162edaeb3e8b62fc8004d1598,2cf3eb6df552cee74b52de9989e270b74e42847e,Aurelien Jarno,2013-03-31,"target-ppc: fix nego and subf*o instructions\n\nThe overflow computation of nego and subf*o instructions has been broken\nin commit ffe30937. Contrary to other targets, the instruction is subtract\nfrom an not subtract on PowerPC.\n\nThis patch fixes the issue by using the correct argument in the xor\ncomputation. Thanks to Peter Maydell for the hint.\n\nWith this change the PPC emulation passes the Gwenole Beauchesne\ntestsuite again.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996607303619384,PPC,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,09d9828ace37ead29d510a7e24e63c2f15cd4b1c,8e7a6db96566fe4162edaeb3e8b62fc8004d1598,Fabien Chouteau,2013-03-29,"PPC: fix hreset_vector for 60x, 7x0, 7x5, G2, MPC8xx, MPC5xx, 7400 and 7450\n\nAccording to the different user's manuals, the vector offset for system\nreset (both /HRESET and /SRESET) is 0x00100.\n\nThis patch may break support of some executables, as the power-on start\naddress may change. For a specific board, if the power-on start address\nis different than HRESET vector (i.e. 0x00000100 or 0xfff00100), this\nshould be fixed in board's initialization code.\n\nSigned-off-by: Fabien Chouteau <chouteau@adacore.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999650239944458,PPC,target-ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,31f2cb8ff415e376b05335dcf63ba38c00f29e5e,cae7f586419ad261f55ef8700bf8f3fa5b4879d4,Bharat Bhushan,2013-02-24,"Enable kvm emulated watchdog\n\nEnable the KVM emulated watchdog if KVM supports (use the\ncapability enablement in watchdog handler). Also watchdog exit\n(KVM_EXIT_WATCHDOG) handling is added.\nWatchdog state machine is cleared whenever VM state changes to running.\nThis is to handle the cases like return from debug halt etc.\n\nSigned-off-by: Bharat Bhushan <bharat.bhushan@freescale.com>\n[agraf: rebase to current code base, fix non-kvm cases]\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.998900294303894,KVM,"hw/ppc/ppc_booke.c, target-ppc/kvm.c, target-ppc/kvm_ppc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,20f649dd22dae13301c906c27a8768a318591ae8,31f2cb8ff415e376b05335dcf63ba38c00f29e5e,Alexander Graf,2013-04-04,"PPC: mac newworld: fix cpu NIP reset value\n\nOn -M mac99, we can run 970 CPUs. However, these CPUs define the initial\ninstruction pointer they start execution at as part of their bootup protocol,\nso effectively it's up to the board to decide where they start.\n\nThis went unnoticed, because they used to boot at the same location our flash\nwas mapped to, but due to the recent reset changes our 970 CPUs want to reset\nto 0x100 now, which is always a 0 instruction.\n\nSet the initial IP to something reasonable for -M mac99.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nReviewed-by: Fabien Chouteau <chouteau@adacore.com>",1,0.9918959736824036,PPC,hw/ppc/mac_newworld.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c8ff5daa09516272117eb23cd00da5d188ba73eb,20f649dd22dae13301c906c27a8768a318591ae8,Alexander Graf,2013-04-19,"PPC: Fix compile with profiling enabled\n\nWhen using profiling, we rely on profile_getclock() being available\nat our disposal. Somehow that function got moved from an indirect\ninclude we used to have in translate-init.c, so that we were now\nleft not properly compiling anymore.\n\nAdd an explicit include to timer.h which defines profile_getclock,\nso that we can compile again.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999427616596222,PPC,translate-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f36951c19f15f3c053a31234bd2c297d86c1a052,c8ff5daa09516272117eb23cd00da5d188ba73eb,David Gibson,2013-04-07,"pseries: Fix incorrect calculation of RMA size in certain configurations\n\nFor the pseries machine, we need to advertise to the guest the size of its\nRMA - that is the amount of memory it can access with the MMU off.  For HV\nKVM, this is constrained by the hardware limitations on the virtual RMA of\none hash PTE per PTE group in the hash page table.  We already had code to\ncalculate this, but it was assuming the VRMA page size was the same as the\n(host) backing page size for guest RAM.\n\nIn the case of a host kernel configured for 64k base page size, but running\non hardware (or firmware) which only allows 4k pages, the hose will do all\nits allocations with a 64k page size, but still use 4k hardware pages for\nactual mappings.  Usually that's transparent to things running under the\nhost, but in the case of the maximum VRMA size it's not.\n\nThis patch refines the RMA size calculation to instead use the largest\navailable hardware page size (as reported by the SMMU_INFO call) which is\nless than or equal to the backing page size.  This now gives the correct\nRMA size in all cases I've tested.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999589502811432,KVM,target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e03c902cb617414dae49d77a810f6957ff7affac,702763fa322ea69dde92517735507e0ac3879b5d,David Gibson,2013-04-07,"pseries: Fix some small errors in XICS logic\n\nUnder certain circumstances the emulation for the pseries ""XICS"" interrupt\ncontroller was clearing a pending interrupt from the XISR register, without\nalso clearing the corresponding priority variable.  This will cause\nproblems later when can trigger sanity checks in the under-development\nin-kernel XICS implementation.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997281432151794,XICS,hw/ppc/xics.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,414f5d1448fef9aad6d37f1d40d1158396573447,db72c9f256ae70b30c5d5985234f085df4226c55,Alexander Graf,2013-04-26,"PPC: Fix dcbz for linux-user on 970\n\nThe default with linux-user for dcbz on 970 is to emulate 32 byte clears.\nHowever, redoing the dcbzl support we added a check to not honor the bit\nin HID5 that sets this.\n\nRemove the #ifdef check on linux user, so that we get 32 byte clears again.\n\nReported-by: Riku Voipio <riku.voipio@iki.fi>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9907239079475404,PPC,target-ppc/mem_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ed605126a8d826e60587cc21d9e7b95e8c49b6f6,909eedb74f88d1d6d9e6bbdc34875772e7a8a5ab,Aurelien Jarno,2013-04-21,"tcg: fix deposit_i64 op on 32-bit targets\n\nOn 32-bit TCG targets, when emulating deposit_i64 with a mov_i32 +\ndeposit_i32, care should be taken to not overwrite the low part of\nthe second argument before the deposit when it is the same the\ndestination.\n\nThis fixes the shld instruction in qemu-system-x86_64, which in turns\nfixes booting ""system rescue CD version 2.8.0"" on this target.\n\nReported-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996973276138306,TCG,tcg/tcg-op.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fc4d60ee16e9c20404e9970b421ac3e96df4c214,ed605126a8d826e60587cc21d9e7b95e8c49b6f6,Richard Henderson,2013-03-12,"tcg-arm: Fix local stack frame\n\nWe were not allocating TCG_STATIC_CALL_ARGS_SIZE, so this meant that\nany helper with more than 4 arguments would clobber the saved regs.\nRealizing that we're supposed to have this memory pre-allocated means\nwe can clean up the tcg_out_arg functions, which were trying to do\nmore stack allocation.\n\nAllocate stack memory for the TCG temporaries while we're at it.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9994878768920898,TCG,tcg/arm/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9625036d14bdcc908fa06cd45599115258452c46,852e82f303884139ba59f7f26e761d937a25fa55,Artyom Tarasenko,2013-04-27,sparc64: fix loosing interrupts\n\n- clear interrupts only on writing to the interrupt clear registers\n- don't overwrite a currently active interrupt request\n- use the correct addresses for the interrupt clear registers\n  (section 19.3.3.3 of the UltraSPARC-IIi Users Manual)\n\nSigned-off-by: Artyom Tarasenko <atar4qemu@gmail.com>\nSigned-off-by: Blue Swirl <blauwirbel@gmail.com>,1,0.9996806383132936,SPARC,hw/pci-host/apb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ec57db1630f9cdcd13c8c55acbc8daf5237aabf1,b48df71c916478ff658d143d0742e85c78348fad,Jason Wang,2013-04-25,"virtio-net: unbreak the minix guest\n\nMultiqueue patchset conditionally add control vq only when guest negotiate the\nfeature. Though the spec is not clear on this but it breaks the minix guest\nsince it will identify the ctrl vq even if it does not support it. Though this\nbehavior seems a violation on the spec ""If the VIRTIO_NET_F_CTRL_VQ feature bit\nis negotiated, identify the control virtqueue."", to keep the backward\ncompatibility, always add the ctrl vq at end of the queues.\n\nReported-by: Aurelien Jarno <aurelien@aurel32.net>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Jason Wang <jasowang@redhat.com>\nMessage-id: 1366874663-2566-1-git-send-email-jasowang@redhat.com\nCc: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Jason Wang <jasowang@redhat.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9992893934249878,"VIRTIO, VIRTIO_NET",hw/net/virtio-net.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9ab880b3a2f4b80bd5d8b18a312b3afed65dc036,b7da6c60814a5c8703e9fa0d943ec3240e9d94ab,Alexander Graf,2013-04-30,"QOM: Fail casts for unknown types\n\nWhen we try to cast an object to an unknown type, fail the cast. Today\nwe would simply run into an assert().\n\nThis fixes a bug on qemu-system-s390x for me that gets triggered by the\naudio code looking for PCI and ISA buses.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-id: 1367326936-28539-1-git-send-email-agraf@suse.de\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997078776359558,PCI,qom/object.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e9016ee2bda1b7757072b856b2196f691aee3388,9f032464c06c563fe0df49eac9caaaa90a68a219,Jason Wang,2013-04-25,virtio-net: count VIRTIO_NET_F_MAC when calculating config_len\n\nCommit 14f9b664 (hw/virtio-net.c: set config size using host features) tries to\ncalculate config size based on the host features. But it forgets the\nVIRTIO_NET_F_MAC were always set for qemu later. This will lead a zero config\nlen for virtio-net device when both VIRTIO_NET_F_STATUS and VIRTIO_NET_F_MQ were\ndisabled form command line. Then qemu will crash when user tries to read the\nconfig of virtio-net.\n\nFix this by counting VIRTIO_NET_F_MAC and make sure the config at least contains\nthe mac address.\n\nCc: Jesse Larrew <jlarrew@linux.vnet.ibm.com>\nSigned-off-by: Jason Wang <jasowang@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-id: 1366874814-2658-1-git-send-email-jasowang@redhat.com\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>,1,0.9989168643951416,"VIRTIO, VIRTIO_NET",hw/net/virtio-net.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1085819368e8693f08307e72f0082d759f67ef03,0514ef2fbb3882afe410ba7800c79fd0ef5dbf00,Andreas Frber,2013-05-02,"cpus: Fix pausing TCG CPUs while in vCPU thread\n\nDue to a preceding while loop, no CPU would've been put into stopped\nstate. Reinitialize the variable.\nThis fixes commit d798e97456658ea7605303b7c69b04ec7df95c10 (Allow to use\npause_all_vcpus from VCPU context) for non-KVM case.\n\nWhile at it, change a 0 to false, amending commit\n4fdeee7cd4c8f90ef765537b9346a195d9483ab5 (cpu: Move stop field to\nCPUState).\n\nReviewed-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.999440371990204,"KVM, TCG",cpus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b76ac80a5ca9f2e19405419172c0dcaf0370d4f5,9c7757290c6d80c2f5bde6fa71d2c9fe2b331c8c,Kazuya Saito,2013-03-29,kvm-all: add kvm_run_exit tracepoint\n\nThis patch enable us to know exit reason of KVM_RUN. It will help us\nknow where the trouble is caused.\n\nSigned-off-by: Kazuya Saito <saito.kazuya@jp.fujitsu.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>,1,0.9993576407432556,KVM,"kvm-all.c, trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,88432756ead526d9c321c20f10fafdbe40e5eaba,467b34689d277fa56c09ad07ca0f08d7d7539f6d,Fabien Chouteau,2013-04-30,"prep: Fix NIP reset value\n\nThe value was changed by commit 09d9828ace37ead29d510a7e24e63c2f15cd4b1c\n""PPC: fix hreset_vector for 60x, ..."".\n\nChange it back for prep machine to unbreak OpenHack'Ware.\n\nSigned-off-by: Fabien Chouteau <chouteau@adacore.com>\nSigned-off-by: Andreas Frber <andreas.faerber@web.de>",1,0.9989770650863647,PPC,hw/ppc/prep.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cefd3cdbdd9fc9a7d5ab324291904074d2aa69a0,b55519a0f29fca0ef7ebc5d87ee4bfa7304dc219,Bharat Bhushan,2013-04-29,PPC: e500: initialize GPRs as per epapr\n\nePAPR defines the initial values of cpu registers.\nThis patch initialize the GPRs as per ePAPR specification.\n\nThis resolves the issue of guest reboot/reset (guest hang on reboot).\n\nSigned-off-by: Bharat Bhushan <bharat.bhushan@freescale.com>\n[agraf: add whitespace line]\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.99942809343338,PPC,hw/ppc/e500.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,126a79300971ab9314925c3ebbbd6c776bebf3f1,4807ab4f36740b64a0dfa30ae90fe2e8a7d96fbb,Alexander Graf,2013-05-02,"PPC: Add MMU type for 2.06 with AMR but no TB pages\n\nWhen running -cpu on a POWER7 system with PR KVM, we mask out the 1TB\nMMU capability from the MMU type mask, but not the AMR bit.\n\nThis leads to us having a new MMU type that we don't check for in our\nMMU management functions.\n\nAdd the new type, so that we don't have to worry about breakage there.\nWe're not going to use the TCG MMU management in that case anyway.\n\nThe long term fix for this will be to move all these MMU management\nfunctions to class callbacks.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9984554052352904,"KVM, PPC, TCG","target-ppc/cpu.h, target-ppc/mmu_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0ee20e665840d8a887c145b368ee121cb86a028e,15d23fb96656b1ae31bf4305b2108230c29298c6,Kevin Wolf,2013-05-06,"ahci: Don't allow creating slave drives\n\nAn IDE bus provided by AHCI can only take a single IDE drive. If you add\na drive as slave, qemu used to accept the command line but the device\nwouldn't be actually usable. Catch the situation instead and error out.\n\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9995259046554564,AHCI,"hw/ide/ahci.c, hw/ide/cmd646.c, hw/ide/internal.h, hw/ide/isa.c, hw/ide/macio.c, hw/ide/mmio.c, hw/ide/piix.c, hw/ide/qdev.c, hw/ide/via.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,554ecc5774badd181458fe3d6a1624c2ede9f04e,c0f5f9ce86ddca0a7d7ca60012059a5a18aa9c07,Alexander Graf,2013-05-06,"PPC: Fix rldcl\n\nThe implementation for rldcl tried to always fetch its\nparameters from the opcode, even though the opcode was\nalready passed in in decoded and different forms.\n\nUse the parameters instead, fixing rldcl.\n\nReported-by: Torbjorn Granlund <tg@gmplib.org>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996984004974364,PPC,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,913b4b6bf39c97bc503a629b43c66d3270b5f3f5,bc04d89165a4be6169cf44f1bdada9d48f8bad4b,Peter Maydell,2013-05-14,"hw/pci-host/versatile.c: Provide property for forcing broken IRQ mapping\n\nAlthough we try our best to automatically detect broken versions\nof Linux which assume the old broken IRQ mapping we used to implement\nfor our model of the Versatile PCI controller, it turns out that\nsome particularly new kernels manage to outwit the autodetection.\n\nWe therefore provide a property for enabling the old broken IRQ\nmapping, so that if users happen to have such a kernel they can\nwork around its deficiencies with the command line option:\n  -global versatile_pci.broken-irq-mapping=1\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1368545616-22344-4-git-send-email-peter.maydell@linaro.org\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9933719635009766,PCI,hw/pci-host/versatile.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ea3164aafccdfdd8a9543787cdfa25fac30a5def,d8992825aedbb83b7a0e98284e0527bc82a6f7df,Kwok Cheung Yeung,2013-05-17,"linux-user: Fix MIPS ISA transitions during signal handling\n\nProcessors supporting the MIPS16 or microMIPS ISAs set bit 0 in target\naddresses to indicate that the target is written using a compressed ISA.\n\nDuring signal handling, when jumping to or returning from a signal\nhandler, bit 0 of the destination PC is inspected and MIPS_HFLAG_M16 in\nhflags cleared or set accordingly.  Bit 0 of the PC is then cleared.\n\nSigned-off-by: Kwok Cheung Yeung <kcy@codesourcery.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.999546468257904,MIPS,linux-user/signal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dade922f357c709c02eed2e1b1891453896756dd,338ea905e948613607c98346e127fc9472c57f0d,Jordan Justen,2013-05-29,"isapc: Fix non-KVM qemu boot (read/write memory for isapc BIOS)\n\nThe isapc machine with seabios currently requires the BIOS region\nto be read/write memory rather than read-only memory.\n\nKVM currently cannot support the BIOS as a ROM region, but qemu\nin non-KVM mode can. Based on this, isapc machine currently only\nworks with KVM.\n\nTo work-around this isapc issue, this change avoids marking the\nBIOS as readonly for isapc.\n\nThis change also will allow KVM to start supporting ROM mode\nvia KVM_CAP_READONLY_MEM.\n\nSigned-off-by: Jordan Justen <jordan.l.justen@intel.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-id: 1369816047-16384-2-git-send-email-jordan.l.justen@intel.com\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9994951486587524,KVM,"hw/block/pc_sysfw.c, hw/i386/pc_piix.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dec3fc9657e0682637de4d5a29d947284d01985c,39c93c67c5995bd8db7a3fa3b95dcd4e6bc881a7,Richard Henderson,2013-05-29,"target-i386: Fix aflag logic for CODE64 and the 0x67 prefix\n\nThe code reorganization in commit 4a6fd938 broke handling of PREFIX_ADR.\nWhile fixing this, tidy and comment the code so that it's more obvious\nwhat's going on in setting both aflag and dflag.\n\nThe TARGET_X86_64 ifdef can be eliminated because CODE64 expands to the\nconstant zero when TARGET_X86_64 is undefined.\n\nCc: Paolo Bonzini <pbonzini@redhat.com>\nReported-by: Laszlo Ersek <lersek@redhat.com>\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-id: 1369855851-21400-1-git-send-email-rth@twiddle.net\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997456669807434,X86_64,target-i386/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,756335292f2b46775992c314cc70b54480a46d26,f10acc8b38d65a66ffa0588a036489d7fa6a593e,Michael Marineau,2013-05-12,"Fix usage of USB_DEV_FLAG_IS_HOST flag.\n\nUSB_DEV_FLAG_IS_HOST is the bit number, not value. Booting with a\n""Fitbit Base Station"" USB dongle was triggering this assert.\n\nSigned-off-by: Michael Marineau <mike@marineau.org>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996572732925416,USB,hw/usb/core.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,58ee9b0ae05d81c74d6869a25ce4263fc22ed809,a7d4207d378069a5bb3175a131e8fdedd39ef97d,Stefano Stabellini,2013-06-03,"xen_machine_pv: do not create a dummy CPU in machine->init\n\nThis fixes a regression introduced by:\n\ncommit 62fc403f11523169eb4264de31279745f48e3ecc\nAuthor: Igor Mammedov <imammedo@redhat.com>\nDate:   Mon Apr 29 18:54:13 2013 +0200\n\n    target-i386: Attach ICC bus to CPU on its creation\n\n    X86CPU should have parent bus so it could provide bus for child APIC.\n\nThe commit makes it mandatory to pass a valid ICC bus to cpu_x86_create,\nbut cpu_x86_init just passes NULL to it.\nxen_machine_pv uses cpu_x86_init, therefore it has been broken.\n\nThis patch fixes the problem by removing the dummy CPU creation\naltogether from xen_init_pv, relying on the fact that QEMU can now cope\nwith a machine without an emulated CPU.\n\nSigned-off-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nReviewed-by: Andreas Frber <afaerber@suse.de>\nCC: imammedo@redhat.com\nCC: qemu-stable@nongnu.org",1,0.9934021830558776,APIC,hw/i386/xen_machine_pv.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,26ac7a31fbf5522d2ca3f0e2e5b5c8e915701f66,4f293bd6e53739e089f33b458f70a9c4ac136b92,Paolo Bonzini,2013-06-03,"gdbstub: fix for commit 87f25c12bfeaaa0c41fb857713bbc7e8a9b757dc\n\nThis commit used the wrong check to prevent an assertion failure.\nAfter this commit, you need to start a guest in the monitor, you\ncannot use anymore the ""c"" command in the debugger.  This is\nundesirable.  The commit's aim was to prevent a restart\nafter a KVM internal error or something like that; use\nrunstate_needs_reset() for that.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Luiz Capitulino <lcapitulino@redhat.com>\nMessage-id: 1370272015-9659-2-git-send-email-pbonzini@redhat.com\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997408986091614,KVM,gdbstub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,baefb8bf8e4a708c601bbab898a6039cd9cd12e3,c5633d998a27502ad8cc10c2d46f91b02555ae7a,Stefan Hajnoczi,2013-06-03,"ivshmem: add missing error exit(2)\n\nIf the user fails to specify 'chardev' or 'shm' then we cannot continue.\nExit right away so that we don't invoke shm_open(3) with a NULL pointer.\n\nIt would be nice to replace exit(1) with error returns in the PCI device\n.init() function, but leave that for another patch since exit(1) is\ncurrently used elsewhere.\n\nSpotted by Coverity.\n\nCc: Cam Macdonell <cam@cs.ualberta.ca>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>",1,0.9984532594680786,PCI,hw/misc/ivshmem.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d8b6895f7a8e5bcc5be1557e8048db43882f3b33,1befce9652a1b7cfca0191b3031fae3cbce26ef0,Luiz Capitulino,2013-06-10,"block: bdrv_reopen_prepare(): don't use QERR_OPEN_FILE_FAILED\n\nThe call to drv->bdrv_reopen_prepare() can fail due to reasons\nother than an open failure. Unfortunately, we can't use errno\nnor -ret, cause they are not always set.\n\nStick to a generic error message then.\n\nSigned-off-by: Luiz Capitulino <lcapitulino@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nAcked-by: Kevin Wolf <kwolf@redhat.com>",1,0.9996598958969116,LED,block.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,90260c6c0960b2745d79455ceaa6cb50fb796e02,f52cc467426e43792eb39f81705766bcb3d9e96a,Jan Kiszka,2013-05-26,"exec: Resolve subpages in one step except for IOTLB fills\n\nExcept for the case of setting the IOTLB entry in TCG mode, we can avoid\nthe subpage dispatching handlers and do the resolution directly on\naddress_space_lookup_region. An IOTLB entry describes a full page, not\nonly the region that the first access to a sub-divided page may return.\n\nThis patch therefore introduces a special translation function,\naddress_space_translate_for_iotlb, that avoids the subpage resolutions.\nIn contrast, callers of the existing address_space_translate service\nwill now always receive the terminal memory region section. This will be\nimportant for breaking the BQL and for enabling unaligned memory region.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995872378349304,TCG,"cputlb.c, exec.c, include/exec/cputlb.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7dca8043f3483ff34ac954c7012b721731ee5719,df32fd1c9f53dd3b7abd28e29f851965039eabda,Alexey Kardashevskiy,2013-04-29,"memory: give name to every AddressSpace\n\nThe ""info mtree"" command in QEMU console prints only ""memory"" and ""I/O""\naddress spaces while there are actually a lot more other AddressSpace\nstructs created by PCI and VIO devices. Those devices do not normally\nhave names and therefore not present in ""info mtree"" output.\n\nThe patch fixes this.\n\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995743632316588,PCI,"exec.c, hw/pci/pci.c, hw/ppc/spapr_pci.c, hw/ppc/spapr_vio.c, include/exec/memory.h, memory.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,329f97fc4ff4b533fcd2d8f4eab6c9c2568aed27,4999f3a8a6009de05ba82e58e723277917f16254,Anthony PERARD,2013-06-17,"qxl: Fix QXLRam initialisation.\n\nThe qxl driver expect NULL for QXLRam.memory_configs, but this is never\ninitialized.\n\nIf memory is set to 0xc2c2.., it leads to a spice-critical error when\ntrying to start qxl.\n\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>",1,0.9996968507766724,QXL,hw/display/qxl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f3c8fac25f119641fd30f2014bfd368a0023769e,c23045ded7571f0eaad95920ab00b6bc9c3a91e6,Stefan Weil,2013-06-09,"i.MX31: Fix PRCS bit test\n\ncppcheck detected a condition which was always false.\n\nAccording to the MCIMX31 Reference Manual, the PRCS bits have to be 01\nto select the Frequency Pre-Multiplier (FPM). PRCS uses bits 1 and 2,\nso we have to test for 2.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Peter Chubb <peter.chubb@nicta.com.au>\nMessage-id: 1370810662-32320-1-git-send-email-sw@weilnetz.de\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999692440032959,IMX,hw/misc/imx_ccm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,87d2f8254347879f80b3a834834a6b934dea5ecc,3e5087329489e0beceecf3426f1216619821937f,Alon Levy,2013-05-12,"arch_init/ram_load: add error message for block length mismatch\n\nMakes it easier to debug situations where the source and target have\ndifferent ram blocks in a device and migration fails due to that, for\ninstance a BAR size change on a PCI device.\n\nSigned-off-by: Alon Levy <alevy@redhat.com>\nSigned-off-by: Juan Quintela <quintela@redhat.com>",1,0.9996267557144164,PCI,arch_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,886b75779104f38c30cc2594fcf2b214615a242d,b048960f15dbedeceb4e1d7e469080cf68d4cf67,Fabien Chouteau,2013-06-21,"PPC: Add dump_mmu() for 6xx\n\n""(qemu) info tlb"" is a very useful tool for debugging, so I implemented\nthe missing 6xx version.\n\nSigned-off-by: Fabien Chouteau <chouteau@adacore.com>\n[agraf: fix printfs on hwaddr to PRI]\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9995903372764589,PPC,target-ppc/mmu_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b177d8b77c7301da9b51b829b0edcff367e92023,886b75779104f38c30cc2594fcf2b214615a242d,Fabien Chouteau,2013-06-18,"PPC: Fix GDB read on code area for PPC6xx\n\nOn PPC 6xx, data and code have separated TLBs. Until now QEMU was only\nlooking at data TLBs, which is not good when GDB wants to read code.\n\nThis patch adds a second call to get_physical_address() with an\nACCESS_CODE type of access when the first call with ACCESS_INT fails.\n\nSigned-off-by: Fabien Chouteau <chouteau@adacore.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997022747993468,PPC,target-ppc/mmu_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0fbc20740342713f282b118b4a446c4c43df3f4a,fa4ba923bd539647ace9d70d226a848bd6a89dac,Michael S. Tsirkin,2013-06-04,"kvm: zero-initialize KVM_SET_GSI_ROUTING input\n\nkvm_add_routing_entry makes an attempt to\nzero-initialize any new routing entry.\nHowever, it fails to initialize padding\nwithin the u field of the structure\nkvm_irq_routing_entry.\n\nOther functions like kvm_irqchip_update_msi_route\nalso fail to initialize the padding field in\nkvm_irq_routing_entry.\n\nIt's better to just make sure all input is initialized.\n\nOnce it is, we can also drop complex field by field assignment and just\ndo the simple *a = *b to update a route entry.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Gleb Natapov <gleb@redhat.com>",1,0.9994010925292968,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,85c6e4fabb4c26e5cd8a024415ed2f5bcdd578db,568f0690fd9aa4d39d84b04c1a5dbb53a915c3fe,David Gibson,2013-06-06,"pci: Add root bus argument to pci_get_bus_devfn()\n\npci_get_bus_devfn() interprets a full PCI address string to give a PCIBus *\nand device/function number within that bus.  Currently it assumes it is\nworking on an address under the primary PCI root bus.  This patch extends\nit to allow the caller to specify a root bus.  This might seem a little odd\nsince the supplied address can (theoretically) include a PCI domain number.\nHowever, attempting to use a non-zero domain number there is currently an\nerror, so that shouldn't really cause problems.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.998982846736908,PCI,"hw/pci/pci-hotplug-old.c, hw/pci/pci.c, include/hw/pci/pci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9bc473057db773dd24be381ccbde4c686595d2e7,29b358f93a48a415853d11fc9b02f711b5ec8f76,David Gibson,2013-06-06,"pci: Simpler implementation of primary PCI bus\n\nCurrently pci_find_primary_bus() searches the list of root buses for one\nwith domain 0.  But since host buses are always registered with domain 0,\nthis just amounts to finding the only PCI host bus.  The only remaining\nusers of pci_find_primary_bus() are in pci-hotplug-old.c, which implements\nthe old style pci_add/pci_del commands.\n\nTherefore, this patch redefines pci_find_primary_bus() to find the only\nPCI root bus, returning an error if there are multiple roots.  The callers\nin pci-hotplug-old.c are updated correspondingly, to produce sensible\nerror messages.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.938041925430298,PCI,"hw/pci/pci-hotplug-old.c, hw/pci/pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,36ad0e948e15d8d86c8dec1c17a8588d87b0107d,7f9d6e540ec4f3bf4dc3501c4a1405998c2be4e7,Markus Armbruster,2013-07-04,"Fix -machine options accel, kernel_irqchip, kvm_shadow_mem\n\nMultiple -machine options with the same ID are merged.  All but the\none without an ID are to be silently ignored.\n\nIn most places, we query these options with a null ID.  This is\ncorrect.\n\nIn some places, we instead query whatever options come first in the\nlist.  This is wrong.  When the -machine processed first happens to\nhave an ID, options are taken from that ID, and the ones specified\nwithout ID are silently ignored.\n\nExample:\n\n    $ upstream-qemu -nodefaults -S -display none -monitor stdio -machine id=foo -machine accel=kvm,usb=on\n    $ upstream-qemu -nodefaults -S -display none -monitor stdio -machine id=foo,accel=kvm,usb=on -machine accel=xen\n    $ upstream-qemu -nodefaults -S -display none -monitor stdio -machine accel=xen -machine id=foo,accel=kvm,usb=on\n\n    $ qemu-system-x86_64 -nodefaults -S -display none -monitor stdio -machine accel=kvm,usb=on\n    QEMU 1.5.50 monitor - type 'help' for more information\n    (qemu) info kvm\n    kvm support: enabled\n    (qemu) info usb\n    (qemu) q\n    $ qemu-system-x86_64 -nodefaults -S -display none -monitor stdio -machine id=foo -machine accel=kvm,usb=on\n    QEMU 1.5.50 monitor - type 'help' for more information\n    (qemu) info kvm\n    kvm support: disabled\n    (qemu) info usb\n    (qemu) q\n    $ qemu-system-x86_64 -nodefaults -S -display none -monitor stdio -machine id=foo,accel=kvm,usb=on -machine accel=xen\n    QEMU 1.5.50 monitor - type 'help' for more information\n    (qemu) info kvm\n    kvm support: enabled\n    (qemu) info usb\n    USB support not enabled\n    (qemu) q\n    $ qemu-system-x86_64 -nodefaults -S -display none -monitor stdio -machine accel=xen -machine id=foo,accel=kvm,usb=on\n    xc: error: Could not obtain handle on privileged command interface (2 = No such file or directory): Internal error\n    xen be core: can't open xen interface\n    failed to initialize Xen: Operation not permitted\n\nOption usb is queried correctly, and the one without an ID wins,\nregardless of option order.\n\nOption accel is queried incorrectly, and which one wins depends on\noption order and ID.\n\nAffected options are accel (and its sugared forms -enable-kvm and\n-no-kvm), kernel_irqchip, kvm_shadow_mem.\n\nAdditionally, option kernel_irqchip is normally on by default, except\nit's off when no -machine options are given.  Bug can't bite, because\nkernel_irqchip is used only when KVM is enabled, KVM is off by\ndefault, and enabling always creates -machine options.  Downstreams\nthat enable KVM by default do get bitten, though.\n\nUse qemu_get_machine_opts() to fix these bugs.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nMessage-id: 1372943363-24081-5-git-send-email-armbru@redhat.com\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997075200080872,"KVM, USB","hw/ppc/e500.c, kvm-all.c, target-i386/kvm.c, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4268b096272657b129a014f6f019625c4c8df2c1,e78e9ae4a933504d383703870d491615b0261801,Don Koch,2013-07-09,pci: fix BRDIGE typo\n\nFix typo in macro name: PCI_CLASS_BRDIGE_PCI_INF_SUB.\n\nSigned-off-by: Don Koch <dkoch@verizon.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.999716579914093,PCI,"hw/pci-bridge/i82801b11.c, include/hw/pci/pci_ids.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,536d8cda4adef3d202a800688ed5f63dae1f0f88,8d43ea1c97d0d611f9cf868fe78b17f2a1031298,Alexander Graf,2013-06-29,"PPC: Mac: Fix guest exported tbfreq values\n\nWe can tell the guest the frequency of its time base through fwcfg.\n\nHowever, we tell it a different value from the speed tb actually runs\nat. Let's fix it and make the tbfreq initialization and the fwcfg exposure\nuse the same values.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996843338012696,PPC,"hw/ppc/mac_newworld.c, hw/ppc/mac_oldworld.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,58c0c311838dd2c6622a156b4d261aa127c510dd,33ce36bb33cc00ac3070d49e17b4afed62b412a8,Alexander Graf,2013-06-30,PPC: dbdma: Fix debug print\n\nThere was a debug print that didn't compile for me because the format\nand the arguments weren't in sync. Fix it up.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9996598958969116,PPC,hw/misc/macio/mac_dbdma.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7eaba824b6bc14ee724f8593891f2165d2faa4ab,58c0c311838dd2c6622a156b4d261aa127c510dd,Alexander Graf,2013-06-30,"PPC: dbdma: Allow new commands in RUN state\n\nThe DBDMA controller can not change its command stream while it's\nactively streaming data, true. But the fact that it's in RUN state\ndoesn't actually indicate anything. It could just as well be in\nWAIT while in RUN. And then it's legal to change commands.\n\nThis fixes a real world issue I've encountered with Mac OS X.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996554851531982,PPC,hw/misc/macio/mac_dbdma.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a62eaa26c1d6d48fbdc3ac1d32bd1314f5fdc8c9,0e1146a7a011a69d8cbc958b4f7ebad186730fc3,Kevin Wolf,2013-07-15,"ahci: Fix FLUSH command\n\nAHCI couldn't cope with asynchronous commands that aren't doing DMA, it\nsimply wouldn't complete them. Due to the bug fixed in commit f68ec837,\nFLUSH commands would seem to have completed immediately even if they\nwere still running on the host. After the commit, they would simply hang\nand never unset the BSY bit, rendering AHCI unusable on any OS sending\nflushes.\n\nThis patch adds another callback for the completion of asynchronous\ncommands. This is what AHCI really wants to use for its command\ncompletion logic rather than an DMA completion callback.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9997302889823914,AHCI,"hw/ide/ahci.c, hw/ide/core.c, hw/ide/internal.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7b4b0e9eda51902b53bc1a2318df53cdb8b72eed,39360f0b91d38790b5756d621ca9a7dd93ca8816,Vijay Mohan Pandarathil,2013-07-15,"vfio: QEMU-AER: Qemu changes to support AER for VFIO-PCI devices\n\nAdd support for error containment when a VFIO device assigned to a KVM\nguest encounters an error. This is for PCIe devices/drivers that support AER\nfunctionality. When the host OS is notified of an error in a device either\nthrough the firmware first approach or through an interrupt handled by the AER\nroot port driver, the error handler registered by the vfio-pci driver gets\ninvoked. The qemu process is signaled through an eventfd registered per\nVFIO device by the qemu process. In the eventfd handler, qemu decides on\nwhat action to take. In this implementation, guest is brought down to\ncontain the error.\n\nThe kernel patches for the above functionality has been already accepted.\n\nThis is a refresh of the QEMU patch which was reviewed earlier.\nhttp://marc.info/?l=linux-kernel&m=136281557608087&w=2\nThis patch has the same contents and has been built after refreshing\nto latest upstream and after the linux headers have been updated in qemu.\n\n	- Create eventfd per vfio device assigned to a guest and register an\n          event handler\n\n	- This fd is passed to the vfio_pci driver through the SET_IRQ ioctl\n\n	- When the device encounters an error, the eventfd is signalled\n          and the qemu eventfd handler gets invoked.\n\n	- In the handler decide what action to take. Current action taken\n          is to stop the guest.\n\nSigned-off-by: Vijay Mohan Pandarathil <vijaymohan.pandarathil@hp.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9996888637542723,"KVM, PCI, VFIO",hw/misc/vfio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0a53f010745635c39a83756a948df60a84e88fe5,6453a3a69488196f26d12654c6b148446abdf3d6,Ronnie Sahlberg,2013-06-23,"Fix iSCSI crash on SG_IO with an iovector\n\nDon't assume that SG_IO is always invoked with a simple buffer,\ncheck the iovec_count and if it is >= 1 then we need to pass an array\nof iovectors to libiscsi instead of just a plain buffer.\n\nSigned-off-by: Ronnie Sahlberg <ronniesahlberg@gmail.com>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996991157531738,SCSI,block/iscsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,91bea4e2bb1a5f7954a3b3a4f2e28e96bd25c458,7e4d5a9f94a0d8485bf63e1f8256e0a0014495ab,Peter Lieven,2013-07-11,iscsi: assert that sectors are aligned to LUN blocksize\n\nif the blocksize of an iSCSI LUN is bigger than the BDRV_SECTOR_SIZE\nit is possible that sector_num or nb_sectors are not correctly\naligned.\n\nto avoid corruption we fail requests which are misaligned.\n\nSigned-off-by: Peter Lieven <pl@kamp.de>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996310472488404,SCSI,block/iscsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f5147c93d0e7f91df0215598017a4d9d6a48f0ee,442a59c8ddc55f327ec0219d810fe4580177716a,Peter Maydell,2013-07-16,"linux-user: Enable NPTL for SPARC targets\n\nProvide the missing cpu_set_tls(), and resolve the FIXME in\ncpu_clone_regs() by clearing the carry flag for the child.\nThis allows us to turn on building with NPTL for SPARC.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9996671676635742,SPARC,"configure, linux-user/sparc/target_cpu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,444ba6797ef6ef331fe9fd34309b1ec59caaede3,ed4fbd10823a7b0dbded6b481a68973e47f7e14d,Orit Wasserman,2013-07-22,"Fix real mode guest migration\n\nOlder KVM versions save CS dpl value to an invalid value for real mode guests\n(0x3). This patch detect this situation when loading CPU state and set all the\nsegments dpl to zero.\nThis will allow migration from older KVM on host without unrestricted guest\nto hosts with restricted guest support.\nFor example migration from a Penryn host (with kernel 2.6.32) to\na Westmere host (for real mode guest) will fail with ""kvm: unhandled exit 80000021"".\n\nSigned-off-by: Orit Wasserman <owasserm@redhat.com>\nReviewed-by: Juan Quintela <quintela@redhat.com>\nSigned-off-by: Juan Quintela <quintela@redhat.com>",1,0.9993821382522584,KVM,target-i386/machine.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3e47c249b93d5cc1e0f9404dbe243682598ba8fb,444ba6797ef6ef331fe9fd34309b1ec59caaede3,Orit Wasserman,2013-07-22,Fix real mode guest segments dpl value in savevm\n\nOlder KVM version put invalid value in the segments registers dpl field for\nreal mode guests (0x3).\nThis breaks migration from those hosts to hosts with unrestricted guest support.\nWe detect it by checking CS dpl value for real mode guest and fix the dpl values\nof all the segment registers.\n\nSigned-off-by: Orit Wasserman <owasserm@redhat.com>\nReviewed-by: Juan Quintela <quintela@redhat.com>\nSigned-off-by: Juan Quintela <quintela@redhat.com>,1,0.9996249675750732,KVM,target-i386/machine.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c7819dfbd22be6a3711f11056f33300e881563d5,885a73f72b967900296d71c97cc7c560585a9086,Peter Maydell,2013-07-06,"linux-user: Fix target_stat and target_stat64 for OpenRISC\n\nOpenRISC uses the asm-generic versions of target_stat and\ntarget_stat64, but it was incorrectly using the x86/ARM/etc version\ndue to a misplaced defined(TARGET_OPENRISC).  The previously unused\nOpenRISC section of the ifdef ladder also defined an incorrect\ntarget_stat and omitted the target_stat64 definition.  Fix\ntarget_stat, provide target_stat64, and add a comment noting that\nthese are the asm-generic versions for the benefit of future ports.\n\nReviewed-by: Jia Liu <proljc@gmail.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9996726512908936,"ARM, OPENRISC",linux-user/syscall_defs.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,82f05b69e6b701157b4a2e7d76ae6cf5542d66c9,c7819dfbd22be6a3711f11056f33300e881563d5,Peter Maydell,2013-07-06,linux-user: Fix pipe syscall return for SPARC\n\nSPARC is one of the CPUs which has a funny syscall ABI for the\npipe syscall; add it to the set of special cases in do_pipe().\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>,1,0.999630093574524,SPARC,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ddaa7e5a2ad0ef20fd3d1cc44a9ade75e5eabcfc,732f9e89a1c737f738c445ff24929a1bc137d1a9,Alexander Graf,2013-07-06,"linux-user: Fix epoll on ARM hosts\n\nThe epoll emulation uses data structures without packing them, so the\ncompiler might choose to add padding inside.\n\nThis patch makes the most offending one (target_epoll_event) a packed\nstructure to make sure we don't pad it by accident. ARM would pad it,\nso declare the padding mandatory for ARM targets.\n\nThis fixes i386-on-ARM epoll emulation for me.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9997010827064514,ARM,linux-user/syscall_defs.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bdb75c79878c7a23a7891124d50483329dd8924d,685015021774e98b87ed48ac2c55dfd3917fd820,Paolo Bonzini,2013-07-22,"mipssim: do not use isa_mmio\n\nUntested, this board does not support PCI so it cannot run endianness-test.\nIt should fix endianness bugs in I/O port access.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Anthony Liguori <aliguori@us.ibm.com>\nMessage-id: 1374501278-31549-11-git-send-email-pbonzini@redhat.com\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996591806411744,PCI,hw/mips/mips_mipssim.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9282b73a4078f10b5d1c96707aeed213eedbc8e1,38e478eccfb1ace415914a331c8e1b16ae64b57f,Christian Borntraeger,2013-07-26,"target-s390x: Fix CPUState rework fallout\n\nCommit f17ec444c3d39f76bcd8b71c2c05d5754bfe333e\nexec: Change cpu_memory_rw_debug() argument to CPUState\n\nmissed to update s390x KVM code, breaking the build.\n\nLet's fix it up.\n\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9892675280570984,KVM,target-s390x/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b96919e068388309b655c7dc1afa41706d728efd,405c97c3a5950d8a49b90cb977e33b6b3f9a8f95,Mark Cave-Ayland,2013-07-26,"sun4m: add display width and height to the firmware configuration\n\nCurrently the graphics resolution for TCX is fixed at 1024x768, however\nother framebuffers are capable of supporting additional resolutions.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nCC: Anthony Liguori <aliguori@us.ibm.com>\nCC: Blue Swirl <blauwirbel@gmail.com>\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9994850158691406,TCX,hw/sparc/sun4m.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,04dd125942b11136a8c96d36591ad043b8653a7b,f6019e5fada012f7f396c89968f2c242f92f40df,Stefan Weil,2013-07-12,"PPC: dbdma: macio: Fix format specifiers (build regression)\n\nFix a number of warnings for 32 bit builds (tested on MingW and Linux):\n\n  CC    hw/ide/macio.o\nqemu/hw/ide/macio.c: In function 'pmac_ide_atapi_transfer_cb':\nqemu/hw/ide/macio.c:134:9: error: format '%lx' expects argument of type 'long unsigned int', but argument 3 has type 'hwaddr' [-Werror=format]\nqemu/hw/ide/macio.c: In function 'pmac_ide_transfer_cb':\nqemu/hw/ide/macio.c:215:5: error: format '%ld' expects argument of type 'long int', but argument 5 has type 'int64_t' [-Werror=format]\nqemu/hw/ide/macio.c:222:9: error: format '%lx' expects argument of type 'long unsigned int', but argument 3 has type 'hwaddr' [-Werror=format]\nqemu/hw/ide/macio.c:264:9: error: format '%lx' expects argument of type 'long unsigned int', but argument 3 has type 'hwaddr' [-Werror=format]\ncc1: all warnings being treated as errors\nmake: *** [hw/ide/macio.o] Error 1\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nAcked-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>",1,0.9994356036186218,PPC,hw/ide/macio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,240ce26a0533a6e5ee472789fbfbd9f7f939197e,4877866ee4fbd760c943577bb6d1eba489fb6c6e,James Hogan,2013-06-24,"target-mips: fix branch in likely delay slot tcg assert\n\nWhen a branch delay slot contains another branch instruction, the code\ngenerated raises an exception, however since is_branch==1,\nhandle_delay_slot() doesn't get called immediately. This means\nctx->bstate isn't set to BS_BRANCH, and the decoder continues decoding\nuntil a non-branch instruction is found.\n\nIf the first branch was a branch likely instruction then each\ninstruction after it generates code for the unlikely case, to go to the\nnext tb starting after the delay slot. This results in multiple goto_tb\ntcg ops being generated with the same exit number. When debug is enabled\nthis hits:\n\ntcg-op.h:2589: tcg_gen_goto_tb: Assertion `(tcg_ctx.goto_tb_issue_mask & (1 << idx)) == 0' failed.\n\nThis is fixed by removing is_branch entirely, and calling\nhandle_delay_slot() if (ctx.hflags & MIPS_HFLAG_BMASK) was set prior to\nthe current instruction being decoded. This still prevents\nhandle_delay_slot() being called immediately after a branch but allows\nit to still be called after a branch within a delay slot.\n\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997380375862122,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,35c648078aa493c3b976840eb7cf2e53ab5b7a2d,1817f56a834f55311af20d1c004b259c16fb1515,Paul Burton,2013-06-14,"mips_malta: generate SMBUS EEPROM data\n\nThe malta contains 2 EEPROMs, one containing SPD data for the SDRAM and\nanother containing board information such as serial number and MAC\naddress. These are both exposed via the PIIX4 SMBUS. Generating this\ndata and providing it to smbus_eeprom_init will allow YAMON to read a\nserial number for the board and prevent it from warning that the EEPROM\ndata is invalid.\n\nWe already have the contents of the SPD EEPROM which are exposed via\nFPGA I2C accesses, this is provided as part of the SMBUS EEPROM data\ntoo for consistency.\n\nSigned-off-by: Paul Burton <paul.burton@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.999439299106598,"I2C, PIIX4, SMBUS",hw/mips/mips_malta.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f05d4d94d6bb0e240e6cfda65972fd86601f9f0d,b0932e0617c65ae1cb0362416ec0ef32766abf5d,Aurelien Jarno,2013-07-29,"mips_malta: fix copy of the 0x1fc00000 region\n\nCopy the whole 0x1fe000000 region into 0x1fc00000, independently of the\nloaded BIOS size. This fix the MIPS make check tests.\n\nReported-by: Andreas Frber <afaerber@suse.de>\nTested-by: Andreas Frber <afaerber@suse.de>\nCc: Paul Burton <paul.burton@imgtec.com>\nCc: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996770620346068,MIPS,hw/mips/mips_malta.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a00817cc4c18b7872e92765a4736fb2227cc237b,5739006b9ab1ae3680359db5a291eae97eef0f9f,Max Filippov,2013-03-04,"target-xtensa: avoid double-stopping at breakpoints\n\nenv->exception_taken is set every time an exception is taken. It is used\nto allow single-stepping to stop at the first exception handler\ninstruction. This however must exclude debug exceptions, as otherwise\nfirst step from the instruction where breakpoint was hit stops at that\nsame instruction.\nAlso don't check env->exception_taken directly from the\ngen_intermediate_code_internal, instead allocate and use TB flag\nXTENSA_TBFLAG_EXCEPTION.\n\nSigned-off-by: Max Filippov <jcmvbkbc@gmail.com>",1,0.999554455280304,XTENSA,"target-xtensa/cpu.h, target-xtensa/op_helper.c, target-xtensa/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e68cb8b4fa7e20e666a3bfc571a0e075733d22bd,1112cf94c82dfc743b62b5bcb96dd20f47b683a8,Alexey Kardashevskiy,2013-07-18,"pseries: savevm support with KVM\n\nAt present, the savevm / migration support for the pseries machine will not\nwork when KVM is enabled.  That's because KVM manages the guest's hash page\ntable in the host kernel, so qemu has no visibility of it.  This patch\nfixes this by using new kernel interfaces to extract and reinsert the\nguest's hash table during the migration process.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nMessage-id: 1374175984-8930-11-git-send-email-aliguori@us.ibm.com\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9995367527008056,KVM,"hw/ppc/spapr.c, include/hw/ppc/spapr.h, target-ppc/kvm.c, target-ppc/kvm_ppc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8cdd2e0abbf593a38a146d8dfc998754cefbc27a,125ee0ed9cad04307498ac2b7b0d51ad8a807360,Peter Maydell,2013-07-29,"tpm.c: Don't try to put -1 in a variable of type TpmModel\n\nThe TpmModel type is an enum (valid values 0 and 1), which means\nthe compiler can legitimately decide that comparisons like\n'tpm_models[i] == -1' are never true. (For example it could\npick 'unsigned char' as its type for representing the enum.)\n\nAvoid this issue by using TPM_MODEL_MAX to mark entries in\nthe tpm_models[] array which aren't filled in, instead of -1.\n\nThis silences a clang warning:\n\n tpm.c:43:27: error: comparison of constant -1 with expression of type\n      'enum TpmModel' is always false [-Werror,-Wtautological-constant-out-of-range-compare]\n        if (tpm_models[i] == -1) {\n            ~~~~~~~~~~~~~ ^  ~~\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1375096931-13842-1-git-send-email-peter.maydell@linaro.org\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9996750354766846,TPM,tpm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,19d46d711d93cb3a37dada945cb3410278b94bc3,eddbf0ab9db8385d7cb57e23891c1d41488b303e,Andreas Frber,2013-07-27,"fdc: Fix inheritence for SUNW,fdtwo\n\nSince commit dd3be7420774f7dc8f37a96ca24d07f0b6f31b3b SUNW,fdtwo's\ninitfn (realizefn since 940194c2369e50d91d1abf6f36d43853eea5e539)\nwas using SYSBUS_FDC() cast. This uses type sysbus-fdc rather than\nSUNW,fdtwo.\n\nFix this by letting SUNW,fdtwo and sysbus-fdc both inherit from an\nabstract type base-sysbus-fdc.\n\nThis allows to consolidate realizefns by using instance_init functions.\nClean up variable names and variable order while at it.\n\nReported-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nCc: Hu Tao <hutao@cn.fujitsu.com>\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9997020363807678,FDC,hw/block/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b04636f8665a9492143529340eab4450d492d2ee,f6bda9cb99345158722f2e70634dda6b4d53ea67,Peter Maydell,2013-07-29,"linux-user/signal.c: PPC: Silence clang uninitialized-use warning\n\nSilence a clang warning in a PPC signal return function:\n\n/home/petmay01/linaro/qemu-from-laptop/qemu/linux-user/signal.c:4611:9: error: variable 'sr_addr' is used\n      uninitialized whenever 'if' condition is true [-Werror,-Wsometimes-uninitialized]\n    if (!lock_user_struct(VERIFY_READ, sc, sc_addr, 1))\n        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/home/petmay01/linaro/qemu-from-laptop/qemu/linux-user/signal.c:4636:28: note: uninitialized use occurs here\n    unlock_user_struct(sr, sr_addr, 1);\n                           ^~~~~~~\n/home/petmay01/linaro/qemu-from-laptop/qemu/linux-user/qemu.h:442:27: note: expanded from macro 'unlock_user_struct'\n    unlock_user(host_ptr, guest_addr, (copy) ? sizeof(*host_ptr) : 0)\n                          ^\n\nThis happens when we unlock a user struct which we never\nattempted to lock. Strictly, clang is actually wrong here -- it\nhasn't been able to spot that unlock_user_struct() doesn't use\nits second argument if the first is NULL. However it doesn't\nseem too unreasonable to demand that we pass in initialized\nvalues to it.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1375095632-13735-2-git-send-email-peter.maydell@linaro.org\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9981344938278198,PPC,linux-user/signal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,978fae9f1ac47e22890a1bd9ebf5fa46fe8b6ef7,b04636f8665a9492143529340eab4450d492d2ee,Peter Maydell,2013-07-29,"linux-user/signal.c: Avoid using uninitialized data in ARM sigreturn\n\nRephrase code used in ARM sigreturn functions to avoid using\nuninitialized variables. This fixes one genuine problem ('frame'\nwould not be initialized if we took the error-exit path because\nour stackpointer was misaligned) and one which is clang being\nalarmist (frame_addr wouldn't be initialized, though this is\nharmless since unlock_user_struct ignores its second argument\nin these cases; however since we don't generally make use of\nthis not-really-documented effect it's better avoided).\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1375095632-13735-3-git-send-email-peter.maydell@linaro.org\nSigned-off-by: Anthony Liguori <aliguori@us.ibm.com>",1,0.9997207522392272,ARM,linux-user/signal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf66ee8e207d5c1831c7d4d8c7f2544314fc676c,9f0f1a0c096f29a856f2e6903beda45b44ce9cdd,Alexey Kardashevskiy,2013-07-26,"hcd-ohci: add dma error handling\n\nCurrent hcd-ohci does not handle DMA errors. However they may happen\nso here we introduce simple error handling.\n\nOn such errors, a typical OHCI will stop operating, signal the guest\nabout the error by sending ""UnrecoverableError Event"", set itself into\nerror state and set ""Detected Parity Error"" in its PCI config space\nto signal that it got an error and so does the patch.\n\nThis also adds ohci_die() call to ohci_bus_start() to handle possible\nfailure of qemu_new_timer_ns().\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999698042869568,PCI,hw/usb/hcd-ohci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b9ac5d923b820a0f0152a2df56067e55ce34f487,2ddc463725d0fa24e0910fba77fef2777fa94a74,Yongbok Kim,2013-08-02,target-mips: fix 34Kf configuration for DSP ASE\n\n34Kf core does support DSP ASE.\nCP0_Config3 configuration for 34Kf and description are wrong.\n\nPlease refer to MIPS32(R) 34Kf(TM) Processor Core Datasheet\n\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.999606430530548,MIPS,target-mips/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a1fc6246b3964e74ddb3a7e0b8bba03af1c6ac38,79761c6681f0d1cc1c027116fcb4382d41ed3ece,Leon Alrae,2013-08-06,"target-mips: fix decoding of microMIPS POOL32Axf instructions\n\nFix incorrect assumption that DSP and non-DSP versions of the following\ninstructions have the same encoding:\nMULT, MULTU, MADD, MADDU, MSUB, MSUBU, MFHI, MFLO, MTHI, MTLO.\nCorrect the existing (non-DSP) instructions and add DSP equivalents.\n\nReference:\nMIPS Architecture for Programmers Volume II-B: The microMIPS32\nInstruction Set\nMIPS Architecture for Programmers Volume IV-e: The MIPS DSP Module for\nthe microMIPS32 Architecture\n\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9995775818824768,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,85711e6bafb1910b50ff181e8507cb904ef7e84d,6fdf98f281f85ae6e2883bed2f691bcfe33b1f9f,James Hogan,2013-08-08,"tcg/mips: fix invalid op definition errors\n\ntcg/mips/tcg-target.h defines various operations conditionally depending\nupon the isa revision, however these operations are included in\nmips_op_defs[] unconditionally resulting in the following runtime errors\nif CONFIG_DEBUG_TCG is defined:\n\nInvalid op definition for movcond_i32\nInvalid op definition for rotl_i32\nInvalid op definition for rotr_i32\nInvalid op definition for deposit_i32\nInvalid op definition for bswap16_i32\nInvalid op definition for bswap32_i32\ntcg/tcg.c:1196: tcg fatal error\n\nFix with ifdefs like the i386 backend does for movcond_i32.\n\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nCc: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.99973326921463,TCG,tcg/mips/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4965b7f056177ddfb816319e9ff5e766898d0bc5,9604f70fdf8e21ec0dbf6eac5e59a0eb8beadd64,Gerd Hoffmann,2013-08-05,i82801b11: Fix i82801b11 PCI host bridge config space\n\npci_bridge_write_config() was not being used.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.99967622756958,PCI,hw/pci-bridge/i82801b11.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cc413a39355ed910f22f8f0be5e233c08a0773a0,8b7a5415f9297c1fbae5bff28dcb059d50c1b045,Aurelien Jarno,2013-08-12,"mips_malta: do not raise exceptions when accessing invalid memory\n\nSince commit c658b94f6e8c206c59d02aa6fbac285b86b53d2c, MIPS raises\nexceptions when accessing invalid memory. This is not the correct\nbehaviour for MIPS Malta Core LV, as the GT-64120A system controller\njust ignore undecoded access. This feature is used by the Linux kernel\nto probe for some devices.\n\nEmulate the correct behaviour in QEMU by adding an empty slot covering\nthe entire memory space decoded by the GT-64120A.\n\nTested-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9993388056755066,MIPS,"default-configs/mips-softmmu.mak, default-configs/mips64-softmmu.mak, default-configs/mips64el-softmmu.mak, default-configs/mipsel-softmmu.mak, hw/mips/mips_malta.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3f1beaca88bffa4828cc86beb89ff70474516d91,f202039811d8746b0586d2fd5f61de6c8cf68056,Peter Maydell,2013-08-20,"target-arm: Implement 'int' loglevel\n\nThe 'int' loglevel for recording interrupts and exceptions\nrequires support in the target-specific code. Implement\nit for ARM. This improves debug logging in some situations\nthat were otherwise pretty opaque, such as when we fault\ntrying to execute at an exception vector address, which\nwould otherwise cause an infinite loop of taking exceptions\nwithout any indication in the debug log of what was going on.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nMessage-id: 1375700771-21665-1-git-send-email-peter.maydell@linaro.org",1,0.7894473075866699,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,66aae5e1ecc38e8658c5cc69a0b3ceeb4967619c,6033e840c7b1db1055d02199fa3a28a4fd7b2386,Peter Maydell,2013-08-20,"default-configs: Fix A9MP and A15MP config names\n\nWhen individual CONFIG_ switches for the A9MPcore and A15MPcore\ndevices were created, they were inadvertently given incorrect names\n(CONFIG_ARM9MPCORE and CONFIG_ARM15MPCORE). These CPUs are\n""Cortex-A9MP"" and ""Cortex-A15MP"", and in particular the ARM9 is\na different (rather older) CPU than the Cortex-A9. Rename the\nCONFIG_ switches to bring them into line with the source file\nnames and CPU names.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1376056215-26391-1-git-send-email-peter.maydell@linaro.org",1,0.9970110654830932,ARM,"default-configs/arm-softmmu.mak, hw/cpu/Makefile.objs",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7477cd3897082d2650d520a4e9aa7f8affa3dd5d,7dc52526850849e8e0fe56ced809d0798481a2f6,Marcelo Tosatti,2013-08-19,kvm: i386: fix LAPIC TSC deadline timer save/restore\n\nThe configuration of the timer represented by MSR_IA32_TSCDEADLINE depends on:\n\n- APIC LVT Timer register.\n- TSC value.\n\nChange the order to respect the dependency.\n\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9994513392448424,APIC,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1466cef32dd5e7ef3c6477e96d85d92302ad02e3,9eda7d373e9c691c070eddcbe3467b991f67f6bd,Michael S. Tsirkin,2013-08-27,"pc: fix regression for 64 bit PCI memory\n\ncommit 398489018183d613306ab022653552247d93919f\n    pc: limit 64 bit hole to 2G by default\nintroduced a way for management to control\nthe window allocated to the 64 bit PCI hole.\n\nThis is useful, but existing management tools do not know how to set\nthis property.  As a result, e.g. specifying a large ivshmem device with\nsize > 4G is broken by default.  For example this configuration no\nlonger works:\n\n-device ivshmem,size=4294967296,chardev=cfoo\n-chardev socket,path=/tmp/sock,id=cfoo,server,nowait\n\nFix this by detecting that hole size was not specified\nand defaulting to the backwards-compatible value of 1 << 62.\n\nCc: qemu-stable@nongnu.org\nCc: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9994643330574036,PCI,"hw/pci-host/piix.c, hw/pci-host/q35.c, include/hw/i386/pc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,821c808bd1863efc2c1e977800ae77db633a185c,867c47cbba5d5ff8f27cc22634f30da56d09c2c4,Paolo Bonzini,2013-08-27,kvm-stub: fix compilation\n\nNon-KVM targets fail compilation on the uq/master branch.\nFix the prototype of kvm_irqchip_add_irqfd_notifier to match\nthe one in kvm-all.c.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Gleb Natapov <gleb@redhat.com>,1,0.9997041821479796,KVM,kvm-stub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5dac82ce0d8716b54f73f96bf50811644a76e5c2,779f659021d1754117bce1aab9370dc22f37ae07,Alexey Kardashevskiy,2013-08-21,spapr-pci: fix config space access to support bridges\n\nspapr-pci config space accessors use find_dev() to find a PCI device.\nHowever find_dev() only searched on a primary bus and did not do\nrecursive search through secondary buses so config space access was not\npossible for devices other that on a primary bus.\n\nThis fixed find_dev() by using the PCI API pci_find_device() function.\nThis effectively enabled pci bridges on spapr.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9997228980064392,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7bb438b6a102766ac58e1a2981f8749e4515aa01,42561bf2e464a2d682707af1640fc2db1e937c42,Alexander Graf,2013-08-29,PPC: KVM: Compile fix for qemu_notify_event\n\nThe function qemu_notify_event is defined by a header that we don't\ninclude in the PPC KVM code. Include it to get the code building\nagain.\n\n  target-ppc/kvm_ppc.c: In function 'kvmppc_timer_hack':\n  target-ppc/kvm_ppc.c:26:5: error: implicit declaration of function 'qemu_notify_event' [-Werror=implicit-function-declaration]\n  target-ppc/kvm_ppc.c:26:5: error: nested extern declaration of 'qemu_notify_event' [-Werror=nested-externs]\n\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9997005462646484,"KVM, PPC",target-ppc/kvm_ppc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f62cafd4c87fad7bb9b9544b4cf4991d34764b11,78dbbbe4dff95369c63bf77ee0df23371e1d6602,Sebastian Ottlik,2013-09-10,"target-arm: fix ARMv7M stack alignment on reset\n\nWhen the initial SP is loaded from the vector table on ARMv7M systems the two\nleast significant bits are ignored as the stack is always aligned at a four byte\nboundary (see ARM DDI 0403C, B1.4.1 and B1.5.5). So far QEMU did not ignore\nthese bits leading to a stack alignment inconsitent with real hardware for\nbinaries that rely on this behaviour. This patch fixes this issue by masking the\ntwo least significant bits when loading the SP.\n\nSigned-off-by: Sebastian Ottlik <ottlik@fzi.de>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1378286595-27072-1-git-send-email-ottlik@fzi.de\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997407793998718,ARM,target-arm/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b21da4e504fbdb907543a918b190783dc896d8e1,518ad5f2a0754f0a5ce4e478b79f4926ce46111b,Hans de Goede,2013-09-17,xhci: Fix memory leak on xhci_disable_ep\n\nThe USBPacket-s in the transfers need to be cleaned up so that the memory\nallocated by the iovec in there gets freed.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.999669909477234,USB,hw/usb/hcd-xhci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3e469dbfe413c25d48321c3a19ddfae0727dc6e5,2d1fe1873a984d1c2c89ffa3d12949cafc718551,Andrea Arcangeli,2013-07-25,"exec: always use MADV_DONTFORK\n\nMADV_DONTFORK prevents fork to fail with -ENOMEM if the default\novercommit heuristics decides there's too much anonymous virtual\nmemory allocated. If the KVM secondary MMU is synchronized with MMU\nnotifiers or not, doesn't make a difference in that regard.\n\nSecondly it's always more efficient to avoid copying the guest\nphysical address space in the fork child (so we avoid to mark all the\nguest memory readonly in the parent and so we skip the establishment\nand teardown of lots of pagetables in the child).\n\nIn the common case we can ignore the error if MADV_DONTFORK is not\navailable. Leave a second invocation that errors out in the KVM path\nif MMU notifiers are missing and KVM is enabled, to abort in such\ncase.\n\nSigned-off-by: Andrea Arcangeli <aarcange@redhat.com>\nTested-By: Benoit Canet <benoit@irqsave.net>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Gleb Natapov <gleb@redhat.com>",1,0.9957866072654724,KVM,exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,97577fd4c31777780a22b77afa4590086ac962c7,3e469dbfe413c25d48321c3a19ddfae0727dc6e5,James Hogan,2013-08-27,cpu: Move cpu state syncs up into cpu_dump_state()\n\nThe x86 and ppc targets call cpu_synchronize_state() from their\n*_cpu_dump_state() callbacks to ensure that up to date state is dumped\nwhen KVM is enabled (for example when a KVM internal error occurs).\n\nMove this call up into the generic cpu_dump_state() function so that\nother KVM targets (namely MIPS) can take advantage of it.\n\nThis requires kvm_cpu_synchronize_state() and cpu_synchronize_state() to\nbe moved out of the #ifdef NEED_CPU_H in <sysemu/kvm.h> so that they're\naccessible to qom/cpu.c.\n\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nCc: Andreas Frber <afaerber@suse.de>\nCc: Alexander Graf <agraf@suse.de>\nCc: Gleb Natapov <gleb@redhat.com>\nCc: qemu-ppc@nongnu.org\nCc: kvm@vger.kernel.org\nSigned-off-by: Gleb Natapov <gleb@redhat.com>,1,0.9093905687332152,"KVM, MIPS","include/sysemu/kvm.h, qom/cpu.c, target-i386/helper.c, target-ppc/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4fe6e9ecb7f9a221bfb3695079fb87946263a1e0,4357930b8a7d2fcff2d8121ec518117428a781e7,Alexey Kardashevskiy,2013-09-04,"kvm: fix traces to use %x instead of %d\n\nKVM request types are normally defined using hex constants but QEMU traces\nprint decimal values instead, which is not very convenient.\n\nThis changes the request type format from %d to %x.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nReviewed-by: Andreas Frber <afaerber@suse.de>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9974990487098694,KVM,trace-events,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,07ac4dc5db22a31e47b149abdbc5ea99013cf4de,6f20f55bccdead8e68c753093f3af6a74cbba883,Stefan Weil,2013-09-12,"tci: Fix qemu-alpha on 32 bit hosts (wrong assertions)\n\nDebian busybox-static for alpha has a load address of 0x0000000120000000\nwhich is mapped to 0x0000000020000000 for 32 bit hosts.\n\nqemu-alpha uses the TCG opcodes qemu_ld32, qemu_ld64, qemu_st32 and\nqemu_st64 which all raise the assertion (taddr == host_addr).\n\nRemove all assertions of this type because they are either wrong or\nunnecessary (when sizeof(tcg_target_ulong) >= sizeof(target_ulong)).\n\nCc: qemu-stable <qemu-stable@nongnu.org>\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>",1,0.9996706247329712,TCG,tci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cbf5b968567dbd5a71165c1d30a0ce351bdca11a,6c2679fc19560699679200fb42ab4659bcbe7f79,Alexey Kardashevskiy,2013-09-04,"kvm: fix traces to use %x instead of %d\n\nKVM request types are normally defined using hex constants but QEMU traces\nprint decimal values instead, which is not very convenient.\n\nThis changes the request type format from %d to %x.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nReviewed-by: Andreas Frber <afaerber@suse.de>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9976316690444946,KVM,trace-events,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1308c464a8414ce3c6f79e172255fb90b5aa313d,dbf4f7965af974593da596ec12ac877d248efed6,Kwok Cheung Yeung,2013-09-09,"linux-user: Check type of microMIPS break instruction\n\nmicroMIPS instructions that cause breakpoint exceptions come in\n16-bit and 32-bit variants.  When handling exceptions caused by\nsuch instructions, the instruction type needs to be taken into\naccount when extracting the break code.\n\nThe code has also been restructured for better clarity.\n\nSigned-off-by: Kwok Cheung Yeung <kcy@codesourcery.com>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9995678067207336,MIPS,linux-user/main.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8327a470df78cb41de95f6be0133a59e0a721e2c,29b69198690f4b2754338c7c01f8ebe004b2efac,Richard Henderson,2013-08-31,"tcg-ppc64: Use TCG_REG_Rn constants\n\nInstead of bare N, for clarity.  The only (intentional) exception made\nis for insns that encode R|0, i.e. when R0 encoded into the insn is\ninterpreted as zero not the contents of the register.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9993335604667664,TCG,tcg/ppc64/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c74f41bbcc83d12787ac42f2c74fc2be54e9f222,a684f3cf9b9b9c3cb82be87aafc463de8974610c,Paolo Bonzini,2013-09-13,"x86: fix migration from pre-version 12\n\nOn KVM, the KVM_SET_XSAVE would be executed with a 0 xstate_bv,\nand not restore anything.\n\nSince FP and SSE data are always valid, set them in xstate_bv at reset\ntime.  In fact, that value is the same that KVM_GET_XSAVE returns on\npre-XSAVE hosts.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Gleb Natapov <gleb@redhat.com>",1,0.9993250370025636,KVM,"target-i386/cpu.c, target-i386/cpu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b1c50c5f248805be747e96e89efbe784ee99f764,64fa25a0efcadda6e8197e8ea578f6117d01bb4b,Alex Williamson,2013-10-04,vfio-pci: Fix endian issues in vfio_pci_size_rom()\n\nVFIO is always little endian so do byte swapping of our mask on the\nway in and byte swapping of the size on the way out.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>\nReported-by: Alexey Kardashevskiy <aik@ozlabs.ru>,1,0.9997108578681946,VFIO,hw/misc/vfio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,846424350b292f16b732b573273a5c1f195cd7a3,24c7608a5d973e5d562715998e9887f74deac794,Asias He,2013-10-09,"scsi: Allocate SCSITargetReq r->buf dynamically [CVE-2013-4344]\n\nr->buf is hardcoded to 2056 which is (256 + 1) * 8, allowing 256 luns at\nmost. If more than 256 luns are specified by user, we have buffer\noverflow in scsi_target_emulate_report_luns.\n\nTo fix, we allocate the buffer dynamically.\n\nSigned-off-by: Asias He <asias@redhat.com>\nTested-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995742440223694,SCSI,"hw/scsi/scsi-bus.c, include/hw/scsi/scsi.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,72c194f7e75cb64b2558111cb111adb49fbf4097,1a4b2666dfbd6fbd9b5623a8e0ed6035cd0854fe,Michael S. Tsirkin,2013-07-24,"i386: ACPI table generation code from seabios\n\nThis adds C code for generating ACPI tables at runtime,\nimported from seabios git tree\n    commit 51684b7ced75fb76776e8ee84833fcfb6ecf12dd\n\nAlthough ACPI tables come from a system BIOS on real hw,\nit makes sense that the ACPI tables are coupled with the\nvirtual machine, since they have to abstract the x86 machine to\nthe OS's.\n\nThis is widely desired as a way to avoid the churn\nand proliferation of QEMU-specific interfaces\nassociated with ACPI tables in bios code.\n\nNotes:\nAs BIOS can reprogram devices prior to loading\nACPI tables, we pre-format ACPI tables but defer loading\nhardware configuration there until tables are loaded.\n\nThe code structure was intentionally kept as close\nto the seabios original as possible, to simplify\ncomparison and making sure we didn't lose anything\nin translation.\n\nMinor code duplication results, to help ensure there are no functional\nregressions, I think it's better to merge it like this and do more code\nchanges in follow-up patches.\n\nCross-version compatibility concerns have been addressed:\n    ACPI tables are exposed to guest as FW_CFG entries.\n    When running with -M 1.5 and older, this patch disables ACPI\n    table generation, and doesn't expose ACPI\n    tables to guest.\n\n    As table content is likely to change over time,\n    the following measures are taken to simplify\n    cross-version migration:\n    - All tables besides the RSDP are packed in a single FW CFG entry.\n      This entry size is currently 23K. We round it up to 64K\n      to avoid too much churn there.\n    - Tables are placed in special ROM blob (not mapped into guest memory)\n      which is automatically migrated together with the guest, same\n      as BIOS code.\n    - Offsets where hardware configuration is loaded in ACPI tables\n      are also migrated, this is in case future ACPI changes make us\n      rearrange the tables in memory.\n\nThis patch reuses some code from SeaBIOS, which was originally under\nLGPLv2 and then relicensed to GPLv3 or LGPLv3, in QEMU under GPLv2+. This\nrelicensing has been acked by all contributors that had contributed to the\ncode since the v2->v3 relicense. ACKs approving the v2+ relicensing are\nlisted below. The list might include ACKs from people not holding\ncopyright on any parts of the reused code, but it's better to err on the\nside of caution and include them.\n\nAffected SeaBIOS files (GPLv2+ license headers added)\n<http://thread.gmane.org/gmane.comp.bios.coreboot.seabios/5949>:\n\n src/acpi-dsdt-cpu-hotplug.dsl\n src/acpi-dsdt-dbug.dsl\n src/acpi-dsdt-hpet.dsl\n src/acpi-dsdt-isa.dsl\n src/acpi-dsdt-pci-crs.dsl\n src/acpi.c\n src/acpi.h\n src/ssdt-misc.dsl\n src/ssdt-pcihp.dsl\n src/ssdt-proc.dsl\n tools/acpi_extract.py\n tools/acpi_extract_preprocess.py\n\nEach one of the listed people agreed to the following:\n\n> If you allow the use of your contribution in QEMU under the\n> terms of GPLv2 or later as proposed by this patch,\n> please respond to this mail including the line:\n>\n> Acked-by: Name <email address>\n\n  Acked-by: Gerd Hoffmann <kraxel@redhat.com>\n  Acked-by: Jan Kiszka <jan.kiszka@siemens.com>\n  Acked-by: Jason Baron <jbaron@akamai.com>\n  Acked-by: David Woodhouse <David.Woodhouse@intel.com>\n  Acked-by: Gleb Natapov <gleb@redhat.com>\n  Acked-by: Marcelo Tosatti <mtosatti@redhat.com>\n  Acked-by: Dave Frodin <dave.frodin@se-eng.com>\n  Acked-by: Paolo Bonzini <pbonzini@redhat.com>\n  Acked-by: Kevin O'Connor <kevin@koconnor.net>\n  Acked-by: Laszlo Ersek <lersek@redhat.com>\n  Acked-by: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>\n  Acked-by: Isaku Yamahata <yamahata@valinux.co.jp>\n  Acked-by: Magnus Christensson <magnus.christensson@intel.com>\n  Acked-by: Hu Tao <hutao@cn.fujitsu.com>\n  Acked-by: Eduardo Habkost <ehabkost@redhat.com>\n\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>\nTested-by: Gerd Hoffmann <kraxel@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nTested-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.7617015242576599,ACPI,"hw/i386/Makefile.objs, hw/i386/acpi-build.c, hw/i386/acpi-build.h, hw/i386/acpi-defs.h, hw/i386/pc.c, hw/i386/pc_piix.c, hw/i386/pc_q35.c, include/hw/i386/pc.h",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,764eb39d1b6f614e9734ea3ed1b7dcf6c3aaa260,26defe81f6a878f33e0aaeb1df4d0d7022c929ca,Christophe Fergeau,2013-10-16,"Fix VNC SASL authentication when using a QXL device\n\nui/vnc.c:vnc_display_open() and spice-server/server/reds.c:do_spice_init()\nare both calling sasl_server_init(). If spice_server_set_sasl_appname()\nhasn't been called, spice-server will call it with ""spice"" as an appname,\ncausing cyrus-sasl to try to use a /etc/sasl2/spice.conf config file rather\nthan the /etc/sasl2/qemu.conf file that QEMU uses.\n\nWhen using -spice sasl on the command line, QEMU properly calls\nspice_server_set_sasl_appname() to set the SASL appname as ""qemu"",\nbut when using a QXL device without using SPICE, spice_server_init()\nis called from qemu_spice_add_interface() without setting the appname\nto ""qemu"", which then causes the VNC code to try to use spice.conf\ninstead of qemu.conf.\n\nSigned-off-by: Christophe Fergeau <cfergeau@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997263550758362,"QXL, SPICE",ui/spice-core.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,09b04845a7b7ffba2fa0cd99a2329f6e8ffa9027,fc8ead74674b7129e8f31c2595c76658e5622197,Alexey Kardashevskiy,2013-08-27,"pseries: Update SLOF firmware image\n\nThis has reworked USB OHCI and adds support of USB EHCI,\nVIRTIO-SCSI and various fixes (IBM VSCSI, VGA and more).\n\nThe full list of fixes is:\n*  usb-ohci: Convert td-phys every time to td-virt\n*  usb-storage: Fix cbwflags field\n*  Add -fno-strict-aliasing in global CFLAGS\n*  usb: fix various issues found with js2x\n*  Move hex64-{decode,encode}-unit to node.fs\n*  usb: Use separate in-memory endian swap\n*  usb-ohci: collect TDs from done list\n*  js2x: more fixes\n*  js2x: Fix build of takeover image\n*  js2x: use new usb stack\n*  usb-ohci: Use proper memory barriers always\n*  usb: Fix a couple of warnings\n*  Fix $cat-instance-unit\n*  Cache phandle of /chosen\n*  Use root.fs on qemu as well\n*  usb-ehci: Add ehci handshake\n*  usb: add mb for write accessors\n*  usb-ohci: add missing memory barriers\n*  usb-ohci: suspend the controller in exit code path\n*  usb-ohci: Add a reset when closing the OHCI\n*  usb: Use proper accessors for MMIO and separate in-memory endian swap\n*  Use a global definition of sync() and mb()\n*  net-snk: Remove exception handling\n*  usb: unmap buffers\n*  slof: call quiesce on closing of stdin\n*  usb-kbd: accept ""s"" to drop to OF prompt\n*  USB storage driver\n*  usb-ohci: add Bulk transfer support\n*  usb-ehci: Add bulk support\n*  usb-core: add usb bulk support\n*  USB generic hub device driver\n*  usb-ehci: setup new device\n*  usb-ehci: Check ehci ports\n*  usb-ehci: initialize controller\n*  USB keyboard driver\n*  usb-core: setup new device\n*  usb-core: create dev pool allocation\n*  usb-ohci: implement ohci send control\n*  usb-core: usb send control\n*  usb-core: implement usb_{get,put}_pipe routines\n*  usb-ohci: allocate pipe pool\n*  usb-ohci: reset, init and check-ports\n*  Add standard header stdbool.h\n*  usb-slof: forth support routines for C\n*  usb-ehci: Add USB EHCI skeleton\n*  usb-core: Add register accessor functions\n*  Use __builtin_bswap routines for endianness swapping\n*  usb-core: hcd registration and query routines\n*  usb-core: adding generic dev-hci.fs\n*  usb-core: registration and makefiles\n*  Add new USB code\n*  Remove old usb code\n*  vga: fix hcall-invert-screen and hcall-blink-screen\n*  Enumerate disk/cdrom aliases for multiple disks or cdroms\n*  scsi: unify scsi probing code\n*  vscsi: generalizing probe code\n*  virtio-scsi: iterate through targets\n*  scsi: unify and use make-disk-alias\n*  nvram: remove unnecessary prints\n*  Add hack to client interface finddevice of ""/memory""\n*  scsi: Fix cdrom boot crash when no medium present\n*  Look for /memory@0, not just /memory\n*  Fix instance>qname crashing when displaying instance arguments\n*  Fix js2x build\n*  scsi-disk: Bound check read-blocks\n*  Fix off by one error in scsi-disk get-capacity\n*  scsi: fix report-luns handling\n*  SLOF: virtio-scsi block driver code\n*  scsi: Move bits of vio-vscsi.fs to a common helpers file\n*  scsi: Move scsi-disk.fs to a generic place\n*  SLOF: virtio-scsi helper routines\n*  SLOF: virtio-scsi - add pci device file\n*  iso9660: Don't constantly reallocate the read buffer\n*  vscsi: Sanitize interface between scsi-disk.fs and vio-vscsi.fs\n*  vio-vscsi: Rework vio-vscsi support\n*  virtio: Add a virtio-set-qaddr helper\n*  disk-label: Allocate 4096 bytes for 4k block devices\n*  disk-label: Increase the max size of the PReP boot partition\n*  Make load-base a real environment variable\n*  vio-vscsi: Switch to using a wildcard ""disk"" node and make scsi-disk generic\n*  Fix disk-label package to use proper instance path\n*  Increase size of catpad\n*  Fix instance>path to contain unit address for wildcard nodes\n*  Fix handling of wildcard nodes in open-dev\n*  vio-vscsi: Get CRQ on open and release on close\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.992866277694702,"SCSI, USB, VGA, VIRTIO","pc-bios/README, pc-bios/slof.bin, roms/SLOF",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9633fcc6a02f23e3ef00aa5fe3fe9c41f57c3456,bbfb6f132abc032229f5c1f25e6e959861c6f759,Alexander Graf,2013-09-25,"PPC: Fix L2CR write accesses\n\nCommit 2345f1c01 was supposed to render L2CR writes into noops. Instead,\nit made them illegal instruction traps which apparently didn't confuse\nXNU, but can easily confuse other OSs.\n\nFix it up by actually doing nothing when we write to L2CR.\n\nReported-by: Julio Guerra <guerr@julio.in>\nSigned-off-by: Alexander Graf <agraf@suse.de>\nTested-by: Julio Guerra <guerr@julio.in>",1,0.99968683719635,PPC,target-ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8464b273d69c61e33c55347e5b6bc0659687bae2,1841f8801c8898fa57c66e27a08541ffcc6f3948,Alexander Graf,2013-10-28,"ahci: fix win7 hang on boot\n\nWhen AHCI executes an asynchronous IDE command, it checked DRDY without\nchecking either DRQ or BSY.  This sometimes caused interrupt to be sent\nbefore command is actually completed.\n\nThis resulted in a race condition: if guest then managed to access the\ndevice before command has completed, it would hang waiting for an\ninterrupt.\nThis was observed with windows 7 guests.\n\nTo fix, check for DRQ or BSY in additiona to DRDY, if set,\nthe command is asynchronous so delay the interrupt until\nasynchronous done callback is invoked.\n\nReported-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9997329115867616,AHCI,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9546dbabd5f6ff199ffd7741dfd57b8bff723bd1,ec426ff808cd421036f81ab34c0d5884743982aa,Peter Maydell,2013-10-25,hw/arm/boot: Make user not specifying a kernel not an error\n\nTypically ARM boards will have some kind of flash which might contain\na boot ROM; it's therefore a valid use case to provide only an\nimage for the boot ROM and not require QEMU's internal boot loader\nat all. Remove the fatal error if -kernel isn't specified.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1379980897-21277-2-git-send-email-peter.maydell@linaro.org,1,0.9991876482963562,ARM,hw/arm/boot.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0bc2a331e476c6c834278b8dcc17408a3f0d8f6a,cbf239b76934c8c2d1e147372ef9478ecc39fdfb,Alvise Rigo,2013-10-11,"target-arm: fix sorting issue of KVM cpreg list\n\nThe compare_u64 function was not sorting the KVM cpreg_list in the\nright way due to the wrong returned value.  Since we are comparing\ntwo 64bit values we can't simply return their difference if the\nreturned type is int.\n\nSigned-off-by: Alvise Rigo <a.rigo@virtualopensystems.com>\nMessage-id: 1381513125-26802-2-git-send-email-a.rigo@virtualopensystems.com\n[PMM: fixed coding style, indent and commit message formatting]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997337460517884,KVM,target-arm/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b86160555f8d1fe11d6bcec393e08e645d7e1e8d,0bc2a331e476c6c834278b8dcc17408a3f0d8f6a,Alex Benne,2013-10-22,integrator: fix Linux boot failure by emulating dbg region\n\nCommit 9b8c69243 (since reverted) broke the ability to boot the kernel\nas the value returned by unassigned_mem_read returned non-zero and left\nthe kernel looping forever waiting for it to change (see\nintegrator_led_set in the kernel code).\n\nRelying on a varying implementation detail is incorrect anyway so this\nintroduces a basic stub of a memory region for the debug/LED section\non the integrator board.\n\nSigned-off-by: Alex Benne <alex@bennee.com>\nMessage-id: 1382451366-9539-1-git-send-email-alex.bennee@linaro.org\n[PMM: removed three unused fields from struct IntegratorDebugState]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9996508359909058,LED,"default-configs/arm-softmmu.mak, hw/arm/integratorcp.c, hw/misc/Makefile.objs, hw/misc/arm_integrator_debug.c, include/hw/misc/arm_integrator_debug.h",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0fd53fec92c5b636ef4774fe130f6029fde9fc3c,fc8ead74674b7129e8f31c2595c76658e5622197,Paolo Bonzini,2013-10-17,"KVM: x86: fix typo in KVM_GET_XCRS\n\nOnly the first item of the array was ever looked at.  No\npractical effect, but still worth fixing.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Gleb Natapov <gleb@redhat.com>",1,0.9997056126594543,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,20d155bc902f41c5b354937e730ad85b43614ae9,bdf523e6923f1e667055e947e71fc600549cefae,Stefan Weil,2013-10-30,"linux-user: Fix stat64 syscall for SPARC64\n\nSome targets use a stat64 structure for the stat64 syscall while others\nuse a stat structure. SPARC64 used the wrong kind.\n\nInstead of extending the conditional compilation in syscall.c, now a\nmacro TARGET_HAS_STRUCT_STAT64 is defined whenever a target has a\ntarget_stat64.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nReviewed-by: Erik de Castro Lopo <erikd@mega-nerd.com>",1,0.9995172023773192,"SPARC, SPARC64","linux-user/syscall.c, linux-user/syscall_defs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9d0e1dac108ce90cbe62c89af57a7ace006f5152,29fdedfed54db4b04fe391ce8a4d9bf5ff86218e,Alexey Kardashevskiy,2013-10-15,"pseries: Update SLOF firmware image\n\nSLOF git commit is e2e8ac901e617573ea383f9cffd136146d0675a4\n\nThe main changes are:\n* fixed bug with not passing arguments from -append\n* client-architecture-support hypercall\n* netboot\n* USB stack fixes\n\nThe full list of changes:\n  > client-architecture-support: fix wrong version read\n  > client-architecture-support: fix redundant stack drop\n  > Update device tree returned by CAS hypercall\n  > fdt: introduce fdt-init\n  > Add ibm,client-architecture-support method\n  > Kernel parameter passed from qemu commandline ignored\n  > Allow more than one client to open net devices simultaneously\n  > ci: add missing close in else condition\n  > Add GPT support\n  > pci: fix interrupt-map for bridges\n  > usb-ohci: preserve the toggleCarry bit in ED\n  > usb-ohci: done_head processing fixes\n  > usb-ohci: update init and rationalize timings\n  > usb-msc: handle stall and other fixes\n  > scsi: make probe more error resilient\n  > usb-core: Add CLEAR FEATURE api\n  > Implement range allocator\n  > Remove bcm57xx network driver as module\n  > Remove e1000 network driver as module\n  > Remove virtio-net network driver as module\n  > Remove veth network driver as module\n  > Add missing close-dev in ping\n  > Remove lodable network driver modules and related functions\n  > Add bcm57xx network driver in libbcm\n  > Add e1000 network driver in libe1k\n  > Add virtio-net driver in libvirtio\n  > Add veth driver in libveth\n  > Get MAC address for client interface module\n  > Add SLOF usleep wrapper\n  > Add SLOF pci wrapper functions\n  > Fix 'canon' client interface\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.997019350528717,USB,"pc-bios/README, pc-bios/slof.bin, roms/SLOF",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cc386e96727442f5b67052d4e0a602f6f652ffe6,1597591cca8a8fa20b8872937b859ec2aaccba6c,Dmitry Fleytman,2013-09-22,virtio-net: broken RX filtering logic fixed\n\nUpon processing of VIRTIO_NET_CTRL_MAC_TABLE_SET command\nmulticast list overwrites unicast list in mac_table.\nThis leads to broken logic for both unicast and multicast RX filtering.\n\nSigned-off-by: Dmitry Fleytman <dfleytma@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>,1,0.9996819496154784,"VIRTIO, VIRTIO_NET",hw/net/virtio-net.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,04c7d8b8dea724f1007f0f6e76047ff03b4cb24f,c2d30667760e3d7b81290d801e567d4f758825ca,Cole Robinson,2013-11-05,"Fix pc migration from qemu <= 1.5\n\nThe following commit introduced a migration incompatibility:\n\ncommit 568f0690fd9aa4d39d84b04c1a5dbb53a915c3fe\nAuthor: David Gibson <david@gibson.dropbear.id.au>\nDate:   Thu Jun 6 18:48:49 2013 +1000\n\n    pci: Replace pci_find_domain() with more general pci_root_bus_path()\n\nThe issue is that i440fx savevm idstr went from 0000:00:00.0/I440FX to\n0000:00.0/I440FX. Unfortunately we are stuck with the breakage for\n1.6 machine types.\n\nAdd a compat property to maintain the busted idstr for the 1.6 machine\ntypes, but revert to the old style format for 1.7+, and <= 1.5.\n\nTested with migration from qemu 1.5, qemu 1.6, and qemu.git.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Cole Robinson <crobinso@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9991012811660768,I440FX,"hw/pci-host/piix.c, hw/pci-host/q35.c, include/hw/i386/pc.h, include/hw/pci-host/q35.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,81adc5131534ca7554cebe64cd8f86bac28dbd1b,6b9b8758c15f3bc2875dbd6e2d03c5362b8d6902,Michael S. Tsirkin,2013-11-07,"acpi-build: disable with -no-acpi\n\nQEMU will currently crash if started with -no-acpi flag\nsince acpi build code probes the PM device which isn't present\nin this configuration.\n\nTo fix, don't expose ACPI tables to guest when acpi has been\ndisabled from command line.\n\nFixes LP# 1248854\nhttps://bugs.launchpad.net/qemu/+bug/1248854\n\nReported-by: chao zhou <chao.zhou@intel.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996864795684814,ACPI,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,81f3053b77f7d3a4d9100c425cd8cec99ee7a3d4,1eb1bd9eafa890f1f4d16ef5cb8b9239a86874d9,Paolo Bonzini,2013-11-20,"target-i386: yield to another VCPU on PAUSE\n\nAfter commit b1bbfe7 (aio / timers: On timer modification, qemu_notify\nor aio_notify, 2013-08-21) FreeBSD guests report a huge slowdown.\n\nThe problem shows up as soon as FreeBSD turns out its periodic (~1 ms)\ntick, but the timers are only the trigger for a pre-existing problem.\n\nBefore the offending patch, setting a timer did a timer_settime system call.\n\nAfter, setting the timer exits the event loop (which uses poll) and\nreenters it with a new deadline.  This does not cause any slowdown; the\ndifference is between one system call (timer_settime and a signal\ndelivery (SIGALRM) before the patch, and two system calls afterwards\n(write to a pipe or eventfd + calling poll again when re-entering the\nevent loop).\n\nUnfortunately, the exit/enter causes the main loop to grab the iothread\nlock, which in turns kicks the VCPU thread out of execution.  This\ncauses TCG to execute the next VCPU in its round-robin scheduling of\nVCPUS.  When the second VCPU is mostly unused, FreeBSD runs a ""pause""\ninstruction in its idle loop which only burns cycles without any\nprogress.  As soon as the timer tick expires, the first VCPU runs\nthe interrupt handler but very soon it sets it again---and QEMU\nthen goes back doing nothing in the second VCPU.\n\nThe fix is to make the pause instruction do ""cpu_loop_exit"".\n\nCc: Richard Henderson <rth@twiddle.net>\nReported-by: Luigi Rizzo <rizzo@iet.unipi.it>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nMessage-id: 1384948442-24217-1-git-send-email-pbonzini@redhat.com\nSigned-off-by: Anthony Liguori <aliguori@amazon.com>",1,0.9995595812797546,TCG,"target-i386/helper.h, target-i386/misc_helper.c, target-i386/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,54e755588cf1e90f0b1460c4e8e6b6a54b6d3a32,81f3053b77f7d3a4d9100c425cd8cec99ee7a3d4,Herv Poussineau,2013-11-04,"mips jazz: do not raise data bus exception when accessing invalid addresses\n\nMIPS Jazz chipset doesn't seem to raise data bus exceptions on invalid accesses.\nHowever, there is no easy way to prevent them. Creating a big memory region\nfor the whole address space doesn't prevent memory core to directly call\nunassigned_mem_read/write which in turn call cpu->do_unassigned_access,\nwhich (for MIPS CPU) raise an data bus exception.\n\nThis fixes a MIPS Jazz regression introduced in c658b94f6e8c206c59d02aa6fbac285b86b53d2c.\n\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nMessage-id: 1383603977-7003-1-git-send-email-hpoussin@reactos.org\nSigned-off-by: Anthony Liguori <aliguori@amazon.com>",1,0.9997307658195496,MIPS,hw/mips/mips_jazz.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7865eec4f5fb10224a2cd391a8476044cbe5a1f7,33effd3aab4a268fb573fd8d7e0fe0baed0cd61a,Richard Henderson,2013-11-12,"target-i386: Fix addr32 prefix in gen_lea_modrm\n\nFix the following run-test-x86_64 testsuite failures:\n\n-lea (%%eax) = 0000000000000001\n-lea (%%ebx) = 0000000000000002\n-lea (%%ecx) = 0000000000000004\n-lea (%%edx) = 0000000000000008\n-lea (%%esi) = 0000000000000010\n-lea (%%edi) = 0000000000000020\n+lea (%%eax) = 0000abcc00000001\n+lea (%%ebx) = 0000abcf00000002\n+lea (%%ecx) = 0000abc900000004\n+lea (%%edx) = 0000abc500000008\n+lea (%%esi) = 0000abdd00000010\n+lea (%%edi) = 0000abed00000020\n\nIn addition, reduce ifdeffery and minimize the number of TCG ops\nproduced during address computation.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nMessage-id: 1384219016-5170-1-git-send-email-rth@twiddle.net\nSigned-off-by: Anthony Liguori <aliguori@amazon.com>",1,0.999708354473114,TCG,target-i386/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2140cfa51d59177815f5b82e94ac48fb24909aba,8d07d6c46597a885eb38d99cc6fff399ce69cd21,Peter Maydell,2013-11-13,target-i386: Fix build by providing stub kvm_arch_get_supported_cpuid()\n\nFix build failures with clang when KVM is not enabled by\nproviding a stub version of kvm_arch_get_supported_cpuid().\nWe retain the compile time check that this function isn't\ncalled when CONFIG_KVM is not set by guarding the stub with\nifndef __OPTIMIZE__ (we assume that an optimizing build will\ndo sufficient constant folding and dead code elimination to\nremove the calls before linking).\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996695518493652,KVM,target-i386/kvm-stub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b5fc314bcbb80f76b8deaf23a4c45767b87f750b,fbdcec5c487685b46e78f1e40a236ebf83f862fa,Paolo Bonzini,2013-11-20,"target-i386: yield to another VCPU on PAUSE\n\nAfter commit b1bbfe7 (aio / timers: On timer modification, qemu_notify\nor aio_notify, 2013-08-21) FreeBSD guests report a huge slowdown.\n\nThe problem shows up as soon as FreeBSD turns out its periodic (~1 ms)\ntick, but the timers are only the trigger for a pre-existing problem.\n\nBefore the offending patch, setting a timer did a timer_settime system call.\n\nAfter, setting the timer exits the event loop (which uses poll) and\nreenters it with a new deadline.  This does not cause any slowdown; the\ndifference is between one system call (timer_settime and a signal\ndelivery (SIGALRM) before the patch, and two system calls afterwards\n(write to a pipe or eventfd + calling poll again when re-entering the\nevent loop).\n\nUnfortunately, the exit/enter causes the main loop to grab the iothread\nlock, which in turns kicks the VCPU thread out of execution.  This\ncauses TCG to execute the next VCPU in its round-robin scheduling of\nVCPUS.  When the second VCPU is mostly unused, FreeBSD runs a ""pause""\ninstruction in its idle loop which only burns cycles without any\nprogress.  As soon as the timer tick expires, the first VCPU runs\nthe interrupt handler but very soon it sets it again---and QEMU\nthen goes back doing nothing in the second VCPU.\n\nThe fix is to make the pause instruction do ""cpu_loop_exit"".\n\nReported-by: Luigi Rizzo <rizzo@iet.unipi.it>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995595812797546,TCG,"target-i386/helper.h, target-i386/misc_helper.c, target-i386/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b6a06e72ef5e66e539012f63fca52c161c0d2496,b5fc314bcbb80f76b8deaf23a4c45767b87f750b,Herv Poussineau,2013-11-04,"mips jazz: do not raise data bus exception when accessing invalid addresses\n\nMIPS Jazz chipset doesn't seem to raise data bus exceptions on invalid accesses.\nHowever, there is no easy way to prevent them. Creating a big memory region\nfor the whole address space doesn't prevent memory core to directly call\nunassigned_mem_read/write which in turn call cpu->do_unassigned_access,\nwhich (for MIPS CPU) raise an data bus exception.\n\nThis fixes a MIPS Jazz regression introduced in c658b94f6e8c206c59d02aa6fbac285b86b53d2c.\n\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997307658195496,MIPS,hw/mips/mips_jazz.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,49cfa2fdc92be2cdd01b9fba846cd52aea1f7f63,3453f9a0dfa58578e6dadf0905ff4528b428ec73,Hans de Goede,2013-10-31,"uas: Fix response iu struct definition\n\nThis patch mirrors a patch to the Linux uas kernel driver which I've just\nsubmitted. It looks like the qemu uas struct definitions were taken from\nthe Linux kernel driver, and have inherited the same mistake.\n\nBesides fixing the response iu struct, the patch also drops the add_info\nparameter from the usb_uas_queue_response() function, it is always 0 anyways,\nand expressing 3 zero-bytes as a function argument is a bit hard.\n\nBelow is the long explanation for this change taken from the kernel commit:\n\nThe response iu struct before this patch has a size of 7 bytes, which is weird\nsince all other iu-s are explictly padded to a multiple of 4 bytes.\n\nSubmitting a 7 byte bulk transfer to the status endpoint of a real uasp device\nwhen expecting a response iu results in an USB babble error, as the device\nactually sends 8 bytes.\n\nUp on closer reading of the UAS spec:\nhttp://www.t10.org/cgi-bin/ac.pl?t=f&f=uas2r00.pdf\n\nThe reason for this becomes clear, the 2 entries in ""Table 17  RESPONSE IU""\nare numbered 4 and 6, looking at other iu definitions in the spec, esp.\nmulti-byte fields, this indicates that the ADDITIONAL RESPONSE INFORMATION\nfield is not a 2 byte field as one might assume at a first look, but is\na multi-byte field containing 3 bytes.\n\nThis also aligns with the SCSI Architecture Model 4 spec, which UAS is based\non which states in paragraph ""7.1 Task management function procedure calls""\nthat the ""Additional Response Information"" output argument for a Task\nmanagement function procedure call is 3 bytes.\n\nLast but not least I've verified this by sending a logical unit reset task\nmanagement call with an invalid lun to an actual uasp device, and received\nback a response-iu with byte 6 being 0, and byte 7 being 9, which is the\nresponce code for an invalid iu, which confirms that the response code is\nbeing reported in byte 7 of the response iu rather then in byte 6.\n\nSigned-off-by: Hans de Goede <hdegoede@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999674916267395,"ESP, SCSI, USB",hw/usb/dev-uas.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d18e173a07a9c1e7f087384a8832d295043136bb,7dc65c02fe3fb8f3146ce0b9ff5fec5945329f0e,Wei Liu,2013-10-14,"xen: fix two errors when debug is enabled\n\nThis patch fixes:\n1. build error in xen_pt.c when XEN_PT_LOGGING_ENABLED is defined\n2. debug output format string error when DEBUG_XEN is defined\n\nIn the second case I also have the output info in consistent with the\noutput in mapping function - that is, print start_addr instead of\nphys_offset.\n\nSigned-off-by: Sander Eikelenboom <linux@eikelenboom.it>\nSigned-off-by: Wei Liu <wei.liu2@citrix.com>\nSigned-off-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>",1,0.9997337460517884,"LED, XEN","hw/xen/xen_pt.c, xen-all.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,13c28af87a5541a9b09a59502b876a1725fb502d,4323fdcf9451deaaf48468afa91b8bcaeac00cff,Peter Lieven,2013-11-27,"qemu-img: add support for skipping zeroes in input during convert\n\nwe currently do not check if a sector is allocated during convert.\nThis means if a sector is unallocated that we allocate a bounce\nbuffer of zeroes, find out its zero later and do not write it\nin the best case. In the worst case this can lead to reading\nblocks from a raw device (like iSCSI) altough we could easily\nknow via get_block_status that they are zero and simply skip them.\n\nThis patch also fixes the progress output not being at 100% after\na successful conversion.\n\nSigned-off-by: Peter Lieven <pl@kamp.de>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9994409680366516,SCSI,qemu-img.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,96eeeba0db38b856eb2cae0e4a2a620d8d65771a,5b49ab188ff0339aa3097ce7f5309f1306092f9e,Alex Williamson,2013-12-06,"vfio-pci: Fix Nvidia MSI ACK through 0x88000 quirk\n\nWhen MSI is enabled on Nvidia GeForce cards the driver seems to\nacknowledge the interrupt by writing a 0xff byte to the MSI capability\nID register using the PCI config space mirror at offset 0x88000 from\nBAR0.  Without this, the device will only fire a single interrupt.\nVFIO handles the PCI capability ID/next registers as virtual w/o write\nsupport, so any write through config space is currently dropped.  Add\na check for this and allow the write through the BAR window.  The\nregisters are read-only anyway.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9996902942657472,"PCI, VFIO",hw/misc/vfio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cae2e5562cdaf3aafa1c4ec2d5f2b19af6c886dd,aee09baf915491eabbf46f9cf55a445ec59b8269,Amos Kong,2013-11-11,"virtio-net: don't update mac_table in error state\n\nmac_table was always cleaned up first in handling\nVIRTIO_NET_CTRL_MAC_TABLE_SET command, and we din't recover\nmac_table content in error state, it's not correct.\n\nThis patch makes all the changes in temporal variables,\nonly update the real mac_table if everything is ok.\nWe won't change mac_table in error state, so rxfilter\nnotification isn't needed.\n\nThis patch also fixed same problame in\n http://lists.nongnu.org/archive/html/qemu-devel/2013-11/msg01188.html\n (not merge)\n\nI will send patch for virtio spec to clarifying this change.\n\nSigned-off-by: Amos Kong <akong@redhat.com>\nReviewed-by: Vlad Yasevich <vyasevic@redhat.com>\nAcked-by: Jason Wang <jasowang@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9985087513923644,"VIRTIO, VIRTIO_NET",hw/net/virtio-net.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4d66261f71f2efa31e1052e4041c5ee505572fe5,21c046118e740704d0ba81f6281dc95905bc30a8,Petar Jovanovic,2013-11-29,"target-mips: fix 64-bit FPU config for user-mode emulation\n\nFR bit should be initialized to 1 for MIPS64, under condition that this\nbit is writable and that CPU has an FPU unit. It should be initialized to\nzero for MIPS32.\nThis fixes different MIPS32 issues with FPU instructions whose behaviour\ndefaulted to 64-bit FPU mode.\n\nSigned-off-by: Petar Jovanovic <petar.jovanovic@imgtec.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996063113212584,"MIPS, MIPS64",target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,06a1307379fcd6c551185ad87679cd7ed896b9ea,7bb6edb0e3dd78d74e0ac980cf6c0a07307f61bf,Paolo Bonzini,2013-09-20,"virtio-pci: add device_unplugged callback\n\nThis fixes a crash in hot-unplug of virtio-pci devices behind a PCIe\nswitch.  The crash happens because the ioeventfd is still set whent the\nchild is destroyed (destruction happens in postorder).  Then the proxy\ntries to unset to ioeventfd, but the virtqueue structure that holds the\nEventNotifier has been trashed in the meanwhile.  kvm_set_ioeventfd_pio\ndoes not expect failure and aborts.\n\nThe fix is simply to move parts of uninitialization to a new\ndevice_unplugged callback, which is called before the child is destroyed.\n\nCc: qemu-stable@nongnu.org\nAcked-by: Andreas Faerber <afaerber@suse.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996992349624634,PCI,hw/virtio/virtio-pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d4fce24f3a59eda081cdf2e38e7001591b95d173,83d08f2673504a299194dcac1657a13754b5932a,Paolo Bonzini,2013-10-18,"qtest: split configuration of qtest accelerator and chardev\n\nqtest uses the icount infrastructure to implement a test-driven vm_clock.  This\nhowever is not necessary when using -qtest as a ""probe"" together with a normal\nTCG-, KVM- or Xen-based virtual machine.  Hence, split out the call to\nconfigure_icount into a new function that is called only for ""-machine\naccel=qtest""; and disable those commands when running with an accelerator\nother than qtest.\n\nThis also fixes an assertion failure with ""qemu-system-x86_64 -machine\naccel=qtest"" but no -qtest option.  This is a valid case, albeit somewhat\nweird; nothing will happen in the VM but you'll still be able to\ninteract with the monitor or the GUI.\n\nNow that qtest_init is not limited to an int(void) function, change\nglobal variables that are not used outside qtest_init to arguments.\n\nAnd finally, cleanup useless parts of include/sysemu/qtest.h.  The file\nis not used at all for user-only emulation, and qtest is not available\non Win32 due to its usage of sigwait.\n\nReported-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.991461992263794,"KVM, TCG","include/sysemu/qtest.h, qtest.c, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,57271d63c4d93352406704d540453c43a4a241a7,b35ba30f8fa235c779d876ee299b80a2d501d204,Paolo Bonzini,2013-11-07,"exec: make address spaces 64-bit wide\n\nAs an alternative to commit 818f86b (exec: limit system memory\nsize, 2013-11-04) let's just make all address spaces 64-bit wide.\nThis eliminates problems with phys_page_find ignoring bits above\nTARGET_PHYS_ADDR_SPACE_BITS and address_space_translate_internal\nconsequently messing up the computations.\n\nIn Luiz's reported crash, at startup gdb attempts to read from address\n0xffffffffffffffe6 to 0xffffffffffffffff inclusive.  The region it gets\nis the newly introduced master abort region, which is as big as the PCI\naddress space (see pci_bus_init).  Due to a typo that's only 2^63-1,\nnot 2^64.  But we get it anyway because phys_page_find ignores the upper\nbits of the physical address.  In address_space_translate_internal then\n\n    diff = int128_sub(section->mr->size, int128_make64(addr));\n    *plen = int128_get64(int128_min(diff, int128_make64(*plen)));\n\ndiff becomes negative, and int128_get64 booms.\n\nThe size of the PCI address space region should be fixed anyway.\n\nReported-by: Luiz Capitulino <lcapitulino@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999221682548523,PCI,exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,74f1c6ddec8dc7566d9b75574bb006214cc7d3b4,09f7813522238555b77ec2b9f2d3bc20d6e3c796,Sergey Fedorov,2013-12-10,"target-arm: fix TTBCR write masking\n\nCurrent implementation is not accurate according to ARMv7-AR reference\nmanual. See ""B4.1.153 TTBCR, Translation Table Base Control Register,\nVMSA | TTBCR format when using the Long-descriptor translation table\nformat"". When LPAE feature is supported, EAE, bit[31] selects\ntranslation descriptor format and, therefore, TTBCR format.\n\nSigned-off-by: Sergey Fedorov <s.fedorov@samsung.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1386657709-23399-1-git-send-email-s.fedorov@samsung.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996069073677064,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4c41425d2e79f267b2236da31abedb866777d92f,6b9b4405743ffd428f35247516de9e6f4240f73f,Gerd Hoffmann,2013-12-06,"pci: fix pci bridge fw path\n\nqemu uses ""pci"" as name for pci bridges in the firmware device path.\nseabios expects ""pci-bridge"".  Result is that bootorder is broken for\ndevices behind pci bridges.\n\nSome googling suggests that ""pci-bridge"" is the correct one.  At least\nPPC-based Apple machines are using this.  See question ""How do I boot\nfrom a device attached to a PCI card"" here:\n	http://www.netbsd.org/ports/macppc/faq.html\n\nSo lets change qemu to use ""pci-bridge"" too.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9994827508926392,"PCI, PPC",hw/pci/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,142e0950cfaf023a81112dc3cdfa799d769886a4,8ac2adf79a06372fe2c50ddac64cfffb93dbfeb8,Michael S. Tsirkin,2013-12-11,hpet: fix build with CONFIG_HPET off\n\nmake hpet_find inline so we don't need\nto build hpet.c to check if hpet is enabled.\n\nFixes link error with CONFIG_HPET off.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9997370839118958,HPET,"hw/timer/hpet.c, include/hw/timer/hpet.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c0f1ead985e024dd8d01bba650bc753083a2cc2a,f282f29626b6ce65641fb5f8cb631aaade0e51c5,Peter Crosthwaite,2013-12-17,"arm/highbank: Fix CBAR initialisation\n\nFix the CBAR initialisation by using the newly defined static property.\nCBAR is now set before realization, so the intended value is now\nactually used.\n\nSo I have kind of tested this. I booted an ARM kernel on Highbank with\nthe stock Highbank DTB. It doesn't boot (and I will be doing something\nwrong), but before this patch I got this:\n\n------------[ cut here ]------------\nWARNING: CPU: 0 PID: 0 at /workspaces/pcrost/public/linux2.git/arch/arm/mm/ioremap.c:301 __arm_ioremap_pfn_caller+0x180/0x198()\nCPU: 0 PID: 0 Comm: swapper/0 Tainted: G        W 3.13.0-rc1-next-20131126-dirty #2\n[<c0015164>] (unwind_backtrace) from [<c00118c0>] (show_stack+0x10/0x14)\n[<c00118c0>] (show_stack) from [<c02bd5fc>] (dump_stack+0x78/0x90)\n[<c02bd5fc>] (dump_stack) from [<c001f110>] (warn_slowpath_common+0x68/0x84)\n[<c001f110>] (warn_slowpath_common) from [<c001f1f4>] (warn_slowpath_null+0x1c/0x24)\n[<c001f1f4>] (warn_slowpath_null) from [<c0017c6c>] (__arm_ioremap_pfn_caller+0x180/0x198)\n[<c0017c6c>] (__arm_ioremap_pfn_caller) from [<c0017cd8>] (__arm_ioremap_caller+0x54/0x5c)\n[<c0017cd8>] (__arm_ioremap_caller) from [<c0017d10>] (__arm_ioremap+0x18/0x1c)\n[<c0017d10>] (__arm_ioremap) from [<c03913c0>] (highbank_init_irq+0x34/0x8c)\n[<c03913c0>] (highbank_init_irq) from [<c038c228>] (init_IRQ+0x28/0x2c)\n[<c038c228>] (init_IRQ) from [<c03899ec>] (start_kernel+0x234/0x398)\n[<c03899ec>] (start_kernel) from [<00008074>] (0x8074)\n---[ end trace 3406ff24bd97382f ]---\n\nWhich disappears with this patch.\n\nSigned-off-by: Peter Crosthwaite <peter.crosthwaite@xilinx.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: fedec366aaa512d75093635f523d1dbcb3358361.1387160489.git.peter.crosthwaite@xilinx.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999659538269043,ARM,hw/arm/highbank.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8a1bd2973ed5f99a3c37c9afdff823c4a22152b1,8b9dfe9098d91e06a3dd6376624307fe5fa13be8,Paolo Bonzini,2013-12-20,"scsi-disk: add UNMAP limits to block limits VPD page\n\nLinux prefers WRITE SAME to UNMAP if the limits are zero, and WRITE\nSAME does not discard anything unless the device can guarantee that\nthe resulting block is zero.\n\nSetting the maximum unmap block and descriptor counts to non-zero\nmakes Linux choose UNMAP and fixes thin provisioning on glusterfs.\n\nWhile the maximum unmap block count can have some effect on performance,\nthe (suggested) maximum number of descriptors is not particularly\nimportant so I didn't add a customization option.  SCSI drivers are\nused to online firmware updates so I'm not yet adding versioning support\nfor SCSI, but we're probably getting close to the point when it's worth\nthinking about it.\n\nReported-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999480664730072,SCSI,hw/scsi/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f976b09ea249cccc3fd41c98aaf6512908db0bae,e8092f7ae1c71419829879e18ce2dd7249a4d00f,Alexander Graf,2013-12-20,"PPC: Fix compilation with TCG debug\n\nThe recent VSX patches broken compilation of QEMU when configurated\nwith --enable-debug, as it was treating ""target long"" TCG variables\nas ""i64"" which is not true for 32bit targets.\n\nThis patch fixes all the places that the compiler has found to use\nthe correct variable type and if necessary manually cast.\n\nReported-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Alexander Graf <agraf@suse.de>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996159076690674,"PPC, TCG",target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c1a1af87d8d5dce93328bbe8c3db70ff29275069,2c047956f3b27048883350c071bcd33ef8331d13,Igor Mammedov,2013-12-13,"ACPI: Q35 DSDT: fix CPU hotplug GPE0.2 handler\n\nFix bogus CPU hotplug GPE handler.\nMake Q35 CPU hotplug GPE handler match PIIX4 one, since\nCPU hotplug event is triggered by GPE0.2 register.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996838569641112,"ACPI, PIIX4, Q35",hw/i386/q35-acpi-dsdt.dsl,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ddaaefb4dd427d6d2e41c1cfbe0cd8d8e8d6aad9,dcc209314afdaeec42f1e2a7bbf37eec3ace23de,Gerd Hoffmann,2013-12-21,"piix: fix 32bit pci hole\n\nMake the 32bit pci hole start at end of ram, so all possible address\nspace is covered.\n\nWe used to try and make addresses aligned so they are easier to cover\nwith MTRRs, but since they are cosmetic on KVM, this is probably not\nworth worrying about.\nOf course the firmware can use less than that.  Leaving space unused is\nno problem, mapping pci bars outside the hole causes problems though.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997192025184632,KVM,"hw/i386/pc_piix.c, hw/pci-host/piix.c, include/hw/i386/pc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2df7566445c8b0934030627dff2c2417ec6d8e27,90ba562c61b15f418f284751faa81aca25de2d95,Michael Matz,2014-01-04,"target-arm: A64: support for ld/st/cl exclusive\n\nThis implement exclusive loads/stores for aarch64 along the lines of\narm32 and ppc implementations. The exclusive load remembers the address\nand loaded value. The exclusive store throws an an exception which uses\nthose values to check for equality in a proper exclusive region.\n\nThis is not actually the architecture mandated semantics (for either\nAArch32 or AArch64) but it is close enough for typical guest code\nsequences to work correctly, and saves us from having to monitor all\nguest stores. It's fairly easy to come up with test cases where we\ndon't behave like hardware - we don't for example model cache line\nbehaviour. However in the common patterns this works, and the existing\n32 bit ARM exclusive access implementation has the same limitations.\n\nAArch64 also implements new acquire/release loads/stores (which may be\neither exclusive or non-exclusive). These imposes extra ordering\nconstraints on memory operations (ie they act as if they have an implicit\nbarrier built into them). As TCG is single-threaded all our barriers\nare no-ops, so these just behave like normal loads and stores.\n\nSigned-off-by: Michael Matz <matz@suse.de>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>",1,0.9996180534362792,"ARM, TCG","linux-user/main.c, target-arm/translate-a64.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1bf6beec8a012cae4bb6fbc89c465127e9650c92,e3d8cc0536699b66f58b0e3a13a70ee007f61647,Peter Maydell,2014-01-06,"softfloat: Fix exception flag handling for float32_to_float16()\n\nOur float32 to float16 conversion routine was generating the correct\nnumerical answers, but not always setting the right set of exception\nflags. Fix this, mostly by rearranging the code to more closely\nresemble RoundAndPackFloat*, and in particular:\n * non-IEEE halfprec always raises Invalid for input NaNs\n * we need to check for the overflow case before underflow\n * we weren't getting the tininess-detected-after-rounding\n   case correct (somewhat academic since only ARM uses halfprec\n   and it is always tininess-detected-before-rounding)\n * non-IEEE halfprec overflow raises only Invalid, not\n   Invalid + Inexact\n * we weren't setting Inexact when we should\n\nAlso add some clarifying comments about what the code is doing.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>",1,0.999680757522583,ARM,fpu/softfloat.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fa2ef212dff8556ea92c4aef54b57efec69ca6fe,03d05e2d0765512fb960192b6e9f9a41c47282bd,Michael Matz,2014-01-04,"target-arm: A64: support for ld/st/cl exclusive\n\nThis implement exclusive loads/stores for aarch64 along the lines of\narm32 and ppc implementations. The exclusive load remembers the address\nand loaded value. The exclusive store throws an an exception which uses\nthose values to check for equality in a proper exclusive region.\n\nThis is not actually the architecture mandated semantics (for either\nAArch32 or AArch64) but it is close enough for typical guest code\nsequences to work correctly, and saves us from having to monitor all\nguest stores. It's fairly easy to come up with test cases where we\ndon't behave like hardware - we don't for example model cache line\nbehaviour. However in the common patterns this works, and the existing\n32 bit ARM exclusive access implementation has the same limitations.\n\nAArch64 also implements new acquire/release loads/stores (which may be\neither exclusive or non-exclusive). These imposes extra ordering\nconstraints on memory operations (ie they act as if they have an implicit\nbarrier built into them). As TCG is single-threaded all our barriers\nare no-ops, so these just behave like normal loads and stores.\n\nSigned-off-by: Michael Matz <matz@suse.de>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>",1,0.9996180534362792,"ARM, TCG","linux-user/main.c, target-arm/translate-a64.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,38970efafdfa8a992c177563c4f0d77062b88fd9,9df90ad078ec782d1339bd6879b6ea117f9759f7,Peter Maydell,2014-01-06,"softfloat: Fix exception flag handling for float32_to_float16()\n\nOur float32 to float16 conversion routine was generating the correct\nnumerical answers, but not always setting the right set of exception\nflags. Fix this, mostly by rearranging the code to more closely\nresemble RoundAndPackFloat*, and in particular:\n * non-IEEE halfprec always raises Invalid for input NaNs\n * we need to check for the overflow case before underflow\n * we weren't getting the tininess-detected-after-rounding\n   case correct (somewhat academic since only ARM uses halfprec\n   and it is always tininess-detected-before-rounding)\n * non-IEEE halfprec overflow raises only Invalid, not\n   Invalid + Inexact\n * we weren't setting Inexact when we should\n\nAlso add some clarifying comments about what the code is doing.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>",1,0.999680757522583,ARM,fpu/softfloat.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1cf892ca2689c84960b4ce4d2723b6bee453711c,d32934c84c72f57e78d430c22974677b7bcabe5d,Sebastian Huber,2013-11-27,SPARC: Fix LEON3 power down instruction\n\nSynchronize the program counter before the power down helper call\notherwise interrupts will return to the wrong context.\n\nSigned-off-by: Sebastian Huber <sebastian.huber@embedded-brains.de>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>,1,0.9996029734611512,"LEON3, SPARC",target-sparc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e9c0f0f58ad0a41c3c4b19e1911cfe095afc09ca,33325a53f15ab5370e1917b2a11cadffc77c5a52,Eric Farman,2014-01-14,"virtio-scsi: Cleanup of I/Os that never started\n\nThere is still a small window that occurs when a cancel I/O affects\nan asynchronous I/O operation that hasn't started.  In other words,\nwhen the residual data length equals the expected data length.\n\nToday, the routine virtio_scsi_command_complete fails because the\nVirtIOSCSIReq pointer (from the hba_private field in SCSIRequest)\nwas cleared earlier when virtio_scsi_complete_req was called by\nthe virtio_scsi_request_cancelled routine.  As a result, the\nvirtio_scsi_command_complete routine needs to simply return when\nit is processing a SCSIRequest block that was marked canceled.\n\nSigned-off-by: Eric Farman <farman@linux.vnet.ibm.com>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9899721145629884,SCSI,hw/scsi/virtio-scsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,584f2be79de148b0765a758ac0c1036a29c5e830,94ccff133820552a859c0fb95e33a539e0b90a75,Alexey Kardashevskiy,2014-01-10,KVM: fix addr type for KVM_IOEVENTFD\n\nThe @addr here is a guest physical address and can easily be bigger\nthan 4G.\n\nThis changes uint32_t to hwaddr.\n\nCc: qemu-stable@nongnu.org\nCc: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.999542474746704,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,794798e36eda77802ce7cc7d7d6b1c65751e8a76,fc33b9004c49f21f8188df5c4cd079a9a3d08de8,Anthony PERARD,2014-01-10,"xen_pt: Fix passthrough of device with ROM.\n\nQEMU does not need and should not allocate memory for the ROM of a\npassthrough PCI device. So this patch initialize the particular region\nlike any other PCI BAR of a passthrough device.\n\nWhen a guest will access the ROM, Xen will take care of the IO, QEMU\nwill not be involved in it.\n\nXen set a limit of memory available for each guest, allocating memory\nfor a ROM can hit this limit.\n\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>\nSigned-off-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nReported-and-Tested-by: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>",1,0.9983643889427184,PCI,hw/xen/xen_pt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8d7b5a1da0e06aa7addd7f084d9ec9d433c4bafb,47c16ed56aa6bc4037bdb7b61f049097993cd244,Alexey Kardashevskiy,2014-01-17,"vfio: fix mapping of MSIX bar\n\nVFIO virtualizes MSIX table for the guest but not mapping the part of\na BAR which contains an MSIX table. Since vfio_mmap_bar() mmaps chunks\nbefore and after the MSIX table, they have to be aligned to the host\npage size which may be TARGET_PAGE_MASK (4K) or 64K in case of PPC64.\n\nThis fixes boundaries calculations to use the real host page size.\n\nWithout the patch, the chunk before MSIX table may overlap with the MSIX\ntable and mmap will fail in the host kernel. The result will be serious\nslowdown as the whole BAR will be emulated by QEMU.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9997095465660096,"PPC, PPC64, VFIO",hw/misc/vfio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3c4b4e383e82ab3db307ee01f12ab0d4a28584dc,e69968d472bd020a08c677c814237548090d2e59,Kevin Wolf,2014-01-20,"qemu-progress: Fix progress printing on SIGUSR1\n\nSince commit a7aae221 ('Switch SIG_IPI to SIGUSR1'), SIGUSR1 is blocked\nduring startup, breaking the progress report in tools.\n\nThis patch reenables the signal when initialising a progress report.\n\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>\nReviewed-by: Benoit Canet <benoit@irqsave.net>",1,0.9940546154975892,GUS,util/qemu-progress.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8977557ae418f9b9ff5c35ee39161a33f2368e6a,15bce1b7c55c69f47e13c9eb2a4b80f41da26581,Gabriel L. Somlo,2014-01-13,"ACPI: Fix AppleSMC _STA size\n\nMinimize the storage used for AppleSMC's _STA (8bit), relying on ASL\nto implicitly convert it to the officially specified 32bit value.\n\nSigned-off-by: Gabriel Somlo <somlo@cmu.edu>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996055960655212,ACPI,"hw/i386/acpi-build.c, hw/i386/acpi-dsdt-isa.dsl",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,69d09245d19765fd461cc3d3a7d79686007c4474,a3a74ab90ea81cafaf4d03824d47a6d028ea996d,Marcel Apfelbaum,2014-01-16,"acpi unit-test: resolved iasl crash\n\nIt seems that iasl has an issue when disassembles\nsome ACPI tables using the command line:\niasl -e DSDT -e SSDT -d HPET\n\nModified the iasl command line to ""iasl -d HPET""\nuntil the problem is solved. The command line\nremained the same for DSDT and SSDT tables.\n\nReported-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Marcel Apfelbaum <marcel.a@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9982537627220154,"ACPI, HPET",tests/acpi-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0651596cbed8c0806aa2d7e436201f28b2fe179a,69d09245d19765fd461cc3d3a7d79686007c4474,Marcel Apfelbaum,2014-01-16,"acpi unit-test: do not fail on asl mismatch\n\nThe asl comparison will break every time the ACPI\ntables are updated. This may break the git bisect.\nInstead of failing print a warning on stderr\nincluding the retained asl files, so they can be\ncompared offline.\n\nSigned-off-by: Marcel Apfelbaum <marcel.a@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9944618344306946,ACPI,tests/acpi-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4c8a949b2416158a311abefc09a20153aa107e93,f30ee8a9682be4abfcb05c6389894f8cfc35c3f0,Eduardo Habkost,2014-01-09,"acpi: Fix PCI hole handling on build_srat()\n\nThe original SeaBIOS code used the RamSize variable, that was used by\nSeaBIOS for the size of RAM below 4GB, not for all RAM. When copied to\nQEMU, the code was changed to use the full RAM size, and this broke the\nbuild_srat() code that handles the PCI hole.\n\nChange build_srat() to use ram_size_below_4g instead of ram_size, to\nrestore the original behavior from SeaBIOS.\n\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9555989503860474,PCI,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,18d13fa293af8e54e15c4651f99b24a139c9eb43,0169c511554cb0014a00290b0d3d26c31a49818f,Alexander Graf,2014-01-19,"TCG: Fix I64-on-32bit-host temporaries\n\nWe have cache pools of temporaries that we can reuse later when they've\nalready been allocated before.\n\nThese cache pools differenciate between the target TCG variable type they\ncontain. So we have one pool for I32 and one pool for I64 variables.\n\nOn a 32bit system, we can't work with 64bit registers though. So instead we\nspawn two I32 temporaries for every I64 temporary we create. All caching\nworks the same way as on a real 64-bit system though: We create a cache entry\nin the 64bit array for the first i32 index.\n\nHowever, when we free such a temporary we free it to the pool of its type\n(which is always i32 on 32bit systems) rather than its base_type (which is\ni64 or i32 depending on the variable). This means we put a temporary that\nis of base_type == i64 into the i32 preallocated temporary pool.\n\nEventually, this results in failures like this on 32bit hosts:\n\n  qemu-system-ppc64: tcg/tcg.c:515: tcg_temp_new_internal: Assertion `ts->base_type == type' failed.\n\nThis patch makes the free routine use the base_type instead for the free case,\nso it's consistent with the temporary allocation. It fixes the above failure\nfor me.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nMessage-id: 1390146811-59936-1-git-send-email-agraf@suse.de\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9994885921478271,TCG,tcg/tcg.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d66433ffdced6537ab7e6c423a8f14091c51e3e2,fd5d5afad8e7b92181ddfccd5639be9775456bec,Edgar E. Iglesias,2014-01-18,cris: Abort when a v10 takes interrupts while in a delayslot\n\nThis is an internal error as the CRISv10 should mask interrupts\nwhile executing delay slots. Bail out sooner rather than later.\n\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>,1,0.9995574355125428,CRIS,target-cris/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8cfc114a2f293c40077d1bdb7500b29db359ca22,ce603d8ef11f2a2d29be1c4f90d417331b41acfc,Stefan Weil,2014-02-01,"linux-user: Fix trampoline code for CRIS\n\n__put_user can write bytes, words (2 bytes) or longwords (4 bytes).\nHere obviously words should have been written, but bytes were written,\nso values like 0x9c5f were truncated to 0x5f.\n\nFix this by changing retcode from uint8_t to to uint16_t in\ntarget_signal_frame and also in the unused rt_signal_frame.\n\nThis problem was reported by static code analysis (smatch).\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nAcked-by: Riku Voipio <riku.voipio@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nTested-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>",1,0.9996110796928406,CRIS,linux-user/signal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,977c7b6d8909464eb3a510829f534451d0adb227,f0b9b11164482a8a2283dee25cecc4a4c531259e,Radim Krm,2014-01-21,"kvm: print suberror on all internal errors\n\nKVM introduced internal error exit reason and suberror at the same time,\nand later extended it with internal error data.\nQEMU does not report suberror on hosts between these two events because\nwe check for the extension. (half a year in 2009, but it is misleading)\n\nFix by removing KVM_CAP_INTERNAL_ERROR_DATA condition on printf.\n\n(partially improved by bb44e0d12df70 and ba4047cf848a3 in the past)\n\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nSigned-off-by: Radim Krm <rkrcmar@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9987391829490662,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,234cc64796557eea829544e4ff72ee99b6149187,977c7b6d8909464eb3a510829f534451d0adb227,Paolo Bonzini,2014-01-23,"KVM: fix coexistence of KVM and Hyper-V leaves\n\nkvm_arch_init_vcpu's initialization of the KVM leaves at 0x40000100\nis broken, because KVM_CPUID_FEATURES is left at 0x40000001.  Move\nit to 0x40000101 if Hyper-V is enabled.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999637484550476,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f9ee9f9ac28d6964772c08d5d428b713d58a3aca,20bcf73fa80c3477b6aaf5f39f18f031ff55de92,Alexey Kardashevskiy,2014-01-30,"exec: fix ram_list dirty map optimization\n\nThe ae2810c4bb3b383176e8e1b33931b16c01483aab patch introduced\noptimization for ram_list.dirty_memory update. However it can only\nwork correctly if hpratio is 1 as the @bitmap parameter stores 1 bits\nper system page size (may vary, 4K or 64K on PPC64) and\nram_list.dirty_memory stores 1 bit per TARGET_PAGE_SIZE\n(which is hardcoded to 4K).\n\nThis fixes hpratio!=1 case to fall back to the slow path.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Juan Quintela <quintela@redhat.com>",1,0.999611794948578,"PPC, PPC64",include/exec/ram_addr.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,417c45ab2f847c0a47b1232f611aa886df6a97d5,5e95494380ecf83c97d28f72134ab45e0cace8f9,Gabriel L. Somlo,2014-02-07,"ACPI: Remove commented-out code from HPET._CRS\n\nIRQNoFlags on HPET._CRS crashes WinXP because it causes the HPET\nto conflict with the system timer and/or the RTC. It only occurs\non Apple hardware, and even there it is exposed fully only when\nOS X is detected (via _OSI). Recent OS X versions work on QEMU\nwithout this statement, so at this time there is no need to find\na better way to conditionally include the statement. This patch\nremoves the commented out (and wrong, should have been {0, 8})\nstatement from HPET._CRS.\n\nSigned-off-by: Gabriel Somlo <somlo@cmu.edu>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-By: Igor Mammedov <imammedo@redhat.com>",1,0.9987810254096984,"ACPI, HPET",hw/i386/acpi-dsdt-hpet.dsl,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f6aa2f7dee920f6f06fefe122cf2a58cabe3cac0,0dbcf95a1ea5a5ca6222765ff8813c2cc17e8abd,Richard Henderson,2014-01-21,"TCG: Fix 32-bit host allocation typo\n\nThe second half register of a 64-bit temp on a 32-bit host\nwas allocated with the wrong base_type.\n\nThe base_type of the second half register is never checked,\nbut for consistency it should be the same as the first half.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9997310042381288,TCG,tcg/tcg.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,46eef33b89e936ca793e13c4aeea1414e97e8dbb,0dbcf95a1ea5a5ca6222765ff8813c2cc17e8abd,Brad,2013-12-10,"Fix QEMU build on OpenBSD on x86 archs\n\nThis resolves the build issue with building the ROMs on OpenBSD on x86 archs.\nAs of OpenBSD 5.3 the compiler builds PIE binaries by default and thus the\nwhole OS/packages and so forth. The ROMs need to have PIE disabled.\nCheck in configure whether the compiler supports the flags for disabling\nPIE, and if it does then use them for building the ROMs. This fixes the\nfollowing buildbot failure:\n\n>From the OpenBSD buildbots..\n  Building optionrom/multiboot.img\nld: multiboot.o: relocation R_X86_64_16 can not be used when making a shared object; recompile with -fPIC\n\nSigned-off by: Brad Smith <brad@comstyle.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999690055847168,X86_64,"configure, pc-bios/optionrom/Makefile",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e508a92b621c7160122e99d3754e568f2b8e255e,626187d86b037c89367f2f94785717b75e0e4440,Peter Maydell,2014-02-20,"target-arm: Stop underdecoding ARM946 PRBS registers\n\nThe ARM946 has 8 PRBS (protection region base and size) registers.\nCurrently we implement these with a CP_ANY reginfo; however this\nunderdecodes (since there are 16 possible values of CRm but only\n8 registers) and we catch the invalid values in the read and\nwrite functions. However this causes issues with migration since\nwe only migrate the first of a wildcard register set, so we only\nmigrate c6_region[0]. It also makes it awkward to pull reginfo\naccess checks out into their own function.\n\nAvoid all these problems by just defining separate reginfo structs\nfor each of the 8 registers; this also lets us avoid having any\nread or write functions and will result in more efficient direct\nfield accesses from generated code.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999478280544281,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,521f438e36b0265d66862e9cd35e4db82686ca9f,7c08db30e6a43f7083a881eb07bfbc878e001e08,Alexander Graf,2014-01-27,"KVM: Use return value for error print\n\nCommit 94ccff13 introduced a more verbose failure message and retry\noperations on KVM VM creation. However, it ended up using a variable\nfor its failure message that hasn't been initialized yet.\n\nFix it to use the value it meant to set.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995989203453064,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,703dd81aca15ef1d91dba013b6b66c6e3ff88628,c5f52875b980e54e6bebad6121c76863356e1d7f,Paolo Bonzini,2014-01-23,"scsi: report thin provisioning errors with werror=report\n\nSCSI defines a status code for when a thin-provisioned LUNs would\nexceed the allocated space, map ENOSPC to it.\n\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9884595274925232,SCSI,"hw/scsi/scsi-bus.c, hw/scsi/scsi-disk.c, include/hw/scsi/scsi.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7ef8cf9a0861b6f67f5e57428478c31bfd811651,703dd81aca15ef1d91dba013b6b66c6e3ff88628,Markus Armbruster,2014-01-29,"scsi-bus: Fix transfer length for VERIFY with BYTCHK=11b\n\nThe transfer length depends on field BYTCHK, which is encoded in byte\n1, bits 1..2.  However, the guard for for case BYTCHK=11b doesn't\nwork, and we get case 01b instead.  Fix it.\n\nNote that since emulated scsi-hd fails the command outright, it takes\nSCSI passthrough of a device that actually implements VERIFY with\nBYTCHK=11b to make the bug bite.\n\nScrewed up in commit d12ad44.  Spotted by Coverity.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995206594467164,SCSI,hw/scsi/scsi-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c10f7fc3d167799f19d2184f05012b24cc56878d,cf143ad35018c5fc1da6365b45acda2b34aba90a,Peter Maydell,2014-02-26,"target-arm: Load correct access bits from ARMv5 level 2 page table descriptors\n\nIn ARMv5 level 2 page table descriptors, each 4K or 64K page is split into\nfour subpages, each of which can have different access permission settings,\nwhich are specified by four two-bit fields in the l2 descriptor. A\nlong-standing cut-and-paste error meant we were using the wrong bits in\nthe virtual address to select the access-permission field for 4K pages.\n\nThe error has presumably not been noticed before because most guests don't\nmake use of the ability to set the access permissions differently for\neach 1K subpage: if the guest gives the whole page the same access\npermissions it doesn't matter which of the 4 AP fields we select.\n(The whole issue is irrelevant for ARMv7 CPUs anyway because subpages\naren't supported there.)\n\nReported-by: Vivek Rai <Vivek.Rai@emulex.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1392667690-8731-1-git-send-email-peter.maydell@linaro.org",1,0.99928218126297,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,67ed771dedd2a7c6f094e0d70fb1fde8f5fb79da,855011be05fad72e17e0280d0bab87a4bc840695,Peter Maydell,2014-02-26,"target-arm: Fix raw read and write functions on AArch64 registers\n\nThe raw read and write functions were using the ARM_CP_64BIT flag in\nri->type to determine whether to treat the register's state field as\nuint32_t or uint64_t; however AArch64 register info structs don't use\nthat flag. Abstract out the ""how big is the field?"" test into a\nfunction and fix it to work for AArch64 registers. For this to work\nwe must ensure that the reginfo structs put into the hashtable have\nthe correct state field for their use, not the placeholder STATE_BOTH.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997180104255676,ARM,"target-arm/cpu.c, target-arm/cpu.h, target-arm/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b51910baf227f0fd64abfa7ad6d8e00150a18194,974a196d7fc9f2f5553589b0022226b877e5c9b1,Petar Jovanovic,2014-02-28,linux-user: correct handling of break exception for MIPS\n\nException with break instruction has not been correctly propagated as\nSIGTRAP. This resolves crash issues with examples that use break\ninstruction on MIPS.\n\nSigned-off-by: Petar Jovanovic <petar.jovanovic@imgtec.com>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>,1,0.9996381998062134,MIPS,linux-user/main.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a5100e752b4ed1027b6db27d3fbcb0e3c62b3f94,f55ea6297cc0224fe4934b90ff5343b620b14669,Alexey Kardashevskiy,2013-12-20,"target-ppc: fix compile error when PPC_DUMP_CPU is enabled\n\nSince last use of PPC_DUMP_CPU by whoever he/she was, env->tlb became\na union and POWERPC CPU class got QOM'ed so defining PPC_DUMP_CPU\nbreaks compile.\n\nThis fixes compiler errors.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997275471687316,PPC,target-ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9c06a1f79f959fffd09bfb7efc3d76051a6cd2da,88ccd23a0c99155ff1eb5162d3685fde9c679b3d,Alexander Graf,2014-01-27,"KVM: Split QEMUMachine typedef into separate header\n\nOlder gcc versions (such as the one in SLES11) get confused when you declare\na typedef on the same struct twice.\n\nTo work around that limitation, let's extract the QEMUMachine typedef into a\nseparate header file that is guarded by preprocessor duplicate include checks.\n\nThis fixes the following type of compile errors for me:\n\n  In file included from vl.c:125:\n  include/hw/xen/xen.h:39: error: redefinition of typedef ""QEMUMachine""\n  include/sysemu/kvm.h:155: error: previous declaration of ""QEMUMachine"" was here\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9994142055511476,KVM,"include/hw/boards.h, include/hw/xen/xen.h, include/sysemu/kvm.h, include/sysemu/qemumachine.h, include/sysemu/qtest.h, kvm-stub.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0dc083fe10c5cc848f36498b9157a336cbc8c7c1,ca480de66400c4fcaf59100b813e402f9edb08f7,Alexey Kardashevskiy,2014-01-06,"target-ppc: fix Authority Mask Register init value\n\nThe existing default value (-1) of the AMR register forbids data access\nto all 32 classes. Since the guest linux does not change this register,\nwe end up with the guest hanging right after switching from the real to\nprotected mode.\n\nThis sets the default AMR value to zero what enables data access for all\nclasses.\n\nThe only reason for not hitting this bug before is that\nkvm_arch_put_registers() did not put any SPR to KVM due to missing\nassignment of @one_reg_id in _spr_register() (which is going to be fixed\nby a separate patch).\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nReviewed-by: Greg Kurz <gkurz@linux.vnet.ibm.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997077584266664,KVM,target-ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7a7c05d77d60f6a23705da4005e96d379fd49ddb,363248e8c92c6331253e2a768884c69183805050,Alexey Kardashevskiy,2014-01-06,"PPC: KVM: fix ""set one register""\n\nDue to missing @one_reg_id assignment in _spr_register(),\nthe kvm_get_one_reg/kvm_set_one_reg API has never really been working.\n\nThis reenables the API by assigning the @one_reg_id field in the SPR\ndescriptor.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nReviewed-by: Greg Kurz <gkurz@linux.vnet.ibm.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999596893787384,"KVM, PPC",target-ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3052f0d59426a1f8120ffbf66fd438973bfd2912,09aa9a526a86fd2e380e86157c55dfd180661c64,Nathan Whitehorn,2014-01-12,"spapr_vscsi: Fix REPORT_LUNS handling\n\nIntercept REPORT_LUNS commands addressed either to SRP LUN 0 or the well-known\nLUN for REPORT_LUNS commands. This is required to implement the SAM and SPC\nspecifications.\n\nSince SRP implements only a single SCSI target port per connection, the SRP\ntarget is required to report all available LUNs in response to a REPORT_LUNS\ncommand addressed either to LUN 0 or the well-known LUN. Instead, QEMU was\nforwarding such requests to the first QEMU SCSI target, with the result that\ninitiators that relied on this feature would only see LUNs on the first QEMU\nSCSI target.\n\nBehavior for REPORT_LUNS commands addressed to any other LUN is not specified\nby the standard and so is left unchanged. This preserves behavior under Linux\nand SLOF, which enumerate possible LUNs by hand and so address no commands\neither to LUN 0 or the well-known REPORT_LUNS LUN.\n\nSigned-off-by: Nathan Whitehorn <nwhitehorn@freebsd.org>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\n[agraf: define constant as ULL for 32bit hosts]\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999612271785736,SCSI,hw/scsi/spapr_vscsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f5bc1bfa35af5288fe43f459696e712474dafc66,3f34cf910cbc4e77d25a300d8c290ae50bdcc2ed,Tom Musta,2014-02-10,"target-ppc: Fix xxpermdi When T==A or T==B\n\nThe existing implementation of xxpermdi is defective if the target\nVSR is also a source VSR.  This patch fixes the defect in this case\nbut also preserves the simpler, two TCG operation implementation\nwhen the target is not once of the two sources.\n\nSigned-off-by: Tom Musta <tommusta@gmail.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997156262397766,TCG,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,27b95bfe624af1ddfaf63c07f3f0a63049b8c9fc,9c294d5ab3eac0e600fa510becfa677d87b088bf,Tom Musta,2014-02-10,target-ppc: Add Store Quadword Conditional\n\nThis patch adds the Store Quadword Conditionl (stqcx.) instruction\nwhich is introduced in Power ISA 2.07.\n\nSigned-off-by: Tom Musta <tommusta@gmail.com>\n[agraf: fix compile error when !TARGET_PPC64]\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9991788268089294,"PPC, PPC64","linux-user/main.c, target-ppc/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3c3b0ddefac9255f29f5e5c2eb346d0a27e6d022,e5d7d2b0f55a3b90965044a0ea77e30700a5e136,Alexander Graf,2014-02-21,"PPC: sPAPR: Only use getpagesize() when we run with kvm\n\nWe currently size the msi window trap page according to the host's page\nsize so that we poke a working hole into a memory slot in case we overlap.\n\nHowever, this is only ever necessary with KVM active. Without KVM, we should\nrather try to be host platform agnostic and use a constant size: 4k.\n\nThis fixes a build breakage on win32 hosts.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996156692504884,"KVM, PPC",hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f3c75d42adbba553eaf218a832d4fbea32c8f7b8,3707cd62db79ba965a211b9e2bb808792ae7343a,Aneesh Kumar K.V,2014-02-20,"target-ppc: Fix htab_mask calculation\n\nCorrectly update the htab_mask using the return value of\nKVM_PPC_ALLOCATE_HTAB ioctl. Also we don't update sdr1\non GET_SREGS for HV. We check for external htab and if\nfound true, we don't need to update sdr1\n\nSigned-off-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>\n[ fixed pte group offset computation in ppc_hash64_htab_lookup() that\n  caused TCG to fail, Greg Kurz <gkurz@linux.vnet.ibm.com> ]\nSigned-off-by: Greg Kurz <gkurz@linux.vnet.ibm.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999489426612854,"KVM, PPC, TCG","hw/ppc/spapr.c, hw/ppc/spapr_hcall.c, target-ppc/cpu.h, target-ppc/kvm.c, target-ppc/machine.c, target-ppc/misc_helper.c, target-ppc/mmu-hash64.c, target-ppc/mmu_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f20ba62c35e6a779ba4ea00616192ef2abb6896,0ce470cd4ca88e84e547a3b95159d23ce6be419e,Alexey Kardashevskiy,2014-02-02,target-ppc: spapr: e500: fix to use cpu_dt_id\n\nThis makes use of @cpu_dt_id and related API in:\n1. emulated XICS hypercall handlers as they receive fixed CPU indexes;\n2. XICS-KVM to enable in-kernel XICS on right CPU;\n3. device-tree renderer.\n\nThis removes @cpu_index fixup as @cpu_dt_id is used instead so QEMU monitor\ncan accept command-line CPU indexes again.\n\nThis changes kvm_arch_vcpu_id() to use ppc_get_vcpu_dt_id() as at the moment\nKVM CPU id and device tree ID are calculated using the same algorithm.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nAcked-by: Mike Day <ncmike@ncultra.org>\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9818636178970336,"KVM, XICS","hw/intc/openpic_kvm.c, hw/intc/xics.c, hw/intc/xics_kvm.c, hw/ppc/e500.c, hw/ppc/spapr.c, hw/ppc/spapr_hcall.c, hw/ppc/spapr_rtas.c, target-ppc/kvm.c, target-ppc/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,50c75136beec0180171971c88bb6e3fa3aa66463,90ce8a061bdcc485a56142cae68cfbfff270e634,Jeff Cody,2014-03-04,"block: mirror - remove code cruft that has no function\n\nOriginally, this built up the error message with the backing filename,\nso that errp was set as follows:\n    error_set(errp, QERR_OPEN_FILE_FAILED, backing_filename);\n\nHowever, we now propagate the local_error from the\nbdrv_open_backing_file() call instead, making these 2 lines useless\ncode.\n\nSigned-off-by: Jeff Cody <jcody@redhat.com>\nReviewed-by: Benoit Canet <benoit@irqsave.net>\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9931594133377076,LED,block/mirror.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8e46bbf362458fc3e4638a53249248a1ee40b912,ddfa83ea06680e83643978f6ecf740b60f86f7c2,Igor Mammedov,2014-02-06,"memory_region_present: return false if address is not found in child MemoryRegion\n\nWindows XP shows COM2 port as non functional in\n""Device Manager"" although no COM2 port backing device\nis present in QEMU.\n\nThis regression is really due to\n3bb28b7208b349e7a1b326e3c6ef9efac1d462bf?\n    memory: Provide separate handling of unassigned io ports accesses\n\nThat is caused by the fact that QEMU reports to\nOSPM that device is present by setting 5th bit in\nPII4XPM.pci_conf[0x67] register when COM2 doesn't\nexist.\n\nIt happens due to memory_region_present(io_as, 0x2f8)\nreturning false positive since 0x2f8 address eventually\ntranslates into catchall io_as address space.\n\nFix memory_region_present(parent, addr) by returning\ntrue only if addr maps into a MemoryRegion within\nparent (excluding parent itself), to match its\ndoc comment.\n\nWhile at it fix copy/paste error in\nmemory_region_present() doc comment.\n\nNote: this is a temporary hack: we really need better handling for\nunassigned regions, we should avoid fallback regions since they are bad\nfor performance (breaking radix tree assumption that the data structure\nis sparsely populated); for memory we need to fix this to implement PCI\nmaster abort properly, anyway.\n\nCc: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.8440359234809875,PCI,"include/exec/memory.h, memory.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6e1f0a55a14bad1d0c8b9d29626ef4e4b2617c74,8e46bbf362458fc3e4638a53249248a1ee40b912,Igor Mammedov,2014-02-17,"PCIE: fix regression with coldplugged multifunction device\n\nPCIE is causing asserts each time a multifunction device is added\non command line (coldplug).\n\nThis is caused by\ncommit a66e657e18cd9b70e9f57ae5512c07faf2bc508f\n    pci/pcie: convert PCIE hotplug to use hotplug-handler API\nQEMU abort is caused by misplaced assertion, which should\nbe checked only when device is hotplugged.\n\nReference to regression report:\n http://www.mail-archive.com/qemu-devel@nongnu.org/msg216226.html\n\nFixes: a66e657e18cd9b70e9f57ae5512c07faf2bc508f\n\nReported-By: Nigel Kukard <nkukard+qemu@lbsd.net>\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997090697288512,PCI,hw/pci/pcie.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,175f099b30d4736d23384a838b5f324961f67a1e,15d914b18dd7a9a3bd85291f476613b2f9c2caa6,Herv Poussineau,2014-02-11,"pam: partly fix write-only mode\n\nIn write-only mode, writes are forwarded to RAM, while reads should not be\nhandled (ie should return 0xff).\nAssume that in this mode, no read access is ever done, as they shouldn't\ngive any sensible result.\n\nSo, in write-only mode, alias PAM region to RAM, instead of PCI memory\n(which can even be mapped to some device!)\n\nThis fixes Award BIOS, which use this mode to shadow system BIOS and video BIOS.\n\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995999932289124,"PAM, PCI",hw/pci-host/pam.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,af5199347a874db2214bf818151bad71b856ff37,e9d818b8b1a7fadc6c92256b716f1bc21b8daabc,Peter Maydell,2014-03-10,"target-arm: Fix incorrect setting of E bit in CPSR\n\nCommit 4cc35614a moved the exception mask bits out of env->uncached_cpsr\nand into env->daif. However the env->daif contents are AArch64 style\nmask bits, which include not just the AArch32 AIF bits but also the\nnew D bit (masks debug exceptions). This means that when reconstructing\nthe AArch32 CPSR value we must not allow the D bit in env->daif to get\ninto the CPSR, because the corresponding bit in the CPSR is E, the\nendianness bit.\n\nThis bug didn't affect execution under TCG because we don't implement\nendianness-swapping and so simply ignored the E bit; however it meant\nthat kernel booting under KVM failed, because KVM does honour the E bit.\n\nReported-by: Alexey Ignatov <lexszero@gmail.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.998416543006897,"KVM, TCG",target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fb0e843a11abae5b959a4b02be7aef617c023b4e,8f3babb74d48e17e8a717b79d57c1fbe6b3b2480,Alexey Kardashevskiy,2014-02-13,"xics-kvm: Fix reset function\n\nCurrently interrupt priorities are set to 0 (highest) at the very\nbeginning of the guest execution which is not correct and makes the guest\nproduce random interrupt error messages such as:\n""Interrupt 0x1001 (real) is invalid, disabling it"".\nThis also prevents interrupt states from correct migration.\n\nThis initializes priority to 0xFF as the emulated XICS does.\n\nSuggested-by: Paul Mackerras <paulus@samba.org>\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9996893405914308,XICS,hw/intc/xics_kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d44229c54f7477035c7e914dd12c84e01bbd4123,d7f0a59ff02affb8270ad9b6ee7e60974ac92df0,Mark Wu,2014-03-10,"Fix vga_interface_type for command line argument '-device VGA'\n\nSome machine (like pseries) initialization code determines if it has\ngraphics according to vga_interface_type. In the original code,\nvga_interface_type is evaluated to VGA_NONE even if a VGA is added\nvia '-device VGA'. It causes the machine not aware of the graphics\ndevice configured. Add a new VGA device type to indicate that it has a\nVGA device, which will be initialized in QOM device initialization.\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Mark Wu <wudxw@linux.vnet.ibm.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9994708895683287,VGA,"include/sysemu/sysemu.h, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7effdaa32198b7077c51e29621dfca3d1b14e420,d44229c54f7477035c7e914dd12c84e01bbd4123,Mark Wu,2014-03-10,"spapr: Fix return value of vga initialization\n\nBefore spapr_vga_init will returned false if the vga is specified by\nthe command '-device VGA' because vga_interface_type was evaluated to\nVGA_NONE. With the change in previous patch of this series,\nspapr_vga_init should return true if it's told that the vga will be\ninitialized in flow of the generic devices initialization.\n\nTo keep '-nodefaults' have the semantics of bare minimum, it adds a\ncheck of 'has_defaults' in usb_enabled() to avoid that a USB controller\nis added by '-nodefautls, -device VGA' implicitly.\n\nThis patch also makes two cleanups:\n1. skip initialization for VGA_NONE\n2. remove the useless 'break'\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Mark Wu <wudxw@linux.vnet.ibm.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.999313235282898,"USB, VGA","hw/ppc/spapr.c, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,be21c336162f5f4269131faffb1c6461cf57b74a,bbbd67f0ccdba93702e58879997c1d2ca67311b1,Andreas Frber,2014-03-13,"virtio-console: Fix VIRTIO_CONSOLE() cast macro\n\nCommit 0399a3819b27083ba69b88a9baa9025facab85bd (virtio-console: QOM\ncast cleanup for VirtConsole) broke virtserialport since it shares\nfunctions and state struct with virtconsole. Let virtconsole inherit\nfrom virtserialport, and use virtserialport type for casting.\n\nNote that virtio-serial-port is the abstract base type in\nvirtio-serial-bus.c, whereas virtserialport is the user-instantiatable\ntype in virtio-console.c. Therefore using TYPE_VIRTIO_CONSOLE_SERIAL_PORT.\n\nReported-by: Richard W.M. Jones <rjones@redhat.com>\nAcked-by: Richard W.M. Jones <rjones@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9995417594909668,"SERIAL, VIRTIO",hw/char/virtio-console.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d6d60581f3f6778de85ee23427006151b5226667,ba7500852d8c3926a732892236765eee1bcaea93,Peter Maydell,2014-03-17,"target-arm: Add ARM_CP_IO notation to PMCR reginfo\n\nNow that the PMCR writefn makes timer accesses, its reginfo needs\nthe ARM_CP_IO flag, so that icount mode works correctly. (Fixes\nthe bug accidentally introduced in commit 7c2cb42b).\n\nReported-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1394908291-16546-1-git-send-email-peter.maydell@linaro.org",1,0.9996284246444702,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2f487a3d40faff1772e14da6b921900915501f9a,315b59344126beab85a62b53582794b14436a5a4,Peter Lieven,2014-03-17,ui/vnc: fix vmware VGA incompatiblities\n\nthis fixes invalid rectangle updates observed after commit 12b316d\nwith the vmware VGA driver. The issues occured because the server\nand client surface update seems to be out of sync at some points\nand the max width of the surface is not dividable by\nVNC_DIRTY_BITS_PER_PIXEL (16).\n\nReported-by: Serge Hallyn <serge.hallyn@ubuntu.com>\nSigned-off-by: Peter Lieven <pl@kamp.de>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9997084736824036,VGA,"hw/display/vmware_vga.c, ui/vnc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5ff020b7b02dce36a66c106df986ff68f8452542,1d14ac5af04fab9ee734cc4c810f022df6745278,Eduardo Habkost,2014-03-14,"pc: Refuse CPU hotplug if the resulting APIC ID is too large\n\nThe ACPI CPU hotplug code requires APIC IDs to be smaller than\nACPI_CPU_HOTPLUG_ID_LIMIT, so enforce the limit before trying to hotplug\na new vCPU, returning an error instead of crashing.\n\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996200799942015,"ACPI, ACPI_CPU_HOTPLUG, APIC",hw/i386/pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd16430777cc3d25930e479fdbe290d92cec0888,059b3527f0229f4d60fd77a317503d42abd5e50f,Rob Herring,2014-03-18,ahci: fix sysbus support\n\nNon-PCI AHCI support is broken due to assertion failures when trying\nto convert AHCIState to a PCIDevice pointer as AHCIState can have\ndifferent container structs. Fix this by using the non-asserting object\ncast and checking the returned pointer is not NULL.\n\nThe AddressSpace pointer is also being initialized to NULL and causing\ndma_memory_map call to fail. Fix this by initializing to\naddress_space_memory for sysbus instances.\n\nAlso correct AHCI_VMSTATE to use the correct container SysbusAHCIState\nfor sysbus instances.\n\nSigned-off-by: Rob Herring <rob.herring@linaro.org>\nMessage-id: 1392073373-3295-1-git-send-email-robherring2@gmail.com\n[PMM: added linebreaks to fix overlong lines]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9997251629829408,"AHCI, PCI",hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ec864874bd1c1e13c82f4096fd3957d26c70a680,4c8821d13405056776d0255bb78925dac91996c3,Peter Maydell,2014-03-19,linux-user: Fix build if headers don't define _LINUX_CAPABILITY_VERSION_1\n\nOlder kernel headers don't define _LINUX_CAPABILITY_VERSION_1.\nSwitch to using the older _LINUX_CAPABILITY_VERSION; newer headers\nstill define this for source compatibility.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReported-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nReviewed-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nAcked-by: Riku Voipio <riku.voipio@iki.fi>,1,0.9928131699562072,LINUX,linux-user/syscall.c,0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2403837e67eca7eb5dfdadda25cdd38ef2dc9ad0,d16644ec4ce1da5db24dd0a1618d814feaaf8ccb,Herv Poussineau,2014-03-17,raven: Fix PCI bus accesses with size > 1\n\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nReviewed-by: Artyom Tarasenko <atar4qemu@gmail.com>\nSigned-off-by: Andreas Frber <andreas.faerber@web.de>,1,0.9993857145309448,PCI,hw/pci-host/prep.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a46622fd07edc6fd3c66f8ab79b4782a78b115f3,df99d30d4e0dd22be5572235a5213de429e00747,Alexey Kardashevskiy,2014-03-07,spapr_hcall: Fix little-endian resource handling in H_SET_MODE\n\nThis changes resource code definitions to ones used in the host kernel.\n\nThis fixes H_SET_MODE_RESOURCE_LE (switch between big endian and\nlittle endian) to sync registers from KVM before changing LPCR value.\n\nThis adds a set_spr() helper to update an SPR in a CPU's context to avoid\npossible races and makes use of it to change LPCR.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nReviewed-by: Greg Kurz <gkurz@linux.vnet.ibm.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>,1,0.7808836102485657,KVM,"hw/ppc/spapr_hcall.c, include/hw/ppc/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,71461b0fef53467d2a85dbd72304dba0e01d8370,29ee324740fa7af4b7cf0ce9295a07296e9a0f24,Alexey Kardashevskiy,2014-03-17,"spapr: Implement interface to fix device pathname\n\nThis extends the pseries machine type with the interface to fix firmware\npathnames for devices which have @bootindex property.\n\nThis fixes SCSI disks' device node names (which are wildcard nodes in\nthe device-tree), for spapr-vscsi, virtio-scsi and usb-storage.\n\nThis fixes PHB name from ""pci"" to ""pci@XXXX"" where XXXX is a BUID as\nthere is no bus on top of sPAPRPHBState where PHB firmware name could\nbe fixed using the BusClass::get_fw_dev_path() mechanism.\n\nThis stores the boot list in the /chosen/qemu,boot-list property of\nthe device tree. ""\n"" are replaced by spaces to support OF1275.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9996482133865356,SCSI,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e279e252ac7ea99b58eaf20d0aec4288de0386bb,3a87f8b6859e6221b827ab4737779dddb37553ec,Richard W.M. Jones,2014-03-21,"backends/baum.c: Fix compilation when SDL is not available.\n\nbackends/baum.c: In function chr_baum_init:\nbackends/baum.c:569:64: error: missing binary operator before token ""(""\n #if defined(CONFIG_SDL) && SDL_COMPILEDVERSION < SDL_VERSIONNUM(2, 0, 0)\n                                                                ^\nbackends/baum.c:598:64: error: missing binary operator before token ""(""\n #if defined(CONFIG_SDL) && SDL_COMPILEDVERSION < SDL_VERSIONNUM(2, 0, 0)\n\nSigned-off-by: Richard W.M. Jones <rjones@redhat.com>\nMessage-id: 1395437377-5779-1-git-send-email-rjones@redhat.com\nReviewed-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996877908706664,LED,backends/baum.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7f6613cedc59fa849105668ae971dc31004bca1c,b9bf8a1abb1cafe7184e3dbad9bf8819b3cb620a,Petar Jovanovic,2014-03-25,"target-mips: fix MTHC1 and MFHC1 when FPU in FR=0 mode\n\nPrevious implementation presumed that FPU registers are 64-bit and are\nworking in 64-bit mode. This change first checks MIPS_HFLAG_F64 and if not\nset, it does load/store from the odd numbered register pair.\nPatch by Matthew Fortune.\n\nSigned-off-by: Matthew Fortune <matthew.fortune@imgtec.com>\nSigned-off-by: Petar Jovanovic <petar.jovanovic@imgtec.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9994750618934632,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b4f4d54812624581ce429c805e5179c78222c707,7f6613cedc59fa849105668ae971dc31004bca1c,Michael S. Tsirkin,2014-03-26,"acpi: make SSDT 1.0 spec compliant when possible\n\nThe ACPI specification says:\n\nThe ASL compiler can emit two different AML opcodes for a Package\ndeclaration, either PackageOp or VarPackageOp. For small, fixed-length\npackages, the PackageOp is used and this opcode is compatible with ACPI\n1.0. A VarPackageOp will be emitted if any of the following conditions\nare true:\n. The NumElements argument is a TermArg that can only be resolved at\nruntime.\n. At compile time, NumElements resolves to a constant that is larger than\n255.\n. The PackageList contains more than 255 initializer elements.\nNote: The ability to create variable-sized packages was first introduced\nin ACPI 2.0. ACPI 1.0 only allowed fixed-size packages with up to 255 elements.\n\nSo the spec seems to say a fixed value up to 255 must always\nbe used with PackageOp and not VarPackageOp, and some guests\n(windows up to win2k8) seem to interpret it like this.\n\nLet's do just this, choosing the encoding depending on\nthe number of elements.\n\nFixes 9bcc80cd71892df42605e0c097d85c0237ff45d1\n(i386/acpi-build: allow more than 255 elements in CPON).\n\nhttps://bugs.launchpad.net/bugs/1297651\n\nReported-by: Robert Hu <robert.hu@intel.com>\nCc: Laszlo Ersek <lersek@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9982700347900392,ACPI,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0b1eaa8803e680de9a05727355dfe3d306b81e17,53a786acac7b4d53288d603504021d928f734513,Stefan Fritsch,2014-03-26,"virtio-net: Do not filter VLANs without F_CTRL_VLAN\n\nIf VIRTIO_NET_F_CTRL_VLAN is not negotiated, do not filter out all\nVLAN-tagged packets but send them to the guest.\n\nThis fixes VLANs with OpenBSD guests (and probably NetBSD, too, because\nthe OpenBSD driver started as a port from NetBSD).\n\nSigned-off-by: Stefan Fritsch <sf@sfritsch.de>\nSigned-off-by: Amos Kong <akong@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999661922454834,"VIRTIO, VIRTIO_NET",hw/net/virtio-net.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f7bc8ef8091229a4bec0e2a40af90abb8dcb3834,0b1eaa8803e680de9a05727355dfe3d306b81e17,Amos Kong,2014-03-26,"virtio-net: add vlan receive state to RxFilterInfo\n\nStefan Fritsch just fixed a virtio-net driver bug [1], virtio-net won't\nfilter out VLAN-tagged packets if VIRTIO_NET_F_CTRL_VLAN isn't negotiated.\n\nThis patch added a new field to @RxFilterInfo to indicate vlan receive\nstate ('normal', 'none', 'all'). If VIRTIO_NET_F_CTRL_VLAN isn't\nnegotiated, vlan receive state will be 'all', then all VLAN-tagged packets\nwill be received by guest.\n\nThis patch also fixed a boundary issue in visiting vlan table.\n\n[1] http://lists.nongnu.org/archive/html/qemu-devel/2014-02/msg02604.html\n\nSigned-off-by: Amos Kong <akong@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>",1,0.9994245767593384,"VIRTIO, VIRTIO_NET","hw/net/virtio-net.c, qapi-schema.json, qmp-commands.hx",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b533f658a98325d0e47b36113bd9f5bcc046fdae,a443bc3496658c9e144ad914933607ebc8418979,Mario Smarduch,2014-03-19,"fix return check for KVM_GET_DIRTY_LOG ioctl\n\nFix return condition check from kvm_vm_ioctl(s, KVM_GET_DIRTY_LOG, &d) to\nhandle internal failures or no support for memory slot dirty bitmap.\nOtherwise the ioctl succeeds and continues with migration.\nAddresses BUG# 1294227\n\nSigned-off-by: Mario Smarduch <m.smarduch@samsung.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>",1,0.9997207522392272,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c36ad13fe9ece9a21a8c1dd082473a2b182298ee,5c312079417908381ffca44d18150b6a990c4f0b,Matt Lupfer,2014-02-21,"Don't enable a HPET timer if HPET is disabled\n\nA HPET timer can be started when HPET is not yet\nenabled. This will not generate an interrupt\nto the guest, but causes problems when HPET is later\nenabled.\n\nA timer that is created and expires at least once before\nHPET is enabled will have an initialized comparator based\non a hpet_offset of 0 (uninitialized). When HPET is\nenabled, hpet_set_timer() is called a second time, which\nmodifies the timer expiry to a time based on the\ndifference between current ticks (measured with the\nnewly initialized hpet_offset) and the timer's\ncomparator (which was generated before hpet_offset was\ninitialized). This results in a long period of no HPET\ntimer ticks.\n\nWhen this occurs with a CentOS 5.x guest, the guest\nmay not receive timer interrupts during its narrow\ntimer check window and panic on boot.\n\nSigned-off-by: Matt Lupfer <mlupfer@ddn.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9991495609283448,HPET,hw/timer/hpet.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b89834f4d79070a26536cb73fe5216a2364551eb,c36ad13fe9ece9a21a8c1dd082473a2b182298ee,Marcel Apfelbaum,2014-03-27,"acpi: fix ACPI generation for pci bridges\n\nCommit 8dcf525abc5dff785251a881f9764dd961065c0d\n    acpi-build: append description for non-hotplug\nappended description for all occupied non hotpluggable PCI slots.\nHowever the bridge devices are already added to SSDT,\nadding them again will create an incorrect SSDT table.\n\nFixed by skipping the pci bridge devices, marking them as 'system'.\n\nSigned-off-by: Marcel Apfelbaum <marcel.a@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997220635414124,"ACPI, PCI",hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0d6d1ab4990b6e8c6f24e9b1308801d657d411ad,c8c14bcb72e436fb4aff99b4b2b92e44f2e715b5,Andreas Frber,2014-03-28,"cpu: Avoid QOM casts for CPU()\n\nCPU address spaces touching load and store helpers as well as the\nmovement of (almost) all fields from CPU_COMMON to CPUState have led to\na noticeable increase of CPU() usage in ""hot"" paths for both TCG and KVM.\n\nWhile CPU()'s OBJECT_CHECK() might help detect development errors, i.e.\nin form of crashes due to QOM vs. non-QOM mismatches rather than QOM\ntype mismatches, it is not really needed at runtime since mostly used in\nCPU-specific paths, coming from a target-specific CPU subtype. If that\npointer is damaged, other errors are highly likely to occur elsewhere\nanyway.\n\nKeep the CPU() macro for a consistent developer experience and for\nflexibility to exchange its implementation, but turn it into a pure,\nunchecked C cast for now.\n\nCompare commit 6e42be7cd10260fd3a006d94f6c870692bf7a2c0.\n\nReported-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.99933260679245,"KVM, TCG",include/qom/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,87d8354de3560eb705bcee83142d775f703177a6,784a5592c9e7721d9035a83570f09a286cf75284,Alexander Graf,2014-04-02,"PPC: openpic_kvm: Filter memory events properly\n\nCommit 6f1834a2b exposed a bug in openpic_kvm where we don't filter\nfor memory events that only happen to the region we want to know\nevents about.\n\nAdd proper filtering, fixing the e500plat target with KVM.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nMessage-id: 1396431718-14908-1-git-send-email-agraf@suse.de\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996337890625,"KVM, PPC",hw/intc/openpic_kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,06f6e12491fd767b3b23573c438f925f6092e897,6a2b3d89fa49ec060db646d196864a8fd15c10cf,Alexander Graf,2014-04-08,"PPC: Add l1 cache sizes for 970 and above systems\n\nBook3s_64 guests expect the L1 cache size in device tree, so let's give\nthem proper values for all CPU types we support.\n\nThis fixes a ""not compliant"" warning with sles11 guests on -M pseries for me.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9992504715919496,PPC,target-ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,abf1172fc6dbc9564e25039434d444d9a9f1e88a,c2b820fe587b18448967cdd6d408abd1dc0471f2,Peter Maydell,2014-04-15,"target-arm: Define exception record for AArch64 exceptions\n\nFor AArch32 exceptions, the only information provided about\nthe cause of an exception is the individual exception type (data\nabort, undef, etc), which we store in cs->exception_index. For\nAArch64, the CPU provides much more detail about the cause of\nthe exception, which can be found in the syndrome register.\nCreate a set of fields in CPUARMState which must be filled in\nwhenever an exception is raised, so that exception entry can\ncorrectly fill in the syndrome register for the guest.\nThis includes the information which in AArch32 appears in\nthe DFAR and IFAR (fault address registers) and the DFSR\nand IFSR (fault status registers) for data aborts and\nprefetch aborts, since if we end up taking the MMU fault\nto AArch64 rather than AArch32 this will need to end up\nin different system registers.\n\nThis patch does a refactoring which moves the setting of the\nAArch32 DFAR/DFSR/IFAR/IFSR from the point where the exception\nis raised to the point where it is taken. (This is no change\nfor cores with an MMU, retains the existing clearly incorrect\nbehaviour for ARM946 of trashing the MP access permissions\nregisters which share the c5_data and c5_insn state fields,\nand has no effect for v7M because we don't implement its\nMPU fault status or address registers.)\n\nAs a side effect of the cleanup we fix a bug in the AArch64\nlinux-user mode code where we were passing a 64 bit fault\naddress through the 32 bit c6_data/c6_insn fields: it now\ngoes via the always-64-bit exception.vaddress.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Peter Crosthwaite <peter.crosthwaite@xilinx.com>",1,0.9995447993278505,ARM,"linux-user/main.c, target-arm/cpu.h, target-arm/helper.c, target-arm/machine.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2c7ffc414d8591018248b5487757e45f7bb6bd3c,90e496386fe7fd32c189561f846b7913f95b8cf4,Peter Maydell,2014-04-15,"target-arm: Fix VFP enables for AArch32 EL0 under AArch64 EL1\n\nThe current A32/T32 decoder bases its ""is VFP/Neon enabled?"" check\non the FPSCR.EN bit. This is correct if EL1 is AArch32, but for\nan AArch64 EL1 the logic is different: it must act as if FPSCR.EN\nis always set. Instead, trapping must happen according to CPACR\nbits for cp10/cp11; these cover all of FP/Neon, including the\nFPSCR/FPSID/MVFR register accesses which FPSCR.EN does not affect.\nAdd support for CPACR checks (which are also required for ARMv7,\nbut were unimplemented because Linux happens not to use them)\nand make sure they generate exceptions with the correct syndrome.\n\nWe actually return incorrect syndrome information for cases\nwhere FP is disabled but the specific instruction bit pattern\nis unallocated: strictly these should be the Uncategorized\nexception, not a ""SIMD disabled"" exception. This should be\nmostly harmless, and the structure of the A32/T32 VFP/Neon\ndecoder makes it painful to put the 'FP disabled?' checks in\nthe right places.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Peter Crosthwaite <peter.crosthwaite@xilinx.com>",1,0.9997001886367798,ARM,"target-arm/cpu.h, target-arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,33bbd75a7c3321432fe40a8cbacd64619c56138c,553893736885e4f2dda424bff3e2200e1b6482a5,Peter Crosthwaite,2014-04-16,"arm: translate.c: Fix smlald Instruction\n\nThe smlald (and probably smlsld) instruction was doing incorrect sign\nextensions of the operands amongst 64bit result calculation. The\ninstruction psuedo-code is:\n\n operand2 = if m_swap then ROR(R[m],16) else R[m];\n product1 = SInt(R[n]<15:0>) * SInt(operand2<15:0>);\n product2 = SInt(R[n]<31:16>) * SInt(operand2<31:16>);\n result = product1 + product2 + SInt(R[dHi]:R[dLo]);\n R[dHi] = result<63:32>;\n R[dLo] = result<31:0>;\n\nThe result calculation should be done in 64 bit arithmetic, and hence\nproduct1 and product2 should be sign extended to 64b before calculation.\n\nThe current implementation was adding product1 and product2 together\nthen sign-extending the intermediate result leading to false negatives.\n\nE.G. if product1 = product2 = 0x4000000, their sum = 0x80000000, which\nwill be incorrectly interpreted as -ve on sign extension.\n\nWe fix by doing the 64b extensions on both product1 and product2 before\nany addition/subtraction happens.\n\nWe also fix where we were possibly incorrectly setting the Q saturation\nflag for SMLSLD, which the ARM ARM specifically says is not set.\n\nReported-by: Christina Smith <christina.smith@xilinx.com>\nSigned-off-by: Peter Crosthwaite <peter.crosthwaite@xilinx.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 2cddb6f5a15be4ab8d2160f3499d128ae93d304d.1397704570.git.peter.crosthwaite@xilinx.com\nCc: qemu-stable@nongnu.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996356964111328,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ad5171dbd419ffa9e10de766e1c3198f2ae62dfa,2d03b49c3f225994c4b0b46146437d8c887d6774,Stefan Weil,2014-02-21,"tcg: Fix warning (1 bit signed bitfield entry) and replace int by bool\n\nStatic code analyzers complain about signed bitfields with only a single\nbit. is_ld is used as a boolean value, so make it bool.\n\nppc64 already used bool for the 2nd argument is_ld of the local function\nadd_qemu_ldst_label. Modify all other TCG targets to do follow this\nexample.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9574814438819884,TCG,"tcg/aarch64/tcg-target.c, tcg/arm/tcg-target.c, tcg/i386/tcg-target.c, tcg/ppc/tcg-target.c, tcg/tcg-be-ldst.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,860643bc5aa902f9b736c57b66e301ef08a2b68e,9ffd26859d95eb1ea01980c42a6c568f521d671a,Christian Borntraeger,2014-04-03,"s390x/kvm: rework KVM synchronize to tracing for some ONEREGS\n\nSome ONE_REGS on s390 are not protected by a capability. Older kernels\nmight not provide those and return an error. Fortunately these registers\nare only critical for the migration path. There is no need to error out\non reset and normal runtime. Furthermore, these kernels don't provide\na proper dirty bitmap anyway, so let's use tracing for those errors.\n\nAlso provide generic one reg helper to simplify the code.\n\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9994332194328308,KVM,"target-s390x/kvm.c, trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,71b926992e0e0a0da078873480c6fc1dd65af6fc,e2da502c003b9a91b4aea7684959192bd07c1f1d,Richard Henderson,2013-09-09,tcg: Fix missed pointer size != TCG_TARGET_REG_BITS changes\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>,1,0.9997106194496156,TCG,"include/exec/def-helper.h, tcg/tcg-op.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e3da9921ebc554fad3224a9fdda9a7425ffd9ef7,3b7715796401ad1b00f752217fe8f425915e801b,Rabin Vincent,2014-05-01,armv7m_nvic: fix CPUID Base Register\n\ncp15.c0_cpuid is never initialized for ARMv7-M; take the value directly\nfrom cpu->midr instead.\n\nSigned-off-by: Rabin Vincent <rabin@rab.in>\nMessage-id: 1398036308-32166-1-git-send-email-rabin@rab.in\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9994383454322816,ARM,hw/intc/armv7m_nvic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,43ce393ee5f7b96d2ac22fedc40d6b6fb3f65a3e,e586822a58b6609edb5ea929e8a4aa394d32389f,Peter Maydell,2014-05-02,"linux-user/elfload.c: Fix incorrect ARM HWCAP bits\n\nThe ELF HWCAP bits for ARM features THUMBEE, NEON, VFPv3 and VFPv3D16 are\nall off by one compared to the kernel definitions. Fix this discrepancy\nand add in the missing CRUNCH bit which was the cause of the off-by-one\nerror. (We don't emulate any of the CPUs which have that weird hardware,\nso it's otherwise uninteresting to us.)\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9997170567512512,ARM,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,24e76ff06bcd0936ee8b04b15dca42efb7d614d1,24682654654a2e7b50afc27880f4098e5fca3742,Peter Maydell,2014-05-02,"linux-user/elfload.c: Fix A64 code which was incorrectly acting like A32\n\nThe ARM target-specific code in elfload.c was incorrectly allowing\nthe 64-bit ARM target to use most of the existing 32-bit definitions:\nmost noticably this meant that our HWCAP bits passed to the guest\nwere wrong, and register handling when dumping core was totally\nbroken. Fix this by properly separating the 64 and 32 bit code,\nsince they have more differences than similarities.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9996557235717772,ARM,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cc45995294b92d95319b4782750a3580cabdbc0c,eea750a5623ddac7a61982eec8f1c93481857578,Michael S. Tsirkin,2014-04-03,"virtio: out-of-bounds buffer write on invalid state load\n\nCVE-2013-4151 QEMU 1.0 out-of-bounds buffer write in\nvirtio_load@hw/virtio/virtio.c\n\nSo we have this code since way back when:\n\n    num = qemu_get_be32(f);\n\n    for (i = 0; i < num; i++) {\n        vdev->vq[i].vring.num = qemu_get_be32(f);\n\narray of vqs has size VIRTIO_PCI_QUEUE_MAX, so\non invalid input this will write beyond end of buffer.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: Juan Quintela <quintela@redhat.com>",1,0.9917930960655212,"PCI, VIRTIO, VIRTIO_PCI",hw/virtio/virtio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4b53c2c72cb5541cf394033b528a6fe2a86c0ac1,d2ef4b61fe6d33d2a5dcf100a9b9440de341ad62,Michael Roth,2014-04-03,"virtio: avoid buffer overrun on incoming migration\n\nCVE-2013-6399\n\nvdev->queue_sel is read from the wire, and later used in the\nemulation code as an index into vdev->vq[]. If the value of\nvdev->queue_sel exceeds the length of vdev->vq[], currently\nallocated to be VIRTIO_PCI_QUEUE_MAX elements, subsequent PIO\noperations such as VIRTIO_PCI_QUEUE_PFN can be used to overrun\nthe buffer with arbitrary data originating from the source.\n\nFix this by failing migration if the value from the wire exceeds\nVIRTIO_PCI_QUEUE_MAX.\n\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Juan Quintela <quintela@redhat.com>",1,0.9997133612632751,"PCI, VIRTIO, VIRTIO_PCI",hw/virtio/virtio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3c3ce981423e0d6c18af82ee62f1850c2cda5976,52f91c3723932f8340fe36c8ec8b18a757c37b2b,Michael S. Tsirkin,2014-04-03,"virtio-scsi: fix buffer overrun on invalid state load\n\nCVE-2013-4542\n\nhw/scsi/scsi-bus.c invokes load_request.\n\n virtio_scsi_load_request does:\n    qemu_get_buffer(f, (unsigned char *)&req->elem, sizeof(req->elem));\n\nthis probably can make elem invalid, for example,\nmake in_num or out_num huge, then:\n\n    virtio_scsi_parse_req(s, vs->cmd_vqs[n], req);\n\nwill do:\n\n    if (req->elem.out_num > 1) {\n        qemu_sgl_init_external(req, &req->elem.out_sg[1],\n                               &req->elem.out_addr[1],\n                               req->elem.out_num - 1);\n    } else {\n        qemu_sgl_init_external(req, &req->elem.in_sg[1],\n                               &req->elem.in_addr[1],\n                               req->elem.in_num - 1);\n    }\n\nand this will access out of array bounds.\n\nNote: this adds security checks within assert calls since\nSCSIBusInfo's load_request cannot fail.\nFor now simply disable builds with NDEBUG - there seems\nto be little value in supporting these.\n\nCc: Andreas Frber <afaerber@suse.de>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Juan Quintela <quintela@redhat.com>",1,0.99973863363266,SCSI,hw/scsi/virtio-scsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8cbad670cecaa88cc48115233bc4bc290dadd782,9ac1c4c07e7e6ab16a3e2149e9b32c0d092cb3f5,Herv Poussineau,2014-04-22,"i8259: don't abort when trying to use level sensitive irqs\n\nThis is a guest-triggerable error, as seen when using Xenix 2.3.4.\nReplace hw_error by LOG_UNIMPL, so that guests can continue.\nWith this patch, I can install and use Xenix 2.3.4a without any problem.\nI can also start installation of Xenix 2.3.4q, but it fails due to not\nfinding an hard disk.\n\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.998362958431244,UNIMP,hw/intc/i8259.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ad0a118fa322b39887938185911d4fb332617b5c,8e8be266af067277664c96670c779d8924b4d61e,Peter Maydell,2014-04-29,"tests/tcg: Fix compilation of test_path\n\nThe test_path binary is (unlike the other test binaries in tests/tcg)\nactually intended to be compiled with the same compiler used to build\nthe main QEMU executables. It actually #includes a number of the\nQEMU source files in an attempt to unit-test the util/path.c functions,\nand so if it is not compiled with the same compiler used by configure\nto set CONFIG_ settings then it is liable to fail to build.\nFix the makefile to build it with the default C compiler rules, not\nCC_I386, and fix the test itself not to include a lot of unnecessary\ntrace related source files which cause the build to fail if the trace\nbackend is anything other than 'simple'.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>",1,0.9996721744537354,I386,"tests/tcg/Makefile, tests/tcg/test_path.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,42ee4194f2ac7ff16f8e5cb7900c7d35d483f974,cd9aa33e2cab11fb89071dc2f48550431406e524,Laszlo Ersek,2014-04-10,pci-assign: accept Error from pci_add_capability2()\n\nPropagate any errors while adding PCI capabilities to\nassigned_device_pci_cap_init(). We'll continue the propagation upwards\nwhen assigned_device_pci_cap_init() becomes a leaf itself (when none of\nits callees will report errors internally any longer when detecting and\nreturning them).\n\nSigned-off-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Luiz Capitulino <lcapitulino@redhat.com>,1,0.9996384382247924,PCI,hw/i386/kvm/pci-assign.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2e1198672759eda6e122ff38fcf6df06f27e0fe2,889ac2a32fd803f7222524d8f56aded1c3cbad3c,Peter Maydell,2014-05-13,"hw/net/stellaris_enet: Convert to vmstate\n\nConvert this device to use vmstate for its save/load, including\nproviding a post_load function that sanitizes inbound data to\navoid possible buffer overflows if it is malicious.\n\nThe sanitizing fixes CVE-2013-4532 (though nobody should be\nrelying on the security properties of most of the unmaintained\nARM board models anyway, and migration doesn't actually\nwork on this board due to issues in other device models).\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9993621706962584,ARM,hw/net/stellaris_enet.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1a7917210bd2fc8bd792f4dd36d3d44bd2244104,c3a699be3c63f75b6ea5877080ea9b96b37524c4,Peter Maydell,2014-05-13,"hw/arm/stellaris: Correct handling of GPTM TAR register\n\nWe don't implement very much of the GPTM TAR register, and what we\ndo is wrong. The ""are we in RT mode?"" field is in s->config, not\ns->control. Correct this, use LOG_UNIMP rather than hw_error()\nfor the cases we don't support, and avoid an unlabelled fallthrough\nthat makes Coverity complain.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Peter Crosthwaite <peter.crosthwaite@xilinx.com>",1,0.9855096936225892,UNIMP,hw/arm/stellaris.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f2564d88fe7949bdb5ca4ad652282c28b3da6210,91e7fcca4743cf694eb0c8e7a8d938cf359b5bd8,Jeff Cody,2014-05-19,"block: iscsi build fix if LIBISCSI_FEATURE_IOVECTOR is not defined\n\nCommit b03c380 introduced the function\niscsi_allocationmap_is_allocated(), however it is only used within a\ncode block that is conditionally compiled.  This produces a warning\n(error with -werror) of ""defined but not used"" for the the function, if\nLIBISCSI_FEATURE_IOVECTOR is not defined.\n\nThis wraps iscsi_allocationmap_is_allocated() in the same conditional.\n\nSigned-off-by: Jeff Cody <jcody@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997294545173644,SCSI,block/iscsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b30f4dfbdaf353e580f8a834aeea6b96ac1c67c9,8e4e86afa524588397be2101c3582c897fc408df,David Hildenbrand,2014-02-25,"s390x/kvm: software breakpoint support\n\nThis patch allows to insert and remove sw breakpoints using the QEMU gdbserver\non s390 as well as to interrupt execution on a breakpoint hit when running\nwith KVM enabled.\n\nWhenever a software breakpoint is inserted, common code calls kvm ioctl\nKVM_UPDATE_GUEST_DEBUG. As this method's default on s390 is to return an error\nif not implement, the insertion will fail. Therefore, KVM also has to be\nupdated in order to make use of software breakpoints.\n\nSigned-off-by: David Hildenbrand <dahi@linux.vnet.ibm.com>\nSigned-off-by: Jens Freimann <jfrei@linux.vnet.ibm.com>\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.999543845653534,KVM,target-s390x/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fb5be2e833669dd95be1950ea7b1da4cf7f9556c,13cc2c3e867605122351c68f34af838bc75d8692,Gabriel L. Somlo,2014-05-19,"SMBIOS: Fix endian-ness when populating multi-byte fields\n\nWhen i386 guests are emulated on big endian hosts, make sure\nmulti-byte fields are populated safely via cpu_to_le*().\n\nSigned-off-by: Gabriel Somlo <somlo@cmu.edu>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9994134902954102,SMBIOS,hw/i386/smbios.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0d73394ad93aa12755316b3a90b3193aeeb95f90,84351843eba330022e245a742899cf71fc817ec5,Gabriel L. Somlo,2014-05-19,"SMBIOS: Fix type 17 field sizes\n\nFields for configured_clock_speed and various voltage values\nintroduced in spec v2.7+ should be ""word"", i.e. 16 bits.\n\nReported-by: Laszlo Ersek <lersek@redhat.com>\nSigned-off-by: Gabriel Somlo <somlo@cmu.edu>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9993902444839478,SMBIOS,"hw/i386/smbios.c, include/hw/i386/smbios.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,00d0f7cb6617f50be90e7dbb90a83d87b33f7695,178ac111bca16c08a79b2609ebdc75197bea976a,Christoffer Dall,2014-05-27,"target-arm: Fix segfault on startup when KVM enabled\n\nCommit 50a2c6e55fa introduced a bug where QEMU would segfault on startup\nwhen using KVM on ARM hosts, because kvm_arm_reset_cpu() accesses\ncpu->cpreg_reset_values, which is not allocated before\nkvm_arch_init_vcpu(). Fix this by not calling cpu_reset() until after\nqemu_init_vcpu().\n\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Andreas Faerber <afaerber@suse.de>\nSigned-off-by: Christoffer Dall <christoffer.dall@linaro.org>\nMessage-id: 1401194263-13010-1-git-send-email-christoffer.dall@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999723494052887,"ARM, KVM",target-arm/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7532d3cbf148f72c9476484223b94a188ab59706,12e1129b800a14ee77abe598beba41a95c7b86a5,Alexey Kardashevskiy,2014-05-30,vfio: Fix 128 bit handling\n\nUpcoming VFIO on SPAPR PPC64 support will initialize the IOMMU\nmemory region with UINT64_MAX (2^64 bytes) size so int128_get64()\nwill assert.\n\nThe patch takes care of this check. The existing type1 IOMMU code\nis not expected to map all 64 bits of RAM so the patch does not\ntouch that part.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>,1,0.9996182918548584,"PPC, PPC64, VFIO",hw/misc/vfio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,79b6f2f651d64a122dd647c1456635d5a6a176ac,9b1786829aefb83f37a8f3135e3ea91c56001b56,Jidong Xiao,2014-06-03,"kvm: Fix eax for cpuid leaf 0x40000000\n\nSince Linux kernel 3.5, KVM has documented eax for leaf 0x40000000\nto be KVM_CPUID_FEATURES:\n\nhttps://github.com/torvalds/linux/commit/57c22e5f35aa4b9b2fe11f73f3e62bbf9ef36190\n\nBut qemu still tries to set it to 0. It would be better to make qemu\nand kvm consistent. This patch just fixes this issue.\n\nSigned-off-by: Jidong Xiao <jidong.xiao@gmail.com>\n[Include kvm_base in the value. - Paolo]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997305274009703,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e3eb9806c70c7315336b5e310a841c8f381dacea,3d1b2ff62c65a52a85fb3f9de12bde55d55892df,Alexander Graf,2014-06-04,"TCG: Fix tcg_gen_extr_i64_tl for 32bit\n\nWe expose a generic helper ""tcg_gen_extr_i64_tl"" for 64bit targets, but the\nsame function for 32bit targets is a misnomer and refers to an invalid function\nname.\n\nFix up the definition to point to the correct internal helper names instead.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9996949434280396,TCG,tcg/tcg-op.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7e4e88656c1e6192e9e47a2054d2dc190c1b840b,e00fcfeab3d452cba3d0a08991a39ab15df66424,Stefan Weil,2014-04-28,"cputlb: Fix regression with TCG interpreter (bug 1310324)\n\nCommit 0f842f8a246f2b5b51a11c13f933bf7a90ae8e96 replaced GETPC_EXT() which\nwas derived from GETPC() by GETRA_EXT() without fixing cputlb.c. A later\npatch replaced GETRA_EXT() by GETRA() in exec/softmmu_template.h which\nis included in cputlb.c.\n\nThe TCG interpreter failed because the values returned by GETRA() were no\nlonger explicitly set to 0. The redefinition of GETRA() introduced here\nfixes this.\n\nIn addition, GETPC_ADJ which is also used in exec/softmmu_template.h is\nset to 0. Both changes reduce the compiled code size for cputlb.c by more\nthan 100 bytes, so the normal TCG without interpreter also profits from\nthe reduced code size and slightly faster code.\n\nCc: qemu-stable@nongnu.org\nReported-by: Giovanni Mascellani <gio@debian.org>\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995033740997314,TCG,cputlb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,08da527fd07cf01dc29ca60a144fbdd60b0fb7c0,f068d320def7fd83bf0fcdca37b305f1c2ac5413,Cornelia Huck,2014-05-28,"s390x/kvm: make flic play well with old kernels\n\nIf we run with an old kernel that does not support KVM_CAP_IRQ_ROUTING,\nwe don't have to do anything in the ->register_io_adapter and\n->io_adapter_map callbacks and therefore should return 0 instead of\n-ENOSYS (just as the non-kvm flic does).\n\nThis fixes using adapter interrupts when running under an older kernel,\nwhich broke with ""s390x: add I/O adapter registration"".\n\nReported-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.999670147895813,KVM,hw/intc/s390_flic_kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0a337ed067ff56165ec952611119e808d442af05,932f2d7e0f94c144e5e64adb5934922179c1c440,Gerd Hoffmann,2014-05-28,gtk: cleanup backend dependencies\n\nMake configure detect gtk x11 backend and link libX11 then.  Make\ngtk backend specific code properly #ifdef'ed on the GTK_WINDOWING_*\nbackends at runtime).  Our gtk ui code should build and run fine on\nany platform now.\n\nThis also fixes the linker failute due to the new XkbGetKeyboard call\nadded by commit 3158a3482b0093e41f2b2596fba50774ea31ae08.\n\nCc: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nReviewed-by: Daniel P. Berrange <berrange@redhat.com>,1,0.9986063838005066,X11,"configure, ui/gtk.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,28668b5f31b05f6413826e110ff909522759f7d9,804e654a56549c2960f9c3857bec4f4d934b437e,Alexey Kardashevskiy,2014-05-05,"spapr_pci: fix MSI limit\n\nAt the moment XICS does not support interrupts reuse so sPAPR PHB\nimplements this. sPAPRPHBState holds array of 32 spapr_pci_msi to\ndescribe PCI config address, first MSI and number of MSIs. Once\nallocated for a device, QEMU tries reusing this config until the number\nof MSIs changes.\n\nExisting SPAPR guests call ibm,change-msi in a loop until the handler\nreturns the requested number of vectors.\n\nRecently introduced check for the maximum number of MSI/MSIX vectors\nsupported by a device only works for a device which is new for PHB's\nMSI cache. If it is already there, the check is not performed which\nleads to new IRQ block allocation. This happens during PCI hotplug\neven when the user hot plug the same device which he just hot unplugged.\n\nThis moves the check earlier.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9989525079727172,"PCI, XICS",hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3016dca06cba0ef9511f1c81c7e73bfc805fb254,d575a6ce0efb96966240a53bf611ad6bf5a14ebd,Bharat Bhushan,2014-05-12,"PPC: e500: implement PCI INTx routing\n\nThis patch adds pci pin to irq_num routing callback.\nThis callback is called from pci_device_route_intx_to_irq to\nfind which pci device maps to which irq.\nThis fix is required for pci-device passthrough using vfio.\n\nAlso without this patch we gets below prints\n\n""\n  PCI: Bug - unimplemented PCI INTx routing (e500-pcihost)\n  qemu-system-ppc64: PCI: Bug - unimplemented PCI INTx routing (e500-pcihost) ""\n\nand Legacy interrupt does not work with pci device passthrough.\n\nSigned-off-by: Bharat Bhushan <Bharat.Bhushan@freescale.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\n[agraf: remove double semicolon]\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9995571970939636,"PCI, PPC","hw/pci-host/ppce500.c, hw/ppc/e500.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c80d1df5083846396ab5120731a76a9d62900fda,3016dca06cba0ef9511f1c81c7e73bfc805fb254,Alexander Graf,2014-01-19,"PPC: Fix TCG chunks that don't free their temps\n\nWe want to make sure that every instruction cleans up after itself and\nclears every temporary it allocated.\n\nWhile checking whether this is already the case, I came across a few\ncases where it isn't. This patch fixes every translation I found that\ndoesn't free their allocated temporaries.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997172951698304,"PPC, TCG",target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,deb05c4c4c2b7bfeccddb8494164cc858a8652ec,45eb56110bcefef473f866772a7b537be1b3fe35,Alexander Graf,2014-01-23,"PPC: Fix SPR access control of L1CFG0\n\nThe L1CFG0 register on e200 and e500 is ""User RO"" according to the\nspecifications. So let's make it user readable and world unwritable.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9995843768119812,PPC,target-ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4d09d5291dac27b48fd597c72de6fddaa4d74571,ea71258da4b8141d8a808d94518a0964c0f92810,Alexander Graf,2014-01-19,"PPC: Add dcbtls emulation\n\nThe dcbtls instruction is able to lock data inside the L1 cache.\n\nUnfortunately we don't emulate any caches, so we have to tell the guest\nthat its locking attempt failed.\n\nHowever, by implementing the instruction we at least don't give the\nguest a program exception which it definitely does not expect.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.998976707458496,PPC,target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6db5bb0f547b0a0889e8c2ee330f789916813e94,3794d5482d74dc0031cee6d5be2c61c88ca723bd,Alexey Kardashevskiy,2014-05-23,KVM: PPC: Enable compatibility mode\n\nThe host kernel implements a KVM_REG_PPC_ARCH_COMPAT register which\nthis uses to enable a compatibility mode if any chosen.\n\nThis sets the KVM_REG_PPC_ARCH_COMPAT register in KVM. ppc_set_compat()\nsignals the caller if the mode cannot be enabled by the host kernel.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\n[agraf: fix TCG compat setting]\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.999705135822296,"KVM, PPC, TCG","target-ppc/kvm.c, target-ppc/kvm_ppc.h, target-ppc/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a721d390b302a383a99224e08d12caad2e97d7ab,1b8eceee280d3fab11812271f4956f7b69287ef0,Alex Zuepke,2014-05-28,"PPC: e500: Fix MMUCSR0 emulation\n\nA  ""mtspr SPRMMUCSR0, reg""  always flushed TLB0,\nbecause it passed the SPR number 0x3f4 to the flush routine.\nBut we want to flush either TLB0 or TBL1 depending on the GPR value.\n\nSigned-off-by: Alex Zuepke <alexander.zuepke@hs-rm.de>\n[agraf: change subject line, fix TCGv size mismatch]\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9995310306549072,"PPC, TCG","target-ppc/helper.h, target-ppc/mmu_helper.c, target-ppc/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,deb6ed13ebfcd6c73548225347c5f63225bb471f,f2e2bc9ca06a1c2c6b300c19d4b938c7273a2f76,Alexander Graf,2014-06-04,"PPC: e500: Fix TLB lookup for 32bit CPUs\n\nWhen we run 32bit guest CPUs (or 32bit guest code on 64bit CPUs) on\nqemu-system-ppc64 the TLB lookup will use the full effective address\nas pointer.\n\nHowever, only the first 32bits are valid when MSR.CM = 0. Check for\nthat condition.\n\nThis makes QEMU boot an e500v2 guest with more than 1G of RAM for me.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9995087385177612,PPC,target-ppc/mmu_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ada82b537e6fa947666a7cda1530529769a9324c,deb6ed13ebfcd6c73548225347c5f63225bb471f,Alexander Graf,2014-06-04,PPC: SPE: Fix high-bits bitmask\n\nThe SPE emulation code wants to access the highest 32bits of a 64bit register\nand uses the andi TCG instruction for that. Unfortunately it masked with the\nwrong mask. Fix the mask to actually cover the upper 32 bits.\n\nThis fixes simple multiplication tests with SPE guests for me.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9997090697288512,"PPC, TCG",target-ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f7d69146549d717ef6cb5a68a3a4452391416f22,87a91de61a34a7f3222203556df8a67f187360cd,Alexander Graf,2014-04-24,"PPC: spapr: Expose /hypervisor node in device tree\n\nPR KVM supports an ePAPR compliant hypercall interface in parallel to the\nnormal sPAPR one. Expose the ePAPR /hypervisor node and properties to the\nguest so it can use it.\n\nThis enables magic page sharing on PR KVM with -M pseries.\n\nHowever we had a few nasty bugs in the magic page implementation on vcpus\nnewer than 970 (p7, p8) that KVM now has workarounds for. It indicates that\nit does have these workarounds through the PPC_FIXUP_HCALL capability.\n\nTo not expose broken guest kernels to issues on host kernels that don't\nhave the fixups in place, we don't expose working hypercall instructions\nwhen the fixups are not available so that the guest can never active the\nmagic page.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9950270056724548,"KVM, PPC",hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a70daba3771e96cc6b8fd3d11ed297ab13717018,d5ac4f543352c3412172fb72256137defb13a4b1,Alexander Graf,2014-06-05,"linux-user: Tell guest about big host page sizes\n\nWe tell the guest its page size via AUX vectors. The guest process then uses\nthis page size as information on which boundaries it can mmap() things.\n\nHowever, if the host has a bigger page size granularity than the guest, it can\nnot fulfill these mmap() requests - which falls apart when MAP_FIXED is passed\nto mmap.\n\nSo in that case, let the guest know that we're running on a bigger page size\ngranularity than the target would require.\n\nThis fixes running qemu-ppc (TARGET_PAGE_SIZE=4k) on a 64k page size ppc64 host\nfor me.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nReviewed-by: Richard Henderson <rth@twiddle.net>",1,0.9996925592422484,AUX,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9dbae97723e964692364fb43012c6fa5448a661f,d13fc32ecf8d810ec9894a35e1cfae81f7d88039,Badari Pulavarty,2014-06-11,"spapr_pci: Advertise MSI quota\n\nHotplug of multiple disks fails due to MSI vector quota check.\nNumber of MSI vectors default to 8 allowing only 4 devices.\nThis happens on RHEL6.5 guest. RHEL7 and SLES11 guests fallback\nto INTX.\n\nOne way to workaround the issue is to increase total MSIs,\nso that MSI quota check allows us to hotplug multiple disks.\n\nThis sets the quota to the maximum number of interupts XICS has\nwhich is 1024 now (XICS_IRQS). This moves XICS_IRQS from spapr.c\nto xics.h for wider visibility.\n\nSigned-off-by: Badari Pulavarty <pbadari@us.ibm.com>\n[aik: put XICS_IRQS=1024 instead of 64i, fixed endianness and size]\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9994935989379884,XICS,"hw/ppc/spapr.c, hw/ppc/spapr_pci.c, include/hw/ppc/xics.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4525c1337f2a5fc99570ce392e552b8905e36c9a,9281fe9eea5c9e5037fbf4fb75c5dc8f6e1a24a3,Paul Janzen,2014-06-04,"scsi-disk.c: Fix compilation with -DDEBUG_SCSI\n\nIn scsi-disk.c, if you #define DEBUG_SCSI=1, you get:\nhw/scsi/scsi-disk.c: In function 'scsi_disk_emulate_command':\nhw/scsi/scsi-disk.c:2018: error: 'SCSIRequest' has no member named 'buf'\n\nChange the debugging statement to match the actual value tested.\n\nSigned-off-by: Paul Janzen <pcj@pauljanzen.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996423721313475,SCSI,hw/scsi/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1016b239c5c7b54a02fbd3121f68fb264a42d0a1,b9e77bc718db3593ffbb56f3a51488cdce4d5af3,Paolo Bonzini,2014-06-13,megasas: use PCI DMA API\n\nMegaSAS emulation is not IOMMU-friendly.  Fix this by switching to\npci_dma_* functions.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9995642304420472,PCI,hw/scsi/megasas.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,00008418aa22700f6c49e794e79f53aeb157d10f,af44da87e926ff64260b95f4350d338c4fc113ca,Alexander Graf,2014-06-06,"KVM: Fix GSI number space limit\n\nKVM tells us the number of GSIs it can handle inside the kernel. That value is\nbasically KVM_MAX_IRQ_ROUTES. However when we try to set the GSI mapping table,\nit checks for\n\n    r = -EINVAL;\n    if (routing.nr >= KVM_MAX_IRQ_ROUTES)\n        goto out;\n\nerroring out even when we're only using all of the GSIs. To make sure we never\nhit that limit, let's reduce the number of GSIs we get from KVM by one.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997054934501648,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,253fffe725e8ecc0147a4c6f0893493c1393f0f7,353a243e22fae2b993ab7f2d123c2b81013b3c5d,Sanjay Lal,2014-06-17,"hw/mips: Add API to convert KVM guest KSEG0 <-> GPA\n\nAdd API for converting physical addresses to KVM guest KSEG0 addresses,\nand fix the existing API for converting KSEG0 addresses to physical\naddresses to work in the KVM case. Both have the same sized KSEG0, so\nit's just a case of fixing the mask.\n\nIn KVM trap and emulate mode both the guest kernel and guest userspace\nexecute in useg:\n    Guest User address space:   0x00000000..0x3fffffff\n    Guest Kernel Unmapped:      0x40000000..0x5fffffff\n    Guest Kernel Mapped:        0x60000000..0x7fffffff\n\nSigned-off-by: Sanjay Lal <sanjayl@kymasys.com>\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9993810653686525,KVM,"hw/mips/addr.c, include/hw/mips/cpudevs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e49ab19fcaa617ad6cdfe1ac401327326b6a2552,3eff1f46f08a360a4ae9f834ce9fef4c45bf6f0f,Peter Lieven,2014-06-04,"block/iscsi: bump libiscsi requirement to 1.9.0\n\nThis patch lifts the minimum supported libiscsi version from 1.4.0 to\n1.9.0 since the BUSY patch required that change.\n\nOn one this allows us to remove all #ifdefs from the code which\nmakes the code easier to maintain and read. On the other hand\nI would not recommend libiscsi prior to 1.8.0 for production use\nbecause the following important libiscsi fixes for deadlocks and\nprotocol errors are missing prior to 1.8.0:\n\ndbe9a1e SOCKET queue cmd PDUs directly in waitpdu queue\n30df192 DATA-OUT set pdu->cmdsn appropriately\n548bd22 ISCSI fix broken send logic in iscsi_scsi_async_command\n14bee10 RECONNECT do not increase CmdSN for immediate PDUs\n1f4a66a PDU queue out PDUs in order of itt.\n562dd46 PDU avoid incrementing itt to 0xffffffff\ncd09c0f PDU use serial32 arithmetic for cmdsn, maxcmdsn and expcmdsn.\n89e918e SOCKET validate data_size in in_pdu header\n91267f5 Limit immediate and unsolicited data to FirstBurstLength\n\nNote that libiscsi 1.9.0 was released on Feb 24th, 2013, about\none month after 1.8.0.\n\nSigned-off-by: Peter Lieven <pl@kamp.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9980670809745787,SCSI,"block/iscsi.c, configure",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f1adc360b4ea3ed3bf3a5061681a986b0df85ad7,2e1ac493f13f5fe9a47023c443d339664cc9e9a2,Igor Mammedov,2014-06-02,acpi:piix4: allow plug/unlug callbacks handle not only PCI devices\n\n... and report error if plugged in device is not supported.\nLater these callbacks will be used by memory hotplug.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nAcked-by: Peter Crosthwaite <peter.crosthwaite@xilinx.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.999031662940979,PCI,hw/acpi/piix4.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,34774320c3b05287a06775c31578bd1e2cb20b83,f1adc360b4ea3ed3bf3a5061681a986b0df85ad7,Igor Mammedov,2014-06-02,acpi:piix4: add memory hotplug handling\n\nAdd memory hotplug initialization/handling to PIIX4_PM device\nand enable it by default for post 2.0 machine types\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\n\nMST: resolve conflict in pc.h,1,0.9982278943061828,PIIX4,"hw/acpi/piix4.c, include/hw/acpi/memory_hotplug.h, include/hw/i386/pc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d6b38b661135ceacfc4c3dd9c085f80751465e4f,34774320c3b05287a06775c31578bd1e2cb20b83,Igor Mammedov,2014-06-02,pc: ich9 lpc: make it work with global/compat properties\n\nPropeties of object should be available after its instances_init()\ncallback is finished and not added in PCIDeviceClass.init which is\nroughly corresponds to realize() method.\nMoving properties adding into instances_init will fix missing\nproperty error when global/compat property mechanism is used.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nAcked-by: Peter Crosthwaite <peter.crosthwaite@xilinx.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.999658703804016,PCI,hw/isa/lpc_ich9.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2b631ec2557eddfe92f1ef80d7fcaedd5db64e28,96d0e26c238e8df5d659a9b89f323f2524ec0b74,Wanlong Gao,2014-05-14,"NUMA: check if the total numa memory size is equal to ram_size\n\nIf the total number of the assigned numa nodes memory is not\nequal to the assigned ram size, it will write the wrong data\nto ACPI table, then the guest will ignore the wrong ACPI table\nand recognize all memory to one node. It's buggy, we should\ncheck it to ensure that we write the right data to ACPI table.\n\nSigned-off-by: Wanlong Gao <gaowanlong@cn.fujitsu.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Hu Tao <hutao@cn.fujitsu.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\n\nMST: error message reworded",1,0.7178974151611328,ACPI,numa.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5942a19040fed313b316ab7b6e3d2d8e7b1625bb,b7b34d055d82abaa511b35c9fc24efbb63dca0b1,Paolo Bonzini,2014-06-11,"qdev: recursively unrealize devices when unrealizing bus\n\nWhen the patch was posted that became 5c21ce7 (qdev: Realize buses\non device realization, 2014-03-12), it included recursive realization\nand unrealization of devices when the bus's ""realized"" property\nwas toggled.\n\nHowever, due to the same old worries about recursive realization\nand prerequisites not being realized yet, those hunks were dropped when\ncommitting the patch.  Unfortunately, this causes a use-after-free bug\n(easily reproduced by a PCI hot-unplug action).\n\nBefore the patch, device_unparent behaved as follows:\n\n   for each child bus\n     unparent bus ----------------------------.\n     | for each child device                  |\n     |   unparent device ---------------.     |\n     |   | unrealize device             |     |\n     |   | call dc->unparent            |     |\n     |   '-------------------------------     |\n     '----------------------------------------'\n   unrealize device\n\nAfter the patch, it behaves as follows instead:\n\n   unrealize device --------------------.\n   | for each child bus                 |\n   |   unrealize bus               (A)  |\n   '------------------------------------'\n   for each child bus\n     unparent bus ----------------------.\n     | for each child device            |\n     |   unrealize device          (B)  |\n     |   call dc->unparent              |\n     '----------------------------------'\n\nAt the step marked (B) the device might use data from the bus that is\nnot available anymore due to step (A).\n\nTo fix this, we need to unrealize devices before step (A).  To sidestep\nconcerns about recursive realization, only do recursive unrealization\nand leave the ""value && !bus->realized"" case as it is.\n\nThe resulting flow is:\n\n   for each child bus\n     unrealize bus ---------------------.\n     | for each child device            |\n     |   unrealize device          (B)  |\n     | call bc->unrealize          (A)  |\n     '----------------------------------'\n   unrealize device\n   for each child bus\n     unparent bus ----------------------.\n     | for each child device            |\n     |   unparent device                |\n     '----------------------------------'\n\nwhere everything is ""powered down"" before it is unassembled.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nTested-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Andreas Frber <afaerber@suse.de>",1,0.998924195766449,PCI,hw/core/qdev.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0062609f70b465a56cf80bc573d0971ef2a0affb,e389be1673052b538534643165111725a79e5afd,Peter Maydell,2014-06-19,hw/arm/spitz: Avoid clash with Windows header symbol MOD_SHIFT\n\nThe Windows headers provided by MinGW define MOD_SHIFT. Avoid\nit by using SPITZ_MOD_* for our constants here.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.994434416294098,SPITZ,hw/arm/spitz.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3c5d0be553b18d47361ac3a701e2bff86b8256b0,a31896c411b096dfccee69c338aebb871d4fb80e,James Hogan,2014-06-20,"hw/mips: malta: Don't boot from flash with KVM T&E\n\nIn KVM trap & emulate (T&E) mode the flash reset region at 0xbfc00000\nisn't executable, which is why the minimal kernel bootloader is loaded\nand executed from the last 1MB of DRAM instead.\n\nTherefore if no kernel is provided on the command line and KVM is\nenabled, exit with an error since booting from flash will fail.\n\nReported-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9993010759353638,KVM,hw/mips/mips_malta.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c77cd87cf54f003748f29c14ea1ddaecfc5c653f,962982329029acb6651f81b47cb401e593bb62df,Eugene (jno) Dvurechenski,2014-06-18,"pc-bios/s390-ccw: fix for fragmented SCSI bootmap\n\nWe need to interpret the last entry of the bootmap with zero\nblock count as ""continuation pointer"".\nThe ""last entry"" is being detected by pre-filling of the scratch\nspace with known values and respective look-ahead.\n\nSigned-off-by: Eugene (jno) Dvurechenski <jno@linux.vnet.ibm.com>\nSigned-off-by: Jens Freimann <jfrei@linux.vnet.ibm.com>\nTested-by: Christian Borntraeger <borntraeger@de.ibm.com>\nReviewed-by: David Hildenbrand <dahi@linux.vnet.ibm.com>\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nReviewed-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.999717652797699,SCSI,pc-bios/s390-ccw/bootmap.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5456788db7982938db6600d6308fd2f449b40d5c,a921fddcc1c9aae30c89e408f1e31e831a0a4389,Richard Henderson,2014-03-25,"tcg-ppc64: Fix TCG_TARGET_CALL_STACK_OFFSET\n\nThe calling convention reserves space for the 8 register parameters on\nthe stack, so using only 6*8=48 as the offset was wrong.  We never saw\nthis bug because we don't have any helpers with more than 5 parameters.\n\nTested-by: Tom Musta <tommusta@gmail.com>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.999727189540863,TCG,tcg/ppc64/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,623e250abdca2c29830793e3ac81a9e405f33216,ff4873cb8c81db89668d8b56e19e57b852edb5f5,Tom Musta,2014-06-16,"linux-user: Correct AUXV Cache Line Sizes for PowerPC\n\nSet the AT_ICACHEBSIZE and AT_DCACHEBSIZE entries of the AUXV to match the\nCPU model's cache line sizes.  This fixes memory clobbering problems on more\nrecent Book 3s implementations; memset(p, 0, N) will use the dcbz instruction\nwhen N is sufficiently large and many of the newer server CPUs have cache lines\nsizes of 128 bytes.\n\nSigned-off-by: Tom Musta <tommusta@gmail.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9987547397613524,AUX,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b2f1355020b1b48c479426b50f37baccb3b1fe84,623e250abdca2c29830793e3ac81a9e405f33216,Tom Musta,2014-06-16,"target-ppc: Add DFP to Emulated Instructions Flag\n\nDecimal Floating Point is emulated, so add it the mask.  This will\nfix the erroneous message:\n\n  Warning: Disabling some instructions which are not emulated by TCG (0x0, 0x4)\n\nSigned-off-by: Tom Musta <tommusta@gmail.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9991666078567504,TCG,target-ppc/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3a3b8502e6f0c8d30865c5f36d2c3ae4114000b5,b3cad3abf6df07db165091343b912c2a5de63c26,Alexey Kardashevskiy,2014-06-23,"spapr: Fix RTAS token numbers\n\nAt the moment spapr_rtas_register() allocates a new token number for every\nnew RTAS callback so numbers are not fixed and depend on the number of\nsupported RTAS handlers and the exact order of spapr_rtas_register() calls.\nThese tokens are copied into the device tree and remain the same during\nthe guest lifetime.\n\nWhen we start another guest to receive a migration, it calls\nspapr_rtas_register() as well. If the number of RTAS handlers or their\norder is different in QEMU on source and destination sides, the ""/rtas""\nnode in the device tree will differ. Since migration overwrites the device\ntree (as it overwrites the entire RAM), the actual RTAS config on\nthe destination side gets broken.\n\nThis defines global contant values for every RTAS token which QEMU\nis using today.\n\nThis changes spapr_rtas_register() to accept a token number instead of\nallocating one. This changes all users of spapr_rtas_register().\n\nThis changes XICS-KVM not to cache tokens registered with KVM as they\nconstant now.\n\nThis makes TOKEN_BASE global as RTAS_XXX use TOKEN_BASE as\na base. TOKEN_MAX is moved and renamed too and its value is changed\nto the last token + 1. Boundary checks for token values are adjusted.\n\nThis reserves token numbers for ""os-term"" handlers and PCI hotplug\nwhich we are working on.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999724805355072,"KVM, PCI, XICS","hw/intc/xics.c, hw/intc/xics_kvm.c, hw/nvram/spapr_nvram.c, hw/ppc/spapr_events.c, hw/ppc/spapr_pci.c, hw/ppc/spapr_rtas.c, hw/ppc/spapr_vio.c, include/hw/ppc/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1be88255a71f92f79e027b12609ca36999a21d7c,a0bb2a5fa095c88819eb6d8e08b1630c8d23c261,BALATON Zoltan,2014-06-23,uninorth: Fix PCI hole size\n\nFix PCI hole size to match that what is found on real hardware.\n(OpenBIOS already uses the correct length.)\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.9996936321258544,PCI,hw/pci-host/uninorth.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9a321e92343891e30f6fe8bfaad40454ae358bfb,f32935ea2284fe833fdf4a0d6b2fe423fc08a1b2,Alexey Kardashevskiy,2014-05-30,"spapr_pci: Use XICS interrupt allocator and do not cache interrupts in PHB\n\nCurrently SPAPR PHB keeps track of all allocated MSI (here and below\nMSI stands for both MSI and MSIX) interrupt because\nXICS used to be unable to reuse interrupts. This is a problem for\ndynamic MSI reconfiguration which happens when guest reloads a driver\nor performs PCI hotplug. Another problem is that the existing\nimplementation can enable MSI on 32 devices maximum\n(SPAPR_MSIX_MAX_DEVS=32) and there is no good reason for that.\n\nThis makes use of new XICS ability to reuse interrupts.\n\nThis reorganizes MSI information storage in sPAPRPHBState. Instead of\nstatic array of 32 descriptors (one per a PCI function), this patch adds\na GHashTable when @config_addr is a key and (first_irq, num) pair is\na value. GHashTable can dynamically grow and shrink so the initial limit\nof 32 devices is gone.\n\nThis changes migration stream as @msi_table was a static array while new\n@msi_devs is a dynamic hash table. This adds temporary array which is\nused for migration, it is populated in ""spapr_pci""::pre_save() callback\nand expanded into the hash table in post_load() callback. Since\nthe destination side does not know the number of MSI-enabled devices\nin advance and cannot pre-allocate the temporary array to receive\nmigration state, this makes use of new VMSTATE_STRUCT_VARRAY_ALLOC macro\nwhich allocates the array automatically.\n\nThis resets the MSI configuration space when interrupts are released by\nthe ibm,change-msi RTAS call.\n\nThis fixed traces to be more informative.\n\nThis changes vmstate_spapr_pci_msi name from ""...lsi"" to ""...msi"" which\nwas incorrect by accident. As the internal representation changed,\nthus bumps migration version number.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\n[agraf: drop g_malloc_n usage]\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9993521571159364,"PCI, XICS","hw/ppc/spapr_pci.c, include/hw/pci-host/spapr.h, include/hw/ppc/spapr.h, trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1045fc0439f02dc12298045ecb768c52d796dd99,d4cba13bdf251baeedb36b87c1e9f6766773e380,Peter Maydell,2014-06-26,tcg/ppc: Fix support for 64-bit PPC MacOSX hosts\n\nAdd back in the support for 64-bit PPC MacOSX hosts that was\nbroken in the recent merge of the 32-bit and 64-bit TCG backends.\n\nReported-by: Andreas Frber <andreas.faerber@web.de>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nTested-by: Andreas Frber <andreas.faerber@web.de>,1,0.9995622038841248,"PPC, TCG",tcg/ppc/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fd7678324391d497b53afa40eeafe04cc05030df,0fa82d39c8afbaaa2fb4cdbb30f36c3dc76dad8e,Paul Burton,2014-06-22,linux-user: fix struct target_epoll_event layout for MIPS\n\nMIPS requires the pad field to 64b-align the data field just as ARM\ndoes.\n\nSigned-off-by: Paul Burton <paul@archlinuxmips.org>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>,1,0.9996398687362672,"ARM, MIPS",linux-user/syscall_defs.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3fd74b84076488ae44ba5f3cfed22ff056c5199c,12d6e4640ce28d002e96d58c31cd5e7256258626,Damjan Marion,2014-06-26,"vhost-user: fix regions provied with VHOST_USER_SET_MEM_TABLE message\n\nOld code was affected by memory gaps which resulted in buffer pointers\npointing to address outside of the mapped regions.\n\nHere we are introducing following changes:\n - new function qemu_get_ram_block_host_ptr() returns host pointer\n   to the ram block, it is needed to calculate offset of specific\n   region in the host memory\n - new field mmap_offset is added to the VhostUserMemoryRegion. It\n   contains offset where specific region starts in the mapped memory.\n   As there is stil no wider adoption of vhost-user agreement was made\n   that we will not bump version number due to this change\n - other fileds in VhostUserMemoryRegion struct are not changed, as\n   they are all needed for usermode app implementation\n - region data is not taken from ram_list.blocks anymore, instead we\n   use region data which is alredy calculated for use in vhost-net\n - Now multiple regions can have same FD and user applicaton can call\n   mmap() multiple times with the same FD but with different offset\n   (user needs to take care for offset page alignment)\n\nSigned-off-by: Damjan Marion <damarion@cisco.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Damjan Marion <damarion@cisco.com>",1,0.9996285438537598,VHOST_USER,"docs/specs/vhost-user.txt, exec.c, hw/virtio/vhost-user.c, include/exec/ram_addr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,032a74a1c0fcdd5fd1c69e56126b4c857ee36611,a628fc8dae4c4a9a70f020ab65018a6e085a2088,Cdric Le Goater,2014-06-24,"virtio-net: byteswap virtio-net header\n\nTCP connectivity fails when the guest has a different endianness.\nThe packets are silently dropped on the host by the tap backend\nwhen they are read from user space because the endianness of the\nvirtio-net header is in the wrong order. These lines may appear\nin the guest console:\n\n[  454.709327] skbuff: bad partial csum: csum=8704/4096 len=74\n[  455.702554] skbuff: bad partial csum: csum=8704/4096 len=74\n\nThe issue that got first spotted with a ppc64le PowerKVM guest,\nbut it also exists for the less common case of a x86_64 guest run\nby a big-endian ppc64 TCG hypervisor.\n\nSigned-off-by: Cdric Le Goater <clg@fr.ibm.com>\n[ Ported from PowerKVM,\n  Greg Kurz <gkurz@linux.vnet.ibm.com> ]\nSigned-off-by: Greg Kurz <gkurz@linux.vnet.ibm.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995013475418092,"KVM, TCG",hw/net/virtio-net.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,92335a0d4021a3b44ccc88c9fc6c0fd2113f1882,6e411af9351c1b82c2a749653eb4b8d35bf8c04a,Peter Maydell,2014-06-29,"hw/arm/strongarm: Fix handling of GPSR/GPCR reads\n\nThe StrongARM GPIO GPSR and GPCR registers are write-only, with reads being\nundefined behaviour. Instead of having GPCR return 31337 and GPSR return\nthe value last written, make both log the guest error and return 0.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Peter Crosthwaite <peter.crosthwaite@xilinx.com>",1,0.9996650218963624,ARM,hw/arm/strongarm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f4d45d47826377722700894dbf7f47444527a9d2,9035f8c09bebb63c0cc6014acf5c7066ef778aff,Alex Williamson,2014-06-30,"vfio-pci: Fix MSI-X masking performance\n\nThere are still old guests out there that over-exercise MSI-X masking.\nThe current code completely sets-up and tears-down an MSI-X vector on\nthe ""use"" and ""release"" callbacks.  While this is functional, it can\nslow an old guest to a crawl.  We can easily skip the KVM parts of\nthis so that we keep the MSI route and irqfd setup.  We do however\nneed to switch VFIO to trigger a different eventfd while masked.\nActually, we have the option of continuing to use -1 to disable the\ntrigger, but by using another EventNotifier we can allow the MSI-X\ncore to emulate pending bits and re-fire the vector once unmasked.\nMSI code gets updated as well to use the same setup and teardown\nstructures and functions.\n\nPrior to this change, an igbvf assigned to a RHEL5 guest gets about\n20Mbps and 50 transactions/s with netperf (remote or VF->PF).  With\nthis change, we get line rate and 3k transactions/s remote or 2Gbps\nand 6k+ transactions/s to the PF.  No significant change is expected\nfor newer guests with more well behaved MSI-X support.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.999187171459198,"KVM, VFIO",hw/misc/vfio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,424baff549a9c8a7b5e814ce2bcb857d25163468,dfecbb95e38d94d0e68f6e648a3c6489219a885d,Cdric Le Goater,2014-06-30,"virtio-scsi: scsi events must be converted to target endianness\n\nVirtio SCSI Events need to be byteswapped before being pushed\nwhen host and guest have a different endianness. Not doing so\nbreaks hotplug of virtio scsi disks, with the following error\nmessage being printed in the guest console:\n\nvirtio_scsi: Unsupport virtio scsi event 1000000\n\nThis issue got uncovered while testing disk hotplug with a PowerKVM\nppc64le guest. I have checked that this issue also affects a x86_64\nguest run on a ppc64 host.\n\nSigned-off-by: Cdric Le Goater <clg@fr.ibm.com>\n[ Ported from PowerKVM,\n  Greg Kurz <gkurz@linux.vnet.ibm.com> ]\nSigned-off-by: Greg Kurz <gkurz@linux.vnet.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996672868728638,"KVM, SCSI",hw/scsi/virtio-scsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,35e83d10f230616888cc4258ceddf06a612dde8a,b3959efdbb2dc3d5959e3b0a8e188126930beca8,Christian Burger,2014-06-14,"input: fix jumpy mouse cursor with USB mouse emulation\n\nGuest mouse pointer was jumpy, when moving host mouse in the vertical direction (see bug #1327800).\n\nSigned-off-by: Christian Burger <christian@krikkel.de>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.99967360496521,USB,hw/input/hid.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,efc8188e9398e54567b238b756eec2cc746cd2a4,812c1057f6175ac9a9829fa2920a2b5783814193,Le Tan,2014-07-02,"pci: assign devfn to pci_dev before calling pci_device_iommu_address_space()\n\nIn function do_pci_register_device() in file hw/pci/pci.c, move the assignment\nof pci_dev->devfn to the position before the call to\npci_device_iommu_address_space(pci_dev) which will use the value of\npci_dev->devfn.\n\nFixes: 9eda7d373e9c691c070eddcbe3467b991f67f6bd\n    pci: Introduce helper to retrieve a PCI device's DMA address space\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Le Tan <tamlokveer@gmail.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9759200811386108,PCI,hw/pci/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8b81bb3b069d4007bc44c8d5888d630b7f0b42ff,dd98b71f4885814de9a64e7acc0e17b38ab7c38b,Paolo Bonzini,2014-07-04,"virtio-pci: fix MSI memory region use after free\n\nAfter memory region QOMification QEMU is stricter in detecting\nwrong usage of the memory region API.  Here it detected a\nmemory_region_destroy done before the corresponding\nmemory_region_del_subregion; the memory_region_destroy is\ndone by msix_uninit_exclusive_bar, the memory_region_del_subregion\nis done by the PCI core's pci_unregister_io_regions before\npc->exit is called.\n\nThe problem was introduced by\ncommit 06a1307379fcd6c551185ad87679cd7ed896b9ea\n    virtio-pci: add device_unplugged callback\nAs noted in that commit log, virtio device kick callbacks need to be\nstopped before generic virtio is cleaned up. This is because these are\nnotifications from pci proxy to the generic virtio device so they need\nto be stopped in the unplug call before the virtio device is unrealized.\nHowever interrupts are notifications from the virtio device to\nthe pci proxy so they need to stay around while the device\nis realized.\n\nThe memory API misuse caused an assertion when hot-unplugging virtio\ndevices.  Using the API correctly fixes the assertion.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999739110469818,PCI,hw/virtio/virtio-pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,643f59322432d77165329dfabe2d040d7e30dae8,4aba9eb138e5d68c400de0b116f15217d7a92d3a,Stefano Stabellini,2013-12-18,xen: build on ARM\n\nCollection of fixes to build QEMU with Xen support on ARM:\n- use xenstore_read_fe_uint64 to retrieve the page-ref (xenfb);\n- use xen_pfn_t instead of unsigned long in xenfb;\n- unsigned long/xenpfn_t in xen_remove_from_physmap;\n- in xen-mapcache.c use HOST_LONG_BITS to check for QEMU's address space\nsize.\n\nSigned-off-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9996501207351683,ARM,"hw/display/xenfb.c, xen-hvm.c, xen-mapcache.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4bce526ec4b88362a684fd858e0e14c83ddf0db4,128f0e66149afb2dfc325dfd183aac345f417763,Laurent Dufour,2014-06-27,"target-ppc: KVMPPC_H_CAS fix cpu-version endianess\n\nDuring KVMPPC_H_CAS processing, the cpu-version updated value is stored\nwithout taking care of the current endianess. As a consequence, the guest\nmay not switch to the right CPU model, leading to unexpected results.\n\nIf needed, the value is now converted.\n\nFixes: 6d9412ea8132 (""target-ppc: Implement ""compat"" CPU option"")\nSigned-off-by: Laurent Dufour <ldufour@linux.vnet.ibm.com>\nReviewed-by: Greg Kurz <gkurz@linux.vnet.ibm.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996079802513124,"KVM, PPC",hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,da89a1cf92be6c195ff35afd253a11b427a152c3,be5c9ddabc25f73b619974027f7894d8cb8a2c82,Alexander Graf,2014-07-02,PPC: Fix booke206 TLB with phys addrs > 32bit\n\nWe were truncating physical addresses to 32bit when using qemu-system-ppc\nwith a booke206 TLB implementation. This patch fixes that and makes the full\naddress space available.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.998484432697296,PPC,target-ppc/mmu_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fbdb1d955511c38e61e3aa3ba4fb3944b126eb28,0e928b12c94a4eea56028dec676422b165063ea5,James Hogan,2014-06-26,mips_malta: Remove incorrect KVM T&E references\n\nFix the error message and code comments relating to KVM not supporting\nbooting from the flash mapping when no kernel is provided. The issue is\na general MIPS KVM issue and isn't specific to the Trap & Emulate\nversion of MIPS KVM.\n\nCc: Aurelien Jarno <aurelien@aurel32.net>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nReported-by: Andreas Frber <afaerber@suse.de>\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996104836463928,"KVM, MIPS",hw/mips/mips_malta.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f7f152458e953690f1c8025f507a26d554f6ee4d,fbdb1d955511c38e61e3aa3ba4fb3944b126eb28,James Hogan,2014-06-26,"mips_malta: Catch kernels linked at wrong address\n\nAdd error reporting if the wrong type of kernel is provided for the\ncurrent mode of acceleration.\n\nCurrently a KVM kernel linked at 0x40000000 can't be used with TCG, and\na normal kernel linked at 0x80000000 can't be used with KVM.\n\nCc: Aurelien Jarno <aurelien@aurel32.net>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9993398785591124,"KVM, TCG",hw/mips/mips_malta.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0e16297461264b3ea8f7282d1195cf53aa8a707c,0a9934eef166836c8100fce72f7f837cb8b2ed2b,Andreas Frber,2014-07-14,"libqos: Fix PC PCI endianness glitches\n\nThe libqos implementation of io_read{b,w,l} and io_write{b,w,l} hooks\nwas relying on qtest_mem{read,write}() respectively. With d81d410 (usb:\nimprove ehci/uhci test) this resulted in assertion failures on ppc hosts:\n\n ERROR:tests/usb-hcd-ehci-test.c:78:ehci_port_test: assertion failed: ((value & mask) == (expect & mask))\n\n ERROR:tests/usb-hcd-ehci-test.c:128:pci_uhci_port_2: assertion failed: (pcibus != NULL)\n\n ERROR:tests/usb-hcd-ehci-test.c:150:pci_ehci_port_2: assertion failed: (pcibus != NULL)\n\nqtest_read{b,w,l,q}() and qtest_write{b,w,l,q}() had been introduced\nas endian-safe replacement for qtest_mem{read,write}() in I2C in\n872536b (qtest: Add MMIO support). Use them for PCI as well.\n\nCc: Anthony Liguori <aliguori@amazon.com>\nCc: Gerd Hoffmann <kraxel@redhat.com>\nFixes: c4efe1c qtest: add libqos including PCI support\nFixes: d81d410 usb: improve ehci/uhci test\nSigned-off-by: Andreas Frber <afaerber@suse.de>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999657154083252,"I2C, PCI",tests/libqos/pci-pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,063cac5326518abfcd4f3f0eaace3fa9b1a97424,0e16297461264b3ea8f7282d1195cf53aa8a707c,Alexey Kardashevskiy,2014-07-10,"target-ppc: Fix number of threads per core limit\n\nThe number of threads per core is different for POWER6/7/8 CPUs.\nGuest systems do not expect to see more threads per core than\na specific CPU supports so we need to limit this number.\nThis limit is implemented by ppc_get_compat_smt_threads().\n\nHowever it has a problem as it checks for PCR (Processor Compatibility\nRegister) mask, 2.05 means 2 threads per core, 2.06 - 4 threads.\nFor POWER8 one would expect PCR_COMPAT_2_07 bit set and\nppc_get_compat_smt_threads() checking for it to return 8 threads\nper core. But the latest PowerISA spec now is 2.07 and there is\nno 2.07 compatibility mode defined, QEMU does not define it either\n(will be in PowerISA 2.08).\n\nInstead of relying on a PCR mask, this uses kvmppc_smt_threads()\nwhich returns the maximum supported threads number for KVM or\n1 for TCG.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997251629829408,"KVM, TCG",target-ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,27e27782f78212cbd97170b0854c35a0738cfd34,f92f5da108225fc7dcc5f357fdc473083890fe3f,Gavin Shan,2014-07-14,"sPAPR/IOMMU: Fix TCE entry permission\n\nThe permission of TCE entry should exclude physical base address.\nOtherwise, unmapping TCE entry can be interpreted to mapping TCE\nentry wrongly for VFIO devices.\n\nSigned-off-by: Gavin Shan <gwshan@linux.vnet.ibm.com>\nAcked-by: Alex Williamson <alex.williamson@redhat.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999641180038452,VFIO,"hw/misc/vfio.c, hw/ppc/spapr_iommu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,acd727e7cb11d7aeea3343cf11bba22238530b4c,c60a57ff497667780132a3fcdc1500c83af5d5c0,Paolo Bonzini,2014-07-28,"acpi-dsdt: procedurally generate _PRT\n\nThis replaces the _PRT constant with a method that computes it.\n\nThe problem is that the DSDT+SSDT have grown from 2.0 to 2.1,\nenough to cross the 8k barrier (we align the ACPI tables to 4k\nbefore putting them in fw_cfg).  This causes problems with\nmigration and the pc-i440fx-2.0 machine type.\n\nThe solution to the problem is to hardcode 64k as the limit,\nbut this doesn't solve the bug with pc-i440fx-2.0.  The fix will be\nfor QEMU 2.1 to use exactly the same size as QEMU 2.0 for the\nACPI tables.  First, however, we must make the actual AML\nequal or smaller; to do this, rewrite _PRT in a way that saves\nover 1k of bytecode.\n\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nTested-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996622800827026,ACPI,"hw/i386/acpi-dsdt.dsl, hw/i386/acpi-dsdt.hex.generated, tests/acpi-test-data/pc/DSDT",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,07fb61760cdea7c3f1b9c897513986945bca8e89,acd727e7cb11d7aeea3343cf11bba22238530b4c,Paolo Bonzini,2014-07-28,"pc: hack for migration compatibility from QEMU 2.0\n\nChanging the ACPI table size causes migration to break, and the memory\nhotplug work opened our eyes on how horribly we were breaking things in\n2.0 already.\n\nThe ACPI table size is rounded to the next 4k, which one would think\ngives some headroom.  In practice this is not the case, because the user\ncan control the ACPI table size (each CPU adds 97 bytes to the SSDT and\n8 to the MADT) and so some ""-smp"" values will break the 4k boundary and\nfail to migrate.  Similarly, PCI bridges add ~1870 bytes to the SSDT.\n\nThis patch concerns itself with fixing migration from QEMU 2.0.  It\ncomputes the payload size of QEMU 2.0 and always uses that one.\nThe previous patch shrunk the ACPI tables enough that the QEMU 2.0 size\nshould always be enough; non-AML tables can change depending on the\nconfiguration (especially MADT, SRAT, HPET) but they remain the same\nbetween QEMU 2.0 and 2.1, so we only compute our padding based on the\nsizes of the SSDT and DSDT.\n\nMigration from QEMU 1.7 should work for guests that have a number of CPUs\nother than 12, 13, 14, 54, 55, 56, 97, 98, 139, 140.  It was already\nbroken from QEMU 1.7 to QEMU 2.0 in the same way, though.\n\nEven with this patch, QEMU 1.7 and 2.0 have two different ideas of\n""-M pc-i440fx-2.0"" when there are PCI bridges.  Igor sent a patch to\nadopt the QEMU 1.7 definition.  I think distributions should apply\nit if they move directly from QEMU 1.7 to 2.1+ without ever packaging\nversion 2.0.\n\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nTested-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9943694472312928,"ACPI, HPET, PCI","hw/i386/acpi-build.c, hw/i386/pc_piix.c, hw/i386/pc_q35.c, include/hw/i386/pc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,133a2da488062eb47e576e12ee15314349272068,cb348985abd3673b40c8af069c3e3b84f547b6f7,Igor Mammedov,2014-07-28,"pc: acpi: generate AML only for PCI0 devices if PCI bridge hotplug is disabled\n\nFixes migration regression from QEMU-1.7 to a newer QEMUs.\nSSDT table size in QEMU-1.7 doesn't change regardless of\na number of PCI bridge devices present at startup.\n\nHowever in QEMU-2.0 since addition of hotplug on PCI bridges,\neach PCI bridge adds ~1875 bytes to SSDT table, including\npc-i440fx-1.7 machine type where PCI bridge hotplug disabled\nvia compat property.\nIt breaks migration from ""QEMU-1.7"" to ""QEMU-2.[01] -M pc-i440fx-1.7""\nsince RAMBlock size of ACPI tables on target becomes larger\nthen on source and migration fails with:\n\n""Length mismatch: /rom@etc/acpi/tables: 2000 in != 3000""\n\nerror.\n\nFix this by generating AML only for PCI0 bus if\nhotplug on PCI bridges is disabled and preserves PCI brigde\ndescription in AML as it was done in QEMU-1.7 for pc-i440fx-1.7.\n\nIt will help to maintain size of SSDT static regardless of\nnumber of PCI bridges on startup for pc-i440fx-1.7 machine type.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.997848391532898,"ACPI, PCI",hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dbb1fb277ca12acd577403575aa6a2f119ab79ea,dcd82c118c891571d2d7db5b4ec84d9cf3ea49b3,Alex Benne,2014-08-04,target-arm: A64: fix TLB flush instructions\n\nAccording to the ARM ARM we weren't correctly flushing the TLB entries\nwhere bits 63:56 didn't match bit 55 of the virtual address. This\nexposed a problem when we switched QEMU's internal TARGET_PAGE_BITS to\n12 for aarch64.\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1406733627-24255-3-git-send-email-alex.bennee@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.999619722366333,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,714683950547ea8173aefe25f574874c06233455,3f03131390a8c91a0cac530f7ae79b04b42ab928,Sebastian Tanase,2014-07-23,"icount: Fix virtual clock start value on ARM\n\nWhen using the icount option on ARM, the virtual\nclock starts counting at realtime clock but it\nshould start at 0.\n\nThe reason why the virtual clock starts at realtime clock\nis because the first time we call qemu_clock_warp (which\ncalls icount_warp_rt) in tcg_exec_all, qemu_icount_bias\n(which is part of the virtual time computation mechanism)\nwill increment by realtime - vm_clock_warp_start, with\nvm_clock_warp_start being 0 (see icount_warp_rt in cpus.c).\n\nBy changing the value of vm_clock_warp_start from 0 to -1,\nthe first time we call qemu_clock_warp which calls\nicount_warp_rt, we will return immediatly because\nicount_warp_rt first checks if vm_clock_warp_start is -1\nand if it's the case it returns. Therefore, qemu_icount_bias\nwill first be incremented by the value of a virtual timer\ndeadline when the virtual cpu goes from active to inactive.\n\nThe virtual time will start at 0 and increment based\non the instruction counter when the vcpu is active or\nthe qemu_icount_bias value when inactive.\n\nSigned-off-by: Sebastian Tanase <sebastian.tanase@openwide.fr>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996798038482666,ARM,cpus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eddedd546a68f6ac864b71d50dd8d39b939b724b,27498bef357de432a9aa403c5ccf11776773ba58,James Hogan,2014-07-28,"target-mips: Ignore unassigned accesses with KVM\n\nMIPS registers an unassigned access handler which raises a guest bus\nerror exception. However this causes QEMU to crash when KVM is enabled\nas it isn't called from the main execution loop so longjmp() gets called\nwithout a corresponding setjmp().\n\nUntil the KVM API can be updated to trigger a guest exception in\nresponse to an MMIO exit, prevent the bus error exception being raised\nfrom mips_cpu_unassigned_access() if KVM is enabled.\n\nThe check is at run time since the do_unassigned_access callback is\ninitialised before it is known whether KVM will be enabled.\n\nThe problem can be triggered with Malta emulation by making the guest\nwrite to the reset region at physical address 0x1bf00000, since it is\nmarked read-only which is treated as unassigned for writes.\n\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nCc: Peter Maydell <peter.maydell@linaro.org>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Gleb Natapov <gleb@redhat.com>\nCc: Christoffer Dall <christoffer.dall@linaro.org>\nCc: Sanjay Lal <sanjayl@kymasys.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996755123138428,"KVM, MIPS",target-mips/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,46d4c5723e438be0fa564b8adeefed8f40f4a6ca,e99bce2021d2fd41a4d02f5e7e83734b03ff2b6f,Tomoki Sekiyama,2014-06-30,"qga: Add guest-get-fsinfo command\n\nAdd command to get mounted filesystems information in the guest.\nThe returned value contains a list of mountpoint paths and\ncorresponding disks info such as disk bus type, drive address,\nand the disk controllers' PCI addresses, so that management layer\nsuch as libvirt can resolve the disk backends.\n\nFor example, when `lsblk' result is:\n\n    NAME           MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\n    sdb              8:16   0    1G  0 disk\n    `-sdb1           8:17   0 1024M  0 part\n      `-vg0-lv0    253:1    0  1.4G  0 lvm  /mnt/test\n    sdc              8:32   0    1G  0 disk\n    `-sdc1           8:33   0  512M  0 part\n      `-vg0-lv0    253:1    0  1.4G  0 lvm  /mnt/test\n    vda            252:0    0   25G  0 disk\n    `-vda1         252:1    0   25G  0 part /\n\nwhere sdb is a SCSI disk with PCI controller 0000:00:0a.0 and ID=1,\n      sdc is an IDE disk with PCI controller 0000:00:01.1, and\n      vda is a virtio-blk disk with PCI device 0000:00:06.0,\n\nguest-get-fsinfo command will return the following result:\n\n    {""return"":\n     [{""name"":""dm-1"",\n       ""mountpoint"":""/mnt/test"",\n       ""disk"":[\n        {""bus-type"":""scsi"",""bus"":0,""unit"":1,""target"":0,\n         ""pci-controller"":{""bus"":0,""slot"":10,""domain"":0,""function"":0}},\n        {""bus-type"":""ide"",""bus"":0,""unit"":0,""target"":0,\n         ""pci-controller"":{""bus"":0,""slot"":1,""domain"":0,""function"":1}}],\n       ""type"":""xfs""},\n      {""name"":""vda1"", ""mountpoint"":""/"",\n       ""disk"":[\n        {""bus-type"":""virtio"",""bus"":0,""unit"":0,""target"":0,\n         ""pci-controller"":{""bus"":0,""slot"":6,""domain"":0,""function"":0}}],\n       ""type"":""ext4""}]}\n\nIn Linux guest, the disk information is resolved from sysfs. So far,\nit only supports virtio-blk, virtio-scsi, IDE, SATA, SCSI disks on x86\nhosts, and ""disk"" parameter may be empty for unsupported disk types.\n\nSigned-off-by: Tomoki Sekiyama <tomoki.sekiyama@hds.com>\n\n*updated schema to report 2.2 as initial supported version\n\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>",1,0.9986213445663452,"PCI, SCSI","qga/commands-posix.c, qga/commands-win32.c, qga/qapi-schema.json",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7f2a5ae6c1194b1676f1a7239fbcacd9d59637be,a7afc6b8c13c70e9c40b4f666be80600f8ad0b3d,John Snow,2014-08-04,"libqos: Fixes a small memory leak.\n\nAllow users the chance to clean up the QPCIBusPC structure\nby adding a small cleanup routine. Helps clear up small\nmemory leaks during setup/teardown, to allow for cleaner\ndebug output messages.\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.99960595369339,PCI,"tests/libqos/pci-pc.c, tests/libqos/pci-pc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b87b0644bc04dd88c38cf2eb2f59756d59808204,a1cf8be550c65d316ad666c778e21773ce113eb8,Mark Cave-Ayland,2014-08-11,"apb: add IOMMU flush register implementation\n\nThe IOMMU flush register is a write-only register used to remove entries from the\nhardware TLB. Allow guest writes to this register as a no-op, and return a value\nof 0 for reads.\n\nThis fixes IOMMU DMA operations under NetBSD SPARC64.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>",1,0.999518632888794,"SPARC, SPARC64",hw/pci-host/apb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0b2effd744471adea1cc82966df8a54fd6afa200,d67f4aaae8379b44b3b51ff07df75f693012983c,Riku Voipio,2014-08-06,"linux-user: redirect openat calls\n\nWhile Mikhail fixed /proc/self/maps, it was noticed openat calls are\nnot redirected currently. Some archs don't have open at all, so\nopenat needs to be redirected.\n\nFix this by consolidating open/openat code to do_openat - open\nis implemented using openat(AT_FDCWD, ... ), which according\nto open(2) man page is identical.\n\nSince all targets now have openat, remove the ifdef around sys_openat\nand openat: case in do_syscall.\n\nCc: Mikhail Ilin <m.ilin@samsung.com>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9980027079582214,FDC,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,47575997be9e0cae44a4fcaecbd172fec3746c96,0b2effd744471adea1cc82966df8a54fd6afa200,Jincheng Miao,2014-08-08,"linux-user: Fix syscall instruction usermode emulation on X86_64\n\nCurrently syscall instruction is buggy on user mode X86_64,\nthe EIP is updated after do_syscall(), that is too late for\nclone(). Because clone() will create a thread at the env->EIP\n(the address of syscall insn), and then child thread enters\ndo_syscall() again, that is not expected. Sometimes it is tragic.\n\nUser mode syscall insn emulation is not used MSR, so the\naction should be same to INT 0x80. INT 0x80 will update EIP in\ndo_interrupt(), ditto for syscall() for consistency.\n\nSigned-off-by: Jincheng Miao <jmiao@redhat.com>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9996291399002076,X86_64,"linux-user/main.c, target-i386/seg_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8fbe8fdfbc7576c58c59b605354457cc02076304,0903c8be9ee7925863c6c50a2096b6e919be861c,Tom Musta,2014-08-12,"linux-user: clock_nanosleep errno Handling on PPC\n\nThe clock_nanosleep syscall is unusual in that it returns positive\nnumbers in error handling situations, versus returning -1 and setting\nerrno, or returning a negative errno value.  On POWER, the kernel will\nset the SO bit of CR0 to indicate failure in a syscall.  QEMU has\ngeneric handling to do this for syscalls with standard return values.\n\nAdd special case code for clock_nanosleep to handle CR0 properly.\n\nSigned-off-by: Tom Musta <tommusta@gmail.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9994671940803528,PPC,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,927766c7d34275ecf586020cc5305e377cc4af10,fa365d7cd11185237471823a5a33d36765454e16,Michael S. Tsirkin,2014-08-20,"pc: reserve more memory for ACPI for new machine types\n\ncommit 868270f23d8db2cce83e4f082fe75e8625a5fbf9\n    acpi-build: tweak acpi migration limits\nbroke kernel loading with -kernel/-initrd: it doubled\nthe size of ACPI tables but did not reserve\nenough memory.\n\nAs a result, issues on boot and halt are observed.\n\nFix this up by doubling reserved memory for new machine types.\n\nCc: qemu-stable@nongnu.org\nReported-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999000608921051,ACPI,"hw/i386/pc.c, hw/i386/pc_piix.c, hw/i386/pc_q35.c, include/hw/i386/pc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ec70b46babac79efc249c8780cafeae97d1c3059,cec391d752801d1b8b30de2fb1b2dab29ad7e38c,Knut Omang,2014-08-24,"pcie: Fix incorrect write to the ari capability next function field\n\nPCI_ARI_CAP_NFN, a macro for reading next function was used instead of\nthe intended write.\n\nSigned-off-by: Knut Omang <knut.omang@oracle.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996438026428224,PCI,hw/pci/pcie.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d1ae67f626c5ed5729e1d8212834291b409d26df,d8b5c67b05420d966664664ff287af05b884bdd1,Alex Williamson,2014-08-14,"x86: kvm: Add MTRR support for kvm_get|put_msrs()\n\nThe MTRR state in KVM currently runs completely independent of the\nQEMU state in CPUX86State.mtrr_*.  This means that on migration, the\ntarget loses MTRR state from the source.  Generally that's ok though\nbecause KVM ignores it and maps everything as write-back anyway.  The\nexception to this rule is when we have an assigned device and an IOMMU\nthat doesn't promote NoSnoop transactions from that device to be cache\ncoherent.  In that case KVM trusts the guest mapping of memory as\nconfigured in the MTRR.\n\nThis patch updates kvm_get|put_msrs() so that we retrieve the actual\nvCPU MTRR settings and therefore keep CPUX86State synchronized for\nmigration.  kvm_put_msrs() is also used on vCPU reset and therefore\nallows future modificaitons of MTRR state at reset to be realized.\n\nNote that the entries array used by both functions was already\nslightly undersized for holding every possible MSR, so this patch\nincreases it beyond the 28 new entries necessary for MTRR state.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.994775414466858,KVM,"target-i386/cpu.h, target-i386/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ed1f13d607e2c64c66bea49d6f4edaf278d3d246,508280f5666a706a3681462b2a1d7de8107fd6fb,Peter Maydell,2014-08-29,"target-arm: Fix regression that disabled VFP for ARMv5 CPUs\n\nCommit 2c7ffc414 added support for honouring the CPACR coprocessor\naccess control register bits which may disable access to VFP\nand Neon instructions. However it failed to account for the\nfact that the CPACR is only present starting from the ARMv6\narchitecture version, so it accidentally disabled VFP completely\nfor ARMv5 CPUs like the ARM926. Linux would detect this as\n""no VFP present"" and probably fall back to its own emulation,\nbut other guest OSes might crash or misbehave.\n\nThis fixes bug LP:1359930.\n\nReported-by: Jakub Jermar <jakub@jermar.eu>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1408714940-7192-1-git-send-email-peter.maydell@linaro.org\nCc: qemu-stable@nongnu.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999604880809784,ARM,target-arm/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d7efb7e08e5edaac23b0dc824f72c3f353447c39,0187c7989a5cedd4f88bba76839cc9c44fb3fc81,Knut Omang,2014-09-02,"pci: avoid losing config updates to MSI/MSIX cap regs\n\nSince\ncommit 95d658002401e2e47a5404298ebe9508846e8a39\n    msi: Invoke msi/msix_write_config from PCI core\nmsix config writes are lost, the value written is always 0.\n\nFix pci_default_write_config to avoid this.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Knut Omang <knut.omang@oracle.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999487280845642,PCI,hw/pci/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,277c7a4d717aedbcb253ca152ae4da67e4162470,30eaca3acdf17d7bcbd1213eb149c02037edfb0b,Alexander Graf,2014-07-24,"PPC: KVM: Fix g3beige and mac99 when HV is loaded\n\nOn PPC we have 2 different styles of KVM: PR and HV. HV can only virtualize\nsPAPR guests while PR can virtualize everything that's reasonably close to\nthe host hardware platform.\n\nAs long as only one kernel module (PR or HV) is loaded, the ""default"" kvm type\nis the module that's loaded. So if your hardware only supports PR mode you can\neasily spawn a Mac VM.\n\nHowever, if both HV and PR are loaded we default to HV mode. And in that case\nthe Mac machines have to explicitly ask for PR mode to get a working VM.\n\nFix this up by explicitly having the Mac machines ask for PR style KVM. This\nfixes bootup of Mac VMs on systems where bot HV and PR kvm modules are loaded\nfor me.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999553382396698,"KVM, PPC","hw/ppc/mac_newworld.c, hw/ppc/mac_oldworld.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fbdc200ac2d0d29e88ee6af9b77810c0f84265a6,2e14072f9e859272c7b94b8e189bd30bb4954aa1,Tom Musta,2014-06-30,linux-user: Fix Stack Pointer Bug in PPC setup_rt_frame\n\nThe code that sets the stack frame back pointer is incorrect for\nthe setup_rt_frame() code; qemu will abort (SIGSEGV) in some\nenvironments.  The setup_frame code  was fixed in commit\nbeb526b12134a6b6744125deec5a7fe24a8f92e3 but the setup_rt_frame\ncode was not.\n\nMake the setup_rt_frame code consistent with the setup_frame\ncode.\n\nSigned-off-by: Tom Musta <tommusta@gmail.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.999733865261078,PPC,linux-user/signal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8a0548f94edecb96acb9b7fb9106ccc821c4996f,c371c2e3e0d7ad979dc2bb9763223287fabdcc24,Bharat Bhushan,2014-07-14,"ppc: Add software breakpoint support\n\nThis patch allow insert/remove software breakpoint.\n\nWhen QEMU is not able to handle debug exception then we inject\nprogram exception to guest because for software breakpoint QEMU\nuses a ehpriv-1 instruction;\nSo there cannot be any reason that we are in qemu with exit reason\nKVM_EXIT_DEBUG  for guest set debug exception, only possibility is\nguest executed ehpriv-1 privilege instruction and that's why we are\ninjecting program exception.\n\nSigned-off-by: Bharat Bhushan <Bharat.Bhushan@freescale.com>\n[agraf: make deflect comment booke/book3s agnostic]\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9986936450004578,KVM,target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d696760b43ca46c070f74fe12d90f38904232467,6fd33a750214a866772dd77573cfa24c27ad956d,Alexander Graf,2014-07-13,"PPC: mac99: Fix core99 timer frequency\n\nThere is a special timer in the mac99 machine that we recently started\nto emulate. Unfortunately we emulated it in the wrong frequency.\n\nThis patch adapts the frequency Mac OS X uses to evaluate results from\nthis timer, making calculations it bases off of it work.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9990543723106384,PPC,hw/misc/macio/macio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,32420522482ffc20f8e9423af4f41f4e05ce3a56,b981289c493c7ddabc1cdf7de99daa24642c7739,Alexey Kardashevskiy,2014-08-13,"spapr_pci: Fix config space corruption\n\nWhen disabling MSI/MSIX via ""ibm,change-msi"" RTAS call, no check was made\nif MSI or MSIX is actually supported and the MSI message was reset\nunconditionally. If this happened on a device which does not support MSI\n(but does support MSIX, otherwise ""ibm,change-msi"" would not be called),\nthis device would have PCIDevice::msi_cap field (MSI capability offset)\nset to zero and writing a vector would actually clear PCI status.\n\nThis clears MSI message only if MSI or MSIX is present on a device.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996803998947144,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4a761ffa37d20a5d3ecbb95b45b4c42e54c8f18e,8c46f7ec85a4dd9663489b2fa2b425cd7b3653e1,Alexander Graf,2014-07-02,"PPC: Fix default config ordering and add eTSEC for ppc64\n\nWe messed up the ordering in our default configs for PPC. The top entries\nare generic entries, then come sections that indicate that features are only\nin because of a special feature (such as PReP).\n\nFix the ordering again and while at it add eTSEC support to the ppc64 target\nso that we can spawn eTSEC adapters with qemu-system-ppc64.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996687173843384,PPC,"default-configs/ppc-softmmu.mak, default-configs/ppc64-softmmu.mak",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,de739df8e0032d441a57ec1a8f9ab8e9bf72cef0,1bc0e405816c9c6bde5695af20b07a1491ce1f9f,Mark Cave-Ayland,2014-09-05,apb: implement PCI bus error interrupt map registers\n\nBoth OpenBSD and FreeBSD SPARC64 attempt to read the interrupt map from the\nhardware and will fail if the correct ino isn't present.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>,1,0.9996498823165894,"PCI, SPARC, SPARC64",hw/pci-host/apb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a85e130e015a673a824d68b94175e5985063a917,f102f224556f292f55b6e25147741bb8c48c9451,Paolo Bonzini,2014-08-29,"kvm: do not abort if KVM_RUN fails\n\nJust go to the internal error runstate.  This lets you use the ""x"",\n""dump-guest-memory"" or ""info register"" commands.\n\nReviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9977782368659972,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e6043e92c2812a56b8f6cf35d5512067c746ce21,f102f224556f292f55b6e25147741bb8c48c9451,Dr. David Alan Gilbert,2014-09-09,"xhci PCIe endpoint migration compatibility fix\n\nAdd back the PCIe config capabilities on XHCI cards in non-PCIe slots,\nbut only for machine types before 2.1.\n\nThis fixes a migration incompatibility in the XHCI PCI devices\ncaused by:\n   058fdcf52cdbf57b67e7 - xhci: add endpoint cap on express bus only\n\nNote that in fixing it for compatibility with older QEMUs, it breaks\ncompatibility with existing QEMU 2.1's on older machine types.\n\nThe status before this patch was (if it used an XHCI adapter):\n   machine type | source qemu\n     any           pre-2.1     - FAIL\n     any           2.1...      - PASS\n\nWith this patch:\n   machine type | source qemu\n     any           pre-2.1    - PASS\n     pre-2.1       2.1...     - FAIL\n     2.1           2.1...     - PASS\n\nA test to trigger it is to add '-device nec-usb-xhci,id=xhci,addr=0x12'\nto the command line.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996644258499146,PCI,"hw/usb/hcd-xhci.c, include/hw/i386/pc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,745a9bb9cdcdcc50219d14704477c5cd678c4a7e,466c80f21fa2a69eb5cff8048b824c4812179b8c,Stefan Hajnoczi,2014-09-11,"dataplane: fix virtio_blk_data_plane_create() op blocker error path\n\nCommit 3718d8ab65f68de2acccbe6a315907805f54e3cc (""block: Replace in_use\nwith operation blocker"") broke the error path because it consumed\nlocal_err instead of propagating it.\n\nThe caller has no way to know that the function failed.  This caused\nvirtio-blk to start ""successfully"" even though there was a fatal\ndataplane error.\n\nSteps to reproduce:\n\n  $ qemu-system-x86_64 -enable-kvm -object iothread,id=iothread0 \\n                       -drive if=none,id=drive0,file=a.img \\n  (qemu) drive_mirror drive0 /tmp/foo.img\n  (qemu) device_add virtio-blk-pci,iothread=iothread0,drive=drive0\n\nExpected result:\n\n  Since the mirror block job is using drive0 it is not possible to start\n  virtio-blk data-plane.\n\n  device_add fails and the PCI adapter is not added.\n\nActual result:\n\n  device_add completes and the PCI adapter is added.\n\nCc: Fam Zheng <famz@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9997069239616394,PCI,hw/block/dataplane/virtio-blk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c3c8d6b3ddc881fb2ebd651e320cda36b2ec079b,f022b8e95379b0433d13509706b66f38fc15dde8,David Hoover,2014-09-12,"cpu-exec.c: Allow disabling of IRQs on ARM Cortex-M CPUs\n\nCorrect an error in the logic for deciding whether we can\ntake an IRQ interrupt which meant that on M profile cores\nit was never possible to disable them.\n\nThe design here is still bogus in that M profile doesn't\nhave separate ""IRQ"" and ""FIQ"", which are an A/R profile\nconcept; we should ideally implement the proper priority\nbased scheme.\n\nSigned-off-by: David Hoover <spm@boiteauxlettres.sent.at>\n[PMM: Wrote a proper commit message]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9994613528251648,ARM,cpu-exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6e3cf5df01bfa192ca162716670cf368ba1338dd,bfb27e6042e80fca90dc250657b420a73c1c42be,Martin Galvan,2014-09-12,"target-arm: Fix resetting issues on ARMv7-M CPUs\n\nWhen calling qemu_system_reset after startup on a Cortex-M\nCPU, the initial values of PC, MSP and the Thumb bit weren't being set\ncorrectly if the vector table was in ROM. In particular, since Thumb was 0, a\nUsage Fault would arise immediately after trying to execute any instruction\non a Cortex-M.\n\nSigned-off-by: Martin Galvan <martin.galvan@tallertechnologies.com>\nMessage-id: CAOKbPbaLt-LJsAKkQdOE0cs9Xx4OWrUfpDhATXPSdtuNw2xu_A@mail.gmail.com\n[PMM: removed an incorrect comment]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997031092643738,ARM,target-arm/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d8e80ae37a7acfea416ad9abbe76b453a73d9cc0,e43c0b2ea5574efb0bedebf6a7d05916eefeba52,Damjan Marion,2014-09-11,vhost-user: fix VIRTIO_NET_F_MRG_RXBUF negotiation\n\nHeader length check should happen only if backend is kernel. For user\nbackend there is no reason to reset this bit.\n\nvhost-user code does not define .has_vnet_hdr_len so\nVIRTIO_NET_F_MRG_RXBUF cannot be negotiated even if both sides\nsupport it.\n\nSigned-off-by: Damjan Marion <damarion@cisco.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9997262358665466,"VIRTIO, VIRTIO_NET",hw/net/vhost_net.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4d43d3f3c8147ade184df9a1e9e82826edd39e19,d8e80ae37a7acfea416ad9abbe76b453a73d9cc0,Michael S. Tsirkin,2014-09-11,"virtio-pci: fix migration for pci bus master\n\nCurrent support for bus master (clearing OK bit)\ntogether with the need to support guests which do not\nenable PCI bus mastering, leads to extra state in\nVIRTIO_PCI_FLAG_BUS_MASTER_BUG bit, which isn't robust\nin case of cross-version migration for the case when\nguests use the device before setting DRIVER_OK.\n\nRip out VIRTIO_PCI_FLAG_BUS_MASTER_BUG and implement a simpler\nwork-around: treat clearing of PCI_COMMAND as a virtio reset.  Old\nguests never touch this bit so they will work.\n\nAs reset clears device status, DRIVER and MASTER bits are\nnow in sync, so we can fix up cross-version migration simply\nby synchronising them, without need to detect a buggy guest\nexplicitly.\n\nDrop tracking VIRTIO_PCI_FLAG_BUS_MASTER_BUG completely.\n\nAs reset makes the device quiescent, in the future we'll be able to drop\nchecking OK bit in a bunch of places.\n\nCc: Jason Wang <jasowang@redhat.com>\nCc: Greg Kurz <gkurz@linux.vnet.ibm.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996525049209596,"PCI, VIRTIO, VIRTIO_PCI",hw/virtio/virtio-pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,438f92ee9f6a4f78f8adcc399809e252b6da72a2,4d43d3f3c8147ade184df9a1e9e82826edd39e19,Michael S. Tsirkin,2014-09-18,"pc: leave more space for BIOS allocations\n\nSince QEMU 2.1, we are allocating more space for ACPI tables, so no\nspace is left after initrd for the BIOS to allocate memory.\n\nBesides ACPI tables, there are a few other uses of high memory in\nSeaBIOS: SMBIOS tables and USB drivers use it in particular.  These uses\nallocate a very small amount of memory.  Malloc metadata also lives\nthere.  So we need _some_ extra padding there to avoid initrd breakage,\nbut not much.\n\nJohn Snow found a case where RHEL5 was broken by the recent change to\nACPI_TABLE_SIZE; in his case 4KB of extra padding are fine, but just to\nbe safe I am adding 32KB, which is roughly the same amount of padding\nthat was left by QEMU 2.0 and earlier.\n\nMove initrd to leave some space for the BIOS.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReported-by: John Snow <jsnow@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9992278814315796,"ACPI, SMBIOS, USB",hw/i386/pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d735b620b58f2fdfddc8e641e9feac3c9671a49d,c2ebb05e25dcb3acbcdaa541234746151d0ff6b1,John Snow,2014-09-12,"ide/atapi: Mark non-data commands as complete\n\nWhen the command completion code in IDE and AHCI\nwas unified to put all command completion inside\nof a callback, ""cmd_done,"" we neglected to\nensure that all AHCI/ATAPI command paths would\neventually register as finished. for the PCI\ninterface to IDE this is not a problem because\ncmd_done is a nop, but the AHCI implementation\nneeds to send a D2H_REG_FIS and interrupt back\nto the guest to inform of completion.\n\nThis patch adds calls to ide_stop_transfer,\nwhich calls ide_cmd_done, inside of\nide_atapi_cmd_ok and ide_atapi_cmd_error.\n\nThis fixes regressions observed by trying to boot QEMU\nwith a Fedora 20 live CD under Q35/AHCI, which uses\nATAPI command 0x00, which is a status check that may\ncause a hang because we never complete, and ATAPI\ncommand 0x56, which is unsupported by our current\nimplementation and results in an error that we never\nreport back to the guest.\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9980044960975648,"AHCI, PCI, Q35",hw/ide/atapi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,75bd0c7253f384e868b638db5c6350796cf584f7,6758008e2c4e79fb6bd04fe8e7a41665fa583965,Nikunj A Dadhania,2014-09-22,vfio: make rom read endian sensitive\n\nAll memory regions used by VFIO are LITTLE_ENDIAN and they\nalready take care of endiannes when accessing real device BARs\nexcept ROM - it was broken on BE hosts.\n\nThis fixes endiannes for ROM BARs the same way as it is done\nfor other BARs.\n\nThis has been tested on PPC64 BE/LE host/guest in all possible\ncombinations including TCG.\n\nSigned-off-by: Nikunj A Dadhania <nikunj@linux.vnet.ibm.com>\n[aik: added commit log]\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>,1,0.9997017979621888,"PPC, PPC64, TCG, VFIO",hw/misc/vfio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2321442920ab67a1c196d4a53dd564726370946d,1ba50f4ea01b26abe9dac95ba531533e17109826,Llus Vilanova,2014-08-18,trace: [ust] Fix format string computation in tcg-enabled events\n\nTCG-enabled events start with two format strings. Delay per-argument format\ncomputation until requested ('Event.formats').\n\nSigned-off-by: Llus Vilanova <vilanova@ac.upc.edu>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>,1,0.9996399879455566,TCG,"scripts/tracetool/__init__.py, scripts/tracetool/format/ust_events_h.py",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a66c9dc734fb30de1e18e9dc217f2d37e16c492a,cf77b2d25eeabe268412cf41d4ea38ec5de8c611,John Snow,2014-10-01,"blockdev: Orphaned drive search\n\nWhen users use command line options like -hda, -cdrom,\nor even -drive if=ide, it is up to the board initialization\nroutines to pick up these drives and create backing\ndevices for them.\n\nSome boards, like Q35, have not been doing this.\nHowever, there is no warning explaining why certain\ndrive specifications are just silently ignored,\nso this function adds a check to print some warnings\nto assist users in debugging these sorts of issues\nin the future.\n\nThis patch will not warn about drives added with if_none,\nfor which it is not possible to tell in advance if\nthe omission of a backing device is an issue.\n\nA warning in these cases is considered appropriate.\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nMessage-id: 1412187569-23452-2-git-send-email-jsnow@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9997076392173768,Q35,"blockdev.c, include/sysemu/blockdev.h, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6b9e03a4e7598765a6cebb7618f2eeb22e928f6e,d8f94e1bb275ab6a14a15220fd6afd0d04324aeb,John Snow,2014-10-01,"qtest/bios-tables: Correct Q35 command line\n\nIf the Q35 board types are to begin recognizing\nand decoding syntactic sugar for drive/device\ndeclarations, then workarounds found within\nthe qtests suite need to be adjusted to prevent\nany test failures after the fix.\n\nbios-tables-test improperly uses this cli:\n-drive file=etc,id=hd -device ide-hd,drive=hd\n\nWhich will create a drive and device due to\nthe lack of specifying if=none. Then, it will\nattempt to create a second device and fail.\n\nThis patch corrects this test to always use\nthe full, non-sugared -device/-drive syntax\nfor both PC and Q35.\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-id: 1412187569-23452-6-git-send-email-jsnow@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.999284565448761,Q35,tests/bios-tables-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2472b6c07bb50179019589af1c22f43935ab7f5c,507ef2f9fab3e67ac6fefda4e20db7fc5f2bc186,Peter Maydell,2014-09-12,"gdbstub: Allow target CPUs to specify watchpoint STOP_BEFORE_ACCESS flag\n\nGDB assumes that watchpoint set via the gdbstub remote protocol will\nbehave in the same way as hardware watchpoints for the target. In\nparticular, whether the CPU stops with the PC before or after the insn\nwhich triggers the watchpoint is target dependent. Allow guest CPU\ncode to specify which behaviour to use. This fixes a bug where with\nguest CPUs which stop before the accessing insn GDB would manually\nstep forward over what it thought was the insn and end up one insn\nfurther forward than it should be.\n\nWe set this flag for the CPU architectures which set\ngdbarch_have_nonsteppable_watchpoint in gdb 7.7:\nARM, CRIS, LM32, MIPS and Xtensa.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nTested-by: Max Filippov <jcmvbkbc@gmail.com>\nTested-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nTested-by: Michael Walle <michael@walle.cc> (for lm32)\nMessage-id: 1410545057-14014-1-git-send-email-peter.maydell@linaro.org",1,0.99971741437912,"ARM, CRIS, MIPS","gdbstub.c, include/qom/cpu.h, target-arm/cpu.c, target-cris/cpu.c, target-lm32/cpu.c, target-mips/cpu.c, target-xtensa/cpu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,35e4e96c4d5bfcf8a22930d8e99f7c8c44420062,cdebec5e40bd0af82da0659f37af85ee2aa2c9d1,Paolo Bonzini,2014-10-08,virtio-scsi: fix use-after-free of VirtIOSCSIReq\n\nscsi_req_continue can complete the request and cause the VirtIOSCSIReq\nto be freed.  Fetch req->sreq just once to avoid the bug.\n\nReported-by: Richard Jones <rjones@redhat.com>\nTested-by: Richard Jones <rjones@redhat.com>\nReviewed-by: Fam Zheng <famz@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996663331985474,SCSI,hw/scsi/virtio-scsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4b7757bae7c94f980969031119db12d540cf2b61,ef1df13087768c0ab4010355595b0e3dd91bbd3c,Cornelia Huck,2014-09-30,"s390x/virtio-ccw: fix vhost-scsi intialization\n\nThe vhost-scsi-ccw backend is of type VHostSCSICcw, not VirtIOSCSICcw.\n\nThis fixes a segfault when invoking\n\n    qemu-system-s390x -device vhost-scsi-ccw,?\n\nReviewed-by: Thomas Huth <thuth@linux.vnet.ibm.com>\nTested-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9996744394302368,SCSI,hw/s390x/virtio-ccw.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9d1c35dfc9940e4afa604a25f62b9dc197c513b6,fcb2cd928f5519b8241e22411a696be1a7272b1c,Paolo Bonzini,2014-10-10,"kvm fix compilation with GCC 4.3.4\n\nAs usual, SLES11's GCC complained about double typedefs:\n\n/home/cohuck/git/qemu/kvm-all.c:110: error: redefinition of typedef KVMState\n/home/cohuck/git/qemu/include/sysemu/kvm.h:161: error: previous declaration of KVMState was here\n\nReported-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nTested-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9971686005592346,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b231c103afced2eb27af9b6a771ab4b250afb93f,a83bddd60de0dfdbc04c6683c2701682073af5cf,Yongbok Kim,2014-07-01,"target-mips: fix broken MIPS16 and microMIPS\n\nCommit 240ce26a broke MIPS16 and microMIPS support as it didn't\ncare those branches and jumps don't have delay slot in\nMIPS16 and microMIPS.\n\nThis patch introduces a new argument delayslot_size to the\ngen_compute_branch() indicating size of delay slot {0, 2, 4}.\nAnd the information is used to call handle_delay_slot() forcingly\nwhen no delay slot is required.\n\nThere are some microMIPS branch and jump instructions that requires\nexact size of instruction in the delay slot. For indicating\nthese instructions, MIPS_HFLAG_BDS_STRICT flag is introduced.\n\nThose fictional branch opcodes defined to support MIPS16 and\nmicroMIPS are no longer needed.\n\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>\nTested-by: Jonas Gorski <jogo@openwrt.org>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\n[leon.alrae@imgtec.com: cosmetic changes]\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.9997074007987976,MIPS,"target-mips/cpu.h, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e9fd12aa0dd734f1e3725d93a0afa8721fab3bd2,10bdcd565992e17f0b4f04e0b28793b169e51a26,Igor Mammedov,2014-09-26,usb-bot: Mark device as non hotpluggable\n\nusb-bot creates SCSI bus and immediately makes it\nnon hotpluggable which was making not possible to\nhotplug usb-bot since QEMU would abort at\nbus_add_child(scsi-hd) time when usb-bot is\nrealized.\n\nMark usb-bot as not hotpluggable so that attempt\nto hotplug it would error out even before it gets\nto device initialization point.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>,1,0.999403953552246,SCSI,hw/usb/dev-storage.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,af01492755b82ccaf0d15014477b34ba3ea643fc,e9fd12aa0dd734f1e3725d93a0afa8721fab3bd2,Igor Mammedov,2014-09-26,"usb-bot: Drop not needed ""allow_hotplug = 0""\n\nDrop useless hack that disables hotplug on bus by setting\n""allow_hotplug = 0"". Even if bus is hotpluggable, It won't\nbe possible to add another SCSI device to bus since its\nrealization will fail early with error ""no free target""\nin scsi_qdev_realize() method.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9195933938026428,SCSI,hw/usb/dev-storage.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,77de4a09c6d3d1e4fabcc0eb6cfdb9ea5a1616d5,af01492755b82ccaf0d15014477b34ba3ea643fc,Igor Mammedov,2014-09-26,"usb-storage: Drop not needed ""allow_hotplug = 0""\n\nDrop useless hack that disables hotplug on bus, after backend\nstorage was added to it, by setting ""allow_hotplug = 0"". Even\nif bus is hotpluggable, it won't be possible to add another\nSCSI device to bus since its realize will fail early with\nerror ""no free target"" in scsi_qdev_realize() method.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.936378002166748,SCSI,hw/usb/dev-storage.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,84961407a50bb02d34ab9cca7a21cdb4ff7c25fe,b1d28ec6a7dbdaadda39d29322f0de694aeb0b74,Chen Fan,2014-09-02,"gtk.c: Fix memory leak in gd_set_keycode_type()\n\n this memory leak is introduced by the original\n commit 3158a3482b0093e41f2b2596fba50774ea31ae08\n\n valgrind out showing:\n ==14553== 21,459 (72 direct, 21,387 indirect) bytes in 1 blocks are definitely\n lost in loss record 8,055 of 8,082\n ==14553==    at 0x4A06BC3: calloc (vg_replace_malloc.c:618)\n ==14553==    by 0x80DBFBC: XkbGetKeyboardByName (in /usr/lib64/libX11.so.6.3.0)\n ==14553==    by 0x40C704: gtk_display_init (gtk.c:1798)\n ==14553==    by 0x1AEDC1: main (vl.c:4480)\n\nSigned-off-by: Chen Fan <chen.fan.fnst@cn.fujitsu.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997286200523376,X11,ui/gtk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d46d72fd1030e8315190f83023e4fe6959c5cfde,e26082fd0be51bb32daec39b0279f337d8ebb510,Paolo Bonzini,2014-10-21,"MAINTAINERS: add myself for X86\n\nStill not moving it beyond ""Odd fixes"".  Richard Henderson also has\nreviewed a bunch of X86 TCG patches, so add him as well.  All we want\nis to avoid that patches fall on the floor.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9993990659713744,TCG,MAINTAINERS,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,df1fd4b541b3ae0dc44843741363d00080775294,562542b6aee2c6be5b6c411edc92c11905b4e9c9,Jan Kiszka,2014-07-30,"pc: Fix disabling of vapic for compat PC models\n\nWe used to be able to address both the QEMU and the KVM APIC via ""apic"".\nThis doesn't work anymore. So we need to use their parent class to turn\noff the vapic on machines that should not expose them.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9989402890205384,"APIC, KVM",hw/i386/pc_piix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,68a27b208a2328653faa09bc7a13d7ef0e2710bb,4d5e17a53b12bf48953aa486d71bd1f5549c0dea,Michael S. Tsirkin,2014-10-14,"virtio-pci: fix migration for pci bus master\n\nCurrent support for bus master (clearing OK bit) together with the need to\nsupport guests which do not enable PCI bus mastering, leads to extra state in\nVIRTIO_PCI_FLAG_BUS_MASTER_BUG bit, which isn't robust in case of cross-version\nmigration for the case when guests use the device before setting DRIVER_OK.\n\nRip out this code, and replace it:\n-   Modern QEMU doesn't need VIRTIO_PCI_FLAG_BUS_MASTER_BUG\n    so just drop it for latest machine type.\n-   For compat machine types, set PCI_COMMAND if DRIVER_OK\n    is set.\n\nAs this is needed for 2.1 for both pc and ppc, move PC_COMPAT macros from pc.h\nto a new common header.\n\nCc: Greg Kurz <gkurz@linux.vnet.ibm.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Alexander Graf <agraf@suse.de>",1,0.9995487332344056,"PCI, VIRTIO, VIRTIO_PCI","hw/i386/pc_piix.c, hw/i386/pc_q35.c, hw/ppc/spapr.c, hw/virtio/virtio-pci.c, hw/virtio/virtio-pci.h, include/hw/compat.h, include/hw/i386/pc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1e06f131fd9a44dd4af223875660802fd2a3441f,68a27b208a2328653faa09bc7a13d7ef0e2710bb,Michael S. Tsirkin,2014-10-20,intel_iommu: fix VTD_SID_TO_BUS\n\n(((sid) >> 8) && 0xff)  makes no sense\n(((sid) >> 8) & 0xff) seems to be what was meant.\n\nhttps://bugs.launchpad.net/qemu/+bug/1382477\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9997312426567078,VTD,include/hw/i386/intel_iommu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ac369a77967d5dd984a5430505eaf24a380af1c0,caad057bb6ce86a9cb71520af395fd0bd04a659f,Nikita Belov,2014-10-29,"hw/i386/acpi-build.c: Fix memory leak in acpi_build_tables_cleanup()\n\nThere are three ACPI tables: 'linker_data', 'rsdp' and 'table_data'. They are\nused differently. Two of them are being copied before using and only the copy\nis used later. But the third is used directly. Because of that we need to free\ntwo tables completely and delete only wrapper for the third one.\n\nValgrind output:\n==23931== 131,072 bytes in 1 blocks are definitely lost in loss record 7,729 of 7,734\n==23931==    at 0x4C2CE8E: realloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\n==23931==    by 0x2EA920: realloc_and_trace (vl.c:2811)\n==23931==    by 0x509E6AE: g_realloc (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4000.0)\n==23931==    by 0x506DB32: ??? (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4000.0)\n==23931==    by 0x506E463: g_array_set_size (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4000.0)\n==23931==    by 0x256A4F: acpi_align_size (acpi-build.c:487)\n==23931==    by 0x259F92: acpi_build (acpi-build.c:1601)\n==23931==    by 0x25A212: acpi_setup (acpi-build.c:1682)\n==23931==    by 0x24F346: pc_guest_info_machine_done (pc.c:1110)\n==23931==    by 0x55FAAB: notifier_list_notify (notify.c:39)\n==23931==    by 0x2EA704: qemu_run_machine_init_done_notifiers (vl.c:2759)\n==23931==    by 0x2EEC3C: main (vl.c:4504)\n\nSigned-off-by: Nikita Belov <zodiac@ispras.ru>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nAcked-by: Christian Borntraeger <borntraeger@de.ibm.com>",1,0.999679446220398,ACPI,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dc9e716369282ed687821d52cb3170369626f99f,3dab155154b97eadd44342f9c94d1508337a0667,Peter Lieven,2014-10-27,block/iscsi: check for oversized requests\n\nCancel oversized requests early. They would generate\nan iSCSI protocol error anyway; after having transferred\npossibly a lot of data over the wire.\n\nSuggested-By: Max Reitz <mreitz@redhat.com>\nSigned-off-by: Peter Lieven <pl@kamp.de>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>,1,0.9990891218185424,SCSI,block/iscsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,272f458dc8d860f30add3b6a3fff9ad9876aadc1,dff4021730b112ca00522d4c98c24a15feeef5a0,Maciej W. Rozycki,2014-11-03,"mips: Respect CP0.Status.CU1 for microMIPS FP branches\n\nMake microMIPS FP branches respect CP0.Status.CU1 and trap with a\nCoprocessor Unusable exception if COP1 has been disabled; also trap if\nno FPU is present at all.\n\nStandard MIPS FP instruction encodings have a more regular structure and\nbranches are covered with a single umbrella along other instructions.\nThis is not the case with the microMIPS encoding, this case has to be\ntaken care of explicitly here.  Code to do so has been copied from the\nstandard MIPS code handler for OPC_CP1, in `decode_opc'.\n\nProblems arising from this bug will generally only show up on user\ncontext switches in operating systems making use of lazy FP context\nswitches, such as Linux.  It will also more readily trigger if software\nFPU emulation is used, either implicitly on a non-float CPU, or forced\non a hard-float CPU such as with the ""nofpu"" Linux kernel command line\nargument.\n\nThe problem may have been easily missed because we have no hard-float\nmicroMIPS CPU configuration present; in fact we have no microMIPS CPU\nconfiguration of any kind present.\n\nSigned-off-by: Maciej W. Rozycki <macro@codesourcery.com>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.9988560676574708,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,854795753c6efceda1d172851e2bae4b47a492be,e30614d51780f27c53b196da793c3fb89f1f620f,Leon Alrae,2014-11-06,target-mips: fix for missing delay slot in BC1EQZ and BC1NEZ\n\nNew R6 COP1 conditional branches currently don't have delay slot. Fixing this\nby setting MIPS_HFLAG_BDS32 flag which is required for branches having 4-byte\ndelay slot.\n\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>\nReviewed-by: Yongbok Kim <yongbok.kim@imgtec.com>,1,0.999708354473114,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb269f273fdbdb26ddb1cba4a0fe2249418a8e77,342368aff7d61a32b5853068b92039a2b15507c5,Yongbok Kim,2014-11-07,target-mips: fix multiple TCG registers covering same data\n\nAvoid to allocate different TCG registers for the FPU registers\nthat are mapped on the MSA vectore registers.\n\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>,1,0.9996744394302368,TCG,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ed4b43265d4d0c7ecfbbcb4001f61700756f22b9,25aaa2c568a11bd79b7b83c857278232f6fa7be6,Ming Lei,2014-11-11,virtio-scsi: dataplane: fix allocation for 'cmd_vrings'\n\nThe size of each element should be sizeof(VirtIOSCSIVring *).\n\nSigned-off-by: Ming Lei <ming.lei@canonical.com>\nReviewed-by: Fam Zheng <famz@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.999679684638977,SCSI,hw/scsi/virtio-scsi-dataplane.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a395f3fa2f26c94dac03b37e3dfb1074bfe2ddea,c52e67924fbdadfa00668248f5c075542943c54c,John Snow,2014-11-10,"ahci: Fix byte count regression for ATAPI/PIO\n\nThis patch fixes a regression caused by commit\n659142ecf71a0da240ab0ff7cf929ee25c32b9bc.\nThe problem occurs when we wish to return early\nfrom the ahci_start_transfer function, but are now\nupdating the transferred byte count in the AHCI\ncommand header via ahci_commit_buf.\n\nThis will cause problems in the Windows 8 installer.\n\nDon't update the byte count in the command header\nfor the transmission of ATAPI packets: These commands\nwill distort the final byte count of the actual data\npayload.\n\nThe call to ahci_commit_buf remains in the ""out""\nportion of the call in order to clean up the sglist.\nThe byte count is maintained by forcing size to be 0.\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9997162222862244,AHCI,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3251bdcf1c67427d964517053c3d185b46e618e8,bef1301acb74d177b42890116e4eeaf26047b9e3,John Snow,2014-10-31,"ide: Correct handling of malformed/short PRDTs\n\nThis impacts both BMDMA and AHCI HBA interfaces for IDE.\nCurrently, we confuse the difference between a PRDT having\n""0 bytes"" and a PRDT having ""0 complete sectors.""\n\nWhen we receive an incomplete sector, inconsistent error checking\nleads to an infinite loop wherein the call succeeds, but it\ndidn't give us enough bytes -- leading us to re-call the\nDMA chain over and over again. This leads to, in the BMDMA case,\nleaked memory for short PRDTs, and infinite loops and resource\nusage in the AHCI case.\n\nThe .prepare_buf() callback is reworked to return the number of\nbytes that it successfully prepared. 0 is a valid, non-error\nanswer that means the table was empty and described no bytes.\n-1 indicates an error.\n\nOur current implementation uses the io_buffer in IDEState to\nultimately describe the size of a prepared scatter-gather list.\nEven though the AHCI PRDT/SGList can be as large as 256GiB, the\nAHCI command header limits transactions to just 4GiB. ATA8-ACS3,\nhowever, defines the largest transaction to be an LBA48 command\nthat transfers 65,536 sectors. With a 512 byte sector size, this\nis just 32MiB.\n\nSince our current state structures use the int type to describe\nthe size of the buffer, and this state is migrated as int32, we\nare limited to describing 2GiB buffer sizes unless we change the\nmigration protocol.\n\nFor this reason, this patch begins to unify the assertions in the\nIDE pathways that the scatter-gather list provided by either the\nAHCI PRDT or the PCI BMDMA PRDs can only describe, at a maximum,\n2GiB. This should be resilient enough unless we need a sector\nsize that exceeds 32KiB.\n\nFurther, the likelihood of any guest operating system actually\nattempting to transfer this much data in a single operation is\nvery slim.\n\nTo this end, the IDEState variables have been updated to more\nexplicitly clarify our maximum supported size. Callers to the\nprepare_buf callback have been reworked to understand the new\nreturn code, and all versions of the prepare_buf callback have\nbeen adjusted accordingly.\n\nLastly, the ahci_populate_sglist helper, relied upon by the\nAHCI implementation of .prepare_buf() as well as the PCI\nimplementation of the callback have had overflow assertions\nadded to help make clear the reasonings behind the various\ntype changes.\n\n[Added %d -> %""PRId64"" fix John sent because off_pos changed from int to\nint64_t.\n--Stefan]\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-id: 1414785819-26209-4-git-send-email-jsnow@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9988155364990234,"AHCI, PCI","hw/ide/ahci.c, hw/ide/core.c, hw/ide/internal.h, hw/ide/macio.c, hw/ide/pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,91ab2ed7221c70ed7fd09ab2665b1f0493c775a4,c52e67924fbdadfa00668248f5c075542943c54c,Igor Mammedov,2014-11-14,"pc: piix4_pm: init legacy PCI hotplug when running on Xen\n\nIf user starts QEMU with ""-machine pc,accel=xen"", then\ncompat property in xenfv won't work and it would cause error:\n""Unsupported bus. Bus doesn't have property 'acpi-pcihp-bsel' set""\nwhen PCI device is added with -device on QEMU CLI.\n\nFrom: Igor Mammedov <imammedo@redhat.com>\n\nIn case of Xen instead of using compat property, just use the fact\nthat xen doesn't use QEMU's fw_cfg/acpi tables to switch piix4_pm\ninto legacy PCI hotplug mode when Xen is enabled.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Li Liang <liang.z.li@intel.com>\nSigned-off-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995531439781188,PCI,"hw/acpi/piix4.c, hw/i386/pc_piix.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,86d10328a019b19838de3f7964a9da16af3a5073,6cfcd864a468eb7bd3da20a5462b5af1791581d3,Gonglei,2014-11-15,qemu-char: fix MISSING_COMMA\n\nSigned-off-by: Gonglei <arei.gonglei@huawei.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.999687910079956,SSI,qemu-char.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d6be29e3fb5659102ac0e48e295d177cb67e32c5,1aba4be97eb01b650d146c7f01dc961d55da62ab,Peter Maydell,2014-11-13,"target-arm: handle address translations that start at level 3\n\nThe ARMv8 address translation system defines that a page table walk\nstarts at a level which depends on the translation granule size\nand the number of bits of virtual address that need to be resolved.\nWhere the translation granule is 64KB and the guest sets the\nTCR.TxSZ field to between 35 and 39, it's actually possible to\nstart at level 3 (the final level). QEMU's implementation failed\nto handle this case, and so we would set level to 2 and behave\nincorrectly (including invoking the C undefined behaviour of\nshifting left by a negative number). Correct the code that\ndetermines the starting level to deal with the start-at-3 case,\nby replacing the if-else ladder with an expression derived from\nthe ARM ARM pseudocode version.\n\nThis error was detected by the Coverity scan, which spotted\nthe potential shift by a negative number.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1415890569-7454-1-git-send-email-peter.maydell@linaro.org",1,0.9996840953826904,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f2a64032a14c642d0ddc9a7a846fc3d737deede5,3ade1a055c9ac6c351a008703e30fb831f23b941,Alexander Graf,2014-11-07,"kvm: Fix memory slot page alignment logic\n\nMemory slots have to be page aligned to get entered into KVM. There\nis existing logic that tries to ensure that we pad memory slots that\nare not page aligned to the biggest region that would still fit in the\nalignment requirements.\n\nUnfortunately, that logic is broken. It tries to calculate the start\noffset based on the region size.\n\nFix up the logic to do the thing it was intended to do and document it\nproperly in the comment above it.\n\nWith this patch applied, I can successfully run an e500 guest with more\nthan 3GB RAM (at which point RAM starts overlapping subpage memory regions).\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997344613075256,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b8865591d4d5680b4f766c25ca1db110320b4d15,c409572678936d3ffa8694f5a1dae531c2212e21,Igor Mammedov,2014-10-31,"pc: kvm: check if KVM has free memory slots to avoid abort()\n\nWhen more memory devices are used than available\nKVM memory slots, QEMU crashes with:\n\nkvm_alloc_slot: no free slot available\nAborted (core dumped)\n\nFix this by checking that KVM has a free slot before\nattempting to map memory in guest address space.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996535778045654,KVM,"hw/i386/pc.c, include/sysemu/kvm.h, kvm-all.c, kvm-stub.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,92a37a04d6e034b73ea1ba4825ba4d5860f0a810,34dde13685ebc2c07923f32ad69e40b27c0e0bb4,Igor Mammedov,2014-10-31,"pc: limit DIMM address and size to page aligned values\n\nWhen running in KVM mode, kvm_set_phys_mem() will silently\nfail if registered MemoryRegion address/size is not page\naligned. Causing memory hotplug failure in guest.\n\nMapping non aligned MemoryRegion in TCG mode 'works', but\nsane guest OS still expects page aligned memory module\nand fails to initialize it if it's not aligned.\n\nSo do not allow non aligned (i.e. valid) address/size\nvalues for DIMM to avoid either KVM failure or guest\nissues caused by it.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996505975723268,"DIMM, KVM, TCG","hw/i386/pc.c, hw/mem/pc-dimm.c, include/hw/mem/pc-dimm.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,60e68042cf70f271308dc6b4b22b609d054af929,0e88f478508b566152c6681f4889ed9830a2c0a5,Paolo Bonzini,2014-11-11,"apic: avoid getting out of halted state on masked PIC interrupts\n\nAfter the next patch, if a masked PIC interrupts causes CPU_INTERRUPT_POLL\nto be set, the CPU will spuriously get out of halted state.  While this\nis technically valid, we should avoid that.\n\nMake CPU_INTERRUPT_POLL run apic_update_irq in the right thread and then\nlook at CPU_INTERRUPT_HARD.  If CPU_INTERRUPT_HARD does not get set,\ndo not report the CPU as having work.\n\nAlso move the handling of software-disabled APIC from apic_update_irq\nto apic_irq_pending, and always trigger CPU_INTERRUPT_POLL.  This will\nbe important once we will add a case that resets CPU_INTERRUPT_HARD\nfrom apic_update_irq.  We want to run it even if we go through\nCPU_INTERRUPT_POLL, and even if the local APIC is software disabled.\n\nReported-by: Richard Bilson <rbilson@qnx.com>\nTested-by: Richard Bilson <rbilson@qnx.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.99797123670578,APIC,"hw/intc/apic.c, target-i386/cpu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8092cb71322ca488deeb7c750ff8022ffcc2f9a6,60e68042cf70f271308dc6b4b22b609d054af929,Paolo Bonzini,2014-11-11,"apic: fix loss of IPI due to masked ExtINT\n\nThis patch fixes an obscure failure of the QNX kernel on QEMU x86 SMP.\nIn QNX, all hardware interrupts come via the PIC, and are delivered by\nthe cpu 0 LAPIC in ExtINT mode, while IPIs are delivered by the LAPIC\nin fixed mode.\n\nThis bug happens as follows:\n- cpu 0 masks a particular PIC interrupt\n- IPI sent to cpu 0 (CPU_INTERRUPT_HARD is set)\n- before the IPI is accepted, the masked interrupt line is asserted by the\ndevice\n\nSince the interrupt is masked, apic_deliver_pic_intr will clear\nCPU_INTERRUPT_HARD. The IPI will still be set in the APIC irr, but since\nCPU_INTERRUPT_HARD is not set the cpu will not notice. Depending on the\nscenario this can cause a system hang, i.e. if cpu 0 is expected to unmask\nthe interrupt.\n\nIn order to fix this, do a full check of the APIC before an EXTINT\nis acknowledged.  This can result in clearing CPU_INTERRUPT_HARD, but\ncan also result in delivering the lost IPI.\n\nReported-by: Richard Bilson <rbilson@qnx.com>\nTested-by: Richard Bilson <rbilson@qnx.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997360110282898,APIC,hw/intc/apic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5224c88dd3f771702d450780a25f155e0fc8bb2b,8092cb71322ca488deeb7c750ff8022ffcc2f9a6,Paolo Bonzini,2014-11-11,"apic: fix incorrect handling of ExtINT interrupts wrt processor priority\n\nThis fixes another failure with ExtINT, demonstrated by QNX.  The failure\nmode is as follows:\n- IPI sent to cpu 0 (bit set in APIC irr)\n- IPI accepted by cpu 0 (bit cleared in irr, set in isr)\n- IPI sent to cpu 0 (bit set in both irr and isr)\n- PIC interrupt sent to cpu 0\n\nThe PIC interrupt causes CPU_INTERRUPT_HARD to be set, but\napic_irq_pending observes that the highest pending APIC interrupt priority\n(the IPI) is the same as the processor priority (since the IPI is still\nbeing handled), so apic_get_interrupt returns a spurious interrupt rather\nthan the pending PIC interrupt. The result is an endless sequence of\nspurious interrupts, since nothing will clear CPU_INTERRUPT_HARD.\n\nInstead, ExtINT interrupts should have ignored the processor priority.\nCalling apic_check_pic early in apic_get_interrupt ensures that\napic_deliver_pic_intr is called instead of delivering the spurious\ninterrupt.  apic_deliver_pic_intr then clears CPU_INTERRUPT_HARD if needed.\n\nReported-by: Richard Bilson <rbilson@qnx.com>\nTested-by: Richard Bilson <rbilson@qnx.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997088313102722,APIC,hw/intc/apic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dd0247e09a542d2a7ba6e390c70b5616edb9ec56,6c150fbd341ac10b8559abcfd5915cfff17b70c6,Igor Mammedov,2014-11-10,"pc: acpi: mark all possible CPUs as enabled in SRAT\n\nIf QEMU is started with  -numa ... Windows only notices that\nCPU has been hot-added but it will not online such CPUs.\n\nIt's caused by the fact that possible CPUs are flagged as\nnot enabled in SRAT and Windows honoring that information\ndoesn't use corresponding CPU.\n\nACPI 5.0 Spec regarding to flag says:\n""\nTable 5-47 Local APIC Flags\n...\nEnabled: if zero, this processor is unusable, and the operating system\nsupport will not attempt to use it.\n""\n\nFix QEMU to adhere to spec and mark possible CPUs as enabled\nin SRAT.\n\nWith that Windows onlines hot-added CPUs as expected.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996912479400636,"ACPI, APIC",hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dc622deb2d49aac6afa485f9025be8fed440ef3d,f3b3766899fc0a79a175a5d29d0ff427327cd34a,Christian Borntraeger,2014-11-26,"s390x/kvm: Fix compile error\n\ncommit a2b257d6212a ""memory: expose alignment used for allocating RAM\nas MemoryRegion API"" triggered a compile error on KVM/s390x.\n\nFix the prototype and the implementation of legacy_s390_alloc.\n\nCc: Igor Mammedov <imammedo@redhat.com>\nCc: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996891021728516,KVM,target-s390x/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,490309fcfbed9fa1ed357541f609975016a34628,3ef4ebcc5c0360629bb05f49d9b961774247d6ca,Peter Maydell,2014-11-25,"qemu-timer: Avoid overflows when converting timeout to struct timespec\n\nIn qemu_poll_ns(), when we convert an int64_t nanosecond timeout into\na struct timespec, we may accidentally run into overflow problems if\nthe timeout is very long. This happens because the tv_sec field is a\ntime_t, which is signed, so we might end up setting it to a negative\nvalue by mistake. This will result in what was intended to be a\nnear-infinite timeout turning into an instantaneous timeout, and we'll\nbusy loop. Cap the maximum timeout at INT32_MAX seconds (about 68 years)\nto avoid this problem.\n\nThis specifically manifested on ARM hosts as an extreme slowdown on\nguest shutdown (when the guest reprogrammed the PL031 RTC to not\ngenerate alarms using a very long timeout) but could happen on other\nhosts and guests too.\n\nReported-by: Christoffer Dall <christoffer.dall@linaro.org>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Fam Zheng <famz@redhat.com>\nMessage-id: 1416939705-1272-1-git-send-email-peter.maydell@linaro.org",1,0.999280035495758,"ARM, PL031",qemu-timer.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4cae4d5acaea23f3def84c8dc67ef5106323e5cb,490309fcfbed9fa1ed357541f609975016a34628,Marcel Apfelbaum,2014-11-26,"hmp: fix regression of HMP device_del auto-completion\n\nThe commits:\n - 6a1fa9f5 (monitor: add del completion for peripheral device)\n - 66e56b13 (qdev: add qdev_build_hotpluggable_device_list helper)\n\ncause a QEMU crash when trying to use HMP device_del auto-completion.\nIt can be easily reproduced by:\n    <qemu-bin> -enable-kvm  ~/images/fedora.qcow2 -monitor stdio -device virtio-net-pci,id=vnet\n\n    (qemu) device_del\n    /home/mapfelba/git/upstream/qemu/hw/core/qdev.c:941:qdev_build_hotpluggable_device_list: Object 0x7f6ce04e4fe0 is not an instance of type device\n    Aborted (core dumped)\n\nThe root cause is qdev_build_hotpluggable_device_list going recursively over\nall peripherals and their children assuming all are devices. It doesn't work\nsince PCI devices have at least on child which is a memory region (bus master).\n\nSolved by observing that all devices appear as direct children of\n/machine/peripheral container. No need of going recursively\nover all the children.\n\nSigned-off-by: Marcel Apfelbaum <marcel.a@redhat.com>\nReported-by: Gal Hammer <ghammer@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nMessage-id: 1417002601-20799-1-git-send-email-marcel.a@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995957016944884,PCI,"hw/core/qdev.c, include/hw/qdev-core.h, monitor.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0eeb17d618361a0f4faddc160e33598b23da6dd5,57e3a0c7cb0ac2f0288890482e0a463adce2080a,Greg Bellows,2014-12-11,target-arm: add async excp target_el function\n\nAdds a dedicated function and a lookup table for determining the target\nexception level of IRQ and FIQ exceptions.  The lookup table is taken from the\nARMv7 and ARMv8 specification exception routing tables.\n\nSigned-off-by: Greg Bellows <greg.bellows@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1416242878-876-3-git-send-email-greg.bellows@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.7389567494392395,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c4d4525c38cd93cc5d1a743976eb25ac571d435f,18b41f95d20ac6dbf918c73e704d4ca1fbc1a62f,Pavel Dovgalyuk,2014-12-05,"target-i386: fix icount processing for repz instructions\n\nTCG generates optimized code for i386 repz instructions in single step mode.\nIt means that when ecx becomes 0, execution of the string instruction breaks\nimmediately without an additional iteration for ecx==0 (which will only check\necx and set the flags). Omitting this iteration leads to different\ninstructions counting in singlestep mode and in normal execution.\nThis patch disables optimization of this last iteration for icount mode\nwhich should be deterministic.\n\nv2: inverted the condition and formatted the comment\n\nSigned-off-by: Pavel Dovgalyuk <pavel.dovgaluk@ispras.ru>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.998532772064209,TCG,target-i386/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d229b985b504261369f2035936cc147c2606fa92,9fc0e2d8ac10c1bb08720b44a4cf9190f1ab4f9e,Christian Borntraeger,2014-10-14,valgrind: avoid false positives in KVM_GET_DIRTY_LOG ioctl\n\nstruct kvm_dirty_log contains padding fields that trigger false\npositives in valgrind. Let's use a designated initializer to avoid\nfalse positives from valgrind/memcheck.\n\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.8236100077629089,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7215d7e7aea85699bf516c3e8d84f6a22584da35,81a423e6c6d3ccaa79de4e58024369c660c1eeb4,Maciej W. Rozycki,2014-11-12,"target-mips: Fix the 64-bit case for microMIPS MOVE16 and MOVEP\n\nFix microMIPS MOVE16 and MOVEP instructions on 64-bit processors by\nusing register addition operations.\n\nThis copies the approach taken with MIPS16 MOVE instructions (I8_MOV32R\nand I8_MOVR32 opcodes) and follows the observation that OPC_ADDU expands\nto tcg_gen_mov_tl whenever `rt' is 0 and `rs' is not, therefore copying\n`rs' to `rd' verbatim.  This is not the case with OPC_ADDIU where a\nsign-extension from bit #31 is made, unless in the uninteresting case of\n`rs' being 0, losing the upper 32 bits of the value copied for any\nproper 64-bit values.\n\nThis also serves as an optimization as one op is produced in generated\ncode rather than two (again, unless `rs' is 0, where it doesn't change\nanything).\n\nSigned-off-by: Maciej W. Rozycki <macro@codesourcery.com>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.987965762615204,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,90f12d735d66ac1196d9a2bced039a432eefc03d,27e1fb13f21e132011673f0a39e17bcc97583633,Maciej W. Rozycki,2014-11-18,"target-mips: Fix CP0.Config3.ISAOnExc write accesses\n\nFix CP0.Config3.ISAOnExc write accesses on microMIPS processors.  This\nbit is mandatory for any processor that implements the microMIPS\ninstruction set.  This bit is r/w for processors that implement both the\nstandard MIPS and the microMIPS instruction set.  This bit is r/o and\nhardwired to 1 if only the microMIPS instruction set is implemented.\n\nThere is no other bit ever writable in CP0.Config3 so defining a\ncorresponding `CP0_Config3_rw_bitmask' member in `CPUMIPSState' is I\nthink an overkill.  Therefore make the ability to write the bit rely on\nthe presence of ASE_MICROMIPS set in the instruction flags.\n\nThe read-only case of the microMIPS instruction set being implemented\nonly can be added when we add support for such a configuration.  We do\nnot currently have such support, we have no instruction flag that would\ncontrol the presence of the standard MIPS instruction set nor any\nassociated code in instruction decoding.\n\nThis change is needed to boot a microMIPS Linux kernel successfully,\notherwise it hangs early on as interrupts are enabled and then the\nexception handler invoked loops as its first instruction is interpreted\nin the wrong execution mode and triggers another exception right away.\nAnd then over and over again.\n\nWe already check the current setting of the CP0.Config3.ISAOnExc in\n`set_hflags_for_handler' to set the ISA bit correctly on the exception\nhandler entry so it is the ability to set it that is missing only.\n\nSigned-off-by: Maciej W. Rozycki <macro@codesourcery.com>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.9993853569030762,MIPS,"target-mips/helper.h, target-mips/op_helper.c, target-mips/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,01a579729b2e614bd02b25c8504976eeecb64eff,e094c4c12f33a1c965f5af02f33968a337348739,Samuel Mendoza-Jonas,2014-11-17,"spapr: Fix stale HTAB during live migration (KVM)\n\nIf a guest reboots during a running migration, changes to the\nhash page table are not necessarily updated on the destination.\nOpening a new file descriptor to the HTAB forces the migration\nhandler to resend the entire table.\n\nSigned-off-by: Samuel Mendoza-Jonas <sam.mj@au1.ibm.com>\nReviewed-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.988434910774231,KVM,"hw/ppc/spapr.c, include/hw/ppc/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,338c25b6929b5436a42aaa106c7e9136cf1ff4dc,01a579729b2e614bd02b25c8504976eeecb64eff,Samuel Mendoza-Jonas,2014-11-17,"spapr: Fix integer overflow during migration (TCG)\n\nThe n_valid and n_invalid fields are unsigned short integers but it is\npossible to have more than 65535 entries in a contiguous hunk, overflowing\nthe field. This results in an incorrect HTAB being sent to the destination\nduring migration.\n\nSigned-off-by: Samuel Mendoza-Jonas <sam.mj@au1.ibm.com>\nReviewed-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996787309646606,TCG,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e6b8fd246c19701b05f5b65a56b0cc91bbd05ac6,338c25b6929b5436a42aaa106c7e9136cf1ff4dc,Samuel Mendoza-Jonas,2014-11-17,"spapr: Fix stale HTAB during live migration (TCG)\n\nIf a TCG guest reboots during a running migration HTAB entries are not\nmarked dirty, and the destination boots with an invalid HTAB.\n\nWhen a reboot occurs, explicitly mark the current HTAB dirty after\nclearing it.\n\nSigned-off-by: Samuel Mendoza-Jonas <sam.mj@au1.ibm.com>\nReviewed-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996649026870728,TCG,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5f9490de566c5b092a6cfedc3c7a37a9c9dee917,77bad151fbd2b2eed1e959ecc2c3f2ee2f080f6c,David Gibson,2014-12-08,"PPC: Fix crash on spapr_tce_table_finalize()\n\nspapr_tce_table_finalize() can SEGV if the object was not previously\nrealized.  In particular this can be triggered by running\n         qemu-system-ppc -device spapr-tce-table,?\n\nThe basic problem is that we have mismatched initialization versus\nfinalization: spapr_tce_table_finalize() is attempting to undo things that\nare done in spapr_tce_table_realize(), not an instance_init function.\n\nTherefore, replace spapr_tce_table_finalize() with\nspapr_tce_table_unrealize().\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996999502182008,PPC,hw/ppc/spapr_iommu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,82e345f57e6482cef960677613125c5aaf2b1654,f83c2378bb412b205e9d14dca2f7758d3d23cc88,Amit Tomar,2014-12-19,"PPC: e500: Fix GPIO controller interrupt number\n\nThe GPIO controller lives at IRQ 47, not 43 on real hardware. This is a problem\nbecause IRQ 43 is occupied by the I2C controller which we want to implement\nnext, so we'd have a conflict on that IRQ number.\n\nMove the GPIO controller to IRQ 47 where it belongs.\n\nSigned-off-by: Amit Singh Tomar <amit.tomar@freescale.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.999543309211731,"I2C, PPC",hw/ppc/e500.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,29c6e6df492d81b1843e5dd999171bb84c6effea,59a0419856c9ed24e9ecd033db092b2e8f81a728,Alex Williamson,2015-01-09,"vfio-pci: Fix BAR size overflow\n\nWe use an unsigned int when working with the PCI BAR size, which can\nobviously overflow if the BAR is 4GB or larger.  This needs to change\nto a fixed length uint64_t.  A similar issue is possible, though even\nmore unlikely, when mapping the region above an MSI-X table.  The\nstart of the MSI-X vector table must be below 4GB, but the end, and\ntherefore the start of the next mapping region, could still land at\n4GB.\n\nSuggested-by: Nishank Trivedi <nishank.trivedi@netapp.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>\nReviewed-by: Don Slutz <dslutz@verizon.com>\nTested-by: Alexey Kardashevskiy <aik@ozlabs.ru>",1,0.999669909477234,PCI,hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b3e27c3aee8f5a96debfe0346e9c0e3a641a8516,29c6e6df492d81b1843e5dd999171bb84c6effea,Alex Williamson,2015-01-09,"vfio-pci: Fix interrupt disabling\n\nWhen disabling MSI/X interrupts the disable functions will leave the\ndevice in INTx mode (when available).  This matches how hardware\noperates, INTx is enabled unless MSI/X is enabled (DisINTx is handled\nseparately).  Therefore when we really want to disable all interrupts,\nsuch as when removing the device, and we start with the device in\nMSI/X mode, we need to pass through INTx on our way to being\ncompletely quiesced.\n\nIn well behaved situations, the guest driver will have shutdown the\ndevice and it will start vfio_exitfn() in INTx mode, producing the\ndesired result.  If hot-unplug causes the guest to crash, we may get\nthe device in MSI/X state, which will leave QEMU with a bogus handler\ninstalled.\n\nFix this by re-ordering our disable routine so that it should always\nfinish in VFIO_INT_NONE state, which is what all callers expect.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9996846914291382,VFIO,hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,99605175c93a24be4aa39543cd02551ea205e614,7d5ad15d17f26dd4f9ff5f3491828bc34e74f28c,Liang Li,2015-01-13,"xen-pt: Fix PCI devices re-attach failed\n\nUse the 'xl pci-attach $DomU $BDF' command to attach more than\none PCI devices to the guest, then detach the devices with\n'xl pci-detach $DomU $BDF', after that, re-attach these PCI\ndevices again, an error message will be reported like following:\n\n    libxl: error: libxl_qmp.c:287:qmp_handle_error_response: receive\n    an error message from QMP server: Duplicate ID 'pci-pt-03_10.1'\n    for device.\n\nIf using the 'address_space_memory' as the parameter of\n'memory_listener_register', 'xen_pt_region_del' will not be called\nif the memory region's name is not 'xen-pci-pt-*' when the devices\nis detached. This will cause the device's related QemuOpts object\nnot be released properly.\n\nUsing the device's address space can avoid such issue, because the\ncalling count of 'xen_pt_region_add' when attaching and the calling\ncount of 'xen_pt_region_del' when detaching is the same, so all the\nmemory region ref and unref by the 'xen_pt_region_add' and\n'xen_pt_region_del' can be released properly.\n\nSigned-off-by: Liang Li <liang.z.li@intel.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nReported-by: Longtao Pang <longtaox.pang@intel.com>",1,0.9995220899581908,PCI,hw/xen/xen_pt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,488eef2f1d16c97cf7f9ebf644ecafa1ea1e9acc,c88f68ec3ce54ebc5da13d07d6512689c4e9be30,Paolo Bonzini,2015-01-12,"scsi: fix cancellation when I/O was completed but DMA was not.\n\nCommit d577646 (scsi: Introduce scsi_req_cancel_complete, 2014-09-25)\nwas supposed to have no semantic change, but it missed a case.  When\nr->aiocb has already been NULLed, but DMA was not complete and the\nSCSI layer was waiting for scsi_req_continue, after the patch the\nSCSI layer will not call the .cancel callback of SCSIBusInfo.\n\nFixes: d5776465ee9a55815792efa34d79de240f4ffd99\nCc: qemu-stable@nongnu.org\nReported-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nTested-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Fam Zheng <famz@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997337460517884,SCSI,hw/scsi/scsi-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,49743df399ca1029f4e22b52e9238d8e25c26bb2,aca7aaf6287b6a9f688c1b115a76fdc056565a7e,Benjamin Herrenschmidt,2014-07-07,"ui: Add dpy_gfx_check_format() to check backend shared surface support\n\nThis allows VGA to decide whether to use a shared surface based on\nwhether the UI backend supports the format or not. Backends that\ndon't provide the new callback fallback to native 32 bpp which\nis equivalent to what was supported before.\n\nSigned-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>\n\n[ kraxel: fix console check, allow only 32 bpp as fallback ]\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.99955552816391,VGA,"hw/display/vga.c, include/ui/console.h, ui/console.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,69694625e86aebb135b56c4aaafefd5c1d17bb3c,e60538c79fc7285e72f5b431281986737db1607b,Peter Maydell,2014-12-23,"target-sparc: is_translating_asi() is TARGET_SPARC64 only\n\nMove the is_translating_asi() inside the TARGET_SPARC64 ifdef (and remove\nthe unimplemented 32-bit codepath), as it is only called from TARGET_SPARC64\ncode. This fixes a clang 3.4 unused-function warning.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>",1,0.9962207674980164,"SPARC, SPARC64",target-sparc/ldst_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0ee4de5840ccc1072459ec68062bfb63c888a94d,ba4d26064e8c42711a1a6eb287cedac75deb1478,Dinar Valeev,2015-01-21,"hw/input/hid.c Fix capslock hid code\n\nWhen ever USB keyboard is used, e.g. '-usbdevice keyboard' pressing\ncaps lock key send 0x32 hid code, which is treated as backslash.\nInstead it should be 0x39 code. This affects sending uppercase keys,\nas they typed whith caps lock active.\n\nWhile on x86 this can be workarounded by using ps/2 protocol. On\nPower it is crusial as we don't have anything else than USB.\n\nThis is fixes guest automation tasts over vnc.\n\nSigned-off-by: Dinar Valeev <dvaleev@suse.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997147917747498,USB,hw/input/hid.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0034a0f239623388525c884dabf9a125eafb1acb,a46b3aaf6bb038d4f6f192a84df204f10929e75c,Paolo Bonzini,2015-01-14,"pc: fix KVM features in pc-1.3 and earlier machine types\n\nDue to a typo, instead of disabling KVM_FEATURE_PV_EOI (bit\n6) these machine types are disabling bits 1 and 2, which are\nKVM_FEATURE_NOP_IO_DELAY and KVM_FEATURE_MMU_OP.  Not a big deal\nbecause they aren't very important and KVM_FEATURE_MMU_OP is\ndisabled anyway.  The worst part is actually that KVM_FEATURE_PV_EOI\nis remaining enabled.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.99972003698349,KVM,hw/i386/pc_piix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b30934cb52a72a763da21dccc9994c64517d6f25,e720677e32e70b1f60637ebbcf2ffb23a4607f3e,Jiri Slaby,2015-01-21,"hw: misc, add educational driver\n\nI am using qemu for teaching the Linux kernel at our university. I\nwrote a simple PCI device that can answer to writes/reads, generate\ninterrupts and perform DMA. As I am dragging it locally over 2 years,\nI am sending it to you now.\n\nSigned-off-by: Jiri Slaby <jslaby@suse.cz>\n[Fix 32-bit compilation. - Paolo]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995673298835754,PCI,"MAINTAINERS, default-configs/pci.mak, docs/specs/edu.txt, hw/misc/Makefile.objs, hw/misc/edu.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,927411fa42c5fcf16ed0fcc0447d5ee8c83b22ca,874b1cfad51e325d535f99261f91c92df444c18c,Paolo Bonzini,2015-01-20,"apic: do not dereference pointer before it is checked for NULL\n\nRight now you only get to apic_init_reset if you have an APIC\n(do_cpu_init is reached only if CPU_INTERRUPT_INIT is set and\nthat only happens in hw/intc/apic.c).  However, this is wrong\nbecause for example a port 92 or keyboard controller reset is\nreally an INIT, and that can happen also with no APIC.  So\nkeep the check and fix the error that Coverity reported.\n\nReported-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997249245643616,APIC,hw/intc/apic_common.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d01a5a3fe19645f3cdea1566f0e518ea2152a029,b3a4755a67a52aa7297eb8927b482d09dabdefec,Stefano Stabellini,2015-01-23,"fix QEMU build on Xen/ARM\n\nxen_get_vmport_regs_pfn should take a xen_pfn_t argument, not an\nunsigned long argument (in fact xen_pfn_t is defined as uint64_t on\nARM).\n\nAlso use xc_hvm_param_get instead of the deprecated xc_get_hvm_param.\n\nSigned-off-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nReviewed-by: Don Slutz <dslutz@verizon.com>",1,0.9995878338813782,ARM,include/hw/xen/xen_common.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6d4e4cb9985e24557abcf3932a0e7f8f6ab3c1d2,27fb9688f9162515901ebf29e3879788fd326ea7,Igor Mammedov,2014-12-19,pc: acpi: fix WindowsXP BSOD when memory hotplug is enabled\n\nACPI parser in XP considers PNP0A06 devices of CPU and\nmemory hotplug as duplicates. Adding unique _UID\nto CPU hotplug device fixes BSOD.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.99966561794281,ACPI,hw/i386/acpi-dsdt-cpu-hotplug.dsl,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,759048ac20174b34fa7a593f4da2e7fed34e599c,07d01c9c1929e43216005fcc8eccea75776ee0d2,Bharata B Rao,2015-01-27,pc: Fix DIMMs capacity calculation\n\npc_existing_dimms_capacity() is returning DIMMs count rather than capacity.\nFix this to return the capacity. Also consider only realized devices for\ncapacity calculation.\n\nSigned-off-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9990578293800354,DIMM,hw/i386/pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cfa9bb236911eaa30ac58072105881a65cbbb612,b25d81ba332dc06757d40ffe64944ba27082de0a,Markus Armbruster,2015-01-13,"qmp hmp: Improve error messages when SPICE is not in use\n\nCommit 7572150 adopted QERR_DEVICE_NOT_ACTIVE for the purpose,\nprobably because adding another error seemed cumbersome overkill.\nProduces ""No spice device has been activated"", which is awkward.\n\nWe've since abandoned our quest for ""rich"" error objects.  Time to\nundo the damage to this error message.  Replace it by ""SPICE is not in\nuse"".\n\nKeep the stupid DeviceNotActive ErrorClass for compatibility, even\nthough Libvirt doesn't use it.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9198148846626282,SPICE,include/ui/qemu-spice.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,206addd58f251666f5b64d43957ddcba465c0ef1,cfa9bb236911eaa30ac58072105881a65cbbb612,Markus Armbruster,2015-01-13,"hmp: Compile hmp_info_spice() only with CONFIG_SPICE\n\nIt's dead code when CONFIG_SPICE is off.  If it wasn't, it would crash\ndereferencing the null pointer returned by the qmp_query_spice()\ndummy in qmp.c.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.8198827505111694,SPICE,hmp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3a4dbe6aa934370a92372528c1255ee1504965ee,39cb514f02c7daf6378117e28be7a659a69e48b7,Alex Williamson,2015-02-04,"vfio-pci: Fix missing unparent of dynamically allocated MemoryRegion\n\nCommit d8d95814609e added explicit object_unparent() calls for\ndynamically allocated MemoryRegions.  The VFIOMSIXInfo structure also\ncontains such a MemoryRegion, covering the mmap'd region of a PCI BAR\nabove the MSI-X table.  This structure is freed as part of the class\nexit function and therefore also needs an explicit object_unparent().\nFailing to do this results in random segfaults due to fields within\nthe structure, often the class pointer, being reclaimed and corrupted\nby the time object_finalize_child_property() is called for the object.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nCc: qemu-stable@nongnu.org # 2.2",1,0.9997256398200988,"PCI, VFIO",hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,45140a57675ecb4b0daee71bf145c24dbdf9429c,a8eb6e19991d1a7a6a7b04ac447548d30d75eb4a,Kirill Batuzov,2015-02-05,"target-arm: check that LSB <= MSB in BFI instruction\n\nThe documentation states that if LSB > MSB in BFI instruction behaviour\nis unpredictable. Currently QEMU crashes because of assertion failure in\nthis case:\n\ntcg/tcg-op.h:2061: tcg_gen_deposit_i32: Assertion `len <= 32' failed.\n\nWhile assertion failure may meet the ""unpredictable"" definition this\nbehaviour is undesirable because it allows an unprivileged guest program\nto crash the emulator with the OS and other programs.\n\nThis patch addresses the issue by throwing illegal instruction exception\nif LSB > MSB. Only ARM decoder is affected because Thumb decoder already\nhas this check in place.\n\nTo reproduce issue run the following program\n\nint main(void) {\n    asm volatile ("".long 0x07c00c12"" :: );\n    return 0;\n}\n\ncompiled with\n  gcc -marm -static badop_arm.c -o badop_arm\n\nSigned-off-by: Kirill Batuzov <batuzovk@ispras.ru>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997393488883972,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,949013ce111eb64f8bc81cf9a9f1cefd6a1678c3,6d54ed3c93f1e05a483201b087142998381c9be8,Peter Maydell,2015-02-05,"target-arm/translate-a64: Fix wrong mmu_idx usage for LDT/STT\n\nThe LDT/STT (load/store unprivileged) instruction decode was using\nthe wrong MMU index value. This meant that instead of these insns\nbeing ""always access as if user-mode regardless of current privilege""\nthey were ""always access as if kernel-mode regardless of current\nprivilege"". This went unnoticed because AArch64 Linux doesn't use\nthese instructions.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Greg Bellows <greg.bellows@linaro.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\n---\nI'm not counting this as a security issue because I'm assuming\nnobody treats TCG guests as a security boundary (certainly I\nwould not recommend doing so...)",1,0.9996925592422484,TCG,target-arm/translate-a64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fc1792e9aa36227ee9994757974f9397684e1a48,84f2bed3cf505f90b7918e2de32e11da27160563,Ildar Isaev,2015-02-05,target-arm: fix for exponent comparison in recpe_f64\n\nf64 exponent in HELPER(recpe_f64) should be compared to 2045 rather than 1023\n(FPRecipEstimate in ARMV8 spec). This fixes incorrect underflow handling when\nflushing denormals to zero in the FRECPE instructions operating on 64-bit\nvalues.\n\nSigned-off-by: Ildar Isaev <ild@inbox.ru>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9996734857559204,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bc5baffa3554e4c0d20c1dbe879aec931866bd69,2e6e697e166568fdd09ceaa8c7c8c8c53a5e345b,Alexey Kardashevskiy,2015-02-10,vfio: Fix debug message compile error\n\nThis fixes a compiler error which occurs if DEBUG_VFIO is defined.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>,1,0.9997146725654602,VFIO,hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fe2372910a09034591fd2cfc2d70cca43fccaa95,196a7958c65778d05a491309377a65c58f643a1c,Leon Alrae,2015-01-26,"target-mips: fix detection of the end of the page during translation\n\nThe test is supposed to terminate TB if the end of the page is reached.\nHowever, with current implementation it may never succeed for microMIPS or\nmips16.\n\nReported-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>\nReviewed-by: Maciej W. Rozycki <macro@linux-mips.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>",1,0.9995869994163512,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,259342d34dbdfb304374f569feec26317edd97c9,ae029620173239f3643925299790ecc5e1d72db1,John Snow,2015-02-05,"libqos/ahci: Add ahci_clean_mem\n\nClean up guest memory being used in ahci_clean_mem, to be\ncalled during ahci_shutdown. With all guest memory leaks removed,\nadd an option to the allocator to throw an assertion if a leak\noccurs.\n\nThis test adds some sanity to both the AHCI library and the\nallocator.\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-id: 1423158090-25580-18-git-send-email-jsnow@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9922521710395812,AHCI,"tests/ahci-test.c, tests/libqos/ahci.c, tests/libqos/ahci.h, tests/libqos/malloc.c, tests/libqos/malloc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3bc36a401e0f33e63a4d2c58b646ddf78efb567c,4806ec9b2c57ff42a91d5419ac1137fffd1c9fb5,Markus Armbruster,2015-02-04,"usb: Improve -usbdevice error reporting a bit\n\nMost LegacyUSBFactory usbdevice_init() methods realize with\nqdev_init_nofail(), even though their caller usbdevice_create() can\nhandle failure.  Okay if it really can't fail (I didn't check), but\nsomewhat brittle.\n\nusb_msd_init() and usb_bt_init() call qdev_init().  The latter\nadditionally reports an error when qdev_init() fails.\n\nRealization failure produces multiple error reports: a specific one\nfrom qdev_init(), and generic ones from usb_bt_init(),\nusb_create_simple(), usbdevice_create() and usb_parse().\n\nRemove realization from the usbdevice_init() methods.  Realize in\nusbdevice_create(), and produce exactly one error message there.  You\nstill get another one from usb_parse().\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9993133544921876,USB,"hw/usb/bus.c, hw/usb/dev-bluetooth.c, hw/usb/dev-network.c, hw/usb/dev-serial.c, hw/usb/dev-storage.c, hw/usb/host-legacy.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd8b92d5c8387c2c94f06665514c05000169fafd,06f22eb78f3eb557c667f5d0a46099e43a2aeb0d,Markus Armbruster,2015-02-04,"usb: Suppress bogus error when automatic usb-hub creation fails\n\nUSBDevice's realize method usb_qdev_realize() automatically creates a\nusb-hub when only one port is left.  Creating devices in realize\nmethods is questionable, but works.\n\nIf usb-hub creation fails, an error is reported to stderr, but the\nfailure is otherwise ignored.  We then create the actual device using\nthe last port, which may well succeed.\n\nExample:\n\n    $ qemu -nodefaults -S -display none -machine usb=on -monitor stdio\n    QEMU 2.2.50 monitor - type 'help' for more information\n    (qemu) device_add usb-mouse\n    [Repeat 36 times]\n    (qemu) info usb\n      Device 0.0, Port 1, Speed 12 Mb/s, Product QEMU USB Mouse\n      Device 0.0, Port 2, Speed 12 Mb/s, Product QEMU USB Hub\n      Device 0.0, Port 2.1, Speed 12 Mb/s, Product QEMU USB Mouse\n    [More mice and hubs omitted...]\n      Device 0.0, Port 2.8.8.8.8.7, Speed 12 Mb/s, Product QEMU USB Mouse\n    (qemu) device_add usb-mouse\n    usb hub chain too deep\n    Failed to initialize USB device 'usb-hub'\n    (qemu) info usb\n    [...]\n      Device 0.0, Port 2.8.8.8.8.7, Speed 12 Mb/s, Product QEMU USB Mouse\n      Device 0.0, Port 2.8.8.8.8.8, Speed 12 Mb/s, Product QEMU USB Mouse\n\nDespite the ""Failed"" message, the command actually succeeded.\n\nIn QMP, it's worse.  When adding the 37th mouse via QMP, the command\nfails with\n\n    {""error"": {""class"": ""GenericError"", ""desc"": ""usb hub chain too deep""}}\n\nAdditionally, ""Failed to initialize USB device 'usb-hub'"" is reported\non stderr.  Despite the command failure, the device was created.  This\nis wrong.\n\nFix by avoiding qdev_init() for usb-hub creation, so we can ignore\nerrors cleanly.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996740818023682,USB,hw/usb/bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,606ee8f5eadd79627216bbdde4da0337cb7d4360,438e8289d7746188f0684313d25d38d2a77747c9,Gonglei,2015-02-12,"monitor: Fix missing err = NULL in client_migrate_info()\n\nWhen SPICE isn't used, we either fail an assertion in error_set(),\nor leak an error object.  Broken in commit b25d81b.\n\nCc: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Gonglei <arei.gonglei@huawei.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Luiz Capitulino <lcapitulino@redhat.com>",1,0.999647617340088,SPICE,monitor.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cd7c50a48dd484637aec36c351728ad0f140805a,e25b89e5208564220b9ea3a728f899b37ff6dc2d,Markus Armbruster,2015-02-04,"leon3: Replace unchecked qdev_init() by qdev_init_nofail()\n\ngrlib_irqmp_create(), grlib_gptimer_create() and\ngrlib_apbuart_create() are helpers to create and realize GRLIB\ndevices.  Their only caller leon3_generic_hw_init() doesn't check for\nfailure.  Only the first can actually fail, and only when the caller\nfails to set up a pointer property, which is a programming error.\n\nReplace qdev_init() by qdev_init_nofail().\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Fabien Chouteau <chouteau@adacore.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9641832113265992,GRLIB,include/hw/sparc/grlib.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,133e9b228df16d11de01529c217417e78d1d9370,661875e948ece4723ebe4e7628060c27cad06df1,Markus Armbruster,2015-01-19,"pci: Convert core to realize\n\nImplement DeviceClass methods realize() and unrealize() instead of\ninit() and exit().  The core's initialization errors now get\npropagated properly, and QMP sends them instead of an unspecific\n""Device initialization failed"" error.  Unrealize can't fail, so no\nchange there.\n\nPCIDeviceClass is unchanged: it still provides init() and exit().\nTherefore, device models' errors are still not propagated.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Gonglei <arei.gonglei@huawei.com>",1,0.9926576018333436,PCI,hw/pci/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,358774d780ee8f91429323f44bef1f53afa448bf,6e00619b1eb2050bf2c75d52edfe7b4566704922,Igor Mammedov,2015-02-09,"pc: acpi-build: migrate RSDP table\n\nMakes sure that RSDP stays the same\n/i.e. matches ACPI tables blob in source/\nif guest is migrated during RSDP reading or\nhas been already shadowed by firmware.\n\nFix applies only to new machine types starting\nfrom 2.3, so it won't break migration for old\nmachine types.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Marcel Apfelbaum <marcel@redhat.com>",1,0.99922513961792,ACPI,"hw/i386/acpi-build.c, hw/i386/pc_piix.c, hw/i386/pc_q35.c, include/hw/i386/pc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,42d859001d180ea788aa2d34a7be021ac8c447f2,129ddaf31be583fb7c97812e07e028661005ce42,Michael S. Tsirkin,2015-02-15,"acpi-build: fix ACPI RAM management\n\nThis fixes multiple issues around ACPI RAM management:\n\nRSDP and linker RAM aren't currently marked dirty\non update, so they won't be migrated correctly.\n\nLet's handle all tables in the same way: set correct size (assert if\ntoo big), update, mark RAM dirty.\n\nThis also drops assert checking that table size didn't change: table\nsize is fundamentally dynamic and depends on hw configuration,\njust set the correct size and use that (memory core asserts if size is\ntoo large).\n\nThis also means we can drop tracking table size, memory core does this\nfor us now.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996517896652222,ACPI,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8ac6f7a6d64386426daa6c34676d296cafe19a80,1142e45ffdc5bf76ae920a25495e13223f5d5ed2,Igor Mammedov,2015-02-20,"pc: acpi-build: drop template patching and create Device(SMC) dynamically\n\npatch moves SMC device into SSDT and creates it only\nwhen device is present, which makes ACPI tables smaller\nin default case when device is not present.\n\nAlso it fixes wrong IO range in CRS if ""iobase""\nproperty is set to a non default value.\n\nPS:\nTesting with XP shows that current default ""iobase""\nused SMC device conflicts with floppy controller IO,\nbut it's topic for another patch and I'd leave it\nto SMC device author for resolving conflict.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nCC: agraf@suse.de\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9994522929191588,ACPI,"hw/i386/acpi-build.c, hw/i386/acpi-dsdt-isa.dsl, hw/i386/acpi-dsdt.dsl, hw/i386/q35-acpi-dsdt.dsl",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f51074cdc6e750daa3b6df727d83449a7e42b391,6dbcb81956b16d794c9c0257b94bd4c6feba713f,Markus Armbruster,2015-02-26,"pci-hotplug-old: Has been dead for five major releases, bury\n\nCommit 79ca616 (v1.6.0) accidentally disabled legacy x86-only HMP\ncommands pci_add, pci_del: it defined CONFIG_PCI_HOTPLUG only as make\nvariable, not as preprocessor macro, killing the code conditional on\ndefined(CONFIG_PCI_HOTPLUG_OLD).\n\nIn all this time, nobody reported the loss.  I only noticed it when I\ntried to test some error reporting change that forced me to touch this\nold crap again.\n\nFun: git-log hw/pci/pci-hotplug-old.c shows our faith in the backward\ncompatibility god has been strong enough to sacrifice at its altar\nabout a dozen times, but not strong enough to even once verify the\nlegacy feature's still there, let alone works.\n\nRemove the commands along with the code backing them.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9994316697120668,PCI,"default-configs/i386-softmmu.mak, default-configs/x86_64-softmmu.mak, device-hotplug.c, hmp-commands.hx, hw/pci/Makefile.objs, hw/pci/pci-hotplug-old.c, include/sysemu/blockdev.h, include/sysemu/sysemu.h, stubs/Makefile.objs, stubs/pci-drive-hot-add.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6b49809c597331803ea941eadda813e5bb4e8fe2,f6758f7d6b8b483eb1d061937ed06da830c1ecb8,Paolo Bonzini,2015-02-27,"cpus: fix deadlock and segfault in qemu_mutex_lock_iothread\n\nWhen two threads (other than the low-priority TCG VCPU thread)\nare competing for the iothread lock, a deadlock can happen.  This\nis because iothread_requesting_mutex is set to false by the first\nthread that gets the mutex, and then the VCPU thread might never\nyield from the execution loop.  If iothread_requesting_mutex is\nchanged from a bool to a counter, the deadlock is fixed.\n\nHowever, there is another bug in qemu_mutex_lock_iothread that\ncan be triggered by the new call_rcu thread.  The bug happens\nif qemu_mutex_lock_iothread is called before the CPUs are\ncreated.  In that case, first_cpu is NULL and the caller\nsegfaults in qemu_mutex_lock_iothread.  To fix this, just\ndo not do the kick if first_cpu is NULL.\n\nReported-by: Leon Alrae <leon.alrae@imgtec.com>\nReported-by: Andreas Gustafsson <gson@gson.org>\nTested-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997496008872986,TCG,cpus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aa6857891df614c620e6e9fc4bc4af6e0e49cafd,0856579cac2f1dacecd847cfcd89680d26ff78f5,Laszlo Ersek,2015-03-02,"xhci: generate a Transfer Event for each Transfer TRB with the IOC bit set\n\nAt the moment, when the XHCI driver in edk2\n(MdeModulePkg/Bus/Pci/XhciDxe/XhciDxe.inf) runs on QEMU, with the options\n\n  -device nec-usb-xhci -device usb-kbd\n\nit crashes with:\n\n  ASSERT MdeModulePkg/Bus/Pci/XhciDxe/XhciSched.c(1759):\n  TrsRing != ((void*) 0)\n\nThe crash hits in the following edk2 call sequence (all files under\nMdeModulePkg/Bus/):\n\nUsbEnumerateNewDev()                         [Usb/UsbBusDxe/UsbEnumer.c]\n  UsbBuildDescTable()                        [Usb/UsbBusDxe/UsbDesc.c]\n    UsbGetDevDesc()                          [Usb/UsbBusDxe/UsbDesc.c]\n      UsbCtrlGetDesc(USB_REQ_GET_DESCRIPTOR) [Usb/UsbBusDxe/UsbDesc.c]\n        UsbCtrlRequest()                     [Usb/UsbBusDxe/UsbDesc.c]\n          UsbHcControlTransfer()             [Usb/UsbBusDxe/UsbUtility.c]\n            XhcControlTransfer()             [Pci/XhciDxe/Xhci.c]\n              XhcCreateUrb()                 [Pci/XhciDxe/XhciSched.c]\n                XhcCreateTransferTrb()       [Pci/XhciDxe/XhciSched.c]\n              XhcExecTransfer()              [Pci/XhciDxe/XhciSched.c]\n                XhcCheckUrbResult()          [Pci/XhciDxe/XhciSched.c]\n                  //\n                  // look for TRB_TYPE_DATA_STAGE event [1]\n                  //\n              //\n              // Store a copy of the device descriptor, as the hub device\n              // needs this info to configure endpoint. [2]\n              //\n  UsbSetConfig()                             [Usb/UsbBusDxe/UsbDesc.c]\n    UsbCtrlRequest(USB_REQ_SET_CONFIG)       [Usb/UsbBusDxe/UsbDesc.c]\n      UsbHcControlTransfer()                 [Usb/UsbBusDxe/UsbUtility.c]\n        XhcControlTransfer()                 [Pci/XhciDxe/Xhci.c]\n          XhcSetConfigCmd()                  [Pci/XhciDxe/XhciSched.c]\n            XhcInitializeEndpointContext()   [Pci/XhciDxe/XhciSched.c]\n              //\n              // allocate transfer ring for the endpoint [3]\n              //\n\nUSBKeyboardDriverBindingStart()              [Usb/UsbKbDxe/EfiKey.c]\n  UsbIoAsyncInterruptTransfer()              [Usb/UsbBusDxe/UsbBus.c]\n    UsbHcAsyncInterruptTransfer()            [Usb/UsbBusDxe/UsbUtility.c]\n      XhcAsyncInterruptTransfer()            [Pci/XhciDxe/Xhci.c]\n        XhcCreateUrb()                       [Pci/XhciDxe/Xhci.c]\n          XhcCreateTransferTrb()             [Pci/XhciDxe/XhciSched.c]\n            XhcSyncTrsRing()                 [Pci/XhciDxe/XhciSched.c]\n              ASSERT (TrsRing != NULL) [4]\n\nUsbEnumerateNewDev() in the USB bus driver issues a GET_DESCRIPTOR\nrequest, in order to determine the number of configurations that the\nendpoint supports. The requests consists of three stages (three TRBs),\nsetup, data, and status. The length of the response is determined in [1],\nnamely from the transfer event that the host controller generates in\nresponse to the request's middle stage (ie. the data stage).\n\nIf the length of the answer is correct (a full GET_DESCRIPTOR request\ntakes 18 bytes), then the XHCI driver that underlies the USB bus driver\n""snoops"" (caches) the descriptor data for later [2].\n\nLater, the USB bus driver sends a SET_CONFIG request. The underlying XHCI\ndriver allocates a transfer ring for the endpoint, relying on the data\nsnooped and cached in step [2].\n\nFinally, the USB keyboard driver submits an asynchronous interrupt\ntransfer to manage the keyboard. As part of this it asserts [4] that the\nring has been allocated in step [3].\n\nAnd this ASSERT() fires. The root cause can be found in the way QEMU\nhandles the initial GET_DESCRIPTOR request.\n\nAgain, that request consists of three stages (TRBs, Transfer Request\nBlocks), ""setup"", ""data"", and ""status"". The XhcCreateTransferTrb()\nfunction sets the IOC (""Interrupt on Completion"") flag in each of these\nTRBs.\n\nAccording to the XHCI specification, the host controller shall generate a\nTransfer Event in response to *each* individual TRB of the request that\nhad the IOC flag set. This means that QEMU should queue three events:\nsetup, data, and status, for edk2's XHCI driver.\n\nHowever, QEMU only generates two events:\n- one for the setup (ie. 1st) stage,\n- another for the status (ie. 3rd) stage.\n\nNo event is generated for the middle (ie. data) stage. The loop in QEMU's\nxhci_xfer_report() function runs three times, but due to the ""reported""\nvariable, only the first and the last TRBs elicit events, the middle (data\nstage) results in no event queued.\n\nAs a consequence:\n- When handling the GET_DESCRIPTOR request, XhcCheckUrbResult() in [1]\n  does not update the response length from zero.\n\n- XhcControlTransfer() thinks that the response is invalid (it has zero\n  length payload instead of 18 bytes), hence [2] is not reached; the\n  device descriptor is not stashed for later, and the number of possible\n  configurations is left at zero.\n\n- When handling the SET_CONFIG request, (NumConfigurations == 0) from\n  above prevents the allocation of the endpoint's transfer ring.\n\n- When the keyboard driver tries to use the endpoint, the ASSERT() blows\n  up.\n\nThe solution is to correct the emulation in QEMU, and to generate a\ntransfer event whenever IOC is set in a TRB.\n\nThe patch replaces\n\n  !reported && (IOC || foo)    == !reported && IOC ||\n                                  !reported && foo\n\nwith\n\n  IOC || (!reported && foo)    == IOC ||\n                                  !reported && foo\n\nwhich only changes how\n\n  reported && IOC\n\nis handled. (Namely, it now generates an event.)\n\nTested with edk2 built for ""qemu-system-aarch64 -M virt"" (ie.\n""ArmVirtualizationQemu.dsc"", aka ""AAVMF""), and guest Linux.\n\nSigned-off-by: Laszlo Ersek <lersek@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9995051622390748,USB,hw/usb/hcd-xhci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3e4ac9687103f907eadea10d6176eb2e989d1e36,ad3e67d05a65da2e3696ed45b999e061ccb7a879,David Gibson,2015-01-14,"pseries: Limit PCI host bridge ""index"" value\n\npseries guests can have large numbers of PCI host bridges.  To avoid the\nuser having to specify a number of different configuration values for every\none, the device supports an ""index"" property which is a shorthand setting\nthe various window and configuration addresses from a predefined sensible\nset.\n\nThere are some problems with the details at present:\n  * The ""index"" propery is signed, but negative values will create PCI\nwindows below where we expect, potentially colliding with other devices\n  * No limit is imposed on the ""index"" property and large values can\ntranslate to extremely large window addresses.  With PCI passthrough in\nparticular this can mean we exceed various mapping and physical address\nlimits causing the guest host bridge to not work in strange ways.\n\nThis patch addresses this, by making ""index"" unsigned, and imposing a\nlimit.  Currently the limit allows indices from 0..255 which is probably\nenough host bridges for the time being.  It's fairly easy to extend if\nwe discover we need more.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9992913007736206,PCI,"hw/ppc/spapr_pci.c, include/hw/pci-host/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fe656ebd4e4339972bae771a692109fd43ff5737,74e5ae284b1c8ac36a77e57ab9a49178173c666f,Markus Armbruster,2015-02-05,"PPC: Clean up misuse of qdev_init() in kvm-openpic creation\n\nWe call ppce500_init_mpic_kvm() to create a ""kvm-openpic"".  If it\nfails, we call ppce500_init_mpic_qemu() to fall back to plain\n""openpic"".\n\nppce500_init_mpic_kvm() uses qdev_init().  qdev_init()'s error\nhandling has an unwanted side effect: it calls qerror_report_err(),\nwhich prints to stderr.  Looks like an error, but isn't.\n\nIn QMP context, it would stash the error in the monitor instead,\nmaking the QMP command fail.  Fortunately, it's only called from board\ninitialization, never in QMP context.\n\nClean up by cutting out the qdev_init() middle-man: set property\n""realized"" directly.\n\nWhile there, improve the error message when we can't satisfy an\nexplicit user request for ""kvm-openpic"", and exit(1) instead of\nabort().\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9552969932556152,PPC,hw/ppc/e500.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,14cec170ea4724e6881ba2febb20e88a942e52d3,d4cd45028898a37afb45fb449954115b4960d4e9,Gonglei,2015-02-10,"xen-pt: fix Out-of-bounds read\n\nThe array length of s->real_device.io_regions[] is\n""PCI_NUM_REGIONS - 1"".\n\nSigned-off-by: Gonglei <arei.gonglei@huawei.com>\nAcked-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>",1,0.999670147895813,PCI,hw/xen/xen_pt_config_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a209f4615c6853a226e847810b6c607c71b6a046,20a1f9d07125bead22efd1dc208b4d14ae1b2a21,Fam Zheng,2015-02-17,virtio-blk: Check return value of blk_aio_ioctl\n\nSince commit 1dc936aa84 (virtio-blk: Use blk_aio_ioctl) we silently lose\nthe request if blk_aio_ioctl returns NULL (not implemented).\n\nFix it by directly returning VIRTIO_BLK_S_UNSUPP as we used to do.\n\nSigned-off-by: Fam Zheng <famz@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\n\n[ kwolf: Fixed build error on win32 ]\n\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>,1,0.9996978044509888,"VIRTIO, VIRTIO_BLK",hw/block/virtio-blk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd6649101d044df446c66949cb6c1462c8989726,d32c76b3add2cb5216ae6931ef06632b802a6f68,John Snow,2015-02-23,"ahci: Migrate IDEStatus\n\nAmazingly, we weren't doing this before.\n\nMake sure we migrate the IDEState structure that belongs to\nthe AHCIDevice.IDEBus structure during migrations.\n\nNo version numbering changes because AHCI is not officially\nmigratable (and we can all see with good reason why) so we\ndo not impact any official builds by altering the stream and\nleaving it at version 1.\n\nThis fixes the rerror=stop/werror=stop test case where we wish\nto migrate a halted job. Previously, the error code would not\nmigrate, so even if the job completed successfully, AHCI would\nreport an error because it would still have the placeholder\nerror code from initialization time.\n\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: John Snow <jsnow@redhat.com>\nMessage-id: 1424708286-16483-15-git-send-email-jsnow@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9971500039100648,AHCI,"hw/ide/ahci.c, hw/ide/internal.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,886bc7a0492ff5d3b6c42157afff827b68595c34,48412371415a260d00fc7fdcdb400da55f268828,Ard Biesheuvel,2015-03-11,"hw/arm/virt: fix cmdline parsing bug with CPU options and smp > 1\n\nThe recently introduced feature that allows 32 bit guests to be\nexecuted under KVM on a 64-bit host incorrectly handles the case\nwhere more than 1 cpu is specified using '-smp N'\n\nFor instance, this invocation of qemu\n\n  qemu-system-aarch64 -M virt -cpu cortex-a57,aarch64=off -smp 2\n\nproduces the following error\n\n  qemu-system-aarch64: Expected key=value format, found aarch64\n\nwhich is caused by the destructive parsing performed by\ncpu_common_parse_features(), resulting in subsequent attempts\nto parse the CPU option string (for each additional CPU) to fail.\n\nSo duplicate the string before parsing it, and free it directly\nafterwards.\n\nSigned-off-by: Ard Biesheuvel <ard.biesheuvel@linaro.org>\nReviewed-by: Greg Bellows <greg.bellows@linaro.org>\nMessage-id: 1425402380-10488-1-git-send-email-ard.biesheuvel@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997145533561708,KVM,hw/arm/virt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,be0b608a5463a834df0e19911356ae93660d3677,d3321fc7557cbd51fd0c9c0416c81dbe3f4dc32e,Thomas Huth,2015-03-12,"s390x/config: Do not include full pci.mak\n\npci.mak includes a lot of devices - and most of them do not make\nsense on s390x, like USB controllers or audio cards. These devices\nalso show up when running ""qemu-system-s390x -device help"" and thus\ncould raise the hope for the users that they could use these kind\nof devices with qemu-system-s390x. To avoid this confusion, we\nshould not include pci.mak and rather include the bare minimum\nmanually instead.\n\nSigned-off-by: Thomas Huth <thuth@linux.vnet.ibm.com>\nAcked-by: Frank Blaschka <blaschka@linux.vnet.ibm.com>\nMessage-Id: <1426169954-6062-1-git-send-email-thuth@linux.vnet.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9976239800453186,USB,default-configs/s390x-softmmu.mak,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fcf83ab103dce6d2951f24f48e30820e7dbb3622,da3e53ddcb0ca924da97ca5a35605fc554aa3e05,Peter Maydell,2015-03-16,"target-arm: Ignore low bit of PC in M-profile exception return\n\nFor the ARM M-profile cores, exception return pops various registers\nincluding the PC from the stack. The architecture defines that if the\nlowest bit in the new PC value is set (ie the PC is not halfword\naligned) then behaviour is UNPREDICTABLE. In practice hardware\nimplementations seem to simply ignore the low bit, and some buggy\nRTOSes incorrectly rely on this. QEMU's behaviour was architecturally\npermitted, but bringing QEMU into line with the hardware behaviour\nallows more guest code to run. We log the situation as a guest error.\n\nThis was reported as LP:1428657.\n\nReported-by: Anders Esbensen <anders@lyes.dk>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9950578212738036,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b8d43285a4db12156c40ba6fdbd8002c383fcbca,fcf83ab103dce6d2951f24f48e30820e7dbb3622,Mikhail Ilyin,2015-03-16,"linux-user: Access correct register for get/set_tls syscalls on ARM TZ CPUs\n\nWhen support was added for TrustZone to ARM CPU emulation, we failed\nto correctly update the support for the linux-user implementation of\nthe get/set_tls syscalls. This meant that accesses to the TPIDRURO\nregister via the syscalls were always using the non-secure copy of\nthe register even if native MRC/MCR accesses were using the secure\nregister. This inconsistency caused most binaries to segfault on startup\nif the CPU type was explicitly set to one of the TZ-enabled ones like\ncortex-a15. (The default ""any"" CPU doesn't have TZ enabled and so is\nnot affected.)\n\nUse access_secure_reg() to determine whether we should be using\nthe secure or the nonsecure copy of TPIDRURO when emulating these\nsyscalls.\n\nSigned-off-by: Mikhail Ilyin <m.ilin@samsung.com>\nMessage-id: 1426505198-2411-1-git-send-email-m.ilin@samsung.com\n[PMM: rewrote commit message to more clearly explain the issue\n and its consequences.]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9907599687576294,ARM,"linux-user/arm/target_cpu.h, linux-user/main.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9e0f5b8108e248b78444c9a2ec41a8309825736c,18bf9e2f379334306530cbfd44218748eceaf67d,Jason Wang,2015-03-12,virtio: validate the existence of handle_output before calling it\n\nWe don't validate the existence of handle_output which may let a buggy\nguest to trigger a SIGSEV easily. E.g:\n\n1) write 10 to queue_sel to a virtio net device with only 1 queue\n2) setup an arbitrary pfn\n3) then notify queue 10\n\nFixing this by validating the existence of handle_output before.\n\nCc: qemu-stable@nongnu.org\nCc: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Jason Wang <jasowang@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Don Koch <dkoch@verizon.com>\nReviewed-by: Fam Zheng <famz@redhat.com>,1,0.9994508624076844,SEV,hw/virtio/virtio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a5f533909e746ca6e534b232fb42c9c6fd81b468,62c688693bf2f0355fc5bad5dcc59c1cd2a51f1a,Leon Alrae,2015-01-29,"target-mips: fix hflags modified in delay / forbidden slot\n\nAll instructions which may change hflags terminate tb. However, this doesn't\nwork if such an instruction is placed in delay or forbidden slot.\ngen_branch() clears MIPS_HFLAG_BMASK in ctx->hflags and then generates code\nto overwrite hflags with ctx->hflags, consequently we loose any execution-time\nhflags modifications. For example, in the following scenario hflag related to\nStatus.CU1 will not be updated:\n    /* Set Status.CU1 in delay slot */\n    mfc0  $24, $12, 0\n    lui   $25, 0x2000\n    or    $25, $25, $24\n    b     check_Status_CU1\n    mtc0  $25, $12, 0\n\nWith this change we clear MIPS_HFLAG_BMASK in execution-time hflags if\ninstruction in delay or forbidden slot wants to terminate tb for some reason\n(i.e. ctx->bstate != BS_NONE).\n\nAlso, die early and loudly if ""unknown branch"" is encountered as this should\nnever happen.\n\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.9994136095046996,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8ffd9f4dd41f0423f0df8bef8f2e25ab4bb1a3f3,c326529b74aa37adb216604bb6ca93cd49007012,Thomas Huth,2015-03-17,"hw/usb: Include USB files only if necessary\n\nBoards that do not include an USB controller should not provide\nUSB devices. However, when running ""qemu-system-s390x -device help""\nfor example, there's still a usb-hub, usb-kbd, usb-mouse and\nusb-tablet in the list of ""supported"" devices. Let's fix that\nby compiling and linking the USB files only if it is really\nnecessary.\n\nSigned-off-by: Thomas Huth <thuth@linux.vnet.ibm.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9995167255401612,USB,"default-configs/arm-softmmu.mak, default-configs/usb.mak, hw/usb/Makefile.objs",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b680c5ba54946ab205cdb5083bc0a17e3f2fb468,2034e324dabc55064553aaa07de1536ebf8ea497,Greg Kurz,2015-03-13,kvm: fix ioeventfd endianness on bi-endian architectures\n\nKVM expects host endian values. Hosts that don't use the default endianness\nneed to negate the swap performed in adjust_endianness().\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Greg Kurz <gkurz@linux.vnet.ibm.com>\nMessage-Id: <20150313212337.31142.3991.stgit@bahia.local>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.999201476573944,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,89d5cbddeeaf6bb4aa6a5ca4fbb443115abce4a2,b680c5ba54946ab205cdb5083bc0a17e3f2fb468,Alexey Kardashevskiy,2015-03-16,"profiler: Reenable built-in profiler\n\n2ed1ebcf6 ""timer: replace time() with QEMU_CLOCK_HOST"" broke compile\nwhen configured with --enable-profiler. Turned out the profiler has been\nbroken for a while.\n\nThis does s/qemu_time/tcg_time/ as the profiler only works in a TCG mode.\nThis also fixes the compile error.\n\nThis changes profile_getclock() to return nanoseconds rather than\nCPU ticks as the ""profile"" HMP command prints seconds and there is no\nplatform-independent way to get ticks-per-second rate.\nSince TCG is quite slow and get_clock() returns nanoseconds (fine\nenough), this should not affect precision much.\n\nThis removes unused qemu_time_start and tlb_flush_time.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nMessage-Id: <1426478258-29961-1-git-send-email-aik@ozlabs.ru>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9418751001358032,TCG,"cpus.c, include/qemu/timer.h, monitor.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,196d4fc56d824ccbbb58714e9ad0793053ef8260,89d5cbddeeaf6bb4aa6a5ca4fbb443115abce4a2,Bo Su,2015-03-18,"virtio-scsi-dataplane: fix memory leak in virtio_scsi_vring_init\n\nif k->set_host_notifier failed, VirtIOSCSIVring *r will leak\n\nSigned-off-by: Bo Su <subo7@huawei.com>\nMessage-Id: <1426671732-80213-1-git-send-email-subo7@huawei.com>\nReviewed-by: Fam Zheng <famz@redhat.com>\nReviewed-by: Gonglei <arei.gonglei@huawei.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996490478515624,SCSI,hw/scsi/virtio-scsi-dataplane.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,77a3c1d730a14c86f3f5692be9906b206afc3d3e,30b04f8711c5191929af4ed03a779646ced3456e,Chen Fan,2015-03-13,"aer: fix wrong check on expose aer tlp prefix log\n\nwhen specify TLP Prefix log as using pcie_aer_inject_error,\nthe TLP prefix log is always discarded. because the check\nis incorrect, the End-End TLP Prefix Supported bit\n(PCI_EXP_DEVCAP2_EETLPP) should be in Device Capabilities 2 Register.\n\nSigned-off-by: Chen Fan <chen.fan.fnst@cn.fujitsu.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997010827064514,PCI,hw/pci/pcie_aer.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b01738c23da718678469cbe85c0a4a82b19652d4,77a3c1d730a14c86f3f5692be9906b206afc3d3e,Chen Fan,2015-03-10,"pcie_aer: fix typos in pcie_aer_inject_error comment\n\nRefer to ""PCI Express Base Spec3.0"", this comments can't\nfit the description in spec, so we should fix them.\n\nSigned-off-by: Chen Fan <chen.fan.fnst@cn.fujitsu.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995655417442322,PCI,hw/pci/pcie_aer.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,310e91f7d0aaec27f55969597ccbb4e83612695e,b01738c23da718678469cbe85c0a4a82b19652d4,Chen Fan,2015-03-10,"aer: fix a wrong init PCI_ERR_COR_STATUS w1cmask type register\n\nError Status Register, so this patch fix a wrong definition\nfor PCI_ERR_COR_STATUS register with w1cmask type.\n\nSigned-off-by: Chen Fan <chen.fan.fnst@cn.fujitsu.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997114539146424,PCI,hw/pci/pcie_aer.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8a5956ad6392f115521dad774055c737c49fb0dd,549c4e49788bbb16bdac3fb5480a2177019899e2,Paolo Bonzini,2015-03-21,"rcu tests: fix compilation on 32-bit ppc\n\n32-bit PPC cannot do atomic operations on long long.  Inside the loops,\nwe are already using local counters that are summed at the end of\nthe run---with some exceptions (rcu_stress_count for rcutorture,\nn_nodes for test-rcu-list): fix them to use the same technique.\nFor test-rcu-list, remove the mostly unused member ""val"" from the\nlist.  Then, use a mutex to protect the global counts.\n\nPerformance does not matter there because every thread will only enter\nthe critical section once.\n\nRemaining uses of atomic instructions are for ints or pointers.\n\nReported-by: Andreas Faerber <afaerber@suse.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996192455291748,PPC,"tests/rcutorture.c, tests/test-rcu-list.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7976a6d23151c780474bdac106f3cf1343a2d6ca,c167e2e7eda609bbbb58650c1b82e8168106e40e,Michael S. Tsirkin,2015-03-25,"virtio-serial: fix virtio config size\n\ncommit 9b70c1790acacae54d559d38ca69186a85040bb8\n    virtio-serial: switch to standard-headers\n\nchanges virtio_console_config size from 8 to 12 bytes:\nit adds an optional 4 byte emerg_wr field.\n\nAs this crosses a power of two boundary, this changes the PCI BAR size,\nwhich breaks migration compatibility with old qemu machine types.\nIt's probably a problem for other transports as well.\n\nAs a temporary fix, as we don't yet support this new field anyway,\nsimply make the config size smaller at init time.\n\nLong terms we probably want something along the lines\nof virtio_net_set_config_size.\n\nReported-by: Cole Robinson <crobinso@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Cole Robinson <crobinso@redhat.com>",1,0.9995286464691162,PCI,hw/char/virtio-serial-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4020db0475b3e527b3bdc97dff873c2be9da2698,fe75270cb619549b2aa1ba59bd202faf306204a1,Ting Wang,2015-03-26,virtio-scsi-dataplane: fix memory leak for VirtIOSCSIVring\n\nVirtIOSCSIVring which allocated in virtio_scsi_vring_init\nshould be free when dataplane has been stopped or failed to start.\n\nSigned-off-by: Ting Wang <kathy.wangting@huawei.com>\nMessage-Id: <1427355752-25844-1-git-send-email-kathy.wangting@huawei.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996970891952516,SCSI,hw/scsi/virtio-scsi-dataplane.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,590fe5722b522e492a9c78adadae4def35b137dd,627f91b1f80fecc73d00727181a9ddb6162cc30e,Cornelia Huck,2015-03-20,virtio-ccw: fix range check for SET_VQ\n\nVIRTIO_PCI_QUEUE_MAX is already too big; a malicious guest would be\nable to trigger a write beyond the VirtQueue structure.\n\nCc: qemu-stable@nongnu.org\nReviewed-by: David Hildenbrand <dahi@linux.vnet.ibm.com>\nAcked-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>,1,0.999697208404541,"PCI, VIRTIO, VIRTIO_PCI",hw/s390x/virtio-ccw.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a59629fcc6f603e19b516dc08f75334e5c480bd0,e65bef6954415b24ee17184b959333d9456bece8,Paolo Bonzini,2015-03-31,"rcu: do not create thread in pthread_atfork callback\n\nIf QEMU forks after the CPU threads have been created, qemu_mutex_lock_iothread\nwill not be able to do qemu_cpu_kick_thread.  There is no solution other than\nassuming that forks after the CPU threads have been created will end up in an\nexec.  Forks before the CPU threads have been created (such as -daemonize)\nhave to call rcu_after_fork manually.\n\nNotably, the oxygen theme for GTK+ forks and shows a ""No such process"" error\nwithout this patch.\n\nThis patch can be reverted once the iothread loses the ""kick the TCG thread""\nmagic.\n\nUser-mode emulation does not use the iothread, so it can also call\nrcu_after_fork.\n\nReported by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nTested by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997164607048036,TCG,"include/qemu/rcu.h, linux-user/syscall.c, os-posix.c, util/rcu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,25b9fb107bc1f6735fdb3fce537792f5db95f78d,0e4b586932768107448f342ae4a314beedfa8f11,Alex Benne,2015-04-01,"target-arm: kvm64 fix save/restore of SPSR regs\n\nThe current code was negatively indexing the cpu state array and not\nsynchronizing banked spsr register state with the current mode's spsr\nstate, causing occasional failures with migration.\n\nSome munging is done to take care of the aarch64 mapping and also to\nensure the most current value of the spsr is updated to the banked\nregisters (relevant for KVM<->TCG migration).\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995900988578796,"KVM, TCG",target-arm/kvm64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9cb11fd7539b5b787d8fb3834004804a58dd16ae,420957a5982113416c5e442687de5e1ffaffeafc,Nadav Amit,2015-04-02,"target-i386: clear bsp bit when designating bsp\n\nSince the BSP bit is writable on real hardware, during reset all the CPUs which\nwere not chosen to be the BSP should have their BSP bit cleared. This fix is\nrequired for KVM to work correctly when it changes the BSP bit.\n\nAn additional fix is required for QEMU tcg to allow software to change the BSP\nbit.\n\nSigned-off-by: Nadav Amit <namit@cs.technion.ac.il>\nMessage-Id: <1427932716-11800-1-git-send-email-namit@cs.technion.ac.il>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.99961519241333,KVM,"hw/intc/apic_common.c, include/hw/i386/apic.h, target-i386/cpu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf811fff2ae20008f00455d0ab2212a4dea0b56f,c8623c0215e18eb4a8ec73eba014d97e51ed707e,Peter Maydell,2015-04-08,"tcg/tcg-op.c: Fix ld/st of 64 bit values on 32-bit bigendian hosts\n\nCommit 951c6300f7 out-of-lined the 32-bit-host versions of\ntcg_gen_{ld,st}_i64, but in the process it inadvertently changed\nan #ifdef HOST_WORDS_BIGENDIAN to #ifdef TCG_TARGET_WORDS_BIGENDIAN.\nSince the latter doesn't get defined anywhere this meant we always\ntook the ""LE host"" codepath, and stored the two halves of the value\nin the wrong order on BE hosts. This typically breaks any 64-bit\nguest on a 32-bit BE host completely, and will have possibly more\nsubtle effects even for 32-bit guests.\n\nSwitch the ifdef back to HOST_WORDS_BIGENDIAN.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nTested-by: Andreas Frber <afaerber@suse.de>\nMessage-id: 1428523029-13620-1-git-send-email-peter.maydell@linaro.org",1,0.9995892643928528,TCG,tcg/tcg-op.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cc05c43ad942165ecc6ffd39e41991bee43af044,e1a5476354d396773e4c555f126d752d4ae58fa9,Peter Maydell,2015-04-26,"memory: Define API for MemoryRegionOps to take attrs and return status\n\nDefine an API so that devices can register MemoryRegionOps whose read\nand write callback functions are passed an arbitrary pointer to some\ntransaction attributes and can return a success-or-failure status code.\nThis will allow us to model devices which:\n * behave differently for ARM Secure/NonSecure memory accesses\n * behave differently for privileged/unprivileged accesses\n * may return a transaction failure (causing a guest exception)\n   for erroneous accesses\n\nThis patch defines the new API and plumbs the attributes parameter through\nto the memory.c public level functions io_mem_read() and io_mem_write(),\nwhere it is currently dummied out.\n\nThe success/failure response indication is also propagated out to\nio_mem_read() and io_mem_write(), which retain the old-style\nboolean true-for-error return.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>",1,0.9993113279342652,ARM,"include/exec/memattrs.h, include/exec/memory.h, memory.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,24a5c62cfe3cbe3fb4722f79661b9900a2579316,a9392bc93c8615ad1983047e9f91ee3fa8aae75f,Herv Poussineau,2015-04-28,"fdc: remove sparc sun4m mutations\n\nThey were introduced in 6f7e9aec5eb5bdfa57a9e458e391b785c283a007 and\n82407d1a4035e5bfefb53ffdcb270872f813b34c and lots of bug fixes were done after that.\n\nThis fixes (at least) the detection of the floppy controller on Debian 4.0r9/SPARC,\nand SS-5's OBP initialization routine still works.\n\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nMessage-id: 1426351846-6497-1-git-send-email-hpoussin@reactos.org\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.9994081258773804,SPARC,hw/block/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2c80e996e427ae31982f3405a762859578a6261d,6cb1e49de58cab8f243b05a971a9a1f80ab3223d,Cornelia Huck,2015-04-23,"kvm: better advice for failed s390x startup\n\nIf KVM_CREATE failed on s390x, we print a hint to enable the switch_amode\nkernel parameter. This only applies to old kernels, and only if the\nerror was -EINVAL. Moreover, with new kernels, the most likely reason\nfor -EINVAL is that pgstes were not enabled.\n\nLet's update the error message to give a better hint on where things\nmay need fixing.\n\nAcked-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9997028708457948,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f50616a81b7f88a9adac16f3ea0236311a748eca,cb927b8aee7c3993a43cb829f7341071f873857b,Cornelia Huck,2015-04-29,"s390-virtio: use common features\n\nWe used to avoid enabling event_idx for virtio-blk devices via\ns390-virtio, but we now have a workaround in place for guests trying\nto use the device before setting DRIVER_OK. Therefore, let's add\nDEFINE_VIRTIO_COMMON_FEATURES to the base device so all devices get\nthose common features - and make s390-virtio use the same mechanism\nas the other transports do.\n\nAcked-by: Christian Borntraeger <borntraeger@de.ibm.com>\nReviewed-by: Shannon Zhao <shannon.zhao@linaro.org>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9995772242546082,VIRTIO,hw/s390x/s390-virtio-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cd6cb73beb63e5fa62ca8ed540b9d54063b15c44,bd4214fc92090694aefa17882815c6109f0fd70c,John Snow,2015-05-22,"ahci: do not remap clb/fis unconditionally\n\nThis continues the IOMMU fix from 2.3, where we should not attempt\nto remap the CLB or FIS RX buffers if the AHCI device is currently\nrunning.\n\nThe same applies to migration: keep our mitts off these registers\nunless the device is supposed to be on.\n\nDoes not impact backwards compatibility for the AHCI device.\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-id: 1431470173-30847-2-git-send-email-jsnow@redhat.com",1,0.9929794669151306,AHCI,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,33aa30cafcce053b833f9fe09fbb88e2f54b93aa,b771f470f3e2f99f585eaae68147f0c849fd1f8d,Gerd Hoffmann,2015-05-26,"kbd: add brazil kbd keys to x11 evdev map\n\nThis patch adds the two extra brazilian keys to the evdev keymap for\nX11.  This patch gets the two keys going with the vnc, gtk and sdl1\nUIs.\n\nThe SDL2 library complains it doesn't know these keys, so the SDL2\nlibrary must be fixed before we can update ui/sdl2-keymap.h\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Daniel P. Berrange <berrange@redhat.com>\nReviewed-by: Michael Tokarev <mjt@tls.msk.ru>",1,0.997931957244873,X11,ui/x_keymap.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3960c336ad96c2183549c8bf32bbff93ecda7ea4,d7c2e2db28eb7e8f2ed7467fa2f2c59026b206d1,Peter Maydell,2015-05-29,"target-arm: Avoid buffer overrun on UNPREDICTABLE ldrd/strd\n\nA LDRD or STRD where rd is not an even number is UNPREDICTABLE.\nWe were letting this fall through, which is OK unless rd is 15,\nin which case we would attempt to do a load_reg or store_reg\nto a nonexistent r16 for the second half of the double-word.\nCatch the odd-numbered-rd cases and UNDEF them instead.\n\nTo do this we rearrange the structure of the code a little\nso we can put the UNDEF catches at the top before we've\nallocated TCG temporaries.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1431348973-21315-1-git-send-email-peter.maydell@linaro.org",1,0.9966520667076112,TCG,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2332333c9738b442fbbd5b83a1eaa6be656ab9b5,99fbeafee8b568e796863980365080abdb8d675e,Radim Krm,2015-05-29,"pc: acpi: fix pvpanic for buggy guests\n\nIn the old times, we always had pvpanic in ACPI and a _STA method told\nthe guest not to use it.  Automatic generation dropped the _STA method\nas the specification says that missing _STA means enabled and working.\nSome guests (Linux) had buggy drivers and this change made them unable\nto utilize pvpanic.\n\nA Linux patch is posted as well, but I think it's worth to make pvpanic\nuseable on old guests at the price of three lines and few bytes of SSDT.\n\nThe old _STA method was\n  Method (_STA, 0, NotSerialized) {\n      Store (PEST, Local0)\n      If (LEqual (Local0, Zero)) {\n          Return (Zero) }\n      Else {\n          Return (0x0F) }}\n\nIgor pointed out that we don't need to use a method to return a constant\nand that 0xB (don't show in UI) is the common definition now.\n\nAlso, the device used to be PEVT.  (PEVT as in ""panic event""?)\n\nSigned-off-by: Radim Krm <rkrcmar@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999391794204712,ACPI,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf34f533a161f8ced7322321d70ca00414d47473,13644819c5bf322ae4c2a415aca77d5dbde95fe8,Cornelia Huck,2015-05-29,"virtio: move VIRTIO_F_NOTIFY_ON_EMPTY into core\n\nNearly all transports have been offering VIRTIO_F_NOTIFY_ON_EMPTY,\ns390-virtio being the exception. There's no reason why it shouldn't\noffer it as well, though (handling is done in core anyway), so let's\nmove it to the common virtio features.\n\nWhile we're changing it anyway, fix the indentation for the\nDEFINE_VIRTIO_COMMON_FEATURES macro.\n\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9980102181434632,VIRTIO,"hw/s390x/virtio-ccw.c, hw/virtio/virtio-mmio.c, hw/virtio/virtio-pci.c, include/hw/virtio/virtio.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9e472263b07d53cb3401ee49ef1b45ef195ddb84,830d70db692e374b55555f4407f96a1ceefdcc97,Michael S. Tsirkin,2015-06-01,"acpi: add missing ssdt\n\ncommit 5cb18b3d7bff2a83275ee98af2a14eb9e21c93ab\n    TPM2 ACPI table support\n\nwas missing a file, so build with iasl fails\n(build without iasl works since it uses the generated\n hex files).\n\nReported-by: ""Daniel P. Berrange"" <berrange@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9944328665733336,"ACPI, TPM",hw/i386/ssdt-tpm-common.dsl,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5c83b2f5b4b956e91dd6e5711f14df7ab800aefb,3fc827d591679f3e262b9d1f8b34528eabfca8c0,Jan Beulich,2015-06-02,"xen: properly gate host writes of modified PCI CFG contents\n\nThe old logic didn't work as intended when an access spanned multiple\nfields (for example a 32-bit access to the location of the MSI Message\nData field with the high 16 bits not being covered by any known field).\nRemove it and derive which fields not to write to from the accessed\nfields' emulation masks: When they're all ones, there's no point in\ndoing any host write.\n\nThis fixes a secondary issue at once: We obviously shouldn't make any\nhost write attempt when already the host read failed.\n\nThis is XSA-128.\n\nSigned-off-by: Jan Beulich <jbeulich@suse.com>\nReviewed-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>",1,0.9986966252326964,PCI,"hw/xen/xen_pt.c, hw/xen/xen_pt.h, hw/xen/xen_pt_config_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,458cf469f4a1cb520b07092f5537c5a6d2389d23,0e3bd56294230ad0ee20fce587879c29a83a0d8b,Eduardo Habkost,2015-05-29,target-i386: Fix signedness of MSR_IA32_APICBASE_BASE\n\nExisting definition triggers the following when using clang\n-fsanitize=undefined:\n\n    hw/intc/apic_common.c:314:55: runtime error: left shift of 1048575 by 12\n        places cannot be represented in type 'int'\n\nFix it so we won't try to shift a 1 to the sign bit of a signed integer.\n\nSuggested-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>,1,0.9996626377105712,APIC,target-i386/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb3d37a93cc59da400d27361fcda024d49210abd,b821cbe274c5a5cacf1a7b28360d869ae1e6e0c3,Michael S. Tsirkin,2015-06-01,"acpi: add missing ssdt\n\ncommit 5cb18b3d7bff2a83275ee98af2a14eb9e21c93ab\n    TPM2 ACPI table support\n\nwas missing a file, so build with iasl fails\n(build without iasl works since it uses the generated\n hex files).\n\nReported-by: ""Daniel P. Berrange"" <berrange@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9944328665733336,"ACPI, TPM",hw/i386/ssdt-tpm-common.dsl,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,557772f26b361ade84acecb366fe6fdd2d55a6d9,cb3d37a93cc59da400d27361fcda024d49210abd,Marcel Apfelbaum,2015-06-01,"hw/q35: fix floppy controller definition in ich9\n\nIn DSDT FDC0 declares the IO region as IO(Decode16, 0x03F2, 0x03F2, 0x00, 0x04).\nUse the same in lpc_ich9 initialization code.\nNow the floppy drive is detected correctly on Windows.\n\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995786547660828,FDC,hw/isa/lpc_ich9.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,977ad992f14b29a7d4f18eaba42a705004545a64,6652d0811c9463fbfb2d2d1cb2ec03f388145c5f,Juan Quintela,2015-06-02,TPM: fix build with tpm disabled\n\nFailure was included on commit\n\nSigned-off-by: Juan Quintela <quintela@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9996781349182128,TPM,include/sysemu/tpm.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f6dd8e1d514b8c24689499ed72ea89fd0d967f3,0e79e51a7dcbd4fde5738d713b60f0fb0321f1af,Marcel Apfelbaum,2015-06-02,"apci: fix PXB behaviour if used with unsupported BIOS\n\nPXB does not work with unsupported bioses, but should\nnot interfere with normal OS operation.\nWe don't ship them anymore, but it's reasonable\nto keep the work-around until we update the bios in qemu.\n\nFix this by not adding PXB mem/IO chunks to _CRS\nif they weren't configured by BIOS.\n\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nAcked-by: Laszlo Ersek <lersek@redhat.com>",1,0.9995858073234558,PXB,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,46c5874e9cd752ed8ded31af03472edd8fc3efc1,d9d96a3cc7267880fbccb6bc4018fc31909fc930,Alexey Kardashevskiy,2015-05-07,spapr_pci: Make find_phb()/find_dev() public\n\nThis makes find_phb()/find_dev() public and changed its names\nto spapr_pci_find_phb()/spapr_pci_find_dev() as they are going to\nbe used from other parts of QEMU such as VFIO DDW (dynamic DMA window)\nor VFIO PCI error injection or VFIO EEH handling - in all these\ncases there are RTAS calls which are addressed to BUID+config_addr\nin IEEE1275 format.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>,1,0.708268940448761,"PCI, VFIO","hw/ppc/spapr_pci.c, include/hw/pci-host/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9157eee1b1c076ff3316361b760e891dda13e9bf,00967f4e0bab246679d0ddc32fd31a7179345baf,Miroslav Rezanina,2015-05-13,"Move parallel_hds_isa_init to hw/isa/isa-bus.c\n\nDisabling CONFIG_PARALLEL cause removing parallel_hds_isa_init defined in\nparallel.c. This function is called during initialization of some boards so\ndisabling CONFIG_PARALLEL cause build failure.\n\nThis patch moves parallel_hds_isa_init to hw/isa/isa-bus.c so it is included\nin case of disabled CONFIG_PARALLEL. Build is successful but qemu will abort\nwith ""Unknown device"" error when function is called.\n\nSigned-off-by: Miroslav Rezanina <mrezanin@redhat.com>\nMessage-Id: <1431509970-32154-1-git-send-email-mrezanin@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9907399415969848,PARALLEL,"hw/char/parallel.c, hw/isa/isa-bus.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dae02ba55a66cb3194a2410c7725734e5bc6166f,9157eee1b1c076ff3316361b760e891dda13e9bf,Laurent Vivier,2015-05-18,"ppc: add helpful message when KVM fails to start VCPU\n\nOn POWER8 systems, KVM checks if VCPU is running on primary threads,\nand that secondary threads are offline. If this is not the case,\nioctl() fails with errno set to EBUSY.\n\nQEMU aborts with a non explicit error message:\n$ ./qemu-system-ppc64 --nographic -machine pseries,accel=kvm\nerror: kvm run failed Device or resource busy\n\nTo help user to diagnose the problem, this patch adds an informative\nerror message.\n\nThere is no easy way to check if SMT is enabled before starting the VCPU,\nand as this case is the only one setting errno to EBUSY, we just check\nthe errno value to display a message.\n\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nMessage-Id: <1431976007-20503-1-git-send-email-lvivier@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996836185455322,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6f6a5ef3e429f92f987678ea8c396aab4dc6aa19,ea8cb1a8d98f5e3822a23a7cecdb4add0f29178b,Paolo Bonzini,2015-03-23,"memory: include DIRTY_MEMORY_MIGRATION in the dirty log mask\n\nThe separate handling of DIRTY_MEMORY_MIGRATION, which does not\ncall log_start/log_stop callbacks when it changes in a region's\ndirty logging mask, has caused several bugs.\n\nOne recent example is commit 4cc856f (kvm-all: Sync dirty-bitmap from\nkvm before kvm destroy the corresponding dirty_bitmap, 2015-04-02).\nAnother performance problem is that KVM keeps tracking dirty pages\nafter a failed live migration, which causes bad performance due to\ndisallowing huge page mapping.\n\nThis patch removes the root cause of the problem by reporting\nDIRTY_MEMORY_MIGRATION changes via log_start and log_stop.\nNote that we now have to rebuild the FlatView when global dirty\nlogging is enabled or disabled; this ensures that log_start and\nlog_stop callbacks are invoked.\n\nThis will also be used to make the setting of bitmaps conditional.\nIn general, this patch lets users of the memory API ignore the\nglobal state of dirty logging if they handle dirty logging\ngenerically per region.\n\nReviewed-by: Fam Zheng <famz@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996391534805298,KVM,memory.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1bfbac4ee16e2ea95d087e0926727d9a113b483e,6f6a5ef3e429f92f987678ea8c396aab4dc6aa19,Paolo Bonzini,2015-03-23,"kvm: remove special handling of DIRTY_MEMORY_MIGRATION in the dirty log mask\n\nOne recent example is commit 4cc856f (kvm-all: Sync dirty-bitmap from\nkvm before kvm destroy the corresponding dirty_bitmap, 2015-04-02).\nAnother performance problem is that KVM keeps tracking dirty pages\nafter a failed live migration, which causes bad performance due to\ndisallowing huge page mapping.\n\nThanks to the previous patch, KVM can now stop hooking into\nlog_global_start/stop.  This simplifies the KVM code noticeably.\n\nReported-by: Wanpeng Li <wanpeng.li@linux.intel.com>\nReported-by: Xiao Guangrong <guangrong.xiao@linux.intel.com>\nReviewed-by: Fam Zheng <famz@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9988251328468324,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,49dfcec40349245ad365964468b67e132c3cedc7,1bfbac4ee16e2ea95d087e0926727d9a113b483e,Paolo Bonzini,2015-03-23,"ram_addr: tweaks to xen_modified_memory\n\nInvoke xen_modified_memory from cpu_physical_memory_set_dirty_range_nocode;\nit is akin to DIRTY_MEMORY_MIGRATION, so set it together with that bitmap.\nThe remaining call from invalidate_and_set_dirty's ""else"" branch will go\naway soon.\n\nSecond, fix the second argument to the function in the\ncpu_physical_memory_set_dirty_lebitmap call site.  That function is only used\nby KVM, but it is better to be clean anyway.\n\nAcked-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nReviewed-by: Fam Zheng <famz@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999122679233551,KVM,"exec.c, include/exec/ram_addr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7e1df267a7e8b39fc0cf1d84d2afc2e88ccbfeac,59c4b7e8dfab0cdc41434fedbf2686222f541e57,Aurelien Jarno,2015-06-04,"tcg: fix register allocation with two aliased dead inputs\n\nFor TCG ops with two outputs registers (add2, sub2, div2, div2u), when\nthe same input temp is used for the two inputs aliased to the two\noutputs, and when these inputs are both dead, the register allocation\ncode wrongly assigned the same register to the same output.\n\nThis happens for example with sub2 t1, t2, t3, t3, t4, t5, when t3 is\nnot used anymore after the TCG op.  In that case the same register is\nused for t1, t2 and t3.\n\nThe fix is to look for already allocated aliased input when allocating\na dead aliased input and check that the register is not already\nused.\n\nCc: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nMessage-Id: <1433447228-29425-2-git-send-email-aurelien@aurel32.net>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9996998310089112,TCG,tcg/tcg.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c19f47bf5e8fe3dbd10206a52d0e6e348f803933,7e1df267a7e8b39fc0cf1d84d2afc2e88ccbfeac,Aurelien Jarno,2015-06-04,"tcg: fix dead computation for repeated input arguments\n\nWhen the same temp is used twice or more as an input argument to a TCG\ninstruction, the dead computation code doesn't recognize the second use\nas a dead temp. This is because the temp is marked as live in the same\nloop where dead inputs are checked.\n\nThe fix is to split the loop in two parts. This avoid emitting a move\nand using a register for the movcond instruction when used as ""move if\ntrue"" on x86-64. This might bring more improvements on RISC TCG targets\nwhich don't have outputs aliased to inputs.\n\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nMessage-Id: <1433447228-29425-3-git-send-email-aurelien@aurel32.net>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9996439218521118,TCG,tcg/tcg.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5efed5a172881f601ac3c57c22ec5c5721f895be,81b2b81062612ebeac4cd5333a3b15c7d79a5a3d,Gabriel L. Somlo,2015-05-18,"bios-tables-test: handle false-positive smbios signature matches\n\nIt has been reported that sometimes the .rodata section of SeaBIOS,\ncontaining the constant string against which the SMBIOS signature\nends up being compared, also falls within the guest f-segment. In\nthat case, the test obviously fails, unless we continue searching\nfor the *real* SMBIOS entry point.\n\nRather than stopping at the first match for the SMBIOS signature\n(""_SM_"") in the f-segment (0xF0000-0xFFFFF), continue scanning\nuntil either a valid entry point table is found, or the f-segment\nhas been exhausted.\n\nReported-by: Bruce Rogers <brogers@suse.com>\nSigned-off-by: Gabriel Somlo <somlo@cmu.edu>\nTested-by: Bruce Rogers <brogers@suse.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996732473373412,SMBIOS,tests/bios-tables-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7c979afd11b09a16634699dd6344e3ba10c9677e,eab9944c7801525737626fa45cddaf00932dd2c8,Leon Alrae,2015-04-21,"target-mips: add Config5.FRE support allowing Status.FR=0 emulation\n\nThis relatively small architectural feature adds the following:\n\nFIR.FREP: Read-only. If FREP=1, then Config5.FRE and Config5.UFE are\n          available.\n\nConfig5.FRE: When enabled all single-precision FP arithmetic instructions,\n             LWC1/LWXC1/MTC1, SWC1/SWXC1/MFC1 cause a Reserved Instructions\n             exception.\n\nConfig5.UFE: Allows user to write/read Config5.FRE using CTC1/CFC1\n             instructions.\n\nEnable the feature in MIPS64R6-generic CPU.\n\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.7244775891304016,"MIPS, MIPS64","target-mips/cpu.h, target-mips/op_helper.c, target-mips/translate.c, target-mips/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd8f1ebce430eb6c1dd92e34baf7bc35aa600464,409b52bfe199d8106dadf7c5ff3d88d2228e89b5,Herv Poussineau,2015-06-03,"net/dp8393x: fix hardware reset\n\nDocumentation is not clear of what happens when doing a hardware reset,\nbut firmware expect all registers to be zero unless specified otherwise.\n\nThis fixes reboot on MIPS Magnum.\n\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.9996023774147034,MIPS,hw/net/dp8393x.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4ebc736e9938a7e88ecc785734b17145bf802a56,c96d9286a6d70452e5fa4f1e3f840715e325be95,Laszlo Ersek,2015-06-11,"i386/acpi-build: fix PXB workarounds for unsupported BIOSes\n\nThe patch\n\n  apci: fix PXB behaviour if used with unsupported BIOS\n\nuses the following condition to see if a ""PXB mem/IO chunk"" has *not* been\nconfigured by the BIOS:\n\n  (!range_base || range_base > range_limit)\n\nWhen this condition evaluates to true, said patch *omits* the\ncorresponding entry from the _CRS.\n\nLater on the patch checks for the opposite condition (with the intent of\n*adding* entries to the _CRS if the ""PXB mem/IO chunks"" *have* been\nconfigured). Unfortunately, the condition was negated incorrectly: only\nthe first ! operator was removed, which led to the nonsensical expression\n\n  (range_base || range_base > range_limit)\n\nleading to bogus entries in the _CRS, and causing BSOD in Windows Server\n2012 R2 when it runs on OVMF.\n\nThe correct negative of the condition seen at the top is\n\n  (range_base && range_base <= range_limit)\n\nFix the expressions.\n\nCc: Marcel Apfelbaum <marcel@redhat.com>\nCc: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996745586395264,PXB,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,13b72b2b9aa7ab7ee129e38e9587acd6a1b9a932,8772de2c53b44c75f18140646aa928e6d77cb9d8,Sergey Fedorov,2015-06-15,"target-arm: Fix REVIDR reset value\n\nAccording to ARM Cortex-A53/A57 TRM, REVIDR reset value should be zero. So let\nREVIDR reset value be specified by CPU model and correct it for Cortex-A53/A57.\n\nSigned-off-by: Sergey Fedorov <serge.fdrv@gmail.com>\nMessage-id: 1433321048-23793-2-git-send-email-serge.fdrv@gmail.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9923277497291564,ARM,"target-arm/cpu-qom.h, target-arm/cpu64.c, target-arm/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,06e3c077daa08c0a616e9507eb737401883ab645,a499973ff32bc58f2db7b88ad5597ffdbc2becd7,Aurelien Jarno,2015-06-15,"target-s390x: fix setcc in TCG mode\n\nIn TCG mode we should store the CC value in env->cc_op. However do it\ninconditionnaly because:\n- the tcg_enabled function is not inlined\n- it's probably faster to always store the value, especially given it\n  is likely in the same cache line than env->psw.mask.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997135996818542,TCG,target-s390x/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8d302e76755b8157373073d7107e31b0b13f80c1,f0e0d817c22539cd2ce1bcb5487e076f117b04c0,Aurelien Jarno,2015-06-13,"translate-all: fix watchpoints if retranslation not possible\n\nThe tb_check_watchpoint function currently assumes that all memory\naccess is done either directly through the TCG code or through an\nhelper which knows its return address. This is obviously wrong as the\nhelpers use cpu_ldxx/stxx_data functions to access the memory.\n\nInstead of aborting in that case, don't try to retranslate the code, but\nassume that the CPU state (and especially the program counter) has been\nsaved before calling the helper. Then invalidate the TB based on this\naddress.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996644258499146,TCG,translate-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,83bb161299c019e25a3add59504f0b69e6257dcd,2f54394997bfc808bbfbebb2d8294edd17d63808,Aurelien Jarno,2015-06-13,"target-s390x: PER instruction-fetch nullification event support\n\nFor the instruction-fetch nullification event, we just reuse the\nexisting instruction-fetch code and trigger the exception immediately\nin that case.\n\nThere is no need to save the CPU state in the TCG code as it has been\nsaved by the previous instruction before calling the per_check_exception\nhelper.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9992687106132508,TCG,target-s390x/misc_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e4a511f8cc6f4a46d409fb5c9f72c38ba45f8d83,965eb2fcdfe919ecced6c34803535ad32dc1249c,Paolo Bonzini,2015-06-17,"exec: clamp accesses against the MemoryRegionSection\n\nBecause the clamping was done against the MemoryRegion,\naddress_space_rw was effectively broken if a write spanned\nmultiple sections that are not linear in underlying memory\n(with the memory not being under an IOMMU).\n\nThis is visible with the MIPS rc4030 IOMMU, which is implemented\nas a series of alias memory regions that point to the actual RAM.\n\nTested-by: Herv Poussineau <hpoussin@reactos.org>\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.973650336265564,MIPS,exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1b6bc94d5d43ff3e39abadae19f2dbcb0954eb93,b192af8acc597a6e8068873434e56e0c7de1b7d3,Dimitris Aragiorgis,2015-06-23,"Fix migration in case of scsi-generic\n\nDuring migration, QEMU uses fsync()/fdatasync() on the open file\ndescriptor for read-write block devices to flush data just before\nstopping the VM.\n\nHowever, fsync() on a scsi-generic device returns -EINVAL which\ncauses the migration to fail. This patch skips flushing data in case\nof an SG device, since submitting SCSI commands directly via an SG\ncharacter device (e.g. /dev/sg0) bypasses the page cache completely,\nanyway.\n\nNote that fsync() not only flushes the page cache but also the disk\ncache. The scsi-generic device never sends flushes, and for\nmigration it assumes that the same SCSI device is used by the\ndestination host, so it does not issue any SCSI SYNCHRONIZE CACHE\n(10) command.\n\nFinally, remove the bdrv_is_sg() test from iscsi_co_flush() since\nthis is now redundant (we flush the underlying protocol at the end\nof bdrv_co_flush() which, with this patch, we never reach).\n\nSigned-off-by: Dimitris Aragiorgis <dimara@arrikto.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-id: 1435056300-14924-3-git-send-email-dimara@arrikto.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9996793270111084,SCSI,"block/io.c, block/iscsi.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7c59364d0329d36a7759033962a469ca714f884d,4aab6282f8e1f7652b0470b078a08ab5678fb929,Dr. David Alan Gilbert,2015-06-03,Print error when failing to load PCI config data\n\nWhen loading migration fails due to a disagreement about\nPCI config data we don't currently get any errors explaining\nthat was the cause of the problem or which byte in the config\ndata was at fault.\n\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>,1,0.9997261166572572,PCI,hw/pci/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d6ca4277eee98b3c561e21ac105199891d346d79,9f6f7ca1490563d98003149e6de32caf25c670da,Matthew Fortune,2015-06-19,"hw/mips: Do not clear BEV for MIPS malta kernel load\n\nThe BEV flag controls whether the boot exception vector is still\nin place when starting a kernel.  When cleared the exception vector\nat EBASE (or hard coded address of 0x80000000) is used instead.\n\nThe early stages of the linux kernel would benefit from BEV still\nbeing set to ensure any faults get handled by the boot rom exception\nhandlers.  This is a moot point for system qemu as there aren't really\nany BEV handlers, but there are other good reasons to change this...\n\nThe UHI (semi-hosting interface) defines special behaviours depending\non whether an application starts in an environment with BEV set or\ncleared. When BEV is set then UHI assumes that a bootloader is\nrelatively dumb and has no advanced exception handling logic.\nHowever, when BEV is cleared then UHI assumes that the bootloader\nhas the ability to handle UHI exceptions with its exception handlers\nand will unwind and forward UHI SYSCALL exceptions to the exception\nvector that was installed prior to running the application.\n\nSigned-off-by: Matthew Fortune <matthew.fortune@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.9996781349182128,MIPS,hw/mips/mips_malta.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1bf5902de03732d4067c4e90171a1741d6542c45,2c44b19c199f4ce2f1721120744d3d6e5d01d274,Yongbok Kim,2015-06-25,"target-mips: fix {RD, WR}PGPR in microMIPS\n\nrt, rs were swapped\n\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.9984039664268494,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4e2c0b2a4ab810c8989e181a010e75aeaa1c55f3,62f7dbde4c75e48921fd1b773865250130c57bd8,Peter Maydell,2015-06-26,"hw/arm/virt: Make block devices default to virtio\n\nNow we have virtio-pci, we can make the virt board's default block\ndevice type be IF_VIRTIO. This allows users to use simplified\ncommand lines that don't have to explicitly create virtio-pci-blk\ndevices; the -hda &c very short options now also work.\n\nThis means we also need to set no_cdrom to avoid getting a\ndefault cdrom device -- this is needed because the virtio-blk\ndevice will fail if it is connected to a block backend with\nno media, which is what the default cdrom device typically is.\nProviding a cdrom with media via -cdrom will succeed, but silently\ncreate a device with non-removable medium. this is probably\nnot really what the user wants, but is the best we can do now.\n\nNote that this change means that some command lines which used\nto work (by accident) will stop working. Where a drive was connected\nmanually to a device but without 'if=none' being specified, we\nused to treat this as an IDE drive, which we would then not autoplug\nbecause the board doesn't support IDE. Now we will treat it as a\nvirtio disk and autoplug it, which means the attempt to use the\ndrive manually will fail:\n  qemu-system-arm: -drive file=img.qcow2,id=foo: Drive 'foo' is already\n  in use because it has been automatically connected to another device\n  (did you need 'if=none' in the drive options?)\nThe command line will have to be changed to include 'if=none', as the\nerror message suggests.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-id: 1435068107-12594-4-git-send-email-peter.maydell@linaro.org",1,0.9570789933204652,VIRTIO,hw/arm/virt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bdf026317daa3b9dfa281f29e96fbb6fd48394c8,41da4bd6420afd1209c408974920f63ff9c658e1,,2015-07-01,"Fix irq route entries exceeding KVM_MAX_IRQ_ROUTES\n\nLast month, we experienced several guests crash(6cores-8cores), qemu logs\ndisplay the following messages:\n\nqemu-system-x86_64: /build/qemu-2.1.2/kvm-all.c:976:\nkvm_irqchip_commit_routes: Assertion `ret == 0' failed.\n\nAfter analysis and verification, we can confirm it's irq-balance\ndaemon(in guest) leads to the assertion failure. Start a 8 core guest with\ntwo disks, execute the following scripts will reproduce the BUG quickly:\n\nirq_affinity.sh\n========================================================================\n\nvda_irq_num=25\nvdb_irq_num=27\nwhile [ 1 ]\ndo\n    for irq in {1,2,4,8,10,20,40,80}\n        do\n            echo $irq > /proc/irq/$vda_irq_num/smp_affinity\n            echo $irq > /proc/irq/$vdb_irq_num/smp_affinity\n            dd if=/dev/vda of=/dev/zero bs=4K count=100 iflag=direct\n            dd if=/dev/vdb of=/dev/zero bs=4K count=100 iflag=direct\n        done\ndone\n========================================================================\n\nQEMU setup static irq route entries in kvm_pc_setup_irq_routing(), PIC and\nIOAPIC share the first 15 GSI numbers, take up 23 GSI numbers, but take up\n38 irq route entries. When change irq smp_affinity in guest, a dynamic route\nentry may be setup, the current logic is: if allocate GSI number succeeds,\na new route entry can be added. The available dynamic GSI numbers is\n1021(KVM_MAX_IRQ_ROUTES-23), but available irq route entries is only\n986(KVM_MAX_IRQ_ROUTES-38), GSI numbers greater than route entries.\nirq-balance's behavior will eventually leads to total irq route entries\nexceed KVM_MAX_IRQ_ROUTES, ioctl(KVM_SET_GSI_ROUTING) fail and\nkvm_irqchip_commit_routes() trigger assertion failure.\n\nThis patch fix the BUG.\n\nSigned-off-by: Wenshuang Ma <kevinnma@tencent.com>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997208714485168,"APIC, IOAPIC, KVM",kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2e7f7a3c86f884a77296a137b7c730a4d580c5c9,bdf026317daa3b9dfa281f29e96fbb6fd48394c8,Paolo Bonzini,2015-06-18,"main-loop: use qemu_mutex_lock_iothread consistently\n\nThe next patch will require the BQL to be always taken with\nqemu_mutex_lock_iothread(), while right now this isn't the case.\n\nOutside TCG mode this is not a problem.  In TCG mode, we need to be\ncareful and avoid the ""prod out of compiled code"" step if already\nin a VCPU thread.  This is easily done with a check on current_cpu,\ni.e. qemu_in_vcpu_thread().\n\nHopefully, multithreaded TCG will get rid of the whole logic to kick\nVCPUs whenever an I/O event occurs!\n\nCc: Frederic Konrad <fred.konrad@greensocs.com>\nMessage-Id: <1434646046-27150-2-git-send-email-pbonzini@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999213457107544,TCG,cpus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,afbe70535ff1a8a7a32910cc15ebecc0ba92e7da,2e7f7a3c86f884a77296a137b7c730a4d580c5c9,Paolo Bonzini,2015-06-18,"main-loop: introduce qemu_mutex_iothread_locked\n\nThis function will be used to avoid recursive locking of the iothread lock\nwhenever address_space_rw/ld*/st* are called with the BQL held, which is\nalmost always the case.\n\nTracking whether the iothread is owned is very cheap (just use a TLS\nvariable) but requires some care because now the lock must always be\ntaken with qemu_mutex_lock_iothread().  Previously this wasn't the case.\nOutside TCG mode this is not a problem.  In TCG mode, we need to be\ncareful and avoid the ""prod out of compiled code"" step if already\nin a VCPU thread.  This is easily done with a check on current_cpu,\ni.e. qemu_in_vcpu_thread().\n\nHopefully, multithreaded TCG will get rid of the whole logic to kick\nVCPUs whenever an I/O event occurs!\n\nCc: Frederic Konrad <fred.konrad@greensocs.com>\nMessage-Id: <1434646046-27150-3-git-send-email-pbonzini@redhat.com>\nReviewed-by: Fam Zheng <famz@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9980545043945312,TCG,"cpus.c, include/qemu/main-loop.h, stubs/iothread-lock.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7c649ac5b607e2339fb54fc0fc01311ba5eacadd,8146d7dc2756138bd4011e8d882ead929f25f2d0,John Snow,2015-07-04,"ahci: fix sdb fis semantics\n\nThere are two things to fix here:\n\nThe first one is subtle: the PxSACT register in the AHCI HBA has different\nsemantics from the field it is shadowing, the ACT field in the\nSet Device Bits FIS.\n\nIn the HBA register, PxSACT acts as a bitfield indicating outstanding\nNCQ commands where a set bit indicates a pending NCQ operation. The FIS\nfield however operates as an RWC register update to PxSACT, where a set\nbit indicates a *successfully* completed command.\n\nCorrect the FIS semantics. At the same time, move the ""clear finished""\naction to the SDB FIS generation instead of the register read to mimick\nhow the other shadow registers work, which always just report the last\nreported value from a FIS, and not the most current values which may\nnot have been reported by a FIS yet.\n\nLastly and more simply, SATA 3.2 section 13.6.4.2 (and later sections)\nall specify that the Interrupt bit for the SDB FIS should always be set\nto one for NCQ commands. That's currently the only time we generate this\nFIS, so set it on all the time.\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-id: 1435767578-32743-16-git-send-email-jsnow@redhat.com",1,0.9994574189186096,AHCI,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,879904e8635b316de18393222f02d46d2d1f7f4e,715ca691daca081108b33306faa6fa102f0df8d8,Eric Auger,2015-07-06,kvm: some fixes to kvm_resamplefds_allowed\n\nCommit f41389ae3c54b introduced kvm_resamplefds_enabled() and\nassociated kvm_resamplefds_allowed boolean. This patch adds\nnon-KVM version for kvm_resamplefds_enabled and also declares\nkvm_resamplefds_allowed in kvm-stub as it is done for fellow\nkvm_irqfds_allowed.\n\nSigned-off-by: Eric Auger <eric.auger@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>,1,0.9996510744094848,KVM,"include/sysemu/kvm.h, kvm-stub.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,43302969966bc3a95470bfc300289a83068ef5d9,f8d8a944009b7e836c718a05590ea6b36146978f,Gabriel Laupre,2015-07-06,"vfio/pci : Add pba_offset PCI quirk for Chelsio T5 devices\n\nFix pba_offset initialization value for Chelsio T5 Virtual Function\ndevice. The T5 hardware has a bug in it where it reports a Pending Interrupt\nBit Array Offset of 0x8000 for its SR-IOV Virtual Functions instead\nof the 0x1000 that the hardware actually uses internally. As the hardware\ndoesn't return the correct pba_offset value, add a quirk to instead\nreturn a hardcoded value of 0x1000 when a Chelsio T5 VF device is\ndetected.\n\nThis bug has been fixed in the Chelsio's next chip series T6 but there are\nno plans to respin the T5 ASIC for this bug. It is just documented in the\nT5 Errata and left it at that.\n\nSigned-off-by: Gabriel Laupre <glaupre@chelsio.com>\nReviewed-by: Bandan Das <bsd@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9996833801269532,PCI,"hw/vfio/pci.c, include/hw/pci/pci_ids.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2d103aae876518a91636ad6f4a4d866269c0d953,5c464f66f5696724c892339de242fac41f4d57a6,Michael Roth,2015-07-02,"target-ppc: fix hugepage support when using memory-backend-file\n\nCurrent PPC code relies on -mem-path being used in order for\nhugepage support to be detected. With the introduction of\nMemoryBackendFile we can now handle this via:\n  -object memory-file-backend,mem-path=...,id=hugemem0 \\n  -numa node,id=mem0,memdev=hugemem0\n\nManagement tools like libvirt treat the 2 approaches as\ninterchangeable in some cases, which can lead to user-visible\nregressions even for previously supported guest configurations.\n\nFix these by also iterating through any configured memory\nbackends that may be backed by hugepages.\n\nSince the old code assumed hugepages always backed the entirety\nof guest memory, play it safe an pick the minimum across the\nmax pages sizes for all backends, even ones that aren't backed\nby hugepages.\n\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997052550315856,PPC,target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7cb180079e245024cf92ca218ca58858b679a7d6,e275934d2dd44e38e0c6d53f9c22383d2ba57c17,Gavin Shan,2015-07-02,"sPAPR: Don't enable EEH on emulated PCI devices\n\nThere might have emulated PCI devices, together with VFIO PCI\ndevices under one PHB. The EEH capability shouldn't enabled\non emulated PCI devices.\n\nThe patch returns error when enabling EEH capability on emulated\nPCI devices by RTAS call ""ibm,set-eeh-option"".\n\nSigned-off-by: Gavin Shan <gwshan@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9807416796684264,"PCI, VFIO",hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6319b1dad04e66f450fb3ac6c31d2bf3940068b8,aef87d1b879416909a4ac73e6fe2cea4a5630f40,Gavin Shan,2015-07-02,"sPAPR: Clear stale MSIx table during EEH reset\n\nThe PCI device MSIx table is cleaned out in hardware after EEH PE\nreset. However, we still hold the stale MSIx entries in QEMU, which\nshould be cleared accordingly. Otherwise, we will run into another\n(recursive) EEH error and the PCI devices contained in the PE have\nto be offlined exceptionally.\n\nThe patch introduces function spapr_phb_vfio_eeh_pre_reset(), which\nis called by sPAPR when asserting hot or fundamental reset, to clear\nstale MSIx table for VFIO PCI devices before EEH PE reset so that\nMSIx table could be restored properly after EEH PE reset.\n\nSigned-off-by: Gavin Shan <gwshan@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.99930739402771,"PCI, VFIO",hw/ppc/spapr_pci_vfio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a8f13961fdcff3a5969b9884368e875aa068f1c9,acf7b7fdf31fa76b53803790917c8acf23a2badb,James Hogan,2015-07-09,"tcg/mips: Fix build error from merged memop+mmu_idx parameter\n\nCommit 3972ef6f830d (""tcg: Push merged memop+mmu_idx parameter to\nsoftmmu routines"") caused the following build errors when building TCG\nfor MIPS:\n\nIn file included from tcg/tcg.c:258:0:\ntcg/mips/tcg-target.c In function tcg_out_qemu_ld_slow_path:\ntcg/mips/tcg-target.c:1015:22: error: lb undeclared (first use in this function)\ntcg/mips/tcg-target.c In function tcg_out_qemu_st_slow_path:\ntcg/mips/tcg-target.c:1058:22: error: lb undeclared (first use in this function)\n\nIt looks like lb was meant to refer to the TCGLabelQemuLdst *l\nparameter, so fix both references to lb to refer to just l.\n\nFixes: 3972ef6f830d (""tcg: Push merged memop+mmu_idx parameter to softmmu routines"")\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nMessage-id: 1436433435-24898-2-git-send-email-james.hogan@imgtec.com\nCc: Aurelien Jarno <aurelien@aurel32.net>\nCc: Leon Alrae <leon.alrae@imgtec.com>\nCc: Richard Henderson <rth@twiddle.net>\nCc: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9994662404060364,"MIPS, TCG",tcg/mips/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4421c6a38a37d558b8e6f82d2d54aee30350f57f,06c4670ff6d4acdc5a24e3d25748ee4a489d5869,Eduardo Habkost,2015-06-23,"pc: fix reuse of pc-i440fx-2.4 in pc-i440fx-2.3\n\ncommit fddd179ab962f6f78a8493742e1068d6a620e059,\n    ""pc: Convert *_MACHINE_OPTIONS macros into functions""\nbroke the chaining of *_machine_options() functions on\npc-i440fx-2.3, at:\n\n  -#define PC_I440FX_2_3_MACHINE_OPTIONS \\n  -    PC_I440FX_2_4_MACHINE_OPTIONS, \\n  -    .alias = NULL, \\n  -    .is_default = 0\n  +static void pc_i440fx_2_3_machine_options(QEMUMachine *m)\n  +{\n  +    pc_i440fx_machine_options(m);\n  +    m->alias = NULL;\n  +    m->is_default = 0;\n  +}\n\nI have replaced PC_I440FX_2_4_MACHINE_OPTIONS with a\npc_i440fx_machine_options() call, instead of calling\npc_i440fx_2_4_machine_options(). This broke the setting of default_machine_opts\nand default_display on pc-i440fx-{2.0,2,1,2.2,2.3}.\n\nFix this by making pc_i440fx_2_3_machine_options() reuse\npc_i440fx_2_4_machine_options().\n\nReported-by: ""Dr. David Alan Gilbert"" <dgilbert@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>",1,0.9954645037651062,I440FX,hw/i386/pc_piix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4dc89b782095d7a0b919fafd7b1322b3cb1279f1,661725da09f47eb92d356fac10a4cf3b7ad1f61d,Yongbok Kim,2015-06-29,target-mips: fix MIPS64R6-generic configuration\n\nFix core configuration for MIPS64R6-generic to make it as close as\nI6400.\nI6400 core has 48-bit of Virtual Address available (SEGBITS).\nMIPS SIMD Architecture is available.\nRearrange order of bits to match the specification.\n\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>,1,0.9995912909507751,"MIPS, MIPS64","target-mips/mips-defs.h, target-mips/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6b9c26fb5eed2345398daca4eef601da2f3d7867,d4f4f0d5d9e74c19614479592c8bc865d92773d0,Yongbok Kim,2015-06-30,"disas/mips: fix disassembling R6 instructions\n\nIn the Release 6 of the MIPS Architecture, LL, SC, LLD, SCD, PREF\nand CACHE instructions have 9 bits offsets.\n\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.9992947578430176,MIPS,disas/mips.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6a973e6b6584221bed89a01e755b88e58b496652,6b9c26fb5eed2345398daca4eef601da2f3d7867,Aurelien Jarno,2015-07-01,"target-mips: fix ASID synchronisation for MIPS MT\n\nWhen syncing the task ASID with EntryHi, correctly or the value instead\nof assigning it.\n\nReported-by: ""Dr. David Alan Gilbert"" <dgilbert@redhat.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nCc: Leon Alrae <leon.alrae@imgtec.com>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.999261200428009,MIPS,target-mips/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f01a361bfcce4bd0c439b0e051ef2a1e56727a44,26e7e982b267e71d40cd20e9e234fedef6770a90,Andrew Bennett,2015-06-29,linux-user: Fix MIPS N64 trap and break instruction bug\n\nFor the MIPS N64 ABI when QEMU reads the break/trap instruction so that\nit can inspect the break/trap code it reads 8 rather than 4 bytes\nwhich means it finds the code field from the instruction after the\nbreak/trap instruction.  This then causes the break/trap handling\ncode to fail because it does not understand the code number.\n\nThe fix forces QEMU to always read 4 bytes of instruction data rather\nthan deciding how much to read based on the ABI.\n\nSigned-off-by: Andrew Bennett <andrew.bennett@imgtec.com>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>,1,0.9997314810752868,MIPS,linux-user/main.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,09b61db7c140c5a71bfde36614c5a1f4f0d382a6,58732810230719765a6618004be8f0070c9f3d31,Stefan Fritsch,2015-07-20,"ahci: Force ICC bits in PxCMD to zero\n\nThe AHCI spec requires that the HBA sets the ICC bits to zero after the\nICC change is done. Since we don't do any ICC change, force the bits to\nzero all the time.\n\nThis fixes delays with some OSs (e.g. OpenBSD) waiting for the ICC bits\nto change to 0.\n\nSigned-off-by: Stefan Fritsch <sf@sfritsch.de>\nReviewed-by: Kevin Wolf <kwolf@redhat.com>\nReviewed-by: John Snow <jsnow@redhat.com>\nMessage-id: E1ZFpg7-00027N-HW@eru.sfritsch.de\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.9991388320922852,AHCI,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eabc977973103527bbb8fed69c91cfaa6691f8ab,6493c975af75be5b8d9ade954239bdf5492b7911,Paolo Bonzini,2015-07-21,"AioContext: fix broken ctx->dispatching optimization\n\nThis patch rewrites the ctx->dispatching optimization, which was the cause\nof some mysterious hangs that could be reproduced on aarch64 KVM only.\nThe hangs were indirectly caused by aio_poll() and in particular by\nflash memory updates's call to blk_write(), which invokes aio_poll().\nFun stuff: they had an extremely short race window, so much that\nadding all kind of tracing to either the kernel or QEMU made it\ngo away (a single printf made it half as reproducible).\n\nOn the plus side, the failure mode (a hang until the next keypress)\nmade it very easy to examine the state of the process with a debugger.\nAnd there was a very nice reproducer from Laszlo, which failed pretty\noften (more than half of the time) on any version of QEMU with a non-debug\nkernel; it also failed fast, while still in the firmware.  So, it could\nhave been worse.\n\nFor some unknown reason they happened only with virtio-scsi, but\nthat's not important.  It's more interesting that they disappeared with\nio=native, making thread-pool.c a likely suspect for where the bug arose.\nthread-pool.c is also one of the few places which use bottom halves\nacross threads, by the way.\n\nI hope that no other similar bugs exist, but just in case :) I am\ngoing to describe how the successful debugging went...  Since the\nlikely culprit was the ctx->dispatching optimization, which mostly\naffects bottom halves, the first observation was that there are two\nqemu_bh_schedule() invocations in the thread pool: the one in the aio\nworker and the one in thread_pool_completion_bh.  The latter always\ncauses the optimization to trigger, the former may or may not.  In\norder to restrict the possibilities, I introduced new functions\nqemu_bh_schedule_slow() and qemu_bh_schedule_fast():\n\n     /* qemu_bh_schedule_slow: */\n     ctx = bh->ctx;\n     bh->idle = 0;\n     if (atomic_xchg(&bh->scheduled, 1) == 0) {\n         event_notifier_set(&ctx->notifier);\n     }\n\n     /* qemu_bh_schedule_fast: */\n     ctx = bh->ctx;\n     bh->idle = 0;\n     assert(ctx->dispatching);\n     atomic_xchg(&bh->scheduled, 1);\n\nNotice how the atomic_xchg is still in qemu_bh_schedule_slow().  This\nwas already debated a few months ago, so I assumed it to be correct.\nIn retrospect this was a very good idea, as you'll see later.\n\nChanging thread_pool_completion_bh() to qemu_bh_schedule_fast() didn't\ntrigger the assertion (as expected).  Changing the worker's invocation\nto qemu_bh_schedule_slow() didn't hide the bug (another assumption\nwhich luckily held).  This already limited heavily the amount of\ninteraction between the threads, hinting that the problematic events\nmust have triggered around thread_pool_completion_bh().\n\nAs mentioned early, invoking a debugger to examine the state of a\nhung process was pretty easy; the iothread was always waiting on a\npoll(..., -1) system call.  Infinite timeouts are much rarer on x86,\nand this could be the reason why the bug was never observed there.\nWith the buggy sequence more or less resolved to an interaction between\nthread_pool_completion_bh() and poll(..., -1), my ""tracing"" strategy was\nto just add a few qemu_clock_get_ns(QEMU_CLOCK_REALTIME) calls, hoping\nthat the ordering of aio_ctx_prepare(), aio_ctx_dispatch, poll() and\nqemu_bh_schedule_fast() would provide some hint.  The output was:\n\n    (gdb) p last_prepare\n    $3 = 103885451\n    (gdb) p last_dispatch\n    $4 = 103876492\n    (gdb) p last_poll\n    $5 = 115909333\n    (gdb) p last_schedule\n    $6 = 115925212\n\nNotice how the last call to qemu_poll_ns() came after aio_ctx_dispatch().\nThis makes little sense unless there is an aio_poll() call involved,\nand indeed with a slightly different instrumentation you can see that\nthere is one:\n\n    (gdb) p last_prepare\n    $3 = 107569679\n    (gdb) p last_dispatch\n    $4 = 107561600\n    (gdb) p last_aio_poll\n    $5 = 110671400\n    (gdb) p last_schedule\n    $6 = 110698917\n\nSo the scenario becomes clearer:\n\n   iothread                   VCPU thread\n--------------------------------------------------------------------------\n   aio_ctx_prepare\n   aio_ctx_check\n   qemu_poll_ns(timeout=-1)\n                              aio_poll\n                                aio_dispatch\n                                  thread_pool_completion_bh\n                                    qemu_bh_schedule()\n\nAt this point bh->scheduled = 1 and the iothread has not been woken up.\nThe solution must be close, but this alone should not be a problem,\nbecause the bottom half is only rescheduled to account for rare situations\n(see commit 3c80ca1, thread-pool: avoid deadlock in nested aio_poll()\ncalls, 2014-07-15).\n\nIntroducing a third thread---a thread pool worker thread, which\nalso does qemu_bh_schedule()---does bring out the problematic case.\nThe third thread must be awakened *after* the callback is complete and\nthread_pool_completion_bh has redone the whole loop, explaining the\nshort race window.  And then this is what happens:\n\n                                                      thread pool worker\n--------------------------------------------------------------------------\n                                                      <I/O completes>\n                                                      qemu_bh_schedule()\n\nTada, bh->scheduled is already 1, so qemu_bh_schedule() does nothing\nand the iothread is never woken up.  This is where the bh->scheduled\noptimization comes into play---it is correct, but removing it would\nhave masked the bug.\n\nSo, what is the bug?\n\nWell, the question asked by the ctx->dispatching optimization (""is any\nactive aio_poll dispatching?"") was wrong.  The right question to ask\ninstead is ""is any active aio_poll *not* dispatching"", i.e. in the prepare\nor poll phases?  In that case, the aio_poll is sleeping or might go to\nsleep anytime soon, and the EventNotifier must be invoked to wake\nit up.\n\nIn any other case (including if there is *no* active aio_poll at all!)\nwe can just wait for the next prepare phase to pick up the event (e.g. a\nbottom half); the prepare phase will avoid the blocking and service the\nbottom half.\n\nExpressing the invariant with a logic formula, the broken one looked like:\n\n   !(exists(thread): in_dispatching(thread)) => !optimize\n\nor equivalently:\n\n   !(exists(thread):\n          in_aio_poll(thread) && in_dispatching(thread)) => !optimize\n\nIn the correct one, the negation is in a slightly different place:\n\n   (exists(thread):\n         in_aio_poll(thread) && !in_dispatching(thread)) => !optimize\n\nor equivalently:\n\n   (exists(thread): in_prepare_or_poll(thread)) => !optimize\n\nEven if the difference boils down to moving an exclamation mark :)\nthe implementation is quite different.  However, I think the new\none is simpler to understand.\n\nIn the old implementation, the ""exists"" was implemented with a boolean\nvalue.  This didn't really support well the case of multiple concurrent\nevent loops, but I thought that this was okay: aio_poll holds the\nAioContext lock so there cannot be concurrent aio_poll invocations, and\nI was just considering nested event loops.  However, aio_poll _could_\nindeed be concurrent with the GSource.  This is why I came up with the\nwrong invariant.\n\nIn the new implementation, ""exists"" is computed simply by counting how many\nthreads are in the prepare or poll phases.  There are some interesting\npoints to consider, but the gist of the idea remains:\n\n1) AioContext can be used through GSource as well; as mentioned in the\npatch, bit 0 of the counter is reserved for the GSource.\n\n2) the counter need not be updated for a non-blocking aio_poll, because\nit won't sleep forever anyway.  This is just a matter of checking\nthe ""blocking"" variable.  This requires some changes to the win32\nimplementation, but is otherwise not too complicated.\n\n3) as mentioned above, the new implementation will not call aio_notify\nwhen there is *no* active aio_poll at all.  The tests have to be\nadjusted for this change.  The calls to aio_notify in async.c are fine;\nthey only want to kick aio_poll out of a blocking wait, but need not\ndo anything if aio_poll is not running.\n\n4) nested aio_poll: these just work with the new implementation; when\na nested event loop is invoked, the outer event loop is never in the\nprepare or poll phases.  The outer event loop thus has already decremented\nthe counter.\n\nReported-by: Richard W. M. Jones <rjones@redhat.com>\nReported-by: Laszlo Ersek <lersek@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Fam Zheng <famz@redhat.com>\nTested-by: Richard W.M. Jones <rjones@redhat.com>\nMessage-id: 1437487673-23740-5-git-send-email-pbonzini@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.999675154685974,KVM,"aio-posix.c, aio-win32.c, async.c, docs/aio_notify.promela, include/block/aio.h, tests/test-aio.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,05e514b1d4d5bd4209e2c8bbc76ff05c85a235f3,21a03d17f2edb1e63f7137d97ba355cc6f19d79f,Paolo Bonzini,2015-07-21,"AioContext: optimize clearing the EventNotifier\n\nIt is pretty rare for aio_notify to actually set the EventNotifier.  It\ncan happen with worker threads such as thread-pool.c's, but otherwise it\nshould never be set thanks to the ctx->notify_me optimization.  The\nprevious patch, unfortunately, added an unconditional call to\nevent_notifier_test_and_clear; now add a userspace fast path that\navoids the call.\n\nNote that it is not possible to do the same with event_notifier_set;\nit would break, as proved (again) by the included formal model.\n\nThis patch survived over 3000 reboots on aarch64 KVM.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Fam Zheng <famz@redhat.com>\nTested-by: Richard W.M. Jones <rjones@redhat.com>\nMessage-id: 1437487673-23740-7-git-send-email-pbonzini@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.966056764125824,KVM,"aio-posix.c, aio-win32.c, async.c, docs/aio_notify_accept.promela, include/block/aio.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,55875fc4ca45a35e36134663ade946d86fe7bfcd,019c2ab8623daee210df8b1085a33b1e83c9ee11,Salva Peir,2015-07-27,"megasas: Add write function to handle write access to PCI BAR 3\n\nThis patch fixes a QEMU SEGFAULT when a write operation is performed on\nthe memory region of the PCI BAR 3 (base address space).\nWhen a writeb(0xe0000000) is performed the .write function is invoked to\nhandle the write access, however, since the .write is not initialised,\nthe call to 0, causes QEMU to SEGFAULT.\n\nSigned-off-by: Salva Peir <speirofr@gmail.com>\nAcked-by: Hannes Reinecke <hare@suse.com>\nMessage-Id: <1437987112-24744-1-git-send-email-speirofr@gmail.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.99956876039505,PCI,hw/scsi/megasas.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4214a8cb7c15ec43d4b2a43ebf248b273a0f4d45,e72c4fb81db52be881c9356f1c60e0a7817d2d32,Aurelien Jarno,2015-07-30,"tcg/mips: Mask TCGMemOp appropriately for indexing\n\nCommit 2b7ec66f fixed TCGMemOp masking following the MO_AMASK addition,\nbut two cases were forgotten in the TCG MIPS backend.\n\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.99967622756958,"MIPS, TCG",tcg/mips/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3c8691f568f49bf623dcb2850464d4156d95e61b,4214a8cb7c15ec43d4b2a43ebf248b273a0f4d45,Aurelien Jarno,2015-07-30,"tcg/s390x: Mask TCGMemOp appropriately for indexing\n\nCommit 2b7ec66f fixed TCGMemOp masking following the MO_AMASK addition,\nbut two cases were forgotten in the TCG S390 backend.\n\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9996392726898192,TCG,tcg/s390/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c99d69694af4ed15b33e3f7c2e3ef6972c14358d,3c8691f568f49bf623dcb2850464d4156d95e61b,Aurelien Jarno,2015-07-31,"tcg/mips: fix add2\n\nThe add2 code in the tcg_out_addsub2 function doesn't take into account\nthe case where rl == al == bl. In that case we can't compute the carry\nafter the addition. As it corresponds to a multiplication by 2, the\ncarry bit is the bit 31.\n\nWhile this is a corner case, this prevents x86-64 guests to boot on a\nMIPS host.\n\nCc: qemu-stable@nongnu.org\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997202754020692,MIPS,tcg/mips/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,060ebfef1a09b58fb219b3769b72efb407515bf1,e95edefbd0559e1d0aa09549641b5d9af1f96fac,Leon Alrae,2015-08-03,"target-mips: fix semihosting for microMIPS R6\n\nIn semihosting mode the SDBBP 1 instructions should trigger UHI syscall,\nbut in QEMU this does not happen for recently added microMIPS R6.\nConsequently bare metal microMIPS R6 programs supporting UHI will not run.\n\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.99962055683136,MIPS,target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,29f3ff8d6cbc28f79933aeaa25805408d0984a8f,a30878e708c2149ce07d709a8b62edd944628449,Aurelien Jarno,2015-07-10,"tcg/optimize: fix constant signedness\n\nBy convention, on a 64-bit host TCG internally stores 32-bit constants\nas sign-extended. This is not the case in the optimizer when a 32-bit\nconstant is folded.\n\nThis doesn't seem to have more consequences than suboptimal code\ngeneration. For instance the x86 backend assumes sign-extended constants,\nand in some rare cases uses a 32-bit unsigned immediate 0xffffffff\ninstead of a 8-bit signed immediate 0xff for the constant -1. This is\nwith a ppc guest:\n\nbefore\n------\n\n ---- 0x9f29cc\n movi_i32 tmp1,$0xffffffff\n movi_i32 tmp2,$0x0\n add2_i32 tmp0,CA,CA,tmp2,r6,tmp2\n add2_i32 tmp0,CA,tmp0,CA,tmp1,tmp2\n mov_i32 r10,tmp0\n\n0x7fd8c7dfe90c:  xor    %ebp,%ebp\n0x7fd8c7dfe90e:  mov    %ebp,%r11d\n0x7fd8c7dfe911:  mov    0x18(%r14),%r9d\n0x7fd8c7dfe915:  add    %r9d,%r10d\n0x7fd8c7dfe918:  adc    %ebp,%r11d\n0x7fd8c7dfe91b:  add    $0xffffffff,%r10d\n0x7fd8c7dfe922:  adc    %ebp,%r11d\n0x7fd8c7dfe925:  mov    %r11d,0x134(%r14)\n0x7fd8c7dfe92c:  mov    %r10d,0x28(%r14)\n\nafter\n-----\n\n ---- 0x9f29cc\n movi_i32 tmp1,$0xffffffffffffffff\n movi_i32 tmp2,$0x0\n add2_i32 tmp0,CA,CA,tmp2,r6,tmp2\n add2_i32 tmp0,CA,tmp0,CA,tmp1,tmp2\n mov_i32 r10,tmp0\n\n0x7f37010d490c:  xor    %ebp,%ebp\n0x7f37010d490e:  mov    %ebp,%r11d\n0x7f37010d4911:  mov    0x18(%r14),%r9d\n0x7f37010d4915:  add    %r9d,%r10d\n0x7f37010d4918:  adc    %ebp,%r11d\n0x7f37010d491b:  add    $0xffffffffffffffff,%r10d\n0x7f37010d491f:  adc    %ebp,%r11d\n0x7f37010d4922:  mov    %r11d,0x134(%r14)\n0x7f37010d4929:  mov    %r10d,0x28(%r14)\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nMessage-Id: <1436544211-2769-2-git-send-email-aurelien@aurel32.net>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9997155070304872,TCG,tcg/optimize.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3a9148d0bdcee990fbe86759b9b1f5723c1d7fbc,8f6fd322f6e25995629a1a07b56bc5b91fb947ca,Sergey Sorokin,2015-09-07,target-arm: Fix AArch32:AArch64 general-purpose register mapping\n\nThere is an error in functions aarch64_sync_32_to_64() and\naarch64_sync_64_to_32() with mapping of registers between AArch32 and\nAArch64.  This commit fixes the mapping to match the v8 ARM ARM\nsection D1.20.1 (table D1-77).\n\nSigned-off-by: Sergey Sorokin <afarallax@yandex.ru>\nMessage-id: 1440796451-15276-1-git-send-email-afarallax@yandex.ru\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\n[PMM: tidied commit message a bit]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9996938705444336,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5125f9cd2532f0aca25d966ecd27d0e30d4af7c9,3a9148d0bdcee990fbe86759b9b1f5723c1d7fbc,Pavel Fedin,2015-09-07,"hw/arm/virt: Add high MMIO PCI region, 512G in size\n\nThis large region is necessary for some devices like ivshmem and video cards\n32-bit kernels can be built without LPAE support. In this case such a kernel\nwill not be able to use PCI controller which has windows in high addresses.\nIn order to work around the problem, ""highmem"" option is introduced. It\ndefaults to on on, but can be manually set to off in order to be able to run\nthose old 32-bit guests.\n\nSigned-off-by: Pavel Fedin <p.fedin@samsung.com>\nReviewed-by: Alexander Graf <agraf@suse.de>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Shannon Zhao <shannon.zhao@linaro.org>\n[PMM: Added missing ULL suffixes and a comment to the a15memmap[] entry]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9993208646774292,PCI,"hw/arm/virt-acpi-build.c, hw/arm/virt.c, include/hw/arm/virt-acpi-build.h, include/hw/arm/virt.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8d45c54d4fd3612bd616afcc5c278394f312927b,0f4a9e45ec35811ee250ac232d84d3c6d4fcd7fc,Pavel Fedin,2015-09-07,"arm/virt: Add full-sized CPU affinity handling\n\nAt least with KVM, currently there's no reason why QEMU would not be\ncapable of handling Aff3 != 0. This commit fixes up FDT creation in such\na case.\n\nSigned-off-by: Pavel Fedin <p.fedin@samsung.com>\nMessage-id: eef5a86e6d9a313780dbc23b35fcb65df42a3e9e.1441366248.git.p.fedin@samsung.com\n[PMM: folded two overlong lines]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9984013438224792,KVM,hw/arm/virt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b02ef3d92b19ad304a84433d3817f0903296ebc7,2998ffee245e3a141ce1b6fca127744c3e19dc63,David Hildenbrand,2015-05-29,"s390/sclp: ignore memory hotplug operations if it is disabled\n\nIf no memory hotplug device was created, the sclp command facility is\nnot exposed (SCLP_FC_ASSIGN_ATTACH_READ_STOR). We therefore have no\nmemory hotplug and should correctly report SCLP_RC_INVALID_SCLP_COMMAND\nif any such command is executed.\n\nThis gets rid of these ugly asserts that could have been triggered\nfor the s390-virtio machine.\n\nReviewed-by: Matthew Rosato <mjrosato@linux.vnet.ibm.com>\nSigned-off-by: David Hildenbrand <dahi@linux.vnet.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9993674159049988,SSI,hw/s390x/sclp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e0c382113f768cc375a0d61b7cb3692f1b4bba58,9102dedaa1ee1e89ce4a81283c403ff4928e9ef9,Paolo Bonzini,2015-08-26,"tcg: signal-free qemu_cpu_kick\n\nSignals are slow and do not exist on Win32.  The previous patches\nhave done most of the legwork to introduce memory barriers (some\nof them were even there already for the sake of Windows!) and\nwe can now set the flags directly in the iothread.\n\nqemu_cpu_kick_thread is not used anymore on TCG, since the TCG thread is\nnever outside usermode while the CPU is running (not halted).  Instead run\nthe content of the signal handler (now in qemu_cpu_kick_no_halt) directly.\nqemu_cpu_kick_no_halt is also used in qemu_mutex_lock_iothread to avoid\nthe overhead of qemu_cond_broadcast.\n\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9700700640678406,TCG,"cpu-exec.c, cpus.c, include/exec/exec-all.h, include/qom/cpu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5af2ae2305143f1805a696f9554231e1fc246edc,fc04a730b7e60f4a62d6260d4eb9c537d1d3643f,Benjamin Herrenschmidt,2015-07-05,"pci: Fix pci_device_iommu_address_space() bus propagation\n\nhe current code walks up the bus tree for an iommu, however it passes\nto the iommu_fn() callback the bus/devfn of the immediate child of\nthe level where the callback was found, rather than the original\nbus/devfn where the search started from.\n\nThis prevents iommu's like POWER8 (and in fact also Q35) to properly\nprovide an address space for a subset of devices that aren't immediate\nchildren of the iommu.\n\nPCIe carries the originator bdfn acccross to the iommu on all DMA\ntransactions, so we must be able to properly identify devices at all\nlevels.\n\nThis changes the function pci_device_iommu_address_space() to pass\nthe original pointers to the iommu_fn() callback instead.\n\nSigned-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999708354473114,"PCI, Q35",hw/pci/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3385e8e2640e5c38582f6e8413042bd23d97c640,9372e3f5678cdd86e1ddfb957d9da4b1889a0dd0,Igor Mammedov,2015-09-07,pc: memhotplug: fix incorrectly set reserved-memory-end\n\nreserved-memory-end tells firmware address from which\nit could start treating memory as PCI address space\nand map PCI BARs after it to avoid collisions with\nRAM.\nCurrently it is incorrectly pointing to address where\nhotplugged memory range starts which could redirect\nhotplugged RAM accesses to PCI BARs when firmware\nmaps them over RAM or viceverse.\nFix this by pointing reserved-memory-end to the end\nof memory hotplug area.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>,1,0.9996464252471924,PCI,hw/i386/pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2f8b50083b321e470ef8e2502910ade40cbfa020,3385e8e2640e5c38582f6e8413042bd23d97c640,Igor Mammedov,2015-09-07,pc: memhotplug: keep reserved-memory-end broken on 2.4 and earlier machines\n\nit will prevent guests on old machines from seeing\ninconsistent memory mapping in firmware/ACPI views.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>,1,0.9078659415245056,ACPI,"hw/i386/pc.c, hw/i386/pc_piix.c, hw/i386/pc_q35.c, include/hw/i386/pc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f288f854b96f56247e38f4207f71647133f0184,2f8b50083b321e470ef8e2502910ade40cbfa020,Laszlo Ersek,2015-09-01,"hw/pci: fix pci_update_mappings() trace events\n\nThe current trace prototypes and (matching) trace calls lead to\n""unorthodox"" PCI BDF notation in at least the stderr trace backend. For\nexample, the four BARs of a QXL video card at 00:01.0 (bus 0, slot 1,\nfunction 0) are traced like this (PID and timestamps removed):\n\n  pci_update_mappings_add d=0x7f14a73bf890 00:00.1 0,0x84000000+0x4000000\n  pci_update_mappings_add d=0x7f14a73bf890 00:00.1 1,0x80000000+0x4000000\n  pci_update_mappings_add d=0x7f14a73bf890 00:00.1 2,0x88200000+0x2000\n  pci_update_mappings_add d=0x7f14a73bf890 00:00.1 3,0xd060+0x20\n\nThe slot and function values are in reverse order.\n\nStick with the conventional BDF notation.\n\nCc: ""Michael S. Tsirkin"" <mst@redhat.com>\nCc: Don Koch <dkoch@verizon.com>\nCc: qemu-trivial@nongnu.org\nFixes: 7828d75045\nSigned-off-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997250437736512,"PCI, QXL","hw/pci/pci.c, trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,881213f1b9c5a8f4101405a5802d548cb62a4274,798141799ccd5235a928b8fc0411d7d74e706489,Tiejun Chen,2015-07-15,"xen, gfx passthrough: retrieve VGA BIOS to work\n\nNow we retrieve VGA bios like kvm stuff in qemu but we need to\nfix Device Identification in case if its not matched with the\nreal IGD device since Seabios is always trying to compare this\nID to work out VGA BIOS.\n\nSigned-off-by: Tiejun Chen <tiejun.chen@intel.com>\nAcked-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nSigned-off-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>",1,0.9970000386238098,VGA,"hw/xen/xen_pt.c, hw/xen/xen_pt.h, hw/xen/xen_pt_graphics.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fee562e9e41290a22623de83b673a8929ec5280d,6883de6c9b647d5629ffe131ed5d97c06bb0db1a,Laurent Vivier,2015-08-04,"i6300esb: fix timer overflow\n\nWe use muldiv64() to compute the time to wait:\n\n    timeout = muldiv64(get_ticks_per_sec(), timeout, 33000000);\n\nbut get_ticks_per_sec() is 10^9 (30 bit value) and timeout\nis a 35 bit value.\n\nWhereas muldiv64 is:\n\n    uint64_t muldiv64(uint64_t a, uint32_t b, uint32_t c)\n\nSo we loose 3 bits of timeout.\n\nSwapping get_ticks_per_sec() and timeout fixes it.\n\nWe can also replace it by a multiplication by 30 ns,\nbut this changes PCI clock frequency from 33MHz to 33.333333MHz\nand we need to do this on all the QEMU PCI devices (later...)\n\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>",1,0.9996806383132936,PCI,hw/watchdog/wdt_i6300esb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,78bcaa3e37afbd0c5316634f917c13487384b6ca,24cfc8dc583db57303137fd41f9f42806ea315a0,Richard Henderson,2015-09-14,"target-arm: Share all common TCG temporaries\n\nThis is a bug fix for aarch64.  At present, we have branches using\nthe 32-bit (translate.c) versions of cpu_[NZCV]F, but we set the flags\nusing the 64-bit (translate-a64.c) versions of cpu_[NZCV]F.  From\nthe view of the TCG code generator, these are unrelated variables.\n\nThe bug is hard to see because we currently only read these variables\nfrom branches, and upon reaching a branch TCG will first spill live\nvariables and then reload the arguments of the branch.  Since the\n32-bit versions were never live until reaching the branch, we'd re-read\nthe data that had just been spilled from the 64-bit versions.\n\nThere is currently no such problem with the cpu_exclusive_* variables,\nbut there's no point in tempting fate.\n\nCc: qemu-stable@nongnu.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nMessage-id: 1441909103-24666-2-git-send-email-rth@twiddle.net\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996522665023804,TCG,"target-arm/translate-a64.c, target-arm/translate.c, target-arm/translate.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f2a53c9e05a24352a0f9740db0539ce5aeed22ca,7c207b90465bc16a39b9fb8d9194f161059f69bf,Andrey Smetanin,2015-09-09,"i386/kvm: Hyper-v crash msrs set/get'ers and migration\n\nKVM Hyper-V based guests can notify hypervisor about\noccurred guest crash by writing into Hyper-V crash MSR's.\nThis patch does handling and migration of HV_X64_MSR_CRASH_P0-P4,\nHV_X64_MSR_CRASH_CTL msrs. User can enable these MSR's by\n'hv-crash' option.\n\nSigned-off-by: Andrey Smetanin <asmetanin@virtuozzo.com>\nSigned-off-by: Denis V. Lunev <den@openvz.org>\nCC: Paolo Bonzini <pbonzini@redhat.com>\nCC: Andreas Frber <afaerber@suse.de>\nMessage-Id: <1435924905-8926-13-git-send-email-den@openvz.org>\n[Folks, stop abrviating variable names!!! Also fix compilation on\n non-Linux/x86. - Paolo]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9693126678466796,KVM,"target-i386/cpu-qom.h, target-i386/cpu.c, target-i386/cpu.h, target-i386/kvm.c, target-i386/machine.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9ef2e93f9b1888c7d0deb4a105149138e6ad2e98,d9033e1d3aa666c5071580617a57bd853c5d794a,John Snow,2015-09-17,"atapi: abort transfers with 0 byte limits\n\nWe're supposed to abort on transfers like this, unless we fill\nWord 125 of our IDENTIFY data with a default transfer size, which\nwe don't currently do.\n\nThis is an ATA error, not a SCSI/ATAPI one.\nSee ATA8-ACS3 sections 7.17.6.49 or 7.21.5.\n\nIf we don't do this, QEMU will loop forever trying to transfer\nzero bytes, which isn't particularly useful.\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nMessage-id: 1442253685-23349-2-git-send-email-jsnow@redhat.com",1,0.9993354678153992,SCSI,"hw/ide/atapi.c, hw/ide/core.c, hw/ide/internal.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,33a983cb2821600f4ed5720919434256e8371ec2,f91a0aa3743c8bdf0dc0f646606a3dc8bb2c7df8,John Snow,2015-09-01,"ahci: fix signature generation\n\nThe initial register device-to-host FIS no longer needs to specially\nset certain fields, as these can be handled generically by setting those\nfields explicitly with the signatures we want at port reset time.\n\n(1) Signatures are decomposed into their four component registers and\n    set upon (AHCI) port reset.\n(2) the signature cache register is no longer set manually per-each\n    device type, but instead just once during ahci_init_d2h.\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-id: 1441140641-17631-3-git-send-email-jsnow@redhat.com",1,0.9990527033805848,AHCI,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6c76b37742d4db8176af37b667b5420727e79e2c,e1c8237df5395f6a453f18109bd9dd33fb2a397c,Pavel Fedin,2015-07-31,"qdev: Do not use slow [*] expansion for GPIO creation\n\nExpansion of [*] suffix is very slow because index expansion is done using\ntrial and error strategy, starting every time from zero and retrying with\nthe next index until insertion succeeds. With large number of already added\nproperties this process takes huge amount of time (O(n^2) complexity).\n\nSome architectures (like ARM) use very large amount of IRQ pins in interrupt\ncontroller models. This flaw makes machine startup extremely slow\n(~20 seconds for ARM64 with 32 CPUs). This patch decreases this time down to\n~10 seconds.\n\nAlso in qdev_init_gpio_out_named() memset() is now called only once for the\nwhole array instead of per-cell cleaning\n\nSigned-off-by: Pavel Fedin <p.fedin@samsung.com>\nReviewed-by: Daniel P. Berrange <berrange@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.984774112701416,ARM,hw/core/qdev.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5eb4f645eba8a79ea643b228c74a79183d436c97,b12a84ce3c27e42c8f51c436aa196938d5cc2c71,James Hogan,2015-09-14,"tcg/mips: Fix clobbering of qemu_ld inputs\n\nThe MIPS TCG backend implements qemu_ld with 64-bit targets using the v0\nregister (base) as a temporary to load the upper half of the QEMU TLB\ncomparator (see line 5 below), however this happens before the input\naddress is used (line 8 to mask off the low bits for the TLB\ncomparison, and line 12 to add the host-guest offset). If the input\naddress (addrl) also happens to have been placed in v0 (as in the second\ncolumn below), it gets clobbered before it is used.\n\n     addrl in t2              addrl in v0\n\n 1 srl     a0,t2,0x7        srl     a0,v0,0x7\n 2 andi    a0,a0,0x1fe0     andi    a0,a0,0x1fe0\n 3 addu    a0,a0,s0         addu    a0,a0,s0\n 4 lw      at,9136(a0)      lw      at,9136(a0)      set TCG_TMP0 (at)\n 5 lw      v0,9140(a0)      lw      v0,9140(a0)      set base (v0)\n 6 li      t9,-4093         li      t9,-4093\n 7 lw      a0,9160(a0)      lw      a0,9160(a0)      set addend (a0)\n 8 and     t9,t9,t2         and     t9,t9,v0         use addrl\n 9 bne     at,t9,0x836d8c8  bne     at,t9,0x836d838  use TCG_TMP0\n10  nop                      nop\n11 bne     v0,t8,0x836d8c8  bne     v0,a1,0x836d838  use base\n12  addu   v0,a0,t2          addu   v0,a0,v0         use addrl, addend\n13 lw      t0,0(v0)         lw      t0,0(v0)\n\nFix by using TCG_TMP0 (at) as the temporary instead of v0 (base),\npushing the load on line 5 forward into the delay slot of the low\ncomparison (line 10). The early load of the addend on line 7 also needs\npushing even further for 64-bit targets, or it will clobber a0 before\nwe're done with it. The output for 32-bit targets is unaffected.\n\n srl     a0,v0,0x7\n andi    a0,a0,0x1fe0\n addu    a0,a0,s0\n lw      at,9136(a0)\n-lw      v0,9140(a0)      load high comparator\n li      t9,-4093\n-lw      a0,9160(a0)      load addend\n and     t9,t9,v0\n bne     at,t9,0x836d838\n- nop\n+ lw     at,9140(a0)      load high comparator\n+lw      a0,9160(a0)      load addend\n-bne     v0,a1,0x836d838\n+bne     at,a1,0x836d838\n  addu   v0,a0,v0\n lw      t0,0(v0)\n\nCc: qemu-stable@nongnu.org\nReviewed-by: Richard Henderson <rth@twiddle.net>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997170567512512,"MIPS, TCG",tcg/mips/tcg-target.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6aadcc71354bc683fdedd8a3d369095d23095e1c,98cec76a7076c4a38e16f1a9de170a7942b3be54,Eduardo Habkost,2015-09-04,"exynos4: Use EXYNOS4210_NCPUS instead of max_cpus on error message\n\nThe code is checking smp_cpus against EXYNOS4210_NCPUS, not against\nmax_cpus, so use EXYNOS4210_NCPUS in the error message for consistency.\n\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Andreas Frber <afaerber@suse.de>",1,0.9991173148155212,EXYNOS4,hw/arm/exynos4_boards.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1cde732d88af34849343dc1f0e68072eab0841b9,116dc18db6854cc38c6abff799019b7237365a36,Mark Cave-Ayland,2015-08-23,"mac_dbdma: always clear FLUSH bit once DBDMA channel flush is complete\n\nThe code to flush the DBDMA channel was effectively duplicated in\ndbdma_control_write(), except for the fact that the copy executed outside of a\nRUN bit transition was broken by not clearing the FLUSH bit once the flush was\ncomplete.\n\nNewer PPC Linux kernels would timeout waiting for the FLUSH bit to clear again\nafter submitting a FLUSH command. Fix this by always clearing the FLUSH bit\nonce the channel flush is complete and removing the repeated code.\n\nReported-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9996386766433716,PPC,hw/misc/macio/mac_dbdma.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e7f08320f055e1093007b3f1d55b145d5f4daaa1,1cde732d88af34849343dc1f0e68072eab0841b9,Rudolf Marek,2015-08-14,"PPC: e500 pci host: Fix ATMUs register reads\n\nThere is a bug in the register mask when reading\nthe ATMUs registers. As the result some registers\ncannot be read, and read is aliased to the other\nregisters. Fix it.\n\nSigned-off-by: Rudolf Marek <rudolf.marek@sysgo.com>\nSigned-off-by: Alexander Graf <agraf@suse.de>",1,0.9997137188911438,PPC,hw/pci-host/ppce500.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aaf87c6616370685a7cff6a21616fc5db7495014,627c2ef7898794a28d706ecdf094491bebbb083a,Thomas Huth,2015-09-01,"ppc/spapr: Use qemu_log_mask() for hcall_dprintf()\n\nTo see the output of the hcall_dprintf statements, you currently have\nto enable the DEBUG_SPAPR_HCALLS macro in include/hw/ppc/spapr.h.\nThis is ugly because a) not every user who wants to debug guest\nproblems can or wants to recompile QEMU to be able to see such issues,\nand b) since this macro is disabled by default, the code in the\nhcall_dprintf() brackets tends to bitrot until somebody temporarily\nenables that macro again.\nSince the hcall_dprintf statements except one indicate guest\nproblems, let's always use qemu_log_mask(LOG_GUEST_ERROR, ...) for\nthis macro instead. One spot indicated an unimplemented host feature,\nso this is changed into qemu_log_mask(LOG_UNIMP, ...) instead. Now\nit's possible to see all those messages by simply adding the CLI\nparameter ""-d guest_errors,unimp"", without the need to re-compile\nthe binary.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9994537234306335,UNIMP,"hw/ppc/spapr_hcall.c, include/hw/ppc/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b5bd049fa907bccc4600ad1855e1c9c0e62f0be3,d451008e0fdf7fb817c791397e7999d5f3687e58,Alex Williamson,2015-09-23,"vfio/pci: Cleanup vfio_early_setup_msix() error path\n\nWith the addition of the Chelsio quirk we have an error path out of\nvfio_early_setup_msix() that doesn't free the allocated VFIOMSIXInfo\nstruct.  This doesn't introduce a leak as it still gets freed in the\nvfio_put_device() path, but it's complicated and sloppy to rely on\nthat.  Restructure to free the allocated data on error and only link\nit into the vdev on success.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>\nReported-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>",1,0.999498963356018,VFIO,hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8c4f234853d9d438dc1733ca98674b1139a87c99,056dfcb695cde3c62b7dc1d5ed6d2e38b3a73e29,Alex Williamson,2015-09-23,"vfio/pci: Foundation for new quirk structure\n\nVFIOQuirk hosts a single memory region and a fixed set of data fields\nthat try to handle all the quirk cases, but end up making those that\ndon't exactly match really confusing.  This patch introduces a struct\nintended to provide more flexibility and simpler code.  VFIOQuirk is\nstripped to its basics, an opaque data pointer for quirk specific\ndata and a pointer to an array of MemoryRegions with a counter.  This\nstill allows us to have common teardown routines, but adds much\ngreater flexibility to support multiple memory regions and quirk\nspecific data structures that are easier to maintain.  The existing\nVFIOQuirk is transformed into VFIOLegacyQuirk, which further patches\nwill eliminate entirely.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9896209239959716,VFIO,"hw/vfio/pci-quirks.c, hw/vfio/pci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cd37aaf876717a75d7af3a7465e8706cc4e13661,b92ad3949bc9cacd1652b4e07e7f6003b9e512af,Shannon Zhao,2015-09-24,"hw/arm/virt-acpi-build: Fix wrong size of flash in ACPI table\n\nWhile virt machine creates two flash devices with total size 0x08000000,\nthe ACPI table generation code was wrongly using this total size as the\nsize of each flash device, so it would overlap other MMIO spaces.\nMake each device entry in the table half the total; this brings the\nACPI table into line with the code which generates the device tree\nand which creates the flash devices themselves.\n\nSigned-off-by: Shannon Zhao <shannon.zhao@linaro.org>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nReviewed-by: Wei Huang <wei@redhat.com>\nTested-by: Graeme Gregory <graeme.gregory@linaro.org>\nMessage-id: 1442455041-6596-1-git-send-email-shannon.zhao@linaro.org\n[PMM: edited commit message]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996706247329712,ACPI,hw/arm/virt-acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2f5a3b1252ac238590cba83a38494e1103c32e4e,c5955a561ccdb95ede14e83de0ee8eec00868bd3,Paolo Bonzini,2015-07-30,ioapic: fix contents of arbitration register\n\nThe arbitration register should read to the same value as the\nIOAPIC id register.  Fixes kvm-unit-tests ioapic.flat.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9997138381004332,"APIC, IOAPIC",hw/intc/ioapic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c9b8f6b6210847b4381c5b2ee172b1c7eb9985d6,dd941cdcfec536aad6a310a153778142ed9f3e92,Amit Shah,2015-09-23,"target-i386: get/put MSR_TSC_AUX across reset and migration\n\nThere's one report of migration breaking due to missing MSR_TSC_AUX\nsave/restore.  Fix this by adding a new subsection that saves the state\nof this MSR.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1261797\n\nReported-by: Xiaoqing Wei <xwei@redhat.com>\nSigned-off-by: Amit Shah <amit.shah@redhat.com>\nCC: Paolo Bonzini <pbonzini@redhat.com>\nCC: Juan Quintela <quintela@redhat.com>\nCC: ""Dr. David Alan Gilbert"" <dgilbert@redhat.com>\nCC: Marcelo Tosatti <mtosatti@redhat.com>\nCC: Richard Henderson <rth@twiddle.net>\nCC: Eduardo Habkost <ehabkost@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9996668100357056,AUX,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ae50c55a09b8a90205972518d8129447000ae188,8d42d2d32b508484106f1c600f5cdd5496bc867e,Zhu Guihua,2015-09-16,"x86: use new method to correct reset sequence\n\nDuring reset some devices (such as hpet, rtc) might send IRQ to APIC\nwhich changes APIC's state from default one it's supposed to have\nat machine startup time.\nFix this by resetting APIC after devices have been reset to cancel\nany changes that qemu_devices_reset() might have done to its state.\n\nSigned-off-by: Zhu Guihua <zhugh.fnst@cn.fujitsu.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9933846592903136,APIC,hw/i386/pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,58892b447f0ffcd0967bc6f1bcb40df288ebeebc,c0b520dfb8890294a9f8879f4759172900585995,Eric Auger,2015-10-05,"hw/vfio/platform: irqfd setup sequence update\n\nWith current implementation, eventfd VFIO signaling is first set up and\nthen irqfd is setup, if supported and allowed.\n\nThis start sequence causes several issues with IRQ forwarding setup\nwhich, if supported, is transparently attempted on irqfd setup:\nIRQ forwarding setup is likely to fail if the IRQ is detected as under\ninjection into the guest (active at irqchip level or VFIO masked).\n\nThis currently always happens because the current sequence explicitly\nVFIO-masks the IRQ before setting irqfd.\n\nEven if that masking were removed, we couldn't prevent the case where\nthe IRQ is under injection into the guest.\n\nSo the simpler solution is to remove this 2-step startup and directly\nattempt irqfd setup. This is what this patch does.\n\nAlso in case the eventfd setup fails, there is no reason to go farther:\nlet's abort.\n\nSigned-off-by: Eric Auger <eric.auger@linaro.org>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9996770620346068,VFIO,hw/vfio/platform.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a788f227ef7bd2912fcaacdfe13d13ece2998149,7a140a57c69293a2f19b045f40953a87879e8c76,David Gibson,2015-09-30,"memory: Allow replay of IOMMU mapping notifications\n\nWhen we have guest visible IOMMUs, we allow notifiers to be registered\nwhich will be informed of all changes to IOMMU mappings.  This is used by\nvfio to keep the host IOMMU mappings in sync with guest IOMMU mappings.\n\nHowever, unlike with a memory region listener, an iommu notifier won't be\ntold about any mappings which already exist in the (guest) IOMMU at the\ntime it is registered.  This can cause problems if hotplugging a VFIO\ndevice onto a guest bus which had existing guest IOMMU mappings, but didn't\npreviously have an VFIO devices (and hence no host IOMMU mappings).\n\nThis adds a memory_region_iommu_replay() function to handle this case.  It\nreplays any existing mappings in an IOMMU memory region to a specified\nnotifier.  Because the IOMMU memory region doesn't internally remember the\ngranularity of the guest IOMMU it has a small hack where the caller must\nspecify a granularity at which to replay mappings.\n\nIf there are finer mappings in the guest IOMMU these will be reported in\nthe iotlb structures passed to the notifier which it must handle (probably\ncausing it to flag an error).  This isn't new - the VFIO iommu notifier\nmust already handle notifications about guest IOMMU mappings too short\nfor it to represent in the host IOMMU.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Laurent Vivier <lvivier@redhat.com>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9977030158042908,VFIO,"include/exec/memory.h, memory.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,508ce5eb00070809f0d19917a1b2960dfcf5a64b,a788f227ef7bd2912fcaacdfe13d13ece2998149,David Gibson,2015-09-30,"vfio: Allow hotplug of containers onto existing guest IOMMU mappings\n\nAt present the memory listener used by vfio to keep host IOMMU mappings\nin sync with the guest memory image assumes that if a guest IOMMU\nappears, then it has no existing mappings.\n\nThis may not be true if a VFIO device is hotplugged onto a guest bus\nwhich didn't previously include a VFIO device, and which has existing\nguest IOMMU mappings.\n\nTherefore, use the memory_region_register_iommu_notifier_replay()\nfunction in order to fix this case, replaying existing guest IOMMU\nmappings, bringing the host IOMMU into sync with the guest IOMMU.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9996789693832396,VFIO,hw/vfio/common.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c6047e9621f77a65993bcda8f58b676996e24bb5,ac98fa849e834f48e5a64cf4b22218ba4047e142,Markus Armbruster,2015-10-08,"virtio-input: Fix device introspection on non-Linux hosts\n\nWhen CONFIG_LINUX is off, devices ""virtio-keyboard-device"",\n""virtio-mouse-device"", ""virtio-tablet-device"" and\n""virtio-input-host-device"" aren't compiled in, yet\n""virtio-keyboard-pci"", ""virtio-mouse-pci"", ""virtio-tablet-pci"" and\n""virtio-input-host-pci"" still are.  Attempts to introspect them crash,\ne.g.\n\n    $ qemu-system-x86_64 -device virtio-tablet-pci,help\n    **\n    ERROR:/work/armbru/qemu/qom/object.c:333:object_initialize_with_type: assertion failed: (type != NULL)\n\nBroken in commit 710e2d9 and commit 006a5ed.\n\nFix by compiling the ""virtio-FOO-pci"" exactly when compiling the\n""virtio-FOO-device"": compile ""virtio-keyboard-device"",\n""virtio-mouse-device"", ""virtio-tablet-device"" regardless of\nCONFIG_LINUX, and compile ""virtio-input-host-pci"" only for\nCONFIG_LINUX.\n\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>\nMessage-Id: <1444320700-26260-3-git-send-email-armbru@redhat.com>",1,0.9996933937072754,LINUX,"hw/input/Makefile.objs, hw/virtio/virtio-pci.c, hw/virtio/virtio-pci.h",1,build system,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4c315c27661502a0813b129e41c0bf640c34a8d6,edb1523d90415cb79f60f83b4028ef3820d15612,Markus Armbruster,2015-10-01,"qdev: Protect device-list-properties against broken devices\n\nSeveral devices don't survive object_unref(object_new(T)): they crash\nor hang during cleanup, or they leave dangling pointers behind.\n\nThis breaks at least device-list-properties, because\nqmp_device_list_properties() needs to create a device to find its\nproperties.  Broken in commit f4eb32b ""qmp: show QOM properties in\ndevice-list-properties"", v2.1.  Example reproducer:\n\n    $ qemu-system-aarch64 -nodefaults -display none -machine none -S -qmp stdio\n    {""QMP"": {""version"": {""qemu"": {""micro"": 50, ""minor"": 4, ""major"": 2}, ""package"": """"}, ""capabilities"": []}}\n    { ""execute"": ""qmp_capabilities"" }\n    {""return"": {}}\n    { ""execute"": ""device-list-properties"", ""arguments"": { ""typename"": ""pxa2xx-pcmcia"" } }\n    qemu-system-aarch64: /home/armbru/work/qemu/memory.c:1307: memory_region_finalize: Assertion `((&mr->subregions)->tqh_first == ((void *)0))' failed.\n    Aborted (core dumped)\n    [Exit 134 (SIGABRT)]\n\nUnfortunately, I can't fix the problems in these devices right now.\nInstead, add DeviceClass member cannot_destroy_with_object_finalize_yet\nto mark them:\n\n* Hang during cleanup (didn't debug, so I can't say why):\n  ""realview_pci"", ""versatile_pci"".\n\n* Dangling pointer in cpus: most CPUs, plus ""allwinner-a10"", ""digic"",\n  ""fsl,imx25"", ""fsl,imx31"", ""xlnx,zynqmp"", because they create such\n  CPUs\n\n* Assert kvm_enabled(): ""host-x86_64-cpu"", host-i386-cpu"",\n  ""host-powerpc64-cpu"", ""host-embedded-powerpc-cpu"",\n  ""host-powerpc-cpu"" (the powerpc ones can't currently reach the\n  assertion, because the CPUs are only registered when KVM is enabled,\n  but the assertion is arguably in the wrong place all the same)\n\nMake qmp_device_list_properties() fail cleanly when the device is so\nmarked.  This improves device-list-properties from ""crashes, hangs or\nleaves dangling pointers behind"" to ""fails"".  Not a complete fix, just\na better-than-nothing work-around.  In the above reproducer,\ndevice-list-properties now fails with ""Can't list properties of device\n'pxa2xx-pcmcia'"".\n\nThis also protects -device FOO,help, which uses the same machinery\nsince commit ef52358 ""qdev-monitor: include QOM properties in -device\nFOO, help output"", v2.2.  Example reproducer:\n\n    $ qemu-system-aarch64 -machine none -device pxa2xx-pcmcia,help\n\nBefore:\n\n    qemu-system-aarch64: .../memory.c:1307: memory_region_finalize: Assertion `((&mr->subregions)->tqh_first == ((void *)0))' failed.\n\nAfter:\n\n    Can't list properties of device 'pxa2xx-pcmcia'\n\nCc: ""Andreas Frber"" <afaerber@suse.de>\nCc: ""Edgar E. Iglesias"" <edgar.iglesias@gmail.com>\nCc: Alexander Graf <agraf@suse.de>\nCc: Anthony Green <green@moxielogic.com>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nCc: Bastian Koppelmann <kbastian@mail.uni-paderborn.de>\nCc: Blue Swirl <blauwirbel@gmail.com>\nCc: Eduardo Habkost <ehabkost@redhat.com>\nCc: Guan Xuetao <gxt@mprc.pku.edu.cn>\nCc: Jia Liu <proljc@gmail.com>\nCc: Leon Alrae <leon.alrae@imgtec.com>\nCc: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nCc: Max Filippov <jcmvbkbc@gmail.com>\nCc: Michael Walle <michael@walle.cc>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Peter Maydell <peter.maydell@linaro.org>\nCc: Richard Henderson <rth@twiddle.net>\nCc: qemu-ppc@nongnu.org\nCc: qemu-stable@nongnu.org\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nMessage-Id: <1443689999-12182-10-git-send-email-armbru@redhat.com>",1,0.9964381456375122,KVM,"hw/arm/allwinner-a10.c, hw/arm/digic.c, hw/arm/fsl-imx25.c, hw/arm/fsl-imx31.c, hw/arm/xlnx-zynqmp.c, hw/pci-host/versatile.c, include/hw/qdev-core.h, qmp.c, target-alpha/cpu.c, target-arm/cpu.c, target-cris/cpu.c, target-i386/cpu.c, target-lm32/cpu.c, target-m68k/cpu.c, target-microblaze/cpu.c, target-mips/cpu.c, target-moxie/cpu.c, target-openrisc/cpu.c, target-ppc/kvm.c, target-s390x/cpu.c, target-sh4/cpu.c, target-sparc/cpu.c, target-tilegx/cpu.c, target-tricore/cpu.c, target-unicore32/cpu.c, target-xtensa/cpu.c, tests/device-introspect-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,60be6340796e66b5ac8aac2d98dde5c79336a89c,92e3762237475407fe03e1ccac6e30612ab96caf,Denis V. Lunev,2015-09-28,migration: fix deadlock\n\nRelease qemu global mutex before call synchronize_rcu().\nsynchronize_rcu() waiting for all readers to finish their critical\nsections. There is at least one critical section in which we try\nto get QGM (critical section is in address_space_rw() and\nprepare_mmio_access() is trying to aquire QGM).\n\nBoth functions (migration_end() and migration_bitmap_extend())\nare called from main thread which is holding QGM.\n\nThus there is a race condition that ends up with deadlock:\nmain thread     working thread\nLock QGA                |\n|             Call KVM_EXIT_IO handler\n|                       |\n|        Open rcu reader's critical section\nMigration cleanup bh    |\n|                       |\nsynchronize_rcu() is    |\nwaiting for readers     |\n|            prepare_mmio_access() is waiting for QGM\n  \                   /\n         deadlock\n\nThe patch changes bitmap freeing from direct g_free after synchronize_rcu\nto free inside call_rcu.\n\nSigned-off-by: Denis V. Lunev <den@openvz.org>\nReported-by: Igor Redko <redkoi@virtuozzo.com>\nTested-by: Igor Redko <redkoi@virtuozzo.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Juan Quintela <quintela@redhat.com>\nSigned-off-by: Juan Quintela <quintela@redhat.com>\n\nCC: Anna Melekhova <annam@virtuozzo.com>\nCC: Juan Quintela <quintela@redhat.com>\nCC: Amit Shah <amit.shah@redhat.com>\nCC: Paolo Bonzini <pbonzini@redhat.com>\nCC: Wen Congyang <wency@cn.fujitsu.com>,1,0.9997206330299376,KVM,migration/ram.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b64d64de1a5b88de88146e3ad36e7b09b97837eb,ad1e8db894fa055ffa9447a5d86520ef1cbac6e9,Peter Crosthwaite,2015-10-16,arm: imx25-pdk: Fix machine name\n\nARM uses dashes instead of underscores for machine names. Fix imx25_pdk\nwhich has not seen a release yet (so there is no legacy yet).\n\nCc: Jean-Christophe Dubois <jcd@tribudubois.net>\nSigned-off-by: Peter Crosthwaite <crosthwaite.peter@gmail.com>\nMessage-id: 1444445785-3648-1-git-send-email-crosthwaite.peter@gmail.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\n[PMM: Added change to tests/ds1338-test.c to use new machine name]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9788756370544434,ARM,"hw/arm/imx25_pdk.c, tests/ds1338-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,04d71322c1cf6f527f15397c76bc088ebda7c18b,1501ecc1d89231164b4aecddd0219ed4395b693a,Stefan Hajnoczi,2015-07-23,blockdev: always compile in -drive aio= parsing\n\nCONFIG_LINUX_AIO is an implementation detail of raw-posix.c.  Don't\nmention CONFIG_LINUX_AIO in blockdev.c.  Let block drivers decide what\nto do with BDRV_O_NATIVE_AIO.  They may print an error if it is\nunsupported.\n\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>,1,0.9978991746902466,LINUX,blockdev.c,0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bb628e1af8b8b5ecf6420e50123cb696ee18b09f,04d71322c1cf6f527f15397c76bc088ebda7c18b,Stefan Hajnoczi,2015-07-23,"qemu-nbd: always compile in --aio=MODE option\n\nThe --aio=MODE option enables Linux AIO or Windows overlapped I/O.\n\nThe #ifdef CONFIG_LINUX_AIO was a layering violation that also prevented\nWindows overlapped I/O from being used.\n\nNow that raw-posix.c prints an error when Linux AIO has not been\ncompiled in, we can unconditionally compile the option into qemu-nbd.\n\nAfter this patch qemu-nbd --aio=native works on Windows.\n\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9994358420372008,LINUX,qemu-nbd.c,0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7df953bd456da45f761064974820ab5c3fd7b2aa,6d57410a79d51d92673c54f26624b44f27fa6214,Knut Omang,2015-10-04,"intel_iommu: Add support for translation for devices behind bridges\n\n- Use a hash table indexed on bus pointers to store information about buses\n  instead of using the bus numbers.\n  Bus pointers are stored in a new VTDBus struct together with the vector\n  of device address space pointers indexed by devfn.\n- The bus number is still used for lookup for selective SID based invalidate,\n  in which case the bus number is lazily resolved from the bus hash table and\n  cached in a separate index.\n\nSigned-off-by: Knut Omang <knut.omang@oracle.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9969780445098876,VTD,"hw/i386/intel_iommu.c, hw/pci-host/q35.c, include/hw/i386/intel_iommu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4e494de66800747446e73b5ec0189ad7f4690908,af25e7277d3e95a3ea31023f31d8097ab5e2ac84,Lan Tianyu,2015-10-11,"Qemu/Xen: Fix early freeing MSIX MMIO memory region\n\nmsix->mmio is added to XenPCIPassthroughState's object as property.\nobject_finalize_child_property is called for XenPCIPassthroughState's\nobject, which calls object_property_del_all, which is going to try to\ndelete msix->mmio. object_finalize_child_property() will access\nmsix->mmio's obj. But the whole msix struct has already been freed\nby xen_pt_msix_delete. This will cause segment fault when msix->mmio\nhas been overwritten.\n\nThis patch is to fix the issue.\n\nSigned-off-by: Lan Tianyu <tianyu.lan@intel.com>\nReviewed-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>\nSigned-off-by: Stefano Stabellini <stefano.stabellini@eu.citrix.com>",1,0.9997155070304872,PCI,"hw/xen/xen_pt.c, hw/xen/xen_pt.h, hw/xen/xen_pt_config_init.c, hw/xen/xen_pt_msi.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4828b10bda6a74a22a7695303e0648157d0e3ea4,12ebf6908333a86775ef18f12ea283601fd1d2df,Igor Mammedov,2015-10-23,"pc: memhp: do not emit inserting event for coldplugged DIMMs\n\ncurrently acpi_memory_plug_cb() sets is_inserting for\ncold- and hot-plugged DIMMs as result ASL MHPD.MSCN()\nmethod issues device check even for every coldplugged\nDIMM. There isn't much harm in it but if we try to\nunplug such DIMM, OSPM will issue device check\nintstead of device eject event. So OSPM won't eject\nmemory module as expected and it will try to eject it\nonly when another memory device is hot-(un)plugged.\n\nAs a fix do not set 'is_inserting' event and do not\nissue SCI for cold-plugged DIMMs as they are\nenumerated and activated by OSPM during guest's boot.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999613344669342,DIMM,hw/acpi/memory_hotplug.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9d4ec9370a36f8a564e1ba05519328c0bd60da13,4828b10bda6a74a22a7695303e0648157d0e3ea4,Michael S. Tsirkin,2015-10-25,"mmap-alloc: fix error handling\n\nExisting callers are checking for MAP_FAILED,\nso we should return that on error.\n\nReported-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997161030769348,LED,util/mmap-alloc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8059feee004111534c4c0652e2f0715e9b4e0754,9d4ec9370a36f8a564e1ba05519328c0bd60da13,Michael S. Tsirkin,2015-10-27,"virtio: introduce virtio_map\n\nvirtio_map_sg currently fails if one of the entries it's mapping is\ncontigious in GPA but not HVA address space.  Introduce virtio_map which\nhandles this by splitting sg entries.\n\nThis new API generally turns out to be a good idea since it's harder to\nmisuse: at least in one case the existing one was used incorrectly.\n\nThis will still fail if there's no space left in the sg, but luckily max\nqueue size in use is currently 256, while max sg size is 1024, so we\nshould be OK even is all entries happen to cross a single DIMM boundary.\n\nWon't work well with very small DIMM sizes, unfortunately:\ne.g. this will fail with 4K DIMMs where a single\nrequest might span a large number of DIMMs.\n\nLet's hope these are uncommon - at least we are not breaking things.\n\nNote: virtio-scsi calls virtio_map_sg on data loaded from network, and\nvalidates input, asserting on failure.  Copy the validating code here -\nit will be dropped from virtio-scsi in a follow-up patch.\n\nReported-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>",1,0.9995477795600892,DIMM,"hw/virtio/virtio.c, include/hw/virtio/virtio.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ca2f6bbbce32b7e1ba4fdaf54165ab0dee47a3a5,dbd8af9824d0ddc4400f859c2af77543461cba0d,James Hogan,2015-10-12,"hw/mips_malta: Fix KVM PC initialisation\n\nCommit 71c199c81d29 (""mips_malta: provide ememsize env variable to\nkernels"") changed the meaning of loaderparams.ram_size to be the whole\nof RAM rather than just the low part below where the boot code is placed\nfor KVM, but it didn't update the PC initialisation for KVM to use\nram_low_size. Fix that now.\n\nFixes: 71c199c81d29 (""mips_malta: provide ememsize env variable to kernels"")\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nCc: Paul Burton <paul.burton@imgtec.com>\nCc: Leon Alrae <leon.alrae@imgtec.com>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.9996973276138306,KVM,hw/mips/mips_malta.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bc64b96c984abfe84f43562ca7480bb4f2af0613,06e5cf7acd1f94ab7c1cd6945974a1f039672940,Graeme Gregory,2015-11-03,hw/arm/virt-acpi-build: _CCA attribute is compulsory\n\nAccording to ACPI specification 6.2.17 _CCA (Cache Coherency Attribute)\nthis attribute is compulsory on ARM systems. Add this attribute to\nthe PCI host bridges as required.\n\nWithout this the kernel will produce the error\n[Firmware Bug]: PCI device 0000:00:00.0 fail to setup DMA.\n\nSigned-off-by: Graeme Gregory <graeme.gregory@linaro.org>\nMessage-id: 1446460786-13663-1-git-send-email-graeme.gregory@linaro.org\nReviewed-by: Shannon Zhao <shannon.zhao@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9995653033256532,"ACPI, ARM, PCI",hw/arm/virt-acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5d9c1756140d680e66e5b45005a1fb7078b74ee1,f2fbfacec024d1e78c10fc8498f3126557c21ed8,Shannon Zhao,2015-11-03,ARM: ACPI: Fix MPIDR value in ACPI table\n\nUse mp_affinity of ARMCPU as the CPU MPIDR instead of the CPU index.\n\nSigned-off-by: Shannon Zhao <shannon.zhao@linaro.org>\nMessage-id: 1446285001-7316-1-git-send-email-zhaoshenglong@huawei.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9955713152885436,"ACPI, ARM",hw/arm/virt-acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8347c53243b58ad5e4d623d2403853404e9043a1,572ec519ed6fe68f10ec65963527536c2322eab0,Michael S. Tsirkin,2015-10-28,"dataplane: support non-contigious s/g\n\nbring_map currently fails if one of the entries it's mapping is\ncontigious in GPA but not HVA address space.  Introduce a mapped_len\nparameter so it can handle this, returning the actual mapped length.\n\nThis will still fail if there's no space left in the sg, but luckily max\nqueue size in use is currently 256, while max sg size is 1024, so we\nshould be OK even is all entries happen to cross a single DIMM boundary.\n\nWon't work well with very small DIMM sizes, unfortunately:\ne.g. this will fail with 4K DIMMs where a single\nrequest might span a large number of DIMMs.\n\nLet's hope these are uncommon - at least we are not breaking things.\n\nReported-by: Stefan Hajnoczi <stefanha@redhat.com>\nReported-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Igor Mammedov <imammedo@redhat.com>\nMessage-id: 1446047243-3221-2-git-send-email-mst@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9996780157089232,DIMM,hw/virtio/dataplane/vring.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d17008bc2914d62fd0af6a8f313604ae9f9a102c,9d5c1dc117d1ad881bbc76f6990ee1f9e9f8ef7f,Peter Maydell,2015-11-09,"hw/timer/hpet.c: Avoid signed integer overflow which results in bugs on OSX\n\nSigned integer overflow in C is undefined behaviour, and the compiler\nis at liberty to assume it can never happen and optimize accordingly.\nIn particular, the subtractions in hpet_time_after() and hpet_time_after64()\nwere causing OSX clang to optimize the code such that it was prone to\nhangs and complaints about the main loop stalling (presumably because\nwe were spending all our time trying to service very high frequency\nHPET timer callbacks). The clang sanitizer confirms the UB:\n\nhw/timer/hpet.c:119:26: runtime error: signed integer overflow: -2146967296 - 2147003978 cannot be represented in type 'int'\n\nFix this by doing the subtraction as an unsigned operation and then\nconverting to signed for the comparison.\n\nReported-by: Aaron Elkins <threcius@yahoo.com>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1447080991-24995-1-git-send-email-peter.maydell@linaro.org",1,0.9996368885040284,HPET,hw/timer/hpet.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0282abf078c3353a178ab77a115828ce333181dd,a1a88589dc982f9f8b6c717c2ac98dd71dd4353d,Alex Williamson,2015-11-10,"vfio/pci: Hide device PCIe capability on non-express buses for PCIe VMs\n\nWhen we have a PCIe VM, such as Q35, guests start to care more about\nvalid configurations of devices relative to the VM view of the PCI\ntopology.  Windows will error with a Code 10 for an assigned device if\na PCIe capability is found for a device on a conventional bus.  We\nalso have the possibility of IOMMUs, like VT-d, where the where the\nguest may be acutely aware of valid express capabilities on physical\nhardware.\n\nSome devices, like tg3 are adversely affected by this due to driver\ndependencies on the PCIe capability.  The only solution for such\ndevices is to attach them to an express capable bus in the VM.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9984625577926636,"PCI, Q35",hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ba3ecda05e933acf6fff618716b6f6d2ed6a5a07,a77067f6ac9b17beefea506ce5f514072fe3fcf4,Bharata B Rao,2015-11-06,ppc: Add/Re-introduce MMU model definitions needed by PR KVM\n\nCommit aa4bb5875231 (ppc: Add mmu_model defines for arch 2.03 and 2.07)\nremoved the mmu_model definition POWERPC_MMU_2_06a which is needed by\nPR KVM. Reintroduce it and also add POWERPC_MMU_2_07a.\n\nThis fixes QEMU crash (qemu: fatal: Unknown MMU model) during booting\nof PR KVM guest.\n\nSigned-off-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\nCc: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9978945851325988,KVM,"target-ppc/cpu.h, target-ppc/mmu_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a3166f8f6e9d3928d0b863c7f0dac1cf24b6c004,121048195860f0320a7e1cd5a4b86356082eb9c7,Bharata B Rao,2015-11-10,ppc: Let kvmppc_reset_htab() return 0 for !CONFIG_KVM\n\nThe !CONFIG_KVM implementation of kvmppc_reset_htab() returns -1\nby default. Change this to return 0 so that we fall back to user space\nHTAB allocation for emulated guests.\n\nThis fixes the make check failures for ppc64 emulated target.\n\nSigned-off-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9969308972358704,KVM,target-ppc/kvm_ppc.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b41d320fef705289d2b73f4949731eb2e189161d,a3166f8f6e9d3928d0b863c7f0dac1cf24b6c004,Bharata B Rao,2015-11-10,"spapr: Handle failure of KVM_PPC_ALLOCATE_HTAB ioctl\n\nKVM_PPC_ALLOCATE_HTAB ioctl can return -ENOMEM for KVM guests and QEMU\nnever handled this correctly. But this didn't cause any problems till\nnow as KVM_PPC_ALLOCATE_HTAB ioctl returned with smaller than requested\nHTAB when enough contiguous memory wasn't available in the host.\nAfter the proposed kernel change: https://patchwork.ozlabs.org/patch/530501/,\nKVM_PPC_ALLOCATE_HTAB ioctl will not fallback to lower sized HTAB\nallocation and will fail if requested HTAB size can't be met.\n\nCheck for such failures in QEMU and abort appropriately. This will\nprevent guest kernel from hanging/freezing during early boot by doing\ngraceful exit when host is unable to allocate requested HTAB.\n\nSigned-off-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9995704293251038,"KVM, PPC",hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,488661ee9dd300110a6612d52fe68e2bb3539a5f,4248b336d3c1b74e343842c5b478b165d75f5ce8,Alexander Graf,2015-11-11,"PPC: Fix lswx bounds checks\n\nThe lswx instruction checks whether the desired string actually fits\ninto all defined registers. Unfortunately it does the calculation wrong,\nresulting in illegal instruction traps for loads that really should fit.\n\nFix it up, making Mac OS happier.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9994376301765442,PPC,target-ppc/mem_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,72f1f97d4927f798167855fda7881b0e22756b20,488661ee9dd300110a6612d52fe68e2bb3539a5f,Alexander Graf,2015-11-11,"PPC: mac99: Always add USB controller\n\nThe mac99 machines always have a USB controller. Usually not having one around\ndoesn't hurt quite as much, but Mac OS 9 really really wants one or it crashes\non bootup.\n\nSo always add OHCI to make it happy.\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.869297444820404,"PPC, USB",hw/ppc/mac_newworld.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6729aa40135bc96d69b5bf5e65a7d463ef7793e7,72f1f97d4927f798167855fda7881b0e22756b20,Mark Cave-Ayland,2015-11-11,"cuda.c: fix CUDA ADB error packet format\n\nAccording to MOL, ADB error packets should be of the form (type, status, cmd)\nrather than just (type, status). This fixes ADB device detection under MacOS 9.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997128844261168,"ADB, CUDA",hw/misc/macio/cuda.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4202e63c0432c72ba518dd882e99a794620d1665,6729aa40135bc96d69b5bf5e65a7d463ef7793e7,Mark Cave-Ayland,2015-11-11,"cuda.c: fix CUDA_PACKET response packet format\n\nAccording to comments in MOL, the response to a CUDA_PACKET should be one of\nthe following:\n\nReply: (CUDA_PACKET, status, cmd)\nError: (ERROR_PACKET, status, CUDA_PACKET, cmd)\n\nUpdate cuda_receive_packet() accordingly to reflect this in order to make\nMacOS 9 happy.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999678373336792,CUDA,hw/misc/macio/cuda.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d271ae36dc1e292ae140f5bbf23e0fc1392dd325,ce8d3b647b5acc2bec19602d9fac87d3da11ae77,Mark Cave-Ayland,2015-11-11,cuda.c: fix CUDA SR interrupt clearing\n\nMake sure that we also clear the data and clock interrupts at the same time.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9996967315673828,CUDA,hw/misc/macio/cuda.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0a9516c2d6711cb6760a726952bdbbe931fd045c,cffc331a3156870d54883bc79e4278472ffd8f1d,Alexey Kardashevskiy,2015-11-12,"monitor/target-ppc: Define target_get_monitor_def\n\nAt the moment get_monitor_def() returns only registers from statically\ndefined monitor_defs array. However there is a lot of BOOK3S SPRs\nwhich are not in the list and cannot be printed from the monitor.\n\nThis adds a new target platform hook - target_get_monitor_def().\nThe hook is called if a register was not found in the static\narray returned by the target_monitor_defs() hook.\n\nThe hook is only defined for POWERPC, it returns registered\nSPRs and fails on unregistered ones providing the user with information\non what is actually supported on the running CPU. The register value is\nsaved as uint64_t as it is the biggest supported register size;\ntarget_ulong cannot be used because of the stub - it is in a ""common""\ncode and cannot include ""cpu.h"", etc; this is also why the hook prototype\nis redefined in the stub instead of being included from some header.\n\nThis replaces static descriptors for GPRs, FPRs, SRs with a helper which\nlooks for a value in a corresponding array in the CPUPPCState.\nThe immediate effect is that all 32 SRs can be printed now (instead of 16);\nlater this can be reused for VSX or TM registers.\n\nThis replaces callbacks for MSR and XER with static descriptors in\nmonitor_defs as they are stored in CPUPPCState.\n\nWhile we are here, this adds ""cr"" as a synonym of ""ccr"".\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9989783763885498,PPC,"include/monitor/hmp-target.h, monitor.c, stubs/Makefile.objs, stubs/target-get-monitor-def.c, target-ppc/cpu-qom.h, target-ppc/monitor.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a6df8adf3edbb3062f087e425564df35077e8410,fd717e789010012c5f0537269df19ef19d469baf,Jason Wang,2015-11-06,virtio-pci: fix 1.0 virtqueue migration\n\nWe don't migrate the followings fields for virtio-pci:\n\nuint32_t dfselect;\nuint32_t gfselect;\nuint32_t guest_features[2];\nstruct {\n    uint16_t num;\n    bool enabled;\n    uint32_t desc[2];\n    uint32_t avail[2];\n    uint32_t used[2];\n} vqs[VIRTIO_QUEUE_MAX];\n\nThis will confuse driver if migrating during initialization. Solves\nthis issue by:\n\n- introduce transport specific callbacks to load and store extra\n  virtqueue states.\n- add a new subsection for virtio to migrate transport specific modern\n  device state.\n- implement pci specific callbacks.\n- add a new property for virtio-pci for whether or not to migrate\n  extra state.\n- compat the migration for 2.4 and elder machine types\n\nCc: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Jason Wang <jasowang@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>,1,0.9996875524520874,VIRTIO,"hw/virtio/virtio-pci.c, hw/virtio/virtio-pci.h, hw/virtio/virtio.c, include/hw/compat.h, include/hw/virtio/virtio-bus.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,87656d50181e1be475303c1b88be6df0963c5bfd,a586e65bbd017ab55fe4149dd1bcba5c3a72bcd1,Michael S. Tsirkin,2015-11-16,"vhost-user-test: support VHOST_USER_SET_VRING_ENABLE\n\nvhost-user-test is broken now: it assumes\nQEMU sends RESET_OWNER, and we stopped doing that.\nWait for ENABLE_RING with 0 instead.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9969552755355836,VHOST_USER,tests/vhost-user-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9ecac5dad16722ce2a8c3e88d8eeba5794990031,9be060f5278dc0d732ebfcf2bf0a293f88b833eb,Richard Henderson,2015-11-17,"target-i386: Fix mulx for identical target regs\n\nThe Intel specification clearly indicates that the low part\nof the result is written first and the high part of the result\nis written second; thus if ModRM:reg and VEX.vvvv are identical,\nthe final result should be the high part of the result.\n\nAt present, TCG may either produce incorrect results or crash\nwith --enable-checking.\n\nReported-by: Toni Nedialkov <farmdve@gmail.com>\nReported-by: Max Reitz <mreitz@redhat.com>\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9997021555900574,TCG,target-i386/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7871abb94c2f4adc39f2487f6edf5e69ba872a65,5522a841cab5f15ac0f8d207b320c21755a7a1a5,James Hogan,2015-11-17,"target-mips: Fix exceptions while UX=0\n\nCommit 01f728857941 (""target-mips: Status.UX/SX/KX enable 32-bit address\nwrapping"") added a new hflag MIPS_HFLAG_AWRAP, which indicates that\n64-bit addressing is disallowed in the current mode, so hflag users\ndon't need to worry about the complexities of working that out, for\nexample checking both MIPS_HFLAG_KSU and MIPS_HFLAG_UX.\n\nHowever when exceptions are taken outside of exception level,\nmips_cpu_do_interrupt() manipulates the env->hflags directly rather than\nusing compute_hflags() to update them, and this code wasn't updated\naccordingly. As a result, when UX is cleared, MIPS_HFLAG_AWRAP is set,\nbut it doesn't get cleared on entry back into kernel mode due to an\nexception. Kernel mode then cannot access the 64-bit segments resulting\nin a nested exception loop. The same applies to errors and debug\nexceptions.\n\nFix by updating mips_cpu_do_interrupt() to clear the MIPS_HFLAG_WRAP\nflag when necessary, according to compute_hflags().\n\nFixes: 01f728857941 (""target-mips: Status.UX/SX/KX enable 32-bit..."")\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nCc: Leon Alrae <leon.alrae@imgtec.com>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.9997277855873108,MIPS,target-mips/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,49b69cbfcd6e32e2178d6ff7e5d60689c3f79c6e,3e32e8a96e6995cde3d8a13d68e31226ee83f290,Eduardo Habkost,2015-11-25,"target-i386: kvm: Abort if MCE bank count is not supported by host\n\nInstead of silently changing the number of banks in mcg_cap based\non kvm_get_mce_cap_supported(), abort initialization if the host\ndoesn't support MCE_BANKS_DEF banks.\n\nNote that MCE_BANKS_DEF was always 10 since it was introduced in\nQEMU, and Linux always returned 32 at KVM_CAP_MCE since\nKVM_CAP_MCE was introduced, so no behavior is being changed and\nthe error can't be triggered by any Linux version. The point of\nthe new check is to ensure we won't silently change the bank\ncount if we change MCE_BANKS_DEF or make the bank count\nconfigurable in the future.\n\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\n[Avoid Yoda condition and \n at end of error_report. - Paolo]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-Id: <1448471956-66873-8-git-send-email-pbonzini@redhat.com>",1,0.9988975524902344,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f0a399dbae6a2d0e2e15eb7ce0783286bbd9fe04,567c88c354904d669dfac6170b8ac5f60b41d9bd,Yi Min Zhao,2015-11-04,"s390x/pci: fix up IOMMU size\n\nPresent code uses @size==UINT64_MAX to initialize IOMMU. It infers that it\ncan map any 64-bit IOVA whatsoever. But in fact, the largest DMA range for\neach PCI Device on s390x is from ZPCI_SDMA_ADDR to ZPCI_EDMA_ADDR. The largest\nvalue is returned from hardware, which is to indicate the largest range\nhardware can support. But the real IOMMU size for specific PCI Device is\nobtained once qemu intercepts mpcifc instruction that guest is requesting a\nDMA range for that PCI Device. Therefore, before intercepting mpcifc instruction,\nqemu cannot be aware of the size of IOMMU region that guest will use.\n\nMoreover, iommu replay during device initialization for the whole region in\n4k steps takes a very long time.\n\nIn conclusion, this patch intializes IOMMU region for each PCI Device when\nintercept mpcifc instruction which is to register DMA range for the PCI Device.\nAnd then, destroy IOMMU region when guest wants to deregister IOAT.\n\nSigned-off-by: Yi Min Zhao <zyimin@linux.vnet.ibm.com>\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9994801878929138,PCI,"hw/s390x/s390-pci-bus.c, hw/s390x/s390-pci-bus.h, hw/s390x/s390-pci-inst.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c1f2448998062f25df395cd239169400a4c41ed6,55b4e80b047300e1512df02887b7448ba3786b62,Paolo Bonzini,2015-12-01,"qemu-char: retry g_poll on EINTR\n\nThis is a case where pty_chr_update_read_handler_locked's lack\nof error checking can produce incorrect values.  We are not using\nSIGUSR1 anymore, so this is quite theoretical, but easy to fix.\n\nReported-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996423721313475,GUS,qemu-char.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,30901475b91ef1f46304404ab4bfe89097f61b96,580106df5ff1a86df317c8a8080e48e1694d785e,Andrew Baumann,2015-12-17,"target-arm: raise exception on misaligned LDREX operands\n\nQemu does not generally perform alignment checks. However, the ARM ARM\nrequires implementation of alignment exceptions for a number of cases\nincluding LDREX, and Windows-on-ARM relies on this.\n\nThis change adds plumbing to enable alignment checks on loads using\nMO_ALIGN, a do_unaligned_access hook to raise the exception (data\nabort), and uses the new aligned loads in LDREX (for all but\nsingle-byte loads).\n\nSigned-off-by: Andrew Baumann <Andrew.Baumann@microsoft.com>\nMessage-id: 1449167808-5656-1-git-send-email-Andrew.Baumann@microsoft.com\n[PMM: set WnR bits in syndrome and FSR as appropriate]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.943692147731781,ARM,"target-arm/cpu.c, target-arm/helper.c, target-arm/internals.h, target-arm/op_helper.c, target-arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7999a5c8f63344d91c0822a17dbf30e2489a1128,30901475b91ef1f46304404ab4bfe89097f61b96,Sergey Fedorov,2015-12-17,target-arm: Fix and improve AA32 singlestep translation completion code\n\nThe AArch32 translation completion code for singlestep enabled/active\ncase was a way more confusing and too repetitive then it needs to be.\nProbably that was the cause for a bug to be introduced into it at some\npoint. The bug was that SWI/HVC/SMC exception would be generated in\ncondition-failed instruction code path whereas it shouldn't.\n\nThis patch rewrites the code in a way similar to the non-singlestep\ncase.\n\nIn the condition-passed/unconditional instruction code path we need to:\n - Write the condexec bits back to the CPU state\n - Advance the singlestep state machine and generate a corresponding\n   exception in case of SWI/HVC/SMC\n - Write the PC back to the CPU state if it hasn't already been written\n   and generate an appropriate singlestep exception otherwise\n\nIn the condition-failed instruction code path we need to:\n - Set a TCG label to jump to it if the condition is failed\n - Write the condexec bits back to the CPU state\n - Write the PC back to the CPU state since it hasn't been written in\n   this case\n - Generate an appropriate singlestep exception\n\nSigned-off-by: Sergey Fedorov <serge.fdrv@gmail.com>\nMessage-id: 1448474560-22475-1-git-send-email-serge.fdrv@gmail.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9993053674697876,TCG,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,26ae59348585e09d9386633984da211c87d52d4f,2ecb2027bc5033dfa92d00d708723053f9689564,Alex Benne,2015-12-17,target-arm: kvm - support for single step\n\nThis adds support for single-step. There isn't much to do on the QEMU\nside as after we set-up the request for single step via the debug ioctl\nit is all handled within the kernel.\n\nThe actual setting of the KVM_GUESTDBG_SINGLESTEP flag is already in the\ncommon code. If the kernel doesn't support guest debug the ioctl will\nsimply error.\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nMessage-id: 1449599553-24713-4-git-send-email-alex.bennee@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9995405673980712,KVM,target-arm/kvm64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,34c45d53026d9c135415d034a8bc30c1a30acf1c,e4482ab7e3849fb5e01ccacfc13f424cc6acb8d5,Alex Benne,2015-12-17,target-arm: kvm - re-inject guest debug exceptions\n\nIf we can't find details for the debug exception in our debug state\nthen we can assume the exception is due to debugging inside the guest.\nTo inject the exception into the guest state we re-use the TCG exception\ncode (do_interrupt).\n\nHowever while guest debugging is in effect we currently can't handle the\nguest using single step as we will keep trapping to back to userspace.\nGDB makes heavy use of single-step behind the scenes which effectively\nmeans the guest's ability to debug itself is disabled while it is being\ndebugged.\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nMessage-id: 1449599553-24713-6-git-send-email-alex.bennee@linaro.org\n[PMM: Fixed a few typos in comments and commit message]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9996540546417236,TCG,"target-arm/helper-a64.c, target-arm/kvm64.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8c56c1a592b5092d91da8d8943c17777d6462a6f,bc92e4e97ed62efa61ba983f57dfe33f10fe1d88,Pavel Fedin,2015-11-20,"memory: emulate ioeventfd\n\nThe ioeventfd mechanism is used by vhost, dataplane, and virtio-pci to\nturn guest MMIO/PIO writes into eventfd file descriptor events.  This\nallows arbitrary threads to be notified when the guest writes to a\nspecific MMIO/PIO address.\n\nqtest and TCG do not support ioeventfd because memory writes are not\nchecked against registered ioeventfds in QEMU.  This patch implements\nthis in memory_region_dispatch_write() so qtest can use ioeventfd.\n\nAlso this patch fixes vhost aborting on some misconfigured old kernels\nlike 3.18.0 on ARM. It is possible to explicitly enable CONFIG_EVENTFD\nin expert settings, while MMIO binding support in KVM will still be\nmissing.\n\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Pavel Fedin <p.fedin@samsung.com>\nMessage-Id: <006e01d12377$0b9c2d40$22d487c0$@samsung.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9953552484512328,"ARM, KVM, TCG","kvm-all.c, memory.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4cae9c97967a0e6311858285a30c44208210b277,f6d153f1bfc7839555309c6e090c6f20c1ce3c0e,Michael Chapman,2015-12-07,"target-i386: kvm: clear unusable segments' flags in migration\n\nThis commit fixes migration of a QEMU/KVM guest from kernel >= v3.9 to\nkernel <= v3.7 (e.g. from RHEL 7 to RHEL 6). Without this commit a guest\nmigrated across these kernel versions fails to resume on the target host\nas its segment descriptors are invalid.\n\nTwo separate kernel commits combined together to result in this bug:\n\n  commit f0495f9b9992f80f82b14306946444b287193390\n  Author: Avi Kivity <avi@redhat.com>\n  Date:   Thu Jun 7 17:06:10 2012 +0300\n\n      KVM: VMX: Relax check on unusable segment\n\n      Some userspace (e.g. QEMU 1.1) munge the d and g bits of segment\n      descriptors, causing us not to recognize them as unusable segments\n      with emulate_invalid_guest_state=1.  Relax the check by testing for\n      segment not present (a non-present segment cannot be usable).\n\n      Signed-off-by: Avi Kivity <avi@redhat.com>\n\n  commit 25391454e73e3156202264eb3c473825afe4bc94\n  Author: Gleb Natapov <gleb@redhat.com>\n  Date:   Mon Jan 21 15:36:46 2013 +0200\n\n      KVM: VMX: don't clobber segment AR of unusable segments.\n\n      Usability is returned in unusable field, so not need to clobber entire\n      AR. Callers have to know how to deal with unusable segments already\n      since if emulate_invalid_guest_state=true AR is not zeroed.\n\n      Signed-off-by: Gleb Natapov <gleb@redhat.com>\n      Signed-off-by: Marcelo Tosatti <mtosatti@redhat.com>\n\nThe first commit changed the KVM_SET_SREGS ioctl so that it did no treat\nsegment flags == 0 as an unusable segment, instead only looking at the\n""present"" flag.\n\nThe second commit changed KVM_GET_SREGS so that it did not clear the\nflags of an unusable segment.\n\nSince QEMU does not itself maintain the ""unusable"" flag across a\nmigration, the end result is that unusable segments read from a kernel\nwith these commits and loaded into a kernel without these commits are\nnot properly recognised as being unusable.\n\nThis commit updates both get_seg and set_seg so that the problem is\navoided even when migrating to or migrating from a QEMU without this\ncommit. In get_seg, we clear the segment flags if the segment is marked\nunusable. In set_seg, we mark the segment unusable if the segment's\n""present"" flag is not set.\n\nSigned-off-by: Michael Chapman <mike@very.puzzling.org>\nMessage-Id: <1449464047-17467-1-git-send-email-mike@very.puzzling.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996304512023926,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bf43330aa418908f7a5e2acda28ac1a8ed0d8ad6,e913cac71bac85438b7199711ac3290cb593701a,Mark Cave-Ayland,2015-11-08,"sun4u: split NPT and INT_DIS accesses between timer and compare registers\n\nAccesses to the timer register high bit should only set NPT, whilst accesses\nto the timer compare register high bit should only set INT_DIS. This fixes\nissues with the timer being unexpectedly disabled whilst trying to boot\nFreeBSD SPARC64.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-By: Artyom Tarasenko <atar4qemu@gmail.com>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>",1,0.9991439580917358,"SPARC, SPARC64",hw/sparc64/sun4u.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7d938fd14b87e1d8db2de5ea1359d6d11e366a56,84d04e216279b5388c66c00fb00ed591da894357,Herv Poussineau,2015-12-20,"ohci: fix Host Controller USBRESET\n\nSpecification says that, when entering this state, ""the contents of the registers\n(except Root Hub registers) are preserved by the HC. [...] The Root Hub is being reset,\nwhich causes the Root Hub's downstream ports to be reset and possibly powered off.""\n\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nMessage-id: 1450567431-31795-3-git-send-email-hpoussin@reactos.org\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996930360794068,USB,hw/usb/hcd-ohci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3e24bb3f1277ee25743f0a3274306080df80da2c,928bed6a057cedd6110e634865e021a24029785a,Laurent Vivier,2015-10-06,"linux-user: in poll(), if nfds is 0, pfd can be NULL\n\nThis problem appears with yum in Fedora 20 / PPC64 container.\n\ntest case:\n\n    #include <stdio.h>\n    #include <poll.h>\n\n    int main(void)\n    {\n        int ret;\n\n        ret = poll(NULL, 0, 1000);\n        printf(""%d\n"", ret);\n    }\n\ntarget test environment: Fedora 20 / PPC64\nhost test environment: Ubuntu 14.0.2 / x86_64\n\noriginal test result: -1\n\n    13451 poll(0,0,1000,274886297496,268566664,268566648) = -1 errno=14 (Bad address)\n\npatched test result: 0\n\n    13536 poll(0,0,1000,274886297496,268566664,268566648) = 0\n\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.999614715576172,"PPC, PPC64",linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4083733db5e4120939acee57019ff52db1f45b9d,a7e00e2536941a6e570b45b7ab4afec4505ff67e,OGAWA Hirofumi,2015-11-29,"ui/curses: Fix color attribute of monitor for curses\n\nCurrent text_console_update() writes totally broken color attributes\nto console_write_ch(). The format now is writing,\n\n[WRONG]\n	bold << 21 | fg << 12 | bg << 8 | char\n	fg == 3bits curses color number\n	bg == 3bits curses color number\n\nI can't see this format is where come from. Anyway, this doesn't work\nat all.\n\nWhat curses expects is actually (and vga.c is using),\n\n[RIGHT]\n	bold << 21 | bg << 11 | fg << 8 | char\n	fg == 3bits vga color number\n	bg == 3bits vga color number\n\nAnd curses set COLOR_PAIR() up to match this format, and curses's\nchtype. I.e,\n\n	bold | color_pair | char\n	color_pair == (bg << 3 | fg)\n\nTo fix, this simply uses VGA color number everywhere except curses.c\ninternal. Then, convert it to above [RIGHT] format to write by\nconsole_write_ch(). And as bonus, this reduces to expose curses define\nto other parts (removes COLOR_* from console.c).\n\n[Tested the first line is displayed as white on blue back for monitor\nin curses console]\n\nSigned-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>\nMessage-id: 87r3j95407.fsf@mail.parknet.co.jp\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997227787971495,VGA,"hw/display/jazz_led.c, hw/display/vga.c, include/ui/console.h, ui/console.c, ui/curses.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8a1be662a69e3f14741f7c44e971a727126d1532,56a571d9c803b7a2348373ca3feb44ca4e0d9131,Cornelia Huck,2016-01-08,"virtio: fix error message for number of queues\n\nThere's no such thing as ""PCI queues"" in the virtio core.\n\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996603727340698,PCI,hw/virtio/virtio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,54c6de864fb6286ce8e9035f10f3193d2caf0897,6bb9ead762bf749af11ea225fc2a74db1b93c105,Thomas Huth,2015-12-18,hw/ppc/spapr_rtc: Remove bad class_size value\n\nclass_size = sizeof(XICSStateClass) does not make much sense\nin the RTC code and likely was just a copy-n-paste error.\nLet's simply remove it.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9915346503257751,XICS,hw/ppc/spapr_rtc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,71c2f5b9b3f386b6acae54f5646a445e50717806,2e4ca7dbc11ab7fbdfbdefa1fd6dc4ed3e90eabe,Miao Yan,2015-12-07,"net/vmxnet3: fix debug macro pattern for vmxnet3\n\nVmxnet3 uses the following debug macro style:\n\n #ifdef SOME_DEBUG\n #  define debug(...) do{ printf(...); } while (0)\n # else\n #  define debug(...) do{ } while (0)\n #endif\n\nIf SOME_DEBUG is undefined, then format string inside the\ndebug macro will never be checked by compiler. Code is\nlikely to break in the future when SOME_DEBUG is enabled\n because of lack of testing. This patch changes this\nto the following:\n\n #define debug(...) \\n  do { if (SOME_DEBUG_ENABLED) printf(...); } while (0)\n\nSigned-off-by: Miao Yan <yanmiaobest@gmail.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Dmitry Fleytman <dmitry@daynix.com>\nSigned-off-by: Jason Wang <jasowang@redhat.com>",1,0.9997133612632751,LED,hw/net/vmxnet_debug.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,007cd223de527b5f41278f2d886c1a4beb3e67aa,7d6d347d0602997a7fcb33b7edd20f8d8515b48b,Prasad J Pandit,2015-12-28,"net: rocker: fix an incorrect array bounds check\n\nWhile processing transmit(tx) descriptors in 'tx_consume' routine\nthe switch emulator suffers from an off-by-one error, if a\ndescriptor was to have more than allowed(ROCKER_TX_FRAGS_MAX=16)\nfragments. Fix an incorrect bounds check to avoid it.\n\nReported-by: Qinghao Tang <luodalongde@gmail.com>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Prasad J Pandit <pjp@fedoraproject.org>\nSigned-off-by: Jason Wang <jasowang@redhat.com>",1,0.9997246861457824,ROCKER,hw/net/rocker/rocker.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4ab0359a8ae182a7ac5c99609667273167703fab,97225170f6ee6d0ad8653916c7a5e4508cbffc18,Prasad J Pandit,2016-01-11,"ide: ahci: reset ncq object to unused on error\n\nWhen processing NCQ commands, AHCI device emulation prepares a\nNCQ transfer object; To which an aio control block(aiocb) object\nis assigned in 'execute_ncq_command'. In case, when the NCQ\ncommand is invalid, the 'aiocb' object is not assigned, and NCQ\ntransfer object is left as 'used'. This leads to a use after\nfree kind of error in 'bdrv_aio_cancel_async' via 'ahci_reset_port'.\nReset NCQ transfer object to 'unused' to avoid it.\n\n[Maintainer edit: s/ACHI/AHCI/ in the commit message. --js]\n\nReported-by: Qinghao Tang <luodalongde@gmail.com>\nSigned-off-by: Prasad J Pandit <pjp@fedoraproject.org>\nReviewed-by: John Snow <jsnow@redhat.com>\nMessage-id: 1452282511-4116-1-git-send-email-ppandit@redhat.com\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.9888423681259156,AHCI,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,248de4a89915001e64176580d620d22b612e06f2,4ab0359a8ae182a7ac5c99609667273167703fab,John Snow,2016-01-11,ahci-test: fix memory leak\n\nUse the proper free command to detroy an AHCICommand.\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nMessage-id: 1452282920-21550-2-git-send-email-jsnow@redhat.com,1,0.9996849298477172,AHCI,tests/ahci-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e1dc68155cafabfd6a065391f7826d5d0992b46e,1cb6d137ffd380c458be2da24a58404708c0db55,Cao jin,2016-01-06,SCSI device: fix to incomplete QOMify\n\nSigned-off-by: Cao jin <caoj.fnst@cn.fujitsu.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-Id: <1452073066-28319-1-git-send-email-caoj.fnst@cn.fujitsu.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996546506881714,SCSI,"hw/scsi/megasas.c, hw/scsi/scsi-bus.c, hw/scsi/virtio-scsi.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,06bb88145cb977fe699a80df82b619eadbc29b28,67c4c2bd958b0074ffbcde12cb434cd064adab12,Christophe Fergeau,2016-01-12,"Fix corner-case when using VNC+SASL+SPICE\n\nSimilarly to the commit 764eb39d1b6 fixing VNC+SASL+QXL, when starting\nQEMU with SPICE but no SASL, and at the same time VNC with SASL, then\nspice_server_init() will get called without a previous call to\nspice_server_set_sasl_appname(), which will cause cyrus-sasl to\ntry to use /etc/sasl2/spice.conf (spice-server uses ""spice"" as its\ndefault appname) rather than the expected /etc/sasl2/qemu.conf.\n\nThis commit unconditionally calls spice_server_set_sasl_appname()\nbefore calling spice_server_init() in order to use the correct appname\neven if SPICE without SASL was requested on qemu command line.\n\nSigned-off-by: Christophe Fergeau <cfergeau@redhat.com>\nMessage-id: 1452607738-1521-1-git-send-email-cfergeau@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997290968894958,"QXL, SPICE",ui/spice-core.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f5793fd9e1fd89808f4adbfe690235b094176a37,3db34bf64ab4f8797565dd8750003156c32b301d,Alex Williamson,2016-01-19,"vfio/pci-quirks: Only quirk to size of PCI config space\n\nFor quirks that support the full PCIe extended config space, limit the\nquirk to only the size of config space available through vfio.  This\nallows host systems with broken MMCONFIG regions to still make use of\nthese quirks without generating bad address faults trying to access\nbeyond the end of config space exposed through vfio.  This may expose\ndirect access to the mirror of extended config space, only trapping\nthe sub-range of standard config space, but allowing this makes the\nquirk, and thus the device, functional.  We expect that only device\nspecific accesses make use of the mirror, not general extended PCI\ncapability accesses, so any virtualization in this space is likely\nunnecessary anyway, and the device is still IOMMU isolated, so it\nshould only be able to hurt itself through any bogus configurations\nenabled by this space.\n\nLink: https://www.redhat.com/archives/vfio-users/2015-November/msg00192.html\nReported-by: Ronnie Swanink <ronnie@ronnieswanink.nl>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9907814860343932,PCI,hw/vfio/pci-quirks.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,12ebc9a76dd7702aef0a3618717a826c19c34ef4,56943e8cc14b7eeeab67d1942fa5d8bcafe3e53f,Peter Maydell,2016-01-21,"exec.c: Allow target CPUs to define multiple AddressSpaces\n\nAllow multiple calls to cpu_address_space_init(); each\ncall adds an entry to the cpu->ases array at the specified\nindex. It is up to the target-specific CPU code to actually use\nthese extra address spaces.\n\nSince this multiple AddressSpace support won't work with\nKVM, add an assertion to avoid confusing failures.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nAcked-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>",1,0.9975584745407104,KVM,"cpus.c, exec.c, include/exec/exec-all.h, include/qom/cpu.h, target-i386/cpu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,889912999d3f089cb8b6db8763ebec11022768b9,047e363b05679724d6b784c6ec6310697fe48ba0,Dongxue Zhang,2015-11-25,"target-mips/cpu.h: Fix spell error\n\nCP0IntCtl_IPPC1, the last letter should be 'i', not 'one'.\n\nSigned-off-by: Dongxue Zhang <elta.era@gmail.com>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.999671459197998,PPC,target-mips/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3a4b791b4c13e02537a5cc572fa3de70bc5f68da,98a5d100c2dfcc2b6daefd8c176eb34055e5b38d,Greg Kurz,2016-01-15,"target-ppc: kvm: fix floating point registers sync on little-endian hosts\n\nOn VSX capable CPUs, the 32 FP registers are mapped to the high-bits\nof the 32 first VSX registers. So if you have:\n\nVSR31 = (uint128) 0x0102030405060708090a0b0c0d0e0f00\n\nthen\n\nFPR31 = (uint64) 0x0102030405060708\n\nThe kernel stores the VSX registers in the fp_state struct following the\nhost endian element ordering.\n\nOn big-endian:\n\nfp_state.fpr[31][0] = 0x0102030405060708\nfp_state.fpr[31][1] = 0x090a0b0c0d0e0f00\n\nOn little-endian:\n\nfp_state.fpr[31][0] = 0x090a0b0c0d0e0f00\nfp_state.fpr[31][1] = 0x0102030405060708\n\nThe KVM_GET_ONE_REG and KVM_SET_ONE_REG ioctls preserve this ordering, but\nQEMU considers it as big-endian and always copies element [0] to the\nfpr[] array and element [1] to the vsr[] array. This does not work with\nlittle-endian hosts, and you will get:\n\n(qemu) p $f31\n0x90a0b0c0d0e0f00\n\ninstead of:\n\n(qemu) p $f31\n0x102030405060708\n\nThis patch fixes the element ordering for little-endian hosts.\n\nSigned-off-by: Greg Kurz <gkurz@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.99971741437912,KVM,target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ff472a5badf8e6d964455de39ca67ea3a7758dea,ecbc25fa86ce44cf5aea94adaf79ea8428f12f4b,Alyssa Milburn,2016-01-22,"cuda.c: return error for unknown commands\n\nThis avoids MacsBug hanging at startup in the absence of ADB mouse\ninput, by replying with an error (which is also what MOL does) when\nit sends an unknown command (0x1c).\n\nSigned-off-by: Alyssa Milburn <fuzzie@fuzzie.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996089339256288,ADB,hw/misc/macio/cuda.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1760048a5d21bacf0e4838da2f61b2d8db7d2866,47213eb1104709bf238c8d16db20aa47d37b1c59,Marc-Andr Lureau,2015-12-18,ivshmem-test: leak fixes\n\nAdd a cleanup_vm() function to free QPCIDevice & QPCIBus when cleaning\nup the IVState.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>,1,0.999428689479828,PCI,tests/ivshmem-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b5c6eaf173cbeec414b2d837c5703515f979f2af,13d11b0ba85c8a02b0527fa360286e1f68c59b22,Paolo Bonzini,2016-02-04,"vhost-user-test: use correct ROM to speed up and avoid spurious failures\n\nThe mechanism to get the option ROM for virtio-net does not block the\nPCI ROM from being loaded. Therefore, in vhost-user-test there are\ntwo entries in the boot menu for the virtio-net card: one as an\nembedded option ROM, one from the ROM BAR.\n\nThe embedded option ROM in vhost-user-test is the non-EFI-enabled,\nwhile the ROM BAR has an EFI-enabled ROM. The two are compiled with\nslightly different parameters, where only the old BIOS-only one doesn't\nhave a timeout for the ""Press Ctrl-B"" banner. When using a new\nmachine type, therefore, the vhost-user-test has to wait for the\nEFI-enabled ROM's banner to go away. There are several ways to fix\nthis:\n\n1) fix the ROMs to have the same configuration\n\n2) add "",romfile="" to the -device line\n\n3) remove --option-rom and add the ROM file name to the -device line\n\n4) use an old machine type\n\nThis patch chooses 3. In addition, the file name was wrong because\nqtest runs QEMU relative to the top build directory, not to the\nx86_64-softmmu/ subdirectory, which is fixed too.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9267412424087524,PCI,tests/vhost-user-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d13ada5d8f5064615db3a6bf5ef457cb159e3dff,0144f6f1ce536b2c56a9b16ef189fc81c3bcb82f,Cdric Le Goater,2016-01-25,"ipmi: replace goto by a return statement\n\nEach routine using the IPMI_ADD_RSP_DATA, IPMI_CHECK_CMD_LEN or\nIPMI_CHECK_RESERVATION macros needs to define a goto label 'out' to\nhandle hidden errors. Using directly a return statement has the same\neffect and it removes the fact that 'out' needs to be defined.\n\nThe code exits in ipmi_sim_handle_command() are a little different\nfrom the rest and a ""possible"" error in the macro IPMI_ADD_RSP_DATA is\nhandled before making use of it. This might be a bit excessive as a\nminimum response len is currently 300 bytes and the patch checks that\nat least 3 are available.\n\nSigned-off-by: Cdric Le Goater <clg@fr.ibm.com>\nReviewed-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Greg Kurz <gkurz@linux.vnet.ibm.com>\nReviewed-by: Corey Minyard <cminyard@mvista.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9993500113487244,IPMI,hw/ipmi/ipmi_bmc_sim.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,792afddb4a5cb2da11a57cfdb124b78981ed1fda,7cfa06a2f1db6fef2be7f645697dbc6c4006324a,Cdric Le Goater,2016-01-25,"ipmi: fix SDR length value\n\nThe IPMI BMC simulator populates the SDR table with a set of initial\nSDRs. The length of each SDR is taken from the record itself (byte 4)\nwhich does not include the size of the header. But, the full length\n(header + data) is required by the sdr_add_entry() routine.\n\nSigned-off-by: Cdric Le Goater <clg@fr.ibm.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996933937072754,IPMI,hw/ipmi/ipmi_bmc_sim.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,86ae191163d48ff4ff9d9996868e6cfe92a82449,455ba08afde784466420449d01c6458f88349d55,Eric Blake,2016-02-02,"qapi: Fix compilation failure on MIPS and SPARC\n\nCommit 86f4b687 broke compilation on MIPS and SPARC, which have a\npreprocessor pollution of '#define mips 1' and '#define sparc 1',\nrespectively.  Treat it the same way as we do for the pollution with\n'unix', so that QMP remains backwards compatible and only the C code\nneeds to use the alternative 'q_mips', 'q_sparc' spelling.\n\nCC: James Hogan <james.hogan@imgtec.com>\nCC: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Eric Blake <eblake@redhat.com>\nTested-by: James Hogan <james.hogan@imgtec.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>",1,0.9996191263198853,"MIPS, SPARC","cpus.c, hmp.c, scripts/qapi.py",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2045f04c3ae030bda650f84035f114bbd84909a9,743e398e2fbf2f7183bf7a53c9d011fabcaa1770,Richard Henderson,2015-12-17,target-i386: Rewrite leave\n\nUnify the code across stack pointer widths.  Fix the note about\nnot updating ESP before the potential exception.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nMessage-Id: <1450379966-28198-9-git-send-email-rth@twiddle.net>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9984886646270752,ESP,target-i386/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,568496c0c0f1863a4bc18539962cd8d81baa4e30,7d197d2db5e99e4c8b20f6771ddc7303acaa1c89,Sergey Fedorov,2016-02-11,"cpu: Add callback to check architectural watchpoint match\n\nWhen QEMU watchpoint matches, that is not definitely an architectural\nwatchpoint match yet. If it is a stop-before-access watchpoint then that\nis hardly possible to ignore it after throwing a TCG exception.\n\nA special callback is introduced to check for architectural watchpoint\nmatch before raising a TCG exception.\n\nSigned-off-by: Sergey Fedorov <serge.fdrv@gmail.com>\nMessage-id: 1454256948-10485-2-git-send-email-serge.fdrv@gmail.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9994015693664552,TCG,"exec.c, include/qom/cpu.h, qom/cpu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,79095ef717957e24dbcba026bb21f5990ceace88,1b3337bb1d1c3125a2140c47629f36540ac57605,Chen Fan,2016-02-19,"pcie: modify the capability size assert\n\nDevice's Offset and size can reach PCIE_CONFIG_SPACE_SIZE,\nfix the corresponding assert.\n\nSigned-off-by: Chen Fan <chen.fan.fnst@cn.fujitsu.com>\nReviewed-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9948050379753112,PCI,hw/pci/pcie.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3fc1c182c1c1131ab16ce282b3d9567f334a96df,40f8f0c31b6009e802175463c97f3b9e6f7c5d0f,Wei Yang,2016-02-19,"vfio/pci: replace 1 with PCI_CAP_LIST_NEXT to make code self-explain\n\nUse the macro PCI_CAP_LIST_NEXT instead of 1, so that the code would be\nmore self-explain.\n\nThis patch makes this change and also fixs one typo in comment.\n\nSigned-off-by: Wei Yang <richard.weiyang@gmail.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9790230393409728,PCI,hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,80eecda8e5d09c442c24307f340840a5b70ea3b9,8eb779e4223a18db9838a49ece1bc72cfdfb7761,Prasad J Pandit,2016-02-11,"usb: check USB configuration descriptor object\n\nWhen processing remote NDIS control message packets, the USB Net\ndevice emulator checks to see if the USB configuration descriptor\nobject is of RNDIS type(2). But it does not check if it is null,\nwhich leads to a null dereference error. Add check to avoid it.\n\nReported-by: Qinghao Tang <luodalongde@gmail.com>\nSigned-off-by: Prasad J Pandit <pjp@fedoraproject.org>\nMessage-id: 1455188480-14688-1-git-send-email-ppandit@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9988422989845276,USB,hw/usb/dev-network.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,072ed5f260865c8aac8c7cc0f23353b8d5753580,9897e462645fb8d91a4cef2a1ea3a74cc9149c13,Thomas Huth,2016-02-18,"ppc/kvm: Use error_report() instead of cpu_abort() for user-triggerable errors\n\nSetting the KVM_CAP_PPC_PAPR capability can fail if either the KVM\nkernel module does not support it, or if the specified vCPU type\nis not a 64-bit Book3-S CPU type. For example, the user can trigger\nit easily with ""-M pseries -cpu G2leLS"" when using the kvm-pr kernel\nmodule. So the error should not be reported with cpu_abort() since\nthis function is rather meant for reporting programming errors than\nreporting user-triggerable errors (it prints out all CPU registers\nand then calls abort() to kills the program - two things that the\nnormal user does not expect here) . So let's use error_report() with\nexit(1) here instead.\nA similar problem exists in the code that sets the KVM_CAP_PPC_EPR\ncapability, so while we're at it, fix that, too.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997194409370422,"KVM, PPC",target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5dc1fbae707513f9664aa88940a2cd52b064cda2,723733575b90089c51adefde41875310052031c2,Bastian Koppelmann,2016-02-16,target-tricore: Fix wrong precedences on psw_write\n\nWrong braces on the restore of the cached TCGv SV and V bit could lead to\na wrong PSW. While at this it removes unnecessary braces for the restore\nof the cached TCGv AV and SAV bits.\n\nSigned-off-by: Bastian Koppelmann <kbastian@mail.uni-paderborn.de>,1,0.9994372725486756,TCG,target-tricore/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f8c88bbcda76d5674e4bb125471371b41d330df8,50866ba5a2cfe922aaf3edb79f6eac5b0653477a,Peter Maydell,2016-02-23,"target-arm: Raw CPSR writes should skip checks and bank switching\n\nRaw CPSR writes should skip the architectural checks for whether\nwe're allowed to set the A or F bits and should also not do\nthe switching of register banks if the mode changes. Handle\nthis inside cpsr_write(), which allows us to drop the ""manually\nset the mode bits to avoid the bank switch"" code from all the\ncallsites which are using CPSRWriteRaw.\n\nThis fixes a bug in 32-bit KVM handling where we had forgotten\nthe ""manually set the mode bits"" part and could thus potentially\ntrash the register state if the mode from the last exit to userspace\ndiffered from the mode on this exit.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Sergey Fedorov <serge.fdrv@gmail.com>\nMessage-id: 1455556977-3644-4-git-send-email-peter.maydell@linaro.org",1,0.999626398086548,KVM,"target-arm/helper.c, target-arm/kvm64.c, target-arm/machine.c, target-arm/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a8d64e735182cbbb5dcc98f41656b118c45e57cc,10eacda787ac9990dc22d4437b289200c819712c,Peter Maydell,2016-02-19,"target-arm: Fix handling of SDCR for 32-bit code\n\nFix two issues with our implementation of the SDCR:\n * it is only present from ARMv8 onwards\n * it does not contain several of the trap bits present in its 64-bit\n   counterpart the MDCR_EL3\n\nPut the register description in the right place so that it does not\nget enabled for ARMv7 and earlier, and give it a write function so that\nwe can mask out the bits which should not be allowed to have an effect\nif EL3 is 32-bit.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1455892784-11328-2-git-send-email-peter.maydell@linaro.org\nReviewed-by: Sergey Fedorov <serge.fdrv@gmail.com>\nAcked-by: Alistair Francis <alistair.francis@xilinx.com>",1,0.9997279047966005,ARM,"target-arm/cpu.h, target-arm/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d44ec156300a149b386a14d3ab349d3b83b66b8c,0a7ac9f9e72246ce41dfb101c77a58de607aef7c,Edgar E. Iglesias,2016-02-26,target-arm: Mark CNTHP_TVAL_EL2 as ARM_CP_NO_RAW\n\nMark CNTHP_TVAL_EL2 as ARM_CP_NO_RAW due to the register not\nhaving any underlying state. This fixes an issue with booting\nKVM enabled kernels when EL2 is on.\n\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nMessage-id: 1456490739-19343-1-git-send-email-edgar.iglesias@gmail.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.999708354473114,"ARM, KVM",target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e20d84c1407d43d5a2e2ac95dbb46db3b0af8f9f,d44ec156300a149b386a14d3ab349d3b83b66b8c,Peter Maydell,2016-02-19,"target-arm: Make reserved ranges in ID_AA64* spaces RAZ, not UNDEF\n\nThe v8 ARM ARM defines that unused spaces in the ID_AA64* system\nregister ranges are Reserved and must RAZ, rather than being UNDEF.\nImplement this.\n\nIn particular, ARM v8.2 adds a new feature register ID_AA64MMFR2,\nand newer versions of the Linux kernel will attempt to read this,\nwhich causes them not to boot up on versions of QEMU missing this fix.\n\nSince the encoding .opc0 = 3, .opc1 = 0, .crn = 0, .crm = 2, .opc2 = 6\nis actually defined in ARMv8 (as ID_MMFR4), we give it an entry in\nthe ARMCPU struct so CPUs can override it, though since none do\nthis too will just RAZ.\n\nCc: qemu-stable@nongnu.org\nReported-by: Ard Biesheuvel <ard.biesheuvel@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1455890863-11203-1-git-send-email-peter.maydell@linaro.org\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nTested-by: Alex Benne <alex.bennee@linaro.org>",1,0.997527539730072,ARM,"target-arm/cpu-qom.h, target-arm/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fee5b753ff0eb8b25685227804a60dbc4a2ce6ea,071608b519adf62bc29c914343a21c5407ab1ac9,Gerd Hoffmann,2016-03-01,seabios: update to 1.9.1 stable release\n\ngit shortlog rel-1.9.0..rel-1.9.1\n=================================\n\nCole Robinson (1):\n      biostables: Support SMBIOS 2.6+ UUID format\n\nKevin O'Connor (7):\n      xhci: Check for device disconnects during USB2 reset polling\n      xhci: Wait for port enable even for USB3 devices\n      sdcard: Only enable error_irq_enable for bits defined in SDHCI v1 spec\n      sdcard: fix typo causing 32bit write to 16bit block_size field\n      nmi: Don't try to switch onto extra stack in NMI handler\n      scsi: Do not call printf() from scsi_is_ready()\n      coreboot: Check for unaligned cbfs header\n\nMarcel Apfelbaum (1):\n      fw/pci: do not automatically allocate IO region for PCIe bridges\n\nRoger Pau Monne (1):\n      build: fix typo in buildversion.py\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9952247142791748,"PCI, SDHCI, SMBIOS, USB","pc-bios/bios-256k.bin, pc-bios/bios.bin, pc-bios/vgabios-cirrus.bin, pc-bios/vgabios-qxl.bin, pc-bios/vgabios-stdvga.bin, pc-bios/vgabios-virtio.bin, pc-bios/vgabios-vmware.bin, pc-bios/vgabios.bin, roms/seabios",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8c4f0eb94cc65ee32a12feba88d0b32e3665d5ea,2d3b7c0164e1b9287304bc70dd6ed071ba3e8dfc,Peter Maydell,2016-03-04,"target-arm: Correct handling of writes to CPSR mode bits from gdb in usermode\n\nIn helper.c the expression\n  (env->uncached_cpsr & CPSR_M) != CPSR_USER\nis always true; the right hand side was supposed to be ARM_CPU_MODE_USR\n(an error in commit cb01d391).\n\nSince the incorrect expression was always true, this just meant that\ncommit cb01d391 had no effect.\n\nHowever simply changing the RHS here would reveal a logic error: if\nthe mode is USR we wish to completely ignore the attempt to set the\nmode bits, which means that we must clear the CPSR_M bits from mask\nto avoid the uncached_cpsr bits being updated at the end of the\nfunction.\n\nMove the condition into the correct place in the code, fix its RHS\nconstant, and add a comment about the fact that we must be doing a\ngdbstub write if we're in user mode.\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1550503\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Sergey Fedorov <serge.fdrv@gmail.com>\nMessage-id: 1456764438-30015-1-git-send-email-peter.maydell@linaro.org",1,0.9994662404060364,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0719e71e5297f68b6b4500aa74e1b49d59806342,71c2768433048990c882d058c8b2f62bc17f46e6,Peter Maydell,2016-03-04,"sd.c: Handle NULL block backend in sd_get_inserted()\n\nThe sd.c SD card emulation code can be in a state where the\nSDState BlockBackend pointer is NULL; this is treated as\n""card not present"". Add a missing check to sd_get_inserted()\nso that we don't segfault in this situation.\n\n(This could be provoked by the guest writing to the SDHCI\nregister to do a reset on a xilinx-zynq-a9 board; it will\nalso happen at startup when sdhci implements its DeviceClass\nreset method.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Alistair Francis <alistair.francis@xilinx.com>\nMessage-id: 1456493044-10025-2-git-send-email-peter.maydell@linaro.org",1,0.9989380240440368,SDHCI,hw/sd/sd.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c82f503dd5c3f0a01a9e63741f1f875652669867,7335a95abd400127b46f3b641e6cd15dd11703fd,Marcel Apfelbaum,2016-03-07,"hw/acpi: fix Q35 support for legacy Windows OS\n\nLegacy Windows operating systems like Windows XP and Windows 2003\nrequire _DIS method to be present for all interrupt links.\n\nPC machines already have a no-op implemented for GSI links, add\nit also in Q35.\n\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>",1,0.999651312828064,Q35,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2c02a48e6d3c9778f8f110e1ce4fefbc05f37a97,c82f503dd5c3f0a01a9e63741f1f875652669867,Michael S. Tsirkin,2016-03-11,"acpi-test-data: add _DIS methods\n\ncommit c82f503dd5c3f0a01a9e63741f1f875652669867\n(""hw/acpi: fix Q35 support for legacy Windows OS"")\nadded _DIS for all link devices.\n\nUpdate expected test files accordingly.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9994719624519348,Q35,"tests/acpi-test-data/q35/DSDT, tests/acpi-test-data/q35/DSDT.bridge",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5803fce3891094618ba018ca1b7ba09ce5de9437,3d3ebcad6a0ff7ceb6dd0f2f678c326968399b18,Igor Mammedov,2016-02-26,"pc: acpi: SRAT: create only valid processor lapic entries\n\nWhen APIC IDs are sparse*, in addition to valid LAPIC\nentries the SRAT is also filled invalid ones for non\npossible APIC IDs.\nFix it by asking machine for all possible APIC IDs\ninstead of wrongly assuming that all APIC IDs in\nrange 0..apic_id_limit are possible.\n\n* sparse lapic topology CLI:\n     -smp x,sockets=2,cores=3,maxcpus=6\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997100234031676,APIC,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,492a4c94be8853aa378a5dd8a1f8e3181754aabd,4467c6c118b85133846785f517e5733112e811b4,Lan Tianyu,2016-02-25,"kvm: Remove x2apic feature from CPU model when kernel_irqchip is off\n\nx2apic feature is in the kvm_default_props and automatically added to all\nCPU models when KVM is enabled. But userspace devices don't support x2apic\nwhich can't be enabled without the in-kernel irqchip. It will trigger\nwarning of ""host doesn't support requested feature: CPUID.01H:ECX.x2apic\n[bit 21]"" when kernel_irqchip is off. This patch is to fix it via removing\nx2apic feature when kernel_irqchip is off.\n\nSigned-off-by: Lan Tianyu <tianyu.lan@intel.com>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9978746175765992,KVM,target-i386/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6a991e07bb8eeb7d7799a949c0528dffb84b2a98,5167560b030d69fc51f60eefe09747a38cff88db,Marcel Apfelbaum,2016-03-13,"hw/acpi: fix GSI links UID\n\nAccording to the ACPI spec, each UID must be unique.\nUse the irq number as UID for GSI links.\n\nSuggested-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9994903802871704,ACPI,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1e440cbc99d810ac8153619e6fbee3d7dfaf1893,d6f1445fafa8dcb578c90e7b475fd4728abd99da,Thomas Huth,2016-03-02,ppc: Fix migration of the TAR SPR\n\nThe TAR special purpose register currently does not get migrated\nunder KVM because it does not get synchronized with the kernel.\nUse spr_register_kvm() instead of spr_register() to fix this issue.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9997177720069884,KVM,target-ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,788d2599def0e26d92802593b07ec76e8701ccce,a88dced8eb69730df39cb04bb3e262e5b98d5f5c,Michael Roth,2016-03-03,"spapr_pci: fix multifunction hotplug\n\nSince 3f1e147, QEMU has adopted a convention of supporting function\nhotplug by deferring hotplug events until func 0 is hotplugged.\nThis is likely how management tools like libvirt would expose\nsuch support going forward.\n\nSince sPAPR guests rely on per-func events rather than\nslot-based, our protocol has been to hotplug func 0 *first* to\navoid cases where devices appear within guests without func 0\npresent to avoid undefined behavior.\n\nTo remain compatible with new convention, defer hotplug in a\nsimilar manner, but then generate events in 0-first order as we\ndid in the past. Once func 0 present, fail any attempts to plug\nadditional functions (as we do with PCIe).\n\nFor unplug, defer unplug operations in a similar manner, but\ngenerate unplug events such that function 0 is removed last in guest.\n\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996355772018432,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fec44a8c70e23f0f8433a28e824ce6dae4de8cde,6717f587a478be37294cc5cfbbd84c5a6ce1aa1f,Peter Maydell,2016-03-16,"sd: Fix ""info qtree"" on boards with SD cards\n\nThe SD card object is not a SysBusDevice, so don't create it with\nqdev_create() if we're not assigning it to a specific bus; use\nobject_new() instead.\n\nThis was causing 'info qtree' to segfault on boards with SD cards,\nbecause qdev_create(NULL, TYPE_FOO) puts the created object on the\nsystem bus, and then we may try to run functions like sysbus_dev_print()\non it, which fail when casting the object to SysBusDevice.\n\n(This is the same mistake that we made with the NAND device\nand fixed in commit 6749695eaaf346c1.)\n\nReported-by: xiaoqiang.zhao <zxq_yx_007@163.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: xiaoqiang.zhao <zxq_yx_007@163.com>\nMessage-id: 1458061009-7733-1-git-send-email-peter.maydell@linaro.org",1,0.999728500843048,NAND,hw/sd/sd.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dff0367cf66f489aa772320fa2937a8cac1ca30d,983bff3530782d51c46c8d7c0e17e2a9dfe5fb77,Prasad J Pandit,2016-01-29,"usb: ehci: add capability mmio write function\n\nUSB Ehci emulation supports host controller capability registers.\nBut its mmio '.write' function was missing, which lead to a null\npointer dereference issue. Add a do nothing 'ehci_caps_write'\ndefinition to avoid it; Do nothing because capability registers\nare Read Only(RO).\n\nReported-by: Zuozhi Fzz <zuozhi.fzz@alibaba-inc.com>\nSigned-off-by: Prasad J Pandit <pjp@fedoraproject.org>\nMessage-id: 1454072434-16045-1-git-send-email-ppandit@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9723843336105348,USB,hw/usb/hcd-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,998261726a6aff3c8a88ae6965e51a6717b467ff,330b58368ca16c31efdadcf8263f7f903546af50,Markus Armbruster,2016-03-15,"tests/libqos/pci-pc: Fix qpci_pc_iomap() to map BARs aligned\n\nqpci_pc_iomap() maps BARs one after the other, without padding.  This\nis wrong.  PCI Local Bus Specification Revision 3.0, 6.2.5.1. Address\nMaps: ""all address spaces used are a power of two in size and are\nnaturally aligned"".  That's because the size of a BAR is given by the\nnumber of address bits the device decodes, and the BAR needs to be\nmapped at a multiple of that size to ensure the address decoding\nworks.\n\nFix qpci_pc_iomap() accordingly.  This takes care of a FIXME in\nivshmem-test.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <1458066895-20632-7-git-send-email-armbru@redhat.com>",1,0.9996722936630248,PCI,"tests/ivshmem-test.c, tests/libqos/pci-pc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3a55fc0f243104998bee5106b121cff257df5d33,9db51b4d64ded01536b3851a5a50e484ac2f7899,Markus Armbruster,2016-03-15,"ivshmem: Receive shared memory synchronously in realize()\n\nWhen configured for interrupts (property ""chardev"" given), we receive\nthe shared memory from an ivshmem server.  We do so asynchronously\nafter realize() completes, by setting up callbacks with\nqemu_chr_add_handlers().\n\nKeeping server I/O out of realize() that way avoids delays due to a\nslow server.  This is probably relevant only for hot plug.\n\nHowever, this funny ""no shared memory, yet"" state of the device also\ncauses a raft of issues that are hard or impossible to work around:\n\n* The guest is exposed to this state: when we enter and leave it its\n  shared memory contents is apruptly replaced, and device register\n  IVPosition changes.\n\n  This is a known issue.  We document that guests should not access\n  the shared memory after device initialization until the IVPosition\n  register becomes non-negative.\n\n  For cold plug, the funny state is unlikely to be visible in\n  practice, because we normally receive the shared memory long before\n  the guest gets around to mess with the device.\n\n  For hot plug, the timing is tighter, but the relative slowness of\n  PCI device configuration has a good chance to hide the funny state.\n\n  In either case, guests complying with the documented procedure are\n  safe.\n\n* Migration becomes racy.\n\n  If migration completes before the shared memory setup completes on\n  the source, shared memory contents is silently lost.  Fortunately,\n  migration is rather unlikely to win this race.\n\n  If the shared memory's ramblock arrives at the destination before\n  shared memory setup completes, migration fails.\n\n  There is no known way for a management application to wait for\n  shared memory setup to complete.\n\n  All you can do is retry failed migration.  You can improve your\n  chances by leaving more time between running the destination QEMU\n  and the migrate command.\n\n  To mitigate silent memory loss, you need to ensure the server\n  initializes shared memory exactly the same on source and\n  destination.\n\n  These issues are entirely undocumented so far.\n\nI'd expect the server to be almost always fast enough to hide these\nissues.  But then rare catastrophic races are in a way the worst kind.\n\nThis is way more trouble than I'm willing to take from any device.\nKill the funny state by receiving shared memory synchronously in\nrealize().  If your hot plug hangs, go kill your ivshmem server.\n\nFor easier review, this commit only makes the receive synchronous, it\ndoesn't add the necessary error propagation.  Without that, the funny\nstate persists.  The next commit will do that, and kill it off for\nreal.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <1458066895-20632-26-git-send-email-armbru@redhat.com>",1,0.999342143535614,PCI,"hw/misc/ivshmem.c, tests/ivshmem-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ba5c79f26221c0fd7139c883a34a4e75d993f732,ffa6564c9b13cea4b704e184d29d721f2cb061bb,Leon Alrae,2016-02-24,"target-mips: indicate presence of IEEE 754-2008 FPU in R6/R5+MSA CPUs\n\nMIPS Release 6 and MIPS SIMD Architecture make it mandatory to have IEEE\n754-2008 FPU which is indicated by CP1 FIR.HAS2008, FCSR.ABS2008 and\nFCSR.NAN2008 bits set to 1.\n\nIn QEMU we still keep these bits cleared as there is no 2008-NaN support.\nHowever, this now causes problems preventing from running R6 Linux with\nthe v4.5 kernel. Kernel refuses to execute 2008-NaN ELFs on a CPU\nwhose FPU does not support 2008-NaN encoding:\n\n  (...)\n  VFS: Mounted root (ext4 filesystem) readonly on device 8:0.\n  devtmpfs: mounted\n  Freeing unused kernel memory: 256K (ffffffff806f0000 - ffffffff80730000)\n  request_module: runaway loop modprobe binfmt-464c\n  Starting init: /sbin/init exists but couldn't execute it (error -8)\n  request_module: runaway loop modprobe binfmt-464c\n  Starting init: /bin/sh exists but couldn't execute it (error -8)\n  Kernel panic - not syncing: No working init found.  Try passing init= option to kernel. See Linux Documentation/init.txt for guidance.\n\nTherefore always indicate presence of 2008-NaN support in R6 as well as in\nR5+MSA CPUs, even though this feature is not yet supported by MIPS in QEMU.\n\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.9995173215866088,MIPS,"target-mips/cpu.h, target-mips/translate.c, target-mips/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,831e8822530bb511a24329494f9121ad1f8b94ab,d6f39fdfcd30b3f65f9aad396e7caa49285a5a0a,Thomas Huth,2016-03-21,"hw/net/spapr_llan: Fix receive buffer handling for better performance\n\ntl;dr:\nThis patch introduces an alternate way of handling the receive\nbuffers of the spapr-vlan device, resulting in much better\nreceive performance for the guest.\n\nFull story:\nOne of our testers recently discovered that the performance of the\nspapr-vlan device is very poor compared to other NICs, and that\na simple ""ping -i 0.2 -s 65507 someip"" in the guest can result\nin more than 50% lost ping packets (especially with older guest\nkernels < 3.17).\n\nAfter doing some analysis, it was clear that there is a problem\nwith the way we handle the receive buffers in spapr_llan.c: The\nibmveth driver of the guest Linux kernel tries to add a lot of\nbuffers into several buffer pools (with 512, 2048 and 65536 byte\nsizes by default, but it can be changed via the entries in the\n/sys/devices/vio/1000/pool* directories of the guest). However,\nthe spapr-vlan device of QEMU only tries to squeeze all receive\nbuffer descriptors into one single page which has been supplied\nby the guest during the H_REGISTER_LOGICAL_LAN call, without\ntaking care of different buffer sizes. This has two bad effects:\nFirst, only a very limited number of buffer descriptors is accepted\nat all. Second, we also hand 64k buffers to the guest even if\nthe 2k buffers would fit better - and this results in dropped packets\nin the IP layer of the guest since too much skbuf memory is used.\n\nThough it seems at a first glance like PAPR says that we should store\nthe receive buffer descriptors in the page that is supplied during\nthe H_REGISTER_LOGICAL_LAN call, chapter 16.4.1.2 in the LoPAPR spec\ndeclares that ""the contents of these descriptors are architecturally\nopaque, none of these descriptors are manipulated by code above\nthe architected interfaces"". That means we don't have to store\nthe RX buffer descriptors in this page, but can also manage the\nreceive buffers at the hypervisor level only. This is now what we\nare doing here: Introducing proper RX buffer pools which are also\nsorted by size of the buffers, so we can hand out a buffer with\nthe best fitting size when a packet has been received.\n\nTo avoid problems with migration from/to older version of QEMU,\nthe old behavior is also retained and enabled by default. The new\nbuffer management has to be enabled via a new ""use-rx-buffer-pools""\nproperty.\n\nNow with the new buffer pool management enabled, the problem with\n""ping -s 65507"" is fixed for me, and the throughput of a simple\ntest with wget increases from creeping 3MB/s up to 20MB/s!\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997071623802184,REGISTER,hw/net/spapr_llan.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,74004e8ce4306f51f593a99d175a1e1f0453deba,9fd3c5d556b21e0020d98d4695c84a655aa056f0,Sameeh Jubran,2016-03-17,"e1000: Fixing interrupts pace.\n\nThis patch introduces an upper bound for number of interrupts\nper second. Without this bound an interrupt storm can occur as\nit has been observed on Windows 10 when disabling the device.\n\nAccording to the SPEC - Intel PCI/PCI-X Family of Gigabit\nEthernet Controllers Software Developer's Manual, section\n13.4.18 - the Ethernet controller guarantees a maximum\nobservable interrupt rate of 7813 interrupts/sec. If there is\nno upper bound this could lead to an interrupt storm by e1000\n(when mit_delay < 500) causing interrupts to fire at a very high\npace.\nThus if mit_delay < 500 then the delay should be set to the\nminimum delay possible which is 500. This can be calculated\neasily as follows:\n\nInterval = 10^9 / (7813 * 256) = 500.\n\nSigned-off-by: Sameeh Jubran <sameeh@daynix.com>\nSigned-off-by: Jason Wang <jasowang@redhat.com>",1,0.9997199177742004,PCI,hw/net/e1000.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,94f02c5ea9430be935088b2574f72f2dcf902997,e5a8152c9bfd3d40c37711ba5b704f277cbc0c54,Shannon Zhao,2016-03-30,ARM: Virt: Use gpio_key for power button\n\nThere is a problem for power button that it will not work if an early\nsystem_powerdown request happens before guest gpio driver loads.\n\nFix this problem by using gpio_key.\n\nSigned-off-by: Shannon Zhao <shannon.zhao@linaro.org>\nMessage-id: 1458221140-15232-3-git-send-email-zhaoshenglong@huawei.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9996803998947144,ARM,hw/arm/virt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f911e0a323f29ecc780a94380cfbf9f574c19eb7,0dc1982312a7f8b5379b039d9f799bac343cc8f3,Peter Maydell,2016-04-04,"linux-user: arm: Handle (ignore) EXCP_YIELD in ARM cpu_loop()\n\nThe new-in-ARMv8 YIELD instruction has been implemented to throw\nan EXCP_YIELD back up to the QEMU main loop. In system emulation\nwe use this to decide to schedule a different guest CPU in SMP\nconfigurations. In usermode emulation there is nothing to do,\nso just ignore it and resume the guest.\n\nThis prevents an abort with ""unhandled CPU exception 0x10004""\nif the guest process uses the YIELD instruction.\n\nReported-by: Hunter Laux <hunterlaux@gmail.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1456833171-31900-1-git-send-email-peter.maydell@linaro.org",1,0.9995940327644348,ARM,linux-user/main.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f40eb921da78d7524f4d1d96a5c04c77c4a26a28,5c94b2a5e5ef7f91270ce034d2095c6ed924c61d,Michael Roth,2016-03-31,"spapr_drc: enable immediate detach for unsignalled devices\n\nCurrently spapr doesn't support ""aborting"" hotplug of PCI\ndevices by allowing device_del to immediately remove the\ndevice if we haven't signalled the presence of the device\nto the guest.\n\nIn the past this wasn't an issue, since we always immediately\nsignalled device attach and simply relied on full guest-aware\nadd->remove path for device removal. However, as of 788d259,\nwe now defer signalling for PCI functions until function 0\nis attached, so now we need to deal with these ""abort"" operations\nfor cases where a user hotplugs a non-0 function, then opts to\nremove it prior hotplugging function 0. Currently they'd have to\nreboot before the unplug completed. PCIe multifunction hotplug\ndoes not have this requirement however, so from a management\nimplementation perspective it would be good to address this within\nthe same release as 788d259.\n\nWe accomplish this by simply adding a 'signalled' flag to track\nwhether a device hotplug event has been sent to the guest. If it\nhasn't, we allow immediate removal under the assumption that the\nguest will not be using the device. Devices present at boot/reset\ntime are also assumed to be 'signalled'.\n\nFor CPU/memory/etc, signalling will still happen immediately\nas part of device_add, so only PCI functions should be affected.\n\nCc: bharata@linux.vnet.ibm.com\nCc: david@gibson.dropbear.id.au\nCc: sbhat@linux.vnet.ibm.com\nCc: qemu-ppc@nongnu.org\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>\n[dwg: This fixes a regression where an incorrect hot-add of a non-zero\n      function can no longer be backed out until function 0 is added]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9961053729057312,PCI,"hw/ppc/spapr_drc.c, hw/ppc/spapr_events.c, include/hw/ppc/spapr_drc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,273c515c0a0b0c5357e421a45de2a3b3138c77e7,85bc2a15121e8bcd9f15eb75794a1eacca9d84bd,Paolo Bonzini,2016-03-30,"target-i386: do not pass MSR_TSC_AUX to KVM ioctls if CPUID bit is not set\n\nKVM does not let you read or write this MSR if the corresponding CPUID\nbit is not set.  This in turn causes MSRs that come after MSR_TSC_AUX\nto be ignored by KVM_SET_MSRS.\n\nOne visible symptom is that s3.flat from kvm-unit-tests fails with\nCPUs that do not have RDTSCP, because the SMBASE is not reset to\n0x30000 after reset.\n\nFixes: c9b8f6b6210847b4381c5b2ee172b1c7eb9985d6\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997257590293884,"AUX, KVM",target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2dc7553d0c0a3915c649e1a91b0f0be70b4674b3,43b0ea1a41bd0a02debd48a18e0b5460148e3f40,James Hogan,2016-04-01,"tcg/mips: Fix type of tcg_target_reg_alloc_order[]\n\nThe MIPS TCG backend is the only one to have\ntcg_target_reg_alloc_order[] elements of type TCGReg rather than int.\nThis resulted in commit 91478cefaaf2 (""tcg: Allocate indirect_base\ntemporaries in a different order"") breaking the build on MIPS since the\ntype differed from indirect_reg_alloc_order[]:\n\ntcg/tcg.c:1725:44: error: pointer type mismatch in conditional expression [-Werror]\n     order = rev ? indirect_reg_alloc_order : tcg_target_reg_alloc_order;\n                                            ^\n\nMake it an array of ints to fix the build and match other architectures.\n\nFixes: 91478cefaaf2 (""tcg: Allocate indirect_base temporaries in a different order"")\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nAcked-by: Aurelien Jarno <aurelien@aurel32.net>\nMessage-Id: <1459522179-6584-1-git-send-email-james.hogan@imgtec.com>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.999680519104004,"MIPS, TCG",tcg/mips/tcg-target.inc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3d100d0fa9ee4826425ea1c2a120a0f661d8e739,bab47d9a75a33de747420e6b74fd157b708c890b,Dr. David Alan Gilbert,2016-04-04,"Migration: Add i82801b11 migration data\n\nThe i82801b11 bridge didn't have a vmsd and thus didn't send\nany migration data, including that of its parent PCIBridge object.\nThe symptom being if the guest used any devices behind the bridge\nthe guest crashed (mostly with various interrupt related issues).\n\nNote: This will cause migration from old qemus that used this device to\nexplicitly fail during migration as opposed to the guest crashing.\n\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSuggested-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995285272598268,PCI,hw/pci-bridge/i82801b11.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3ccdbecf80a322a31dbf452d433321c67f82d534,e380023898479b57d38c0569c02f7bd41090181b,Stefan Weil,2016-04-05,"tci: Fix build regression\n\nCommit d38ea87ac54af64ef611de434d07c12dc0399216 cleaned the include\nstatements which resulted in a wrong order of assert.h and the definition\nof NDEBUG in tci.c. Normally NDEBUG modifies the definition of the assert\nmacro, but here this definition comes too late which results in a failing\nbuild.\n\nTo fix this, a new macro tci_assert which depends on CONFIG_DEBUG_TCG\nis introduced. Only builds with CONFIG_DEBUG_TCG will use assertions.\nEven in this case, it is still possible to disable assertions by\ndefining NDEBUG via compiler settings.\n\nTested-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: Stefan Weil <sw@weilnetz.de>",1,0.9996743202209472,TCG,tci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7e6bd36d61129feb7f667cb09ffec1b7b54b971c,696b55017d90b3237ca9d656aa4904d6b5c46c7a,Emilio G. Cota,2016-04-05,"translate-all: add missing fold of tb_ctx into tcg_ctx\n\nSince 5e5f07e08 ""TCG: Move translation block variables\nto new context inside tcg_ctx: tb_ctx"" on Feb 1 2013, compilation\nof usermode + TB_DEBUG_CHECK has been broken. Fix it.\n\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nMessage-Id: <1459834253-8291-2-git-send-email-cota@braap.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9991335272789,TCG,translate-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2b1c2e8e5f1990f0a201a8cbf9d366fca60f4aa8,c954f09ee5465adb03a95320e9156e2117e09603,Igor Mammedov,2016-04-08,pc: acpi: tpm: add missing MMIO resource to PCI0._CRS\n\nWindows will fail initialize TMP driver with the reason:\n  'device cannot find enough free resources'\nThat happens because parent BUS doesn't describe\nMMIO resources used by TPM child device.\nFix it by describing it in top-most parent bus scope PCI0.\n\nIt was 'regressed' by commit\n  5cb18b3d TPM2 ACPI table support\nwith following fixup\n  9e472263 acpi: add missing ssdt\nwhich did the right thing by moving TPM to BUS\nit belongs to but lacked a proper resource declaration.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9995399713516236,"ACPI, PCI, TPM",hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,52e38eb0512585a5fadb431a65997b602d44874b,2b1c2e8e5f1990f0a201a8cbf9d366fca60f4aa8,Igor Mammedov,2016-04-08,"tpm: acpi: remove IRQ from TPM's CRS to make Windows not see conflict\n\nIRQ 5 used by TPM conflicts with PNP0C0F IRQs,\nas result Windows fails driver initialization with reason\n  'device cannot find enough free resources'\nBut if TPM._CRS.IRQ entry is commented out, Windows\nseems to initialize driver without errors as it doesn't\nnotice possible conflict and it seems to work\nprobably due to a link with IRQ 5 being unused/disabled.\n\nSo temporary comment out TPM._CRS.IRQ to 'fix'\nregression in TPM, with intent to fix it correctly\nlater i.e.:\n  1. pick unused IRQ as default one for TPM\n  2. fetch IRQ value from device model so that user\n     could override default one if it conflicts with\n     some other device.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996744394302368,TPM,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,de5f1077446ca455342db149737bdc395a7b9882,01a780d51a3a0851729e1747f3787a0db4d96722,Artyom Tarasenko,2016-04-14,"target-sparc: fix Trap Based Address Register behavior for sparc64\n\nAccoding the chapter 7.6 Trap Processing of the SPARC Architecture Manual v9,\nthe Trap Based Address Register is not modified as a trap is taken.\n\nThis fix allows booting FreeBSD-10.3-RELEASE-sparc64.\n\nSigned-off-by: Artyom Tarasenko <atar4qemu@gmail.com>\nReviewed-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>",1,0.9996540546417236,SPARC,target-sparc/int64_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,90c647db8d59e47c9000affc0d81754eb346e939,16aaf975eeed92cce602a844f795a027182a6861,Dr. David Alan Gilbert,2016-04-15,Fix pflash migration\n\nPflash migration (e.g. q35 + EFI variable storage) fails\nwith the assert:\n\nbdrv_co_do_pwritev: Assertion `!(bs->open_flags & 0x0800)' failed.\n\nThis avoids the problem by delaying the pflash update until after\nthe device loads complete.\n\nTested by:\n  Migrating Q35/EFI vm.\n  Changing efi variable content (with efiboot in the guest)\n  md5sum'ing the variable file before migration and after.\n\nThis is a fix that Paolo posted in the message\n  570244B3.4070105@redhat.com\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nAcked-by: Laszlo Ersek <lersek@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>,1,0.9995818734169006,Q35,hw/block/pflash_cfi01.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5eb0b194e9b01ba0f3613e6ddc2cb9f63ce96ae5,a087cc589d3581a89fdb8c09324941512b5ef300,Michael S. Tsirkin,2016-04-18,"cadence_uart: bounds check write offset\n\ncadence_uart_init() initializes an I/O memory region of size 0x1000\nbytes.  However in uart_write(), the 'offset' parameter (offset within\nregion) is divided by 4 and then used to index the array 'r' of size\nCADENCE_UART_R_MAX which is much smaller: (0x48/4).  If 'offset>>=2'\nexceeds CADENCE_UART_R_MAX, this will cause an out-of-bounds memory\nwrite where the offset and the value are controlled by guest.\n\nThis will corrupt QEMU memory, in most situations this causes the vm to\ncrash.\n\nFix by checking the offset against the array size.\n\nCc: qemu-stable@nongnu.org\nReported-by:  <liqiang6-s@360.cn>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Alistair Francis <alistair.francis@xilinx.com>\nMessage-id: 20160418100735.GA517@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9986888766288756,CADENCE,hw/char/cadence_uart.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eabb7b91b36b202b4dac2df2d59d698e3aff197a,b4850e5ae9607f9f31932f693ca48f52619493d7,Aurelien Jarno,2016-04-21,"tcg: use tcg_debug_assert instead of assert (fix performance regression)\n\nThe TCG code is quite performance sensitive, but at the same time can\nalso be quite tricky. That is why asserts that can be enabled with the\n--enable-debug-tcg configure option.\n\nThis used to work the following way:\n\n| #include ""config.h""\n|\n| ...\n|\n| #if !defined(CONFIG_DEBUG_TCG) && !defined(NDEBUG)\n| /* define it to suppress various consistency checks (faster) */\n| #define NDEBUG\n| #endif\n|\n| ...\n|\n| #include <assert.h>\n\nSince commit 757e725b (tcg: Clean up includes) ""config.h"" as been\nreplaced by ""qemu/osdep.h"" which itself includes <assert.h>. As a\nconsequence the assertions are always enabled, even when using\n--disable-debug-tcg, causing a performance regression, especially on\ntargets with many registers. For instance on qemu-system-ppc the\nspeed difference is about 15%.\n\ntcg_debug_assert is controlled directly by CONFIG_DEBUG_TCG and already\nuses in some places. This patch replaces all the calls to assert into\ncalss to tcg_debug_assert.\n\nCc: Peter Maydell <peter.maydell@linaro.org>\nCc: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nMessage-id: 1461228530-14852-1-git-send-email-aurelien@aurel32.net\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997289776802064,TCG,"tcg/aarch64/tcg-target.inc.c, tcg/arm/tcg-target.inc.c, tcg/i386/tcg-target.inc.c, tcg/ia64/tcg-target.inc.c, tcg/mips/tcg-target.inc.c, tcg/optimize.c, tcg/ppc/tcg-target.inc.c, tcg/s390/tcg-target.inc.c, tcg/sparc/tcg-target.inc.c, tcg/tcg.c, tcg/tci/tcg-target.inc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ee1e0f8e5d3682c561edcdceccff72b9d9b16d8b,df7b97ff89319ccf392a16748081482a3d22b35a,Christoffer Dall,2016-04-22,"util: align memory allocations to 2M on AArch64\n\nFor KVM to use Transparent Huge Pages (THP) we have to ensure that the\nalignment of the userspace address of the KVM memory slot and the IPA\nthat the guest sees for a memory region have the same offset from the 2M\nhuge page size boundary.\n\nOne way to achieve this is to always align the IPA region at a 2M\nboundary and ensure that the mmap alignment is also at 2M.\n\nUnfortunately, we were only doing this for __arm__, not for __aarch64__,\nso add this simple condition.\n\nThis fixes a performance regression using KVM/ARM on AArch64 platforms\nthat showed a performance penalty of more than 50%, introduced by the\nfollowing commit:\n\n9fac18f (oslib: allocate PROT_NONE pages on top of RAM, 2015-09-10)\n\nWe were only lucky before the above commit, because we were allocating\nlarge regions and naturally getting a 2M alignment on those allocations\nthen.\n\nCc: qemu-stable@nongnu.org\nReported-by: Shih-Wei Li <shihwei@cs.columbia.edu>\nSigned-off-by: Christoffer Dall <christoffer.dall@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\n[PMM: wrapped long line]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9982339143753052,"ARM, KVM",util/oslib-posix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,da34fed707a3a3ffa229f4e724aea06da1b53fb0,53343338a6e7b83777b82803398572b40afc8c0f,Thomas Huth,2016-04-21,"hw/ppc/spapr: Fix crash when specifying bad parameters to spapr-pci-host-bridge\n\nQEMU currently crashes when using bad parameters for the\nspapr-pci-host-bridge device:\n\n$ qemu-system-ppc64 -device spapr-pci-host-bridge,buid=0x123,liobn=0x321,mem_win_addr=0x1,io_win_addr=0x10\nSegmentation fault\n\nThe problem is that spapr_tce_find_by_liobn() might return NULL, but\nthe code in spapr_populate_pci_dt() does not check for this condition\nand then tries to dereference this NULL pointer.\nApart from that, the return value of spapr_populate_pci_dt() also\nhas to be checked for all PCI buses, not only for the last one, to\nmake sure we catch all errors.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997217059135436,PCI,"hw/ppc/spapr.c, hw/ppc/spapr_pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,df18b2db69fd1696e1f2eb1d8652340b4c57793a,f419a626c76bcb26697883af702862e8623056f9,Michael Roth,2016-04-25,"spapr_drc: fix aborts during DRC-count based hotplug\n\nCPU/memory resources can be signalled en-masse via\nspapr_hotplug_req_add_by_count(), and when doing so, actually change\nthe meaning of the 'drc' parameter passed to\nspapr_hotplug_req_event() to be a count rather than an index.\n\nf40eb92 added a hook in spapr_hotplug_req_event() to record when a\ndevice had been 'signalled' to the guest, but that code assumes that\ndrc is always an index. In cases where it's a count, such as memory\nhotplug, the DRC lookup will fail, leading to an assert.\n\nFix this by only explicitly setting the signalled state for cases where\nwe are doing PCI hotplug.\n\nFor other resources types, since we cannot selectively track whether a\nresource has been signalled in cases where we signal attach as a count,\nset the 'signalled' state to true immediately upon making the\nresource available via drck->attach().\n\nReported-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\nCc: Bharata B Rao <bharata@linux.vnet.ibm.com>\nCc: david@gibson.dropbear.id.au\nCc: qemu-ppc@nongnu.org\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999695897102356,PCI,"hw/ppc/spapr_drc.c, hw/ppc/spapr_events.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d96391c1ffeb30a0afa695c86579517c69d9a889,f419a626c76bcb26697883af702862e8623056f9,James Hogan,2016-04-27,"target-mips: Fix RDHWR exception host PC\n\nCommit b00c72180c36 (""target-mips: add PC, XNP reg numbers to RDHWR"")\nchanged the rdhwr helpers to use check_hwrena() to check the register\nbeing accessed is enabled in CP0_HWREna when used from user mode. If\nthat check fails an EXCP_RI exception is raised at the host PC\ncalculated with GETPC().\n\nHowever check_hwrena() may not be fully inlined as the\ndo_raise_exception() part of it is common regardless of the arguments.\nThis causes GETPC() to calculate the address in the call in the helper\ninstead of the generated code calling the helper. No TB will be found\nand the EPC reported with the resulting guest RI exception points to the\nbeginning of the TB instead of the RDHWR instruction.\n\nWe can't reliably force check_hwrena() to be inlined, and converting it\nto a macro would be ugly, so instead pass the host PC in as an argument,\nwith each rdhwr helper passing GETPC(). This should avoid any dependence\non compiler behaviour, and in practice seems to ensure the full inlining\nof check_hwrena() on x86_64.\n\nThis issue causes failures when running a MIPS KVM (trap & emulate)\nguest in a MIPS QEMU TCG guest, as the inner guest kernel will do a\nRDHWR of counter, which is disabled in the outer guest's CP0_HWREna by\nKVM so it can emulate the inner guest's counter. The emulation fails and\nthe RI exception is passed to the inner guest.\n\nFixes: b00c72180c36 (""target-mips: add PC, XNP reg numbers to RDHWR"")\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nCc: Leon Alrae <leon.alrae@imgtec.com>\nCc: Yongbok Kim <yongbok.kim@imgtec.com>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.9997158646583556,"KVM, MIPS, TCG",target-mips/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1dbfd7892b66c757fdf67f346be40233adbad80e,47dac82d8b013a5c7dd044a797ae6727b553959a,Igor Mammedov,2016-04-29,"acpi: fix bios linker loadder COMMAND_ALLOCATE on bigendian host\n\n'make check' fails with:\n\nERROR:tests/bios-tables-test.c:493:load_expected_aml:\n   assertion failed: (g_file_test(aml_file, G_FILE_TEST_EXISTS))\n\nsince commit:\ncaf50c7166a6ed96c462ab5db4b495e1234e4cc6\ntests: pc: acpi: drop not needed 'expected SSDT' blobs\n\nAssert happens because qemu-system-x86_64 generates\nSSDT table and test looks for a corresponding expected\ntable to compare with.\n\nHowever there is no expected SSDT blob anymore, since\nQEMU souldn't generate one. As it happens BIOS is not\nable to read ACPI tables from QEMU and fallbacks to\nembeded legacy ACPI codepath, which generates SSDT.\nThat happens due to wrongly sized endiannes conversion\nwhich makes\n uint8_t BiosLinkerLoaderEntry.alloc.zone\nend up with 0 due to truncation of 32 bit integer\nwhich on host is 1 or 2.\n\nFix it by dropping invalid cpu_to_le32() as uint8_t\ndoesn't require any conversion.\n\nRHBZ: https://bugzilla.redhat.com/show_bug.cgi?id=1330174\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Laurent Vivier <lvivier@redhat.com>\nReviewed-by: Marcel Apfelbaum <marcel@redhat.com>",1,0.9997311234474182,ACPI,hw/acpi/bios-linker-loader.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,56f289f383a871e871f944c7226920b35794efe6,4fd811a6bd0b8f24f4761fc281454494c336d310,Cole Robinson,2016-05-06,"ui: sdl2: Release grab before opening console window\n\nsdl 2.0.4 currently has a bug which causes our UI shortcuts to fire\nrapidly in succession:\n\n  https://bugzilla.libsdl.org/show_bug.cgi?id=3287\n\nIt's a toss up whether ctrl+alt+f or ctrl+alt+2 will fire an\nodd or even number of times, thus determining whether the action\nsucceeds or fails.\n\nOpening monitor/serial windows is doubly broken, since it will often\nlock the UI trying to grab the pointer:\n\n  0x00007fffef3720a5 in SDL_Delay_REAL () at /lib64/libSDL2-2.0.so.0\n  0x00007fffef3688ba in X11_SetWindowGrab () at /lib64/libSDL2-2.0.so.0\n  0x00007fffef2f2da7 in SDL_SendWindowEvent () at /lib64/libSDL2-2.0.so.0\n  0x00007fffef2f080b in SDL_SetKeyboardFocus () at /lib64/libSDL2-2.0.so.0\n  0x00007fffef35d784 in X11_DispatchFocusIn.isra.8 () at /lib64/libSDL2-2.0.so.0\n  0x00007fffef35dbce in X11_DispatchEvent () at /lib64/libSDL2-2.0.so.0\n  0x00007fffef35ee4a in X11_PumpEvents () at /lib64/libSDL2-2.0.so.0\n  0x00007fffef2eea6a in SDL_PumpEvents_REAL () at /lib64/libSDL2-2.0.so.0\n  0x00007fffef2eeab5 in SDL_WaitEventTimeout_REAL () at /lib64/libSDL2-2.0.so.0\n  0x000055555597eed0 in sdl2_poll_events (scon=0x55555876f928) at ui/sdl2.c:593\n\nWe can work around that hang by ungrabbing the pointer before launching\na new window. This roughly matches what our sdl1 code does\n\nSigned-off-by: Cole Robinson <crobinso@redhat.com>\nMessage-id: 31c9ab6540b031f7a614c59edcecea9877685612.1462557436.git.crobinso@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996461868286132,X11,ui/sdl2.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,491d68d9382dbb588f2ff5132ee3d87ce2f1b230,860a3b34854d8abe9af9f1eb584691de926ce897,Roman Kagan,2016-05-04,"usb:xhci: no DMA on HC reset\n\nThis patch is a rough fix to a memory corruption we are observing when\nrunning VMs with xhci USB controller and OVMF firmware.\n\nSpecifically, on the following call chain\n\nxhci_reset\n  xhci_disable_slot\n    xhci_disable_ep\n      xhci_set_ep_state\n\nQEMU overwrites guest memory using stale guest addresses.\n\nThis doesn't happen when the guest (firmware) driver sets up xhci for\nthe first time as there are no slots configured yet.  However when the\nfirmware hands over the control to the OS some slots and endpoints are\nalready set up with their context in the guest RAM.  Now the OS' driver\nresets the controller again and xhci_set_ep_state then reads and writes\nthat memory which is now owned by the OS.\n\nAs a quick fix, skip calling xhci_set_ep_state in xhci_disable_ep if the\ndevice context base address array pointer is zero (indicating we're in\nthe HC reset and no DMA is possible).\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Roman Kagan <rkagan@virtuozzo.com>\nMessage-id: 1462384435-1034-1-git-send-email-rkagan@virtuozzo.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999683141708374,USB,hw/usb/hcd-xhci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,15c2f669e3fb2bc97f7b42d1871f595c0ac24af8,56a6f02b8ce1fe41a2a9077593e46eca7d98267d,Eric Blake,2016-04-28,"qapi: Split visit_end_struct() into pieces\n\nAs mentioned in previous patches, we want to call visit_end_struct()\nfunctions unconditionally, so that visitors can release resources\ntied up since the matching visit_start_struct() without also having\nto worry about error priority if more than one error occurs.\n\nEven though error_propagate() can be safely used to ignore a second\nerror during cleanup caused by a first error, it is simpler if the\ncleanup cannot set an error.  So, split out the error checking\nportion (basically, input visitors checking for unvisited keys) into\na new function visit_check_struct(), which can be safely skipped if\nany earlier errors are encountered, and leave the cleanup portion\n(which never fails, but must be called unconditionally if\nvisit_start_struct() succeeded) in visit_end_struct().\n\nGenerated code in qapi-visit.c has diffs resembling:\n\n|@@ -59,10 +59,12 @@ void visit_type_ACPIOSTInfo(Visitor *v,\n|         goto out_obj;\n|     }\n|     visit_type_ACPIOSTInfo_members(v, obj, &err);\n|-    error_propagate(errp, err);\n|-    err = NULL;\n|+    if (err) {\n|+        goto out_obj;\n|+    }\n|+    visit_check_struct(v, &err);\n| out_obj:\n|-    visit_end_struct(v, &err);\n|+    visit_end_struct(v);\n| out:\n\nand in qapi-event.c:\n\n@@ -47,7 +47,10 @@ void qapi_event_send_acpi_device_ost(ACP\n|         goto out;\n|     }\n|     visit_type_q_obj_ACPI_DEVICE_OST_arg_members(v, &param, &err);\n|-    visit_end_struct(v, err ? NULL : &err);\n|+    if (!err) {\n|+        visit_check_struct(v, &err);\n|+    }\n|+    visit_end_struct(v);\n|     if (err) {\n|         goto out;\n\nSigned-off-by: Eric Blake <eblake@redhat.com>\nMessage-Id: <1461879932-9020-20-git-send-email-eblake@redhat.com>\n[Conflict with a doc fixup resolved]\nSigned-off-by: Markus Armbruster <armbru@redhat.com>",1,0.9996540546417236,ACPI,"block/crypto.c, docs/qapi-code-gen.txt, hw/ppc/spapr_drc.c, hw/virtio/virtio-balloon.c, include/qapi/visitor-impl.h, include/qapi/visitor.h, qapi/opts-visitor.c, qapi/qapi-dealloc-visitor.c, qapi/qapi-visit-core.c, qapi/qmp-input-visitor.c, qapi/qmp-output-visitor.c, qom/object.c, qom/object_interfaces.c, scripts/qapi-commands.py, scripts/qapi-event.py, scripts/qapi-visit.py, tests/test-qmp-input-visitor.c, tests/test-qmp-output-visitor.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dddb5223413c5425ae6eaeb3b967627efc9675f7,dfda68377e20943f474505e75238cb96bc6874bf,Sergey Sorokin,2016-05-12,"target-arm: Fix descriptor address masking in ARM address translation\n\nThere is a bug in ARM address translation regime with a long-descriptor\nformat. On the descriptor reading its address is formed from an index\nwhich is a part of the input address. And on the first iteration this index\nis incorrectly masked with 'grainsize' mask. But it can be wider according\nto pseudo-code.\nOn the other hand on the iterations other than first the descriptor address\nis formed from the previous level descriptor by masking with 'descaddrmask'\nvalue. It always clears just 12 lower bits, but it must clear 'grainsize'\nlower bits instead according to pseudo-code.\nThe patch fixes both cases.\n\nSigned-off-by: Sergey Sorokin <afarallax@yandex.ru>\nMessage-id: 1460996853-22117-1-git-send-email-afarallax@yandex.ru\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996423721313475,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ea9fcbd7d0835c397c4a21939401a9b3e923ae90,e6e400d54f092e3aeb17889120640bd24cda2ce1,Shannon Zhao,2016-05-12,"ACPI: Fix the definition of proximity in AcpiSratMemoryAffinity\n\nACPI spec says that Proximity Domain is an ""Integer that represents\nthe proximity domain to which the processor belongs"". So define it as a\nuint32_t.\n\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Shannon Zhao <shannon.zhao@linaro.org>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nMessage-id: 1461667229-9216-4-git-send-email-zhaoshenglong@huawei.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9975990653038024,ACPI,"hw/i386/acpi-build.c, include/hw/acpi/acpi-defs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,465fe887ccdcb62733666f6e91d85e88b7184298,4df863f336b76faf55f796eed7cd7f7c55ec0130,Eric Blake,2016-05-03,"block: Honor BDRV_REQ_FUA during write_zeroes\n\nThe block layer has a couple of cases where it can lose\nForce Unit Access semantics when writing a large block of\nzeroes, such that the request returns before the zeroes\nhave been guaranteed to land on underlying media.\n\nSCSI does not support FUA during WRITESAME(10/16); FUA is only\nsupported if it falls back to WRITE(10/16).  But where the\nunderlying device is new enough to not need a fallback, it\nmeans that any upper layer request with FUA semantics was\nsilently ignoring BDRV_REQ_FUA.\n\nConversely, NBD has situations where it can support FUA but not\nZERO_WRITE; when that happens, the generic block layer fallback\nto bdrv_driver_pwritev() (or the older bdrv_co_writev() in qemu\n2.6) was losing the FUA flag.\n\nThe problem of losing flags unrelated to ZERO_WRITE has been\nlatent in bdrv_co_do_write_zeroes() since commit aa7bfbff, but\nback then, it did not matter because there was no FUA flag.  It\nbecame observable when commit 93f5e6d8 paved the way for flags\nthat can impact correctness, when we should have been using\nbdrv_co_writev_flags() with modified flags.  Compare to commit\n9eeb6dd, which got flag manipulation right in\nbdrv_co_do_zero_pwritev().\n\nSymptoms: I tested with qemu-io with default writethrough cache\n(which is supposed to use FUA semantics on every write), and\ntargetted an NBD client connected to a server that intentionally\ndid not advertise NBD_FLAG_SEND_FUA.  When doing 'write 0 512',\nthe NBD client sent two operations (NBD_CMD_WRITE then\nNBD_CMD_FLUSH) to get the fallback FUA semantics; but when doing\n'write -z 0 512', the NBD client sent only NBD_CMD_WRITE.\n\nThe fix is do to a cleanup bdrv_co_flush() at the end of the\noperation if any step in the middle relied on a BDS that does\nnot natively support FUA for that step (note that we don't\nneed to flush after every operation, if the operation is broken\ninto chunks based on bounce-buffer sizing).  Each BDS gains a\nnew flag .supported_zero_flags, which parallels the use of\n.supported_write_flags but only when accessing a zero write\noperation (the flags MUST be different, because of SCSI having\ndifferent semantics based on WRITE vs. WRITESAME; and also\nbecause BDRV_REQ_MAY_UNMAP only makes sense on zero writes).\n\nAlso fix some documentation to describe -ENOTSUP semantics,\nparticularly since iscsi depends on those semantics.\n\nDown the road, we may want to add a driver where its\n.bdrv_co_pwritev() honors all three of BDRV_REQ_FUA,\nBDRV_REQ_ZERO_WRITE, and BDRV_REQ_MAY_UNMAP, and advertise\nthis via bs->supported_write_flags for blocks opened by that\ndriver; such a driver should NOT supply .bdrv_co_write_zeroes\nnor .supported_zero_flags.  But none of the drivers touched\nin this patch want to do that (the act of writing zeroes is\ndifferent enough from normal writes to deserve a second\ncallback).\n\nSigned-off-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Fam Zheng <famz@redhat.com>\nAcked-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9991663694381714,SCSI,"block/io.c, block/iscsi.c, block/raw-posix.c, block/raw_bsd.c, include/block/block_int.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c771dabf55b5868f69c924e4bc0b9c9ebc354315,b2305601d33b3b7e0a7f830d64cc0b7ee1fd88d2,Paolo Bonzini,2016-05-18,target-ppc: do not make PowerPCCPUClass depend on target-specific symbols\n\nJust leave some members in even if they are unused on e.g.\n32-bit PPC or user-mode emulation.  This avoids complications\nwhen using PowerPCCPUClass in code that is compiled just\nonce (because it applies to both 32-bit and 64-bit PPC\nfor example) but still needs to peek at PPC-specific members.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9975925087928772,PPC,target-ppc/cpu-qom.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,77ac58ddc6be324abc3451ae78a1799efa7cc3b7,da163845602bf75999054d2a9b9f8f877cb36ce2,Paolo Bonzini,2014-09-17,"dma: do not depend on kvm_enabled()\n\nMemory barriers are needed also by Xen and, when the ioeventfd\nbugs are fixed, by TCG as well.\n\nsysemu/kvm.h is not anymore needed in sysemu/dma.h, move it to\nthe actual users.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9993202686309814,TCG,"hw/intc/arm_gicv2m.c, hw/intc/xics_kvm.c, hw/misc/pci-testdev.c, hw/ppc/e500plat.c, hw/ppc/spapr_hcall.c, hw/ppc/spapr_pci.c, hw/ppc/spapr_rtas.c, include/sysemu/dma.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4aeae8768a18fd5d32714c06b05c1735080b542d,07fcd59de63ab3917d0f28d876cb1d2dcbbeb2a8,Eduardo Habkost,2015-11-11,"vl: Use exit(1) when requested VGA interface is unavailable\n\nInstead of using exit(0), use exit(1) when an unavailable VGA\ninterface is used in the command-line to indicate it's an error.\n\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Marcel Apfelbaum <marcel@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9992493987083436,VGA,vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ed1263c363c970a7ad5226b8f41dbbf0c92c1e17,479c2a1cb7fb82d23e66eab78b00fc5b0638439b,Peter Xu,2016-05-10,"ioapic: clear remote irr bit for edge-triggered interrupts\n\nThis is to better emulate IOAPIC version 0x1X hardware. Linux kernel\nleveraged this ""feature"" to do explicit EOI since EOI register is still\nnot introduced at that time. This will also fix the issue that level\ntriggered interrupts failed to work when IR enabled (tested with Linux\nkernel version 4.5).\n\nReviewed-by: Radim Krm <rkrcmar@redhat.com>\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <1462875682-1349-3-git-send-email-peterx@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995893836021424,"APIC, IOAPIC",hw/intc/ioapic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c98c6c105f66f05aa0b7c1d2a4a3f716450907ef,fd28938b7adb33f8af11849cdd0d0b2fb92990e3,Prasad J Pandit,2016-05-19,"esp: check command buffer length before write(CVE-2016-4439)\n\nThe 53C9X Fast SCSI Controller(FSC) comes with an internal 16-byte\nFIFO buffer. It is used to handle command and data transfer. While\nwriting to this command buffer 's->cmdbuf[TI_BUFSZ=16]', a check\nwas missing to validate input length. Add check to avoid OOB write\naccess.\n\nFixes CVE-2016-4439.\n\nReported-by: Li Qiang <liqiang6-s@360.cn>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Prasad J Pandit <pjp@fedoraproject.org>\nMessage-Id: <1463654371-11169-2-git-send-email-ppandit@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996994733810424,SCSI,hw/scsi/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6c1fef6b59563cc415f21e03f81539ed4b33ad90,c98c6c105f66f05aa0b7c1d2a4a3f716450907ef,Prasad J Pandit,2016-05-19,esp: check dma length before reading scsi command(CVE-2016-4441)\n\nThe 53C9X Fast SCSI Controller(FSC) comes with an internal 16-byte\nFIFO buffer. It is used to handle command and data transfer.\nRoutine get_cmd() uses DMA to read scsi commands into this buffer.\nAdd check to validate DMA length against buffer size to avoid any\noverrun.\n\nFixes CVE-2016-4441.\n\nReported-by: Li Qiang <liqiang6-s@360.cn>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Prasad J Pandit <pjp@fedoraproject.org>\nMessage-Id: <1463654371-11169-3-git-send-email-ppandit@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996827840805054,SCSI,hw/scsi/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fe904ea8242cbae2d7e69c052c754b8f5f1ba1d6,24f3902b088cd4f2dbebfd90527b5d81d6a050e9,Greg Kurz,2016-05-18,"migration: regain control of images when migration fails to complete\n\nWe currently have an error path during migration that can cause\nthe source QEMU to abort:\n\nmigration_thread()\n  migration_completion()\n    runstate_is_running() ----------------> true if guest is running\n    bdrv_inactivate_all() ----------------> inactivate images\n    qemu_savevm_state_complete_precopy()\n     ... qemu_fflush()\n           socket_writev_buffer() --------> error because destination fails\n         qemu_fflush() -------------------> set error on migration stream\n  migration_completion() -----------------> set migrate state to FAILED\nmigration_thread() -----------------------> break migration loop\n  vm_start() -----------------------------> restart guest with inactive\n                                            images\n\nand you get:\n\nqemu-system-ppc64: socket_writev_buffer: Got err=104 for (32768/18446744073709551615)\nqemu-system-ppc64: /home/greg/Work/qemu/qemu-master/block/io.c:1342:bdrv_co_do_pwritev: Assertion `!(bs->open_flags & 0x0800)' failed.\nAborted (core dumped)\n\nIf we try postcopy with a similar scenario, we also get the writev error\nmessage but QEMU leaves the guest paused because entered_postcopy is true.\n\nWe could possibly do the same with precopy and leave the guest paused.\nBut since the historical default for migration errors is to restart the\nsource, this patch adds a call to bdrv_invalidate_cache_all() instead.\n\nSigned-off-by: Greg Kurz <gkurz@linux.vnet.ibm.com>\nMessage-Id: <146357896785.6003.11983081732454362715.stgit@bahia.huguette.org>\nSigned-off-by: Amit Shah <amit.shah@redhat.com>",1,0.999626398086548,LED,migration/migration.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3af9187fc6caaf415ab9c0c6d92c9678f65cb17f,11196e95f0521fa6ba689c15f874ad9a2d99e158,Prasad J Pandit,2016-04-07,"net: mipsnet: check packet length against buffer\n\nWhen receiving packets over MIPSnet network device, it uses\nreceive buffer of size 1514 bytes. In case the controller\naccepts large(MTU) packets, it could lead to memory corruption.\nAdd check to avoid it.\n\nReported by: Oleksandr Bazhaniuk <oleksandr.bazhaniuk@intel.com>\nSigned-off-by: Prasad J Pandit <pjp@fedoraproject.org>\nSigned-off-by: Jason Wang <jasowang@redhat.com>",1,0.9406298995018004,MIPS,hw/net/mipsnet.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4225f2b67089ab2dc6c0af24a9648a421f2cdb51,e61a424f0573634a1bc180de965b2cb794c1038e,Alex Williamson,2016-05-26,"vfio/pci: Fix return of vfio_populate_vga()\n\nThis function returns success if either we setup the VGA region or\nthe host vfio doesn't return enough regions to support the VGA index.\nThis latter case doesn't make any sense.  If we're asked to populate\nVGA, fail if it doesn't exist and let the caller decide if that's\nimportant.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>\nTested-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996827840805054,VGA,hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7a057b4fb9dec2baf975d1737a7258602e793c40,0eb734241762bc63bf8308bed3573431f195ddcf,Alexey Kardashevskiy,2016-05-26,"vfio: Fix 128 bit handling when deleting region\n\n7532d3cbf ""vfio: Fix 128 bit handling"" added support for 64bit IOMMU\nmemory regions when those are added to VFIO address space; however\nremoving code cannot cope with these as int128_get64() will fail on\n1<<64.\n\nThis copies 128bit handling from region_add() to region_del().\n\nSince the only machine type which is actually going to use 64bit IOMMU\nis pseries and it never really removes them (instead it will dynamically\nadd/remove subregions), this should cause no behavioral change.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9996522665023804,VFIO,hw/vfio/common.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d78c19b5cf4821d0c198f4132a085bdbf19dda4c,7a057b4fb9dec2baf975d1737a7258602e793c40,Alexey Kardashevskiy,2016-05-26,"memory: Fix IOMMU replay base address\n\nSince a788f227 ""memory: Allow replay of IOMMU mapping notifications""\nwhen new VFIO listener is added, all existing IOMMU mappings are\nreplayed. However there is a problem that the base address of\nan IOMMU memory region (IOMMU MR) is ignored which is not a problem\nfor the existing user (which is pseries) with its default 32bit DMA\nwindow starting at 0 but it is if there is another DMA window.\n\nThis stores the IOMMU's offset_within_address_space and adjusts\nthe IOVA before calling vfio_dma_map/vfio_dma_unmap.\n\nAs the IOMMU notifier expects IOVA offset rather than the absolute\naddress, this also adjusts IOVA in sPAPR H_PUT_TCE handler before\ncalling notifier(s).\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9997358918190002,VFIO,"hw/ppc/spapr_iommu.c, hw/vfio/common.c, include/hw/vfio/vfio-common.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,41264b385c2b324fea026204e5de9bef980733b1,8afc22a20fba6aa078e4e7a625d16d78da768323,Greg Kurz,2016-04-26,"PPC/KVM: early validation of vcpu id\n\nThe KVM API restricts vcpu ids to be < KVM_CAP_MAX_VCPUS. On PowerPC\ntargets, depending on the number of threads per core in the host and\nin the guest, some topologies do generate higher vcpu ids actually.\nWhen this happens, QEMU bails out with the following error:\n\nkvm_init_vcpu failed: Invalid argument\n\nThe KVM_CREATE_VCPU ioctl has several EINVAL return paths, so it is\nnot possible to fully disambiguate.\n\nThis patch adds a check in the code that computes vcpu ids, so that\nwe can detect the error earlier, and print a friendlier message instead\nof calling KVM_CREATE_VCPU with an obviously bogus vcpu id.\n\nSigned-off-by: Greg Kurz <gkurz@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999572455883026,"KVM, PPC","include/sysemu/kvm.h, kvm-all.c, target-ppc/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3e831b40e015ba34dfb55ff11f767001839425ff,60b412dd18362bd4ddc44ba7022aacb6af074b5d,Prasad J Pandit,2016-05-23,scsi: pvscsi: check command descriptor ring buffer size (CVE-2016-4952)\n\nVmware Paravirtual SCSI emulation uses command descriptors to\nprocess SCSI commands. These descriptors come with their ring\nbuffers. A guest could set the ring buffer size to an arbitrary\nvalue leading to OOB access issue. Add check to avoid it.\n\nReported-by: Li Qiang <liqiang6-s@360.cn>\nSigned-off-by: Prasad J Pandit <pjp@fedoraproject.org>\nCc: qemu-stable@nongnu.org\nMessage-Id: <1464000485-27041-1-git-send-email-ppandit@redhat.com>\nReviewed-by: Shmulik Ladkani <shmulik.ladkani@ravellosystems.com>\nReviewed-by: Dmitry Fleytman <dmitry@daynix.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9993645548820496,SCSI,hw/scsi/vmw_pvscsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,521360267876d3b6518b328051a2e56bca55bef8,fa06e5cb7b10230e241477b13cb0beefa0d0c91e,Gerd Hoffmann,2016-05-30,vmsvga: move fifo sanity checks to vmsvga_fifo_length\n\nSanity checks are applied when the fifo is enabled by the guest\n(SVGA_REG_CONFIG_DONE write).  Which doesn't help much if the guest\nchanges the fifo registers afterwards.  Move the checks to\nvmsvga_fifo_length so they are done each time qemu is about to read\nfrom the fifo.\n\nFixes: CVE-2016-4454\nCc: qemu-stable@nongnu.org\nCc: P J P <ppandit@redhat.com>\nReported-by:  <liqiang6-s@360.cn>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nMessage-id: 1464592161-18348-2-git-send-email-kraxel@redhat.com,1,0.99953293800354,VGA,hw/display/vmware_vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,78f1edb19fe11fa0c5d0bf484db59a384f455d3c,04ce861ea545477425ad9e045eec3f61c8a27df9,Peter Maydell,2016-06-06,"target-arm: Don't try to set ESR IL bit in arm_cpu_do_interrupt_aarch64()\n\nRemove some incorrect code from arm_cpu_do_interrupt_aarch64()\nwhich attempts to set the IL bit in the syndrome register based\non the value of env->thumb. This is wrong in several ways:\n * IL doesn't indicate Thumb-vs-ARM, it indicates instruction\n   length (which may be 16 or 32 for Thumb and is always 32 for ARM)\n * not every syndrome format uses IL like this -- for some IL is\n   always set, and for some it is always clear\n * the code is changing esr_el[new_el] even for interrupt entry,\n   which is not supposed to modify ESR_ELx at all\n\nDelete the code, and instead rely on the syndrome value in\nenv->exception.syndrome having already been set up with the\ncorrect value of IL.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nTested-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nMessage-id: 1463487258-27468-3-git-send-email-peter.maydell@linaro.org",1,0.8368667364120483,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e40c3d2e7f4b58669a1b4e5dfb684e57c0bf62ce,78f1edb19fe11fa0c5d0bf484db59a384f455d3c,Ard Biesheuvel,2016-06-06,hw/arm/virt: fix limit of 64-bit ACPI/ECAM PCI MMIO range\n\nSet the MMIO range limit field to 'base + size - 1' as required.\n\nSigned-off-by: Ard Biesheuvel <ard.biesheuvel@linaro.org>\nReviewed-by: Shannon Zhao <shannon.zhao@linaro.org>\nMessage-id: 1463856217-17969-1-git-send-email-ard.biesheuvel@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9996358156204224,"ACPI, PCI",hw/arm/virt-acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dfdd3e43620a6cd4f2be31da5a257c84a16fc000,8eb0f5637219820bfda8082296e1d3e39132d8de,Benjamin Herrenschmidt,2016-06-07,ppc: POWER7 has lq/stq instructions and stq need to check ISA\n\nThe PPC_64BX instruction flag is used for a couple of newer\ninstructions currently on POWER8 but our implementation for\nthem works for POWER7 too (and already does the proper checking\nof what is permitted) with one exception: stq needs to check\nthe ISA version.\n\nThis fixes the latter and add the instructions to POWER7\n\nSigned-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.999679446220398,PPC,"target-ppc/translate.c, target-ppc/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0058c0823815d33c96f4f26106dbd713c76280e1,eaf23bf794c749c621a5605c1076a16e3d81e12b,Igor Mammedov,2016-05-31,pc: use AcpiDeviceIfClass.send_event to issue GPE events\n\nit reduces number of args passed in handlers by 1 and\na number of used proxy wrappers saving ~20LOC.\nAlso it allows to make cpu/mem hotplug code more\nuniversal as it would allow ARM to reuse it without\nrewrite by providing its own send_event callback\nto trigger events usiong GPIO instead of GPE\nas fixed hadrware ACPI model doen't have GPE at all.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.999440371990204,"ACPI, ARM","hw/acpi/cpu_hotplug.c, hw/acpi/ich9.c, hw/acpi/memory_hotplug.c, hw/acpi/pcihp.c, hw/acpi/piix4.c, hw/isa/lpc_ich9.c, include/hw/acpi/cpu_hotplug.h, include/hw/acpi/ich9.h, include/hw/acpi/memory_hotplug.h, include/hw/acpi/pcihp.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,28213cb6a61a724e2cb1e3a76d2bb17aa0ce9b36,4678124bb9bfb49e93b83f95c4d2feeb443ea38b,Igor Mammedov,2016-05-19,"acpi: make bios_linker_loader_add_checksum() API offset based\n\nIt should help to make clear that bios_linker works in terms\nof offsets within a file. Also it should prevent mistakes\nwhere user passes as arguments pointers to unrelated to file blobs.\n\nWhile at it, considering that it's a ACPI checksum and\nit's initial value must be 0, move checksum field zeroing\ninto bios_linker_loader_add_checksum() instead of doing it\nat every call site manually before bios_linker_loader_add_checksum()\nis called.\n\nIn addition add extra boundary checks.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9987655878067015,ACPI,"hw/acpi/aml-build.c, hw/acpi/bios-linker-loader.c, hw/arm/virt-acpi-build.c, hw/i386/acpi-build.c, include/hw/acpi/bios-linker-loader.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e0156a9dc43daea13b06b4c0edb755cc8f92dfdf,9e024732f53b368abdd578e1795bf3d2779ea88a,Peter Maydell,2016-05-31,"linux-user: Fix handling of arm_fadvise64_64 syscall\n\n32-bit ARM has an odd variant of the fadvise syscall which has\nrearranged arguments, which we try to implement. Unfortunately we got\nthe rearrangement wrong.\n\nThis is a six-argument syscall whose arguments are:\n * fd\n * advise parameter\n * offset high half\n * offset low half\n * len high half\n * len low half\n\nStop trying to share code with the standard fadvise syscalls,\nand just implement the syscall with the correct argument order.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9992462396621704,ARM,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,42bd32287f3a18d823f2258b813824a39ed7c6d9,dc8b295d05ec35a8c032f9abca421772347ba5d4,Emilio G. Cota,2016-06-08,"tb hash: hash phys_pc, pc, and flags with xxhash\n\nFor some workloads such as arm bootup, tb_phys_hash is performance-critical.\nThe is due to the high frequency of accesses to the hash table, originated\nby (frequent) TLB flushes that wipe out the cpu-private tb_jmp_cache's.\nMore info:\n  https://lists.nongnu.org/archive/html/qemu-devel/2016-03/msg05098.html\n\nTo dig further into this I modified an arm image booting debian jessie to\nimmediately shut down after boot. Analysis revealed that quite a bit of time\nis unnecessarily spent in tb_phys_hash: the cause is poor hashing that\nresults in very uneven loading of chains in the hash table's buckets;\nthe longest observed chain had ~550 elements.\n\nThe appended addresses this with two changes:\n\n1) Use xxhash as the hash table's hash function. xxhash is a fast,\n   high-quality hashing function.\n\n2) Feed the hashing function with not just tb_phys, but also pc and flags.\n\nThis improves performance over using just tb_phys for hashing, since that\nresulted in some hash buckets having many TB's, while others getting very few;\nwith these changes, the longest observed chain on a single hash bucket is\nbrought down from ~550 to ~40.\n\nTests show that the other element checked for in tb_find_physical,\ncs_base, is always a match when tb_phys+pc+flags are a match,\nso hashing cs_base is wasteful. It could be that this is an ARM-only\nthing, though. UPDATE:\nOn Tue, Apr 05, 2016 at 08:41:43 -0700, Richard Henderson wrote:\n> The cs_base field is only used by i386 (in 16-bit modes), and sparc (for a TB\n> consisting of only a delay slot).\n> It may well still turn out to be reasonable to ignore cs_base for hashing.\n\nBTW, after this change the hash table should not be called ""tb_hash_phys""\nanymore; this is addressed later in this series.\n\nThis change gives consistent bootup time improvements. I tested two\nhost machines:\n- Intel Xeon E5-2690: 11.6% less time\n- Intel i7-4790K: 19.2% less time\n\nIncreasing the number of hash buckets yields further improvements. However,\nusing a larger, fixed number of buckets can degrade performance for other\nworkloads that do not translate as many blocks (600K+ for debian-jessie arm\nbootup). This is dealt with later in this series.\n\nReviewed-by: Sergey Fedorov <sergey.fedorov@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nMessage-Id: <1465412133-3029-8-git-send-email-cota@braap.org>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9955783486366272,ARM,"cpu-exec.c, include/exec/tb-hash.h, translate-all.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d0e5a8f2937de66778d94c20a8fc5cf43501fa04,bc9ca5958d084222cdb233619dfc5046c81fb76d,Bharata B Rao,2016-06-10,"spapr: Ensure all LMBs are represented in ibm,dynamic-memory\n\nMemory hotplug can fail for some combinations of RAM and maxmem when\nDDW is enabled in the presence of devices like nec-usb-xhci. DDW depends\non maximum addressable memory returned by guest and this value is currently\nbeing calculated wrongly by the guest kernel routine memory_hotplug_max().\nWhile there is an attempt to fix the guest kernel, this patch works\naround the problem within QEMU itself.\n\nmemory_hotplug_max() routine in the guest kernel arrives at max\naddressable memory by multiplying lmb-size with the lmb-count obtained\nfrom ibm,dynamic-memory property. There are two assumptions here:\n\n- All LMBs are part of ibm,dynamic memory: This is not true for PowerKVM\n  where only hot-pluggable LMBs are present in this property.\n- The memory area comprising of RAM and hotplug region is contiguous: This\n  needn't be true always for PowerKVM as there can be gap between\n  boot time RAM and hotplug region.\n\nTo work around this guest kernel bug, ensure that ibm,dynamic-memory\nhas information about all the LMBs (RMA, boot-time LMBs, future\nhotpluggable LMBs, and dummy LMBs to cover the gap between RAM and\nhotpluggable region).\n\nRMA is represented separately by memory@0 node. Hence mark RMA LMBs\nand also the LMBs for the gap b/n RAM and hotpluggable region as\nreserved and as having no valid DRC so that these LMBs are not considered\nby the guest.\n\nSigned-off-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\nReviewed-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nReviewed-by: Nathan Fontenot <nfont@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997394680976868,KVM,"hw/ppc/spapr.c, include/hw/ppc/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,393ad2a4a15db3836698de0e11249b4ec9dafb11,dcddc75e4756eac166bb002f71dfb09aca9b59fc,Christian Borntraeger,2016-06-06,s390x/kvm: Fixup interrupt type for non-adapter I/O interrupts\n\nThe current algorithm for I/O interrupts would result in a wrong\ninterrupt type for subchannel numbers fffe and ffff. In addition\na non adapter interrupt might look like an adapter interrupt for\nany subchannel number that has the 0x0400 bit set.\n\nNo kernel has ever used the type outside logging - and the logging\nwas wrong all the time. For everything else the kernel used the\ninterrupt parameters.\n\nLet's use the KVM_S390_INT_IO macro as for adapter interrupts.\n\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nReviewed-by: David Hildenbrand <dahi@linux.vnet.ibm.com>\nAcked-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>,1,0.998302698135376,KVM,target-s390x/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,811595a2d4ab8c6354857a50ffd29fafce52a892,8433dee02777e81144a520143fa937672a6936e0,Peter Maydell,2016-06-14,"target-arm: Fix reset and migration of TTBCR(S)\n\nCommit 6459b94c26dd666badb3 broke reset and migration of the AArch32\nTTBCR(S) register if the guest used non-LPAE page tables. This is\nbecause the AArch32 TTBCR register definition is marked as ARM_CP_ALIAS,\nmeaning that the AArch64 variant has to handle migration and reset.\nAlthough AArch64 TCR_EL3 doesn't need to care about the mask and\nbase_mask fields, AArch32 may do so, and so we must use the special\nTTBCR reset and raw write functions to ensure they are set correctly.\n\nThis doesn't affect TCR_EL2, because the AArch32 equivalent of that\nis HTCR, which never uses the non-LPAE page table variant.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReported-by: Pranith Kumar <bobby.prani+qemu@gmail.com>\nReviewed-by: Sergey Fedorov <sergey.fedorov@linaro.org>\nMessage-id: 1465488181-31977-1-git-send-email-peter.maydell@linaro.org",1,0.9996848106384276,ARM,target-arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4a94b3aa6d97dfa67a20c7a0315c9773352f0e8e,49237b856ae58ee7955be0b959c504c51b014f20,Peter Xu,2016-05-17,"pci: fix pci_requester_id()\n\nThis fix SID verification failure when IOMMU IR is enabled with PCI\nbridges. Existing pci_requester_id() is more like getting BDF info\nonly. Renaming it to pci_get_bdf(). Meanwhile, we provide the correct\nimplementation to get requester ID. VT-d spec 5.1.1 is a good reference\nto go, though it talks only about interrupt delivery, the rule works\nexactly the same for non-interrupt cases.\n\nCurrently, there are three use cases for pci_requester_id():\n\n- PCIX status bits: here we need BDF only, not requester ID. Replacing\n  with pci_get_bdf().\n- PCIe Error injection and MSI delivery: for both these cases, we are\n  looking for requester IDs. Here we should use the new impl.\n\nTo avoid a PCI walk every time we send MSI message, one requester_id\ncache field is added to PCIDevice to cache the result when initialize\nPCI device.\n\nSigned-off-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9978421926498412,PCI,"hw/i386/kvm/pci-assign.c, hw/pci/pci.c, include/hw/pci/pci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,52ea63dea465575ccd71d52c3461b1b7d9f50ce0,97fe42f19b989ecfd0c6a23b9c09dbc7159c7602,Cao jin,2016-06-10,"fix some coding style problems\n\nIt has:\n1. More newlines make the code block well separated.\n2. Add more comments for msi_init.\n3. Fix a indentation in vmxnet3.c.\n4. ioh3420 & xio3130_downstream: put PCI Express capability init function\n   together, make it more readable.\n\ncc: Michael S. Tsirkin <mst@redhat.com>\ncc: Markus Armbruster <armbru@redhat.com>\ncc: Marcel Apfelbaum <marcel@redhat.com>\ncc: Dmitry Fleytman <dmitry@daynix.com>\ncc: Jason Wang <jasowang@redhat.com>\n\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Marcel Apfelbaum <marcel@redhat.com>\nSigned-off-by: Cao jin <caoj.fnst@cn.fujitsu.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996894598007202,PCI,"hw/net/vmxnet3.c, hw/pci-bridge/ioh3420.c, hw/pci-bridge/pci_bridge_dev.c, hw/pci-bridge/xio3130_downstream.c, hw/pci-bridge/xio3130_upstream.c, hw/pci/msi.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aab99135b63522267c6fdae04712cb2f02c8c7de,4a4b344c7ccdeac28c2e65e51ddbe3acfb41b883,Bharata B Rao,2016-05-12,"spapr_drc: Prevent detach racing against attach for CPU DR\n\nIf a CPU is hot removed while hotplug of the same is still in progress,\nthe guest crashes. Prevent this by ensuring that detach is done only\nafter attach has completed.\n\nThe existing code already prevents such race for PCI hotplug. However\ngiven that CPU is a logical DR unlike PCI and starts with ISOLATED\nstate, we need a logic that works for CPU too.\n\nSigned-off-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\nReviewed-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>\n               [Don't set awaiting_attach for PCI devices]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9992803931236268,PCI,"hw/ppc/spapr_drc.c, include/hw/ppc/spapr_drc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,33595dc9f3f4839fa7d1195df6007f3457e515be,f03a1af581b926118d619ad1acc3304ad84d5e5b,Benjamin Herrenschmidt,2016-06-21,"ppc: Fix generation if ISI/DSI vs. HV mode\n\nUnder some circumstances, we need to direct ISI and DSI interrupts\nat the hypervisor, turning them into HISI/HDSI, and using different\nSPRs (HDSISR and HDAR) depending on the combination of MSR_DR and\nthe corresponding VPM bits in LPCR.\n\nThis moves part of the code into helpers that are fixed to select\nthe right exception type and registers. On pre-P7 processors, LPCR\nis 0 which provides the old behaviour of directing the interrupts\nat the supervisor.\n\nThanks to Andrei Warkentin for finding a bug when HV=1\n\nSigned-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\n[clg: Merged a fix on POWERPC_EXCP_HDSI fixing the condition on\n      msr_hv, from Andrei Warkentin <andrey.warkentin@gmail.com> ]\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997000694274902,HDA,target-ppc/mmu-hash64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,86b50f2e1befc33407bdfeb6f45f7b0d2439a740,7778a575c7055276afdd01737e9d1029a65f923d,Thomas Huth,2016-06-22,"ppc: Disable huge page support if it is not available for main RAM\n\nOn powerpc, we must only signal huge page support to the guest if\nall memory areas are capable of supporting huge pages. The commit\n2d103aae8765 (""fix hugepage support when using memory-backend-file"")\nalready fixed the case when the user specified the mem-path property\nfor NUMA memory nodes instead of using the global ""-mem-path"" option.\nHowever, there is one more case where it currently can go wrong.\nWhen specifying additional memory DIMMs without using NUMA, e.g.\n\n qemu-system-ppc64 -enable-kvm ... -m 1G,slots=2,maxmem=2G \\n    -device pc-dimm,id=dimm-mem1,memdev=mem1 -object \\n    memory-backend-file,policy=default,mem-path=/...,size=1G,id=mem1\n\nthe code in getrampagesize() currently assumes that huge pages\nare possible since they are enabled for the mem1 object. But\nsince the main RAM is not backed by a huge page filesystem,\nthe guest Linux kernel then crashes very quickly after being\nstarted. So in case the we've got ""normal"" memory without NUMA\nand without the global ""-mem-path"" option, we must not announce\nhuge pages to the guest. Since this is likely a mis-configuration\nby the user, also spill out a message in this case.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999429166316986,DIMM,target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ffdc5a2bcee13b69a6c17b95c5d02c8aaadd4511,c7288767523f6510cf557707d3eb5e78e519b90d,Gerd Hoffmann,2016-06-24,"ipxe: update submodule from 4e03af8ec to 041863191\n\nshortlog\n========\n\nAndrew Widdersheim (1):\n      [netdevice] Add ""ifname"" setting\n\nCarl Henrik Lunde (1):\n      [vmxnet3] Avoid completely filling the TX descriptor ring\n\nChristian Hesse (2):\n      [golan] Fix build error on some versions of gcc\n      [ath9k] Fix buffer overrun for ar9287\n\nChristian Nilsson (2):\n      [intel] Add PCI device ID for another I219-V\n      [intel] Add PCI device ID for another I219-LM\n\nHummel Frank (1):\n      [intel] Add INTEL_NO_PHY_RST for I218-LM\n\nKysti Mlkki (1):\n      [intel] Add PCI IDs for i210/i211 flashless operation\n\nLadi Prosek (6):\n      [pci] Add pci_find_next_capability()\n      [virtio] Add virtio 1.0 constants and data structures\n      [virtio] Add virtio 1.0 PCI support\n      [virtio] Add virtio-net 1.0 support\n      [virtio] Renumber virtio_pci_region flags\n      [virtio] Fix virtio-pci logging\n\nLeendert van Doorn (2):\n      [tg3] Fix address truncation bug on 64-bit machines\n      [tg3] Add missing memory barrier\n\nMichael Brown (287):\n      [settings] Re-add ""uristring"" setting type\n      [dhcp] Do not skip ProxyDHCPREQUEST if next-server is empty\n      [efi] Add definitions of GUIDs observed when booting shim.efi and grub.efi\n      [efi] Mark EFI debug transcription functions as __attribute__ (( pure ))\n      [efi] Remove raw EFI_HANDLE values from debug messages\n      [efi] Include installed protocol list in unknown handle names\n      [efi] Improve efi_wrap debugging\n      [pxe] Construct all fake DHCP packets before starting PXE NBP\n      [efi] Add definitions of GUIDs observed when booting wdsmgfw.efi\n      [efi] Fix debug directory size\n      [efi] Populate debug directory entry FileOffset field\n      [build] Search for ldlinux.c32 separately from isolinux.bin\n      [tcpip] Allow supported address families to be detected at runtime\n      [efi] Allow calls to efi_snp_claim() and efi_snp_release() to be nested\n      [efi] Fix order of events on SNP removal path\n      [efi] Do not return EFI_NOT_READY from our ReceiveFilters() method\n      [pxe] Populate ciaddr in fake PXE Boot Server ACK packet\n      [uri] Generalise tftp_uri() to pxe_uri()\n      [efi] Implement the EFI_PXE_BASE_CODE_PROTOCOL\n      [usb] Expose usb_find_driver()\n      [usb] Add function to device's function list before attempting probe\n      [efi] Add USB headers and GUID definitions\n      [efi] Allow efidev_parent() to traverse multiple device generations\n      [efi] Add a USB host controller driver based on EFI_USB_IO_PROTOCOL\n      [tcpip] Avoid generating positive zero for transmitted UDP checksums\n      [usb] Generalise zero-length packet generation logic\n      [ehci] Do not treat zero-length NULL pointers as unreachable\n      [ehci] Support arbitrarily large transfers\n      [xhci] Support arbitrarily large transfers\n      [efi] Provide efi_devpath_len()\n      [efi] Include a copy of the device path within struct efi_device\n      [usb] Select preferred USB device configuration based on driver score\n      [usb] Allow for wildcard USB class IDs\n      [efi] Expose unused USB devices via EFI_USB_IO_PROTOCOL\n      [ncm] Support setting MAC address\n      [build] Remove dependency on libiberty\n      [efi] Minimise use of iPXE header files when building host utilities\n      [pxe] Invoke INT 1a,564e when PXE stack is activated\n      [pxe] Notify BIOS via INT 1a,564e for each new network device\n      [efi] Work around broken 32-bit PE executable parsing in ImageHlp.dll\n      [efi] Avoid infinite loops when asked to stop non-existent devices\n      [efi] Expose an UNDI interface alongside the existing SNP interface\n      [malloc] Avoid integer overflow for excessively large memory allocations\n      [peerdist] Avoid NULL pointer dereference for plaintext blocks\n      [http] Verify server port when reusing a pooled connection\n      [efi] Reset root directory when installing EFI_SIMPLE_FILE_SYSTEM_PROTOCOL\n      [efi] Update to current EDK2 headers\n      [efi] Import EFI_HII_FONT_PROTOCOL definitions\n      [fbcon] Allow character height to be selected at runtime\n      [fbcon] Move margin calculations to fbcon.c\n      [console] Tidy up config/console.h\n      [build] Generalise CONSOLE_VESAFB to CONSOLE_FRAMEBUFFER\n      [efi] Add support for EFI_GRAPHICS_OUTPUT_PROTOCOL frame buffer consoles\n      [dhcp] Reset start time when deferring discovery\n      [dhcp] Limit maximum number of DHCP discovery deferrals\n      [comboot] Reset console before starting COMBOOT executable\n      [intel] Forcibly skip PHY reset on some models\n      [intel] Correct definition of receive overrun bit\n      [infiniband] Add definitions for FDR and EDR link speeds\n      [infiniband] Add qword accessors for ib_guid and ib_gid\n      [pci] Add definitions for PCI Express function level reset (FLR)\n      [bitops] Fix definitions for big-endian devices\n      [smsc95xx] Add driver for SMSC/Microchip LAN95xx USB Ethernet NICs\n      [bitops] Provide BIT_QWORD_PTR()\n      [efi] Add %.usb target for building EFI-bootable USB (or other) disk images\n      [usb] Use port->disconnected to check for disconnected devices\n      [usb] Record USB device speed separately from current port speed\n      [usb] Allow USB device IDs to include arbitrary driver-specific data\n      [usb] Allow additional settling time for out-of-spec hubs\n      [acm] Add support for CDC-ACM (aka USB RNDIS) devices\n      [xhci] Ensure that zero-length packets are not part of a TRB chain\n      [efi] Centralise EFI file system info GUIDs\n      [build] Allow extra objects to be included in an all-drivers build\n      [bios] Add support for injecting keypresses\n      [settings] Expose SMBIOS settings as global variables\n      [smsc95xx] Allow for multiple methods for obtaining the MAC address\n      [crypto] Dual-license selected DRBG files\n      [smsc95xx] Fetch MAC from SMBIOS OEM string for Honeywell VM3\n      [crypto] Dual-license more selected DRBG files\n      [vmware] Expose GuestRPC mechanism in 64-bit builds\n      [romprefix] Report an optimistic runtime size estimate\n      [usb] Add support for numeric keypad on USB keyboards\n      [http] Handle relative redirection URIs\n      [image] Provide image_set_uri() to modify an image's URI\n      [downloader] Update image URI in response to a redirection\n      [tftp] Do not change current working URI when TFTP server is cleared\n      [infiniband] Profile post work queue entry operations\n      [pxe] Colourise debug output\n      [pxe] Add debug message to display real-mode segment addresses\n      [i386] Add check_bios_interrupts() debug function\n      [debug] Allow debug colourisation to be disabled\n      [stp] Fix incorrectly disambiguated errors\n      [build] Add named configuration for public cloud environments\n      [smsc95xx] Enable LEDs\n      [usb] Allow USB endpoints to specify a reserved header length for refills\n      [smsc95xx] Reserve headroom in received packets\n      [autoboot] Fix incorrect boolean logic\n      [uri] Avoid potentially large stack allocation\n      [ocsp] Avoid including a double path separator in request URI\n      [tftp] Mangle initial slash on TFTP URIs\n      [uri] Apply URI decoding for all parsed URIs\n      [tcp] Guard against malformed TCP options\n      [slam] Avoid potential division by zero\n      [ath9k] Remove broken ath_rxbuf_alloc()\n      [ehci] Add extra debugging information\n      [malloc] Guard against unsigned integer overflow\n      [iobuf] Improve robustness of I/O buffer allocation\n      [pxe] Clarify comments regarding shrinking of cached DHCP packet\n      [efi] Add missing definitions for function key scancodes\n      [prefix] Pad .text16 and .data16 segment sizes at build time\n      [libc] Split rmsetjmp() and rmlongjmp() into a separate rmsetjmp.h\n      [bios] Use intptr_t when casting .text16 function pointers\n      [bios] Use size_t when casting _text16_memsz and _data16_memsz\n      [bios] Allow relocate.c to be compiled for x86_64\n      [bios] Allow rtc_entropy.c to be compiled for x86_64\n      [bios] Allow bzimage.c to be compiled for x86_64\n      [bios] Allow bios_console.c to be compiled for x86_64\n      [bios] Allow memmap.c to be compiled for x86_64\n      [bios] Allow librm to be compiled for x86_64\n      [bios] Move isolinux definitions to Makefile.pcbios\n      [bios] Add bin-x86_64-pcbios build platform\n      [librm] Discard argument as part of return from prot_call()\n      [librm] Discard argument as part of return from real_call()\n      [prefix] Align INT 15,88 temporary decompression area to a page boundary\n      [romprefix] Align PMM temporary decompression area to a page boundary\n      [bios] Make uses of REAL_CODE() and PHYS_CODE() 64-bit clean\n      [librm] Use garbage-collectable section names\n      [bios] Use an 8kB stack for x86_64\n      [prefix] Use garbage-collectable section names\n      [librm] Simplify definitions for prot_call() and real_call() stack frames\n      [prefix] Standardise calls to prot_call()\n      [librm] Convert prot_call() to a real-mode near call\n      [librm] Provide an abstraction wrapper for prot_call\n      [librm] Transition to protected mode within init_librm()\n      [relocate] Preserve page alignment during relocation\n      [librm] Prepare for long-mode memory map\n      [librm] Generate page tables for 64-bit builds\n      [build] Fix building on older versions of binutils\n      [librm] Add phys_call() wrapper for calling code with physical addressing\n      [librm] Do not preserve flags unnecessarily\n      [librm] Mark virt_offset, text16, data16, rm_cs, and rm_ds as constant\n      [librm] Support userptr_t in 64-bit builds\n      [librm] Rename prot_call() to virt_call()\n      [librm] Add support for running in 64-bit long mode\n      [ioapi] Split ioremap() out to a separate IOMAP API\n      [librm] Support ioremap() for addresses above 4GB in a 64-bit build\n      [netdevice] Refuse to create duplicate network device names\n      [infiniband] Remove concept of whole-device owner data\n      [infiniband] Avoid multiple calls to ib_cmrc_shutdown()\n      [infiniband] Add support for performing service record lookups\n      [infiniband] Assign names to Infiniband devices for debug messages\n      [infiniband] Use ""%#lx"" as format specifier for queue pair numbers\n      [infiniband] Use ""%d"" as format specifier for LIDs\n      [infiniband] Use connection's local ID as debug message identifier\n      [infiniband] Use correct transaction identifier in CM responses\n      [infiniband] Do not use GRH for local paths\n      [infiniband] Record multicast GID attachment as part of group membership\n      [infiniband] Parse MLID, rate, and SL from multicast membership record\n      [ipoib] Avoid unnecessary path record lookup for broadcast address\n      [ipoib] Simplify test for received broadcast packets\n      [infiniband] Allow for the creation of multicast groups\n      [pcbios] Restrict external memory allocations to the low 4GB\n      [infiniband] Assign names to CMRC connections\n      [infiniband] Assign names to queue pairs\n      [infiniband] Add ""ibstat"" command\n      [infiniband] Retrieve GID flag from cached path entries\n      [ipoib] Resimplify test for received broadcast packets\n      [ipoib] Increase number of transmit work queue entries\n      [ifmgmt] Include human-readable error message for configuration failure\n      [infiniband] Make IPoIB support configurable at build time\n      [eoib] Add Ethernet over Infiniband (EoIB) driver\n      [eoib] Silently ignore EoIB heartbeat packets\n      [eoib] Allow the multicast group to be forcefully created\n      [eoib] Support non-FullMember gateway devices\n      [xsigo] Add support for Xsigo virtual Ethernet (XVE) EoIB devices\n      [efi] Work around broken GetFontInfo() implementations\n      [tls] Avoid potential out-of-bound reads in length fields\n      [crypto] Allow for zero-length ASN.1 cursors\n      [pixbuf] Check for unsigned integer overflow on multiplication\n      [arp] Validate length of ARP packet\n      [librm] Do not unconditionally preserve flags across virt_call()\n      [linda] Use standard readq() and writeq() implementations\n      [qib7322] Use standard readq() and writeq() implementations\n      [test] Add missing #include <string.h>\n      [serial] Add missing #include <string.h>\n      [3c595] Fix compilation when ""char"" is unsigned by default\n      [tg3] Remove x86-specific inline assembly\n      [efi] Centralise architecture-independent EFI Makefile and linker script\n      [build] Allow assembler section type character to vary by architecture\n      [build] Accept CROSS= as a synonym for CROSS_COMPILE=\n      [efi] Update to current EDK2 headers\n      [efi] Add processor binding headers for ARM and AArch64\n      [uri] Support URIs containing only scheme and path components\n      [uri] Support ""file:"" URIs describing relative paths\n      [efi] Provide access to files stored on EFI filesystems\n      [build] Remove long-obsolete header file\n      [pseudobit] Rename bitops.h to pseudobit.h\n      [bitops] Add generic atomic bit test, set, and clear functions\n      [hyperv] Use generic set_bit() function\n      [xen] Use generic test_and_clear_bit() function\n      [test] Move i386-specific tests to arch/i386/tests\n      [efi] Move architecture-independent EFI prefixes to interface/efi\n      [libc] Allow container_of() to be used on volatile pointers\n      [ipoib] Allow external code to identify IPoIB network devices\n      [hermon] Add missing iounmap()\n      [arbel] Add missing iounmap()\n      [linda] Add missing iounmap()\n      [qib7322] Add missing iounmap()\n      [crypto] Allow trusted certificates to be stored in non-volatile options\n      [hermon] Allocate space for GRH on UD queue pairs\n      [arbel] Allocate space for GRH on UD queue pairs\n      [infiniband] Allow drivers to override the eIPoIB LEMAC\n      [build] Do not use ""objcopy -O binary"" for objects with relocation records\n      [gdb] Add support for x86_64\n      [int13] Allow drive to be hooked using the natural drive number\n      [int13] Allow default drive to be specified via ""san-drive"" setting\n      [3c5x9] Avoid use of sleep() in driver code\n      [etherfabric] Avoid use of sleep() in driver code\n      [hermon] Fix received packet length\n      [arbel] Fix received packet length\n      [libc] Make sleep() interruptible\n      [pxe] Implicitly open network device in PXENV_UDP_OPEN\n      [prefix] Use CRC32 to verify each block prior to decompression\n      [crypto] Allow cross-certificate source to be configured at build time\n      [iscsi] Include DHCP server address in iBFT\n      [netdevice] Return ENOENT for an unknown bus type\n      [linda] Validate payload length\n      [qib7322] Validate payload length\n      [test] Update snprintf_ok() to use okx()\n      [libc] Print ""<NULL>"" for wide-character NULL strings\n      [efi] Work around broken EFI HII specification\n      [comboot] Support COMBOOT in 64-bit builds\n      [ethernet] Make LACP support configurable at build time\n      [libc] Allow CPU architectures to use unoptimised string functions\n      [libgcc] Provide symbol to handle gcc's implicit calls to memset()\n      [image] Skip misleading ""format not recognised"" error message\n      [librm] Reduce real-mode stack consumption in virt_call()\n      [tg3] Fix _tg3_flag() for 64-bit builds\n      [librm] Preserve FPU, MMX and SSE state across calls to virt_call()\n      [efi] Eliminate use of libbfd\n      [build] Remove unnecessary dependency on zlib\n      [tcpip] Do not fall back to using unoptimised TCP/IP checksumming\n      [efi] Use a timer event to generate the currticks() timer\n      [efi] Generalise EFI entropy generation to non-x86 CPUs\n      [sis190] Fix building with GCC 6\n      [skge] Fix building with GCC 6\n      [golan] Fix building with GCC 6\n      [ath] Fix building with GCC 6\n      [legacy] Fix building with GCC 6\n      [libgcc] Provide __divmoddi4()\n      [bitops] Fix typo in test case\n      [arm] Add support for 32-bit ARM\n      [arm] Avoid instruction references to symbols defined via "".equ""\n      [arm] Split out 32-bit-specific code to arch/arm32\n      [arm] Add support for 64-bit ARM (Aarch64)\n      [efi] Allow for building with older versions of elf.h system header\n      [libc] Avoid implicit assumptions about potentially-optimised memcpy()\n      [arm] Add optimised string functions for 64-bit ARM\n      [arm] Add optimised TCP/IP checksumming for 64-bit ARM\n      [efi] Guard against GetStatus() failing to return a NULL TX buffer\n      [arm] Use CNTVCT_EL0 as profiling timestamp\n      [undi] Work around broken HP EliteBook 745 G3 PXE ROM\n      [pci] Add support for PCI Enhanced Allocation\n      [settings] Extend numerical setting tags to ""unsigned long""\n      [netdevice] Fix failure path in register_netdev()\n      [lotest] Add option to use broadcast packets for loopback testing\n      [http] Ignore unrecognised ""Connection"" header tokens\n      [efi] Work around broken UEFI keyboard drivers\n      [axge] Add driver for ASIX 10/100/1000 USB Ethernet NICs\n      [arm] Use correct DHCP client architecture values\n      [dhcp] Fix definitions for x86_64 and EFI BC client architectures\n      [efi] Expose DHCP packets via the Apple NetBoot protocol\n      [libc] Always use a non-zero seed for the (non-crypto) RNG\n      [pci] Support systems with multiple PCI root bridges\n      [http] Accept headers with no whitespace following the colon\n      [tcp] Send TCP keepalives on idle established connections\n      [time] Allow system clock to be adjusted at runtime\n      [ntp] Add simple NTP client\n      [cmdline] Add ""ntp"" command\n      [thunderx] Add driver for Cavium ThunderX SoC NICs\n      [thunderx] Fix channel configuration for VNICs 1-7\n      [efi] Include VLAN in SNP device path if applicable\n      [thunderx] Retrieve base MAC address via EFI_THUNDER_CONFIG_PROTOCOL\n      [smsc75xx] Allow up to 100ms for reset to complete\n      [efi] Report failures to stop the EFI timer tick event\n      [efi] Do not copy garbage bytes into SNP device path MAC address\n      [thunderx] Fix compilation with older versions of gcc\n\nMika Tiainen (1):\n      [intel] Add INTEL_NO_PHY_RST for another I218-LM variant\n\nSuresh Sundriyal (1):\n      [pool] Fix check for reopenable pooled connections\n\nTorgeir Wulfsberg (1):\n      [intel] Add INTEL_NO_PHY_RST for I217-LM\n\nVinson Lee (2):\n      [mucurses] Fix GCC 6 nonnull-compare errors\n      [build] Remove nested ""my"" declaration\n\nWissam Shoukair (3):\n      [golan] Add Connect-IB, ConnectX-4 and ConnectX-4 Lx (Infiniband) support\n      [mlx_icmd] Fix compilation error in GCC versions newer than 4.6.4\n      [golan] Add missing iounmap()\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9989493489265442,"ARM, FRAMEBUFFER, LED, OMAP, PCI, SMBIOS, USB, XEN",roms/ipxe,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6be77480052b1a71557081896e7080363a8a2f95,40bd6dd456e61a36e454fb9dd2cc739b67c224cf,Aleksandar Markovic,2016-06-10,"target-mips: Add abs2008 flavor of <ABS|NEG>.<S|D>\n\nUpdated handling of instructions <ABS|NEG>.<S|D>. Note that legacy\n(pre-abs2008) ABS and NEG instructions are arithmetic (and, therefore,\nany NaN operand causes signaling invalid operation), while abs2008\nones are non-arithmetic, always and only changing the sign bit, even\nfor NaN-like operands. Details on these instructions are documented\nin [1] p. 35 and 359.\n\nImplementation-wise, abs2008 versions are implemented without helpers,\nfor simplicity and performance sake.\n\n[1] ""MIPS Architecture For Programmers Volume II-A:\n    The MIPS64 Instruction Set Reference Manual"",\n    Imagination Technologies LTD, Revision 6.04, November 13, 2015\n\nSigned-off-by: Thomas Schwinge <thomas@codesourcery.com>\nSigned-off-by: Maciej W. Rozycki <macro@codesourcery.com>\nSigned-off-by: Aleksandar Markovic <aleksandar.markovic@imgtec.com>\nReviewed-by: Leon Alrae <leon.alrae@imgtec.com>\nSigned-off-by: Leon Alrae <leon.alrae@imgtec.com>",1,0.9956037998199464,"MIPS, MIPS64",target-mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ca1ee3d6b546e841a1b9db413eb8fa09f13a061b,14e60aaece20a1cfc059a69f6491b0899f9257a8,Peter Lieven,2016-06-09,net: fix qemu_announce_self not emitting packets\n\ncommit fefe2a78 accidently dropped the code path for injecting\nraw packets. This feature is needed for sending gratuitous ARPs\nafter an incoming migration has completed. The result is increased\nnetwork downtime for vservers where the network card is not virtio-net\nwith the VIRTIO_NET_F_GUEST_ANNOUNCE feature.\n\nFixes: fefe2a78abde932e0f340b21bded2c86def1d242\nCc: qemu-stable@nongnu.org\nCc: hongyang.yang@easystack.cn\nSigned-off-by: Peter Lieven <pl@kamp.de>\nSigned-off-by: Jason Wang <jasowang@redhat.com>,1,0.9997063279151917,"VIRTIO, VIRTIO_NET",net/net.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c508277335e3b6b20cf18e6ea3a35c1fa835c64a,46fe8bef4d88e91942387ef334e7a9b3e6542314,KarimAllah Ahmed,2016-06-20,"vmxnet3: Fix reading/writing guest memory specially when behind an IOMMU\n\nWhen a PCI device lives behind an IOMMU, it should use 'pci_dma_*' family of\nfunctions when any transfer from/to guest memory is required while\n'cpu_physical_memory_*' family of functions completely bypass any MMU/IOMMU in\nthe system.\n\nvmxnet3 in some places was using 'cpu_physical_memory_*' family of functions\nwhich works fine with the default QEMU setup where IOMMU is not enabled but\nfails miserably when IOMMU is enabled. This commit converts all such instances\nin favor of 'pci_dma_*'\n\nCc: Dmitry Fleytman <dmitry@daynix.com>\nCc: Jason Wang <jasowang@redhat.com>\nCc: qemu-devel@nongnu.org\nCc: Anthony Liguori <aliguori@amazon.com>\nSigned-off-by: KarimAllah Ahmed <karahmed@amazon.de>\nAcked-by: Dmitry Fleytman <dmitry@daynix.com>\nSigned-off-by: Jason Wang <jasowang@redhat.com>",1,0.9996923208236694,PCI,"hw/net/vmware_utils.h, hw/net/vmxnet3.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8a0b4de048e20215415b24c7b42514c27b9d6ef3,297e8005f88d4360480eaa2c07220fa8853f0448,Paolo Bonzini,2016-06-30,pcspk: fix KVM\n\nThe link property that was added to the pcspk device has the wrong type:\nit is only correct for TCG and for KVM's userspace or split irqchip\noptions.  The default KVM option (fully in-kernel irqchip) breaks\nbecause it uses a PIT whose type is a sibling of TYPE_I8254.\n\nFixes: 873b4d3f0571a1e415cf089a67a230ea8a12d059\nTested-by: Peter Lieven <pl@kamp.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-id: 1467298657-6588-1-git-send-email-pbonzini@redhat.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9997262358665466,"I8254, KVM, TCG","hw/audio/pcspk.c, include/hw/timer/i8254.h, include/hw/timer/i8254_internal.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4d3fc4fdc6857e33346ed58ae55870f59391ee71,8a0b4de048e20215415b24c7b42514c27b9d6ef3,Alex Williamson,2016-06-30,"vfio/pci: Fix VGA quirks\n\nCommit 2d82f8a3cdb2 (""vfio/pci: Convert all MemoryRegion to dynamic\nalloc and consistent functions"") converted VFIOPCIDevice.vga to be\ndynamically allocted, negating the need for VFIOPCIDevice.has_vga.\nUnfortunately not all of the has_vga users were converted, nor was\nthe field removed from the structure.  Correct these oversights.\n\nReported-by: Peter Maloney <peter.maloney@brockmann-consult.de>\nTested-by: Peter Maloney <peter.maloney@brockmann-consult.de>\nFixes: 2d82f8a3cdb2 (""vfio/pci: Convert all MemoryRegion to dynamic alloc and consistent functions"")\nFixes: https://bugs.launchpad.net/qemu/+bug/1591628\nCc: qemu-stable@nongnu.org\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.953978955745697,"PCI, VFIO, VGA","hw/vfio/pci-quirks.c, hw/vfio/pci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8692aa29798e0f2cb5069f2460bbe19ff538fc71,96b39d8327883094f52b0a3d3f25dba83d6d1d63,Gerd Hoffmann,2016-07-04,seabios: update submodule from 1.9.1 to 1.9.3\n\ngit shortlog\n============\n\nAlex Williamson (1):\n      fw/pci: Add support for mapping Intel IGD via QEMU\n\nHaozhong Zhang (1):\n      fw/msr_feature_control: add support to set MSR_IA32_FEATURE_CONTROL\n\nKevin O'Connor (1):\n      build: fix .text section address alignment\n\nMarcel Apfelbaum (1):\n      fw/pci: add Q35 S3 support\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.7681576013565063,Q35,roms/seabios,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bf8d492405feaee2c1685b3b9d5e03228ed3e47f,b86eacb804bdb92acc48cab8cd2a465714a829ab,Marcel Apfelbaum,2016-06-27,"q35: allow dynamic sysbus\n\nAllow adding sysbus devices with -device on Q35.\n\nAt first Q35 will support only intel-iommu to be added this way,\nhowever the command line will support all sysbus devices.\n\nMark with 'cannot_instantiate_with_device_add_yet' the ones\ncausing immediate problems (e.g. crashes).\n\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995163679122924,Q35,"hw/i386/pc_q35.c, hw/pci-bridge/pci_expander_bridge.c, hw/pci-host/piix.c, hw/pci-host/q35.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0830c96d70b24ee76864f4e164b164bb43f24f09,01c9742d9d5a48c55a0155875657944c2159762c,Cornelia Huck,2016-06-30,"virtio: revert host notifiers to old semantics\n\nThe host notifier rework tried both to unify host notifiers across\ntransports and plug a possible hole during host notifier\nre-assignment. Unfortunately, this meant a change in semantics that\nbreaks vhost and iSCSI+dataplane.\n\nAs the minimal fix, keep the common host notifier code but revert\nto the old semantics so that we have time to figure out the proper\nfix.\n\nFixes: 6798e245a3 (""virtio-bus: common ioeventfd infrastructure"")\nReported-by: Peter Lieven <pl@kamp.de>\nReported-by: Jason Wang <jasowang@redhat.com>\nReported-by: Marc-Andr Lureau <marcandre.lureau@gmail.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Jason Wang <jasowang@redhat.com>\nTested-by: Jason Wang <jasowang@redhat.com>\nTested-by: Peter Lieven <pl@kamp.de>",1,0.9976014494895936,SCSI,hw/virtio/virtio-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7673bb4cd305637b37bd0c0b79dd3bf6deb55172,f4b99537f1caac9864e3e93ac5a980e5d62ece0f,Cdric Le Goater,2016-07-04,ssi: change ssi_slave_init to be a realize ops\n\nThis enables qemu to handle late inits and report errors. All the SSI\nslave routine names were changed accordingly. Code was modified to\nhandle errors when possible (m25p80 and ssi-sd)\n\nTested with the m25p80 slave object.\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-id: 1467138270-32481-2-git-send-email-clg@kaod.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9856017231941224,SSI,"hw/arm/spitz.c, hw/arm/tosa.c, hw/arm/z2.c, hw/block/m25p80.c, hw/display/ads7846.c, hw/display/ssd0323.c, hw/misc/max111x.c, hw/sd/ssi-sd.c, hw/ssi/ssi.c, include/hw/ssi/ssi.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,912acdf487a3c8c0083b904fdb917fe6d79f87a7,949868633f0454715af1781c0f377413b6ab000e,Benjamin Herrenschmidt,2016-07-05,"ppc/hash64: Add proper real mode translation support\n\nThis adds proper support for translating real mode addresses based\non the combination of HV and LPCR bits. This handles HRMOR offset\nfor hypervisor real mode, and both RMA and VRMA modes for guest\nreal mode. PAPR mode adjusts the offsets appropriately to match the\nRMA used in TCG, but we need to limit to the max supported by the\nimplementation (16G).\n\nThis includes some fixes by Cdric Le Goater <clg@kaod.org>\n\nSigned-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>\n[dwg: Adjusted for differences in my version of the prereq patches]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9990354776382446,TCG,"hw/ppc/spapr.c, target-ppc/cpu.h, target-ppc/mmu-hash64.c, target-ppc/mmu-hash64.h, target-ppc/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5229f45bd98558af84d806a98032df3cb741c357,bb14a1eda0d060413d17466c58b39e4c0dbcde4e,Paolo Bonzini,2016-07-07,"aux: fix break that wanted to break two levels out\n\nThe last ""ret = AUX_I2C_NACK;"" is dead, because it is always overridden\nby AUX_I2C_ACK.  What really the code wants is to jump out of the switch\nstatement, and a ""return"" will not cut it because it would omit a debug\nprintf.\n\nChange the logic so that we can break out of the while loop.  For clarity,\nhoist the bus->last_* assignments up, right after i2c_start_transfer.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996743202209472,"AUX, I2C",hw/misc/aux.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,81daabaf7a572f138a8b88ba6eea556bdb0cce46,a390284b80d2b6581143cdb40666674e60e635ae,Samuel Damashek,2016-07-08,"cputlb: Fix for self-modifying writes across page boundaries\n\nAs it currently stands, QEMU does not properly handle self-modifying code\nwhen the write is unaligned and crosses a page boundary. The procedure\nfor handling a write to the current translation block is to write-protect\nthe current translation block, catch the write, split up the translation\nblock into the current instruction (which remains write-protected so that\nthe current instruction is not modified) and the remaining instructions\nin the translation block, and then restore the CPU state to before the\nwrite occurred so the write will be retried and successfully executed.\nHowever, since unaligned writes across pages are split into one-byte\nwrites for simplicity, writes to the second page (which is not the\ncurrent TB) may succeed before a write to the current TB is attempted,\nand since these writes are not invalidated before resuming state after\nsplitting the TB, these writes will be performed a second time, thus\ncorrupting the second page. Credit goes to Patrick Hulin for\ndiscovering this.\n\nIn recent 64-bit versions of Windows running in emulated mode, this\nresults in either being very unstable (a BSOD after a couple minutes of\nuptime), or being entirely unable to boot. Windows performs one or more\n8-byte unaligned self-modifying writes (xors) which intersect the end\nof the current TB and the beginning of the next TB, which runs into the\naforementioned issue. This commit fixes that issue by making the\nunaligned write loop perform the writes in forwards order, instead of\nreverse order. This way, QEMU immediately tries to write to the current\nTB, and splits the TB before any write to the second page is executed.\nThe write then proceeds as intended. With this patch applied, I am able\nto boot and use Windows 7 64-bit and Windows 10 64-bit in QEMU without\nKVM.\n\nPer Richard Henderson's input, this patch also ensures the second page\nis in the TLB before executing the write loop, to ensure the second\npage is mapped.\n\nThe original discussion of the issue is located at\nhttp://lists.nongnu.org/archive/html/qemu-devel/2014-08/msg02161.html.\n\nSigned-off-by: Samuel Damashek <samuel.damashek@invincea.com>\nMessage-Id: <20160706182652.16190-1-samuel.damashek@invincea.com>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.998336672782898,KVM,softmmu_template.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,67aad508decdbbce59faa27072daae0d1d31b1ad,e7d336959b7c01699702dcda4b54a822972d74a8,Yi Min Zhao,2016-06-13,s390x/pci: write fid in CLP_QUERY_PCI_FN\n\nWe forgot to write the fid; fix that.\n\nSigned-off-by: Yi Min Zhao <zyimin@linux.vnet.ibm.com>\nAcked-by: Pierre Morel <pmorel@linux.vnet.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>,1,0.9996410608291626,PCI,hw/s390x/s390-pci-inst.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a4055d85863be76a5fb70ecd001e7db5bc6bd5cb,f1ef55786691a1bf79db0b74ba1e5347a0d38c1b,Zhang Shuaiyi,2016-06-29,"nec-usb-xhci: set the device state to USB_STATE_DEFAULT\n\nThis patch is a rough fix to ""hw/usb/core.c:401: usb_handle_packet:\n Assertion `dev->state == 3' failed."". Qemu will crash when a usb3\ndevice redirect to Windows7 VM via nec-usb-xhci.\n\nIn extensible-host-controler-interface-usb-xhci.pdf P94(4.6.5\nAddress Device):\n     If the Block Set Address Request (BSR) flag = 1\n         If the slot is in the Enabled state:\n            ...\n             Set the Slot State in the Output Slot Context to Default.\n\nBSR = 1: Enabled state to Default state; BSR = 0: Default state\nto Addressed state. Try to call usb_device_reset to set device state\nto USB_STATE_DEFAULT in xhci_address_slot wether bsr is zero.\n\nSigned-off-by: Zhang Shuaiyi <zhang_syi@massclouds.com>\nMessage-id: 1467258640-11921-1-git-send-email-zhang_syi@massclouds.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9995477795600892,USB,hw/usb/hcd-xhci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aa5cb7f5e8bf2e6737d0cb36c118332ca26e7797,8caf911d3316b6eccc503cff0d9a68cf922950f1,Marc-Andr Lureau,2016-07-04,"char: do not use atexit cleanup handler\n\nIt turns out qemu is calling exit() in various places from various\nthreads without taking much care of resources state. The atexit()\ncleanup handlers cannot easily destroy resources that are in use (by\nthe same thread or other).\n\nSince c1111a24a3, TCG arm guests run into the following abort() when\nrunning tests, the chardev mutex is locked during the write, so\nqemu_mutex_destroy() returns an error:\n\n #0  0x00007fffdbb806f5 in raise () at /lib64/libc.so.6\n #1  0x00007fffdbb822fa in abort () at /lib64/libc.so.6\n #2  0x00005555557616fe in error_exit (err=<optimized out>, msg=msg@entry=0x555555c38c30 <__func__.14622> ""qemu_mutex_destroy"")\n     at /home/drjones/code/qemu/util/qemu-thread-posix.c:39\n #3  0x0000555555b0be20 in qemu_mutex_destroy (mutex=mutex@entry=0x5555566aa0e0) at /home/drjones/code/qemu/util/qemu-thread-posix.c:57\n #4  0x00005555558aab00 in qemu_chr_free_common (chr=0x5555566aa0e0) at /home/drjones/code/qemu/qemu-char.c:4029\n #5  0x00005555558b05f9 in qemu_chr_delete (chr=<optimized out>) at /home/drjones/code/qemu/qemu-char.c:4038\n #6  0x00005555558b05f9 in qemu_chr_delete (chr=<optimized out>) at /home/drjones/code/qemu/qemu-char.c:4044\n #7  0x00005555558b062c in qemu_chr_cleanup () at /home/drjones/code/qemu/qemu-char.c:4557\n #8  0x00007fffdbb851e8 in __run_exit_handlers () at /lib64/libc.so.6\n #9  0x00007fffdbb85235 in  () at /lib64/libc.so.6\n #10 0x00005555558d1b39 in testdev_write (testdev=0x5555566aa0a0) at /home/drjones/code/qemu/backends/testdev.c:71\n #11 0x00005555558d1b39 in testdev_write (chr=<optimized out>, buf=0x7fffc343fd9a """", len=0) at /home/drjones/code/qemu/backends/testdev.c:95\n #12 0x00005555558adced in qemu_chr_fe_write (s=0x5555566aa0e0, buf=buf@entry=0x7fffc343fd98 ""0q"", len=len@entry=2) at /home/drjones/code/qemu/qemu-char.c:282\n\nInstead of using a atexit() handler, only run the chardev cleanup as\ninitially proposed at the end of main(), where there are less chances\n(hic) of conflicts or other races.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReported-by: Andrew Jones <drjones@redhat.com>\nMessage-Id: <20160704153823.16879-1-marcandre.lureau@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999670147895813,TCG,"include/sysemu/char.h, qemu-char.c, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f58b39d2d5b6dea1a757e1dc7d67a44eac1c4f9c,22e28174ae423629e57b0d03f4bbf2d1bedcd58f,Laszlo Ersek,2016-07-14,"virtio-mmio: format transport base address in BusClass.get_dev_path\n\nAt the moment the following QEMU command line triggers an assertion\nfailure (minimal reproducer by Cole):\n\n  qemu-system-aarch64 \\n    -machine virt-2.6,accel=tcg \\n    -nodefaults \\n    -no-user-config \\n    -nographic -monitor stdio \\n    -device virtio-scsi-device,id=scsi0 \\n    -device virtio-scsi-device,id=scsi1 \\n    -drive file=foo.img,format=raw,if=none,id=d0 \\n    -device scsi-hd,bus=scsi0.0,drive=d0 \\n    -drive file=foo.img,format=raw,if=none,id=d1 \\n    -device scsi-hd,bus=scsi1.0,drive=d1\n\n  qemu-system-aarch64: migration/savevm.c:615:\n  vmstate_register_with_alias_id:\n  Assertion `!se->compat || se->instance_id == 0' failed.\n\nThe reason is that the vmstate sections for the two scsi-hd devices are\nnot uniquely identifiable by name.\n\nThe direct parent buses of the scsi-hd devices -- scsi0.0 and scsi1.0 --\nsupport the BusClass.get_dev_path member function. scsibus_get_dev_path()\nformats a device path prefix with the help of its topologically parent\nbus, and then appends the chan:id:lun triplet to it. For both scsi-hd\ndevices, this triplet is 0:0:0.\n\n(Here we use ""device path"" in the QEMU migration sense, for vmstate\nsection identification, not in the OFW or UEFI device path senses.)\n\nThe virtio-scsi HBA is plugged into the virtio-mmio bus (implemented by\nthe internal VirtIOMMIOProxy device). This bus class\n(TYPE_VIRTIO_MMIO_BUS) inherits, as its get_dev_path() member function,\nthe virtio_bus_get_dev_path() method from its parent class\n(TYPE_VIRTIO_BUS).\n\nvirtio_bus_get_dev_path() does not format any kind of device address on\nits own; ""virtio addresses"" are transport-specific. Therefore\nvirtio_bus_get_dev_path() asks the topologically parent bus of the proxy\nobject (implementing the specific virtio transport) to format the address\nof the proxy object.\n\n(For virtio-pci devices (where the proxy is an instance of VirtIOPCIProxy,\nplugged into a PCI bus), this ends up in pcibus_get_dev_path().)\n\nHowever, VirtIOMMIOProxy is usually (in practice: always) plugged into\n""main-system-bus"", the singleton TYPE_SYSTEM_BUS object. This BusClass\ndoes not support formatting QEMU vmstate device paths at all (as\nSysBusDevice objects can have zero or more IO ports and zero or more MMIO\nregions). Hence the formatting request delegated from\nvirtio_bus_get_dev_path() gets answered with NULL.\n\nThe end result is that the two scsi-hd devices end up with the same device\npath ""0:0:0"", which triggers the assert.\n\nWe can solve this by recognizing that virtio-mmio transports are\ndistinguished from each other by their base addresses in MMIO address\nspace. Implement virtio_mmio_bus_get_dev_path() as follows:\n\n(1) The virtio device whose devpath is to be formatted resides on a\n    virtio-mmio bus that is implemented by a VirtIOMMIOProxy object. Ask\n    the parent bus of VirtIOMMIOProxy to format the device path of\n    VirtIOMMIOProxy, as a path prefix. (This is identical to what\n    virtio_bus_get_dev_path() does.)\n\n(2) Append the base address of VirtIOMMIOProxy to the device path, such\n    as:\n    - virtio-mmio@000000000a003e00,\n    - virtio-mmio@000000000a003c00.\n\nGiven that these device paths are placed in the migration stream, step (2)\nabove, if done unconditionally, would break migration. So make that step\nconditional on a new VirtIOMMIOProxy property, which is enabled for 2.7\nmachine types and later.\n\nCc: ""Michael S. Tsirkin"" <mst@redhat.com>\nCc: Cole Robinson <crobinso@redhat.com>\nCc: Dr. David Alan Gilbert <dgilbert@redhat.com>\nCc: Kevin Zhao <kevin.zhao@linaro.org>\nCc: Peter Maydell <peter.maydell@linaro.org>\nCc: Tom Hanson <thomas.hanson@linaro.org>\nReported-by: Kevin Zhao <kevin.zhao@linaro.org>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nSigned-off-by: Laszlo Ersek <lersek@redhat.com>\nMessage-id: 1467739394-28357-1-git-send-email-lersek@redhat.com\nFixes: https://bugs.launchpad.net/qemu/+bug/1594239\nSigned-off-by: Laszlo Ersek <lersek@redhat.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9994788765907288,"PCI, VIRTIO, VIRTIO_MMIO","hw/virtio/virtio-mmio.c, include/hw/compat.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8bff06a0bbf257a2083223534c1607bf87d913e6,3cbeb52467a8b8f3a836c7783a7ebc6450c5ef30,Paolo Bonzini,2016-07-15,"compiler: never omit assertions if using a static analysis tool\n\nAssertions help both Coverity and the clang static analyzer avoid\nfalse positives, but on the other hand both are confused when\nthe condition is compiled as (void)(x != FOO).  Always expand\nassertion macros when using Coverity or clang, through a new\nQEMU_STATIC_ANALYSIS preprocessor symbol.\n\nThis fixes a couple false positives in TCG.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995224475860596,TCG,"include/qemu/compiler.h, tcg/tcg.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,21bb3093e6accd2d7d60531a472a34e40911acd9,36a24df84a4728b1cd7425af24c0d30cd65a51b5,David Gibson,2016-07-12,"vfio/spapr: Remove stale ioctl() call\n\nThis ioctl() call to VFIO_IOMMU_SPAPR_TCE_REMOVE was left over from an\nearlier version of the code and has since been folded into\nvfio_spapr_remove_window().\n\nIt wasn't caught because although the argument structure has been removed,\nthe libc function remove() means this didn't trigger a compile failure.\nThe ioctl() was also almost certain to fail silently and harmlessly with\nthe bogus argument, so this wasn't caught in testing.\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Alexey Kardashevskiy <aik@ozlabs.ru>",1,0.9914173483848572,VFIO,hw/vfio/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,159d2e39a8602c369542a92573a52acb5f5f58f2,b56d417b8d7548e913d928809ce6bb1d6c2563e2,Thomas Huth,2016-07-15,"ppc: Yet another fix for the huge page support detection mechanism\n\nCommit 86b50f2e1bef (""Disable huge page support if it is not available\nfor main RAM"") already made sure that huge page support is not announced\nto the guest if the normal RAM of non-NUMA configurations is not backed\nby a huge page filesystem. However, there is one more case that can go\nwrong: NUMA is enabled, but the RAM of the NUMA nodes are not configured\nwith huge page support (and only the memory of a DIMM is configured with\nit). When QEMU is started with the following command line for example,\nthe Linux guest currently crashes because it is trying to use huge pages\non a memory region that does not support huge pages:\n\n qemu-system-ppc64 -enable-kvm ... -m 1G,slots=4,maxmem=32G -object \\n   memory-backend-file,policy=default,mem-path=/hugepages,size=1G,id=mem-mem1 \\n   -device pc-dimm,id=dimm-mem1,memdev=mem-mem1 -smp 2 \\n   -numa node,nodeid=0 -numa node,nodeid=1\n\nTo fix this issue, we've got to make sure to disable huge page support,\ntoo, when there is a NUMA node that is not using a memory backend with\nhuge page support.\n\nFixes: 86b50f2e1befc33407bdfeb6f45f7b0d2439a740\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996235370635986,DIMM,target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,103916cbe923f08080717942f1b5f9c4eb74aa11,a77f0a09fe3b9244f923239be15f65507248b5d1,Jason Wang,2016-07-12,e1000e: fix building without CONFIG_VMXNET3_PCI\n\ne1000e needs net_tx_pkt.o and net_rx_pkt.o too.\n\nCc: Dmitry Fleytman <dmitry.fleytman@ravellosystems.com>\nCc: Leonid Bloch <leonid.bloch@ravellosystems.com>\nSigned-off-by: Jason Wang <jasowang@redhat.com>,1,0.9996248483657836,"PCI, VMXNET3_PCI",hw/net/Makefile.objs,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ff9d3e9cd9f7c41d8b822c0d12b0176d8e7e530d,5d3217340adcb6c4f0e4af5d2b865331eb2ff63d,Peter Maydell,2016-07-11,"target-arm: Fix unreachable code in gicv3_class_name()\n\nCoverity complains that the exit() in gicv3_class_name()\ncan be unreachable, because if TARGET_AARCH64 is defined\nthen all code paths return before reaching it. Move the\nexit() up to the error_report() that it belongs with.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Shannon Zhao <shannon.zhao@linaro.org>\nMessage-id: 1468260552-8400-1-git-send-email-peter.maydell@linaro.org",1,0.9995627999305724,AARCH64,target-arm/machine.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,af45907a132857cfd47acc998bf5f7c26cd13071,709787ee997f0a0ccab78e0edaf10d48929151ee,Dr. David Alan Gilbert,2016-07-08,"target-i386: Allow physical address bits to be set\n\nCurrently QEMU sets the x86 number of physical address bits to the\nmagic number 40.  This is only correct on some small AMD systems;\nIntel systems tend to have 36, 39, 46 bits, and large AMD systems\ntend to have 48.\n\nHaving the value different from your actual hardware is detectable\nby the guest and in principal can cause problems;\nThe current limit of 40 stops TB VMs being created by those lucky\nenough to have that much.\n\nThis patch lets you set the physical bits by a cpu property but\ndefaults to the same 40bits which matches TCGs setup.\n\nI've removed the ancient warning about the 42 bit limit in exec.c;\nI can't find that limit in there and no one else seems to know where\nit is.\n\nWe use a magic value of 0 as the property default so that we can\nlater distinguish between the default and a user set value.\n\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9987230896949768,TCG,"target-i386/cpu.c, target-i386/cpu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,11f6fee576680a2d482123535da920f8ceb33eb5,9f3aab58539b4cc716e42e772be8116dc2e7d159,Dr. David Alan Gilbert,2016-07-11,"target-i386: Set physical address bits based on host\n\nAdd the host-phys-bits boolean property, if true, take phys-bits\nfrom the hosts physical bits value, overriding either the default\nor the user specified value.\n\nWe can also use the value we read from the host to check the users\nexplicitly set value and warn them if it doesn't match.\n\nNote:\n   a) We only read the hosts value in KVM mode (because on non-x86\n      we get an abort if we try)\n   b) We don't warn about trying to use host-phys-bits in TCG mode,\n      we just fall back to the TCG default.  This allows the machine\n      type to set the host-phys-bits flag if it wants and then to\n      work in both TCG and KVM.\n\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9946570992469788,"KVM, TCG","target-i386/cpu.c, target-i386/cpu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1dfe3282cf851dce186ab15b07225e5d8588b63f,889211b18b8d0acc814fbbe01b986f07b229a8c9,Igor Mammedov,2016-06-24,"apic: Drop APICCommonState.idx and use APIC ID as index in local_apics[]\n\nlocal_apics[] is sized to contain all APIC ID supported in xAPIC mode,\nso use APIC ID as index in it instead of constantly increasing counter idx.\n\nFixes error ""apic initialization failed"" when a CPU hotplugged and\nunplugged more times than there are free slots in local_apics[].\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Radim Krm <rkrcmar@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9986690282821656,APIC,"hw/intc/apic.c, include/hw/i386/apic_internal.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f6e984443f1634eee8d6876a7cce039b976c95e0,9c156f9de52b75510d3951dfede2cf96773b6626,Igor Mammedov,2016-07-01,"apic: Use apic_id as apic's migration instance_id\n\ninstance_id is generated by last_used_id + 1 for a given device type\nso for QEMU with 3 CPUs instance_id for APICs is a seti of [0, 1, 2]\nWhen CPU in the middle is hot-removed and migration started\nAPICs with instance_ids 0 and 2 are transferred in migration stream.\nHowever target starts with 2 CPUs and APICs' instance_ids are\ngenerated from scratch [0, 1] hence migration fails with error\n  Unknown savevm section or instance 'apic' 2\n\nFix issue by manually registering APIC's vmsd with apic_id as\ninstance_id, in this case instance_id on target will always\nmatch instance_id on source as apic_id is the same for a given\ncpu instance.\n\nReported-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9990647435188292,APIC,"hw/intc/apic_common.c, include/hw/i386/apic_internal.h, include/hw/i386/pc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,50d3bba9dabaeb89e545ced4dea23d8064a65c7a,eaf8d91cd7ac28803eb0fb5a13b0c10e5096c361,Marcel Apfelbaum,2016-07-14,hw/alpha: fix PCI bus initialization\n\nDelay the host-bridge 'realization' until the\nPCI root bus is attached.\n\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>,1,0.9995532631874084,PCI,hw/alpha/typhoon.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a8c1a75343940fdc9d47e6a9b7723476bb5e1774,50d3bba9dabaeb89e545ced4dea23d8064a65c7a,Marcel Apfelbaum,2016-07-14,hw/mips: fix PCI bus initialization\n\nDelay the host-bridge 'realization' until the\nPCI root bus is attached.\n\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nAcked-by: Leon Alrae <leon.alrae@imgtec.com>\nTested-by: Leon Alrae <leon.alrae@imgtec.com>,1,0.99958997964859,PCI,hw/mips/gt64xxx_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2f3ae0b2d4343712ee2a1b23b51bfe5272c52138,a8c1a75343940fdc9d47e6a9b7723476bb5e1774,Marcel Apfelbaum,2016-07-14,hw/apb: fix PCI bus initialization\n\nCreate and connect the PCI root bus to the\nhost bridge before the later is 'realized'.\n\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>,1,0.999525547027588,PCI,hw/pci-host/apb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3c3c1e32033ffa7e0613d26dfb15255466dc9829,2f3ae0b2d4343712ee2a1b23b51bfe5272c52138,Marcel Apfelbaum,2016-07-14,hw/grackle: fix PCI bus initialization\n\nDelay the host-bridge 'realization' until the\nPCI root bus is attached.\n\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>,1,0.9996384382247924,PCI,hw/pci-host/grackle.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,afd9096eb1882f23929f5b5c177898ed231bac66,f49ee630d73729ecaeecf4b38a8df11bc613914d,Stefan Hajnoczi,2016-07-19,"virtio: error out if guest exceeds virtqueue size\n\nA broken or malicious guest can submit more requests than the virtqueue\nsize permits, causing unbounded memory allocation in QEMU.\n\nThe guest can submit requests without bothering to wait for completion\nand is therefore not bound by virtqueue size.  This requires reusing\nvring descriptors in more than one request, which is not allowed by the\nVIRTIO 1.0 specification.\n\nIn ""3.2.1 Supplying Buffers to The Device"", the VIRTIO 1.0 specification\nsays:\n\n  1. The driver places the buffer into free descriptor(s) in the\n     descriptor table, chaining as necessary\n\nand\n\n  Note that the above code does not take precautions against the\n  available ring buffer wrapping around: this is not possible since the\n  ring buffer is the same size as the descriptor table, so step (1) will\n  prevent such a condition.\n\nThis implies that placing more buffers into the virtqueue than the\ndescriptor table size is not allowed.\n\nQEMU is missing the check to prevent this case.  Processing a request\nallocates a VirtQueueElement leading to unbounded memory allocation\ncontrolled by the guest.\n\nExit with an error if the guest provides more requests than the\nvirtqueue size permits.  This bounds memory allocation and makes the\nbuggy guest visible to the user.\n\nThis patch fixes CVE-2016-5403 and was reported by Zhenhao Hong from 360\nMarvel Team, China.\n\nReported-by: Zhenhao Hong <hongzhenhao@360.cn>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.999460995197296,VIRTIO,hw/virtio/virtio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2c533c5479f0f712578422529b20651f01adb0f4,6b4495401bdf442457b713b7e3994b465c55af35,Marcel Apfelbaum,2016-07-17,"hw/pcie-root-port: Fix PCIe root port initialization\n\nSpecify the root port interrupt pin as part of the init\nprocess for cases when msi/msix are not enabled.\n\nFixes ""hw/pci/pci.c:196:23: runtime error: shift exponent -1 is negative""\nwarning from clang's sanitizer.\n\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996520280838012,PCI,hw/pci-bridge/ioh3420.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c99cb18eeb8bca145ee260a507ccce6775a6d260,7b346c742cd95816c1d5badcc88e18bb95ace08c,Marcel Apfelbaum,2016-07-17,"hw/acpi: fix a DSDT table issue when a pxb is present.\n\nPXBs do not support hotplug so they don't have a PCNT function.\nSince the PXB's PCI root-bus is a child bus of bus 0, the\nbuild_dsdt code will add a call to the corresponding PCNT function.\n\nFix this by skipping the PCNT call for the above case.\nWhile at it skip also PCIe child buses.\n\nReported-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nTested-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999732792377472,"PCI, PXB",hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,16de88a4164f2e580b3b2ee67d1b9ac1dace1711,2df5a7b52f2b1923f59f47da4ac2fc5501b4bd3c,Marcel Apfelbaum,2016-07-17,"hw/apci: handle 64-bit MMIO regions correctly\n\nIn build_crs(), the calculation and merging of the ranges already happens\nin 64-bit, but the entry boundaries are silently truncated to 32-bit in the\ncall to aml_dword_memory(). Fix it by handling the 64-bit MMIO ranges separately.\nThis fixes 64-bit BARs behind PXBs.\n\nReported-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nTested-by: Laszlo Ersek <lersek@redhat.com>\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9984478950500488,PXB,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9a4c0e220d8a4f82b5665d0ee95ef94d8e1509d5,be0d9760d7fa30e50ded15956f06506d993cbc88,Marcel Apfelbaum,2016-07-20,hw/virtio-pci: fix virtio behaviour\n\nEnable transitional virtio devices by default.\nEnable virtio-1.0 for devices plugged into\nPCIe ports (Root ports or Downstream ports).\n\nUsing the virtio-1 mode will remove the limitation\nof the number of devices that can be attached to a machine\nby removing the need for the IO BAR.\n\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>,1,0.9996232986450196,PCI,"hw/display/virtio-gpu-pci.c, hw/display/virtio-vga.c, hw/virtio/virtio-pci.c, hw/virtio/virtio-pci.h, include/hw/compat.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,87ac25fd1fed05a30a93d27dbeb2a4c4b83ec95f,21a21b853a1bb606358af61e738abfb9aecbd720,John Snow,2016-07-28,"ide: fix halted IO segfault at reset\n\nIf one attempts to perform a system_reset after a failed IO request\nthat causes the VM to enter a paused state, QEMU will segfault trying\nto free up the pending IO requests.\n\nThese requests have already been completed and freed, though, so all\nwe need to do is NULL them before we enter the paused state.\n\nExisting AHCI tests verify that halted requests are still resumed\nsuccessfully after a STOP event.\n\nAnalyzed-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nSigned-off-by: John Snow <jsnow@redhat.com>\nMessage-id: 1469635201-11918-2-git-send-email-jsnow@redhat.com\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.9996944665908812,AHCI,hw/ide/core.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7005f7f81cef31bda895d3274c13854c143d3d8d,c8721d35994fd3731e592f81ba2f9c08e7dc8c31,Peter Xu,2016-08-03,"kvm-irqchip: only commit route when irqchip is used\n\nReported from Alexey Kardashevskiy:\n\n3f1fea0fb5bf ""kvm-irqchip: do explicit commit when update irq"" produces\na crash on pseries guest running with VFIO on POWER8 machine as it does\nnot support KVM_CAP_IRQCHIP (KVM_CAP_IRQ_XICS is there instead). At the\nresult, KVMState::irq_routes is NULL when VFIO calls\nkvm_irqchip_commit_routes.\n\nThis makes the routing update conditional.\n\nReported-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nTested-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Peter Xu <peterx@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9986141920089722,"KVM, VFIO, XICS",kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,20fd4b7b6d9282fe0cb83601f1821f31bd257458,f99b86b94987561580a94838766458e1c7b8685d,Peter Xu,2016-08-01,"x86: ioapic: add support for explicit EOI\n\nSome old Linux kernels (upstream before v4.0), or any released RHEL\nkernels has problem in sending APIC EOI when IR is enabled. Meanwhile,\nmany of them only support explicit EOI for IOAPIC, which is only\nintroduced in IOAPIC version 0x20. This patch provide a way to boost\nQEMU IOAPIC to version 0x20, in order for QEMU to correctly receive EOI\nmessages.\n\nWithout boosting IOAPIC version to 0x20, kernels before commit d32932d\n(""x86/irq: Convert IOAPIC to use hierarchical irqdomain interfaces"")\nwill have trouble enabling both IR and level-triggered interrupt devices\n(like e1000).\n\nTo upgrade IOAPIC to version 0x20, we need to specify:\n\n  -global ioapic.version=0x20\n\nTo be compatible with old systems, 0x11 will still be the default IOAPIC\nversion. Here 0x11 and 0x20 are the only versions to be supported.\n\nOne thing to mention: this patch only applies to emulated IOAPIC. It\ndoes not affect kernel IOAPIC behavior.\n\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <1470059959-372-1-git-send-email-peterx@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9984385371208192,"APIC, IOAPIC","hw/intc/ioapic.c, include/hw/i386/ioapic_internal.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0968c91ce00f42487fb11de5da38e53b5dc6bc7f,09704e6ded83fa0bec14baf32f800f6512156ca0,Bruce Rogers,2016-07-27,Xen PCI passthrough: fix passthrough failure when no interrupt pin\n\nCommit 5a11d0f7 mistakenly converted a log message into an error\ncondition when no pin interrupt is found for the pci device being\npassed through. Revert that part of the commit.\n\nSigned-off-by: Bruce Rogers <brogers@suse.com>\nSigned-off-by: Stefano Stabellini <sstabellini@kernel.org>\nAcked-by: Anthony PERARD <anthony.perard@citrix.com>,1,0.9994906187057496,PCI,hw/xen/xen_pt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2ef45716e1d4820f10a90ee2f17a9cb4fe5a8806,cbda16c010a2e1e7cd6e5441cef87663fbe1ef75,Marc-Andr Lureau,2016-08-01,"monitor: fix crash when leaving qemu with spice audio\n\nSince aa5cb7f5e, the chardevs are being cleaned up when leaving\nqemu. However, the monitor has still references to them, which may\nlead to crashes when running atexit() and trying to send monitor\nevents:\n\n #0  0x00007fffdb18f6f5 in __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:54\n #1  0x00007fffdb1912fa in __GI_abort () at abort.c:89\n #2  0x0000555555c263e7 in error_exit (err=22, msg=0x555555d47980 <__func__.13537> ""qemu_mutex_lock"") at util/qemu-thread-posix.c:39\n #3  0x0000555555c26488 in qemu_mutex_lock (mutex=0x5555567a2420) at util/qemu-thread-posix.c:66\n #4  0x00005555558c52db in qemu_chr_fe_write (s=0x5555567a2420, buf=0x55555740dc40 ""{\""timestamp\"": {\""seconds\"": 1470041716, \""microseconds\"": 989699}, \""event\"": \""SPICE_DISCONNECTED\"", \""data\"": {\""server\"": {\""port\"": \""5900\"", \""family\"": \""ipv4\"", \""host\"": \""127.0.0.1\""}, \""client\"": {\""port\"": \""40272\"", \""f""..., len=240) at qemu-char.c:280\n #5  0x0000555555787cad in monitor_flush_locked (mon=0x5555567bd9e0) at /home/elmarco/src/qemu/monitor.c:311\n #6  0x0000555555787e46 in monitor_puts (mon=0x5555567bd9e0, str=0x5555567a44ef """") at /home/elmarco/src/qemu/monitor.c:353\n #7  0x00005555557880fe in monitor_json_emitter (mon=0x5555567bd9e0, data=0x5555567c73a0) at /home/elmarco/src/qemu/monitor.c:401\n #8  0x00005555557882d2 in monitor_qapi_event_emit (event=QAPI_EVENT_SPICE_DISCONNECTED, qdict=0x5555567c73a0) at /home/elmarco/src/qemu/monitor.c:472\n #9  0x000055555578838f in monitor_qapi_event_queue (event=QAPI_EVENT_SPICE_DISCONNECTED, qdict=0x5555567c73a0, errp=0x7fffffffca88) at /home/elmarco/src/qemu/monitor.c:497\n #10 0x0000555555c15541 in qapi_event_send_spice_disconnected (server=0x5555571139d0, client=0x5555570d0db0, errp=0x5555566c0428 <error_abort>) at qapi-event.c:1038\n #11 0x0000555555b11bc6 in channel_event (event=3, info=0x5555570d6c00) at ui/spice-core.c:248\n #12 0x00007fffdcc9983a in adapter_channel_event (event=3, info=0x5555570d6c00) at reds.c:120\n #13 0x00007fffdcc99a25 in reds_handle_channel_event (reds=0x5555567a9d60, event=3, info=0x5555570d6c00) at reds.c:324\n #14 0x00007fffdcc7d4c4 in main_dispatcher_self_handle_channel_event (self=0x5555567b28b0, event=3, info=0x5555570d6c00) at main-dispatcher.c:175\n #15 0x00007fffdcc7d5b1 in main_dispatcher_channel_event (self=0x5555567b28b0, event=3, info=0x5555570d6c00) at main-dispatcher.c:194\n #16 0x00007fffdcca7674 in reds_stream_push_channel_event (s=0x5555570d9910, event=3) at reds-stream.c:354\n #17 0x00007fffdcca749b in reds_stream_free (s=0x5555570d9910) at reds-stream.c:323\n #18 0x00007fffdccb5dad in snd_disconnect_channel (channel=0x5555576a89a0) at sound.c:229\n #19 0x00007fffdccb9e57 in snd_detach_common (worker=0x555557739720) at sound.c:1589\n #20 0x00007fffdccb9f0e in snd_detach_playback (sin=0x5555569fe3f8) at sound.c:1602\n #21 0x00007fffdcca3373 in spice_server_remove_interface (sin=0x5555569fe3f8) at reds.c:3387\n #22 0x00005555558ff6e2 in line_out_fini (hw=0x5555569fe370) at audio/spiceaudio.c:152\n #23 0x00005555558f909e in audio_atexit () at audio/audio.c:1754\n #24 0x00007fffdb1941e8 in __run_exit_handlers (status=0, listp=0x7fffdb5175d8 <__exit_funcs>, run_list_atexit=run_list_atexit@entry=true) at exit.c:82\n #25 0x00007fffdb194235 in __GI_exit (status=<optimized out>) at exit.c:104\n #26 0x00007fffdb17b738 in __libc_start_main (main=0x5555558d7874 <main>, argc=67, argv=0x7fffffffcf48, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7fffffffcf38) at ../csu/libc-start.c:323\n\nAdd a monitor_cleanup() functions to remove all the monitors before\ncleaning up the chardev. Note that we are ""losing"" some events that\nused to be sent during atexit().\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20160801112343.29082-2-marcandre.lureau@redhat.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>",1,0.9997219443321228,SPICE,"include/monitor/monitor.h, monitor.c, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2368635d3943294c672a62abd60a233aca708982,435405ac59b9334b06285e1192c693b497282a31,Pranith Kumar,2016-08-09,clang: Fix warning reg. expansion to 'defined'\n\nClang produces the following warning. The warning is detailed here:\nhttps://reviews.llvm.org/D15866. Fix the warning.\n\n/home/pranith/devops/code/qemu/hw/display/qxl.c:507:5: warning: macro expansion producing 'defined' has undefined behavior [-Wexpansion-to-defined]\n    ^\n/home/pranith/devops/code/qemu/include/ui/qemu-spice.h:46:5: note: expanded from macro 'SPICE_NEEDS_SET_MM_TIME'\n  (!defined(SPICE_SERVER_VERSION) || (SPICE_SERVER_VERSION < 0xc06))\n    ^\n/home/pranith/devops/code/qemu/hw/display/qxl.c:1074:5: warning: macro expansion producing 'defined' has undefined behavior [-Wexpansion-to-defined]\n    ^\n/home/pranith/devops/code/qemu/include/ui/qemu-spice.h:46:5: note: expanded from macro 'SPICE_NEEDS_SET_MM_TIME'\n  (!defined(SPICE_SERVER_VERSION) || (SPICE_SERVER_VERSION < 0xc06))\n\nSuggested-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Pranith Kumar <bobby.prani@gmail.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9993157386779784,SPICE,include/ui/qemu-spice.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,760d88d1d0c409f1afe6f1c91539487413e8b2a9,2bb15bddf2607110820d5ce5aa43baac27292fb3,Laurent Vivier,2016-08-08,"ppc64: fix compressed dump with pseries kernel\n\nIf we don't provide the page size in target-ppc:cpu_get_dump_info(),\nthe default one (TARGET_PAGE_SIZE, 4KB) is used to create\nthe compressed dump. It works fine with Macintosh, but not with\npseries as the kernel default page size is 64KB.\n\nWithout this patch, if we generate a compressed dump in the QEMU monitor:\n\n    (qemu) dump-guest-memory -z qemu.dump\n\nThis dump cannot be read by crash:\n\n    # crash vmlinux qemu.dump\n    ...\n    WARNING: cannot translate vmemmap kernel virtual addresses:\n             commands requiring page structure contents will fail\n    ...\n\nPage_size is used to determine the dumpfile's block size. The\nblock size needs to be at least the page size, but a multiple of page\nsize works fine too. For PPC64, linux supports either 4KB or 64KB software\npage size. So we define the page_size to 64KB.\n\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996945858001708,"PPC, PPC64",target-ppc/arch_dump.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ca525ce5618bea94db0d8fa3fde0b3066f8cd3f0,ca10203cde7cf37623e0e77da1696ba1fbce5d84,Prerna Saxena,2016-08-05,"vhost-user: Introduce a new protocol feature REPLY_ACK.\n\nThis introduces the VHOST_USER_PROTOCOL_F_REPLY_ACK.\n\nIf negotiated, client applications should send a u64 payload in\nresponse to any message that contains the ""need_reply"" bit set\non the message flags. Setting the payload to ""zero"" indicates the\ncommand finished successfully. Likewise, setting it to ""non-zero""\nindicates an error.\n\nCurrently implemented only for SET_MEM_TABLE.\n\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nSigned-off-by: Prerna Saxena <prerna.saxena@nutanix.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.998641073703766,VHOST_USER,"docs/specs/vhost-user.txt, hw/virtio/vhost-user.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0e8b3cdfbc167f4bb7790ef744eaa1ac0e6959f9,e110aa919a84e6454017b60b222344f3ac6038b5,Evgeny Yakovlev,2016-07-29,"migration: mmap error check fix\n\nmmap man page:\n""On success, mmap() returns a pointer to the mapped area. On error, the\nvalue MAP_FAILED (that is, (void *) -1) is returned, and errno  is  set\nto indicate the cause of the error.""\n\nThe check in postcopy_get_tmp_page is definitely wrong and should be\nfixed.\n\nSigned-off-by: Evgeny Yakovlev <eyakovlev@virtuozzo.com>\nSigned-off-by: Denis V. Lunev <den@openvz.org>\nReviewed-by: Amit Shah <amit.shah@redhat.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nCC: Juan Quintela <quintela@redhat.com>\nCC: Amit Shah <amit.shah@redhat.com>\nMessage-Id: <1469785705-16670-1-git-send-email-den@openvz.org>\nSigned-off-by: Amit Shah <amit.shah@redhat.com>",1,0.9997344613075256,LED,migration/postcopy-ram.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6bbbb0ac136102098a70b97ab0c07bc7bf53131c,28b874429ba16e71e0caa46453f3a3e31efb3c51,Pranith Kumar,2016-08-09,"target-arm: Fix warn about implicit conversion\n\nClang warns about an implicit conversion as follows:\n\n/mnt/devops/code/qemu/target-arm/neon_helper.c:1075:1: warning: implicit conversion from 'int' to 'int8_t' (aka 'signed char') changes value from 128 to -128 [-Wconstant-conversion]\nNEON_VOP_ENV(qrshl_s8, neon_s8, 4)\n^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/mnt/devops/code/qemu/target-arm/neon_helper.c:116:83: note: expanded from macro 'NEON_VOP_ENV'\nuint32_t HELPER(glue(neon_,name))(CPUARMState *env, uint32_t arg1, uint32_t arg2) \\n                                                                                  ^\n/mnt/devops/code/qemu/target-arm/neon_helper.c:106:5: note: expanded from macro '\\nNEON_VOP_BODY'\n    NEON_DO##n; \\n    ^~~~~~~~~~\n<scratch space>:21:1: note: expanded from here\nNEON_DO4\n^~~~~~~~\n/mnt/devops/code/qemu/target-arm/neon_helper.c:93:5: note: expanded from macro 'NEON_DO4'\n    NEON_FN(vdest.v1, vsrc1.v1, vsrc2.v1); \\n    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/mnt/devops/code/qemu/target-arm/neon_helper.c:1054:23: note: expanded from macro 'NEON_FN'\n            dest = (1 << (sizeof(src1) * 8 - 1)); \\n                 ~  ~~^~~~~~~~~~~~~~~~~~~~~~~~~\n\nFix it by casting to appropriate type.\n\nSigned-off-by: Pranith Kumar <bobby.prani@gmail.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9994962215423584,ARM,target-arm/neon_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8afc224ffeca281c9f332e3821831642194797ba,2d1c8d5456420654d3474cec229243ba823323f1,Daniel P. Berrange,2016-08-08,"virtio-gpu: fix missing log.h include file\n\nThe virtio-gpu.h file defines a macro VIRTIO_GPU_FILL_CMD\nwhich includes a call to qemu_log_mask, but does not\ninclude qemu/log.h. In a default configure, it is lucky\nand gets qemu/log.h indirectly due to the 'log' trace\nbackend being enabled. If that trace backend is disabled\nthough, eg\n\n ./configure --enable-trace-backends=nop\n\nThen the build will fail:\n\nIn file included from /home/berrange/src/virt/qemu/hw/display/virtio-gpu-3d.c:19:0:\n/home/berrange/src/virt/qemu/hw/display/virtio-gpu-3d.c: In function virgl_cmd_create_resource_2d:\n/home/berrange/src/virt/qemu/include/hw/virtio/virtio-gpu.h:138:13: error: implicit declaration of function qemu_log_mask [-Werror=implicit-function-declaration]\n             qemu_log_mask(LOG_GUEST_ERROR,                              \\n             ^\n/home/berrange/src/virt/qemu/hw/display/virtio-gpu-3d.c:34:5: note: in expansion of macro VIRTIO_GPU_FILL_CMD\n     VIRTIO_GPU_FILL_CMD(c2d);\n     ^~~~~~~~~~~~~~~~~~~\n/home/berrange/src/virt/qemu/hw/display/virtio-gpu-3d.c:34:5: error: nested extern declaration of qemu_log_mask [-Werror=nested-externs]\nIn file included from /home/berrange/src/virt/qemu/hw/display/virtio-gpu-3d.c:19:0:\n/home/berrange/src/virt/qemu/include/hw/virtio/virtio-gpu.h:138:27: error: LOG_GUEST_ERROR undeclared (first use in this function)\n             qemu_log_mask(LOG_GUEST_ERROR,                              \\n\n[snip many more errors]\n\nSigned-off-by: Daniel P. Berrange <berrange@redhat.com>\nMessage-id: 1470648700-3474-1-git-send-email-berrange@redhat.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997277855873108,"VIRTIO, VIRTIO_GPU",include/hw/virtio/virtio-gpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,135a972b45203ba992afc99ef4f061be8a5acae0,b69a553b4af9bc87a8b2e0a7b7a7de4cc7f0557e,Christian Borntraeger,2016-08-25,"translate: early exit in tb_flush if there is no tcg\n\ntb_flush does all kind of things, which are very tcg specific. As it\nis called from some places even for KVM (e.g. gdb server) it is better\nto detect these cases and do an early exit.\nThis also fixes a crash in the gdb server that was triggered by\ncommit 909eaac9bbc2 (""tb hash: track translated blocks with qht"").\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nReported-by: Richard Henderson <rth@twiddle.net>\nReported-by: Brent Baccala <cosine@freesoft.org>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nMessage-id: 1472148686-39841-1-git-send-email-borntraeger@de.ibm.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995145797729492,KVM,translate-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,882b3b97697affb36ca3d174f42f846232008979,5759db1936b52a7f5d0cd4e1377ed74054d555f9,Cornelia Huck,2016-08-15,"s390x/css: handle cssid 255 correctly\n\nThe cssid 255 is reserved but still valid from an architectural\npoint of view. However, feeding a bogus schid of 0xffffffff into\nthe virtio hypercall will lead to a crash:\n\nStack trace of thread 138363:\n        #0  0x00000000100d168c css_find_subch (qemu-system-s390x)\n        #1  0x00000000100d3290 virtio_ccw_hcall_notify\n        #2  0x00000000100cbf60 s390_virtio_hypercall\n        #3  0x000000001010ff7a handle_hypercall\n        #4  0x0000000010079ed4 kvm_cpu_exec (qemu-system-s390x)\n        #5  0x00000000100609b4 qemu_kvm_cpu_thread_fn\n        #6  0x000003ff8b887bb4 start_thread (libpthread.so.0)\n        #7  0x000003ff8b78df0a thread_start (libc.so.6)\n\nThis is because the css array was only allocated for 0..254\ninstead of 0..255.\n\nLet's fix this by bumping MAX_CSSID to 255 and fencing off the\nreserved cssid of 255 during css image allocation.\n\nReported-by: Christian Borntraeger <borntraeger@de.ibm.com>\nTested-by: Christian Borntraeger <borntraeger@de.ibm.com>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9995425939559937,SSI,"hw/s390x/css.c, include/hw/s390x/css.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b60fae32ff33cbaab76d14cc5f55b979cf58516d,dbdfea9226c9d0bdd149272514f47862e03f4ebe,David Hildenbrand,2014-06-03,"s390x/kvm: 2 byte software breakpoint support\n\nDiag 501 (4 bytes) was used until now for software breakpoints on s390.\nAs instructions on s390 might be 2 bytes long, temporarily overwriting them\nwith 4 bytes is evil and can result in very strange guest behaviour.\n\nWe make use of invalid instruction 0x0000 as new sw breakpoint instruction.\nWe have to enable interception of that instruction in KVM using a\ncapability.\n\nIf no software breakpoint has been inserted at the reported position, an\noperation exception has to be injected into the guest. Otherwise a\nbreakpoint has been hit and the pc has to be rewound.\n\nIf KVM doesn't yet support interception of instruction 0x0000 the\nexisting mechanism exploiting diag 501 is used. To keep overhead low,\ninterception of instruction 0x0000 will only be enabled if sw breakpoints\nare really used.\n\nReviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: David Hildenbrand <dahi@linux.vnet.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9980454444885254,KVM,"target-s390x/cpu.h, target-s390x/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f460be435f8750d5d1484d3d8b9e5b2c334f0e20,e0fe723c24562c8f909bb40f131bfdbe75650677,Wei Huang,2016-09-06,"ARM: ACPI: fix the AML ID format for CPU devices\n\nCurrent QEMU will stall guest VM booting under ACPI mode when vcpu count\nis >= 12. Analyzing the booting log, it turns out that DSDT table can't\nbe loaded correctly due to ""Invalid character(s) in name (0x62303043),\nrepaired: [C00*]"". This is because existing QEMU uses a lower case AML\nID for CPU devices (e.g. C000, C001, ..., C00a, C00b). The ACPI code\ninside guest VM detects this lower case character as an invalid character\n(see acpi_ut_valid_acpi_char() in drivers/acpi/acpica/utstring.c file)\nand converts it to ""*"". This causes duplicated IDs (i.e. ""C00a"" ==>""C00*""\nand ""C00b"" ==> ""C00*""). So ACPI refuses to load the table.\n\nThis patch fixes the problem by changing the format with a upper case\ncharacter. It matches the CPU ID formats used in other parts of QEMU\ncode.\n\nReported-by: Eric Auger <eric.auger@redhat.com>\nSigned-off-by: Wei Huang <wei@redhat.com>\nReviewed-by: Shannon Zhao <shannon.zhao@linaro.org>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nTested-by: Eric Auger <eric.auger@redhat.com>\nMessage-id: 1472852809-23042-1-git-send-email-wei@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996905326843262,"ACPI, ARM",hw/arm/virt-acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dd2fa4f72d1ce44ce1635fe3a744bd47d8f2ab05,3654fa95bc29e72c2eef22f26eb621af1f86feec,Benjamin Herrenschmidt,2016-08-02,"ppc: Fix macio ESCC legacy mapping\n\nThe current mapping, while correct for the base ports (which is all the\ndriver uses these days), is wrong for the extended registers.\n\nI suspect the bugs come from incorrect tables in the CHRP IO Ref document,\nI have verified the new values here match Apple's MacTech.pdf.\n\nNote: Nothing that I know of actually uses these registers so it's not a\nhuge deal, but this patch has the added advantage of adding comments to\ndocument what the registers are.\n\nSigned-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999723732471466,ESCC,hw/misc/macio/macio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8928473699d5fc7a3914abb928af35b3a0dfa5ec,a337f295defad7eb977da4d6317cf70f7f2fa4b4,Bruce Rogers,2016-06-17,pic: fix typo in error message: KVM_GET_IRQCHIP -> KVM_SET_IRQCHIP\n\nSigned-off-by: Bruce Rogers <brogers@suse.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>,1,0.999716579914093,KVM,hw/i386/kvm/i8259.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,49adc5d3f8c6bb75e55ebfeab109c5c37dea65e8,a2feb3483e11a389bc93a5bbd40815d6cfdfb07f,Prasad J Pandit,2016-09-06,"scsi: pvscsi: limit loop to fetch SG list\n\nIn PVSCSI paravirtual SCSI bus, pvscsi_convert_sglist can take a very\nlong time or go into an infinite loop due to two different bugs:\n\n1) the request descriptor data length is defined to be 64 bit. While\nbuilding SG list from a request descriptor, it gets truncated to 32bit\nin routine 'pvscsi_convert_sglist'. This could lead to an infinite loop\nsituation large 'dataLen' values when data_length is cast to uint32_t and\nchunk_size becomes always zero.  Fix this by removing the incorrect cast.\n\n2) pvscsi_get_next_sg_elem can be called arbitrarily many times if the\nelement has a zero length.  Get out of the loop early when this happens,\nby introducing an upper limit on the number of SG list elements.\n\nReported-by: Li Qiang <liqiang6-s@360.cn>\nSigned-off-by: Prasad J Pandit <pjp@fedoraproject.org>\nMessage-Id: <1473108643-12983-1-git-send-email-ppandit@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.8786302208900452,SCSI,hw/scsi/vmw_pvscsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,78d6a05d2f69cbfa6e95f0a4a24a2c934969913b,0342454f8aa6fc55e515bad26425533e10b58085,Dr. David Alan Gilbert,2016-09-12,"x86/lapic: Load LAPIC state at post_load\n\nLoad the LAPIC state during post_load (rather than when the CPU\nstarts).\n\nThis allows an interrupt to be delivered from the ioapic to\nthe lapic prior to cpu loading, in particular the RTC that starts\nticking as soon as we load it's state.\n\nFixes a case where Windows hangs after migration due to RTC interrupts\ndisappearing.\n\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997017979621888,APIC,"hw/i386/kvm/apic.c, include/sysemu/kvm.h, target-i386/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bb93e099888e8e7e959aa610ac783f41036bcc94,d251157ac1928191af851d199a9ff255d330bec9,Wanpeng Li,2016-09-14,"pc: apic: fix touch LAPIC when irqchip is split\n\nAdd -kernel_irqchip=split\n./x86-run x86/eventinj.flat\n\nqemu-system-x86_64 -enable-kvm -machine kernel_irqchip=split -cpu host\n-device pc-testdev -device isa-debug-exit,iobase=0xf4,iosize=0x4 -vnc\nnone -serial stdio -device pci-testdev -kernel x86/eventinj.flat\nenabling apic\npaging enabled\ncr0 = 80010011\ncr3 = 7fff000\ncr4 = 20\nSending vec 33 and 62 and mask one with TPR\nirq1 running\nirq1 running\nAfter 33/62 TPR test\nFAIL: TPR\nirq0 running\nirq0 running\n\nBoth irq1 and irq0 are executing twice.\n\nkvm_entry: vcpu 0\nkvm_exit: reason MSR_WRITE rip 0x401f33 info 0 0\nkvm_apic: apic_write APIC_EOI = 0x0\nkvm_eoi: apicid 0 vector 62\nkvm_msr: msr_write 80b = 0x0\nkvm_entry: vcpu 0\nkvm_exit: reason PENDING_INTERRUPT rip 0x401f35 info 0 0\nkvm_userspace_exit: reason KVM_EXIT_IRQ_WINDOW_OPEN (7)\nkvm_inj_virq: irq 62\nkvm_entry: vcpu 0\nkvm_exit: reason IO_INSTRUCTION rip 0x4016ec info 3fd0008 0\n\nFrom the trace we can see there is an interrupt window exit\nafter the first interrupt EOI(irq 62), and the same irq(62)\nis injected duplicately after the interrupt window.\n\nQEMU does KVM_INTERRUPT(62) ioctl after KVM exits with\nKVM_EXIT_IRQ_WINDOW_OPEN, which QEMU requested while the\nguest was printing.  The printing calls\n\nserial_update_irq() -> qemu_irq_lower() -> qemu_set_irq() ->\ngsi_handler() -> qemu_set_irq() -> pic_irq_request() ->\napic_deliver_pic_intr() -> kvm_handle_interrupt()\n\nkvm_handle_interrupt() does\n\n	interrupt_request |= CPU_INTERRUPT_HARD\n\nwhich later calls cpu_get_pic_interrupt() in kvm_arch_pre_run(),\nbut that function uses stale information from APIC and injects\n62 again. If we synchronized the APIC, then the test would #GP,\nbecause there would be no injectable interrupt in LAPIC or PIC,\nso pic_read_irq() would return 15, thinking it was spurious.\n\nThis patch fix it by don't touch LAPIC if LAPIC is in kernel.\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSuggested-by: Radim Krm <rkrcmar@redhat.com>\nCc: qemu-stable@nongnu.org\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Radim Krm <rkrcmar@redhat.com>\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Wanpeng Li <wanpeng.li@hotmail.com>\nMessage-Id: <1473832464-3478-1-git-send-email-wanpeng.li@hotmail.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997082352638244,"APIC, KVM",hw/i386/pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7616f1c2da1c0f336a474a56ad6d32e15ccd666e,bb93e099888e8e7e959aa610ac783f41036bcc94,Paolo Bonzini,2016-08-21,"target-i386: fix ordering of fields in CPUX86State\n\nMake sure reset zeroes TSC_AUX, XCR0, PKRU.  Move XSTATE_BV from the\n""vmstate only"" section to the ""KVM only"" section.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.931124210357666,"AUX, KVM",target-i386/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6d17a018d09801a2b18133a4febd81433bb0cf85,9f16390cd3cdd85fa20739f07120f4d697c11837,David Gibson,2016-09-15,"vfio/pci: Fix regression in MSI routing configuration\n\nd1f6af6 ""kvm-irqchip: simplify kvm_irqchip_add_msi_route"" was a cleanup\nof kvmchip routing configuration, that was mostly intended for x86.\nHowever, it also contains a subtle change in behaviour which breaks EEH[1]\nerror recovery on certain VFIO passthrough devices on spapr guests.  So far\nit's only been seen on a BCM5719 NIC on a POWER8 server, but there may be\nother hardware with the same problem.  It's also possible there could be\ncircumstances where it causes a bug on x86 as well, though I don't know of\nany obvious candidates.\n\nPrior to d1f6af6, both vfio_msix_vector_do_use() and\nvfio_add_kvm_msi_virq() used msg == NULL as a special flag to mark this\nas the ""dummy"" vector used to make the host hardware state sync with the\nguest expected hardware state in terms of MSI configuration.\n\nSpecifically that flag caused vfio_add_kvm_msi_virq() to become a no-op,\nmeaning the dummy irq would always be delivered via qemu. d1f6af6 changed\nvfio_add_kvm_msi_virq() so it takes a vector number instead of the msg\nparameter, and determines the correct message itself.  The test for !msg\nwas removed, and not replaced with anything there or in the caller.\n\nWith an spapr guest which has a VFIO device, if an EEH error occurs on the\nhost hardware, then the device will be isolated then reset.  This is a\ncombination of host and guest action, mediated by some EEH related\nhypercalls.  I haven't fully traced the mechanics, but somehow installing\nthe kvm irqchip route for the dummy irq on the BCM5719 means that after EEH\nreset and recovery, at least some irqs are no longer delivered to the\nguest.\n\nIn particular, the guest never gets the link up event, and so the NIC is\neffectively dead.\n\n[1] EEH (Enhanced Error Handling) is an IBM POWER server specific PCI-*\n    error reporting and recovery mechanism.  The concept is somewhat\n    similar to PCI-E AER, but the details are different.\n\nBugzilla: https://bugzilla.redhat.com/show_bug.cgi?id=1373802\n\nCc: Alex Williamson <alex.williamson@redhat.com>\nCc: Peter Xu <peterx@redhat.com>\nCc: Gavin Shan <gwshan@au1.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nCc: qemu-stable@nongnu.org\nFixes: d1f6af6a17a6 (""kvm-irqchip: simplify kvm_irqchip_add_msi_route"")\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9993557333946228,"PCI, VFIO",hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6bd7776cd0a9581cdb5e9dd40df8821a96e355d6,d1b4259f1ab18af24e6a297edb6a8f71691f3256,Greg Kurz,2016-09-09,"MAINTAINERS: add virtio-* tests\n\nExcept virtio-9p, all virtio-* tests are orphan. This patch tries to fix\nit, according to the following logic:\n\n- when the related subsystem has its own section in MAINTAINERS, the test\n  is added there\n- otherwise it is added to the ""parent"" section (aka. SCSI, Network devices,\n  virtio)\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Amit Shah <amit.shah@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999525547027588,SCSI,MAINTAINERS,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,28298c912e2c379f2b7767b351beeb77f001f27f,09391669975a0e2882c181982d4ddee35a0080bb,Peter Maydell,2016-07-28,"linux-user: ARM: Give SIGSEGV if signal frame setup fails\n\nThe 32-bit ARM signal frame setup code was just bailing out\non error returns from lock_user_struct calls, without\ngenerating the SIGSEGV that should happen here. Wire up\nerror return codes to call force_sigsegv().\n\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9995224475860596,ARM,linux-user/signal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,45eafb4d32ced9ff1dcb3800c89f8beaf47b61cc,5ea2fc84da1bffce749c9d0848f5336def2818bb,Timothy E Baldwin,2016-09-09,"linux-user: Fix incorrect offset of tuc_stack in ARM do_sigframe_return_v2\n\nstruct target_ucontext_v2 is not at the begining of the signal frame,\ntherefore do_sigaltstack was being passed bogus arguments.\n\nAs the offset depends on the type of signal frame fixed by passing in the\nbeginning of the context from do_sigreturn_v2 and do_rt_sigreturn_v2.\n\nSuggested-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Timothy Edward Baldwin <T.E.Baldwin99@members.leeds.ac.uk>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.999646782875061,ARM,linux-user/signal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,68c6efe07a4729b54947658df4fceed84f3d0fef,6867783a804b5b7eb34a2e6f0d43d0eaf88ad2de,Herongguang (Stephen),2016-09-22,kvm: fix events.flags (KVM_VCPUEVENT_VALID_SMM) overwritten by 0\n\nFix events.flags (KVM_VCPUEVENT_VALID_SMM) overwritten by 0.\n\nSigned-off-by: He Rongguang <herongguang.he@huawei.com>\nMessage-Id: <57E38EAC.3020108@huawei.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996951818466188,KVM,target-i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5145ad4fad099983887c6e6caa2354376005226f,d76ab5e1c7db5f064700b9c3cb0924ccfd9017e5,Nathan Whitehorn,2016-08-30,"Enable H_CLEAR_MOD and H_CLEAR_REF hypercalls on KVM/PPC64.\n\nThese are mandatory per PAPR and available on Linux 4.3 and newer kernels. The calls in question are required to run FreeBSD guests with reasonable performance, so enable them if possible.\n\nSigned-off-by: Nathan Whitehorn <nwhitehorn@freebsd.org>\n[dwg: Added a stub to fix compile without KVM (e.g. on x86 host)]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9993038177490234,"KVM, PPC, PPC64","hw/ppc/spapr.c, target-ppc/kvm.c, target-ppc/kvm_ppc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,056b977521a907e9b84c0ad0017a082ff56e69f3,5145ad4fad099983887c6e6caa2354376005226f,Nikunj A Dadhania,2016-09-19,"ppc/xics: account correct irq status\n\nFix inconsistent irq status, because of this in the trace logs, for e.g.\nLSI status was 0x7, i.e. XICS_STATUS_ASSERTED, XICS_STATUS_SENT and\nXICS_STATUS_REJECTED all set, which did not make sense. So the REJECTED\nwould have been set in earlier interrupt cycle, and then asserted and\nsent in this current one.\n\nSigned-off-by: Nikunj A Dadhania <nikunj@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996243715286256,XICS,hw/intc/xics.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0d594f5565837fe2886a8aa307ef8abb65eab8f7,15ed653fa49a7ddda2034db5d722fd6c2d439dd8,Thomas Huth,2016-09-21,"ppc/kvm: Mark 64kB page size support as disabled if not available\n\nQEMU currently refuses to start with KVM-PR and only prints out\n\n	qemu: fatal: Unknown MMU model 851972\n\nwhen being started there. This is because commit 4322e8ced5aaac719\n(""ppc: Fix 64K pages support in full emulation"") introduced a new\nPOWERPC_MMU_64K bit to indicate support for this page size, but\nit never gets cleared on KVM-PR if the host kernel does not support\nthis. Thus we've got to turn off this bit in the mmu_model for KVM-PR.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996579885482788,KVM,target-ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e0eeb4a21a3ca4b296220ce4449d8acef9de9049,4a0588996a5848ce9550188d0f60642636815059,Alex Benne,2016-08-02,cpus: pass CPUState to run_on_cpu helpers\n\nCPUState is a fairly common pointer to pass to these helpers. This means\nif you need other arguments for the async_run_on_cpu case you end up\nhaving to do a g_malloc to stuff additional data into the routine. For\nthe current users this isn't a massive deal but for MTTCG this gets\ncumbersome when the only other parameter is often an address.\n\nThis adds the typedef run_on_cpu_func for helper functions which has an\nexplicit CPUState * passed as the first parameter. All the users of\nrun_on_cpu and async_run_on_cpu have had their helpers updated to use\nCPUState where available.\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\n[Sergey Fedorov:\n - eliminate more CPUState in user data;\n - remove unnecessary user data passing;\n - fix target-s390x/kvm.c and target-s390x/misc_helper.c]\nSigned-off-by: Sergey Fedorov <sergey.fedorov@linaro.org>\nAcked-by: David Gibson <david@gibson.dropbear.id.au> (ppc parts)\nReviewed-by: Christian Borntraeger <borntraeger@de.ibm.com> (s390 parts)\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nMessage-Id: <1470158864-17651-3-git-send-email-alex.bennee@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9842702746391296,TCG,"cpus.c, hw/i386/kvm/apic.c, hw/i386/kvmvapic.c, hw/ppc/ppce500_spin.c, hw/ppc/spapr.c, hw/ppc/spapr_hcall.c, include/qom/cpu.h, kvm-all.c, target-i386/helper.c, target-i386/kvm.c, target-s390x/cpu.c, target-s390x/cpu.h, target-s390x/kvm.c, target-s390x/misc_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9646f4927faf68e8690588c2fd6dc9834c440b58,2d5312da566e4424a807d078da05f92ee7be3eec,Eduardo Habkost,2016-09-22,"target-i386: Don't try to enable PT State xsave component\n\nThe code that calculates the set of supported XSAVE components on\nCPUID looks at ext_save_areas to find out which components should\nbe enabled. However, if there are zeroed entries in the\next_save_areas array, the\n  ((env->features[esa->feature] & esa->bits) == esa->bits)\ncheck will always succeed and QEMU will unconditionally try to\nenable the component.\n\nLuckily this never caused any problems because the only missing\nentry in ext_save_areas is the PT State component (bit 8), and\nKVM currently doesn't support it (so it was cleared on ena_mask).\nBut the code was still incorrect and would break if KVM starts\nreturning CPUID[EAX=0xD,ECX=0].EAX[bit 8] as supported on\nGET_SUPPORTED_CPUID.\n\nFix the problem by changing the code to not enable a XSAVE\ncomponent if ExtSaveArea::bits is zero.\n\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9993226528167723,KVM,target-i386/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,21ce148c7ec71ee32834061355a5ecfd1a11f90f,25930ed60aad49f1fdd7de05272317c86ce1275b,Rabin Vincent,2016-08-23,"tests: cris: force inlining\n\nThe CRIS tests expect that functions marked inline are always inline.\nWith newer versions of GCC, building them results warnings like the\nfollowing and spurious failures when they are run.\n\nIn file included from tests/tcg/cris/check_moveq.c:5:0:\ntests/tcg/cris/crisutils.h:66:20: warning: inlining failed in call to\n'cris_tst_cc.constprop.0': call is unlikely and code size would grow [-Winline]\ntests/tcg/cris/check_moveq.c:28:13: warning: called from here [-Winline]\n\nUse the always_inline attribute when building them to fix this.\n\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nSigned-off-by: Rabin Vincent <rabinv@axis.com>\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>",1,0.9995880722999572,CRIS,"tests/tcg/cris/check_abs.c, tests/tcg/cris/check_addc.c, tests/tcg/cris/check_addcm.c, tests/tcg/cris/check_bound.c, tests/tcg/cris/check_ftag.c, tests/tcg/cris/check_int64.c, tests/tcg/cris/check_lz.c, tests/tcg/cris/check_swap.c, tests/tcg/cris/crisutils.h, tests/tcg/cris/sys.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9da82227caa74fb6fbea224dad91fe5b7cc115a5,c640f2849ee8775fe1bbd7a2772610aa77816f9f,John Snow,2016-09-29,"ide: fix DMA register transitions\n\nATA8-APT defines the state transitions for both a host controller and\nfor the hardware device during the lifecycle of a DMA transfer, in\nsection 9.7 ""DMA command protocol.""\n\nOne of the interesting tidbits here is that when a device transitions\nfrom DDMA0 (""Prepare state"") to DDMA1 (""Data_Transfer State""), it can\nchoose to set either BSY or DRQ to signal this transition, but not both.\n\nas ide_sector_dma_start is the last point in our preparation process\nbefore we begin the real data transfer process (for either AHCI or BMDMA),\nthis is the correct transition point for DDMA0 to DDMA1.\n\nI have chosen !BSY && DRQ for QEMU to make the transition from DDMA0 the\nmost obvious.\n\nReported-by: Benjamin David Lunt <fys@fysnet.net>\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Kevin Wolf <kwolf@redhat.com>\nTested-by: Stefan Weil <sw@weilnetz.de>\nMessage-id: 1470175541-19344-1-git-send-email-jsnow@redhat.com\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.9988967180252076,AHCI,hw/ide/core.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,456d97d364e34adc4e68cbd51c2ad6ecd548492d,bbc4c3f4f3c624e2de64fdcb79f4dd8c1a508e9d,Wanpeng Li,2016-09-23,hmp: fix qemu crash due to ioapic state dump w/ split irqchip\n\nThe qemu will crash when info ioapic through hmp if irqchip\nis split. Below message is splat:\n\nKVM_GET_IRQCHIP failed: Unknown error -6\n\nThis patch fix it by dumping the ioapic state from the qemu\nemulated ioapic if irqchip is split.\n\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Richard Henderson <rth@twiddle.net>\nCc: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Wanpeng Li <wanpeng.li@hotmail.com>\nMessage-Id: <1474602456-3232-1-git-send-email-wanpeng.li@hotmail.com>\nReviewed-by: Peter Xu <peterx@redhat.com>\nMessage-ID: <20160923090824.GF15411@pxdev.xzpeter.org>\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>,1,0.9997183680534364,KVM,target-i386/monitor.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2020b67d851affd9dd8b3732a5290d90be6187d1,7f516c9675285298826d4ef20ce1a093b13caf89,Nikunj A Dadhania,2016-09-29,target-ppc: fix vmx instruction type/type2\n\nA few of the new instructions added inadvertently changed the type of\nold instruction(PPC_ALTIVEC) to PPC2_ALTIVEC_207 in the dual form\ndeclaration.\n\ncommit: b5d569a1 (target-ppc: add vector extract instructions)\ncommit: e7b1e06f (target-ppc: add vector insert instructions)\ncommit: 3aa56a19 (target-ppc: add vector compare not equal instructions)\n\nNew ISA 3.0 instructions added:\n    vextractub     PPC_NONE     PPC2_ISA300\n    vextractuh     PPC_NONE     PPC2_ISA300\n    vextractuw     PPC_NONE     PPC2_ISA300\n    vinsertb       PPC_NONE     PPC2_ISA300\n    vinserth       PPC_NONE     PPC2_ISA300\n    vinsertw       PPC_NONE     PPC2_ISA300\n    vcmpneb        PPC_NONE     PPC2_ISA300\n    vcmpneh        PPC_NONE     PPC2_ISA300\n    vcmpnew        PPC_NONE     PPC2_ISA300\n\nAffected older instructions:\n    vspltb         PPC_ALTIVEC  PPC_NONE\n    vsplth         PPC_ALTIVEC  PPC_NONE\n    vspltw         PPC_ALTIVEC  PPC_NONE\n    vspltisb       PPC_ALTIVEC  PPC_NONE\n    vspltish       PPC_ALTIVEC  PPC_NONE\n    vspltisw       PPC_ALTIVEC  PPC_NONE\n    vcmpequb       PPC_ALTIVEC  PPC_NONE\n    vcmpequh       PPC_ALTIVEC  PPC_NONE\n    vcmpequw       PPC_ALTIVEC  PPC_NONE\n\nChange the instruction type/type2 for the older instructions back to\nwhat it was(PPC_ALTIVEC).\n\nCC: Rajalakshmi Srinivasaraghavan <raji@linux.vnet.ibm.com>\nReported-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\nSigned-off-by: Nikunj A Dadhania <nikunj@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.957481563091278,PPC,"target-ppc/translate/vmx-impl.inc.c, target-ppc/translate/vmx-ops.inc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf716b31cba278a6dbff585d58fa29d1ae2fe334,2020b67d851affd9dd8b3732a5290d90be6187d1,Laurent Vivier,2016-09-29,libqos: add PPC64 PCI support\n\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\n[dwg: Fixed build problem on 32-bit hosts]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9995972514152528,"PCI, PPC, PPC64","tests/Makefile.include, tests/libqos/pci-pc.c, tests/libqos/pci-spapr.c, tests/libqos/pci-spapr.h, tests/libqos/pci.c, tests/libqos/rtas.c, tests/libqos/rtas.h",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1382d4abdf9619985e4078e37e49e487cea9935e,eac8e79ff749fc15e1dca4caccf1f38664ab4915,Marc-Andr Lureau,2016-09-30,"qapi: return a 'missing parameter' error\n\nThe 'old' dispatch code returned a QERR_MISSING_PARAMETER for missing\nparameters, but the qapi qmp_dispatch() code uses\nQERR_INVALID_PARAMETER_TYPE.\n\nImprove qapi code to return QERR_MISSING_PARAMETER where\nappropriate.\n\nFix expected error message in iotests.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Alberto Garcia <berto@igalia.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nMessage-Id: <20160930095948.3154-4-marcandre.lureau@redhat.com>\n[Drop incorrect error_setg() from qmp_input_type_any() and\nqmp_input_type_null()]\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>",1,0.9993959665298462,SSI,"qapi/qmp-input-visitor.c, tests/qemu-iotests/087.out",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,88071589e8c6665c40c39bdefc59ad615693b325,cbf061bd1fdb5017bfadde2164bdd6183d53a43d,Marc-Andr Lureau,2016-09-23,"build-sys: fix find-in-path\n\nFix spelling, the GNU make text functions is not called ""find-string""\nbut ""findstring"".\n\nBroken in commit 2b2e59e.  Fairly harmless: its only use is in\ntests/tcg/Makefile, where the bug can cause the I386_TESTS not to\nrun when they should.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>",1,0.9996891021728516,I386,rules.mak,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6b39b06339ee59559b31f860d4af635b046322df,627eae7d729277c84f8e0ac07a8caab39c92c38d,Eric Blake,2016-10-11,"build: Work around SIZE_MAX bug in OSX headers\n\nC99 requires SIZE_MAX to be declared with the same type as the\nintegral promotion of size_t, but OSX mistakenly defines it as\nan 'unsigned long long' expression even though size_t is only\n'unsigned long'.  Rather than futzing around with whether size_t\nis 32- or 64-bits wide (which would be needed if we cared about\nusing SIZE_T in a #if expression), just hard-code it with a cast.\nThis is not a strict C99-compliant definition, because it doesn't\nwork in the preprocessor, but if we later need that, the build\nwill break on Mac to inform us to improve our replacement at that\ntime.\n\nSee also https://patchwork.ozlabs.org/patch/542327/ for an\ninstance where the wrong type trips us up if we don't fix it\nfor good in osdep.h.\n\nSome versions of glibc make a similar mistake with SSIZE_MAX; the\ngoal is that the approach of this patch could be copied to work\naround that problem if it ever becomes important to us.\n\nSigned-off-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nMessage-id: 1476200784-17210-1-git-send-email-eblake@redhat.com\nReviewed-by: John Arbuckle <programmingkidx@gmail.com>\nTested-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9941356182098388,SSI,"configure, include/qemu/osdep.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6998b6c7c77e22d386fb8792365e668351d22f91,0136464d10f1fd9393a8125f2c552ef24f3e592c,Vijay Kumar B,2016-09-28,"usb: Fix incorrect default DMA offset.\n\nThe default DMA offset is set to 3. When the property is not set by\nthe consumer, the default causes DMA access to be shifted by 3\nbytes. In PXA, this results in incorrect DMA access, leading to error\nnotification in the USB controller driver. A better default would be\n0, so that there is no offset, when the consumer does not specify one.\n\nSigned-off-by: Vijay Kumar B. <vijaykumar@zilogic.com>\nReviewed-by: Deepak S. <deepak@zilogic.com>\nMessage-id: 1475060958-7760-1-git-send-email-vijaykumar@zilogic.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.99970144033432,USB,hw/usb/hcd-ohci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c711369087d5964ea77b0fd0e0ff1f268e1a67ee,cd1b354ec05035f84bb05f591cb632770ad36e7c,David Gibson,2016-10-12,"libqos: Correct error in PCI hole sizing for spapr\n\nIn pci-spapr.c (as in pci-pc.c from which it was derived), the\npci_hole_start/pci_hole_size and pci_iohole_start/pci_iohole_size pairs[1]\nessentially define the region of PCI (not CPU) addresses in which MMIO\nor PIO BARs respectively will be allocated.\n\nThe size value is relative to the start value.  But in pci-spapr.c it is\nset to the entire size of the window supported by the (emulated) hardware,\nbut the start values are *not* at the beginning of the emulated windows.\n\nThat means if you tried to map enough PCI BARs, we'd messily overrun the\nIO windows, instead of failing in iomap as we should.\n\nThis patch corrects this by calculating the hole sizes from the location\nof the window in PCI space and the hole start.\n\n[1] Those are bad names, but that's a problem for another time.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Laurent Vivier <lvivier@redhat.com>",1,0.9993769526481628,PCI,tests/libqos/pci-spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2efff1c0dd15c8debeb1647d574bec97355cd5e6,6737d9ad79f6db657c7fc5658355aa5045dbfa2c,David Gibson,2016-10-13,"spapr: Adjust placement of PCI host bridge to allow > 1TiB RAM\n\nCurrently the default PCI host bridge for the 'pseries' machine type is\nconstructed with its IO windows in the 1TiB..(1TiB + 64GiB) range in\nguest memory space.  This means that if > 1TiB of guest RAM is specified,\nthe RAM will collide with the PCI IO windows, causing serious problems.\n\nProblems won't be obvious until guest RAM goes a bit beyond 1TiB, because\nthere's a little unused space at the bottom of the area reserved for PCI,\nbut essentially this means that > 1TiB of RAM has never worked with the\npseries machine type.\n\nThis patch fixes this by altering the placement of PHBs on large-RAM VMs.\nInstead of always placing the first PHB at 1TiB, it is placed at the next\n1 TiB boundary after the maximum RAM address.\n\nTechnically, this changes behaviour in a migration-breaking way for\nexisting machines with > 1TiB maximum memory, but since having > 1 TiB\nmemory was broken anyway, this seems like a reasonable trade-off.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Laurent Vivier <lvivier@redhat.com>",1,0.999565064907074,PCI,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,357d1e3bc7d2d80e5271bc4f3ac8537e30dc8046,daa23699031693b434ec263b212f77ba505e353e,David Gibson,2016-10-16,"spapr: Improved placement of PCI host bridges in guest memory map\n\nCurrently, the MMIO space for accessing PCI on pseries guests begins at\n1 TiB in guest address space.  Each PCI host bridge (PHB) has a 64 GiB\nchunk of address space in which it places its outbound PIO and 32-bit and\n64-bit MMIO windows.\n\nThis scheme as several problems:\n  - It limits guest RAM to 1 TiB (though we have a limited fix for this\n    now)\n  - It limits the total MMIO window to 64 GiB.  This is not always enough\n    for some of the large nVidia GPGPU cards\n  - Putting all the windows into a single 64 GiB area means that naturally\n    aligning things within there will waste more address space.\nIn addition there was a miscalculation in some of the defaults, which meant\nthat the MMIO windows for each PHB actually slightly overran the 64 GiB\nregion for that PHB.  We got away without nasty consequences because\nthe overrun fit within an unused area at the beginning of the next PHB's\nregion, but it's not pretty.\n\nThis patch implements a new scheme which addresses those problems, and is\nalso closer to what bare metal hardware and pHyp guests generally use.\n\nBecause some guest versions (including most current distro kernels) can't\naccess PCI MMIO above 64 TiB, we put all the PCI windows between 32 TiB and\n64 TiB.  This is broken into 1 TiB chunks.  The first 1 TiB contains the\nPIO (64 kiB) and 32-bit MMIO (2 GiB) windows for all of the PHBs.  Each\nsubsequent TiB chunk contains a naturally aligned 64-bit MMIO window for\none PHB each.\n\nThis reduces the number of allowed PHBs (without full manual configuration\nof all the windows) from 256 to 31, but this should still be plenty in\npractice.\n\nWe also change some of the default window sizes for manually configured\nPHBs to saner values.\n\nFinally we adjust some tests and libqos so that it correctly uses the new\ndefault locations.  Ideally it would parse the device tree given to the\nguest, but that's a more complex problem for another time.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Laurent Vivier <lvivier@redhat.com>",1,0.9939056038856506,PCI,"hw/ppc/spapr.c, hw/ppc/spapr_pci.c, include/hw/pci-host/spapr.h, tests/endianness-test.c, tests/libqos/pci-spapr.c, tests/spapr-phb-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cde4279baa246fdfadb06d021e3b8d0a0234879f,426ec9049e29397af95f8c28e020590bd1fe57dd,Eric Auger,2016-10-17,vfio/pci: Pass an error object to vfio_populate_vga\n\nPass an error object to prepare for the same operation in\nvfio_populate_device. Eventually this contributes to the migration\nto VFIO-PCI realize.\n\nWe now report an error on vfio_get_region_info failure.\n\nvfio_probe_igd_bar4_quirk is not involved in the migration to realize\nand simply calls error_reportf_err.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>,1,0.9996424913406372,"PCI, VFIO","hw/vfio/pci-quirks.c, hw/vfio/pci.c, hw/vfio/pci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2312d907ddcdeffa45350e5960be46d6105b8ec2,cde4279baa246fdfadb06d021e3b8d0a0234879f,Eric Auger,2016-10-17,"vfio/pci: Pass an error object to vfio_populate_device\n\nPass an error object to prepare for migration to VFIO-PCI realize.\nThe returned value will be removed later on.\n\nThe case where error recovery cannot be enabled is not converted into\nan error object but directly reported through error_report, as before.\nPopulating an error instead would cause the future realize function to\nfail, which is not wanted.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.999446451663971,"PCI, VFIO",hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,008d0e2d7bb1bb8c0393d5cc7501a05c2bc4ed81,2312d907ddcdeffa45350e5960be46d6105b8ec2,Eric Auger,2016-10-17,"vfio/pci: Pass an error object to vfio_msix_early_setup\n\nPass an error object to prepare for migration to VFIO-PCI realize.\nThe returned value will be removed later on.\n\nWe now format an error in case of reading failure for\n- the MSIX flags\n- the MSIX table,\n- the MSIX PBA.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9976959824562072,"PCI, VFIO",hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7dfb34247e231e1f317e3558af96c90f06fef8a5,008d0e2d7bb1bb8c0393d5cc7501a05c2bc4ed81,Eric Auger,2016-10-17,"vfio/pci: Pass an error object to vfio_intx_enable\n\nPass an error object to prepare for migration to VFIO-PCI realize.\n\nThe error object is propagated down to vfio_intx_enable_kvm().\n\nThe three other callers, vfio_intx_enable_kvm(), vfio_msi_disable_common()\nand vfio_pci_post_reset() do not propagate the error and simply call\nerror_reportf_err() with the ERR_PREFIX formatting.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9996837377548218,"PCI, VFIO",hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7ef165b9a8d903babddaf9c61c54ae9b6e739604,7dfb34247e231e1f317e3558af96c90f06fef8a5,Eric Auger,2016-10-17,"vfio/pci: Pass an error object to vfio_add_capabilities\n\nPass an error object to prepare for migration to VFIO-PCI realize.\nThe error is cascaded downto vfio_add_std_cap and then vfio_msi(x)_setup,\nvfio_setup_pcie_cap.\n\nvfio_add_ext_cap does not return anything else than 0 so let's transform\nit into a void function.\n\nAlso use pci_add_capability2 which takes an error object.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9993964433670044,"PCI, VFIO",hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7237011d0596e57f42d2a4e0556034b8d13533fe,7ef165b9a8d903babddaf9c61c54ae9b6e739604,Eric Auger,2016-10-17,"vfio/pci: Pass an error object to vfio_pci_igd_opregion_init\n\nPass an error object to prepare for migration to VFIO-PCI realize.\n\nIn vfio_probe_igd_bar4_quirk, simply report the error.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9985828399658204,"PCI, VFIO","hw/vfio/pci-quirks.c, hw/vfio/pci.c, hw/vfio/pci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1b808d5be070e9d07e5d0e5b825a31a0cf87001d,01905f58f166646619c35a2ebfc3ca3ed4cad62d,Eric Auger,2016-10-17,vfio: Pass an error object to vfio_get_group\n\nPass an error object to prepare for migration to VFIO-PCI realize.\n\nFor the time being let's just simply report the error in\nvfio platform's vfio_base_device_init(). A subsequent patch will\nduly propagate the error up to vfio_platform_realize.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>,1,0.999600112438202,"PCI, VFIO","hw/vfio/common.c, hw/vfio/pci.c, hw/vfio/platform.c, include/hw/vfio/vfio-common.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,59f7d6743ccbe17587e491dc5d79cad8bf31f76a,1b808d5be070e9d07e5d0e5b825a31a0cf87001d,Eric Auger,2016-10-17,vfio: Pass an error object to vfio_get_device\n\nPass an error object to prepare for migration to VFIO-PCI realize.\n\nIn vfio platform vfio_base_device_init we currently just report the\nerror. Subsequent patches will propagate the error up to the realize\nfunction.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>,1,0.995614528656006,"PCI, VFIO","hw/vfio/common.c, hw/vfio/pci.c, hw/vfio/platform.c, include/hw/vfio/vfio-common.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1a22aca1d0071bdc4abc1a72894a13f0076b2404,9bdbfbd50dfcc23252224112e8cbb720a8535d40,Eric Auger,2016-10-17,"vfio/pci: Conversion to realize\n\nThis patch converts VFIO PCI to realize function.\n\nAlso original initfn errors now are propagated using QEMU\nerror objects. All errors are formatted with the same pattern:\n""vfio: %s: the error description""\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9907109141349792,"PCI, VFIO","hw/vfio/pci.c, hw/vfio/trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,31e6a7b17b35711eb44f0e686b5ba68d15bfe4c1,4a946268504e72fe0c547b9dda97adbe277a585f,Thorsten Kohfeldt,2016-10-17,"vfio/pci: Fix vfio_rtl8168_quirk_data_read address offset\n\nIntroductory comment for rtl8168 VFIO MSI-X quirk states:\nAt BAR2 offset 0x70 there is a dword data register,\n         offset 0x74 is a dword address register.\nvfio: vfio_bar_read(0000:05:00.0:BAR2+0x70, 4) = 0xfee00398 // read data\n\nThus, correct offset for data read is 0x70,\nbut function vfio_rtl8168_quirk_data_read() wrongfully uses offset 0x74.\n\nSigned-off-by: Thorsten Kohfeldt <thorsten.kohfeldt@gmx.de>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9997085928916932,VFIO,hw/vfio/pci-quirks.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,04bb79d1f519ae190acf836ff9e07bef5086fad0,4c8afda7d2864023047d466eddd1e8f73a6b072c,Thomas Huth,2016-10-17,"hw/dma/pl080: Fix bad bit mask (PL080_CONF_M1 | PL080_CONF_M1)\n\nThe M1 and M2 bits are both used for configuring the endianness\nof the AHB master interfaces, so the second PL080_CONF_M1 should\nbe PL080_CONF_M2 instead.\n\nBuglink: https://bugs.launchpad.net/qemu/+bug/1631773\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-id: 1476274451-26567-1-git-send-email-thuth@redhat.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996273517608644,PL080,hw/dma/pl080.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fb0e8e79a9d77ee240dbca036fa8698ce654e5d1,957956b3013c8122a749dfe61a41aef8b4100e31,Peter Maydell,2016-10-10,"Fix masking of PC lower bits when doing exception returns\n\nIn commit 9b6a3ea7a699594 store_reg() was changed to mask\nboth bits 0 and 1 of the new PC value when in ARM mode.\nUnfortunately this broke the exception return code paths\nwhen doing a return from ARM mode to Thumb mode: in some\nof these we write a new CPSR including new Thumb mode\nbit via gen_helper_cpsr_write_eret(), and then use store_reg()\nto write the new PC. In this case if the new CPSR specified\nThumb mode then masking bit 1 of the PC is incorrect\n(these code paths correspond to the v8 ARM ARM pseudocode\nfunction AArch32.ExceptionReturn(), which always aligns the\nnew PC appropriately for the new instruction set state).\n\nInstead of using store_reg() in exception-return code paths,\ncall a new store_pc_exc_ret() which stores the raw new PC\nvalue to env->regs[15], and then mask it appropriately in\nthe subsequent helper_cpsr_write_eret() where the new\nenv->thumb state is available.\n\nThis fixes a bug introduced by 9b6a3ea7a699594 which caused\ncrashes/hangs or otherwise bad behaviour for Linux when\nuserspace was using Thumb.\n\nReported-by: Jerome Forissier <jerome.forissier@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1476113163-24578-1-git-send-email-peter.maydell@linaro.org",1,0.9994211196899414,ARM,"target-arm/op_helper.c, target-arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,04c95f4da7f657a0bef17d115d0a5ca2ac0e2d22,434f286bbc1570b204ac2a450d92890578594773,Peter Maydell,2016-07-18,linux-user: Don't use alloca() for epoll_wait's epoll event array\n\nThe epoll event array which epoll_wait() allocates has a size\ndetermined by the guest which could potentially be quite large.\nUse g_try_new() rather than alloca() so that we can fail more\ncleanly if the guest hands us an oversize value. (ENOMEM is\nnot a documented return value for epoll_wait() but in practice\nsome kernel configurations can return it -- see for instance\nsys_oabi_epoll_wait() on ARM.)\n\nThis rearrangement includes fixing a bug where we were\nincorrectly passing a negative length to unlock_user() in\nthe error-exit codepath.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>,1,0.9994038343429564,ARM,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0fa758c3a069bc59a0d903d69028971c46d1a119,6be8f5e2626e102433e569d9cece2120baf0c879,Corey Minyard,2016-10-24,"i2c: Fix SMBus read transactions to avoid double events\n\nChange 2293c27faddf (i2c: implement broadcast write) added broadcast\ncapability to the I2C bus, but it broke SMBus read transactions.\nAn SMBus read transaction does two i2c_start_transaction() calls\nwithout an intervening i2c_end_transfer() call.  This will\nresult in i2c_start_transfer() adding the same device to the\ncurrent_devs list twice, and then the ->event() for the same\ndevice gets called twice in the second call to i2c_start_transfer(),\nresulting in the smbus code getting confused.\n\nNote that this happens even with pure I2C devices when simulating\nSMBus over I2C.\n\nThis fix only scans the bus if the current set of devices is empty.\nThis means that the current set of devices stays fixed until\ni2c_end_transfer() is called, which is really what you want.\n\nThis also deletes the empty check from the top of i2c_end_transfer().\nIt's unnecessary, and it prevents the broadcast variable from being\nset to false at the end of the transaction if no devices were on\nthe bus.\n\nCc: KONRAD Frederic <fred.konrad@greensocs.com>\nCc: Alistair Francis <alistair.francis@xilinx.com>\nCc: Peter Crosthwaite <crosthwaite.peter@gmail.com>\nCc: Kwon <hyun.kwon@xilinx.com>\nCc: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Corey Minyard <cminyard@mvista.com>\nReviewed-by: KONRAD Frederic <fred.konrad@greensocs.com>\nTested-by: KONRAD Frederic <fred.konrad@greensocs.com>\nMessage-id: 1470153614-6657-1-git-send-email-minyard@acm.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996252059936525,I2C,hw/i2c/core.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,354161b37c6465a32073eac5f16fa35939af2bb4,7f5616f53896a4e08ad37de3ac50d3a4cc8eff7a,Emilio G. Cota,2016-06-27,"target-arm: emulate LL/SC using cmpxchg helpers\n\nEmulating LL/SC with cmpxchg is not correct, since it can\nsuffer from the ABA problem. Portable parallel code, however,\nis written assuming only cmpxchg--and not LL/SC--is available.\nThis means that in practice emulating LL/SC with cmpxchg is\na viable alternative.\n\nThe appended emulates LL/SC pairs in ARM with cmpxchg helpers.\nThis works in both user and system mode. In usermode, it avoids\npausing all other CPUs to perform the LL/SC pair. The subsequent\nperformance and scalability improvement is significant, as the\nplots below show. They plot the throughput of atomic_add-bench\ncompiled for ARM and executed on a 64-core x86 machine.\n\nHi-res plots: http://imgur.com/a/aNQpB\n\n               atomic_add-bench: 1000000 ops/thread, [0,1] range\n\n  9 ++---------+----------+----------+----------+----------+----------+---++\n    +cmpxchg +-E--+       +          +          +          +          +    |\n  8 +Emaster +-H--+                                                       ++\n    | |                                                                    |\n  7 ++E                                                                   ++\n    | |                                                                    |\n  6 ++++                                                                  ++\n    |  |                                                                   |\n  5 ++ |                                                                  ++\n  4 ++ |                                                                  ++\n    |  |                                                                   |\n  3 ++ |                                                                  ++\n    |   |                                                                  |\n  2 ++  |                                                                 ++\n    |H++E+---                                  +++  ---+E+------+E+------+E|\n  1 +++     +E+-----+E+------+E+------+E+------+E+--   +++      +++       ++\n    ++H+       +    +++   +  +++     ++++       +          +          +    |\n  0 ++--H----H-+-----H----+----------+----------+----------+----------+---++\n    0          10         20         30         40         50         60\n                               Number of threads\n\n                atomic_add-bench: 1000000 ops/thread, [0,2] range\n\n  16 ++---------+----------+---------+----------+----------+----------+---++\n     +cmpxchg +-E--+       +         +          +          +          +    |\n  14 ++master +-H--+                                                      ++\n     | |                                                                   |\n  12 ++|                                                                  ++\n     | E                                                                   |\n  10 ++|                                                                  ++\n     | |                                                                   |\n   8 ++++                                                                 ++\n     |E+|                                                                  |\n     |  |                                                                  |\n   6 ++ |                                                                 ++\n     |   |                                                                 |\n   4 ++  |                                                                ++\n     |  +E+---       +++      +++              +++           ---+E+------+E|\n   2 +H+     +E+------E-------+E+-----+E+------+E+------+E+--            +++\n     + |        +    +++   +         ++++       +          +          +    |\n   0 ++H-H----H-+-----H----+---------+----------+----------+----------+---++\n     0          10         20        30         40         50         60\n                                Number of threads\n\n               atomic_add-bench: 1000000 ops/thread, [0,128] range\n\n  70 ++---------+----------+---------+----------+----------+----------+---++\n     +cmpxchg +-E--+       +         +          +       ++++          +    |\n  60 ++master +-H--+                                 ----E------+E+-------++\n     |                                        -+E+---   +++     +++      +E|\n     |                                +++ ---- +++                       ++|\n  50 ++                       +++  ---+E+-                                ++\n     |                        -E---                                        |\n  40 ++                    ---+++                                         ++\n     |               +++---                                                |\n     |              -+E+                                                   |\n  30 ++      +++----                                                      ++\n     |       +E+                                                           |\n  20 ++ +++--                                                             ++\n     |  +E+                                                                |\n     |+E+                                                                  |\n  10 +E+                                                                  ++\n     +          +          +         +          +          +          +    |\n   0 +HH-H----H-+-----H----+---------+----------+----------+----------+---++\n     0          10         20        30         40         50         60\n                                Number of threads\n\n              atomic_add-bench: 1000000 ops/thread, [0,1024] range\n\n  120 ++---------+---------+----------+---------+----------+----------+---++\n      +cmpxchg +-E--+      +          +         +          +          +    |\n      | master +-H--+                                                    ++|\n  100 ++                                                              ----E+\n      |                                                 +++  ---+E+---   ++|\n      |                                                --E---   +++        |\n   80 ++                                           ---- +++               ++\n      |                                     ---+E+-                        |\n   60 ++                              -+E+--                              ++\n      |                       +++ ---- +++                                 |\n      |                      -+E+-                                         |\n   40 ++              +++----                                             ++\n      |      +++   ---+E+                                                  |\n      |     -+E+---                                                        |\n   20 ++ +E+                                                              ++\n      |+E+++                                                               |\n      +E+        +         +          +         +          +          +    |\n    0 +HH-H---H--+-----H---+----------+---------+----------+----------+---++\n      0          10        20         30        40         50         60\n                                Number of threads\n\n[rth: Enforce alignment for ldrexd.]\n\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nMessage-Id: <1467054136-10430-23-git-send-email-cota@braap.org>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9530708193778992,ARM,target-arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1dd089d0eec060dcd8478735114d98421d414805,cf12bce088f22b92bf62ffa0d7f6a3e951e355a9,Emilio G. Cota,2016-06-27,"target-arm: emulate aarch64's LL/SC using cmpxchg helpers\n\nEmulating LL/SC with cmpxchg is not correct, since it can\nsuffer from the ABA problem. Portable parallel code, however,\nis written assuming only cmpxchg--and not LL/SC--is available.\nThis means that in practice emulating LL/SC with cmpxchg is\na viable alternative.\n\nThe appended emulates LL/SC pairs in aarch64 with cmpxchg helpers.\nThis works in both user and system mode. In usermode, it avoids\npausing all other CPUs to perform the LL/SC pair. The subsequent\nperformance and scalability improvement is significant, as the\nplots below show. They plot the throughput of atomic_add-bench\ncompiled for ARM and executed on a 64-core x86 machine.\n\nHi-res plots: http://imgur.com/a/JVc8Y\n\n                atomic_add-bench: 1000000 ops/thread, [0,1] range\n\n  18 ++---------+----------+---------+----------+----------+----------+---++\n     +cmpxchg +-E--+       +         +          +          +          +    |\n  16 ++master +-H--+                                                      ++\n     ||                                                                    |\n  14 ++                                                                   ++\n     | |                                                                   |\n  12 ++|                                                                  ++\n     | |                                                                   |\n  10 ++++                                                                 ++\n   8 ++E                                                                  ++\n     |+++                                                                  |\n   6 ++ |                                                                 ++\n     |  |                                                                  |\n   4 ++ |                                                                 ++\n     |   |                                                                 |\n   2 +H++E+---                                                            ++\n     + |     +E++----+E+---+--+E+----++E+------+E+------+E++----+E+---+--+E|\n   0 ++H-H----H-+-----H----+---------+----------+----------+----------+---++\n     0          10         20        30         40         50         60\n                                Number of threads\n\n                atomic_add-bench: 1000000 ops/thread, [0,2] range\n\n  18 ++---------+----------+---------+----------+----------+----------+---++\n     +cmpxchg +-E--+       +         +          +          +          +    |\n  16 ++master +-H--+                                                      ++\n     | |                                                                   |\n  14 ++E                                                                  ++\n     | |                                                                   |\n  12 ++|                                                                  ++\n     |+++                                                                  |\n  10 ++ |                                                                 ++\n   8 ++ |                                                                 ++\n     |  |                                                                  |\n   6 ++ |                                                                 ++\n     |   |                                                                 |\n   4 ++  |                                                                ++\n     |  +E+---                                                             |\n   2 +H+     +E+-----+++              +++      +++   ---+E+-----+E+------+++\n     +++        +    +E+---+--+E+----++E+------+E+---   ++++    +++   +  +E|\n   0 ++H-H----H-+-----H----+---------+----------+----------+----------+---++\n     0          10         20        30         40         50         60\n                                Number of threads\n\n               atomic_add-bench: 1000000 ops/thread, [0,128] range\n\n  70 ++---------+----------+---------+----------+----------+----------+---++\n     +cmpxchg +-E--+       +         +          +          +          +    |\n  60 ++master +-H--+                  +++            ---+E+-----+E+------+E+\n     |                        +E+------E-------+E+---                      |\n     |                     ---        +++                                  |\n  50 ++              +++---                                               ++\n     |              -+E+                                                   |\n  40 ++      +++----                                                      ++\n     |        E-                                                           |\n     |      --|                                                            |\n  30 ++   -- +++                                                          ++\n     |  +E+                                                                |\n  20 ++E+                                                                 ++\n     |E+                                                                   |\n     |                                                                     |\n  10 ++                                                                   ++\n     +          +          +         +          +          +          +    |\n   0 +HH-H----H-+-----H----+---------+----------+----------+----------+---++\n     0          10         20        30         40         50         60\n                                Number of threads\n\n              atomic_add-bench: 1000000 ops/thread, [0,1024] range\n\n  160 ++---------+---------+----------+---------+----------+----------+---++\n      +cmpxchg +-E--+      +          +         +          +          +    |\n  140 ++master +-H--+                                           +++      +++\n      |                                                -+E+-----+E+-------E|\n  120 ++                                       +++ ----                  +++\n      |                                +++  ----E--                        |\n  100 ++                              --E---   +++                        ++\n      |                       +++ ---- +++                                 |\n   80 ++                     --E--                                        ++\n      |                  ---- +++                                          |\n      |              -+E+                                                  |\n   60 ++         ---- +++                                                 ++\n      |      +E+-                                                          |\n   40 ++   --                                                             ++\n      |  +E+                                                               |\n   20 +EE+                                                                ++\n      +++        +         +          +         +          +          +    |\n    0 +HH-H---H--+-----H---+----------+---------+----------+----------+---++\n      0          10        20         30        40         50         60\n                                Number of threads\n\n[rth: Rearrange 128-bit cmpxchg helper.  Enforce alignment on LL.]\n\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nMessage-Id: <1467054136-10430-28-git-send-email-cota@braap.org>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.8717180490493774,ARM,"target-arm/helper-a64.c, target-arm/helper-a64.h, target-arm/translate-a64.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6e99f5741ff1b408ea76e6caf2bd4f76df4060e9,ede0cbeb7892bdf4a19128853a3a3c61a17fb068,Gerd Hoffmann,2016-10-27,"seabios: update to 1.10.0 release.\n\nNew in this release:\n===================\n\n* Initial support for Trusted Platform Module (TPM) version 2.0\n* Several USB XHCI timing fixes on real hardware\n* Support for ""LSI MPT Fusion"" scsi controllers on QEMU\n* Support for virtio devices mapped above 4GB\n* Several bug fixes and code cleanups\n\ngit shortlog rel-1.9.3..rel-1.10.0\n==================================\n\nAlex Williamson (1):\n      fw/pci: Add support for mapping Intel IGD via QEMU\n\nCao jin (1):\n      Fix comment typo\n\nCole Robinson (1):\n      biostables: Support SMBIOS 2.6+ UUID format\n\nDana Rubin (2):\n      pvscsi: Fix incorrect arguments order in call to memalign_low\n      pvscsi: Use high memory for rings\n\nDon Slutz (1):\n      Support for booting from LSI Logic LSI53C1030, SAS1068, SAS1068e\n\nGerd Hoffmann (4):\n      ahci: set transfer mode according to the capabilities of connected drive\n      virtio: uninline _vp_{read,write}\n      virtio: pci cfg access\n      virtio: fix virtio-pci\n\nHaozhong Zhang (1):\n      fw/msr_feature_control: add support to set MSR_IA32_FEATURE_CONTROL\n\nIgor Mammedov (3):\n      paravirt: disable legacy bios tables in case of more than 255 CPUs\n      add helpers to read etc/boot-cpus at resume time\n      support booting with more than 255 CPUs\n\nKevin O'Connor (124):\n      usb: Allow configuration of sigatt time (in etc/usb-time-sigatt)\n      xhci: Check for device disconnects during USB2 reset polling\n      sdcard: Only enable error_irq_enable for bits defined in SDHCI v1 spec\n      sdcard: fix typo causing 32bit write to 16bit block_size field\n      sdcard: Enable extra debugging on sdcard_waitw() timeout\n      acpi_extract: Move main code to new function main()\n      acpi_extract: Make the generated .hex files more human readable\n      acpi_extract: Don't generate unused (and empty) q35-acpi-dsdt.hex file\n      acpi: Don't build SSDT files on every build; store them in git\n      acpi: Remove build check for iasl\n      tpm: Move standard definitions from tcgbios.h to new file std/tcg.h\n      util.h: Minor - HaveRunPost is in misc.c not resume.c\n      tpm: Add ""static"" declaration to functions not used outside tcgbios.c\n      tpm: Move code around in tcgbios.c\n      tpm: Move error recovery from tpm_extend_acpi_log() to only caller\n      tpm: Open code tpm_ipl() into callers\n      tpm: Change tpm_add_measurement() to tpm_add_action()\n      tpm: Move tpm_add_bootdevice() into callers\n      tpm: Move tpm_start_option_rom_scan() and tpm_calling_int19h() into callers\n      tpm: pcpes->event is a variable length array\n      tpm: Don't pass entry_count around in parameters to/from tpm_extend_acpi_log()\n      tpm: There is no need to pass pcrindex to hash_log_extend_event()\n      tpm: Perform hashing separately from logging\n      tpm: There is no need to pass event_length to hash/extend functions\n      tpm: Avoid scatter-gather copying in build_and_send_cmd()\n      tpm: Don't implement scatter-gather in transmit()\n      tpm: Merge tpm_log_event() and tpm_extend_acpi_log()\n      tpm: Merge tpm_log_extend_event() and tpm_extend(); extend before logging\n      xhci: Wait for port enable even for USB3 devices\n      xhci: Improve port status change debugging\n      xhci: Disable slot on failed set_address command\n      nmi: Don't try to switch onto extra stack in NMI handler\n      scsi: Do not call printf() from scsi_is_ready()\n      block: Report drive->sectors using ""%u"" instead of ""%d""\n      tpm: Add banner separating the TCG bios interface code from TCG menu code\n      tpm: Avoid macro expansion of tpm request / response structs\n      tpm: Simplify hardware probe and detection checks\n      tpm: Add wrapper function tpmhw_set_timeouts()\n      tpm: Move TPM hardware functions from tcgbios.c to hw/tpm_drivers.c\n      tpm: Rework TPM interface shutdown support\n      tpm: Simplify tcpa probe\n      tpm: Introduce tpm_get_capability() helper function\n      tpm: Eliminate response buffer parameter from build_and_send_cmd()\n      tpm: Don't return a status from external bios measurement functions\n      tpm: No need to check the return status of measurements\n      tpm: Don't call tpm_set_failure() from tpm_log_extend_event()\n      tpm: Don't use 16bit BIOS return codes in build_and_send_cmd()\n      tpm: Don't use 16bit BIOS return codes in tpm_log_event()\n      tpm: Don't use 16bit BIOS return codes in tpmhw_* functions\n      tpm: Don't use 16bit BIOS return codes in TPM menu functions\n      usb: Remove usbdev->slotid field\n      coreboot: Check for unaligned cbfs header\n      resume: Make KVM soft reboot loop detection more flexible\n      post: Always set HaveRunPost prior to setting any other global variable\n      kbd: Don't treat scancode and asciicode as separate values\n      kbd: Refactor capslock and numlock handling\n      ehci: Only delay UHCI/OHCI port scan until after EHCI setup completes\n      usb: Eliminate USB controller setup thread\n      pci: Add helper functions for internal driver BAR handling\n      ahci: Convert to new PCI BAR helper functions\n      ata: Convert to new PCI BAR helper functions\n      esp-scsi: Convert to new PCI BAR helper functions\n      lsi-scsi: Convert to new PCI BAR helper functions\n      megasas: Convert to new PCI BAR helper functions\n      pvscsi: Convert to new PCI BAR helper functions\n      sdcard: Convert to new PCI BAR helper functions\n      ehci: Convert to new PCI BAR helper functions\n      ohci: Convert to new PCI BAR helper functions\n      uhci: Convert to new PCI BAR helper functions\n      xhci: Convert to new PCI BAR helper functions\n      virtio: Convert to new PCI BAR helper functions\n      pci: Consistently set pci->have_drivers for devices with internal drivers\n      pci: Implement '%pP' printf handler for 'struct pci_device' pointers\n      pci: Move code in pci.c that is specific to pciinit.c to pciinit.c\n      pci: Split low-level pci code from higher-level 'struct pci_device' code\n      scsi: Always use MAXDESCSIZE when building drive description\n      block: Move drive setup to new function block_setup()\n      tpm: Unify tpm_fill_hash()/tpm_log_extend_event() and use in BIOS interface\n      docs: Note release date of 1.9.1\n      build: fix .text section address alignment\n      tpm: Write logs in TPM 2 format\n      mpt-scsi: Declare 'int i' outside of for loop for older compilers\n      block: Move send_disk_op() from block.c to disk.c\n      disk: Avoid stack_hop() path if already on the extra stack\n      optionroms: Drop support for CONFIG_OPTIONROMS_DEPLOYED\n      shadow: Batch PCI config writes\n      virtio: Use threads when scanning for virtio devices\n      scsi: Launch a thread when scanning for drives in the scsi drivers\n      docs: Note release date of 1.9.2\n      usb-xhci: Remove unused const variables\n      tcgbios: Remove unused const variable\n      vgabios: Remove special case of dh==0xff in handle_1013()\n      vgabios: Don't check for special case of page==0xff on external calls\n      vgabios: Simplify set_cursor_pos()\n      docs: Note release date of 1.9.3\n      vgabios: Simplify scroll logic\n      blockcmd: CMD_SCSI op is only used in 32bit mode\n      swcursor: Move swcursor code from vgafb.c to new file swcursor.c\n      swcursor: Concentrate swcursor logic in swcursor.c\n      vgafb: Move header definitions from vgabios.h to new file vgafb.h\n      vgainit: Move video param setup to stdvga_build_video_param()\n      vgautil: Add new header file with misc function and variable definitions\n      vgautil: Move generic definitions from stdvga.h to vgautil.h\n      vgautil: Move definitions from cbvga.h and clext.h to vgautil.h\n      version: Update header files now that version.c is not auto generated\n      checkstack: Handle conditional checks at start of functions\n      tpm: Append to TPM2 log the hashes used for PCR extension\n      ps2: Remove stale check for timeout warning on reset\n      pic: The default hardware interrupt handlers should not take a parameter\n      kbd: Implement 101-key keyboard keycode mapping\n      kbd: Implement extended keycode mappings for keypad-enter and keypad-/\n      kbd: Suppress keys without mappings\n      kbd: Merge bda->kbd_flag0 and bda->kbd_flag1\n      kbd: Extract out shift flag setting into new function\n      kbd: Move checking for special keys in __process_keys() into switch\n      kbd: Ignore fake shift keys\n      usb-hid: Generate Ctrl+Break and Alt+SysReq keys\n      kbd: Generate interrupt events for SysReq, PrtScr, and Break\n      post: Map int 0x05 to entry point\n      kbd: Move extended and release events out of special key detection switch\n      build: Be sure to also include out/*.d in Makefile\n      smp: consolidate CPU APIC ID detection and accounting\n      build: Add -fno-pie to the gcc flags when available\n      docs: Note v1.10.0 release\n\nMarcel Apfelbaum (2):\n      fw/pci: do not automatically allocate IO region for PCIe bridges\n      fw/pci: add Q35 S3 support\n\nMatt DeVillier (1):\n      sdcard: skip detection of PCI sdhci controllers if etc/sdcard used\n\nPaolo Bonzini (1):\n      smp: restore MSRs on S3 resume\n\nPiotr Krl (1):\n      docs: fix various typos and inconsistency\n\nRoger Pau Monne (1):\n      build: fix typo in buildversion.py\n\nStefan Berger (34):\n      tpm: Temporarily deactivate the TPM in case of failure\n      tpm: Refactor function building TPM commands\n      tpm: Refactor the parameters being passed to tpm_extend_acpi_log\n      tpm: Refactor hash_log_event BIOS interface function\n      tpm: Refactor hash_log_extend_event\n      tpm: fix compiler warning with older gcc versions\n      tpm: Drop code using the TPM for sha1\n      tpm: Set timeouts and durations to microsecond values\n      tpm: Cache all log related pointers in tpm_state\n      tpm: Refactor pass_through_to_tpm\n      tpm: Rename remaining interrupt functions\n      tpm: Remove check for working TPM from TPM interrupt handler\n      tpm: Check length parameter of the array\n      tpm: Add a menu for TPM configuration\n      tpm: Copy digest into HashLogExentEvent response\n      tpm: Move assert_physical_presence and dependencies\n      tpm: Add support for harware physical presence\n      tpm: Rework the assertion of physical presence\n      tpm: Remove usage of PP_CMD_ENABLE from all but one place\n      tpm: Do not set TPM in failure mode if menu command fails\n      tpm: Extend TPM TIS with TPM 2 support.\n      tpm: Factor out tpm_extend\n      tpm: Prepare code for TPM 2 functions\n      tpm: Implement tpm20_startup and tpm20_s3_resume\n      tpm: Implement tpm20_set_timeouts\n      tpm: Implement tpm20_prepboot\n      tpm: Implement tpm20_extend\n      tpm: Implement tpm20_menu\n      tpm: Implement TPM 2's tpm_set_failure part\n      tpm: Filter TPM commands in passthrough API\n      tpm: Retrieve the PCR Bank configuration\n      tpm: Restructure tpm20_extend to use buffer and take hash as parameter\n      tpm: Refactor tpml_digest_values_sha1 structure\n      tpm: Extend tpm20_extend to support extending to multiple PCR banks\n\nZheng Bao (1):\n      splash: Skip the RGB555 mode\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9987025260925292,"APIC, KVM, PCI, Q35, SCSI, SDHCI, SMBIOS, TCG, TPM, USB","pc-bios/bios-256k.bin, pc-bios/bios.bin, pc-bios/vgabios-cirrus.bin, pc-bios/vgabios-qxl.bin, pc-bios/vgabios-stdvga.bin, pc-bios/vgabios-virtio.bin, pc-bios/vgabios-vmware.bin, pc-bios/vgabios.bin, roms/seabios",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a7b85b60623a862e2c55d5a6cd2e17f5fc26b256,b8cc4d0231b97c3dd7930d91ab91657b5a105b78,David Gibson,2016-10-19,"libqos: Better handling of PCI legacy IO\n\nThe usual model for PCI IO with libqos is to use qpci_iomap() to map a\nspecific BAR for a PCI device, then perform IOs within that BAR using\nqpci_io_{read,write}*().\n\nHowever, certain devices also have legacy PCI IO.  In this case, instead of\n(or as well as) being accessed via PCI BARs, the device can be accessed\nvia certain well-known, fixed addresses in PCI IO space.\n\nTwo existing tests use legacy PCI IO, and take different flawed approaches\nto it:\n    * tco-test manually constructs a tco_io_base value instead of calling\n      qpci_iomap(), which assumes internal knowledge of the structure of\n      the value it shouldn't have\n    * ide-test uses direct in*() and out*() calls instead of using\n      qpci_io_*() accessors, meaning it's not portable to non-x86 machine\n      types.\n\nThis patch implements a new qpci_iomap_legacy() interface which gets a\nhandle in the same format as qpci_iomap() but refers to a region in\nthe legacy PIO space.  For a device which has the same registers\navailable both in a BAR and in legacy space (quite common), this\nallows the same test code to test both options with just a different\niomap() at the beginning.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Laurent Vivier <lvivier@redhat.com>\nReviewed-by: Greg Kurz <groug@kaod.org>",1,0.9989250302314758,PCI,"tests/libqos/pci.c, tests/libqos/pci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,697783a736b99e8666baf9a0f81fc483ac5f31a5,856178852032404dee69665c2dcb65f00b4bb48e,Samuel Thibault,2016-10-15,"curses: fix left/right arrow translation\n\nIn default VGA font, left/right arrow are glyphs 0x1a and 0x1b, not 0x0a and\n0x0b.\n\nSigned-off-by: Samuel Thibault <samuel.thibault@ens-lyon.org>\nMessage-id: 20161015195308.20473-2-samuel.thibault@ens-lyon.org\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9995532631874084,VGA,ui/curses.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,35b6e94ba50cd92600a85eef444bc31df8999de1,25174055f428254427e7541139037eb9a34fc109,Peter Maydell,2016-10-20,"s390: avoid always-true comparison in s390_pci_generate_fid()\n\nCoverity points out that the comparison ""fid <= ZPCI_MAX_FID""\nin s390_pci_generate_fid() is always true (because fid\nis 32 bits and ZPCI_MAX_FID is 0xffffffff). This isn't a\nbug because the real loop termination condition is\nexpressed later via an ""if (...) break;"" inside the loop,\nbut it is a bit odd. Rephrase the loop to avoid the\nunnecessary duplicate-but-never-true conditional.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nAcked-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>",1,0.9938807487487792,PCI,hw/s390x/s390-pci-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ca2b413c39b5cb2412bc236ddf3aa22d96594feb,019518a80e24af8fcc14689a1fdfde50c5488d2d,Paolo Bonzini,2016-10-21,"virtio: disable ioeventfd as early as possible\n\nAvoid ""tricking"" virtio-blk-dataplane into thinking that ioeventfd will be\navailable when it is not.  This bug has always been there, but it will break\nTCG+ioeventfd=on once the dataplane code will be always used when ioeventfd=on.\n\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9985424280166626,TCG,"hw/s390x/virtio-ccw.c, hw/virtio/virtio-pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,88ee13c7b656e5504613b527f3a51591e9afae69,45bbcd35d75b5fc893758a2344d2cb9381a60b37,Pierre Morel,2016-08-24,"s390x/pci: Check memory region dispatching callbacks\n\nThe instructions PCI STORE, PCI LOAD and PCI STORE BLOCK\nuse calls to memory_region_dispatch_write() and\nmemory_region_dispatch_read() but do not test the return value.\n\nFurthermore, the instruction PCI STORE BLOCK sets up a PGM_ADDRESSING\nexception when the operand 3 is not within the designated PCI address\nspace instead of a PGM_OPERAND exception.\n\nLet's setup a PGM_OPERAND exception in all of these failure cases.\n\nSigned-off-by: Pierre Morel <pmorel@linux.vnet.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9993852376937866,"PCI, SSI",hw/s390x/s390-pci-inst.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,548ebcaf361443420a9f3ab0e2118c4d1f0a1b72,a5e998262fd76fd4b3e537db77bfb8a396bfae69,Alex Benne,2016-10-27,target-arm/arm-powerctl: wake up sleeping CPUs\n\nTesting with Alexander's bare metal syncronisation tests fails in MTTCG\nleaving one CPU spinning forever waiting for the second CPU to wake up.\nWe simply need to kick the vCPU once we have processed the PSCI power on\ncall.\n\nAs the power control API is for system emulation only as is the\nqemu_kick_cpu function we also ensure we only build arm-powerctl for\nSoftMMU builds.\n\nTested-by: Alex Benne <alex.bennee@linaro.org>\nCC: Alexander Spyridakis <a.spyridakis@virtualopensystems.com>\nMessage-Id: <1439220437-23957-20-git-send-email-fred.konrad@greensocs.com>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\n\nMessage-Id: <20161027151030.20863-11-alex.bennee@linaro.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9993686079978944,TCG,"target-arm/Makefile.objs, target-arm/arm-powerctl.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2f9d35fc4006122bad33f9ae3e2e51d2263e98ee,808832277af11dafee5a55da2b9e41d019b879ca,Richard Henderson,2016-07-12,"target-sparc: Introduce cpu_raise_exception_ra\n\nSeveral helpers call helper_raise_exception directly, which requires\nin turn that their callers have performed save_state.  The new function\nallows a TCG return address to be passed in so that we can restore\nPC + NPC + flags data from that.\n\nThis fixes a bug in the usage of helper_check_align, whose callers had\nnot been calling save_state.  It fixes another bug in which the divide\nhelpers used GETPC at a level other than the direct callee from TCG.\n\nThis allows the translator to avoid save_state prior to SAVE, RESTORE,\nand FLUSHW instructions.\n\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9995297193527222,TCG,"target-sparc/cpu.h, target-sparc/helper.c, target-sparc/ldst_helper.c, target-sparc/translate.c, target-sparc/win_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,24acf72b9a291cebfd05f2ecdf3a982ac01e6291,4a2e242bbb306ef5c16ce9e7bb2da3bd8a4eb098,Alex Williamson,2016-10-31,"vfio: Handle zero-length sparse mmap ranges\n\nAs reported in the link below, user has a PCI device with a 4KB BAR\nwhich contains the MSI-X table.  This seems to hit a corner case in\nthe kernel where the region reports being mmap capable, but the sparse\nmmap information reports a zero sized range.  It's not entirely clear\nthat the kernel is incorrect in doing this, but regardless, we need\nto handle it.  To do this, fill our mmap array only with non-zero\nsized sparse mmap entries and add an error return from the function\nso we can tell the difference between nr_mmaps being zero based on\nsparse mmap info vs lack of sparse mmap info.\n\nNB, this doesn't actually change the behavior of the device, it only\nremoves the scary ""Failed to mmap ... Performance may be slow"" error\nmessage.  We cannot currently create an mmap over the MSI-X table.\n\nLink: http://lists.nongnu.org/archive/html/qemu-discuss/2016-10/msg00009.html\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9975513815879822,PCI,hw/vfio/common.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a52a4c471703e995ceb06f6157d70747823e8a0d,24acf72b9a291cebfd05f2ecdf3a982ac01e6291,Ido Yariv,2016-10-31,"vfio/pci: fix out-of-sync BAR information on reset\n\nWhen a PCI device is reset, pci_do_device_reset resets all BAR addresses\nin the relevant PCIDevice's config buffer.\n\nThe VFIO configuration space stays untouched, so the guest OS may choose\nto skip restoring the BAR addresses as they would seem intact. The PCI\ndevice may be left non-operational.\nOne example of such a scenario is when the guest exits S3.\n\nFix this by resetting the BAR addresses in the VFIO configuration space\nas well.\n\nSigned-off-by: Ido Yariv <ido@wizery.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9996639490127563,"PCI, VFIO",hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3ff91d7e85176f8b4b131163d7fd801757a2c949,a40d4701bc9f6e6a3bbfb7b4fbe756a5b72b5df1,Joseph Myers,2016-10-27,"tcg: correct 32-bit tcg_gen_ld8s_i64 sign-extension\n\nThe version of tcg_gen_ld8s_i64 for 32-bit systems does a load into\nthe low part of the return value - then attempts a sign extension into\nthe high part, but wrongly sets the high part to a sign extension of\nitself rather than of the low part.  This results in TCG internal\nerrors from the use of the uninitialized high part (in some GCC tests\nof AArch64 NEON shift intrinsics, in particular).  This patch corrects\nthe sign-extension logic, making it match other functions such as\ntcg_gen_ld16s_i64.\n\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Joseph Myers <joseph@codesourcery.com>\nMessage-Id: <alpine.DEB.2.20.1610272333560.22353@digraph.polyomino.org.uk>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9963403940200806,TCG,tcg/tcg-op.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d51d1d7edeb869e0010d6b3833bd53ad561ff805,6034011c7e00e9408e18d42a7fb807a0f12157fc,Xiao Guangrong,2016-10-29,"acpi nvdimm: fix wrong buffer size returned by DSM method\n\nCurrently, 'RLEN' is the totally buffer size written by QEMU and it is\nACPI internally used only. The buffer size returned to guest should\nnot include 'RLEN' itself\n\nSigned-off-by: Xiao Guangrong <guangrong.xiao@linux.intel.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996743202209472,ACPI,hw/acpi/nvdimm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c0b3b863acb0087120322497ac2fdbcf149a2e62,d51d1d7edeb869e0010d6b3833bd53ad561ff805,Xiao Guangrong,2016-10-29,"acpi nvdimm: fix OperationRegion definition\n\nBased on ACPI spec:\n RegionOffset := TermArg => Integer\n\nHowever, Named object is not a TermArg.\n\nThis patch moves OperationRegion to NCAL() and uses localX as\nits RegionOffset\n\nSuggested-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Xiao Guangrong <guangrong.xiao@linux.intel.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9991844296455384,ACPI,hw/acpi/nvdimm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6ab0c4bd1dc758b8a1f456d7f748ec313b5fde3d,c0b3b863acb0087120322497ac2fdbcf149a2e62,Xiao Guangrong,2016-10-29,"acpi nvdimm: fix device physical address base\n\nAccording to ACPI 6.0  spec, ""Memory Device Physical Address\nRegion Base"" in memdev is defined as ""This field provides the\nDevice Physical Address base of the region"". This field should\nbe zero in our case\n\nSigned-off-by: Xiao Guangrong <guangrong.xiao@linux.intel.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996440410614014,ACPI,hw/acpi/nvdimm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4059fa63b7fae7e92cd54bd905366c46d0b62e69,9c22c1c347af736ce86b7ecea8afa3a366f987c3,Daniel P. Berrange,2016-10-24,"ipmi: fix build config variable name for ipmi_bmc_extern.o\n\nThe original commit:\n\n  commit 67aa56fc03bea44ccf384ea400515a8a58844a50\n  Author: Corey Minyard <cminyard@mvista.com>\n  Date:   Thu Dec 17 12:50:06 2015 -0600\n\n    ipmi: Add an external connection simulation interface\n\ndefined a new variable CONFIG_IPMI_EXTERN, but then went\non to mistakely use the pre-existing CONFIG_IPMI_LOCAL\nvariable.\n\nSigned-off-by: Daniel P. Berrange <berrange@redhat.com>\nSigned-off-by: Corey Minyard <cminyard@mvista.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996137022972108,"IPMI, IPMI_EXTERN, IPMI_LOCAL",hw/ipmi/Makefile.objs,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,53000638f233d6ba1d584a68b74f2cde79615b80,698ae42b9124dce23e03d0fea2e635b70540ef13,Haozhong Zhang,2016-10-19,"acpi: fix assert failure caused by commit 35c5a52d\n\nCommit 35c5a52d ""acpi: do not use TARGET_PAGE_SIZE"" changed struct\nNvdimmDsmIn from a variable-size structure to a fixed-size structure of\n4096 bytes. It forgot to adjust an assert in\nnvdimm_dsm_set_label_data(..., NvdimmDsmIn *in, ...):\n    assert(sizeof(*in) + sizeof(*set_label_data) + set_label_data->length <=\n           4096);\nwhich could crash QEMU when guest writes NVDIMM labels.\n\nFix it by replacing sizeof(*in) by offsetof(NvdimmDsmIn, arg3).\n\nSigned-off-by: Haozhong Zhang <haozhong.zhang@intel.com>\nReported-by: Dan Williams <dan.j.williams@intel.com>\nTested-by: Dan Williams <dan.j.williams@intel.com>\nReviewed-by: Xiao Guangrong <guangrong.xiao@linux.intel.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996021389961244,"DIMM, NVDIMM",hw/acpi/nvdimm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,864111f422babcf8ce837fb47f7f9e1948446f22,000980cb8307afe0578368cee8f31018905bb036,Christian Borntraeger,2016-10-18,"vl: exit qemu on guest panic if -no-shutdown is not set\n\nFor automated testing purposes it can be helpful to exit qemu\n(poweroff) when the guest panics. Make this the default unless\n-no-shutdown is specified.\n\nFor internal-errors like errors from KVM_RUN the behaviour is\nnot changed, in other words QEMU does not exit to allow debugging\nin the QEMU monitor.\n\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nMessage-Id: <1476775794-108012-1-git-send-email-borntraeger@de.ibm.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996891021728516,KVM,"qapi-schema.json, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5122787580ad7fc8f8540c73cd33612604172607,004c8e0090025b4fde4e99fbc5a81049be8f79d1,ZhuangYanying,2016-11-04,"target-i386/machine: fix migrate faile because of Hyper-V HV_X64_MSR_VP_RUNTIME\n\nHyper-V HV_X64_MSR_VP_RUNTIME was introduced in linux-4.4 + qemu-2.5.\n\nAs long as the KVM module supports, qemu will save / load the\nvmstate_msr_hyperv_runtime register during the migration.\n\nRegardless of whether the hyperv_runtime configuration of x86_cpu_properties is\nenabled.\n\nThe qemu-2.3 does not support this feature, of course, failed to migrate.\n\n    linux-BGSfqC:/home/qemu # ./x86_64-softmmu/qemu-system-x86_64 --enable-kvm \\n        -nodefaults -machine pc-i440fx-2.3,accel=kvm,usb=off -smp 4 -m 4096 -drive \\n        file=/work/suse/sles11sp3.img.bak,format=raw,if=none,id=drive-virtio-disk0,cache=none \\n        -device virtio-blk-pci,scsi=off,bus=pci.0,addr=0x5,drive=drive-virtio-disk0,id=virtio-disk0 \\n        -vnc :99 -device cirrus-vga,id=video0,vgamem_mb=8,bus=pci.0,addr=0x2 -monitor vc\n\n    save_section_header:se->section_id=3,se->idstr:ram,se->instance_id=0,se->version_id=4\n    save_section_header:se->section_id=0,se->idstr:timer,se->instance_id=0,se->version_id=2\n    save_section_header:se->section_id=4,se->idstr:cpu_common,se->instance_id=0,se->version_id=1\n    save_section_header:se->section_id=5,se->idstr:cpu,se->instance_id=0,se->version_id=12\n    vmstate_subsection_save:vmsd->name:cpu/async_pf_msr\n    hyperv_runtime_enable_needed:env->msr_hv_runtime=128902811\n    vmstate_subsection_save:vmsd->name:cpu/msr_hyperv_runtime\n\nSince hyperv_runtime is false, vm will not use hv->runtime_offset, then\nvmstate_msr_hyperv_runtime is no need to transfer while migrating.\n\nSigned-off-by: ann.zhuangyanying@huawei.com\nMessage-Id: <1478247398-5016-1-git-send-email-ann.zhuangyanying@huawei.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995967745780944,KVM,target-i386/machine.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,423f7cf233fe262c777db7f87db3e9fac29e02d1,9b4b0350264d8164996265d635c8b9599673afb4,Gerd Hoffmann,2016-11-09,"ipxe: update to 20161108 snapshot\n\ngit shortlog 04186319..b991c67c\n===============================\n\nLaszlo Ersek (3):\n      [efi] Install the HII config access protocol on a child of the SNP handle\n      [librm] Conditionalize the workaround for the Tivoli VMM's SSE garbling\n      [build] Disable TIVOLI_VMM_WORKAROUND in the qemu configuration\n\nLukas Grossar (1):\n      [intel] Add PCI device ID for I219-V/LM\n\nMichael Brown (57):\n      [efi] Fix uninitialised data in HII IFR structures\n      [bios] Do not enable interrupts when printing to the console\n      [pxe] Disable interrupts on the PIC before starting NBP\n      [dhcp] Allow for variable encapsulation of architecture-specific options\n      [dhcpv6] Include RFC5970 client architecture options in DHCPv6 requests\n      [dhcpv6] Include vendor class identifier option in DHCPv6 requests\n      [dhcp] Automatically generate vendor class identifier string\n      [xfer] Send intf_close() if redirection fails\n      [downloader] Treat redirection failures as fatal\n      [iscsi] Treat redirection failures as fatal\n      [debug] Allow per-object runtime enabling/disabling of debug messages\n      [debug] Allow debug messages to be initially disabled at runtime\n      [libc] Allow assertions to be globally enabled or disabled\n      [profile] Allow profiling to be globally enabled or disabled\n      [rng] Check for functioning RTC interrupt\n      [acpi] Add support for ACPI power off\n      [acpi] Allow time for ACPI power off to take effect\n      [ipv4] Send gratuitous ARPs whenever a new IPv4 address is applied\n      [intel] Strip spurious VLAN tags received by virtual function NICs\n      [intel] Remove duplicate intelvf_mbox_queues() function\n      [ipv6] Perform SLAAC only during autoconfiguration\n      [settings] Create space for IPv6 in settings display order\n      [ipv6] Rename ipv6_scope to dhcpv6_scope\n      [settings] Correctly mortalise autovivified child settings blocks\n      [ipv6] Allow settings to comprise arbitrary subsets of NDP options\n      [ipv6] Expose IPv6 settings acquired through NDP\n      [dhcpv6] Expose IPv6 address setting acquired through DHCPv6\n      [ipv6] Expose IPv6 link-local address settings\n      [settings] Allow settings blocks to specify a sibling ordering\n      [ipv6] Match user expectations for IPv6 settings priorities\n      [ipv6] Create routing table based on IPv6 settings\n      [ipv6] Rename ipv6_scope to ipv6_settings_scope\n      [test] Update IPv6 tests to use okx()\n      [ipv6] Allow for multiple routers\n      [hyperv] Use instance UUID in device name\n      [crypto] Remove obsolete extern declaration for asn1_invalidate_cursor()\n      [crypto] Allow for parsing of partial ASN.1 cursors\n      [image] Add image_asn1() to extract ASN.1 objects from image\n      [crypto] Add DER image format\n      [crypto] Add PEM image format\n      [image] Use image_asn1() to extract data from CMS signature images\n      [build] Remove obsolete explicit object requirements\n      [crypto] Enable both DER and PEM formats by default\n      [build] Remove more obsolete explicit object requirements\n      [pixbuf] Enable PNG format by default\n      [crypto] Add image_x509() to extract X.509 certificates from image\n      [crypto] Generalise X.509 ""valid"" field to a ""flags"" field\n      [list] Add list_next_entry() and list_prev_entry()\n      [crypto] Expose certstore_del() to explicitly remove stored certificates\n      [crypto] Allow certificates to be marked as having been added explicitly\n      [crypto] Add certstat() to display basic certificate information\n      [cmdline] Add certificate management commands\n      [crypto] Mark permanent certificates as permanent\n      [efi] Mark AppleNetBoot.h as a native iPXE header\n      [efi] Update to current EDK2 headers\n      [efi] Add EFI_BLOCK_IO2_PROTOCOL header and GUID definition\n      [bzimage] Fix page alignment of initrd images\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9924474954605104,"ACPI, PCI","pc-bios/efi-e1000.rom, pc-bios/efi-e1000e.rom, pc-bios/efi-eepro100.rom, pc-bios/efi-ne2k_pci.rom, pc-bios/efi-pcnet.rom, pc-bios/efi-rtl8139.rom, pc-bios/efi-virtio.rom, pc-bios/efi-vmxnet3.rom, roms/ipxe",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5c90308f07335451a08c030dc40a9eed4698152b,8cc49f0302ff23353034b6f9cbf4e5d778239a3d,Thomas Huth,2016-11-04,"migration: Fix return code of ram_save_iterate()\n\nqemu_savevm_state_iterate() expects the iterators to return 1\nwhen they are done, and 0 if there is still something left to do.\nHowever, ram_save_iterate() does not obey this rule and returns\nthe number of saved pages instead. This causes a fatal hang with\nppc64 guests when you run QEMU like this (also works with TCG):\n\n qemu-img create -f qcow2  /tmp/test.qcow2 1M\n qemu-system-ppc64 -nographic -nodefaults -m 256 \\n                   -hda /tmp/test.qcow2 -serial mon:stdio\n\n... then switch to the monitor by pressing CTRL-a c and try to\nsave a snapshot with ""savevm test1"" for example.\n\nAfter the first iteration, ram_save_iterate() always returns 0 here,\nso that qemu_savevm_state_iterate() hangs in an endless loop and you\ncan only ""kill -9"" the QEMU process.\nFix it by using proper return values in ram_save_iterate().\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Juan Quintela <quintela@redhat.com>\nSigned-off-by: Juan Quintela <quintela@redhat.com>",1,0.9997313618659972,TCG,migration/ram.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9b54ca0ba781012eeea4237b7c4832ba2ea81d89,0a890b31df6689aefcd5b99641ca8d305a601149,David Gibson,2016-11-15,"spapr: Fix migration of PCI host bridges from qemu-2.7\n\ndaa2369 ""spapr_pci: Add a 64-bit MMIO window"" subtly broke migration from\nqemu-2.7 to the current version.  It split the device's MMIO window into\ntwo pieces for 32-bit and 64-bit MMIO.\n\nThe patch included backwards compatibility code to convert the old property\ninto the new format.  However, the property value was also transferred in\nthe migration stream and compared with a (probably unwise) VMSTATE_EQUAL.\nSo, the ""raw"" value from 2.7 is compared to the new style converted value\nfrom (pre-)2.8 giving a mismatch and migration failure.\n\nAlthough it would be technically possible to fix this in a way allowing\nbackwards migration, that would leave an ugly legacy around indefinitely.\nThis patch takes the simpler approach of bumping the migration version,\ndropping the unwise VMSTATE_EQUAL (and some equally unwise ones around it)\nand ignoring them on an incoming migration.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Alexey Kardashevskiy <aik@ozlabs.ru>",1,0.9946399331092834,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1b39bc1cf67eee07518ee05ce9306eaa53d868e4,8e7a0a1616faa852d65427bbbb6296dffb38990d,Peter Xu,2016-10-31,"acpi: fix DMAR device scope for IOAPIC\n\nWe should not use cpu_to_le16() here, instead each of device/function\nvalue is stored in a 8 byte field.\n\nSigned-off-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995860457420348,"APIC, IOAPIC","hw/i386/acpi-build.c, include/hw/acpi/acpi-defs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2a083ffd2e37ef08769749a5c7cfc6ca65c9f8ea,9b706dbbbb81f5cb7c67e491d38cd6077205e056,Michael S. Tsirkin,2016-11-04,"virtio-net: mark VIRTIO_NET_F_GSO as legacy\n\nvirtio 1.0 spec says this is a legacy feature bit,\nhide it from guests in modern mode.\n\nNote: for cross-version migration compatibility,\nwe keep the bit set in host_features.\nThe result will be that a guest migrating cross-version\nwill see host features change under it.\nAs guests only seem to read it once, this should\nnot be an issue. Meanwhile, will work to fix guests to\nignore this bit in virtio1 mode, too.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9995537400245668,"VIRTIO, VIRTIO_NET",hw/net/virtio-net.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,00b8702581f312aa46f797a8b3153d9b2892d967,97e53cf82ca0ffa9abe2def2fabc5fc75b914d90,Daniel Oram,2016-11-10,"qdev: Fix assert in PCI address property when used by vfio-pci\n\nAllow the PCIHostDeviceAddress structure to work as the host property\nin vfio-pci when it has it's default value of all fields set to ~0. In\nthis form the property indicates a non-existant device but given the\nfield bit sizes gets asserted as excess (and invalid) precision\noverflows the string buffer. The BDF of an invalid device\n""FFFF:FF:FF.F"" is returned instead.\n\nSigned-off-by: Daniel Oram <daniel.oram@gmail.com>\nReviewed-by: Alex Williamson <alex.williamson@redhat.com>\nMessage-Id: <71f06765c4ba16dcd71cbf78e877619948f04ed9.1478777270.git.daniel.oram@gmail.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9997188448905944,PCI,hw/core/qdev-properties.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,83d768b5640946b7da55ce8335509df297e2c7cd,0687c37c5eeef8580b31cc6e1202d874833ae38a,Paolo Bonzini,2016-11-18,"virtio: set ISR on dataplane notifications\n\nDataplane has been omitting forever the step of setting ISR when\nan interrupt is raised.  This caused little breakage, because the\nspecification actually says that ISR may not be updated in MSI mode.\n\nSome versions of the Windows drivers however didn't clear MSI mode\ncorrectly, and proceeded using polling mode (using ISR, not the used\nring index!) for crashdump and hibernation.  If it were just crashdump\nand hibernation it would not be a big deal, but recent releases of\nWindows do not really shut down, but rather log out and hibernate to\nmake the next startup faster.  Hence, this manifested as a more serious\nhang during shutdown with e.g. Windows 8.1 and virtio-win 1.8.0 RPMs.\nNewer versions fixed this, while older versions do not use MSI at all.\n\nThe failure has always been there for virtio dataplane, but it became\nvisible after commits 9ffe337 (""virtio-blk: always use dataplane path\nif ioeventfd is active"", 2016-10-30) and ad07cd6 (""virtio-scsi: always\nuse dataplane path if ioeventfd is active"", 2016-10-30) made virtio-blk\nand virtio-scsi always use the dataplane code under KVM.  The good news\ntherefore is that it was not a bug in the patches---they were doing\nexactly what they were meant for, i.e. shake out remaining dataplane bugs.\n\nThe fix is not hard, so it's worth arranging for the broken drivers.\nThe virtio_should_notify+event_notifier_set pair that is common to\nvirtio-blk and virtio-scsi dataplane is replaced with a new public\nfunction virtio_notify_irqfd that also sets ISR.  The irqfd emulation\ncode now need not set ISR anymore, so virtio_irq is removed.\n\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nTested-by: Farhan Ali <alifm@linux.vnet.ibm.com>\nTested-by: Alex Williamson <alex.williamson@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9989491105079652,KVM,"hw/block/dataplane/virtio-blk.c, hw/scsi/virtio-scsi-dataplane.c, hw/scsi/virtio-scsi.c, hw/virtio/trace-events, hw/virtio/virtio.c, include/hw/virtio/virtio-scsi.h, include/hw/virtio/virtio.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d668fc4c7c69a3251be5965601015f3c17800818,be4e0d737527d8670dc271712faae0de6a181b4e,ZhuangYanying,2016-11-18,"ipmi: fix qemu crash while migrating with ipmi\n\nQemu crash in the source side while migrating, after starting ipmi service inside vm.\n\n./x86_64-softmmu/qemu-system-x86_64 --enable-kvm -smp 4 -m 4096 \\n-drive file=/work/suse/suse11_sp3_64_vt,format=raw,if=none,id=drive-virtio-disk0,cache=none \\n-device virtio-blk-pci,scsi=off,bus=pci.0,addr=0x5,drive=drive-virtio-disk0,id=virtio-disk0 \\n-vnc :99 -monitor vc -device ipmi-bmc-sim,id=bmc0 -device isa-ipmi-kcs,bmc=bmc0,ioport=0xca2\n\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7ffec4268700 (LWP 7657)]\n__memcpy_ssse3_back () at ../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:2757\n(gdb) bt\n #0  __memcpy_ssse3_back () at ../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:2757\n #1  0x00005555559ef775 in memcpy (__len=3, __src=0xc1421c, __dest=<optimized out>)\n     at /usr/include/bits/string3.h:51\n #2  qemu_put_buffer (f=0x555557a97690, buf=0xc1421c <Address 0xc1421c out of bounds>, size=3)\n     at migration/qemu-file.c:346\n #3  0x00005555559eef66 in vmstate_save_state (f=f@entry=0x555557a97690,\n     vmsd=0x555555f8a5a0 <vmstate_ISAIPMIKCSDevice>, opaque=0x555557231160,\n     vmdesc=vmdesc@entry=0x55555798cc40) at migration/vmstate.c:333\n #4  0x00005555557cfe45 in vmstate_save (f=f@entry=0x555557a97690, se=se@entry=0x555557231de0,\n     vmdesc=vmdesc@entry=0x55555798cc40) at /mnt/sdb/zyy/qemu/migration/savevm.c:720\n #5  0x00005555557d2be7 in qemu_savevm_state_complete_precopy (f=0x555557a97690,\n     iterable_only=iterable_only@entry=false) at /mnt/sdb/zyy/qemu/migration/savevm.c:1128\n #6  0x00005555559ea102 in migration_completion (start_time=<synthetic pointer>,\n     old_vm_running=<synthetic pointer>, current_active_state=<optimized out>,\n     s=0x5555560eaa80 <current_migration.44078>) at migration/migration.c:1707\n #7  migration_thread (opaque=0x5555560eaa80 <current_migration.44078>) at migration/migration.c:1855\n #8  0x00007ffff3900dc5 in start_thread (arg=0x7ffec4268700) at pthread_create.c:308\n #9  0x00007fffefc6c71d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:113\n\nSigned-off-by: Zhuang Yanying <ann.zhuangyanying@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995495676994324,IPMI,hw/ipmi/isa_ipmi_kcs.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1d895feb3b9e4dd3560f505c309f26abf56c1e82,169407e1f7c9afee1cdac0ee6ad0b8d5e361c4dd,Herv Poussineau,2016-11-18,"scsi/esp: do not raise an interrupt when reading the FIFO register\n\nThis fixes SCSI adapter self-tests done in MIPS Jazz emulation,\nbroken since ff589551c8e8e9e95e211b9d8daafb4ed39f1aec.\n\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nMessage-Id: <1479508397-8443-1-git-send-email-hpoussin@reactos.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995929598808287,"MIPS, SCSI",hw/scsi/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,16a2497bd44cac1856e259654fd304079bd1dcdc,39d97e14a151519c81955a0b82352b5596432f63,David Gibson,2016-11-21,"target-ppc: Fix CPU migration from qemu-2.6 <-> later versions\n\nWhen migration for target-ppc was converted to vmstate, several\nVMSTATE_EQUAL() checks were foolishly included of things that really\nshould be internal state.  Specifically we verified equality of the\ninsns_flags and insns_flags2 fields, which are used within TCG to\ndetermine which groups of instructions are available on this cpu\nmodel.  Between qemu-2.6 and qemu-2.7 we made some changes to these\nclasses which broke migration.\n\nThis path fixes migration both forwards and backwards.  On migration\nfrom 2.6 to later versions we import the fields into teporary\nvariables, which we then ignore.  In migration backwards, we populate\nthe temporary fields from the runtime fields, but mask out the bits\nwhich were added after qemu-2.6, allowing the VMSTATE_EQUAL in\nqemu-2.6 to accept the stream.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Greg Kurz <groug@kaod.org>",1,0.999050796031952,TCG,"target-ppc/cpu.h, target-ppc/machine.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5c4537bded40640b166ec77e112592174b048c21,5a78b821eb9e240d67f319542a2201e833747e2a,David Gibson,2016-11-23,"spapr: Fix 2.7<->2.8 migration of PCI host bridge\n\ndaa2369 ""spapr_pci: Add a 64-bit MMIO window"" subtly broke migration\nfrom qemu-2.7 to the current version.  It split the device's MMIO\nwindow into two pieces for 32-bit and 64-bit MMIO.\n\nThe patch included backwards compatibility code to convert the old\nproperty into the new format.  However, the property value was also\ntransferred in the migration stream and compared with a (probably\nunwise) VMSTATE_EQUAL.  So, the ""raw"" value from 2.7 is compared to\nthe new style converted value from (pre-)2.8 giving a mismatch and\nmigration failure.\n\nAlong with the actual field that caused the breakage, there are\nseveral other ill-advised VMSTATE_EQUAL()s.  To fix forwards\nmigration, we read the values in the stream into scratch variables and\nignore them, instead of comparing for equality.  To fix backwards\nmigration, we populate those scratch variables in pre_save() with\nadjusted values to match the old behaviour.\n\nTo permit the eventual possibility of removing this cruft from the\nstream, we only include these compatibility fields if a new\n'pre-2.8-migration' property is set.  We clear it on the pseries-2.8\nmachine type, which obviously can't be migrated backwards, but set it\non earlier machine type versions.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Alexey Kardashevskiy <aik@ozlabs.ru>",1,0.9989203214645386,PCI,"hw/ppc/spapr.c, hw/ppc/spapr_pci.c, include/hw/pci-host/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5449c230fac9cd6a645fe8c85693444dad512b59,1cd56fd2e14f67ead2f0458b4ae052f19865c41c,Wei Wang,2016-11-23,spec/vhost-user: fix the VHOST_USER prefix\n\nSigned-off-by: Wei Wang <wei.w.wang@intel.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9995593428611756,VHOST_USER,docs/specs/vhost-user.txt,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e6e2784cacd4cfec149a7690976b9ff15e541c4d,b5a587b613f6151c2ce164552579ae64f2ddfd1c,Yongbok Kim,2016-11-30,target-mips: fix bad shifts in {dextp|dextpdp}\n\nFixed issues in the MIPSDSP64 instructions dextp and dextpdp.\nShifting can go out of 32 bit range.\n\nhttps://bugs.launchpad.net/qemu/+bug/1631625\n\nReported-by: Thomas Huth <thuth@redhat.com>\nReported-by: Jia Liu <proljc@gmail.com>\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>,1,0.9996808767318726,MIPS,target-mips/dsp_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4299b90e9ba9ce5ca9024572804ba751aa1a7e70,2d1cd6c7a91a4beb99a0c3a21be529222a708545,Prasad J Pandit,2016-10-18,"display: cirrus: check vga bits per pixel(bpp) value\n\nIn Cirrus CLGD 54xx VGA Emulator, if cirrus graphics mode is VGA,\n'cirrus_get_bpp' returns zero(0), which could lead to a divide\nby zero error in while copying pixel data. The same could occur\nvia blit pitch values. Add check to avoid it.\n\nReported-by: Huawei PSIRT <psirt@huawei.com>\nSigned-off-by: Prasad J Pandit <pjp@fedoraproject.org>\nMessage-id: 1476776717-24807-1-git-send-email-ppandit@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9994162321090698,VGA,hw/display/cirrus_vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5460da501a57cd72eda6fec736d76539122e2f99,bc66cedb4141fb7588f2462c74310d8fb5dd4cf1,Alex Benne,2016-12-02,target-arm/translate-a64: fix gen_load_exclusive\n\nWhile testing rth's latest TCG patches with risu I found ldaxp was\nbroken. Investigating further I found it was broken by 1dd089d0 when\nthe cmpxchg atomic work was merged. As part of that change the code\nattempted to be clever by doing a single 64 bit load and then shuffle\nthe data around to set the two 32 bit registers.\n\nAs I couldn't quite follow the endian magic I've simply partially\nreverted the change to the original code gen_load_exclusive code. This\ndoesn't affect the cmpxchg functionality as that is all done on in\ngen_store_exclusive part which is untouched.\n\nI've also restored the comment that was removed (with a slight tweak\nto mention cmpxchg).\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nAcked-by: Richard Henderson <rth@twiddle.net>\nMessage-id: 20161202173454.19179-1-alex.bennee@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9992671608924866,TCG,target-arm/translate-a64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a9353fe897ca2687e5b3385ed39e3db3927a90e0,d750c3a966d6409356739e97fa4d4a6446754e1e,Peter Maydell,2016-12-06,"exec.c: Fix breakpoint invalidation race\n\nA bug (1647683) was reported showing a crash when removing\nbreakpoints.  The reproducer was bisected to 3359baad when tb_flush\nwas finally made thread safe.  While in MTTCG the locking in\nbreakpoint_invalidate would have prevented any problems, but\ncurrently tb_lock() is a NOP for system emulation.\n\nThe race is between a tb_flush from the gdbstub and the\ntb_invalidate_phys_addr() in breakpoint_invalidate().\n\nIdeally we'd have actual locking here; for the moment the\nsimple fix is to do a full tb_flush() for a bp invalidate,\nsince that is thread-safe even if no lock is taken.\n\nReported-by: Julian Brown <julian@codesourcery.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1481047629-7763-1-git-send-email-peter.maydell@linaro.org\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.999721348285675,TCG,exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,66d1c4c19faff83e36075c7b61053d060a8ffc50,d70678a5388fb6340d018f51b863ec9712b905da,Maxime Coquelin,2016-12-14,"virtio-pci: Fix cross-version migration with older machines\n\nThis patch fixes a cross-version migration regression introduced\nby commit d1b4259f (""virtio-bus: Plug devices after features are\nnegotiated"").\n\nThe problem is encountered when host's vhost backend does not support\nVIRTIO_F_VERSION_1, and migration is initiated from a v2.7 or prior\nmachine with virtio-pci modern capabilities enabled to a v2.8 machine.\n\nIn this case, modern capabilities get exposed to the guest by the source,\nwhereas the target will detect version 1 is not supported so will only\nexpose legacy capabilities.\n\nThe problem is fixed by introducing a new ""x-ignore-backend-features""\nproperty, which is set in v2.7 and prior compatibility modes. Doing this,\nv2.7 machine keeps its broken behaviour (enabling modern while version\nis not supported), and newer machines will behave correctly.\n\nReported-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nReviewed-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: Maxime Coquelin <maxime.coquelin@redhat.com>\nMessage-id: 20161214163035.3297-1-maxime.coquelin@redhat.com\nSuggested-by: Stefan Hajnoczi <stefanha@redhat.com>\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Cornelia Huck <cornelia.huck@de.ibm.com>\nCc: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nTested-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: Maxime Coquelin <maxime.coquelin@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9997039437294006,VIRTIO,"hw/virtio/virtio-pci.c, hw/virtio/virtio-pci.h, include/hw/compat.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d93ddfb1f8fb72a7c175a8cf1028c639f769d105,d9429b84af2302b6e28bec3c52710cf67eda3cee,Michael S. Tsirkin,2016-12-12,"pci: fix error message for express slots\n\nPCI Express downstream slot has a single PCI slot\nbehind it, using PCI_DEVFN(PCI_SLOT(devfn), 0)\ndoes not give you function 0 in cases such as ARI\nas well as some error cases.\n\nThis is exactly what we are hitting:\n   $ qemu-system-x86_64 -machine q35 -readconfig docs/q35-chipset.cfg\n-monitor stdio\n   (qemu) device_add e1000e,bus=ich9-pcie-port-4,addr=00\n   (qemu) device_add e1000e,bus=ich9-pcie-port-4,addr=08\n   Segmentation fault (core dumped)\n\nThe fix is to use the pci_get_function_0 API.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReported-by: Eduardo Habkost <ehabkost@redhat.com>\nTested-by: Cao jin <caoj.fnst@cn.fujitsu.com>\nTested-by: Eduardo Habkost <ehabkost@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9997301697731018,PCI,hw/pci/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9b7621bca2f70dc1a9815d50f05261296a8ae932,abd7f08b2353f43274b785db8c7224f082ef4d31,Gerd Hoffmann,2016-11-29,"virtio-gpu: track and limit host memory allocations\n\nThis patch makes virtio-gpu track host memory allocations for ressources\nand applies a limit (configurable 256M by default).  When exceeding the\nlimit virtio-gpu throws VIRTIO_GPU_RESP_ERR_OUT_OF_MEMORY errors (like\nit already does today when pixman image allocations fail).\n\nThis patch covers 2d mode only.  For 3d mode we have to figure how we\nare going to handle this best.  qemu doesn't track resources in case\nvirglrenderer is used, so I guess we should extend virglrenderer to\nallow setting a limit, then let qemu set the limit and catch\nvirgl_renderer_resource_create failures.\n\nCc: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nCc: Dave Airlie <airlied@redhat.com>\nCc:  <liqiang6-s@360.cn>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nMessage-id: 1480423356-22255-1-git-send-email-kraxel@redhat.com",1,0.9996918439865112,"ESP, VIRTIO, VIRTIO_GPU","hw/display/virtio-gpu.c, include/hw/virtio/virtio-gpu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f1944735b6bac810b067e8a7a5154744536fd59,2494c9f6405a1979319f12d1bb4e9a6eb28a529d,Julian Brown,2016-12-27,"Correct value of ARM Cortex-A8 MVFR1 register.\n\nThe value of the MVFR1 (Media and VFP Feature Register 1) register for\nthe Cortex-A8 appears to be incorrect (according to the TRM, DDI0344K),\nwith the ""full denormal arithmetic"" and ""propagation of NaN"" fields\nholding both 0 instead of both 1.\n\nI had a go tracing the history of the use of this value, and it seems\nit's always just been wrong in QEMU: maybe it was derived from early\ndocumentation, or guessed based on the use of a ""VFP Lite"" implementation\nin the Cortex-A8.\n\nDepending on the startup/early-boot code in use, this can manifest as\nfailure to perform denormal arithmetic properly: in our case, selecting\na Cortex-A8 CPU when using QEMU as an instruction-set simulator for\nbare-metal GCC testing caused tests using denormal arithmetic to\nfail. Problems might be masked (or not occur) when using a full OS kernel\nwith suitable trap handlers (I'm not sure).\n\nSigned-off-by: Julian Brown <julian@codesourcery.com>\nMessage-id: 1481130858-31767-1-git-send-email-julian@codesourcery.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.8099372982978821,ARM,target/arm/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,416d72b97b01d6cb769ad0fd0e10614583354a45,0f1944735b6bac810b067e8a7a5154744536fd59,Richard Henderson,2016-12-27,"target-arm: Fix aarch64 vec_reg_offset\n\nSince CPUARMState.vfp.regs is not 16 byte aligned, the ^ 8 fixup used\nfor a big-endian host doesn't do what's intended.  Fix this by adding\nin the vfp.regs offset after computing the inter-register offset.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nMessage-id: 1481085020-2614-2-git-send-email-rth@twiddle.net\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996142387390136,ARM,target/arm/translate-a64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,91db4642f868cf2e591b62d31a19d35b02ea791e,9e41bade85ef338afd983c109368d1bbbe931f80,Cdric Le Goater,2016-12-27,"target-arm: Add VBAR support to ARM1176 CPUs\n\nARM1176 CPUs have TrustZone support and can use the Vector Base\nAddress Register, but currently, qemu only adds VBAR support to ARMv7\nCPUs. Fix this by adding a new feature ARM_FEATURE_VBAR which can used\nfor ARMv7 and ARM1176 CPUs.\n\nThe VBAR feature is always set for ARMv7 because some legacy boards\nrequire it even if this is not architecturally correct.\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-id: 1481810970-9692-1-git-send-email-clg@kaod.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9994444251060486,ARM,"target/arm/cpu.c, target/arm/cpu.h, target/arm/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,156bc9a5ea877e8252a07f35543a24157d4ab822,c8ef2bda05af317819427c2fde7ebf061129c142,Peter Maydell,2017-01-09,"hw/arm/virt: Don't incorrectly claim architectural timer to be edge-triggered\n\nThe architectural timers in ARM CPUs all have level triggered interrupts\n(unless you're using KVM on a host kernel before 4.4, which misimplemented\nthem as edge-triggered).\n\nWe were incorrectly describing them in the device tree as edge triggered.\nThis can cause problems for guest kernels in 4.8 before rc6:\n * pre-4.8 kernels ignore the values in the DT\n * 4.8 before rc6 write the DT values to the GIC config registers\n * newer than rc6 ignore the DT and insist that the timer interrupts\n   are level triggered regardless\n\nFix the DT so we're describing reality. For backwards-compatibility\npurposes, only do this for the virt-2.9 machine onward.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Andrew Jones <drjones@redhat.com>",1,0.9994798302650452,"ARM, KVM",hw/arm/virt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8dd845d3c434cf2c799e0f86a1b53b33057b61ab,af1f60a4022664b0169f9d10a3f7d732e8571617,Andrew Jones,2017-01-09,"hw/arm/virt-acpi-build: Don't incorrectly claim architectural timer to be edge-triggered\n\nThis is the ACPI equivalent to ""hw/arm/virt: Don't incorrectly claim\narchitectural timer to be edge-triggered"" which fixes the DT for\nmachine types 2.9 and later.\n\nSigned-off-by: Andrew Jones <drjones@redhat.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-id: 20170102200153.28864-15-drjones@redhat.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996163845062256,ACPI,"hw/arm/virt-acpi-build.c, include/hw/acpi/acpi-defs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2e41dfe152331c4f5a8e6ccdb80bfc0d07422e82,12d37882f0c0def5dee1c21be5d8fea9c21baada,Cao jin,2016-12-29,"doc/pcie: correct command line examples\n\nNit picking: Multi-function PCI Express Root Ports should mean that\n'addr' property is mandatory, and slot is optional because it defaults\nto 0, and 'chassis' is mandatory for 2nd & 3rd root port because it\ndefaults to 0 too.\n\nBonus: fix a typo(2->3)\nSigned-off-by: Cao jin <caoj.fnst@cn.fujitsu.com>\nReviewed-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9991794228553772,PCI,docs/pcie.txt,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f254b1ae04b36e2ab2d91528297ed60d40c8c08,8b77709c619c426635f60458b6a2e49c2dffd8ff,Peter Xu,2017-01-09,"x86: ioapic: fix fail migration when irqchip=split\n\nSplit irqchip works based on the fact that we kept the first 24 gsi\nrouting entries inside KVM for userspace ioapic's use. When system\nboot, we'll reserve these MSI routing entries before hand. However,\nafter migration, we forgot to re-configure it up in the destination\nside. The result is, we'll get invalid gsi routing entries after\nmigration (all empty), and we get interrupts with vector=0, then\nstrange things happen, like keyboard hang.\n\nThe solution is simple - we update them after migration, which is a\none line fix.\n\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <1483952153-7221-4-git-send-email-peterx@redhat.com>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996077418327332,KVM,hw/intc/ioapic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5ad4a2b75f85dd854a781a6e03b90320cb3441d3,0f254b1ae04b36e2ab2d91528297ed60d40c8c08,Roman Kapl,2017-01-09,exec: Add missing rcu_read_unlock\n\nrcu_read_unlock was not called if the address_space_access_valid result is\nnegative.\n\nThis caused (at least) a problem when qemu on PPC/E500+TAP failed to terminate\nproperly and instead got stuck in a deadlock.\n\nSigned-off-by: Roman Kapl <rka@sysgo.com>\nMessage-Id: <20170109110921.4931-1-rka@sysgo.com>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.999688982963562,"E500, PPC",exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1a2aefae6627170fdee689b394a65f76080c068a,5b5352b2f41e460f213a515e087c24dac1322f49,Artyom Tarasenko,2016-06-12,"target-sparc: on UA2005 don't deliver Interrupt_level_n IRQs in hypervisor mode\n\nAs described in Chapter 5.7.6 of the UltraSPARC Architecture 2005,\noutstanding disrupting exceptions that are destined for privileged mode can only\ncause a trap when the virtual processor is in nonprivileged or privileged mode and\nPSTATE.ie = 1. At all other times, they are held pending.\n\nSigned-off-by: Artyom Tarasenko <atar4qemu@gmail.com>\nReviewed-by: Richard Henderson <rth@twiddle.net>",1,0.9995983242988586,SPARC,target/sparc/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2943b53f682f54548e7ddcf2ebb6c6d12d8dc821,6bdc21c050a2a7b92cbbd0b2a1f8934e9b5f896f,Jason Wang,2017-01-17,virtio: force VIRTIO_F_IOMMU_PLATFORM\n\nWe allow vhost to clear VIRITO_F_IOMMU_PLATFORM which is wrong since\nVIRTIO_F_IOMMU_PLATFORM is mandatory for security. Fixing this by\nenforce it after vdc->get_features().\n\nSigned-off-by: Jason Wang <jasowang@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9996953010559082,VIRTIO,hw/virtio/virtio-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0cf4d747cb8d053e6a6161aadfd3531fa1a62be1,8195d8992b348d675072187501ff2027bff7707b,Christian Borntraeger,2017-01-24,"s390x/kvm: fix cmma reset for KVM\n\nWe must reset the CMMA states for normal memory (when not on mem path),\nbut the current code does the opposite. This was unnoticed for some time\nas the kernel since 4.6 also had a bug which mostly disabled the paging\noptimizations.\n\nFixes: 07059effd14e (""s390x/kvm: let the CPU model control CMM(A)"")\nCc: qemu-stable@nongnu.org # v2.8\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.999732792377472,KVM,target/s390x/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,feb0b1aa11f14ee71660aba46b46387d1f923c9e,a20ee6005564590d33eabec11ed4dc7c432db36b,Peter Maydell,2017-01-27,"pflash_cfi01: fix per-device sector length in CFI table\n\nFor configurations of the pflash_cfi01 device which set it up with a\ndevice-width not equal to the width (ie where we are emulating\nmultiple narrow flash devices wired up in parallel), we were giving\nincorrect values in the CFI data table:\n\n(1) the sector length entry should specify the sector length for a\n    single device, not the length for the overall collection of\n    devices\n(2) the number of blocks per device must not be divided by the\n    number of devices because the resulting device size would not\n    match the overall size\n(3) this then means that the overall write block size must be\n    modified depending on the number of devices because the entry is\n    per device and when the guest writes into the flash it\n    calculates the write size by using the CFI entry (write size\n    per device) multiplied by the number of chips.\n    (It would alternatively be possible to modify the write\n    block size in the CFI table (currently hardcoded at 2048) and\n    leave the overall write block size alone.)\n\nThis commit corrects these bugs, and adds a hw-compat property\nto retain the old behaviour on 2.8 and earlier versions. (The\nonly board we have which uses this sort of flash config and\nhas machine versioning is the ""virt"" board -- the PC uses a\nsingle flash device and so behaviour is unaffected whether\nusing old-multiple-chip-handling or not.)\n\nHere is a configuration example from the vexpress board:\n\nVEXPRESS_FLASH_SIZE = 64M\nVEXPRESS_FLASH_SECT_SIZE 256K\nnum-blocks = VEXPRESS_FLASH_SIZE / VEXPRESS_FLASH_SECT_SIZE = 256\nsector-length = 256K\nwidth = 4\ndevice-width = 2\n\nThe code will fill the CFI entry with the following entries:\n  num-blocks = 256\n  sector-length = 128K\n  writeblock_size = 2048\n\nThis results in two chips, each with 256 * 128K = 32M device size and\na write block size of 2048.\n\nA sector erase will be sent to both chips, thus 256K must be erased.\nWhen the guest sends a block write command, it will write 4096 bytes\ndata at once (2048 per device).\n\nSigned-off-by: David Engraf <david.engraf@sysgo.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\n[PMM: cleaned up and expanded commit message]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996993541717528,VEXPRESS,"hw/block/pflash_cfi01.c, include/hw/compat.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9954a1582e18b03ddb66f6c892dccf2c3508f4b2,c4c41a0a65d650b241dec9efedf4ee3f00a16a30,Phil Dennis-Jordan,2017-01-20,"x86-KVM: Supply TSC and APIC clock rates to guest like VMWare\n\nThis fixes timekeeping of x86-64 Darwin/OS X/macOS guests when using KVM.\n\nDarwin/OS X/macOS for x86-64 uses the TSC for timekeeping; it normally calibrates this by querying various clock frequency scaling MSRs. Details depend on the exact CPU model detected. The local APIC timer frequency is extracted from (EFI) firmware.\n\nThis is problematic in the presence of virtualisation, as the MSRs in question are typically not handled by the hypervisor. VMWare (Fusion) advertises TSC and APIC frequency via a custom 0x40000010 CPUID leaf, in the eax and ebx registers respectively. This is documented at https://lwn.net/Articles/301888/ among other places.\n\nDarwin/OS X/macOS looks for the generic 0x40000000 hypervisor leaf, and if this indicates via eax that leaf 0x40000010 might be available, that is in turn queried for the two frequencies.\n\nThis adds a CPU option ""vmware-cpuid-freq"" to enable the same behaviour when running Qemu with KVM acceleration, if the KVM TSC frequency can be determined, and it is stable. (invtsc or user-specified) The virtualised APIC bus cycle is hardcoded to 1GHz in KVM, so ebx of the CPUID leaf is also hardcoded to this value.\n\nSigned-off-by: Phil Dennis-Jordan <phil@philjordan.eu>\nMessage-Id: <1484921496-11257-2-git-send-email-phil@philjordan.eu>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9131821393966676,"APIC, KVM","target/i386/cpu.c, target/i386/cpu.h, target/i386/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b99260ebbb5844da9e77fbcaa73b7b6980a68acf,e122090df3e681b42d19a55486ff5c54f2c1e717,Thomas Huth,2016-12-14,"hw/ppc/spapr: Fix boot path of usb-host storage devices\n\nWhen passing through an USB storage device to a pseries guest, it\nis currently not possible to automatically boot from the device\nif the ""bootindex"" property has been specified, too (e.g. when using\n""-device nec-usb-xhci -device usb-host,hostbus=1,hostaddr=2,bootindex=0""\nat the command line). The problem is that QEMU builds a device tree path\nlike ""/pci@800000020000000/usb@0/usb-host@1"" and passes it to SLOF\nin the /chosen/qemu,boot-list property. SLOF, however, probes the\nUSB device, recognizes that it is a storage device and thus changes\nits name to ""storage"", and additionally adds a child node for the\nSCSI LUN, so the correct boot path in SLOF is something like\n""/pci@800000020000000/usb@0/storage@1/disk@101000000000000"" instead.\nSo when we detect an USB mass storage device with SCSI interface,\nwe've got to adjust the firmware boot-device path properly that\nSLOF can automatically boot from the device.\n\nBuglink: https://bugzilla.redhat.com/show_bug.cgi?id=1354177\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997214674949646,"SCSI, USB","hw/ppc/spapr.c, hw/usb/host-libusb.c, hw/usb/host-stub.c, include/hw/usb.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0dfe952dc5c2921488a1172407857d5bb81d17a4,2a084dadcbc207b27d3efc9d6c05cafb72fc83f0,Roman Kapl,2017-01-09,"ppc: Prevent inifnite loop in decrementer auto-reload.\n\nIf the DECAR register is set to 0, QEMU tries to reload the decrementer with\nzero in an inifinite loop. According to PPC documentation, the decrementer is\ntriggered on 1->0 transition, so avoid reloading the decrementer if if is\nalready zero.\n\nThe problem does not manifest under Linux, but it is valid to set DECAR to zero\n(and may make sense as part of decrementer initialization when interrupts are\ndisabled).\n\nSigned-off-by: Roman Kapl <rka@sysgo.com>\n[dwg: Fixed style nit]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9995286464691162,PPC,hw/ppc/ppc_booke.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ec42813028d9ede3f9f73b8c943b00ff235ba0c1,ed63ec0d22ccdce3b2222d9a514423b7fbba3a0d,Michael S. Tsirkin,2017-01-19,"pci: mark ROMs read-only\n\nLooks like we didn't mark PCI ROMs as RO allowing\nmischief such as guests writing there.\nFurther, e.g. vhost gets confused trying to allocate\nenough space to log writes there. Fix it up.\n\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Marcel Apfelbaum <marcel@redhat.com>\nTested-by: Laurent Vivier <lvivier@redhat.com>",1,0.9991758465766908,PCI,hw/pci/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e987c37aee1752177906847630d32477da57e705,f7d6f3fac8dd7b1d1ecb2662b1751e0ed3fef727,Haozhong Zhang,2017-01-13,"hw/i386: check if nvdimm is enabled before plugging\n\nThe missing of 'nvdimm' in the machine type option '-M' means NVDIMM\nis disabled. QEMU should refuse to plug any NVDIMM device in this case\nand report the misconfiguration.\n\nThe behavior of NVDIMM on unsupported platform (HW/FW) is vendor\nspecific. For some vendors, it's undefined and the platform may do\nanything. Thus, I think QEMU is free to choose the implementation.\nAborting QEMU (i.e. refusing to boot) is the easiest one.\n\nReported-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Haozhong Zhang <haozhong.zhang@intel.com>\nMessage-Id: 20170112110928.GF4621@stefanha-x1.localdomain\nMessage-Id: 20170111093630.2088-1-stefanha@redhat.com\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Xiao Guangrong <guangrong.xiao@linux.intel.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9972670078277588,"DIMM, NVDIMM",hw/i386/pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2034ee5152ded8ef102f2e9dfcada7f91ecc7d66,a0def594286d9110a6035e02eef558cf3cf5d847,Paolo Bonzini,2017-01-27,"s390-pci: fix compilation on older GCC versions\n\nS390PCIBusDevice is typedef'ed earlier in the file, before the hunks\nthat this patch modifies.  The double typedef causes old versions of\nGCC to complain.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-Id: <1485523252-88288-1-git-send-email-pbonzini@redhat.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",1,0.999649167060852,PCI,hw/s390x/s390-pci-bus.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,854123bf8d4b8f4dcedcb03d0201e4305da45fe8,26d320220778973310de0afa96974a2e9e987caf,Cdric Le Goater,2017-02-07,"wdt: Add Aspeed watchdog device model\n\nThe Aspeed SoC includes a set of watchdog timers using 32-bit\ndecrement counters, which can be based either on the APB clock or\na 1 MHz clock.\n\nThe watchdog timer is designed to prevent system deadlock and, in\ngeneral, it should be restarted before timeout. When a timeout occurs,\ndifferent types of signals can be generated, ARM reset, SOC reset,\nSystem reset, CPU Interrupt, external signal or boot from alternate\nblock. The current model only performs the system reset function as\nthis is used by U-Boot and Linux.\n\nSigned-off-by: Joel Stanley <joel@jms.id.au>\nMessage-id: 1485452251-1593-2-git-send-email-clg@kaod.org\n[clg: - fixed compile breakage\n      - fixed io region size\n      - added watchdog_perform_action() on timer expiry\n      - wrote a commit log\n      - merged fixes from Andrew Jeffery to scale the reload value ]\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9928232431411744,ARM,"hw/watchdog/Makefile.objs, hw/watchdog/wdt_aspeed.c, include/hw/watchdog/wdt_aspeed.h",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f7478a92dd9ee2276bfaa5b7317140d3f9d6a53b,3a062d5730266b2386eeda68b1a1c6e96451db31,Julian Brown,2017-02-07,"Fix Thumb-1 BE32 execution and disassembly.\n\nThumb-1 code has some issues in BE32 mode (as currently implemented). In\nshort, since bytes are swapped within words at load time for BE32\nexecutables, this also swaps pairs of adjacent Thumb-1 instructions.\n\nThis patch un-swaps those pairs of instructions again, both for execution,\nand for disassembly. (The previous version of the patch always read four\nbytes in arm_read_memory_func and then extracted the proper two bytes,\nin a probably misguided attempt to match the behaviour of actual hardware\nas described by e.g. the ARM9TDMI TRM, section 3.3 ""Endian effects for\ninstruction fetches"". It's less complicated to just read the correct\ntwo bytes though.)\n\nSigned-off-by: Julian Brown <julian@codesourcery.com>\nMessage-id: ca20462a044848000370318a8bd41dd0a4ed273f.1484929304.git.julian@codesourcery.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9976951479911804,ARM,"disas.c, include/disas/bfd.h, target/arm/arm_ldst.h, target/arm/cpu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5e8e3c4c75c199aa1017db816fca02be2a9f8798,dd248ed7e204ee8a1873914e02b8b526e8f1b80d,Gerd Hoffmann,2017-01-23,"virtio-gpu: fix resource leak in virgl_cmd_resource_unref\n\nWhen the guest sends VIRTIO_GPU_CMD_RESOURCE_UNREF without detaching the\nbacking storage beforehand (VIRTIO_GPU_CMD_RESOURCE_DETACH_BACKING)\nwe'll leak memory.\n\nThis patch fixes it for 3d mode, simliar to the 2d mode fix in commit\n""b8e2392 virtio-gpu: call cleanup mapping function in resource destroy"".\n\nReported-by:  <liqiang6-s@360.cn>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nMessage-id: 1485167210-4757-1-git-send-email-kraxel@redhat.com",1,0.9997217059135436,"VIRTIO, VIRTIO_GPU",hw/display/virtio-gpu-3d.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,98cb5dccb192b0082626080890dac413473573c6,61eedf7aec0e2395aabd628cc055096909a3ea15,Ladi Prosek,2017-02-10,"ahci: advertise HOST_CAP_64\n\nThe AHCI emulation code supports 64-bit addressing and should advertise this\nfact in the Host Capabilities register. Both Linux and Windows drivers test\nthis bit to decide if the upper 32 bits of various registers may be written\nto, and at least some versions of Windows have a bug where DMA is attempted\nwith an address above 4GB but, in the absence of HOST_CAP_64, the upper 32\nbits are left unititialized which leads to a memory corruption.\n\n[Maintainer edit:\n\nThis fixes https://bugzilla.redhat.com/show_bug.cgi?id=1411105,\nwhich affects Windows Server 2008 SP2 in some cases.]\n\nSigned-off-by: Ladi Prosek <lprosek@redhat.com>\nMessage-id: 1484305370-6220-1-git-send-email-lprosek@redhat.com\n[Amended commit message --js]\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.999711811542511,AHCI,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d6f02ce3b8a43ddd8f83553fe754a34b26fb273f,e6ec54571e424bb1d6e50e32fe317c616cde3e05,Wei Huang,2017-02-10,"target-arm: Enable vPMU support under TCG mode\n\nThis patch contains several fixes to enable vPMU under TCG mode. It\nfirst removes the checking of kvm_enabled() while unsetting\nARM_FEATURE_PMU. With it, the .pmu option can be used to turn on/off vPMU\nunder TCG mode. Secondly the PMU node of DT table is now created under TCG.\nThe last fix is to disable the masking of PMUver field of ID_AA64DFR0_EL1.\n\nSigned-off-by: Wei Huang <wei@redhat.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1486504171-26807-5-git-send-email-wei@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999612033367157,"ARM, TCG","hw/arm/virt.c, target/arm/cpu.c, target/arm/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b4b9862b536f41fcdf6ad193a306a852c5b5b71a,97cd965c070152bc626c7507df9fb356bbe1cd81,Michael S. Tsirkin,2017-02-17,"virtio: Fix no interrupt when not creating msi controller\n\nFor ARM virt machine, if we use virt-2.7 which will not create ITS node,\nthe virtio-net can not recieve interrupts so it can't get ip address\nthrough dhcp.\nThis fixes commit 83d768b(virtio: set ISR on dataplane notifications).\n\nSigned-off-by: Shannon Zhao <shannon.zhao@linaro.org>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.99970680475235,ARM,hw/virtio/virtio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e0319b030256cfd64c599b1bbac5b3df92ebafe4,2059839baa8fbc4390eddf462c601165485ffa8f,Markus Armbruster,2017-02-15,"hw/arm/cubieboard hw/arm/xlnx-ep108: Fix units_per_default_bus\n\nMachine types cubieboard, xlnx-ep108, xlnx-zcu102 have an onboard AHCI\ncontroller, but neglect to set their MachineClass member\nunits_per_default_bus = 1.  This permits -drive if=ide,unit=1, which\nmakes no sense for AHCI.  It also screws up index=N for odd N, because\nit gets desugared to unit=1,bus=N/2\n\nDoesn't really matter, because these machine types fail to honor\n-drive if=ide.  Add the missing units_per_default_bus = 1 anyway,\nalong with a TODO comment on what needs to be done for -drive if=ide.\n\nAlso set block_default_type = IF_IDE explicitly.  It's currently the\ndefault, but the next commit will change it to something more\nsensible, and we want to keep the IF_IDE default for these three\nmachines.  See also the previous commit.\n\nCc: Beniamino Galvani <b.galvani@gmail.com>\nCc: Alistair Francis <alistair.francis@xilinx.com>\nCc: ""Edgar E. Iglesias"" <edgar.iglesias@gmail.com>\nCc: Peter Maydell <peter.maydell@linaro.org>\nCc: qemu-arm@nongnu.org\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nAcked-by: Alistair Francis <alistair.francis@xilinx.com>\nMessage-Id: <1487153147-11530-3-git-send-email-armbru@redhat.com>",1,0.999648928642273,AHCI,"hw/arm/cubieboard.c, hw/arm/xlnx-ep108.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8f2d75e81d5eb2715be653010258ce9d57549de7,720b8dc052ae2783d9b8cc2263eccc5bcec04418,Markus Armbruster,2017-02-15,"hw: Drop superfluous special checks for orphaned -drive\n\nWe've traditionally rejected orphans here and there, but not\nsystematically.  For instance, the sun4m machines have an onboard SCSI\nHBA (bus=0), and have always rejected bus>0.  Other machines with an\nonboard SCSI HBA don't.\n\nCommit a66c9dc made all orphans trigger a warning, and the previous\ncommit turned this into an error.  The checks ""here and there"" are now\nredundant.  Drop them.\n\nNote that the one in mips_jazz.c was wrong: it rejected bus > MAX_FD,\nbut MAX_FD is the number of floppy drives per bus.\n\nError messages change from\n\n    $ qemu-system-x86_64 -drive if=ide,bus=2\n    qemu-system-x86_64: Too many IDE buses defined (3 > 2)\n    $ qemu-system-mips64 -M magnum,accel=qtest -drive if=floppy,bus=2,id=fd1\n    qemu: too many floppy drives\n    $ qemu-system-sparc -M LX -drive if=scsi,bus=1\n    qemu: too many SCSI bus\n\nto\n\n    $ qemu-system-x86_64 -drive if=ide,bus=2\n    qemu-system-x86_64: -drive if=ide,bus=2: machine type does not support if=ide,bus=2,unit=0\n    $ qemu-system-mips64 -M magnum,accel=qtest -drive if=floppy,bus=2,id=fd1\n    qemu-system-mips64: -drive if=floppy,bus=2,id=fd1: machine type does not support if=floppy,bus=2,unit=0\n    $ qemu-system-sparc -M LX -drive if=scsi,bus=1\n    qemu-system-sparc: -drive if=scsi,bus=1: machine type does not support if=scsi,bus=1,unit=0\n\nCc: John Snow <jsnow@redhat.com>\nCc: ""Herv Poussineau"" <hpoussin@reactos.org>\nCc: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nMessage-Id: <1487153147-11530-9-git-send-email-armbru@redhat.com>\nReviewed-by: John Snow <jsnow@redhat.com>",1,0.901793658733368,SCSI,"hw/ide/core.c, hw/mips/mips_jazz.c, hw/sparc/sun4m.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,51b58561c1dacdb0ce999ada94912caaed157f83,6e85fce0225f235b11618fe50eaec64c1de2cf3e,Paul Burton,2016-09-08,"loader: Support Flattened Image Trees (FIT images)\n\nIntroduce support for loading Flattened Image Trees, as used by modern\nU-Boot. FIT images are essentially flattened device tree files which\ncontain binary images such as kernels, FDTs or ramdisks along with one\nor more configuration nodes describing boot configurations.\n\nThe MIPS Boston board typically boots kernels in the form of FIT images,\nand will make use of this code.\n\nSigned-off-by: Paul Burton <paul.burton@imgtec.com>\n[yongbok.kim@imgtec.com:\n  fixed potential memory leaks,\n  isolated building option]\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>",1,0.9995288848876952,MIPS,"hw/core/Makefile.objs, hw/core/loader-fit.c, hw/core/loader.c, include/hw/loader-fit.h, include/hw/loader.h",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ba690c7171cb863643c21ab9f7e7116ad5df1c63,409422cd83f36450a3c0bdd49163786cbff3a7ea,Cornelia Huck,2017-01-25,"s390x/flic: fail migration on source already\n\nCurrent code puts a 'FLIC_FAILED' marker into the migration stream\nto indicate something went wrong while saving flic state and fails\nload if it encounters that marker. VMState's put routine recently\ngained the ability to return error codes (but did not wire it up\nyet).\n\nIn order to be able to reap the benefits of returning an error and\nfailing migration on the source already once this gets wired up\nin core, return an error in addition to storing 'FLIC_FAILED'.\n\nSuggested-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>\nReviewed-by: Jens Freimann <jfrei@linux.vnet.ibm.com>\nReviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>",1,0.9997151494026184,LED,hw/intc/s390_flic_kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5f706fdc164b20b48254eadf7bd413edace34499,b1914b824ade1706847428e64ef5637ffc0ae238,Christian Borntraeger,2017-02-08,"s390x/arch_dump: use proper note name and note size\n\nIn binutils/libbfd (bfd/elf.c) it is enforced that all s390\nspecific ELF notes like e.g. NT_S390_PREFIX or NT_S390_CTRS\nhave ""LINUX"" specified as note name and that the namesz is\n6. Otherwise the notes are ignored.\n\nQEMU currently uses ""CORE"" for these notes. Up to now this has\nnot been a real problem because the dump analysis tool ""crash""\ndoes handle that. But it will break all programs that use libbfd\nfor processing ELF notes.\n\nSo fix this and use ""LINUX"" for all s390 specific notes to comply\nwith libbfd. Also set the correct namesz.\n\nReported-by: Philipp Rudo <prudo@linux.vnet.ibm.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9995542168617249,LINUX,target/s390x/arch_dump.c,0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e3b9ca810980851f93f5719a7df2044c9435f003,857baec1d9e80947f0c1007c3a3d2331d62b4b53,KONRAD Frederic,2017-02-23,"cputlb: introduce tlb_flush_* async work.\n\nSome architectures allow to flush the tlb of other VCPUs. This is not a problem\nwhen we have only one thread for all VCPUs but it definitely needs to be an\nasynchronous work when we are in true multithreaded work.\n\nWe take the tb_lock() when doing this to avoid racing with other threads\nwhich may be invalidating TB's at the same time. The alternative would\nbe to use proper atomic primitives to clear the tlb entries en-mass.\n\nThis patch doesn't do anything to protect other cputlb function being\ncalled in MTTCG mode making cross vCPU changes.\n\nSigned-off-by: KONRAD Frederic <fred.konrad@greensocs.com>\n[AJB: remove need for g_malloc on defer, make check fixes, tb_lock]\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>",1,0.9324354529380798,TCG,"cputlb.c, include/exec/exec-all.h, include/qom/cpu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,857e479552cd092edf0f7af09ac5073d76e11057,543a7a161f51636f0c6a98f00cccab43f3a23993,Daniel P. Berrange,2017-02-27,"ui: Use XkbGetMap and XkbGetNames instead of XkbGetKeyboard\n\nXkbGetKeyboard does not work in XWayland and even on non-Wayland\nX11 servers its use is discouraged:\n\n  https://bugs.freedesktop.org/show_bug.cgi?id=89240\n\nThis resolves a problem whereby QEMU prints\n\n  ""could not lookup keycode name""\n\non startup when running under XWayland. Keymap handling is\nhowever still broken after this commit, since Xwayland is\nreporting a keymap we can't handle\n\n  ""unknown keycodes `(unnamed)', please report to qemu-devel@nongnu.org""\n\nNB, native Wayland support (which is the default under GTK3) is\nnot affected - only XWayland (which can be requested with GDK_BACKEND\non GTK3, and is the only option for GTK2).\n\nSigned-off-by: Daniel P. Berrange <berrange@redhat.com>\nMessage-id: 20170227132343.30824-1-berrange@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.99971204996109,X11,"ui/gtk.c, ui/sdl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6b591ad613010f136dec4657f3c8ed6b051802c8,8ea1d056320dd5bbbd480c45e6cfb8e3689bcc7e,Thomas Huth,2017-02-10,"tests/prom-env: Enable the test for the sun4u machine, too\n\nThe 32-bit TCG bug has been fixed a while ago, so we can enable\nthis test for sparc64 now, too. Unfortunately, OpenBIOS does not\nwork with the sun4v machine anymore (it needs to catch up with the\nimproved emulation), so we can only enable this test for the sun4u\nmachine right now.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>",1,0.995583713054657,TCG,"tests/Makefile.include, tests/prom-env-test.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c98c9eba888c9ae450d41d92b1e6abbb66832e4c,ccc11b027923d738e5196ef355c48aac866802a9,Kurban Mallachiev,2017-02-28,"ARM i.MX timers: fix reset handling\n\nThe i.MX timer device can be reset by writing to the SWR bit\nof the CR register. This has to behave differently from hard\n(power-on) reset because it does not reset all of the bits\nin the CR register.\n\nWe were incorrectly implementing soft reset and hard reset\nthe same way, and in addition had a logic error which meant\nthat we were clearing the bits that soft-reset is supposed\nto preserve and not touching the bits that soft-reset clears.\nThis was not correct behaviour for either kind of reset.\n\nSeparate out the soft reset and hard reset code paths, and\ncorrect the handling of reset of the CR register so that it\nis correct in both cases.\n\nSigned-off-by: Kurban Mallachiev <mallachiev@ispras.ru>\n[PMM: rephrased commit message, spacing on operators;\n use bool rather than int for is_soft_reset]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996993541717528,ARM,hw/timer/imx_gpt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e13886e3a790b52f0b2e93cb5e84fdc2ada5471a,aa488fe3bb5460c6675800ccd80f6dccbbd70159,Peter Maydell,2017-02-28,"armv7m: Raise correct kind of UsageFault for attempts to execute ARM code\n\nM profile doesn't implement ARM, and the architecturally required\nbehaviour for attempts to execute with the Thumb bit clear is to\ngenerate a UsageFault with the CFSR INVSTATE bit set.  We were\nincorrectly implementing this as generating an UNDEFINSTR UsageFault;\nfix this.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>",1,0.9990548491477966,ARM,"linux-user/main.c, target/arm/cpu.h, target/arm/helper.c, target/arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f3a6339a5bbc160d327299c67bb68c6d07fa4a61,1e0228fd20aa46ac1f02cffee946cdd4ffaf8b96,Krzysztof Kozlowski,2017-02-28,"hw/arm/exynos: Fix proper mapping of CPUs by providing real cluster ID\n\nThe Exynos4210 has cluster ID 0x9 in its MPIDR register (raw value\n0x8000090x).  If this cluster ID is not provided, then Linux kernel\ncannot map DeviceTree nodes to MPIDR values resulting in kernel\nwarning and lack of any secondary CPUs:\n\n    DT missing boot CPU MPIDR[23:0], fall back to default cpu_logical_map\n    ...\n    smp: Bringing up secondary CPUs ...\n    smp: Brought up 1 node, 1 CPU\n    SMP: Total of 1 processors activated (24.00 BogoMIPS).\n\nProvide a cluster ID so Linux will see proper MPIDR and will try to\nbring the secondary CPU online.\n\nSigned-off-by: Krzysztof Kozlowski <krzk@kernel.org>\nMessage-id: 20170226200142.31169-2-krzk@kernel.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9993194341659546,MIPS,hw/arm/exynos4210.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1ad9f0a464fe78d30ee60b3629f7a825cf2fab13,6244bb7e5811ff689688ab7ee8e8a7ced1c85010,David Gibson,2017-02-27,"target/ppc: Fix KVM-HV HPTE accessors\n\nWhen a 'pseries' guest is running with KVM-HV, the guest's hashed page\ntable (HPT) is stored within the host kernel, so it is not directly\naccessible to qemu.  Most of the time, qemu doesn't need to access it:\nwe're using the hardware MMU, and KVM itself implements the guest\nhypercalls for manipulating the HPT.\n\nHowever, qemu does need access to the in-KVM HPT to implement\nget_phys_page_debug() for the benefit of the gdbstub, and maybe for\nother debug operations.\n\nTo allow this, 7c43bca ""target-ppc: Fix page table lookup with kvm\nenabled"" added kvmppc_hash64_read_pteg() to target/ppc/kvm.c to read\nin a batch of HPTEs from the KVM table.  Unfortunately, there are a\ncouple of problems with this:\n\nFirst, the name of the function implies it always reads a whole PTEG\nfrom the HPT, but in fact in some cases it's used to grab individual\nHPTEs (which ends up pulling 8 HPTEs, not aligned to a PTEG from the\nkernel).\n\nSecond, and more importantly, the code to read the HPTEs from KVM is\nsimply wrong, in general.  The data from the fd that KVM provides is\ndesigned mostly for compact migration rather than this sort of one-off\naccess, and so needs some decoding for this purpose.  The current code\nwill work in some cases, but if there are invalid HPTEs then it will\nnot get sane results.\n\nThis patch rewrite the HPTE reading function to have a simpler\ninterface (just read n HPTEs into a caller provided buffer), and to\ncorrectly decode the stream from the kernel.\n\nFor consistency we also clean up the similar function for altering\nHPTEs within KVM (introduced in c138593 ""target-ppc: Update\nppc_hash64_store_hpte to support updating in-kernel htab"").\n\nCc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.99968421459198,KVM,"target/ppc/cpu.h, target/ppc/kvm.c, target/ppc/kvm_ppc.h, target/ppc/mmu-hash64.c, target/ppc/mmu-hash64.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,80e1eea37a25a7696137e680285e36d0bfdc9f34,c4523aae0664aecaa366d45e3d0f3d810ca33062,Marc-Andr Lureau,2017-02-07,tests: fix virtio-blk-test leaks\n\nUse qvirtio_pci_device_find_slot() to avoid leaking the non-hp\ndevice. Add assert() to avoid further leaks in the future.\n\nUse qvirtio_pci_device_free() to correctly free QVirtioPCIDevice.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>,1,0.9996341466903688,PCI,"tests/libqos/virtio-pci.c, tests/virtio-blk-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,077dd74239a99f6c1e77c5c1aa24cfc7f58cd20c,5cb206b58d1ad6bd2ca1b2276af0b262c617e5fb,Marcel Apfelbaum,2017-02-28,"hw/pxb-pcie: fix PCI Express hotplug support\n\nAdd the missing osc method for pxb-pcie devices as APCI spec recommends,\nsee 6.2.9.1 OSC Implementation Example for PCI Host Bridge Devices, ACPI 3.0a:\n\n    It is recommended that a machine with multiple host bridge devices\n    should report the same capabilities for all host bridges, and also\n    negotiate control of the features described in the Control Field in\n    the same way for all host bridges.\n\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9993791580200196,"ACPI, PCI","dtc, hw/i386/acpi-build.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf0f7cf903073f9dd9979dd33d52618b384ac2cb,c5c6679d37547a2a5125e257529fcd3fd095b88f,Paolo Bonzini,2017-02-08,"KVM: use KVM_CAP_IMMEDIATE_EXIT\n\nThe purpose of the KVM_SET_SIGNAL_MASK API is to let userspace ""kick""\na VCPU out of KVM_RUN through a POSIX signal.  A signal is attached\nto a dummy signal handler; by blocking the signal outside KVM_RUN and\nunblocking it inside, this possible race is closed:\n\n          VCPU thread                     service thread\n   --------------------------------------------------------------\n        check flag\n                                          set flag\n                                          raise signal\n        (signal handler does nothing)\n        KVM_RUN\n\nHowever, one issue with KVM_SET_SIGNAL_MASK is that it has to take\ntsk->sighand->siglock on every KVM_RUN.  This lock is often on a\nremote NUMA node, because it is on the node of a thread's creator.\nTaking this lock can be very expensive if there are many userspace\nexits (as is the case for SMP Windows VMs without Hyper-V reference\ntime counter).\n\nKVM_CAP_IMMEDIATE_EXIT provides an alternative, where the flag is\nplaced directly in kvm_run so that KVM can see it:\n\n          VCPU thread                     service thread\n   --------------------------------------------------------------\n                                          raise signal\n        signal handler\n          set run->immediate_exit\n        KVM_RUN\n          check run->immediate_exit\n\nThe previous patches changed QEMU so that the only blocked signal is\nSIG_IPI, so we can now stop using KVM_SET_SIGNAL_MASK and sigtimedwait\nif KVM_CAP_IMMEDIATE_EXIT is available.\n\nOn a 14-VCPU guest, an ""inl"" operation goes down from 30k to 6k on\nan unlocked (no BQL) MemoryRegion, or from 30k to 15k if the BQL\nis involved.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996803998947144,KVM,kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c99a29e702528698c0ce2590f06ca7ff239f7c39,11953be792998c43bf2cad4ad3deaeaeaf89dbb4,Yongji Xie,2017-02-27,"memory: Introduce DEVICE_HOST_ENDIAN for ram device\n\nAt the moment ram device's memory regions are DEVICE_NATIVE_ENDIAN. It's\nincorrect. This memory region is backed by a MMIO area in host, so the\nuint64_t data that MemoryRegionOps read from/write to this area should be\nhost-endian rather than target-endian. Hence, current code does not work\nwhen target and host endianness are different which is the most common case\non PPC64. To fix it, this introduces DEVICE_HOST_ENDIAN for the ram device.\n\nThis has been tested on PPC64 BE/LE host/guest in all possible combinations\nincluding TCG.\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Yongji Xie <xyjxie@linux.vnet.ibm.com>\nMessage-Id: <1488171164-28319-1-git-send-email-xyjxie@linux.vnet.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996575117111206,"PPC, PPC64, TCG","include/exec/cpu-common.h, memory.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dbb5fb8d3519130559b10fa4e1395e4486c633f8,ab6b1105a2259c7072905887f71caa850ce63190,Gerd Hoffmann,2017-03-06,"qxl: clear guest_cursor on QXL_CURSOR_HIDE\n\nMake sure we don't leave guest_cursor pointing into nowhere.  This might\nlead to (rare) live migration failures, due to target trying to restore\nthe cursor from the stale pointer.\n\nBugzilla: https://bugzilla.redhat.com/show_bug.cgi?id=1421788\nReported-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-id: 1488789111-27340-1-git-send-email-kraxel@redhat.com",1,0.9984971284866332,QXL,hw/display/qxl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d8b2239bcd8872a5c5f7534d1658fc2365caab2d,47e20887970c3f267a4be9afacb72dbd51e6655f,Alex Benne,2017-03-02,translate-all: exit cpu_restore_state early if translating\n\nThe translation code uses cpu_ld*_code which can trigger a tlb_fill\nwhich if it fails will erroneously attempts a fault resolution. This\nnever works during translation as the TB being generated hasn't been\nadded yet. The target should have checked retaddr before calling\ncpu_restore_state but for those that have yet to be fixed we do it\nhere to avoid a recursive tb_lock() under MTTCG's new locking regime.\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>,1,0.9996368885040284,TCG,translate-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c70b11d160c6bca8e994d40639fcb41558c9fa0a,79ca7a1b898eb97c4192f3c78027a0f20485e7b4,Eduardo Habkost,2017-03-09,"kvm: Print MSR information if KVM_{GET,SET}_MSRS failed\n\nWhen a KVM_{GET,SET}_MSRS ioctl() fails, it is difficult to find\nout which MSR caused the problem. Print an error message for\ndebugging, before we trigger the (ret == cpu->kvm_msr_buf->nmsrs)\nassert.\n\nSuggested-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nMessage-Id: <20170309194634.28457-1-ehabkost@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996944665908812,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ca2edcd35cd1a8589dfa0533c19ff232fec7b4b5,c70b11d160c6bca8e994d40639fcb41558c9fa0a,Eduardo Habkost,2017-03-09,"kvmclock: Don't crash QEMU if KVM is disabled\n\nMost machines don't allow sysbus devices like ""kvmclock"" to be\ncreated from the command-line, but some of them do (the ones with\nhas_dynamic_sysbus=true). In those cases, it's possible to\nmanually create a kvmclock device without KVM being enabled,\nmaking QEMU crash:\n\n  $ qemu-system-x86_64 -machine q35,accel=tcg -device kvmclock\n  Segmentation fault (core dumped)\n\nThis changes kvmclock's realize method to return an error if KVM\nis disabled, to ensure it won't crash QEMU.\n\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nMessage-Id: <20170309185046.17555-1-ehabkost@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.998195230960846,KVM,hw/i386/kvm/clock.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6b8f0187a4d7c263e356302f8d308655372a4b5b,e330c118f2a5a5365409b123cd0dd2c7d575bf05,Paolo Bonzini,2017-03-02,"icount: process QEMU_CLOCK_VIRTUAL timers in vCPU thread\n\nicount has become much slower after tcg_cpu_exec has stopped\nusing the BQL.  There is also a latent bug that is masked by\nthe slowness.\n\nThe slowness happens because every occurrence of a QEMU_CLOCK_VIRTUAL\ntimer now has to wake up the I/O thread and wait for it.  The rendez-vous\nis mediated by the BQL QemuMutex:\n\n- handle_icount_deadline wakes up the I/O thread with BQL taken\n- the I/O thread wakes up and waits on the BQL\n- the VCPU thread releases the BQL a little later\n- the I/O thread raises an interrupt, which calls qemu_cpu_kick\n- the VCPU thread notices the interrupt, takes the BQL to\n  process it and waits on it\n\nAll this back and forth is extremely expensive, causing a 6 to 8-fold\nslowdown when icount is turned on.\n\nOne may think that the issue is that the VCPU thread is too dependent\non the BQL, but then the latent bug comes in.  I first tried removing\nthe BQL completely from the x86 cpu_exec, only to see everything break.\nThe only way to fix it (and make everything slow again) was to add a dummy\nBQL lock/unlock pair.\n\nThis is because in -icount mode you really have to process the events\nbefore the CPU restarts executing the next instruction.  Therefore, this\nseries moves the processing of QEMU_CLOCK_VIRTUAL timers straight in\nthe vCPU thread when running in icount mode.\n\nThe required changes include:\n\n- make the timer notification callback wake up TCG's single vCPU thread\n  when run from another thread.  By using async_run_on_cpu, the callback\n  can override all_cpu_threads_idle() when the CPU is halted.\n\n- move handle_icount_deadline after qemu_tcg_wait_io_event, so that\n  the timer notification callback is invoked after the dummy work item\n  wakes up the vCPU thread\n\n- make handle_icount_deadline run the timers instead of just waking the\n  I/O thread.\n\n- stop processing the timers in the main loop\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.99956613779068,TCG,"cpus.c, include/qemu/timer.h, util/qemu-timer.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c2cabb34220d63f93e4a0162a26535cbd1f30243,f03d8ea330d69f3a98093dfa2633635dff355f90,Marcel Apfelbaum,2017-02-20,"hw/virtio: fix error enabling flags in Device Control register\n\nWhen the virtio devices are PCI Express, make error-enabling flags\nwritable to respect the PCIe spec.\n\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996488094329834,PCI,"dtc, hw/virtio/virtio-pci.c, hw/virtio/virtio-pci.h, include/hw/compat.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d584f1b9ca7452ed8d6cd80f7fccd79d667ae49b,c2cabb34220d63f93e4a0162a26535cbd1f30243,Marcel Apfelbaum,2017-02-20,hw/virtio: fix Link Control Register for PCI Express virtio devices\n\nMake several Link Control Register flags writable to conform\nwith the PCI Express spec.\n\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.999643325805664,PCI,"hw/pci/pcie.c, hw/virtio/virtio-pci.c, hw/virtio/virtio-pci.h, include/hw/compat.h, include/hw/pci/pcie.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,27ce0f3afc9dd25d21b43bbce505157afd93d111,d584f1b9ca7452ed8d6cd80f7fccd79d667ae49b,Marcel Apfelbaum,2017-02-20,hw/virtio: fix Power Management Control Register for PCI Express virtio devices\n\nMake Power Management State flag writable to conform\nwith the PCI Express spec.\n\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9996148347854614,PCI,"hw/virtio/virtio-pci.c, hw/virtio/virtio-pci.h, include/hw/compat.h, include/hw/pci/pcie.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e1e686c1fad6f4c4f7c98565c130526f64e7f02c,1cf6aa74b32f18f9b5faf525a93b0c1f609acb1f,QingFeng Hao,2017-03-10,"vmstate: fix failed iotests case 68 and 91\n\nThis problem affects s390x only if we are running without KVM.\nBasically, S390CPU.irqstate is unused if we do not use KVM,\nand thus no buffer is allocated.\nThis causes size=0, first_elem=NULL and n_elems=1 in\nvmstate_load_state and vmstate_save_state. And the assert fails.\nWith this fix we can go back to the old behavior and support\nVMS_VBUFFER with size 0 and nullptr.\n\nSigned-off-by: QingFeng Hao <haoqf@linux.vnet.ibm.com>\nSigned-off-by: Halil Pasic <pasic@linux.vnet.ibm.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: Juan Quintela <quintela@redhat.com>",1,0.999739110469818,KVM,migration/vmstate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b3d3a426da9b067366bc132d53a6fa6b72675b55,732a802076635e9a5d56a9e37332e5c1836d43f2,Vincent Palatin,2017-03-20,"hax: fix breakage in locking\n\nuse qemu_mutex_lock_iothread consistently in qemu_hax_cpu_thread_fn() as\ndone in other _thread_fn functions, instead of grabbing directly the\nBQL. This way we ensure that iothread_locked is properly set.\n\nOn v2.9.0-rc0, QEMU was dying in an assertion in the mutex code when\nrunning with '--enable-hax' either on OSX or Windows. This bug was triggered\nsince the code modification for multithreading added new usages of\nqemu_mutex_iothread_locked.\nThis fixes the breakage on both platforms, I can now run again a full\nChromium OS image with HAX kernel acceleration.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\nMessage-Id: <20170320101549.150076-1-vpalatin@chromium.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997020363807678,HAX,cpus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c53598ed18e40a9609573b21f2a361221ca0f806,aa262928595d431bfee7914cb7d9d79197f887a2,Alexey Kardashevskiy,2017-03-27,"pci: Add missing drop of bus master AS reference\n\nThe recent introduction of a bus master container added\nmemory_region_add_subregion() into the PCI device registering path but\nmissed memory_region_del_subregion() in the unregistering path leaving\na reference to the root memory region of the new container.\n\nThis adds missing memory_region_del_subregion().\n\nFixes: 3716d5902d743 (""pci: introduce a bus master container"")\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9987937211990356,PCI,hw/pci/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0d876080a394993a8dea494ebf2d806dc0983107,375f74f473cfcb0c73a64088a6a5880829c155da,Michael S. Tsirkin,2017-03-30,"tests/acpi: don't pack a structure\n\nThere's no reason to pack structures where we don't care about size or\npadding, this applies to AcpiStdTable in tests/acpi-utils.h.\n\nOTOH bios-tables-test happens to be passing the address of a field in\nthis  struct to a function that expects a pointer to normally aligned\ndata which results in a SIGBUS on architectures like SPARC that have\nstrict alignment requirements.\n\nFixes: 9e8458c02 (""acpi unit-test: compare DSDT and SSDT tables against expected values"")\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Peter Maydell <peter.maydell@linaro.org>",1,0.99969482421875,SPARC,tests/acpi-utils.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e7d54416cf7a30928a455ddf86ca57d766e9a902,05a6f451eb0e3224a8e6d98089379f20ec06c787,Eric Auger,2017-03-28,"hw/intc/arm_gicv3_kvm: Check KVM_DEV_ARM_VGIC_GRP_CPU_SYSREGS in reset\n\nKVM_DEV_ARM_VGIC_GRP_CPU_SYSREGS needs to be checked before\nattempting to read ICC_CTLR_EL1; otherwise kernel versions not\nexposing this kvm device group will be incompatible with qemu 2.9.\n\nFixes: 07a5628  (""hw/intc/arm_gicv3_kvm: Reset GICv3 cpu interface registers"")\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReported-by: Prakash B <bjsprakash.linux@gmail.com>\nTested-by: Alexander Graf <agraf@suse.de>\nMessage-id: 1490721640-13052-1-git-send-email-eric.auger@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999671220779419,"ARM, KVM",hw/intc/arm_gicv3_kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8695350357abc38a4f915ba6cb62e796bbbaf111,8037fa55ace19e1f328d03e2cefa78d5f3d81310,Nikunj A Dadhania,2017-04-10,"cpus: fix wrong define name\n\nWhile the configure script generates TARGET_SUPPORTS_MTTCG define, one\nof the define is cpus.c is checking wrong name: TARGET_SUPPORT_MTTCG\n\nSigned-off-by: Nikunj A Dadhania <nikunj@linux.vnet.ibm.com>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>",1,0.9997007846832277,TCG,cpus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,32b81e620ea562d56ab2733421b5da1082b237a2,885f27105669b75095912f9fbae57f9260f143fb,Peter Maydell,2017-04-20,"target/arm: Add missing entries to excnames[] for log strings\n\nRecent changes have added new EXCP_ values to ARM but forgot\nto update the excnames[] array which is used to provide\nhuman-readable strings when printing information about the\nexception for debug logging. Add the missing entries, and\nadd a comment to the list of #defines to help avoid the mistake\nbeing repeated in future.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nMessage-id: 1491486340-25988-1-git-send-email-peter.maydell@linaro.org",1,0.9887465834617616,ARM,"target/arm/cpu.h, target/arm/internals.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3bb8a96f5348913ee130169504f3642f501b113e,064c379c99b835bdcc478d21a3849507ea07d53a,Peter Maydell,2017-04-20,"arm: Implement M profile exception return properly\n\nOn M profile, return from exceptions happen when code in Handler mode\nexecutes one of the following function call return instructions:\n * POP or LDM which loads the PC\n * LDR to PC\n * BX register\nand the new PC value is 0xFFxxxxxx.\n\nQEMU tries to implement this by not treating the instruction\nspecially but then catching the attempt to execute from the magic\naddress value.  This is not ideal, because:\n * there are guest visible differences from the architecturally\n   specified behaviour (for instance jumping to 0xFFxxxxxx via a\n   different instruction should not cause an exception return but it\n   will in the QEMU implementation)\n * we have to account for it in various places (like refusing to take\n   an interrupt if the PC is at a magic value, and making sure that\n   the MPU doesn't deny execution at the magic value addresses)\n\nDrop these hacks, and instead implement exception return the way the\narchitecture specifies -- by having the relevant instructions check\nfor the magic value and raise the 'do an exception return' QEMU\ninternal exception immediately.\n\nThe effect on the generated code is minor:\n\n bx lr, old code (and new code for Thread mode):\n  TCG:\n   mov_i32 tmp5,r14\n   movi_i32 tmp6,$0xfffffffffffffffe\n   and_i32 pc,tmp5,tmp6\n   movi_i32 tmp6,$0x1\n   and_i32 tmp5,tmp5,tmp6\n   st_i32 tmp5,env,$0x218\n   exit_tb $0x0\n   set_label $L0\n   exit_tb $0x7f2aabd61993\n  x86_64 generated code:\n   0x7f2aabe87019:  mov    %ebx,%ebp\n   0x7f2aabe8701b:  and    $0xfffffffffffffffe,%ebp\n   0x7f2aabe8701e:  mov    %ebp,0x3c(%r14)\n   0x7f2aabe87022:  and    $0x1,%ebx\n   0x7f2aabe87025:  mov    %ebx,0x218(%r14)\n   0x7f2aabe8702c:  xor    %eax,%eax\n   0x7f2aabe8702e:  jmpq   0x7f2aabe7c016\n\n bx lr, new code when in Handler mode:\n  TCG:\n   mov_i32 tmp5,r14\n   movi_i32 tmp6,$0xfffffffffffffffe\n   and_i32 pc,tmp5,tmp6\n   movi_i32 tmp6,$0x1\n   and_i32 tmp5,tmp5,tmp6\n   st_i32 tmp5,env,$0x218\n   movi_i32 tmp5,$0xffffffffff000000\n   brcond_i32 pc,tmp5,geu,$L1\n   exit_tb $0x0\n   set_label $L1\n   movi_i32 tmp5,$0x8\n   call exception_internal,$0x0,$0,env,tmp5\n  x86_64 generated code:\n   0x7fe8fa1264e3:  mov    %ebp,%ebx\n   0x7fe8fa1264e5:  and    $0xfffffffffffffffe,%ebx\n   0x7fe8fa1264e8:  mov    %ebx,0x3c(%r14)\n   0x7fe8fa1264ec:  and    $0x1,%ebp\n   0x7fe8fa1264ef:  mov    %ebp,0x218(%r14)\n   0x7fe8fa1264f6:  cmp    $0xff000000,%ebx\n   0x7fe8fa1264fc:  jae    0x7fe8fa126509\n   0x7fe8fa126502:  xor    %eax,%eax\n   0x7fe8fa126504:  jmpq   0x7fe8fa122016\n   0x7fe8fa126509:  mov    %r14,%rdi\n   0x7fe8fa12650c:  mov    $0x8,%esi\n   0x7fe8fa126511:  mov    $0x56095dbeccf5,%r10\n   0x7fe8fa12651b:  callq  *%r10\n\nwhich is a difference of one cmp/branch-not-taken. This will\nbe lost in the noise of having to exit generated code and\nlook up the next TB anyway.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 1491844419-12485-9-git-send-email-peter.maydell@linaro.org",1,0.9992483258247375,TCG,"target/arm/translate.c, target/arm/translate.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d28fca153bb27ff965b9eb26d73327fa4d2402c8,40fda982f2e887f7d5cc36b8a7e3b5a07a1e6704,Laurent Vivier,2017-04-14,"versatile: remove cannot_destroy_with_object_finalize_yet\n\ncannot_destroy_with_object_finalize_yet was added by 4c315c2\n(""qdev: Protect device-list-properties against broken devices"")\nbecause ""realview_pci"" and ""versatile_pci"" were hanging\nduring ""device-list-properties"" cleanup (an infinite loop in\nbus_unparent()).\n\nWe have this problem because the child is not removed from\nthe list of the PCI bus children because it has no defined parent:\nqdev_set_parent_bus() set the device parent_bus pointer to bus, and\nadds the device in the bus children list, but doesn't update the\ndevice parent pointer.\n\nTo fix the problem, move all the involved parts to the realize function.\n\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nMessage-Id: <20170414083717.13641-4-lvivier@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nAcked-by: Peter Maydell <peter.maydell@linaro.org>\n[Commit message tweaked]\nSigned-off-by: Markus Armbruster <armbru@redhat.com>",1,0.9989620447158812,PCI,hw/pci-host/versatile.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d8d98db5f07d0a472308c70c3becb56888df156d,c35fc6aa1840b26f06f9ac79509c7ed9280003ac,Dong Jia Shi,2017-02-22,"s390x/css: provide introspection for virtual subchannel and device busid\n\nExpose the busids of the virtual I/O subchannel and the virtual CCW\ndevice to ease debugging. This is needed because:\n1. subchannel id are assigned dynamically, and cannot be set from\n   outside.\n2. device busid could possibly be auto generated.\n\nAn example of using HMP to retrieve the property values of a\nvirtio-balloon-ccw device looks like:\n\n[root@localhost ~]# lscss -d 0.0.0004\nDevice   Subchan.  DevType CU Type Use  PIM PAM POM  CHPIDs\n----------------------------------------------------------------------\n0.0.0004 0.0.0003  0000/00 3832/05 yes  80  80  ff   00000000 00000000\n\n(qemu) info qtree\n... ...\n      dev: virtio-balloon-ccw, id ""balloon0""\n        devno = ""<unset>""\n        ioeventfd = true\n        max_revision = 2 (0x2)\n        dev_id = ""fe.0.0004""\n        subch_id = ""fe.0.0003""\n... ...\n\nAfter migration, if we have the same device that shows up on a\ndifferent subchannel, we must re-fill the subch_id of the ccw\ndevice with the new schid, or the subch_id will have an old wrong\nschid value. So this also re-fills the subch_id after migration.\n\nWhile we are at it, also neaten the related error handling a bit.\n\nSigned-off-by: Dong Jia Shi <bjsdjshi@linux.vnet.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9996992349624634,PAM,"hw/s390x/ccw-device.c, hw/s390x/ccw-device.h, hw/s390x/virtio-ccw.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,afef2e1d537dce002f15ab12d85e99baaa7b6651,efae27848da0cf5ea5c88f0172c482b8f37b8725,BALATON Zoltan,2017-04-21,"sm501: Fix device endianness\n\nWe only emulate the sysbus device in its default LE mode and PCI is LE\nas well so specify this for registers and framebuffer memory.\n\nNote that though the Linux kernel driver has code which claims to\nhandle both big and little endian, it is obviously bogus for 16 bit\nand cannot be trusted as a source of information on the framebuffer\npixel format. This is our best guess about device behaviour based on\nthe specs and testing with MorphOS that is known to work on real HW.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nTested-by: Aurelien Jarno <aurelien@aurel32.net>\nMessage-id: 8b9605a569f8bf54074e15903620b18cd9967c89.1492787889.git.balaton@eik.bme.hu\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996356964111328,PCI,"hw/display/sm501.c, hw/display/sm501_template.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b88290cd9ea474fea38c4733f365a3cd2519723e,cd60d85ef6a557acd519874827b52517e6fbc523,Anton Blanchard,2017-04-11,"target/ppc: Fix size of struct PPCElfPrstatus\n\ngdb refuses to parse QEMU memory dumps because struct PPCElfPrstatus\nis the wrong size. Fix it.\n\nSigned-off-by: Anton Blanchard <anton@samba.org>\nFixes: e62fbc54d459 (""target-ppc: dump-guest-memory support"")\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999710738658905,PPC,target/ppc/arch_dump.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9dd7823b70ccbc812b4a977345dd0a28be0c4b3e,95fa1af8540e0edad5e86590c67a726e6906b7d8,Farhan Ali,2016-04-18,"pc-bios/s390-ccw: provide entry selection on LOADPARM for SCSI disk\n\nFix SCSI bootmap interpreter to make use of any specified entry of the\nProgram Table using the leftmost numeric value from the LOADPARM, if specified.\n\nInitial patch from Eugene (jno) Dvurechenski.\n\nSigned-off-by: Eugene (jno) Dvurechenski <jno@linux.vnet.ibm.com>\nSigned-off-by: Farhan Ali <alifm@linux.vnet.ibm.com>\nReviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9993495345115662,"ARM, SCSI",pc-bios/s390-ccw/bootmap.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,99efaa2696caaf6182958e27d553449674894b27,c55144ec3262e8aeaf3e2e1e8fc48b07c993a654,Thomas Huth,2017-04-25,"hw/s390x/ipl: Fix crash with virtio-scsi-pci device\n\nqemu-system-s390x currently crashes when it is started with a\nvirtio-scsi-pci device, e.g.:\n\n qemu-system-s390x -nographic -enable-kvm -device virtio-scsi-pci \\n                   -drive file=/tmp/disk.dat,if=none,id=d1,format=raw \\n                   -device scsi-cd,drive=d1,bootindex=1\n\nThe problem is that the code in s390_gen_initial_iplb() currently assumes\nthat all SCSI devices are also CCW devices, which is not the case for\nvirtio-scsi-pci of course. Fix it by adding an appropriate check for\nTYPE_CCW_DEVICE here.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nMessage-Id: <1493126327-13162-1-git-send-email-thuth@redhat.com>\nReviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>",1,0.9997071623802184,SCSI,hw/s390x/ipl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,05c6638b203fd7d8bbfa88ac6e6198e32ed0506f,fa18f36a461984eae50ab957e47ec78dae3c14fc,Marc-Andr Lureau,2017-04-25,"input: don't queue delay if paused\n\nqemu_input_event_send() discards key event when the guest is paused,\nbut not the delay.\n\nThe delay ends up in the input queue, and qemu_input_event_send_key()\nwill further fill the queue with upcoming events.\n\nVNC uses qemu_input_event_send_key_delay(), not SPICE, which results\nin a different input behaviour on pause: VNC will queue the events\n(except the first that is discarded), SPICE will discard all events.\n\nDon't queue delay if paused, and provide same behaviour on SPICE and\nVNC clients on resume (and potentially avoid over-allocating the\nbuffer queue)\n\nFixes:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1444326\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-id: 20170425130520.31819-1-marcandre.lureau@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999498724937439,SPICE,ui/input.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8a3c3d996ef7df6982d6f51bb79893036ab08c7f,6e9389563e56607f72562bdb72db452fcd7e7f74,Yu Ning,2017-04-28,"hax: Fix memory mapping de-duplication logic\n\nhax_update_mapping() avoids unnecessary and potentially expensive\ncalls to HAX_VM_IOCTL_SET_RAM by computing the net result (i.e.\neffective mapping changes) of each MemoryRegion transaction, with\nthe help of a linked list of HAXMapping objects.\n\nHowever, when processing a new mapping that overlaps with an\nexisting mapping in the list, it fails to handle the case where the\nstart address of the new mapping is above that of the existing\nmapping in the guest physical address space. This happens when QEMU\nis launched with ""-machine q35 -enable-hax"", which involves the\nfollowing MemoryRegion transaction for digging the VGA hole:\n\n region_del: 0x00000000->0x08000000 VA 05fa0000 ('pc.ram')\n region_add: 0x00000000->0x000a0000 VA 05fa0000 ('pc.ram')\n region_add: 0x000a0000->0x000c0000 VA 00000000 ('vga-lowmem')\n region_add: 0x000c0000->0x08000000 VA 06060000 ('pc.ram')\n\nwhere the third MemoryRegion is MMIO and is ignored. The current\nde-duplication logic handles the last MemoryRegion incorrectly and\nproduces the following result:\n\n hax_mapping_dump_list updates:\n         + 0x000c0000->0x08000000 VA 0x06060000\n         - 0x07fe0000->0x08000000 VA 0x0df80000\n\nwhich is why VGA emulation does not work for Q35.\n\nWith this patch, one can see VGA output as Q35 boots up. Note that\nQ35 support also requires a change to HAXM kernel module, which is\nnot available in the current HAXM release (6.1.2).\n\n+ Add a warning if the input MemoryRegion is a ROM device, which is\n  not supported by HAXM kernel module at this time.\n\nSigned-off-by: Yu Ning <yu.ning@linux.intel.com>\nMessage-Id: <20170428072723.7036-1-yu.ning@linux.intel.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996848106384276,"HAX, Q35, VGA",target/i386/hax-mem.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,60cd11024f41cc73175e651a2dfe09a3cade56bb,cb51ac2ffe3649eb8f5c65dccc2012f0ba2c6b12,Zhiyong Yang,2017-05-05,"hw/virtio: fix vhost user fails to startup when MQ\n\n Qemu2.7~2.9 and vhost user for dpdk 17.02 release work together\nto cause failures of new connection when negotiating to set MQ.\n(one queue pair works well).\n   Because there exist some bugs in qemu code when introducing\nVHOST_USER_PROTOCOL_F_REPLY_ACK to qemu. When vhost_user_set_mem_table\nis invoked to deal with the vhost message VHOST_USER_SET_MEM_TABLE\nfor the second time, qemu indeed doesn't send the messge (The message\nneeds to be sent only once)but still will be waiting for dpdk's reply\nack, then, qemu is always freezing, while DPDK is always waiting for\nnext vhost message from qemu.\n  The patch aims to fix the bug, MQ can work well.\n  The same bug is found in function vhost_user_net_set_mtu, it is fixed\nat the same time.\n  DPDK related patch is as following:\n  http://www.dpdk.org/dev/patchwork/patch/23955/\n\nSigned-off-by: Zhiyong Yang <zhiyong.yang@intel.com>\nCc: qemu-stable@nongnu.org\nFixes: ca525ce5618b (""vhost-user: Introduce a new protocol feature REPLY_ACK."")\nReviewed-by: Maxime Coquelin <maxime.coquelin@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Jens Freimann <jfreiman@redhat.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>",1,0.9997413754463196,VHOST_USER,hw/virtio/vhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,153eba4726dfa1bdfc31d1fe973b2a61b9035492,ef0e8fc768a561dd13a86420b3268f6f3d5d0621,Bruce Rogers,2017-04-27,"ACPI: don't call acpi_pcihp_device_plug_cb on xen\n\nCommit f0c9d64a exposed the issue that with a xenfv machine using\npci passthrough, acpi pci hotplug code was being executed by mistake.\nGuard calls to acpi_pcihp_device_plug_cb (and corresponding\nacpi_pcihp_device_unplug_cb) with a check for xen_enabled(). Without\nthis check I am seeing an error that the bus doesn't have the\nacpi-pcihp-bsel property set.\n\nSigned-off-by: Bruce Rogers <brogers@suse.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999726951122284,ACPI,hw/acpi/piix4.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a3e53273ad52551b61c0cdb8f48a19eb22c05831,4771df23ed6a2b13927030d5933147d85785f5d5,Bharata B Rao,2017-04-27,cpus: Fix CPU unplug for MTTCG\n\nEnsure that the unplugged CPU thread is destroyed and the waiting\nthread is notified about it. This is needed for CPU unplug to work\ncorrectly in MTTCG mode.\n\nSigned-off-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\nSigned-off-by: Nikunj A Dadhania <nikunj@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9996551275253296,TCG,cpus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c88305027d5a8dbeaacf04ad2ceba79a5c5fb91e,c6fd28fd573d69938e4da6ab3348b0695cad4f42,Suraj Jitindar Singh,2017-05-02,target/ppc: Change tlbie invalid fields for POWER9 support\n\nThe tlbie[l] instructions are used to invalidate TLB entries used to cache\naddress translations.\n\nIn ISAv3.00 (POWER9) more fields were added to the tblie[l] instructions\nwhich were previously invalid. We don't care about any of these new fields\nsince we just invalidate the whole world anyway but we need to not\ncause an illegal instruction exception when the instructions are called.\nWe also don't want to allow an older processor to have these fields set\nsince that would be invalid.\n\nAdd a new GEN_HANDLER for the ISAv3 instructions with the correct invalid\nmask. These will only be generated to a POWER9 processor for now based on\nthe instruction flag. Also remove the PPC_MEM_TLBIE instruction flag from\nthe POWER9 processor definition to ensure the old tlbie isn't generated.\n\nSigned-off-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9975785613059998,PPC,"target/ppc/translate.c, target/ppc/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e1913dbb58e7a4ab0c2dd088cc3b397b8daed8c5,9f728c7940dfade366fed01d8f43f1e5283f95d8,Gerd Hoffmann,2017-05-05,egl-helpers: fix display init for x11\n\nWhen running on gtk we need X11 platform not mesa platform.\nCreate separate functions for mesa and x11 so we can keep\nthe egl #ifdef mess local to egl-helpers.c\n\nFixes: 0ea1523fb6703aa0dcd65e66b59e96fec028e60a\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nMessage-id: 20170505104101.30589-4-kraxel@redhat.com,1,0.9997144341468812,X11,"include/ui/egl-helpers.h, ui/egl-helpers.c, ui/gtk-egl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aa612b364ecbe1dc034efcabb04526f24e56c145,99f9aeba5d461f79c9ce73f968ba0feb77fc1f5a,Thomas Huth,2017-05-04,hw/usb/dev-serial: Do not try to set vendorid or productid properties\n\nWhen starting QEMU with the legacy USB serial device like this:\n\n qemu-system-x86_64 -usbdevice serial:vendorid=0x1234:stdio\n\nit currently aborts since the vendorid property does not exist\nanymore (it has been removed by commit f29783f72ea77dfbd7ea0c9):\n\n Unexpected error in object_property_find() at qemu/qom/object.c:1008:\n qemu-system-x86_64: -usbdevice serial:vendorid=0x1234:stdio: Property\n                     '.vendorid' not found\n Aborted (core dumped)\n\nFix this crash by issuing a more friendly error message instead\n(and simplify the code also a little bit this way).\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-id: 1493883704-27604-1-git-send-email-thuth@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.999584138393402,USB,hw/usb/dev-serial.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e4f4fb1eca795e36f363b4647724221e774523c1,e90f2a8c3e0e677eeea46a9b401c3f98425ffa37,Eduardo Habkost,2017-05-03,"sysbus: Set user_creatable=false by default on TYPE_SYS_BUS_DEVICE\n\ncommit 33cd52b5d7b9adfd009e95f07e6c64dd88ae2a31 unset\ncannot_instantiate_with_device_add_yet in TYPE_SYSBUS, making all\nsysbus devices appear on ""-device help"" and lack the ""no-user""\nflag in ""info qdm"".\n\nTo fix this, we can set user_creatable=false by default on\nTYPE_SYS_BUS_DEVICE, but this requires setting\nuser_creatable=true explicitly on the sysbus devices that\nactually work with -device.\n\nFortunately today we have just a few has_dynamic_sysbus=1\nmachines: virt, pc-q35-*, ppce500, and spapr.\n\nvirt, ppce500, and spapr have extra checks to ensure just a few\ndevice types can be instantiated:\n\n* virt supports only TYPE_VFIO_CALXEDA_XGMAC, TYPE_VFIO_AMD_XGBE.\n* ppce500 supports only TYPE_ETSEC_COMMON.\n* spapr supports only TYPE_SPAPR_PCI_HOST_BRIDGE.\n\nThis patch sets user_creatable=true explicitly on those 4 device\nclasses.\n\nNow, the more complex cases:\n\npc-q35-*: q35 has no sysbus device whitelist yet (which is a\nseparate bug). We are in the process of fixing it and building a\nsysbus whitelist on q35, but in the meantime we can fix the\n""-device help"" and ""info qdm"" bugs mentioned above. Also, despite\nnot being strictly necessary for fixing the q35 bug, reducing the\nlist of user_creatable=true devices will help us be more\nconfident when building the q35 whitelist.\n\nxen: We also have a hack at xen_set_dynamic_sysbus(), that sets\nhas_dynamic_sysbus=true at runtime when using the Xen\naccelerator. This hack is only used to allow xen-backend devices\nto be dynamically plugged/unplugged.\n\nThis means today we can use -device with the following 22 device\ntypes, that are the ones compiled into the qemu-system-x86_64 and\nqemu-system-i386 binaries:\n\n* allwinner-ahci\n* amd-iommu\n* cfi.pflash01\n* esp\n* fw_cfg_io\n* fw_cfg_mem\n* generic-sdhci\n* hpet\n* intel-iommu\n* ioapic\n* isabus-bridge\n* kvmclock\n* kvm-ioapic\n* kvmvapic\n* SUNW,fdtwo\n* sysbus-ahci\n* sysbus-fdc\n* sysbus-ohci\n* unimplemented-device\n* virtio-mmio\n* xen-backend\n* xen-sysdev\n\nThis patch adds user_creatable=true explicitly to those devices,\ntemporarily, just to keep 100% compatibility with existing\nbehavior of q35. Subsequent patches will remove\nuser_creatable=true from the devices that are really not meant to\nuser-creatable on any machine, and remove the FIXME comment from\nthe ones that are really supposed to be user-creatable. This is\nbeing done in separate patches because we still don't have an\nobvious list of devices that will be whitelisted by q35, and I\nwould like to get each device reviewed individually.\n\nCc: Alexander Graf <agraf@suse.de>\nCc: Alex Williamson <alex.williamson@redhat.com>\nCc: Alistair Francis <alistair.francis@xilinx.com>\nCc: Beniamino Galvani <b.galvani@gmail.com>\nCc: Christian Borntraeger <borntraeger@de.ibm.com>\nCc: Cornelia Huck <cornelia.huck@de.ibm.com>\nCc: David Gibson <david@gibson.dropbear.id.au>\nCc: ""Edgar E. Iglesias"" <edgar.iglesias@gmail.com>\nCc: Eduardo Habkost <ehabkost@redhat.com>\nCc: Frank Blaschka <frank.blaschka@de.ibm.com>\nCc: Gabriel L. Somlo <somlo@cmu.edu>\nCc: Gerd Hoffmann <kraxel@redhat.com>\nCc: Igor Mammedov <imammedo@redhat.com>\nCc: Jason Wang <jasowang@redhat.com>\nCc: John Snow <jsnow@redhat.com>\nCc: Juergen Gross <jgross@suse.com>\nCc: Kevin Wolf <kwolf@redhat.com>\nCc: Laszlo Ersek <lersek@redhat.com>\nCc: Marcel Apfelbaum <marcel@redhat.com>\nCc: Markus Armbruster <armbru@redhat.com>\nCc: Max Reitz <mreitz@redhat.com>\nCc: ""Michael S. Tsirkin"" <mst@redhat.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Peter Maydell <peter.maydell@linaro.org>\nCc: Pierre Morel <pmorel@linux.vnet.ibm.com>\nCc: Prasad J Pandit <pjp@fedoraproject.org>\nCc: qemu-arm@nongnu.org\nCc: qemu-block@nongnu.org\nCc: qemu-ppc@nongnu.org\nCc: Richard Henderson <rth@twiddle.net>\nCc: Rob Herring <robh@kernel.org>\nCc: Shannon Zhao <zhaoshenglong@huawei.com>\nCc: sstabellini@kernel.org\nCc: Thomas Huth <thuth@redhat.com>\nCc: Yi Min Zhao <zyimin@linux.vnet.ibm.com>\nAcked-by: John Snow <jsnow@redhat.com>\nAcked-by: Juergen Gross <jgross@suse.com>\nAcked-by: Marcel Apfelbaum <marcel@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nMessage-Id: <20170503203604.31462-3-ehabkost@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\n[ehabkost: Small changes at sysbus_device_class_init() comments]\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9997007846832277,"ETSEC, PCI, VFIO, VFIO_AMD_XGBE, XGMAC","hw/block/fdc.c, hw/block/pflash_cfi01.c, hw/core/sysbus.c, hw/i386/amd_iommu.c, hw/i386/intel_iommu.c, hw/i386/kvm/clock.c, hw/i386/kvm/ioapic.c, hw/i386/kvmvapic.c, hw/ide/ahci.c, hw/intc/ioapic.c, hw/isa/isa-bus.c, hw/misc/unimp.c, hw/net/fsl_etsec/etsec.c, hw/nvram/fw_cfg.c, hw/ppc/spapr_pci.c, hw/scsi/esp.c, hw/sd/sdhci.c, hw/timer/hpet.c, hw/usb/hcd-ohci.c, hw/vfio/amd-xgbe.c, hw/vfio/calxeda-xgmac.c, hw/virtio/virtio-mmio.c, hw/xen/xen_backend.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a8617d8c2fa888a37ecb7db6635fb44964505277,5162264e438cf5efcb101bc8030e5f76feb58635,Milo Stojanovi,2017-05-15,linux-user: fix ssetmask() system call\n\nFix the ssetmask() system call by removing the invocation of sigorset().\n\nThe ssetmask() system call should replace the old signal mask\nwith the new and return the old mask. It shouldn't combine\nthe old and the new mask with sigorset(). Fetching the old\nmask for sigorset() is also no longer needed.\n\nThe problem was detected after running LTP test group syscalls\nfor the MIPS EL 32 R2 architecture where the test ssetmask01 failed\nwith exit code 1. The test passes now that the ssetmask() system call\nis fixed.\n\nSigned-off-by: Milo Stojanovi <Milos.Stojanovic@rt-rk.com>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>,1,0.9995625615119934,MIPS,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2da077a881894c0b18032153c709d95ac89492c6,0bbb2f3df1ffd9ccf7135a69a450c6929bc0b915,Gerd Hoffmann,2017-05-17,xhci: add CONFIG_USB_XHCI_NEC option\n\nFixes: https://bugzilla.redhat.com/show_bug.cgi?id=1451189\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nMessage-id: 20170517103313.8459-2-kraxel@redhat.com,1,0.9257741570472716,"USB, USB_XHCI, USB_XHCI_NEC","default-configs/pci.mak, hw/usb/Makefile.objs",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,73479c5c87bf431c6344a80ab01456ed979447f1,324189babbc0b70d9ce558deb63d33040d002b7a,Aurelien Jarno,2017-05-17,"target/sh4: fix reset when using a kernel and an initrd\n\nWhen a masked exception happens, the SH4 CPU generates a non-masked\nreset exception, which then jumps to the reset vector at address\n0xA0000000. While this is emulated correctly in QEMU, this does not\nwork when using a kernel and initrd as this address then contain an\nillegal instruction (and there is no guarantee the kernel and initrd\nhaven't been overwritten).\n\nTherefore call qemu_system_reset_request to reload the kernel and initrd\nand load the program counter to the kernel entry point.\n\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997088313102722,SH4,target/sh4/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,be53081a619443dc4512039d89345475ef7d9a46,5c6f3eb7db478fe988d8419c191fe388c6cf5194,Aurelien Jarno,2017-05-17,"target/sh4: fix RTE instruction delay slot\n\nThe ReTurn from Exception (RTE) instruction loads the system register\n(SR) with the saved system register (SSR). It has a delay slot, and\nbehaves specially according to the SH4 manual:\n\n  The SR value accessed by the instruction in the RTE delay slot is the\n  value restored from SSR by the RTE instruction. The SR and MD values\n  defined prior to RTE execution are used to fetch the instruction in\n  the RTE delay slot.\n\nThe instruction in the delay slot being often a NOP, it doesn't cause\nany issue most of the time except in some rare cases where the NOP is\nbeing splitted in a different TB (for example when the TCG op buffer\nis full). In that case the NOP is fetched with the user permissions\nand causes an instruction TLB protection violation exception.\n\nThis patches fixes that by introducing a new delay slot flag for the\nRTE instruction. Given it's a privileged instruction, the RTE delay\nslot instruction is always fetched in privileged mode. It is therefore\nenough to to check for this flag in cpu_mmu_index.\n\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>",1,0.9997157454490662,"SH4, TCG","target/sh4/cpu.h, target/sh4/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f50cd31413d8bc9d1eef8edd1f878324543bf65d,452a095526a0537f16c271516a2200877a272ea8,Peter Maydell,2017-06-02,arm: Don't clear ARM_FEATURE_PMSA for no-mpu configs\n\nFix the handling of QOM properties for PMSA CPUs with no MPU:\n\nAllow no-MPU to be specified by either:\n * has-mpu = false\n * pmsav7_dregion = 0\nand make setting one imply the other. Don't clear the PMSA\nfeature bit in this situation.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Alistair Francis <alistair.francis@xilinx.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 1493122030-32191-6-git-send-email-peter.maydell@linaro.org,1,0.999251425266266,ARM,target/arm/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d41f3e750d2c06c613cb1b8db7724f0fbc0a2b14,60bed6a30aa8341cbc8fae4bdc53b9eb99d80586,Igor Mammedov,2017-05-30,"numa: make sure that all cpus have has_node_id set if numa is enabled\n\nIt fixes/add missing _PXM object for non mapped CPU (x86)\nand missing fdt node (virt-arm).\n\nIt ensures that possible_cpus contains complete mapping if\nnuma is enabled by the time machine_init() is executed.\n\nAs result non completely mapped CPUs:\n 1) appear in ACPI/fdt blobs\n 2) QMP query-hotpluggable-cpus command shows bound nodes for such CPUs\n 3) allows to drop checks for has_node_id in numa only code,\n   reducing number of invariants incomplete mapping could produce\n 4) moves fixup/implicit node init from runtime numa_cpu_pre_plug()\n   (when CPU object is created) to machine_numa_finish_init() which\n   helps to fix [1, 2] and make possible_cpus complete source\n   of numa mapping available even before CPUs are created.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <1496161442-96665-4-git-send-email-imammedo@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.999714195728302,ACPI,"hw/arm/virt-acpi-build.c, hw/core/machine.c, hw/i386/acpi-build.c, hw/i386/pc.c, numa.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,60694bc67837ac1678fa9d67e0f5f83f8cf5436e,a09f7443bcccd1703adf7c2954af695629c784a5,Suraj Jitindar Singh,2017-06-05,"target/ppc: Fixup set_spr error in h_register_process_table\n\nset_spr is used in the function h_register_process_table() to update the\nLPCR_GTSE and LPCR_UPRT values based on the flags passed by the guest.\nThe set_spr function takes the last two arguments mask and value used to\nmask and set the value of the spr respectively.\n\nThe current call site passes these arguments in the wrong order and thus\nbot GTSE and UPRT will be set irrespective, which is obviously\nincorrect.\n\nRearrange the function call so that these arguments are passed in the\ncorrect order and the correct behaviour is exhibited.\n\nIt is worth noting that this wasn't detected earlier since these were\nalways both set in all cases where this H_CALL was made.\n\nFixes: 6de833070ca2 (""target/ppc: Set UPRT and GTSE on all cpus in H_REGISTER_PROCESS_TABLE"")\n\nSigned-off-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9130969643592834,REGISTER,hw/ppc/spapr_hcall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e2b6c1712e08bc5feafb44fdc65ab81ef2630b4b,df8ad9f128c15aa0a0ebc7b24e9a22c9775b67af,Denis Plotnikov,2017-05-29,"kvmclock: update system_time_msr address forcibly\n\nDo an update of system_time_msr address every time before reading\nthe value of tsc_timestamp from guest's kvmclock page.\n\nThere is no other code paths which ensure that qemu has an up-to-date\nvalue of system_time_msr. So, force this update on guest's tsc_timestamp\nreading.\n\nThis bug causes effect on those nested setups which turn off TPR access\ninterception for L2 guests and that access being intercepted by L0 doesn't\nshow up in L1.\nLinux bootstrap initiate kvmclock before APIC initializing causing TPR access.\nThat's why on L1 guests, having TPR interception turned on for L2, the effect\nof the bug is not revealed.\n\nThis patch fixes this problem by making sure it knows the correct\nsystem_time_msr address every time it is needed.\n\nSigned-off-by: Denis Plotnikov <dplotnikov@virtuozzo.com>\nMessage-Id: <1496054944-25623-1-git-send-email-dplotnikov@virtuozzo.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9982282519340516,APIC,hw/i386/kvm/clock.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4871dd4c3f70f528147f426fe42676b4193cb3b7,a4d4edce7ae23b9136cb9e243d6eab866609315d,Thomas Huth,2017-06-07,"hw/ppc/spapr: Adjust firmware name for PCI bridges\n\nSLOF uses ""pci"" as name for PCI bridges nodes in the device tree instead\nof ""pci-bridges"", so booting via bootindex from a device behind a PCI\nbridge currently does not work since QEMU passes the wrong name in the\n""qemu,boot-list"" property. Fix it by changing the name of the PCI bridge\nnodes to ""pci"" instead.\n\nBuglink: https://bugzilla.redhat.com/show_bug.cgi?id=1459170\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9965415596961976,PCI,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d203c6439840de4e331f74208c57443f4d6a6229,64175afc695c0672876fbbfc31b299c86d562cb4,Marc-Andr Lureau,2017-06-07,"char: fix alias devices regression\n\nFix regression from commit 4d43a603c71, where the serial and parallel\nheaders got removed from char.c, which broke the alias table.\n\nMove the HAVE_CHARDEV_SERIAL/HAVE_CHARDEV_PARPORT to osdep.h instead\nof being in separate headers.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>",1,0.999309539794922,SERIAL,"include/chardev/char-parallel.h, include/chardev/char-serial.h, include/qemu/osdep.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,20fdef58a0daa8da21438b79663f7ada2c59ebbc,277238f9f41e0a429a24b05c03f3010b35c3e9d0,Haozhong Zhang,2017-06-07,"nvdimm acpi: fix region format interface code\n\nPer ACPI 6.2, section 5.2.25.6 and JEDEC Annex L Release 3, the\ncurrent region format interface code 0x201 indicates the block\naddressed function interface 1, rather than a byte addressable\ninterface. Fix it by using 0x301 which indicates the byte addressable\nno energy backed function interface 1.\n\nSigned-off-by: Haozhong Zhang <haozhong.zhang@intel.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9996834993362428,ACPI,hw/acpi/nvdimm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,076d4d39b65f50ca1bba3d3c8a8f1cf977c1c3f0,becf8217deb2afc347d5172d9f30c8a8964b8b27,David Hildenbrand,2017-06-09,"s390x/cpumodel: wire up cpu type + id for TCG\n\nLet's properly expose the CPU type (machine-type number) via ""STORE CPU\nID"" and ""STORE SUBSYSTEM INFORMATION"".\n\nAs TCG emulates basic mode, the CPU identification number has the format\n""Annnnn"", whereby A is the CPU address, and n are parts of the CPU serial\nnumber (0 for us for now).\n\nA specification exception will be injected if the address is not aligned\nto a double word. Low address protection will not be checked as\nwe're missing some more general support for that.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20170609133426.11447-3-david@redhat.com>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9926071166992188,TCG,"target/s390x/cpu.h, target/s390x/cpu_models.c, target/s390x/insn-data.def, target/s390x/misc_helper.c, target/s390x/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,87e459a810d7b1ec1638085b5a80ea3d9b43119a,b356807fcdfc45583c437f761fc579ab2a8eab11,Paolo Bonzini,2017-06-01,"megasas: always store SCSIRequest* into MegasasCmd\n\nThis ensures that the request is unref'ed properly, and avoids a\nsegmentation fault in the new qtest testcase that is added.\nThis is CVE-2017-9503.\n\nReported-by: Zhangyanyu <zyy4013@stu.ouc.edu.cn>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999626874923706,SCSI,"hw/scsi/megasas.c, tests/megasas-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3e7e5e0bc10d32d7cc41d0a39113473a3abfc657,c8bd95377babc3bd60f86cb3e5b24e74097cf6a9,David Hildenbrand,2017-06-14,"target/s390x: implement mvcos instruction\n\nThis adds support for the MOVE WITH OPTIONAL SPECIFICATIONS (MVCOS)\ninstruction. Allow to enable it for the qemu cpu model using\n\nqemu-system-s390x ... -cpu qemu,mvcos=on ...\n\nThis allows to boot linux kernel that uses it for uacccess.\n\nWe are missing (as for most other part) low address protection checks,\nPSW key / storage key checks and support for AR-mode.\n\nWe fake an ADDRESSING exception when called from problem state (which\nseems to rely on PSW key checks to be in place) and if AR-mode is used.\nuser mode will always see a PRIVILEDGED exception.\n\nThis patch is based on an original patch by Miroslav Benes (thanks!).\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20170614133819.18480-3-david@redhat.com>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9960958361625672,"LED, SSI","target/s390x/cpu.h, target/s390x/cpu_models.c, target/s390x/helper.h, target/s390x/insn-data.def, target/s390x/mem_helper.c, target/s390x/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,82991bed738783d68c9950840b2e98d84b9f0621,577caa2672ccde7352fda3ef17e44993de862f0e,Peter Maydell,2017-06-27,"linux-user: Put PPC AT_IGNOREPPC auxv entries in the right place\n\nThe 32-bit PPC auxv is a bit complicated because in the\nmists of time it used to be 16-aligned rather than directly\nafter the environment. Older glibc versions had code to\ntry to probe for whether it needed alignment or not:\nhttps://sourceware.org/git/?p=glibc.git;a=blob;f=sysdeps/unix/sysv/linux/powerpc/dl-sysdep.c;hb=e84eabb3871c9b39e59323bf3f6b98c2ca9d1cd0\nand the kernel has code which puts some magic entries at\nthe bottom to ensure that the alignment probe fails:\nhttp://elixir.free-electrons.com/linux/latest/source/arch/powerpc/include/asm/elf.h#L158\n\nQEMU has similar code too, but it was broken by commit\n7c4ee5bcc82e64, which changed elfload.c from filling in\nthe auxv starting at the highest address and working down\nto starting at the lowest address and working up. This\nmeans that the ARCH_DLINFO hook must now be invoked first\nrather than last, and the entries in it for PPC must\nbe reversed so that the magic AT_IGNOREPPC entries come\nat the lowest address in the auxv as they should.\n\nThe effect of this was that if running a guest binary that\nused an old glibc with the alignment probing the guest ld.so\ncode would segfault if the size of the guest environment and\nargv happened to put the auxv at an address that triggered\nthe alignment code in the guest glibc.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nTested-by: Richard Henderson <rth@twiddle.net>\nMessage-id: 1498582198-6649-1-git-send-email-peter.maydell@linaro.org",1,0.9973746538162231,PPC,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d39c90f5f3ae23a6c8202eb6e1204ea84991e7f5,3a38429748aa4f74abaecf16c4c087e8a325e12a,Bharata B Rao,2017-06-12,spapr: Fix migration of Radix guests\n\nFix migration of radix guests by ensuring that we issue\nKVM_PPC_CONFIGURE_V3_MMU for radix case post migration.\n\nReported-by: Nageswara R Sastry <rnsastry@linux.vnet.ibm.com>\nSigned-off-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\nReviewed-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9990767240524292,"KVM, PPC",hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c324fd0a39cee43c13f6d1fb34f74fc5e2fb007b,8e11c9d3653282b33c20e632e21aa640b2772629,Stefan Hajnoczi,2017-06-28,"virtio-pci: use ioeventfd even when KVM is disabled\n\nOld kvm.ko versions only supported a tiny number of ioeventfds so\nvirtio-pci avoids ioeventfds when kvm_has_many_ioeventfds() returns 0.\n\nDo not check kvm_has_many_ioeventfds() when KVM is disabled since it\nalways returns 0.  Since commit 8c56c1a592b5092d91da8d8943c17777d6462a6f\n(""memory: emulate ioeventfd"") it has been possible to use ioeventfds in\nqtest or TCG mode.\n\nThis patch makes -device virtio-blk-pci,iothread=iothread0 work even\nwhen KVM is disabled.\n\nI have tested that virtio-blk-pci works under TCG both with and without\niothread.\n\nThis patch fixes qemu-iotests 068, which was accidentally merged early\ndespite the dependency on ioeventfd.\n\nCc: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Fam Zheng <famz@redhat.com>\nTested-by: Eric Blake <eblake@redhat.com>\nTested-by: Kevin Wolf <kwolf@redhat.com>\nMessage-id: 20170628184724.21378-7-stefanha@redhat.com\nMessage-id: 20170615163813.7255-2-stefanha@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9993233680725098,"KVM, TCG",hw/virtio/virtio-pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8991c460be5a0811194fd4d2b49ba7146a23526b,ba94971354376876b7a4c243831bd4032045eacc,Ladi Prosek,2017-06-19,"intel_iommu: relax iq tail check on VTD_GCMD_QIE enable\n\nThe VT-d spec (section 6.5.2) prescribes software to zero the\nInvalidation Queue Tail Register before enabling the VTD_GCMD_QIE\nGlobal Command Register bit. Windows Server 2012 R2 and possibly\nother older Windows versions violate the protocol and set a\nnon-zero queue tail first, which in effect makes them crash early\non boot with -device intel-iommu,intremap=on.\n\nThis commit relaxes the check and instead of failing to enable\nVTD_GCMD_QIE with vtd_err_qi_enable, it behaves as if the tail\nregister was set just after enabling VTD_GCMD_QIE\n(see vtd_handle_iqt_write).\n\nSigned-off-by: Ladi Prosek <lprosek@redhat.com>\nReviewed-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9481455683708192,VTD,"hw/i386/intel_iommu.c, hw/i386/trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,552a1e01a41d7c24397a83947cca94d8d66e5f49,4d7e7f2702912f1abd81162342df547436810a5f,Peter Xu,2017-06-30,"intel_iommu: fix migration breakage on mr switch\n\nMigration is broken after the vfio integration work:\n\nqemu-kvm: AHCI: Failed to start FIS receive engine: bad FIS receive buffer address\nqemu-kvm: Failed to load ich9_ahci:ahci\nqemu-kvm: error while loading state for instance 0x0 of device '0000:00:1f.2/ich9_ahci'\nqemu-kvm: load of migration failed: Operation not permitted\n\nThe problem is that vfio work introduced dynamic memory region\nswitching (actually it is also used for future PT mode), and this memory\nregion layout is not properly delivered to destination when migration\nhappens. Solution is to rebuild the layout in post_load.\n\nBug: https://bugzilla.redhat.com/show_bug.cgi?id=1459906\nFixes: 558e0024 (""intel_iommu: allow dynamic switch of IOMMU region"")\nReviewed-by: Jason Wang <jasowang@redhat.com>\nSigned-off-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997090697288512,AHCI,hw/i386/intel_iommu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cbca3722a33ca6f6a8d9ceba89c5b3e7c28007ee,2099935dbf2e7b1a1359d1c1ae312f976246065d,Thomas Huth,2017-06-26,"include/exec/poison: Mark CONFIG_KVM as poisoned, too\n\nCONFIG_KVM is only defined for target-specific code, so nobody should\nuse it by accident in common code. To avoid such subtle bugs,\nCONFIG_KVM is now marked as poisoned in common code. The header\ninclude/sysemu/kvm.h is somewhat special since it is included\nall over the place from common code, too, so we need some extra\nlogic via ""#ifdef NEED_CPU_H"" here to make sure that we can\ncompile all files without problems.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <1498454578-18709-4-git-send-email-thuth@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9994114637374878,KVM,"hw/acpi/ich9.c, include/exec/poison.h, include/sysemu/kvm.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f62f210943f8290bc0a060f4090046841815a046,1728cff2abef27aa00bc7e5f6f73c13b7bd256cb,Halil Pasic,2017-06-23,"s390x: fix error propagation in kvm-flic's realize\n\nFrom the moment it was introduced by commit a2875e6f98 (""s390x/kvm:\nimplement floating-interrupt controller device"", 2013-07-16) the kvm-flic\nis not making realize fail properly in case it's impossible to create the\nKVM device which basically serves as a backend and is absolutely\nessential for having an operational kvm-flic.\n\nLet's fix this by making sure we do proper error propagation in realize.\n\nSigned-off-by: Halil Pasic <pasic@linux.vnet.ibm.com>\nFixes: a2875e6f98 ""s390x/kvm: implement floating-interrupt controller device""\nReviewed-by: Dong Jia Shi <bjsdjshi@linux.vnet.ibm.com>\nReviewed-by: Yi Min Zhao <zyimin@linux.vnet.ibm.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",1,0.9997268319129944,KVM,hw/intc/s390_flic_kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7da624e26a4ef149927fe0ac187148f24306412f,6b06e3e49eb8c91cc286c16d6bf3181ac296f33d,Alex Williamson,2017-07-10,"vfio: Test realized when using VFIOGroup.device_list iterator\n\nVFIOGroup.device_list is effectively our reference tracking mechanism\nsuch that we can teardown a group when all of the device references\nare removed.  However, we also use this list from our machine reset\nhandler for processing resets that affect multiple devices.  Generally\ndevice removals are fully processed (exitfn + finalize) when this\nreset handler is invoked, however if the removal is triggered via\nanother reset handler (piix4_reset->acpi_pcihp_reset) then the device\nexitfn may run, but not finalize.  In this case we hit asserts when\nwe start trying to access PCI helpers since much of the PCI state of\nthe device is released.  To resolve this, add a pointer to the Object\nDeviceState in our common base-device and skip non-realized devices\nas we iterate.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9127674102783204,"PCI, VFIO","hw/vfio/common.c, hw/vfio/pci.c, hw/vfio/platform.c, include/hw/vfio/vfio-common.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,47985727e383eee191a39cc007541c17cd8680ee,7da624e26a4ef149927fe0ac187148f24306412f,Alex Williamson,2017-07-10,"vfio/pci: Fixup v0 PCIe capabilities\n\nIntel 82599 VFs report a PCIe capability version of 0, which is\ninvalid.  The earliest version of the PCIe spec used version 1.  This\ncauses Windows to fail startup on the device and it will be disabled\nwith error code 10.  Our choices are either to drop the PCIe cap on\nsuch devices, which has the side effect of likely preventing the guest\nfrom discovering any extended capabilities, or performing a fixup to\nupdate the capability to the earliest valid version.  This implements\nthe latter.\n\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.998206377029419,PCI,hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e806b4db1477a1c6bfda7bba28c7f26c47f18e1e,f3728f9cbbe3b5114e07ee5fdde810a63fee147e,Laurent Vivier,2017-06-28,"spapr: fix migration to pseries machine < 2.8\n\nsince commit 5c4537bd (""spapr: Fix 2.7<->2.8 migration of PCI host bridge""),\nsome migration fields are forged from the new ones in spapr_pci_pre_save().\n\nIt works well, except when the number of MSI devices is 0,\nbecause in this case the function exits immediately.\n\nThis fix moves the migration code before the exit code.\n\nThe problem can be reproduced with these commands:\n\nsource qemu-2.9:\n\n    qemu-system-ppc64 -monitor stdio -M pseries-2.6 -nodefaults -S\n\ndestination qemu-2.6:\n\n    qemu-system-ppc64 -monitor stdio -M pseries-2.6 -nodefaults \\n                      -incoming tcp:0:4444\n\non the source:\n\n    migrate tcp:localhost:4444\n\nDestination fails with the following error:\n\n    qemu-system-ppc64: error while loading state for\n                       instance 0x0 of device 'spapr_pci'\n    qemu-system-ppc64: load of migration failed: Invalid argument\n\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996936321258544,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b5ed2e11ef39a308dcbef46f66774557b4a41fce,3d0bf8dfdfebd7f2ae41b6f220444b8047d6b1ee,Paolo Bonzini,2017-07-11,"build: disable Xen on ARM\n\nWhile ARM could present the xenpv machine, it does not and trying to enable\nit breaks compilation.  Revert to the previous test which only looked at\n$target_name, not $cpu.\n\nFixes: 3b6b75506de44c5070639943c30a0ad5850f5d02\nReported-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-id: 20170711100049.20513-1-pbonzini@redhat.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9988586902618408,ARM,configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb58a6d3611b2d0ff4ed29bb6b659c95a23cb2d5,406bc339b0505fcfc2ffcbca1f05a3756e338a65,Pranith Kumar,2017-07-12,"mttcg/i386: Patch instruction using async_safe_* framework\n\nIn mttcg, calling pause_all_vcpus() during execution from the\ngenerated TBs causes a deadlock if some vCPU is waiting for exclusive\nexecution in start_exclusive(). Fix this by using the aync_safe_*\nframework instead of pausing vcpus for patching instructions.\n\nCC: Paolo Bonzini <pbonzini@redhat.com>\nCC: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Pranith Kumar <bobby.prani@gmail.com>\nMessage-Id: <20170712215143.19594-2-bobby.prani@gmail.com>\n[Get rid completely of the TCG-specific code. - Paolo]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999707281589508,TCG,hw/i386/kvmvapic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f940488feaca394ccc68e0595b4c3a9017f16e45,081dd1fe36f0ccc04130d1edd136c787c5f8cc50,Emilio G. Cota,2017-07-09,"vl: fix breakage of -tb-size\n\nCommit e7b161d573 (""vl: add tcg_enabled() for tcg related code"") adds\na check to exit the program when !tcg_enabled() while parsing the -tb-size\nflag.\n\nIt turns out that when the -tb-size flag is evaluated, tcg_enabled() can\nonly return 0, since it is set (or not) much later by configure_accelerator().\n\nFix it by unconditionally exiting if the flag is passed to a QEMU binary\nbuilt with !CONFIG_TCG.\n\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999728500843048,TCG,vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,346ebfc6fbf1a0c07cbdfc52beef0f0b9b5180d4,df8658de43db242ea82183d75cc957c2b0fa013a,Cdric Le Goater,2017-07-14,"target/ppc: fix CPU hotplug when radix is enabled (TCG)\n\nBut when a guest initializes radix mode, it issues a H_REGISTER_PROC_TBL\nto update the LPCR of all CPUs. Hot-plugged CPUs inherit from the same\nsetting under KVM but not under TCG. So, Let's check for radix and update\nthe default LPCR to keep new CPUs in sync.\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999479353427887,"KVM, REGISTER, TCG",target/ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,19d70587b59f7879a0315a6d98c2409957154351,e89ea6aa9d8e86351259fb33c0e6d2ee36c12eb1,David Hildenbrand,2017-06-27,"target/s390x: Allow to enable ""idtes"" feature for TCG\n\nSTFL bit 4 and 5 are just indications to the guest, which TLB entries an\nIDTE call will clear. These are performance indicators for the guest.\n\nSTFL bit 4:\n    INVALIDATE DAT TABLE ENTRY (IDTE) performs\n    the invalidation-and-clearing operation by\n    selectively clearing TLB segment-table entries\n    when a segment-table entry or entries are\n    invalidated. IDTE also performs the clearing-by-\n    ASCE operation. Unless bit 4 is one, IDTE simply\n    purges all TLBs. Bit 3 is one if bit 4 is one.\n\nWe can simply set STFL bit 4 (""idtes"") and still purge the complete TLB.\nPurging more than advertised is never bad. E.g. Linux doesn't even care\nabout this bit. We can optimized this later.\nThis is helpful, as the z9 base model contains this facility.\n\nSTFL bit 5 (clearing TLB region-table-entries) was never implemented on\nreal HW, therefore we can simply ignore it for now.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20170627161032.5014-1-david@redhat.com>\nSigned-off-by: Richard Henderson <rth@twiddle.net>",1,0.9961571097373962,TCG,target/s390x/cpu_models.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ccae24d4985507d6a0cfc1c2f18f4dc60dedda89,7e9f7ca86f83886ab2fa9ac7573635d1d6d97cf0,Richard Henderson,2017-07-18,target/sh4: Introduce CHECK_SH4A\n\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nMessage-Id: <20170718200255.31647-24-rth@twiddle.net>\n[aurel32: fix conflict]\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9996650218963624,SH4,target/sh4/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,121829cb2160e9cd82482c1542699fa589688106,d4e59218ab80e86015753782fb5378767a51ccd0,Eric Blake,2017-07-17,"usb: Fix build with newer gcc\n\ngcc 7 is pickier about our sources:\n\nhw/usb/bus.c: In function usb_port_location:\nhw/usb/bus.c:410:66: error: %d directive output may be truncated writing between 1 and 11 bytes into a region of size between 0 and 15 [-Werror=format-truncation=]\n         snprintf(downstream->path, sizeof(downstream->path), ""%s.%d"",\n                                                                  ^~\nhw/usb/bus.c:410:9: note: snprintf output between 3 and 28 bytes into a destination of size 16\n         snprintf(downstream->path, sizeof(downstream->path), ""%s.%d"",\n         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n                  upstream->path, portnr);\n                  ~~~~~~~~~~~~~~~~~~~~~~~\n\nBut we know that there are at most 5 levels of USB hubs, with at\nmost two digits per level; that plus the separating dots means we\nuse at most 15 bytes (including trailing NUL) of our 16-byte field.\nAdding an assertion to show gcc that we checked for truncation is\nenough to shut up the false-positive warning.\n\nInspired by an idea by Dr. David Alan Gilbert <dgilbert@redhat.com>.\n\nSigned-off-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20170717151334.17954-1-eblake@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999518871307373,USB,hw/usb/bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b1449edb799909f531b806538c48dc86d701c4b2,e0580342b3bd200a5f1d449129d11b1d2f5a24c0,Kamil Rytarowski,2017-07-14,"configure: Don't build ivshmem tools unless CONFIG_IVSHMEM is set\n\nDon't try to build the ivshmem-server and ivshmem-client tools unless\nCONFIG_IVSHMEM is set.\n\nThis fixes in passing a build bug on NetBSD, which fails to build the\nivshmem tools because they use shm_open() and on NetBSD that requires\nlinking against -lrt.\n\nSigned-off-by: Kamil Rytarowski <n54@gmx.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1500021225-4118-4-git-send-email-peter.maydell@linaro.org\n[PMM: moved some code into earlier patches; minor bugfixes;\n added commit message]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999665141105652,IVSHMEM,"Makefile, Makefile.objs, configure",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e40df9a80bb7cdb0a4ca650985fa9fe572097fa7,25d0233c1ac6cd14a15fcc834f1de3b179037b1d,James Hogan,2017-07-18,"target/mips: Fix MIPS64 MFC0 UserLocal on BE host\n\nUsing MFC0 to read CP0_UserLocal uses tcg_gen_ld32s_tl, however\nCP0_UserLocal is a target_ulong. On a big endian host with a MIPS64\ntarget this reads and sign extends the more significant half of the\n64-bit register.\n\nFix this by using ld_tl to load the whole target_ulong and ext32s_tl to\nsign extend it, as done for various other target_ulong COP0 registers.\n\nFixes: d279279e2b5c (""target-mips: implement UserLocal Register"")\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nCc: Yongbok Kim <yongbok.kim@imgtec.com>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nCc: Petar Jovanovic <petar.jovanovic@imgtec.com>\nReviewed-by: Yongbok Kim <yongbok.kim@imgtec.com>\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>",1,0.9997254014015198,"MIPS, MIPS64",target/mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,74dbf824a1313b6064bbebb981a7440951d70896,9658e4c342e6ae0d775101f8f6bb6efb16789af1,James Hogan,2017-07-18,"target/mips: Add CP0_Ebase.WG (write gate) support\n\nAdd support for the CP0_EBase.WG bit, which allows upper bits to be\nwritten (bits 31:30 on MIPS32, or bits 63:30 on MIPS64), along with the\nCP0_Config5.CV bit to control whether the exception vector for Cache\nError exceptions is forced into KSeg1.\n\nThis is necessary on MIPS32 to support Segmentation Control and Enhanced\nVirtual Addressing (EVA) extensions (where KSeg1 addresses may not\nrepresent an unmapped uncached segment).\n\nIt is also useful on MIPS64 to allow the exception base to reside in\nXKPhys, and possibly out of range of KSEG0 and KSEG1.\n\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nCc: Yongbok Kim <yongbok.kim@imgtec.com>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nReviewed-by: Yongbok Kim <yongbok.kim@imgtec.com>\n[yongbok.kim@imgtec.com:\n  minor changes]\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>",1,0.9422438144683838,"MIPS, MIPS64","target/mips/cpu.h, target/mips/helper.c, target/mips/machine.c, target/mips/op_helper.c, target/mips/translate.c, target/mips/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7fb394ad8a7c4609cefa2136dec16cf65d028f40,9e6bdb92c81f728a435fc52277c2088541b818c7,Alexey G,2017-07-21,"xen-mapcache: Fix the bug when overlapping emulated DMA operations may cause inconsistency in guest memory mappings\n\nUnder certain circumstances normal xen-mapcache functioning may be broken\nby guest's actions. This may lead to either QEMU performing exit() due to\na caught bad pointer (and with QEMU process gone the guest domain simply\nappears hung afterwards) or actual use of the incorrect pointer inside\nQEMU address space -- a write to unmapped memory is possible. The bug is\nhard to reproduce on a i440 machine as multiple DMA sources are required\n(though it's possible in theory, using multiple emulated devices), but can\nbe reproduced somewhat easily on a Q35 machine using an emulated AHCI\ncontroller -- each NCQ queue command slot may be used as an independent\nDMA source ex. using READ FPDMA QUEUED command, so a single storage\ndevice on the AHCI controller port will be enough to produce multiple DMAs\n(up to 32). The detailed description of the issue follows.\n\nXen-mapcache provides an ability to map parts of a guest memory into\nQEMU's own address space to work with.\n\nThere are two types of cache lookups:\n - translating a guest physical address into a pointer in QEMU's address\n   space, mapping a part of guest domain memory if necessary (while trying\n   to reduce a number of such (re)mappings to a minimum)\n - translating a QEMU's pointer back to its physical address in guest RAM\n\nThese lookups are managed via two linked-lists of structures.\nMapCacheEntry is used for forward cache lookups, while MapCacheRev -- for\nreverse lookups.\n\nEvery guest physical address is broken down into 2 parts:\n    address_index  = phys_addr >> MCACHE_BUCKET_SHIFT;\n    address_offset = phys_addr & (MCACHE_BUCKET_SIZE - 1);\n\nMCACHE_BUCKET_SHIFT depends on a system (32/64) and is equal to 20 for\na 64-bit system (which assumed for the further description). Basically,\nthis means that we deal with 1 MB chunks and offsets within those 1 MB\nchunks. All mappings are created with 1MB-granularity, i.e. 1MB/2MB/3MB\netc. Most DMA transfers typically are less than 1MB, however, if the\ntransfer crosses any 1MB border(s) - than a nearest larger mapping size\nwill be used, so ex. a 512-byte DMA transfer with the start address\n700FFF80h will actually require a 2MB range.\n\nCurrent implementation assumes that MapCacheEntries are unique for a given\naddress_index and size pair and that a single MapCacheEntry may be reused\nby multiple requests -- in this case the 'lock' field will be larger than\n1. On other hand, each requested guest physical address (with 'lock' flag)\nis described by each own MapCacheRev. So there may be multiple MapCacheRev\nentries corresponding to a single MapCacheEntry. The xen-mapcache code\nuses MapCacheRev entries to retrieve the address_index & size pair which\nin turn used to find a related MapCacheEntry. The 'lock' field within\na MapCacheEntry structure is actually a reference counter which shows\na number of corresponding MapCacheRev entries.\n\nThe bug lies in ability for the guest to indirectly manipulate with the\nxen-mapcache MapCacheEntries list via a special sequence of DMA\noperations, typically for storage devices. In order to trigger the bug,\nguest needs to issue DMA operations in specific order and timing.\nAlthough xen-mapcache is protected by the mutex lock -- this doesn't help\nin this case, as the bug is not due to a race condition.\n\nSuppose we have 3 DMA transfers, namely A, B and C, where\n- transfer A crosses 1MB border and thus uses a 2MB mapping\n- transfers B and C are normal transfers within 1MB range\n- and all 3 transfers belong to the same address_index\n\nIn this case, if all these transfers are to be executed one-by-one\n(without overlaps), no special treatment necessary -- each transfer's\nmapping lock will be set and then cleared on unmap before starting\nthe next transfer.\nThe situation changes when DMA transfers overlap in time, ex. like this:\n\n  |===== transfer A (2MB) =====|\n\n              |===== transfer B (1MB) =====|\n\n                          |===== transfer C (1MB) =====|\n time --->\n\nIn this situation the following sequence of actions happens:\n\n1. transfer A creates a mapping to 2MB area (lock=1)\n2. transfer B (1MB) tries to find available mapping but cannot find one\n   because transfer A is still in progress, and it has 2MB size + non-zero\n   lock. So transfer B creates another mapping -- same address_index,\n   but 1MB size.\n3. transfer A completes, making 1st mapping entry available by setting its\n   lock to 0\n4. transfer C starts and tries to find available mapping entry and sees\n   that 1st entry has lock=0, so it uses this entry but remaps the mapping\n   to a 1MB size\n5. transfer B completes and by this time\n  - there are two locked entries in the MapCacheEntry list with the SAME\n    values for both address_index and size\n  - the entry for transfer B actually resides farther in list while\n    transfer C's entry is first\n6. xen_ram_addr_from_mapcache() for transfer B gets correct address_index\n   and size pair from corresponding MapCacheRev entry, but then it starts\n   looking for MapCacheEntry with these values and finds the first entry\n   -- which belongs to transfer C.\n\nAt this point there may be following possible (bad) consequences:\n\n1. xen_ram_addr_from_mapcache() will use a wrong entry->vaddr_base value\n   in this statement:\n\n   raddr = (reventry->paddr_index << MCACHE_BUCKET_SHIFT) +\n       ((unsigned long) ptr - (unsigned long) entry->vaddr_base);\n\nresulting in an incorrent raddr value returned from the function. The\n(ptr - entry->vaddr_base) expression may produce both positive and negative\nnumbers and its actual value may differ greatly as there are many\nmap/unmap operations take place. If the value will be beyond guest RAM\nlimits then a ""Bad RAM offset"" error will be triggered and logged,\nfollowed by exit() in QEMU.\n\n2. If raddr value won't exceed guest RAM boundaries, the same sequence\nof actions will be performed for xen_invalidate_map_cache_entry() on DMA\nunmap, resulting in a wrong MapCacheEntry being unmapped while DMA\noperation which uses it is still active. The above example must\nbe extended by one more DMA transfer in order to allow unmapping as the\nfirst mapping in the list is sort of resident.\n\nThe patch modifies the behavior in which MapCacheEntry's are added to the\nlist, avoiding duplicates.\n\nSigned-off-by: Alexey Gerasimenko <x1917x@gmail.com>\nSigned-off-by: Stefano Stabellini <sstabellini@kernel.org>",1,0.999728500843048,"AHCI, Q35",hw/i386/xen/xen-mapcache.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e4256c3cbf7eefebc0bc6e1f472c47c6dd20b996,ce1d20aac8533357650774c2c240e30de87dc122,Emilio G. Cota,2017-07-24,target/arm: fix TCG temp leak in aarch64 rev16\n\nFix a TCG temporary leak in the new aarch64 rev16 handling.\n\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9995976090431212,TCG,target/arm/translate-a64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3d75007e017b62f2165b8c0166f0e4984bc1640d,eda40cc1686162dcd92a97debcbb0df74269651f,Peter Maydell,2017-07-24,mps2: Correctly set parent bus for SCC device\n\nA cut-and-paste error meant that instead of setting the\nqdev parent bus for the SCC device we were setting it\ntwice for the ARMv7M container device. Fix this bug.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 1500634509-28011-1-git-send-email-peter.maydell@linaro.org,1,0.9995817542076112,ARM,hw/arm/mps2.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8d5981c4fc1342829b23666b7e7b28b4c2ce1d8a,e8cd4247e96bb2158ef0ae0ff20e72746b9dd32d,Bharata B Rao,2017-07-21,spapr: Fix QEMU abort during memory unplug\n\nCommit 0cffce56 (hw/ppc/spapr.c: adding pending_dimm_unplugs to\nsPAPRMachineState) introduced a new way to track pending LMBs of DIMM\ndevice that is marked for removal. Since this commit we can hit the\nassert in spapr_pending_dimm_unplugs_add() in the following situation:\n\n- DIMM device removal fails as the guest doesn't allow the removal.\n- Subsequent attempt to remove the same DIMM would hit the assert\n  as the corresponding sPAPRDIMMState is still part of the\n  pending_dimm_unplugs list.\n\nFix this by removing the assert and conditionally adding the\nsPAPRDIMMState to pending_dimm_unplugs list only when it is not\nalready present.\n\nFixes: 0cffce56ae3501c5783d779f97993ce478acf856\nSigned-off-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\n[dwg: Tweaked to avoid returning NULL when spapr_pending_dimm_unplugs_add()\n does find an existing entry]\nReviewed-by: Daniel Barboza <danielhb@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9996803998947144,DIMM,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,28e22d4baed2d10d8ed0640d05e054fecfc71286,b5a74cd81d76cb467552f38f2b39520d07c65ea2,Jing Zhang,2017-07-18,"vfio/ccw: allocate irq info with the right size\n\nWhen allocating memory for the vfio_irq_info parameter of the\nVFIO_DEVICE_GET_IRQ_INFO ioctl, we used the wrong size. Let's\nfix it by using the right size.\n\nReviewed-by: Dong Jia Shi <bjsdjshi@linux.vnet.ibm.com>\nSigned-off-by: Jing Zhang <bjzhjing@linux.vnet.ibm.com>\nSigned-off-by: Dong Jia Shi <bjsdjshi@linux.vnet.ibm.com>\nMessage-Id: <20170718014926.44781-2-bjsdjshi@linux.vnet.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9995017051696776,VFIO,hw/vfio/ccw.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6a79dd463164e37aa14f5d24dc8107017a6eeaab,28e22d4baed2d10d8ed0640d05e054fecfc71286,Dong Jia Shi,2017-07-18,"vfio/ccw: fix initialization of the Object DeviceState pointer in the common base-device\n\nCommit 7da624e2 (""vfio: Test realized when using VFIOGroup.device_list\niterator"") introduced a pointer to the Object DeviceState in the VFIO\ncommon base-device and skipped non-realized devices as we iterate\nVFIOGroup.device_list. While it missed to initialize the pointer for\nthe vfio-ccw case. Let's fix it.\n\nFixes: 7da624e2 (""vfio: Test realized when using VFIOGroup.device_list\n                  iterator"")\n\nCc: Alex Williamson <alex.williamson@redhat.com>\nReviewed-by: Halil Pasic <pasic@linux.vnet.ibm.com>\nSigned-off-by: Dong Jia Shi <bjsdjshi@linux.vnet.ibm.com>\nReviewed-by: Alex Williamson <alex.williamson@redhat.com>\nMessage-Id: <20170718014926.44781-3-bjsdjshi@linux.vnet.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.999717891216278,VFIO,hw/vfio/ccw.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7c388dbd0b2c54b3d836c23ea43e2cee38de66a4,912092b8e47f31c3db25e088af8460d9e752da29,Daniel P. Berrange,2017-07-27,"ps2: fix sending of PAUSE/BREAK scancodes\n\nThe processing of the scancodes for PAUSE/BREAK  has been broken since\nthe conversion to qcodes in:\n\n  commit 8c10e0baf0260b59a4e984744462a18016662e3e\n  Author: Herv Poussineau <hpoussin@reactos.org>\n  Date:   Thu Sep 15 22:06:26 2016 +0200\n\n    ps2: use QEMU qcodes instead of scancodes\n\nWhen using a VNC client, with the raw scancode extension, the client\nwill send a scancode of 0xc6 for both PAUSE and BREAK. There is mistakenly\nno entry in the qcode_to_number table for this scancode, so\nps2_keyboard_event() just generates a log message and discards the\nscancode\n\nWhen using a SPICE client, it will also send 0xc6 for BREAK, but\nwill send 0xe1 0x1d 0x45 0xe1 0x9d 0xc5 for PAUSE. There is no\nentry in the qcode_to_number table for the scancode 0xe1 because\nit is a special XT keyboard prefix not mapping to any QKeyCode.\nAgain ps2_keyboard_event() just generates a log message and discards\nthe scancode. The following 0x1d, 0x45, 0x9d, 0xc5 scancodes get\nhandled correctly. Rather than trying to handle 3 byte sequences\nof scancodes in the PS/2 driver, special case the SPICE input\ncode so that it captures the 3 byte pause sequence and turns it\ninto a Pause QKeyCode.\n\nSigned-off-by: Daniel P. Berrange <berrange@redhat.com>\nMessage-id: 20170727113243.23991-1-berrange@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996238946914672,SPICE,"ui/input-keymap.c, ui/keymaps.h, ui/spice-input.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3ee3122c0d2614297890ded2017655fc2a139af6,871a0f7ad2b9560c5f7d640125c5be95ca23ca7f,Aurelien Jarno,2017-07-27,"hw/mips: load_elf_strerror to report kernel loading failure\n\nEmulated MIPS boards bail out with a simple ""could not load kernel"" when\na kernel could not be load, without specifying the underlying reason.\nFix that by calling load_elf_strerror.\n\nAt the same time use error_report to report the error instead of\nfprintf.\n\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nTested-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>",1,0.9997255206108092,MIPS,"hw/mips/mips_fulong2e.c, hw/mips/mips_malta.c, hw/mips/mips_mipssim.c, hw/mips/mips_r4k.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5df04f1762ef78c08fd69e19dcedf3d9ba8c9b86,08b9e0ba623c4468fe94026a9bdd086526ef62f0,Felipe Franciosi,2017-06-14,"vhost-user: fix legacy cross-endian configurations\n\nCurrently, vhost-user does not implement any means for notifying the\nbackend about guest endianess. This commit introduces a new message\ncalled VHOST_USER_SET_VRING_ENDIAN which is analogous to the ioctl()\ncalled VHOST_SET_VRING_ENDIAN used for kernel vhost backends. Such\nmessage is necessary for backends supporting legacy (pre-1.0) virtio\ndevices running in big-endian guests.\n\nSigned-off-by: Felipe Franciosi <felipe@nutanix.com>\nSigned-off-by: Mike Cui <cui@nutanix.com>",1,0.9996716976165771,VHOST_USER,"docs/interop/vhost-user.txt, hw/virtio/vhost-user.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,892721d91d9deb2affe4e61334b1dd1b43728f92,5df04f1762ef78c08fd69e19dcedf3d9ba8c9b86,Peter Xu,2017-07-17,"intel_iommu: fix iova for pt\n\nIOMMUTLBEntry.iova is returned incorrectly on one PT path (though mostly\nwe cannot really trigger this path, even if we do, we are mostly\ndisgarding this value, so it didn't break anything). Fix it by\nconverting the VTD_PAGE_MASK into the correct definition\nVTD_PAGE_MASK_4K, then remove VTD_PAGE_MASK.\n\nFixes: b93130 (""intel_iommu: cleanup vtd_{do_}iommu_translate()"")\nSigned-off-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999707281589508,VTD,"hw/i386/intel_iommu.c, hw/i386/intel_iommu_internal.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,208fa0e43645edd0b0d8f838857dfc79daff40a8,41d4e5ec9f77acaca706d00ee4baaf5324274da5,Igor Mammedov,2017-07-28,"pc: make 'pc.rom' readonly when machine has PCI enabled\n\nlooking at bios ROM mapping in QEMU it seems that only isapc\n(i.e. not PCI enabled machine) requires ROM being mapped as\nRW in other cases BIOS is mapped as RO. Do the same for option\nROM 'pc.rom' when machine has PCI enabled.\n\nAs useful side-effect pc.rom MemoryRegion stops being\nput in vhost memory map (filtered out by vhost_section()),\nwhich reduces number of entries by 1.\n\nCoincidentally it fixes migration failure reported in\n\n""[PATCH V2]  vhost: fix a migration failed because of vhost region merge""\n\nwhere following destination CLI with /sys/module/vhost/parameters/max_mem_regions = 8\n\nexport DIMMSCOUNT=6\nQEMU -enable-kvm \\n     -netdev type=tap,id=guest0,vhost=on,script=no,vhostforce \\n     -device virtio-net-pci,netdev=guest0 \\n     -m 256,slots=256,maxmem=2G \\n     `i=0; while [ $i -lt $DIMMSCOUNT ]; do echo \\n         ""-object memory-backend-ram,id=m$i,size=128M \\n          -device pc-dimm,id=d$i,memdev=m$i""; i=$(($i + 1)); \\n     done`\n\nwill fail to startup with error:\n\n ""-device pc-dimm,id=d5,memdev=m5: a used vhost backend has no free memory slots left""\n\nwhile it's possible to add the 6th DIMM during hotplug\non source.\n\nIssue is caused by the fact that number of entries in vhost map\nis bigger on 1 entry, when -device is processed, than\nafter guest boots up, and that offending entry belongs to\n'pc.rom', it's not like vhost intends to do IO in ROM range\nso making it RO hides region from vhost and makes number\nof entries in vhost memory map at -device/machine_done time\nmatch number of entries after guest boots.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReported-by: Peng Hao <peng.hao2@zte.com.cn>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9992326498031616,"DIMM, PCI",hw/i386/pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb539fd241900f51de7d21244f7a55422ad0d40a,aaaec6acad7cf97372d48c1b09126a09697519c8,James Hogan,2017-07-31,"target-mips: Don't stop on [d]mtc0 DESAVE/KScratch\n\nWriting to the MIPS DESAVE register (and now the KScratch registers)\nwill stop translation, supposedly due to risk of execution mode\nswitches. However these registers are basically RW scratch registers\nwith no side effects so there is no risk of them triggering execution\nmode changes.\n\nDrop the bstate = BS_STOP for these registers for both mtc0 and dmtc0.\n\nFixes: 7a387fffce50 (""Add MIPS32R2 instructions, and generally straighten out the instruction decoding. This is also the first percent towards MIPS64 support."")\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nCc: Yongbok Kim <yongbok.kim@imgtec.com>\nReviewed-by: Yongbok Kim <yongbok.kim@imgtec.com>\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>",1,0.9996739625930786,"MIPS, MIPS64",target/mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b74cddcbf6063f684725e3f8bca49a68e30cba71,2d1847ec1ca47fe82f1d8122409cedffdd3925d5,James Hogan,2017-08-02,"target/mips: Use BS_EXCP where interrupts are expected\n\nCommit e350d8ca3ac7 (""target/mips: optimize indirect branches"") made\nindirect branches able to directly find the next TB and jump straight to\nit without breaking out of translated code and going around the main\nexecution loop. This breaks the assumption in target/mips/translate.c\nthat BS_STOP is sufficient to cause pending interrupts to be handled,\nsince interrupts are only checked in the main loop.\n\nFix a few of these assumptions by using gen_save_pc to update the saved\nPC and using BS_EXCP instead of BS_STOP:\n\n - [D]MFC0 CP0_Count may trigger a timer interrupt which should be\n   immediately handled.\n\n - [D]MTC0 CP0_Cause may trigger an interrupt (but in fact translation\n   was only even being stopped in the DMTC0 case).\n\n - [D]MTC0 CP0_<any> when icount is used is assumed could potentially\n   cause interrupts.\n\n - EI may trigger an interrupt which was pending. I specifically hit\n   this case when running KVM nested in mipsel-softmmu. A timer\n   interrupt while the 2nd guest was executing is caught by KVM which\n   switches back to the normal Linux exception base and re-enables\n   interrupts with EI. Since the above commit QEMU doesn't leave\n   translated code until the nested KVM has already restored the KVM\n   exception base and returned to the 2nd guest, at which point it is\n   too late to check for pending interrupts and it gets stuck in an\n   infinite loop of unhandled interrupts.\n\nSomething similar was needed for ARM in commit b29fd33db578\n(""target/arm: use DISAS_EXIT for eret handling"").\n\nFixes: e350d8ca3ac7 (""target/mips: optimize indirect branches"")\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nCc: Yongbok Kim <yongbok.kim@imgtec.com>\nCc: Richard Henderson <rth@twiddle.net>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>",1,0.9996511936187744,"ARM, KVM",target/mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,51ca717b079dccae5b6cc9f45153f5044abd34f0,b74cddcbf6063f684725e3f8bca49a68e30cba71,James Hogan,2017-08-02,"target/mips: Drop redundant gen_io_start/stop()\n\nDMTC0 CP0_Cause does a redundant gen_io_start() and gen_io_end() pair,\neven though this is done for all DMTC0 operations outside of the switch\nstatement. Remove these redundant calls.\n\nFixes: 5dc5d9f055c5 (""mips: more fixes to the MIPS interrupt glue logic"")\nSigned-off-by: James Hogan <james.hogan@imgtec.com>\nCc: Yongbok Kim <yongbok.kim@imgtec.com>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nReviewed-by: Richard Henderson <rth@twiddle.net>\nSigned-off-by: Yongbok Kim <yongbok.kim@imgtec.com>",1,0.9991772770881652,MIPS,target/mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e6a74868d92f858ac33915b6772999d7de2fd288,aaaec6acad7cf97372d48c1b09126a09697519c8,Marc-Andr Lureau,2017-08-03,"build-sys: add --disable-vhost-user\n\nLearn to compile out vhost-user (net, scsi & upcoming users). Keep it\nenabled by default on non-win32, that is assumed to be POSIX. Fail if\ntrying to enable it on win32.\n\nWhen trying to make a vhost-user netdev, it gives the following error:\n\n-netdev vhost-user,id=foo,chardev=chr-test: Parameter 'type' expects a netdev backend type\n\nAnd similar error with the HMP/QMP monitors.\n\nWhile at it, rename CONFIG_VHOST_NET_TEST CONFIG_VHOST_USER_NET_TEST\nsince it's a vhost-user specific variable.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996310472488404,VHOST_USER,"configure, default-configs/pci.mak, default-configs/s390x-softmmu.mak, hw/virtio/virtio-pci.c, tests/Makefile.include",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e7bab9a256d653948760ef9f3d04f14eb2a81731,89fca22f212bd9000e9b481bd70dceb8df2a17a0,Greg Kurz,2017-08-02,"ppc: fix double-free in cpu_post_load()\n\nWhen running nested with KVM PR, ppc_set_compat() fails and QEMU crashes\nbecause of ""double free or corruption (!prev)"". The crash happens because\nerror_report_err() has already called error_free().\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997149109840392,KVM,target/ppc/machine.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b8af5b2d5f67b0e1b274f8532f42a47bfe46ea3b,650f3287abb7c6124b7fb0f4a2330246fe2d4da2,David Gibson,2017-08-08,"target/ppc: Add stub implementation of the PSSCR\n\nThe PSSCR register added in POWER9 controls certain power saving mode\nbehaviours.  Mostly, it's not relevant to TCG, however because qemu\ndoesn't know about it yet, it doesn't synchronize the state with KVM,\nand thus it doesn't get migrated.\n\nTo fix that, this adds a minimal stub implementation of the register.\nThis isn't complete, even to the extent that an implementation is\npossible in TCG, just enough to get migration working.  We need to\ncome back later and at least properly filter the various fields in the\nregister based on privilege level.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nReviewed-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>",1,0.9993557333946228,"KVM, TCG","target/ppc/cpu.h, target/ppc/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8565c3ab537e78f3e69977ec2c609dc9417a806e,2b218f5dbcca5fe728b1852d161d7a21fd02b2f5,Vladimir Sementsov-Ogievskiy,2017-08-09,"qemu-iotests: fix 185\n\n185 can sometimes produce wrong output like this:\n\n    185 2s ... - output mismatch (see 185.out.bad)\n    --- /work/src/qemu/master/tests/qemu-iotests/185.out    2017-07-14 \\n        15:14:29.520343805 +0300\n    +++ 185.out.bad 2017-08-07 16:51:02.231922900 +0300\n    @@ -37,7 +37,7 @@\n     {""return"": {}}\n     {""return"": {}}\n     {""timestamp"": {""seconds"":  TIMESTAMP, ""microseconds"":  TIMESTAMP}, \\n         ""event"": ""SHUTDOWN"", ""data"": {""guest"": false}}\n    -{""timestamp"": {""seconds"":  TIMESTAMP, ""microseconds"":  TIMESTAMP}, \\n        ""event"": ""BLOCK_JOB_CANCELLED"", ""data"": {""device"": ""disk"", \\n            ""len"": 4194304, ""offset"": 4194304, ""speed"": 65536, ""type"": \\n                ""mirror""}}\n    +{""timestamp"": {""seconds"":  TIMESTAMP, ""microseconds"":  TIMESTAMP}, \\n        ""event"": ""BLOCK_JOB_CANCELLED"", ""data"": {""device"": ""disk"", \\n            ""len"": 0, ""offset"": 0, ""speed"": 65536, ""type"": ""mirror""}}\n\n     === Start backup job and exit qemu ===\n\n    Failures: 185\n    Failed 1 of 1 tests\n\nThis is because, under heavy load, the quit can happen before the first\niteration of the mirror request has occurred.  To make sure we've had\ntime to iterate, let's just add a sleep for 0.5 seconds before quitting.\n\nSigned-off-by: Vladimir Sementsov-Ogievskiy <vsementsov@virtuozzo.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9997184872627258,LED,tests/qemu-iotests/185,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c363a37a450f925df76b88a87dc733bad75cc452,b96919d765a65f5e0f140479f7da0b94521263c6,Daniel Henrique Barboza,2017-08-09,"target/ppc: 'PVR != host PVR' in KVM_SET_SREGS workaround\n\nCommit d5fc133eed (""ppc: Rework CPU compatibility testing\nacross migration"") changed the way cpu_post_load behaves with\nthe PVR setting, causing an unexpected bug in KVM-HV migrations\nbetween hosts that are compatible (POWER8 and POWER8E, for example).\nEven with pvr_match() returning true, the guest freezes right after\ncpu_post_load. The reason is that the guest kernel can't handle a\ndifferent PVR value other that the running host in KVM_SET_SREGS.\n\nIn [1] it was discussed the possibility of a new KVM capability\nthat would indicate that the guest kernel can handle a different\nPVR in KVM_SET_SREGS. Even if such feature is implemented, there is\nstill the problem with older kernels that will not have this capability\nand will fail to migrate.\n\nThis patch implements a workaround for that scenario. If running\nwith KVM, check if the guest kernel does not have the capability\n(named here as 'cap_ppc_pvr_compat'). If it doesn't, calls\nkvmppc_is_pr() to see if the guest is running in KVM-HV. If all this\nhappens, set env->spr[SPR_PVR] to the same value as the current\nhost PVR. This ensures that we allow migrations with 'close enough'\nPVRs to still work in KVM-HV but also makes the code ready for\nthis new KVM capability when it is done.\n\nA new function called 'kvmppc_pvr_workaround_required' was created\nto encapsulate the conditions said above and to avoid calling too\nmany kvm.c internals inside cpu_post_load.\n\n[1] https://lists.gnu.org/archive/html/qemu-ppc/2017-06/msg00503.html\n\nSigned-off-by: Daniel Henrique Barboza <danielhb@linux.vnet.ibm.com>\n[dwg: Fix for the case of using TCG on a PPC host]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.99956613779068,"KVM, PPC, TCG","target/ppc/kvm.c, target/ppc/kvm_ppc.h, target/ppc/machine.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5dfaa532e0010c2dea50385c87683b0d756aa12f,c363a37a450f925df76b88a87dc733bad75cc452,Greg Kurz,2017-08-14,"ppc: fix ppc_set_compat() with KVM PR\n\nWhen running in KVM PR mode, kvmppc_set_compat() always fail because the\ncurrent PR implementation doesn't handle KVM_REG_PPC_ARCH_COMPAT. Now that\nthe machine code inconditionally calls ppc_set_compat_all() at reset time\nto restore the compat mode default value (commit 66d5c492dd3a9), it is\nimpossible to start a guest with PR:\n\nqemu-system-ppc64: Unable to set CPU compatibility mode in KVM:\n Invalid argument\n\nA tentative patch [1] was recently sent by Suraj to address the issue, but\nit would prevent the compat mode to be turned off on reset. And we really\ndon't want to explicitely check for KVM PR. During the patch's review,\nDavid suggested that we should only call the KVM ioctl() if the compat\nPVR changes. This allows at least to run with KVM PR, provided no compat\nmode is requested from the command line (which should be the case when\nrunning PR nested). This is what this patch does.\n\nWhile here, we also fix the side effect where KVM would fail but we would\nchange the CPU state in QEMU anyway.\n\n[1] http://patchwork.ozlabs.org/patch/782039/\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997267127037048,"KVM, PPC",target/ppc/compat.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,188bfe1b00360657c701cda2f97ce276add7e255,5dfaa532e0010c2dea50385c87683b0d756aa12f,Bharata B Rao,2017-08-17,"spapr: Allow configure-connector to be called multiple times\n\nIn case of in-kernel memory hot unplug, when the guest is not able\nto remove all the LMBs that are requested for removal, it will add back\nany LMBs that have been successfully removed. The DR Connectors of\nthese LMBs wouldn't have been unconfigured and hence the addition of\nthese LMBs will result in configure-connector call being issued on\nLMB DR connectors that are already in configured state. Such\nconfigure-connector calls will fail resulting in a DIMM which is\npartially unplugged.\n\nThis however worked till recently before we overhauled the DRC\nimplementation in QEMU. Commit 9d4c0f4f0a71e: ""spapr: Consolidate\nDRC state variables"" is the first commit where this problem shows up\nas per git bisect.\n\nIdeally guest shouldn't be issuing configure-connector call on an\nalready configured DR connector. However for now, work around this in\nQEMU by allowing configure-connector to be called multiple times for\nall types of DR connectors.\n\nSigned-off-by: Bharata B Rao <bharata@linux.vnet.ibm.com>\n[dwg: Corrected buglet that would have initialized fdt pointers ready\n for reading on a device not present at reset]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9991884827613832,DIMM,hw/ppc/spapr_drc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5f8c92e1d50d3629116497dd0a446e8cb28af7f8,e9a3591fa09f273592451f8b9f83692bcbedb60c,Cornelia Huck,2017-08-08,9pfs: fix dependencies\n\nNothing in fsdev/ or hw/9pfs/ depends on pci; it should rather depend\non CONFIG_VIRTFS and CONFIG_VIRTIO/CONFIG_XEN only.\n\nAcked-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nAcked-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>,1,0.9996585845947266,"VIRTFS, VIRTIO, XEN","fsdev/Makefile.objs, hw/9pfs/Makefile.objs, hw/Makefile.objs",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b2bfe9f7f1f7e3aa5edf9c3c4c7408082778ae17,b16595275bc9b9ce6a36bfb0344d514ab77e6b98,Andrew Jones,2017-09-04,"target/arm/kvm: pmu: improve error handling\n\nIf a KVM PMU init or set-irq attr call fails we just silently stop\nthe PMU DT node generation. The only way they could fail, though,\nis if the attr's respective KVM has-attr call fails. But that should\nnever happen if KVM advertises the PMU capability, because both\nattrs have been available since the capability was introduced. Let's\njust abort if this should-never-happen stuff does happen, because,\nif it does, then something is obviously horribly wrong.\n\nSigned-off-by: Andrew Jones <drjones@redhat.com>\nReviewed-by: Christoffer Dall <cdall@linaro.org>\nMessage-id: 1500471597-2517-5-git-send-email-drjones@redhat.com\n[PMM: change kvm32.c kvm_arm_pmu_init() to the new API too]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9988247752189636,KVM,"hw/arm/virt.c, target/arm/kvm32.c, target/arm/kvm64.c, target/arm/kvm_arm.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f58f25599b72c7479e6a1ff67c7f671823aa14da,469f3da42ef4af347fa7831e1cc0bd35d17f5b83,Thomas Huth,2017-09-04,"hw/arm/digic: Mark device with user_creatable = false\n\nQEMU currently shows some unexpected behavior when the user trys to\ndo a ""device_add digic"" on an unrelated ARM machine like integratorcp\nin ""-nographic"" mode (the device_add command does not immediately\nreturn to the monitor prompt), and trying to ""device_del"" the device\nlater results in a ""qemu/qdev-monitor.c:872:qdev_unplug: assertion\nfailed: (hotplug_ctrl)"" error condition.\nLooking at the realize function of the device, it uses serial_hds\ndirectly and this means that the device can not be added a second\ntime, so let's simply mark it with ""user_creatable = false"" now.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996771812438964,ARM,hw/arm/digic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b2f9005a2bb1d8da04dfa9183ee1e00f8f219bd4,311f2b7a47105a5bc460d350e77667bcabb16832,Mark Cave-Ayland,2017-09-04,apb: fix endianness for APB and PCI config accesses\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>,1,0.99969482421875,PCI,hw/pci-host/apb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ed860129acd3fcd0b1e47884e810212aaca4d21b,fb602cb726b3ebdd01ef3b1732d74baf9fee7ec9,Peter Maydell,2017-09-07,"boards.h: Define new flag ignore_memory_transaction_failures\n\nDefine a new MachineClass field ignore_memory_transaction_failures.\nIf this is flag is true then the CPU will ignore memory transaction\nfailures which should cause the CPU to take an exception due to an\naccess to an unassigned physical address; the transaction will\ninstead return zero (for a read) or be ignored (for a write).  This\nshould be set only by legacy board models which rely on the old\nRAZ/WI behaviour for handling devices that QEMU does not yet model.\nNew board models should instead use ""unimplemented-device"" for all\nmemory ranges where the guest will attempt to probe for a device that\nQEMU doesn't implement and a stub device is required.\n\nWe need this for ARM boards, where we're about to implement support for\ngenerating external aborts on memory transaction failures. Too many\nof our legacy board models rely on the RAZ/WI behaviour and we\nwould break currently working guests when their ""probe for device""\ncode provoked an external abort rather than a RAZ.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Alistair Francis <alistair.francis@xilinx.com>\nMessage-id: 1504626814-23124-2-git-send-email-peter.maydell@linaro.org",1,0.9982765913009644,ARM,"include/hw/boards.h, include/qom/cpu.h, qom/cpu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4672cbd7bed88dc67f089e84a0fd5d7739020c92,ed860129acd3fcd0b1e47884e810212aaca4d21b,Peter Maydell,2017-09-07,"hw/arm: Set ignore_memory_transaction_failures for most ARM boards\n\nSet the MachineClass flag ignore_memory_transaction_failures\nfor almost all ARM boards. This means they retain the legacy\nbehaviour that accesses to unimplemented addresses will RAZ/WI\nrather than aborting, when a subsequent commit adds support\nfor external aborts.\n\nThe exceptions are:\n * virt -- we know that guests won't try to prod devices\n   that we don't describe in the device tree or ACPI tables\n * mps2 -- this board was written to use unimplemented-device\n   for all the ranges with devices we don't yet handle\n\nNew boards should not set the flag, but instead be written\nlike the mps2.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Alistair Francis <alistair.francis@xilinx.com>\nMessage-id: 1504626814-23124-3-git-send-email-peter.maydell@linaro.org\nFor the Xilinx boards:\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>",1,0.9987057447433472,"ACPI, ARM","hw/arm/aspeed.c, hw/arm/collie.c, hw/arm/cubieboard.c, hw/arm/digic_boards.c, hw/arm/exynos4_boards.c, hw/arm/gumstix.c, hw/arm/highbank.c, hw/arm/imx25_pdk.c, hw/arm/integratorcp.c, hw/arm/kzm.c, hw/arm/mainstone.c, hw/arm/musicpal.c, hw/arm/netduino2.c, hw/arm/nseries.c, hw/arm/omap_sx1.c, hw/arm/palm.c, hw/arm/raspi.c, hw/arm/realview.c, hw/arm/sabrelite.c, hw/arm/spitz.c, hw/arm/stellaris.c, hw/arm/tosa.c, hw/arm/versatilepb.c, hw/arm/vexpress.c, hw/arm/xilinx_zynq.c, hw/arm/xlnx-ep108.c, hw/arm/z2.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c79c0a314c43b78f6326d5f137bdbafdbf8e9766,4672cbd7bed88dc67f089e84a0fd5d7739020c92,Peter Maydell,2017-09-07,"target/arm: Implement new do_transaction_failed hook\n\nImplement the new do_transaction_failed hook for ARM, which should\ncause the CPU to take a prefetch abort or data abort.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nMessage-id: 1504626814-23124-4-git-send-email-peter.maydell@linaro.org",1,0.9218968749046326,ARM,"target/arm/cpu.c, target/arm/internals.h, target/arm/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c99a55d38dd5b5131f3fcbbaf41828a09ee62544,c79c0a314c43b78f6326d5f137bdbafdbf8e9766,Portia Stephens,2017-09-07,target/arm: Add Jazelle feature\n\nThis adds a feature bit indicating support of the (trivial) Jazelle\nimplementation if ARM_FEATURE_V6 is set or if the processor is arm926\nor arm1026.  This fixes the issue that any BXJ instruction will\nresult in an illegal_op.  BXJ instructions will now check if the\narchitecture supports ARM_FEATURE_JAZELLE.\n\nSigned-off-by: Portia Stephens <portia.stephens@xilinx.com>\nReviewed-by: Alistair Francis <alistair.francis@xilinx.com>\nMessage-id: 20170905211232.11092-1-portia.stephens@xilinx.com\n[PMM: edited commit message and comment text a bit]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.999578058719635,ARM,"target/arm/cpu.c, target/arm/cpu.h, target/arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,10f12e6450407b18b4d5a6b50d3852dcfd7fff75,56258174238eb25df629a53a96e1ac16a32dc7d4,Daniel Henrique Barboza,2017-08-30,"hw/ppc: CAS reset on early device hotplug\n\nThis patch is a follow up on the discussions made in patch\n""hw/ppc: disable hotplug before CAS is completed"" that can be\nfound at [1].\n\nAt this moment, we do not support CPU/memory hotplug in early\nboot stages, before CAS. When a hotplug occurs, the event is logged\nin an internal RTAS event log queue and an IRQ pulse is fired. In\nregular conditions, the guest handles the interrupt by executing\ncheck_exception, fetching the generated hotplug event and enabling\nthe device for use.\n\nIn early boot, this IRQ isn't caught (SLOF does not handle hotplug\nevents), leaving the event in the rtas event log queue. If the guest\nexecutes check_exception due to another hotplug event, the re-assertion\nof the IRQ ends up de-queuing the first hotplug event as well. In short,\na device hotplugged before CAS is considered coldplugged by SLOF.\nThis leads to device misbehavior and, in some cases, guest kernel\nOoops when trying to unplug the device.\n\nA proper fix would be to turn every device hotplugged before CAS\nas a colplugged device. This is not trivial to do with the current\ncode base though - the FDT is written in the guest memory at\nppc_spapr_reset and can't be retrieved without adding extra state\n(fdt_size for example) that will need to managed and migrated. Adding\nthe hotplugged DT in the middle of CAS negotiation via the updated DT\ntree works with CPU devs, but panics the guest kernel at boot. Additional\nanalysis would be necessary for LMBs and PCI devices. There are\nquestions to be made in QEMU/SLOF/kernel level about how we can make\nthis change in a sustainable way.\n\nWith Linux guests, a fix would be the kernel executing check_exception\nat boot time, de-queueing the events that happened in early boot and\nprocessing them. However, even if/when the newer kernels start\nfetching these events at boot time, we need to take care of older\nkernels that won't be doing that.\n\nThis patch works around the situation by issuing a CAS reset if a hotplugged\ndevice is detected during CAS:\n\n- the DRC conditions that warrant a CAS reset is the same as those that\ntriggers a DRC migration - the DRC must have a device attached and\nthe DRC state is not equal to its ready_state. With that in mind, this\npatch makes use of 'spapr_drc_needed' to determine if a CAS reset\nis needed.\n\n- In the middle of CAS negotiations, the function\n'spapr_hotplugged_dev_before_cas' goes through all the DRCs to see\nif there are any DRC that requires a reset, using spapr_drc_needed. If\nthat happens, returns '1' in 'spapr_h_cas_compose_response' which will set\nspapr->cas_reboot to true, causing the machine to reboot.\n\nNo changes are made for coldplug devices.\n\n[1] http://lists.nongnu.org/archive/html/qemu-devel/2017-08/msg02855.html\n\nSigned-off-by: Daniel Henrique Barboza <danielhb@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9987366795539856,PCI,"hw/ppc/spapr.c, hw/ppc/spapr_drc.c, include/hw/ppc/spapr_drc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f5509b6bebc68fc781f0823e628fead884fd69d4,54a50dae93fa3c0b0bd6188ecf1777474d55648e,Alexey Kardashevskiy,2017-07-20,"spapr_iommu: Realloc guest visible TCE table when hot(un)plugging vfio-pci\n\nThis replaces g_malloc() with spapr_tce_alloc_table() as this is\nthe standard way of allocating tables and this allows moving the table\nback to KVM when unplugging a VFIO PCI device and VFIO TCE acceleration\nsupport is not present in the KVM.\n\nAlthough spapr_tce_alloc_table() is expected to fail with EBUSY\nif called when previous fd is not closed yet, in practice we will not\nsee it because cap_spapr_vfio is false at the moment.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.8863131403923035,"KVM, PCI, VFIO",hw/ppc/spapr_iommu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cc7b35b169e96600c09947a31c610c84a3eda3ff,280503ee9d7833a793770d732dda5358659825e9,Greg Kurz,2017-08-17,"spapr: fallback to raw mode if best compat mode cannot be set during CAS\n\nKVM PR doesn't allow to set a compat mode. This causes ppc_set_compat_all()\nto fail and we return H_HARDWARE to the guest right away.\n\nThis is excessive: even if we favor compat mode since commit 152ef803ceb19,\nwe should at least fallback to raw mode if the guest supports it.\n\nThis patch modifies cas_check_pvr() so that it also reports that the real\nPVR was found in the table supplied by the guest. Note that this is only\nmakes sense if raw mode isn't explicitely disabled (ie, the user didn't\nset the machine ""max-cpu-compat"" property). If this is the case, we can\nsimply ignore ppc_set_compat_all() failures, and let the guest run in raw\nmode.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9521992802619934,KVM,hw/ppc/spapr_hcall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0c8f86ea98945678622c6e4b070c4218a53a0d19,1343a107e46feed8b901bf08ad8485bd5f302912,Mao Zhongyi,2017-08-14,"net/rocker: Convert to realize()\n\nThe rocker device still implements the old PCIDeviceClass .init()\ninstead of the new .realize(). All devices need to be converted to\n.realize().\n\n.init() reports errors with fprintf() and return 0 on success, negative\nnumber on failure. Meanwhile, when -device rocker fails, it first report\na specific error, then a generic one, like this:\n\n    $ x86_64-softmmu/qemu-system-x86_64 -device rocker,name=qemu-rocker\n    rocker: name too long; please shorten to at most 9 chars\n    qemu-system-x86_64: -device rocker,name=qemu-rocker: Device initialization failed\n\nNow, convert it to .realize() that passes errors to its callers via its\nerrp argument. Also avoid the superfluous second error message. After\nthe patch, effect like this:\n\n    $ x86_64-softmmu/qemu-system-x86_64 -device rocker,name=qemu-rocker\n    qemu-system-x86_64: -device rocker,name=qemu-rocker: name too long; please shorten to at most 9 chars\n\nCc: jasowang@redhat.com\nCc: jiri@resnulli.us\nCc: armbru@redhat.com\nCc: f4bug@amsat.org\nSigned-off-by: Mao Zhongyi <maozy.fnst@cn.fujitsu.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Jason Wang <jasowang@redhat.com>",1,0.9986940026283264,PCI,hw/net/rocker/rocker.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,04ef33052c205170c92df21ca0b4be4f3b102188,619c200f6ce2f44fbc8a5732174530c3b4782aab,Philippe Mathieu-Daud,2017-09-10,"tcg/tci: do not use ldst label (never implemented)\n\nchanged in 659ef5cbb893, this fixes building with --enable-tcg-interpreter:\n\n/home/travis/build/qemu/qemu/tcg/tcg.c:116:14: error: tcg_out_ldst_finalize used but never defined [-Werror]\n static bool tcg_out_ldst_finalize(TCGContext *s);\n              ^\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Stefan Weil <sw@weilnetz.de>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20170911022839.23231-1-f4bug@amsat.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996862411499025,TCG,tcg/tci/tcg-target.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,21f3f8db0e61884ca48e9969b0305d54f1efe24b,4c563d9df556454e6278035927e9e082a05b30af,Cdric Le Goater,2017-09-08,"ppc/xive: fix OV5_XIVE_EXPLOIT bits\n\nOn POWER9, the Client Architecture Support (CAS) negotiation process\ndetermines whether the guest operates in XIVE Legacy compatibility or\nin XIVE exploitation mode. Now that we have initial guest support for\nthe XIVE interrupt controller, let's fix the bits definition which have\nevolved in the latest specs.\n\nThe platform advertises the XIVE Exploitation Mode support using the\nproperty ""ibm,arch-vec-5-platform-support-vec-5"", byte 23 bits 0-1 :\n\n - 0b00 XIVE legacy mode Only\n - 0b01 XIVE exploitation mode Only\n - 0b10 XIVE legacy or exploitation mode\n\nThe OS asks for XIVE Exploitation Mode support using the property\n""ibm,architecture-vec-5"", byte 23 bits 0-1:\n\n - 0b00 XIVE legacy mode Only\n - 0b01 XIVE exploitation mode Only\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999686360359192,XIVE,"hw/ppc/spapr.c, include/hw/ppc/spapr_ovec.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,70a0c19e83aa4c71c879d51e426e89e4b3d4e014,d492a75cfefd9a09125ba2b007c817c1417c3820,Greg Kurz,2017-09-14,"ppc/kvm: use kvm_vm_check_extension() in kvmppc_is_pr()\n\nIf the host has both KVM PR and KVM HV loaded and we pass:\n\n	-machine pseries,accel=kvm,kvm-type=PR\n\nthe kvmppc_is_pr() returns false instead of true. Since the helper\nis mostly used as fallback, it doesn't have any real impact with\nrecent kernels. A notable exception is the workaround to allow\nmigration between compatible hosts with different PVRs (eg, POWER8\nand POWER8E), since KVM still doesn't provide a way to check if a\nspecific PVR is supported (see commit c363a37a450f for details).\n\nAccording to the official KVM API documentation [1], KVM_PPC_GET_PVINFO\nis ""vm ioctl"", but we check it as a global ioctl. The following function\nin KVM is hence called with kvm == NULL and considers we're in HV mode.\n\nint kvm_vm_ioctl_check_extension(struct kvm *kvm, long ext)\n{\n	int r;\n	/* Assume we're using HV mode when the HV module is loaded */\n	int hv_enabled = kvmppc_hv_ops ? 1 : 0;\n\n	if (kvm) {\n		/*\n		 * Hooray - we know which VM type we're running on. Depend on\n		 * that rather than the guess above.\n		 */\n		hv_enabled = is_kvmppc_hv_enabled(kvm);\n	}\n\nLet's use kvm_vm_check_extension() to fix the issue.\n\n[1] https://www.kernel.org/doc/Documentation/virtual/kvm/api.txt\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996234178543092,"KVM, PPC",target/ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4446158a1a89d51d8724090aa8bd115729533e3a,db221e66d8117f810c8046ce42c156580e4292aa,Thomas Huth,2017-08-29,"tests: Fix broken ivshmem-server-msi/-irq tests\n\nBroken with commit b4ba67d9a7025 (""libqos: Change PCI accessors to take\nopaque BAR handle"") a while ago, but nobody noticed since the tests are\nnot run by default: The msix_pba_bar is not correctly initialized\nanymore if bir_pba has the same value as bir_table. With this fix,\n""make check SPEED=slow"" should work fine again.\n\nFixes: b4ba67d9a702507793c2724e56f98e9b0f7be02b\nTested-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Laurent Vivier <lvivier@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9996780157089232,PCI,tests/libqos/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,955f5c7ba127746345a3d43b4d7c885ca159ae6b,a9158a5cba955b79d580a252cc58ff44d154e370,Igor Mammedov,2017-09-18,"ide: ahci: unparent children buses before freeing their memory\n\nFixes read after freeing error reported\n  https://lists.gnu.org/archive/html/qemu-devel/2017-08/msg04243.html\n  Message-Id: <59a56959-ca12-ea75-33fa-ff07eba1b090@redhat.com>\n\nich9-ahci device creates ide buses and attaches them as QOM children\nat realize time, however it forgets to properly clean them up\nat unrealize time and frees memory containing these children,\nwith following call-chain:\n\n   qdev_device_add()\n     object_property_set_bool('realized', true)\n       device_set_realized()\n          ...\n          pci_qdev_realize() -> pci_ich9_ahci_realize() -> ahci_realize()\n               ...\n               s->dev = g_new0(AHCIDevice, ports);\n               ...\n                  AHCIDevice *ad = &s->dev[i];\n                  ide_bus_new(&ad->port, sizeof(ad->port), qdev, i, 1);\n                  ^^^ creates bus in memory allocated by above gnew()\n                      and adds it as child propety to ahci device\n          ...\n          hotplug_handler_plug(); -> goto post_realize_fail;\n          pci_qdev_unrealize() -> pci_ich9_uninit() -> ahci_uninit()\n              ...\n               g_free(s->dev);\n               ^^^ free memory that holds children busses\n\n          return with error from device_set_realized()\n\nAs result later when qdev_device_add() tries to unparent ich9-ahci\nafter failed device_set_realized(),\n    object_unparent() -> object_property_del_child()\niterates over existing QOM children including buses added by\nide_bus_new() and tries to unparent them, which causes access to\nfreed memory where they where located.\n\nReported-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: John Snow <jsnow@redhat.com>\nMessage-id: 1503938085-169486-1-git-send-email-imammedo@redhat.com\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.9995539784431458,AHCI,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b5684cd8c688337120eeba1654eba7e5863f04f6,e0b1a8a14e6bfcd66e1c20d6711f92ac86861e6b,David Hildenbrand,2017-09-13,"s390x: allow only 1 CPU with TCG\n\nSpecifying more than 1 CPU (e.g. -smp 5) leads to SIGP errors (the\nguest tries to bring these CPUs up but fails), because we don't support\nmultiple CPUs on s390x under TCG.\n\nLet's bail out if more than 1 is specified, so we don't raise people's\nhope.\n\nTested-by: Matthew Rosato <mjrosato@linux.vnet.ibm.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20170913132417.24384-12-david@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.999627947807312,TCG,hw/s390x/s390-virtio-ccw.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4926403c250fc41dc2d27f1c77e200e7d3d239cd,f51878ba863d1f6938bc8e04381979767b7b508c,Eduardo Habkost,2017-09-01,"hw/acpi-build: Fix SRAT memory building in case of node 0 without RAM\n\nCurrently, Using the fisrt node without memory on the machine makes\nQEMU unhappy. With this example command line:\n  ... \\n  -m 1024M,slots=4,maxmem=32G \\n  -numa node,nodeid=0 \\n  -numa node,mem=1024M,nodeid=1 \\n  -numa node,nodeid=2 \\n  -numa node,nodeid=3 \\nGuest reports ""No NUMA configuration found"" and the NUMA topology is\nwrong.\n\nThis is because when QEMU builds ACPI SRAT, it regards node 0 as the\ndefault node to deal with the memory hole(640K-1M). this means the\nnode0 must have some memory(>1M), but, actually it can have no\nmemory.\n\nFix this problem by cut out the 640K hole in the same way the PCI\n4G hole does.\n\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Dou Liyang <douly.fnst@cn.fujitsu.com>\nMessage-Id: <1504231805-30957-2-git-send-email-douly.fnst@cn.fujitsu.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9997227787971495,"ACPI, PCI",hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6977afda16c1e09dfbce4bdd877459a287269b72,31bc1d8481af414cfa2857f905e40f7d8e6d5b2e,Greg Kurz,2017-09-14,"ppc/kvm: check some capabilities with kvm_vm_check_extension()\n\nThe following capabilities are VM specific:\n- KVM_CAP_PPC_SMT_POSSIBLE\n- KVM_CAP_PPC_HTAB_FD\n- KVM_CAP_PPC_ALLOC_HTAB\n\nIf both KVM HV and KVM PR are present, checking them always return\nthe HV value, even if we explicitely requested to use PR.\n\nThis has no visible effect for KVM_CAP_PPC_ALLOC_HTAB, because we also\ntry the KVM_PPC_ALLOCATE_HTAB ioctl which is only suppored by HV. As\na consequence, the spapr code doesn't even check KVM_CAP_PPC_HTAB_FD.\n\nHowever, this will cause kvmppc_hint_smt_possible(), introduced by\ncommit fa98fbfcdfcb9, to report several VSMT modes (eg, Available\nVSMT modes: 8 4 2 1) whereas PR only support mode 1.\n\nThis patch fixes all three anyway to use kvm_vm_check_extension(). It\nis okay since the VM is already created at the time kvm_arch_init() or\nkvmppc_reset_htab() is called.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9797821640968324,"KVM, PPC, SSI",target/ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,82be8e7394b31fd2d740651365b8ebdd0c847529,58b62835863db2164002ad843455045c29bcb029,Greg Kurz,2017-09-15,"ppc/kvm: change kvmppc_get_htab_fd() to return -errno on error\n\nWhen kvmppc_get_htab_fd() fails, its return value is propagated up to\nqemu_savevm_state_iterate() or to qemu_savevm_state_complete_precopy().\nAll savevm handlers expect to receive a negative errno on error.\n\nLet's patch kvmppc_get_htab_fd() accordingly.\n\nWhile here, let's change htab_load() in the spapr code to also\npropagate the error, since it doesn't make sense to abort() if\nwe couldn't get the htab fd from KVM.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.998976230621338,KVM,"hw/ppc/spapr.c, target/ppc/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1ec26c757d5996468afcc0dced4fad04139574b3,15fcedb26fce9cde3f3a2cec533101b6fe43f6e5,Greg Kurz,2017-09-25,"spapr: fix the value of SDR1 in kvmppc_put_books_sregs()\n\nWhen running with KVM PR, if a new HPT is allocated we need to inform\nKVM about the HPT address and size. This is currently done by hacking\nthe value of SDR1 and pushing it to KVM in several places.\n\nAlso, migration breaks the guest since it is very unlikely the HPT has\nthe same address in source and destination, but we push the incoming\nvalue of SDR1 to KVM anyway.\n\nThis patch introduces a new virtual hypervisor hook so that the spapr\ncode can provide the correct value of SDR1 to be pushed to KVM each\ntime kvmppc_put_books_sregs() is called.\n\nIt allows to get rid of all the hacking in the spapr/kvmppc code and\nit fixes migration of nested KVM PR.\n\nSuggested-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996472597122192,KVM,"hw/ppc/spapr.c, hw/ppc/spapr_cpu_core.c, hw/ppc/spapr_hcall.c, target/ppc/cpu.h, target/ppc/kvm.c, target/ppc/kvm_ppc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f4924974c7c72560f68ab298ac25a525a28a2124,74083f9c01910b1d36ddaca04db468eb326676ae,Gerd Hoffmann,2017-09-26,"virtio-input: send rel-wheel events for wheel buttons\n\nqemu uses wheel-up/down button events for mouse wheel input, however\nlinux applications typically want REL_WHEEL events.\n\nThis fixes wheel with linux guests. Tested with X11/wayland, and\nwindows virtio-input driver.\n\nBased on a patch from Marc.\nAdded property to enable/disable wheel axis.\n\nCc: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nMessage-id: 20170926113243.26081-1-kraxel@redhat.com",1,0.9995108842849731,X11,"hw/input/virtio-input-hid.c, include/hw/compat.h, include/hw/virtio/virtio-input.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f3b2bea3c76ba9283b957f1373e7cebdbf863059,ab161529261928ae7f3556e3220829c34b2686ec,Thomas Huth,2017-09-27,"hw/usb/bus: Remove bad object_unparent() from usb_try_create_simple()\n\nValgrind detects an invalid read operation when hot-plugging of an\nUSB device fails:\n\n$ valgrind x86_64-softmmu/qemu-system-x86_64 -device usb-ehci -nographic -S\n==30598== Memcheck, a memory error detector\n==30598== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.\n==30598== Using Valgrind-3.12.0 and LibVEX; rerun with -h for copyright info\n==30598== Command: x86_64-softmmu/qemu-system-x86_64 -device usb-ehci -nographic -S\n==30598==\nQEMU 2.10.50 monitor - type 'help' for more information\n(qemu) device_add usb-tablet\n(qemu) device_add usb-tablet\n(qemu) device_add usb-tablet\n(qemu) device_add usb-tablet\n(qemu) device_add usb-tablet\n(qemu) device_add usb-tablet\n==30598== Invalid read of size 8\n==30598==    at 0x60EF50: object_unparent (object.c:445)\n==30598==    by 0x580F0D: usb_try_create_simple (bus.c:346)\n==30598==    by 0x581BEB: usb_claim_port (bus.c:451)\n==30598==    by 0x582310: usb_qdev_realize (bus.c:257)\n==30598==    by 0x4CB399: device_set_realized (qdev.c:914)\n==30598==    by 0x60E26D: property_set_bool (object.c:1886)\n==30598==    by 0x61235E: object_property_set_qobject (qom-qobject.c:27)\n==30598==    by 0x61000F: object_property_set_bool (object.c:1162)\n==30598==    by 0x4567C3: qdev_device_add (qdev-monitor.c:630)\n==30598==    by 0x456D52: qmp_device_add (qdev-monitor.c:807)\n==30598==    by 0x470A99: hmp_device_add (hmp.c:1933)\n==30598==    by 0x3679C3: handle_hmp_command (monitor.c:3123)\n\nThe object_unparent() here is not necessary anymore since commit\n69382d8b3e8600b3 (""qdev: Fix object reference leak in case device.realize()\nfails""), so let's remove it now.\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-id: 1506526106-30971-1-git-send-email-thuth@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9957551956176758,USB,hw/usb/bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,947a38bd6f1301a97f3c9c7485e7fa118bbc40cf,b6805e127c6b7815ea3abc6516b461a18d9c4d3d,David Hildenbrand,2017-09-22,"s390x/kvm: fix and cleanup storing CPU status\n\nenv->psa is a 64bit value, while we copy 4 bytes into the save area,\nresulting always in 0 getting stored.\n\nLet's try to reduce such errors by using a proper structure. While at\nit, use correct cpu->be conversion (and get_psw_mask()), as we will be\nreusing this code for TCG soon.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20170922140338.6068-1-david@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996777772903442,TCG,target/s390x/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,77077a83006c3c9bdca496727f1735a3c5c5355d,a26a98dfb9d448d7234d931ae3720feddf6f0651,Jan Kiszka,2017-10-06,"arm: Fix SMC reporting to EL2 when QEMU provides PSCI\n\nThis properly forwards SMC events to EL2 when PSCI is provided by QEMU\nitself and, thus, ARM_FEATURE_EL3 is off.\n\nFound and tested with the Jailhouse hypervisor. Solution based on\nsuggestions by Peter Maydell.\n\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nMessage-id: 4f243068-aaea-776f-d18f-f9e05e7be9cd@siemens.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9993926286697388,ARM,"target/arm/helper.c, target/arm/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,224e0c300a0098fb577a03bd29d774d0769f632a,3f0cddeee1f266d43c956581f3050058360a810d,Peter Maydell,2017-10-06,"target/arm: Check for xPSR mismatch usage faults earlier for v8M\n\nARM v8M specifies that the INVPC usage fault for mismatched\nxPSR exception field and handler mode bit should be checked\nbefore updating the PSR and SP, so that the fault is taken\nwith the existing stack frame rather than by pushing a new one.\nPerform this check in the right place for v8M.\n\nSince v7M specifies in its pseudocode that this usage fault\ncheck should happen later, we have to retain the original\ncode for that check rather than being able to merge the two.\n(The distinction is architecturally visible but only in\nvery obscure corner cases like attempting an invalid exception\nreturn with an exception frame in read only memory.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 1506092407-26985-7-git-send-email-peter.maydell@linaro.org",1,0.9990538954734802,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fe768788d29597ee56fc11ba2279d502c2617457,35337cc391245f251bfb9134f181c33e6375d6c1,Peter Maydell,2017-10-06,"target/arm: Fix calculation of secure mm_idx values\n\nIn cpu_mmu_index() we try to do this:\n        if (env->v7m.secure) {\n            mmu_idx += ARMMMUIdx_MSUser;\n        }\nbut it will give the wrong answer, because ARMMMUIdx_MSUser\nincludes the 0x40 ARM_MMU_IDX_M field, and so does the\nmmu_idx we're adding to, and we'll end up with 0x8n rather\nthan 0x4n. This error is then nullified by the call to\narm_to_core_mmu_idx() which masks out the high part, but\nwe're about to factor out the code that calculates the\nARMMMUIdx values so it can be used without passing it through\narm_to_core_mmu_idx(), so fix this bug first.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 1506092407-26985-16-git-send-email-peter.maydell@linaro.org",1,0.999733030796051,ARM,target/arm/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,03bf6b5c08c792f5c2b55d6038e9a6acbf43d9c3,b95b5a0a52b323533a7b5b2a0deedc7e9c6befd9,Thomas Huth,2017-09-28,"default-configs: Enable CONFIG_VMXNET3_PCI only on x86\n\nThe device can not be instantiated on many non-x86 and just prints\nsome error messages, e.g.:\n\n$ qemu-system-ppc64 -device vmxnet3 -M g3beige\n[vmxnet3][WR][vmxnet3_init_msix]: Failed to initialize MSI-X, error -95\n[vmxnet3][WR][vmxnet3_pci_realize]: Failed to initialize MSI-X, configuration is inconsistent.\n\nSince vmxnet3 is a para-virtualized device that is only useful on x86,\nit should also only be enabled on the x86 targets.\n\nReviewed-by: Dmitry Fleytman <dmitry@daynix.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.99918931722641,"PCI, VMXNET3_PCI","default-configs/i386-softmmu.mak, default-configs/pci.mak, default-configs/x86_64-softmmu.mak",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e568f9df086965813a318ff0558782ba90e59c33,dd13df011d6e28beb16ef9e4548cd55fee84cb08,Peter Maydell,2017-10-03,"linux-user: Allow -R values up to 0xffff0000 for 32-bit ARM guests\n\nThe 32-bit ARM validate_guest_space() check tests whether the\nspecified -R value leaves enough space for us to put the\ncommpage in at 0xffff0f00. However it was incorrectly doing\na <= check for the check against (guest_base + guest_size),\nwhich meant that it wasn't permitting the guest space to\nbutt right up against the commpage.\n\nFix the comparison, so that -R values all the way up to 0xffff0000\nwork correctly.\n\nReviewed-by: Emilio G. Cota <cota@braap.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9996218681335448,ARM,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,17bd9597be45b96ae00716b0ae01a4d11bbee1ab,7271a81949ee9806705d51618379246fb2b72209,Paolo Bonzini,2017-10-10,"nios2: define tcg_env\n\nThis should be done by all target and, since commit 53f6672bcf\n(""gen-icount: use tcg_ctx.tcg_env instead of cpu_env"", 2017-06-30),\nis causing the NIOS2 target to hang.\n\nThis is because the test for ""should I exit to the main loop""\nwas being done with the correct offset to the icount decrementer,\nbut using TCG temporary 0 (the frame pointer) rather than the\nenv pointer.\n\nCc: qemu-stable@nongnu.org\nCc: Marek Vasut <marex@denx.de>\nReported-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9832547307014464,"NIOS2, TCG",target/nios2/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2a129767ebb13ffc29dad6a8e8e6eec06dc38b25,af1c259f6d4f1c6b0af22a0ff0b764c4ef3ef85e,Daniel Henrique Barboza,2017-10-09,"hw/ppc/spapr.c: abort unplug_request if previous unplug isn't done\n\nLMB removal is completed only when the spapr_lmb_release callback\nis called after all DRCs of the dimm are detached. During this\ntime, it is possible that a unplug request for the same dimm\narrives, trying to detach DRCs that were detached by the guest\nin the first unplug_request.\n\nBQL doesn't help in this case - the lock will prevent any concurrent\nremoval from happening until the end of spapr_memory_unplug_request\nonly. What happens is that the second unplug_request ends up calling\nspapr_drc_detach in a DRC that were detached already, causing an\nassert error in spapr_drc_detach (e.g\nhttps://bugs.launchpad.net/qemu/+bug/1718118).\n\nspapr_lmb_release uses a structure called sPAPRDIMMState, stored in the\nspapr->pending_dimm_unplugs QTAIL, to track how many LMB DRCs are left\nto be detached by the guest. When there are no more DRCs left, this\nstructure is deleted and the pc-dimm unplug handler is called to\nfinish the process.\n\nThis patch reuses the sPAPRDIMMState to allow unplug_request to know\nif there is an ongoing unplug process for a given dimm, aborting the\nunplug request in this case, by doing the following changes:\n\n- in spapr_lmb_release callback, move the dimm state removal to the\nend, after pc-dimm unplug handler. With this change we can check for\nthe existence of the dimm state to see if the unplug process is\ndone.\n\n- use spapr_pending_dimm_unplugs_find in spapr_memory_unplug_request\nto check if the dimm state exists. If positive, there is an unplug\noperation already in progress for this dimm, meaning that we should\nabort it and warn the user about it.\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1718118\nSigned-off-by: Daniel Henrique Barboza <danielhb@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9993007183074952,DIMM,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ae990e6cd77a4e6004b7abc6d293598910abca63,b066c5375737ad0d630196dab2a2b329515a1d00,David Hildenbrand,2017-10-16,"memory: call log_start after region_add\n\nIt might be confusing for some listener implementations that implement\nboth, region_add and log_start (e.g. KVM) if we call log_start before an\nactual region was added using region_add.\n\nThis makes current KVM code trigger an assertion\n(""kvm_section_update_flags: error finding slot""). So let's just reverse\nthe order instead of tolerating log_start on yet unknown regions.\n\nReported-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171016144302.24284-2-david@redhat.com>\nTested-by: Joe Clifford <joeclifford@gmail.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9927449226379396,KVM,memory.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,83f7f32901c630f4fc01acd0d9082da466b17102,2b3394f13d2b38f0342ead78d5e60d42c29f1d4c,David Hildenbrand,2017-09-28,"target/s390x: factor out handling of WAIT PSW into s390_handle_wait()\n\nThis will now also detect crashes under TCG. We can directly use\ncpu->env.psw.addr instead of kvm_run, as we do a cpu_synchronize_state().\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20170928203708.9376-9-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9778349995613098,TCG,"target/s390x/helper.c, target/s390x/internal.h, target/s390x/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f875cb0c2180e182585dc00151e2cf74d20e7c8c,cf729baaec3fceff31ea8f41e34fbc7e2475916d,David Hildenbrand,2017-09-28,"s390x/kvm: factor out storing of adtl CPU status\n\nCalled from SIGP code to be factored out, so let's move it. Add a\nFIXME for TCG code in the future.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20170928203708.9376-15-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9981513619422911,TCG,"target/s390x/helper.c, target/s390x/internal.h, target/s390x/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7bcdbf51eeb674e42dd3f171f1caed4c44ba8710,6cd61517fb5217098b25c8f08dd45023de3f22bb,Richard Henderson,2017-10-19,target/arm: Don't set INSN_ARM_BE32 for CONFIG_USER_ONLY\n\nThis matches translator behaviour in arm_lduw_code.\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1724485\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>,1,0.9997190833091736,ARM,target/arm/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,74d7fc7f6385158b8a5c524c61baaef1b66f3dac,325a084c1ebccb265a3c8f1dd092ffbbfb448a00,Richard Henderson,2017-10-26,tcg: Avoid setting tcg_initialize if !CONFIG_TCG\n\nFix the build for --disable-tcg.\n\nFixes: 55c3ceef61fcf06fc98ddc752b7cce788ce7680b\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nMessage-id: 20171026135814.20773-1-richard.henderson@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9996917247772216,TCG,"target/arm/cpu.c, target/i386/cpu.c, target/mips/cpu.c, target/ppc/translate_init.c, target/s390x/cpu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,58803318e5a546b2eb0efd7a053ed36b6c29ae6f,abf6e752e55b2f5afb48303429dea2db7c3a62de,Stefano Stabellini,2017-10-31,"fix WFI/WFE length in syndrome register\n\nWFI/E are often, but not always, 4 bytes long. When they are, we need to\nset ARM_EL_IL_SHIFT in the syndrome register.\n\nPass the instruction length to HELPER(wfi), use it to decrement pc\nappropriately and to pass an is_16bit flag to syn_wfx, which sets\nARM_EL_IL_SHIFT if needed.\n\nSet dc->insn in both arm_tr_translate_insn and thumb_tr_translate_insn.\n\nSigned-off-by: Stefano Stabellini <sstabellini@kernel.org>\nMessage-id: alpine.DEB.2.10.1710241055160.574@sstabellini-ThinkPad-X260\n[PMM: move setting of dc->insn for Thumb so it is correct for 32 bit insns]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995816349983216,ARM,"target/arm/helper.h, target/arm/internals.h, target/arm/op_helper.c, target/arm/psci.c, target/arm/translate-a64.c, target/arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3a575cd2c2411f139a95ace4b2523bc1dfd21755,3448d47b3172015006b79197eb5a69826c6a7b6d,Shanker Donthineni,2017-11-07,"hw/intc/arm_gicv3_its: Fix the VM termination in vm_change_state_handler()\n\nThe commit cddafd8f353d (""hw/intc/arm_gicv3_its: Implement state save\n/restore"") breaks the backward compatibility with the older kernels\nwhere vITS save/restore support is not available. The vmstate function\nvm_change_state_handler() should not be registered if the running kernel\ndoesn't support ITS save/restore feature. Otherwise VM instance will be\nkilled whenever vmstate callback function is invoked.\n\nObserved a virtual machine shutdown with QEMU-2.10+linux-4.11 when testing\nthe reboot command ""virsh reboot <domain> --mode acpi"" instead of reboot.\n\nKVM Error: 'KVM_SET_DEVICE_ATTR failed: Group 4 attr 0x00000000000001'\n\nSigned-off-by: Shanker Donthineni <shankerd@codeaurora.org>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nMessage-id: 1509712671-16299-1-git-send-email-shankerd@codeaurora.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995288848876952,KVM,hw/intc/arm_gicv3_its_kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8bf8e9df4a7d82c7a47cc961c9cdee1615595de0,541e1690420d293c1b09eeb128fac74e98cbef7a,James Clarke,2017-09-15,"linux-user/syscall.c: Handle SH4's exceptional alignment for p{read, write}64\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1716767\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nTested-By: John Paul Adrian Glaubitz <glaubitz@physik.fu-berlin.de>\nSigned-off-by: James Clarke <jrtc27@jrtc27.com>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9986485838890076,SH4,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a8b154a637b586441bad42259a8a9b9619cd117c,a4dd3d5172c951e05a7424f14c0f9372522b48f8,James Cowgill,2017-11-06,"linux-user: return EINVAL from prctl(PR_*_SECCOMP)\n\nIf an application tries to install a seccomp filter using\nprctl(PR_SET_SECCOMP), the filter is likely for the target instead of the host\narchitecture. This will probably cause qemu to be immediately killed when it\nexecutes another syscall.\n\nPrevent this from happening by returning EINVAL from both seccomp prctl\ncalls. This is the error returned by the kernel when seccomp support is\ndisabled.\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1726394\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nSigned-off-by: James Cowgill <james.cowgill@mips.com>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9996427297592164,ECC,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e4f0c6bb1a9f72ad9e32c3171d36bae17ea1cd67,b0fbe46ad82982b289a44ee2495b59b0bad8a842,Greg Kurz,2017-10-17,"ppc: fix setting of compat mode\n\nWhile trying to make KVM PR usable again, commit 5dfaa532ae introduced a\nregression: the current compat_pvr value is passed to KVM instead of the\nnew one. This means that we always pass 0 instead of the max-cpu-compat\nPVR during the initial machine reset. And at CAS time, we either pass\nthe PVR from the command line or even don't call kvmppc_set_compat() at\nall, ie, the PCR will not be set as expected.\n\nFor example if we start a big endian fedora26 guest in power7 compat\nmode on a POWER8 host, we get this in the guest:\n\n$ cat /proc/cpuinfo\nprocessor       : 0\ncpu             : POWER7 (architected), altivec supported\nclock           : 4024.000000MHz\nrevision        : 2.0 (pvr 004d 0200)\n\ntimebase        : 512000000\nplatform        : pSeries\nmodel           : IBM pSeries (emulated by qemu)\nmachine         : CHRP IBM pSeries (emulated by qemu)\nMMU             : Hash\n\nbut the guest can still execute POWER8 instructions, and the following\nprogram succeeds:\n\nint main()\n{\n        asm(""vncipher 0,0,0""); // ISA 2.07 instruction\n}\n\nLet's pass the new compat_pvr to kvmppc_set_compat() and the program fails\nwith SIGILL as expected.\n\nReported-by: Nageswara R Sastry <rnsastry@linux.vnet.ibm.com>\nSigned-off-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999657392501831,KVM,target/ppc/compat.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7264961934130df50d151def5eb415efa2e28ec5,1342b0355ed943ca4ad4e67e03390b69476b8a6b,Emilio G. Cota,2017-11-13,"hw: add .min_cpus and .default_cpus fields to machine_class\n\nmax_cpus needs to be an upper bound on the number of vCPUs\ninitialized; otherwise TCG region initialization breaks.\n\nSome boards initialize a hard-coded number of vCPUs, which is not\ncaptured by the global max_cpus and therefore breaks TCG initialization.\nFix it by adding the .min_cpus field to machine_class.\n\nThis commit also changes some user-facing behaviour: we now die if\n-smp is below this hard-coded vCPU minimum instead of silently\nignoring the passed -smp value (sometimes announcing this by printing\na warning). However, the introduction of .default_cpus lessens the\nlikelihood that users will notice this: if -smp isn't set, we now\nassign the value in .default_cpus to both smp_cpus and max_cpus. IOW,\nif a user does not set -smp, they always get a correct number of vCPUs.\n\nThis change fixes 3468b59 (""tcg: enable multiple TCG contexts in\nsoftmmu"", 2017-10-24), which broke TCG initialization for some\nARM boards.\n\nFixes: 3468b59e18b179bc63c7ce934de912dfa9596122\nReported-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nReviewed-by: Alistair Francis <alistair.francis@xilinx.com>\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nMessage-id: 1510343626-25861-6-git-send-email-cota@braap.org\nSuggested-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995517134666444,"ARM, TCG","hw/arm/exynos4_boards.c, hw/arm/raspi.c, hw/arm/xlnx-zcu102.c, include/hw/boards.h, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e05fba5004676cd0fa7c47b623cb0a14ad1feed8,4e8a737c092d25fe5ff99ac7bff01c222c1c017d,Sam Bobroff,2017-11-06,"target/ppc: correct htab shift for hash on radix\n\nKVM HV will soon support running a guest in hash mode on a POWER9 host\nrunning in radix mode (see [1]), however the guest currently fails to\nboot.\n\nThis is because the ""htab_shift"" value (the size of the MMU's hash\ntable) is added to the device tree before KVM has had a chance to\nchange it. If the host is in hash mode, KVM does not need to change it\nand so the problem is not seen, but when the host is in radix mode a\nchange is required and we see a problem.\n\nTo fix this, move the call spapr_setup_hpt_and_vrma() (where\nhtab_shift could be changed) up a little so that it's called before\nspapr_h_cas_compose_response() (where htab_shift is added to the\ndevice tree).\n\nSigned-off-by: Sam Bobroff <sam.bobroff@au1.ibm.com>\n\n[1] See http://www.spinics.net/lists/kvm-ppc/msg13057.html\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9979575872421264,KVM,hw/ppc/spapr_hcall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3c5f9c3f35dd3b6d1d1cd68c9d4d86fc3c59c397,3bdb5fcc9a08a9a47ce30c4e0c2d64c95190b49d,Richard Henderson,2017-11-14,target/arm: Fix GETPC usage in do_paired_cmpxchg64_l/be\n\nUse of GETPC must be restricted to those functions that are\ndirectly called from TCG generated code.\n\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nFixes: 2399d4e7cec22ecf1c51062d2ebfd45220dbaace\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>,1,0.9996923208236694,TCG,target/arm/helper-a64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ad4aca69bbd40663ca93a3eb1d8042c023b9b407,17b1af773ed81a9167abfa09749ab92bd05740b0,Stefan Berger,2017-11-10,"tpm_tis: Return TPM_VERSION_UNSPEC in case of BE failure\n\nIn case the backend has a failure, such as the tpm_emulator's CMD_INIT\nfailing, the TIS goes into failure mode and does not respond to reads\nor writes to MMIO registers. In this case we need to prevent the ACPI\ntable from being added and the straight-forward way is to indicate that\nthere's no known TPM version being used.\n\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>",1,0.9992000460624696,"ACPI, TPM",hw/tpm/tpm_tis.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9fa99d2519cbf71f871e46871df12cb446dc1c3e,d06bce95ff8c6e2f290db150695f826c3d57324f,Marcel Apfelbaum,2017-11-11,"hw/pci-host: Fix x86 Host Bridges 64bit PCI hole\n\nCurrently there is no MMIO range over 4G\nreserved for PCI hotplug. Since the 32bit PCI hole\ndepends on the number of cold-plugged PCI devices\nand other factors, it is very possible is too small\nto hotplug PCI devices with large BARs.\n\nFix it by reserving 2G for I4400FX chipset\nin order to comply with older Win32 Guest OSes\nand 32G for Q35 chipset.\n\nEven if the new defaults of pci-hole64-size will appear in\n""info qtree"" also for older machines, the property was\nnot implemented so no changes will be visible to guests.\n\nNote this is a regression since prev QEMU versions had\nsome range reserved for 64bit PCI hotplug.\n\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996562004089355,"PCI, Q35","hw/i386/pc.c, hw/pci-host/piix.c, hw/pci-host/q35.c, include/hw/i386/pc.h, include/hw/pci-host/q35.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7b8be49d36fc0a48e41ede7ba7e046c1db2b89bc,45bd4b1c099843565e1686f09ae307984a08a3d6,Dou Liyang,2017-11-14,"NUMA: Enable adding NUMA node implicitly\n\nLinux and Windows need ACPI SRAT table to make memory hotplug work properly,\nhowever currently QEMU doesn't create SRAT table if numa options aren't present\non CLI.\n\nWhich breaks both linux and windows guests in certain conditions:\n * Windows: won't enable memory hotplug without SRAT table at all\n * Linux: if QEMU is started with initial memory all below 4Gb and no SRAT table\n   present, guest kernel will use nommu DMA ops, which breaks 32bit hw drivers\n   when memory is hotplugged and guest tries to use it with that drivers.\n\nFix above issues by automatically creating a numa node when QEMU is started with\nmemory hotplug enabled but without '-numa' options on CLI.\n(PS: auto-create numa node only for new machine types so not to break migration).\n\nWhich would provide SRAT table to guests without explicit -numa options on CLI\nand would allow:\n * Windows: to enable memory hotplug\n * Linux: switch to SWIOTLB DMA ops, to bounce DMA transfers to 32bit allocated\n   buffers that legacy drivers/hw can handle.\n\n[Rewritten by Igor]\n\nReported-by: Thadeu Lima de Souza Cascardo <cascardo@canonical.com>\nSuggested-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Dou Liyang <douly.fnst@cn.fujitsu.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Richard Henderson <rth@twiddle.net>\nCc: Eduardo Habkost <ehabkost@redhat.com>\nCc: ""Michael S. Tsirkin"" <mst@redhat.com>\nCc: Marcel Apfelbaum <marcel@redhat.com>\nCc: Igor Mammedov <imammedo@redhat.com>\nCc: David Hildenbrand <david@redhat.com>\nCc: Thomas Huth <thuth@redhat.com>\nCc: Alistair Francis <alistair23@gmail.com>\nCc: Takao Indoh <indou.takao@jp.fujitsu.com>\nCc: Izumi Taku <izumi.taku@jp.fujitsu.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9986756443977356,ACPI,"hw/i386/pc.c, hw/i386/pc_piix.c, hw/i386/pc_q35.c, include/hw/boards.h, numa.c, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7337c6eb98786372cdbfe7ebe7affbd166fdc7ca,dc0bbef5e6049920873204d35cd27172b65d204f,David Hildenbrand,2017-11-16,"s390x/tcg: fix DIAG 308 with > 1 VCPU (MTTCG)\n\nCurrently, multi threaded TCG with > 1 VCPU gets stuck during IPL, when\nthe bios tries to switch to the loaded kernel via DIAG 308.\n\nAs run_on_cpu() is used, we run into a deadlock after handling the reset.\nWe need the iolock (just like KVM).\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171116170526.12643-4-david@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9997245669364928,"KVM, TCG",target/s390x/misc_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8775d91a0f42d016833330881bb587982db88a3c,7337c6eb98786372cdbfe7ebe7affbd166fdc7ca,Thomas Huth,2017-11-17,"pc-bios/s390-ccw: Fix problem with invalid virtio-scsi LUN when rebooting\n\nWhen rebooting a guest that has a virtio-scsi disk, the s390-ccw\nbios sometimes bails out with an error message like this:\n\n! SCSI cannot report LUNs: STATUS=02 RSPN=70 KEY=05 CODE=25 QLFR=00, sure !\n\nEnabling the scsi_req* tracing in QEMU shows that the ccw bios is\ntrying to execute the REPORT LUNS SCSI command with a LUN != 0, and\nthis causes the SCSI command to fail.\nLooks like we neither clear the BSS of the s390-ccw bios during reboot,\nnor do we explicitly set the default_scsi_device.lun value to 0, so\nthis variable can contain random values from the OS after the reboot.\nBy setting this variable explicitly to 0, the problem is fixed and\nthe reboots always succeed.\n\nBuglink: https://bugzilla.redhat.com/show_bug.cgi?id=1514352\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <1510942228-22822-1-git-send-email-thuth@redhat.com>\nAcked-by: Christian Borntraeger <borntraeger@de.ibm.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996904134750366,SCSI,pc-bios/s390-ccw/virtio-scsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2b75ef01caf74be5af964f97e37f07ff9034fe0b,96a8b92ed8f02d5e86ad380d3299d9f41f99b072,Peter Maydell,2017-11-03,nvic: Fix ARMv7M MPU_RBAR reads\n\nFix an incorrect mask expression in the handling of v7M MPU_RBAR\nreads that meant that we would always report the ADDR field as zero.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nMessage-id: 1509732813-22957-1-git-send-email-peter.maydell@linaro.org,1,0.9991152882575988,ARM,hw/intc/armv7m_nvic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f516511ea84d8bb3395d6ea95a7c7b80dc2a05e9,78bfef72fbf8705f002c5c57cf3f1d3b8e83399e,Peter Maydell,2017-11-07,"linux-user: Fix calculation of auxv length\n\nIn commit 7c4ee5bcc82e643 we changed the order in which we construct\nthe AUXV, but forgot to adjust the calculation of the length. The\nresult is that we set info->auxv_len to a bogus and negative value,\nand then later on the code in open_self_auxv() gets confused and\nends up presenting the guest with an empty file.\n\nSince we now have to calculate the auxv length up-front as part\nof figuring out how much we're going to put on the stack, set\ninfo->auxv_len then; this allows us to assert that we put the\nsame number of entries into auxv as we pre-calculated, rather\nthan merely having a comment saying we need to do that.\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1728116\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Riku Voipio <riku.voipio@linaro.org>",1,0.9996519088745116,AUX,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,34d49937e480edfa173d71e8c17972ad866b56c6,27266271977c5a30f2f7d493e042be1897827bdd,Peter Maydell,2017-11-20,"accel/tcg: Handle atomic accesses to notdirty memory correctly\n\nTo do a write to memory that is marked as notdirty, we need\nto invalidate any TBs we have cached for that memory, and\nupdate the cpu physical memory dirty flags for VGA and migration.\nThe slowpath code in notdirty_mem_write() does all this correctly,\nbut the new atomic handling code in atomic_mmu_lookup() doesn't\ndo anything at all, it just clears the dirty bit in the TLB.\n\nThe effect of this bug is that if the first write to a notdirty\npage for which we have cached TBs is by a guest atomic access,\nwe fail to invalidate the TBs and subsequently will execute\nincorrect code. This can be seen by trying to run 'javac' on AArch64.\n\nUse the new notdirty_call_before() and notdirty_call_after()\nfunctions to correctly handle the update to notdirty memory\nin the atomic codepath.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 1511201308-23580-3-git-send-email-peter.maydell@linaro.org",1,0.994872272014618,VGA,"accel/tcg/atomic_template.h, accel/tcg/cputlb.c, accel/tcg/user-exec.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7c3d1917fd7a3de906170fa3d6d3d4c5918b1e49,70b7fba9871fb282b4806a2445a1e82a7a51da10,Daniel P. Berrange,2017-11-21,"build: disarm the TCG unit test trap\n\nDevelopers sometimes mistakenly run 'make test' instead of 'make check'.\n'make test' triggers the ancient, unmaintained tcg unit tests in\ntests/tcg/Makefile which have long since ceased compiling.\n\nEven if someone fixes the TCG tests, it makes little sense to put\nthem in a 'make test' target, rather they should be 'make check-tcg',\npossibly wired up as a dependency of 'make check'.\n\nIn the meantime, this patch disarms the 'make test' trap by simply\ndeleting it so users get an immediate error. This should be enough\nfor them to remember to type 'make check' instead (or 'make help'\nto learn). It also deletes 'make speed' which is another route\ninto the tcg tests.\n\nSigned-off-by: Daniel P. Berrange <berrange@redhat.com>\nReviewed-by: Kashyap Chamarthy <kchamart@redhat.com>\nReviewed-by: Daniel Henrique Barboza <danielhb@linux.vnet.ibm.com>\nMessage-id: 20171121142538.22072-1-berrange@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9249285459518432,TCG,Makefile,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6dd836f5d32b989e18c6dda655a26f4d73a52f6a,6c3bc244d3cbdc5545504fda4fae0238ec36a3c0,Laurent Vivier,2017-11-21,"ppc: fix VTB migration\n\nMigration of a system under stress (for example, with\n""stress-ng --numa 2"") triggers on the destination\nsome kernel watchdog messages like:\n\nNMI watchdog: BUG: soft lockup - CPU#0 stuck for 3489660870s!\nNMI watchdog: BUG: soft lockup - CPU#1 stuck for 3489660884s!\n\nThis problem appears with the changes introduced by\n    42043e4 spapr: clock should count only if vm is running\n\nI think this commit only triggers the problem.\n\nKernel computes the soft lockup duration using the\nVirtual Timebase register (VTB), not using the Timebase\nRegister (TBR, the one 42043e4 stops).\n\nIt appears VTB is not migrated, so this patch adds it in\nthe list of the SPRs to migrate, and fixes the problem.\n\nFor the migration, I've tested a migration from qemu-2.8.0 and\npseries-2.8.0 to a patched master (qemu-2.11.0-rc1). The received\nVTB is 0 (as is it not initialized by qemu-2.8.0), but the value\nseems to be ignored by KVM and a non zero VTB is used by the kernel.\nI have no explanation for that, but as the original problem appears\nonly with SMP system under stress I suspect some problems in KVM\n(I think because VTB is shared by all threads of a core).\n\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997273087501526,KVM,target/ppc/translate_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8f2c4cbc76cd37c22d0ed9a23b833690e6c405b2,a15d835f00dce270fd3194e83d9910f4b5b44ac0,Juan Quintela,2017-11-22,"tcg: Fix compilation without TCG\n\nCommit 27266271977c started to use tb_unlock() and tlb_set_dirty() on\nnon TCG code.  Add the functions as stubs, so that builds with TCG\ndisabled continue to compile.\n\nSigned-off-by: Juan Quintela <quintela@redhat.com>\nAcked-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\n[PMM: tweaked commit message]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999047577381134,TCG,accel/stubs/tcg-stub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e07cc1929515cfb808b5c2fcc60c079e6be110cf,ee4d9ecc3675af1e68a9c00a8b338641898d613e,Suraj Jitindar Singh,2017-11-24,"target/ppc: Fix setting of cpu->compat_pvr on incoming migration\n\ncpu->compat_pvr is used to store the current compat mode of the cpu.\n\nOn the receiving side during incoming migration we check compatibility\nwith the compat mode by calling ppc_set_compat(). However we fail to set\nthe compat mode with the hypervisor since the ""new"" compat mode doesn't\ndiffer from the current (due to a ""cpu->compat_pvr != compat_pvr"" check).\nThis means that kvm runs the vcpus without a compat mode, which is the\nincorrect behaviour. The implication being that a compatibility mode\nwill never be in effect after migration.\n\nTo fix this so that the compat mode is correctly set with the\nhypervisor, store the desired compat mode and reset cpu->compat_pvr to\nzero before calling ppc_set_compat().\n\nFixes: 5dfaa532 (""ppc: fix ppc_set_compat() with KVM PR"")\n\nSigned-off-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996711015701294,KVM,target/ppc/machine.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0c86b2df78fecf1d0b5017e1bab6b2607556c5ed,c11d61271b9e6e7a1f0479ef1ca8fb55fa457a62,Laurent Vivier,2017-11-28,"pseries: fix TCG migration\n\nMigration of pseries is broken with TCG because\nQEMU tries to restore KVM MMU state unconditionally.\n\nThe result is a SIGSEGV in kvm_vm_ioctl():\n\n  #0  kvm_vm_ioctl (s=0x0, type=-2146390353)\n      at qemu/accel/kvm/kvm-all.c:2032\n  #1  0x00000001003e3e2c in kvmppc_configure_v3_mmu (cpu=<optimized out>,\n      radix=<optimized out>, gtse=<optimized out>, proc_tbl=<optimized out>)\n      at qemu/target/ppc/kvm.c:396\n  #2  0x00000001002f8b88 in spapr_post_load (opaque=0x1019103c0,\n      version_id=<optimized out>) at qemu/hw/ppc/spapr.c:1578\n  #3  0x000000010059e4cc in vmstate_load_state (f=0x106230000,\n      vmsd=0x1009479e0 <vmstate_spapr>, opaque=0x1019103c0,\n      version_id=<optimized out>) at qemu/migration/vmstate.c:165\n  #4  0x00000001005987e0 in vmstate_load (f=<optimized out>, se=<optimized out>)\n      at qemu/migration/savevm.c:748\n\nThis patch fixes the problem by not calling the KVM function with the\nTCG mode.\n\nFixes: d39c90f5f3 (""spapr: Fix migration of Radix guests"")\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nReviewed-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996163845062256,"KVM, TCG",hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,75ba2ddb188fa07c3442446766782036e3085cba,758ead31c7e17bf17a9ef2e0ca1c3e86ab296b43,Igor Mammedov,2017-11-20,"pc: fix crash on attempted cpu unplug\n\nwhen qemu is started with '-no-acpi' CLI option, an attempt\nto unplug a CPU using device_del results in null pointer\ndereference at:\n\n  #0 object_get_class\n  #1 pc_machine_device_unplug_request_cb\n  #2 qmp_marshal_device_del\n\nwhich is caused by pcms->acpi_dev == NULL due to ACPI support\nbeing disabled.\n\nConsidering that ACPI support is necessary for unplug to work,\ncheck that it's enabled and fail unplug request gracefully\nif no acpi device were found.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997305274009703,ACPI,hw/i386/pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2016986aedb6ea2839662eb5f60630f3e231bd1a,0a0dc59d27527b78a195c2d838d28b7b49e5a639,Alex Williamson,2017-12-13,"vfio: Fix vfio-kvm group registration\n\nCommit 8c37faa475f3 (""vfio-pci, ppc64/spapr: Reorder group-to-container\nattaching"") moved registration of groups with the vfio-kvm device from\nvfio_get_group() to vfio_connect_container(), but it missed the case\nwhere a group is attached to an existing container and takes an early\nexit.  Perhaps this is a less common case on ppc64/spapr, but on x86\n(without viommu) all groups are connected to the same container and\nthus only the first group gets registered with the vfio-kvm device.\nThis becomes a problem if we then hot-unplug the devices associated\nwith that first group and we end up with KVM being misinformed about\nany vfio connections that might remain.  Fix by including the call to\nvfio_kvm_device_add_group() in this early exit path.\n\nFixes: 8c37faa475f3 (""vfio-pci, ppc64/spapr: Reorder group-to-container attaching"")\nCc: qemu-stable@nongnu.org # qemu-2.10+\nReviewed-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nReviewed-by: Peter Xu <peterx@redhat.com>\nTested-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nTested-by: Eric Auger <eric.auger@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9977445602416992,KVM,hw/vfio/common.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2fb9636ebf24e695617bf407bf0a345aa223d1ac,c6e7958eb76ed267f7254b97f89773874df50e48,Alexey Kardashevskiy,2017-12-13,"vfio-pci: Remove unused fields from VFIOMSIXInfo\n\nWhen support for multiple mappings per a region were added, this was\nleft behind, let's finish and remove unused bits.\n\nFixes: db0da029a185 (""vfio: Generalize region support"")\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9989833235740662,VFIO,hw/vfio/pci.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,83d7f86d3d27473c0aac79c1baaa5c2ab01b02d9,1169d3aa5b19adca9384d954d80e1f48da388284,Peter Maydell,2017-12-13,"target/arm: Allow explicit writes to CONTROL.SPSEL in Handler mode\n\nIn ARMv7M the CPU ignores explicit writes to CONTROL.SPSEL\nin Handler mode. In v8M the behaviour is slightly different:\nwrites to the bit are permitted but will have no effect.\n\nWe've already done the hard work to handle the value in\nCONTROL.SPSEL being out of sync with what stack pointer is\nactually in use, so all we need to do to fix this last loose\nend is to update the condition we use to guard whether we\ncall write_v7m_control_spsel() on the register write.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 1512153879-5291-3-git-send-email-peter.maydell@linaro.org",1,0.9995879530906676,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1fa498fe0de979030bd1f481046e9f1c5574a584,5158de241b0fb344a6c948dfcbc4e611ab5fafbe,Peter Maydell,2017-12-13,"target/arm: Provide fault type enum and FSR conversion functions\n\nCurrently get_phys_addr() and its various subfunctions return\na hard-coded fault status register value for translation\nfailures. This is awkward because FSR values these days may\nbe either long-descriptor format or short-descriptor format.\nWorse, the right FSR type to use doesn't depend only on the\ntranslation table being walked -- some cases, like fault\ninfo reported to AArch32 EL2 for some kinds of ATS operation,\nmust be in long-descriptor format even if the translation\ntable being walked was short format. We can't get those cases\nright with our current approach.\n\nProvide fields in the ARMMMUFaultInfo struct which allow\nget_phys_addr() to provide sufficient information for a caller to\nconstruct an FSR value themselves, and utility functions which do\nthis for both long and short format FSR values, as a first step in\nswitching get_phys_addr() and its children to only returning the\nfailure cause in the ARMMMUFaultInfo struct.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nTested-by: Stefano Stabellini <sstabellini@kernel.org>\nMessage-id: 1512503192-2239-2-git-send-email-peter.maydell@linaro.org",1,0.9996190071105956,ARM,target/arm/internals.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5efe9ed45dec775ebe91ce72bd805ee780d16064,681f9a89d201d7891e2c60dff5e5415d8f618518,Peter Maydell,2017-12-13,"target/arm: Ignore fsr from get_phys_addr() in do_ats_write()\n\nIn do_ats_write(), rather than using the FSR value from get_phys_addr(),\nconstruct the PAR values using the information in the ARMMMUFaultInfo\nstruct. This allows us to create a PAR of the correct format regardless\nof what the translation table format is.\n\nFor the moment we leave the condition for ""when should this be a\n64 bit PAR"" as it was previously; this will need to be fixed to\nproperly support AArch32 Hyp mode.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nTested-by: Stefano Stabellini <sstabellini@kernel.org>\nMessage-id: 1512503192-2239-11-git-send-email-peter.maydell@linaro.org",1,0.9988808035850524,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,98ee9bedc734e18287902f39e3a3a8adb399386a,968db419de26d3011670ca7eeab57424f93cd888,David Hildenbrand,2017-11-30,"s390x: handle exceptions during s390_cpu_virt_mem_rw() correctly (TCG)\n\ns390_cpu_virt_mem_rw() must always return, so callers can react on\nan exception (e.g. see ioinst_handle_stcrw()).\n\nHowever, for TCG we always have to exit the cpu loop (and restore the\ncpu state before that) if we injected a program interrupt. So let's\nintroduce and use s390_cpu_virt_mem_handle_exc() in code that is not\npurely KVM.\n\nDirectly pass the retaddr we already have available in these functions.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-8-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996157884597778,"KVM, TCG","hw/s390x/s390-pci-inst.c, target/s390x/cpu.h, target/s390x/ioinst.c, target/s390x/mmu_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b8d55db07089493da8cc264ab5991253e1102822,b700d75eda81c371c575b759de8e260d9f147494,David Hildenbrand,2017-12-08,"s390x/tcg: fix and cleanup mcck injection\n\nThe architecture mode indication wasn't stored. The split of certain\n64bit fields was unnecessary. Also, the complete clock comparator, not\njust bit 0-55 (starting at byte 1) was stored.\n\nWe now generate a proper MCIC via the same helper we use for KVM.\n\nThere is more to clean up, but we will change the other parts later on\neither way.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-3-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9948953986167908,KVM,"target/s390x/excp_helper.c, target/s390x/internal.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0e9383bca8b92c4b457a46af0e351b7712984622,5a59bc1de21921996545574822e92004629dbd37,David Hildenbrand,2017-12-08,"s390x/tcg: ASI/ASGI/ALSI/ALSGI are atomic with Interlocked-acccess facility 1\n\nThe semantics of ASI/ASGI/ALSI/ALSGI changed. Let's implement them just\nlike LOAD AND ADD, so they are atomic. Emulate old behavior.\n\nThis fixes random crashes when booting a Linux kernel compiled for\nz196+ with SMP + MTTCG.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-7-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9993563294410706,TCG,"target/s390x/insn-data.def, target/s390x/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b9b0a4dc13cc6180c79056a7d15e828e93a24a41,a9de75a0b8b5acb26f26bd0048f0a33b416e5f66,David Hildenbrand,2017-12-08,"s390x/tcg: Implement STORE CHANNEL PATH STATUS\n\nJust like KVM does, we should suppress this instruction:\n    When this instruction is not provided, it is\n    checked for privileged operation exception and the\n    instruction is suppressed by the machine\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-11-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.8726773858070374,KVM,"target/s390x/insn-data.def, target/s390x/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,67113c03423a23e60915574275aed7d60e9f85e1,df592270447317d70c7f6ab204bbab27db1dee21,Michael Davidsaver,2017-11-26,"e500: fix pci host bridge class/type\n\nCorrect some confusion wrt. the PCI facing\nside of the PCI host bridge (not PCIe root complex).\nThe ref. manual for the mpc8533 (as well as\nmpc8540 and mpc8540) give the class code as\nPCI_CLASS_PROCESSOR_POWERPC.\nWhile the PCI_HEADER_TYPE field is oddly omitted,\nthe tables in the ""PCI Configuration Header""\nsection shows a type 0 layout using all 6 BAR\nregisters (as 2x 32, and 2x 64 bit regions)\n\nSo 997505065dc92e533debf5cb23012ba4e673d387\nseems to be in error.  Although there was\nperhaps some confusion as the mpc8533\nhas a separate PCIe root complex.\nWith PCIe, a root complex has PCI_HEADER_TYPE=1.\n\nNeither the PCI host bridge, nor the PCIe\nroot complex advertise class PCI_CLASS_BRIDGE_PCI.\n\nThis was confusing Linux guests, which try\nto interpret the host bridge as a pci-pci\nbridge, but get confused and re-enumerate\nthe bus when the primary/secondary/subordinate\nbus registers don't have valid values.\n\nSigned-off-by: Michael Davidsaver <mdavidsaver@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997076392173768,PCI,hw/pci-host/ppce500.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9a94ee5bb15793ef69692998ef57794a33074134,67113c03423a23e60915574275aed7d60e9f85e1,Cdric Le Goater,2017-11-24,"spapr/rtas: disable the decrementer interrupt when a CPU is unplugged\n\nWhen a CPU is stopped with the 'stop-self' RTAS call, its state\n'halted' is switched to 1 and, in this case, the MSR is not taken into\naccount anymore in the cpu_has_work() routine. Only the pending\nhardware interrupts are checked with their LPCR:PECE* enablement bit.\n\nIf the DECR timer fires after 'stop-self' is called and before the CPU\n'stop' state is reached, the nearly-dead CPU will have some work to do\nand the guest will crash. This case happens very frequently with the\nnot yet upstream P9 XIVE exploitation mode. In XICS mode, the DECR is\noccasionally fired but after 'stop' state, so no work is to be done\nand the guest survives.\n\nI suspect there is a race between the QEMU mainloop triggering the\ntimers and the TCG CPU thread but I could not quite identify the root\ncause. To be safe, let's disable in the LPCR all the exceptions which\ncan cause an exit while the CPU is in power-saving mode and reenable\nthem when the CPU is started.\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9685414433479308,"TCG, XICS, XIVE","hw/ppc/spapr_rtas.c, target/ppc/translate_init.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d6322252b3210b663e303746f151abbae7d0b6db,9a94ee5bb15793ef69692998ef57794a33074134,Cdric Le Goater,2017-11-24,"spapr/rtas: fix reboot of a a SMP TCG guest\n\nJust like for hot unplug CPUs, when a guest is rebooted, the secondary\nCPUs can be awaken by the decrementer and start entering SLOF at the\nsame time the boot CPU is.\n\nTo be safe, let's disable on the secondaries all the exceptions which\ncan cause an exit while the CPU is in power-saving mode.\n\nBased on previous work from Nikunj A Dadhania <nikunj@linux.vnet.ibm.com>\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996665716171264,TCG,hw/ppc/spapr_cpu_core.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bb2d8ab6369abc8e90a9f7e2e8f154fea752bdaf,f47bd1c839d57c12207a28421a9df718fbf476ba,Greg Kurz,2017-12-06,"spapr: fix LSI interrupt specifiers in the device tree\n\nLoPAPR 1.1 B.6.9.1.2 describes the ""#interrupt-cells"" property of the\nPowerPC External Interrupt Source Controller node as follows:\n\n#interrupt-cells\n\n  Standard property name to define the number of cells in an interrupt-\n  specifier within an interrupt domain.\n\n  prop-encoded-array: An integer, encoded as with encode-int, that denotes\n  the number of cells required to represent an interrupt specifier in its\n  child nodes.\n\n  The value of this property for the PowerPC External Interrupt option shall\n  be 2. Thus all interrupt specifiers (as used in the standard interrupts\n  property) shall consist of two cells, each containing an integer encoded\n  as with encode-int. The first integer represents the interrupt number the\n  second integer is the trigger code: 0 for edge triggered, 1 for level\n  triggered.\n\nThis patch fixes the interrupt specifiers in the ""interrupt-map"" property\nof the PHB node, that were setting the second cell to 8 (confusion with\nIRQ_TYPE_LEVEL_LOW ?) instead of 1.\n\nVIO devices and RTAS event sources use the same format for interrupt\nspecifiers: while here, we introduce a common helper to handle the\nencoding details.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nTested-by: Cdric Le Goater <clg@kaod.org>\n--\nv3: - reference public LoPAPR instead of internal PAPR+ in changelog\n    - change helper name to spapr_dt_xics_irq()\n\nv2: - drop the erroneous changes to the ""interrupts"" prop in PCI device nodes\n    - introduce a common helper to encode interrupt specifiers\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999681830406189,PCI,"hw/ppc/spapr_events.c, hw/ppc/spapr_pci.c, hw/ppc/spapr_vio.c, include/hw/ppc/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1481fe5fcfeb7fcf3c1ebb9d8c0432e3e0188ccf,4f441474c61f317de7927edfdb1d042b0b6f3882,Laurent Vivier,2017-12-14,"spapr: don't initialize PATB entry if max-cpu-compat < power9\n\nif KVM is enabled and KVM capabilities MMU radix is available,\nthe partition table entry (patb_entry) for the radix mode is\ninitialized by default in ppc_spapr_reset().\n\nIt's a problem if we want to migrate the guest to a POWER8 host\nwhile the kernel is not started to set the value to the one\nexpected for a POWER8 CPU.\n\nThe ""-machine max-cpu-compat=power8"" should allow to migrate\na POWER9 KVM host to a POWER8 KVM host, but because patb_entry\nis set, the destination QEMU tries to enable radix mode on the\nPOWER8 host. This fails and cancels the migration:\n\n    Process table config unsupported by the host\n    error while loading state for instance 0x0 of device 'spapr'\n    load of migration failed: Invalid argument\n\nThis patch doesn't set the PATB entry if the user provides\na CPU compatibility mode that doesn't support radix mode.\n\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9508481621742249,KVM,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2e63eb2becc228232f12a1ea30a91b2aa8c5cecd,d12c5b7ddf2cee57f3e72fe6f450203a9ab455ed,Simon Gaiser,2017-10-28,"xen/pt: Set is_express to avoid out-of-bounds write\n\nThe passed-through device might be an express device. In this case the\nold code allocated a too small emulated config space in\npci_config_alloc() since pci_config_size() returned the size for a\nnon-express device. This leads to an out-of-bound write in\nxen_pt_config_reg_init(), which sometimes results in crashes. So set\nis_express as already done for KVM in vfio-pci.\n\nShortened ASan report:\n\n==17512==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x611000041648 at pc 0x55e0fdac51ff bp 0x7ffe4af07410 sp 0x7ffe4af07408\nWRITE of size 2 at 0x611000041648 thread T0\n    #0 0x55e0fdac51fe in memcpy /usr/include/x86_64-linux-gnu/bits/string3.h:53\n    #1 0x55e0fdac51fe in stw_he_p include/qemu/bswap.h:330\n    #2 0x55e0fdac51fe in stw_le_p include/qemu/bswap.h:379\n    #3 0x55e0fdac51fe in pci_set_word include/hw/pci/pci.h:490\n    #4 0x55e0fdac51fe in xen_pt_config_reg_init hw/xen/xen_pt_config_init.c:1991\n    #5 0x55e0fdac51fe in xen_pt_config_init hw/xen/xen_pt_config_init.c:2067\n    #6 0x55e0fdabcf4d in xen_pt_realize hw/xen/xen_pt.c:830\n    #7 0x55e0fdf59666 in pci_qdev_realize hw/pci/pci.c:2034\n    #8 0x55e0fdda7d3d in device_set_realized hw/core/qdev.c:914\n[...]\n\n0x611000041648 is located 8 bytes to the right of 256-byte region [0x611000041540,0x611000041640)\nallocated by thread T0 here:\n    #0 0x7ff596a94bb8 in __interceptor_calloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xd9bb8)\n    #1 0x7ff57da66580 in g_malloc0 (/lib/x86_64-linux-gnu/libglib-2.0.so.0+0x50580)\n    #2 0x55e0fdda7d3d in device_set_realized hw/core/qdev.c:914\n[...]\n\nSigned-off-by: Simon Gaiser <hw42@ipsumj.de>\nAcked-by: Stefano Stabellini <sstabellini@kernel.org>\nSigned-off-by: Stefano Stabellini <sstabellini@kernel.org>",1,0.9847918748855592,KVM,hw/xen/xen_pt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,21cb1e63a594e36ff350fba41600190fb0a1f42b,bef2ed3fd2454586a7c1132ad574b891741d12c6,Marc-Andr Lureau,2017-11-06,"tpm-passthrough: workaround a possible race\n\nThe TPM backend processing thread has common shared variable race\nissues. (they should not be so easy to reach since guest interaction\nwith the device is slow compared to host emulation)\n\nAn obvious one is setting op_cancelled from device thread after\ncalling write(cancel_fd). The backend thread may return before the\ndevice thread has set the variable. Instead set it before\ncancellation. Even if the write() failed, the end result is command\nget possibly cancelled (even if cancellation came from external\nsources it doesn't matter much).\n\nIt's worth to consider removing the backend processing thread for now.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>",1,0.999737560749054,TPM,hw/tpm/tpm_passthrough.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,683c4b775355cc7acd301e8efe7d4c1c9acdafd8,9375c44fdfc07c0fef3052a3f25a13197a528902,Stefan Berger,2017-11-05,"tpm: tpm_passthrough: Fail startup if FE buffer size < BE buffer size\n\nIf the requested buffer size of the frontend is smaller than the fixed\nbuffer size of the host's TPM, fail the startup_tpm() interface function,\nwhich will make the device unusable. We fail it because the backend TPM\ncould produce larger packets than what the frontend could pass to the OS.\n\nThe current combination of TIS frontend and either passthrough or emulator\nbackend will not lead to this case since the TIS can support any size of\nbuffer.\n\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>",1,0.9996745586395264,TPM,hw/tpm/tpm_passthrough.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6d56fc6cc372284a4571f09b361a9ccd99318103,e691e0ed135ac989221683ca9560c34d357edc57,Alex Benne,2017-12-06,target/sh4: fix TCG leak during gusa sequence\n\nThis fixes bug #1735384 while running java under qemu-sh4. When debug\nwas enabled it showed a problem with TCG temps. Once fixed I was able\nto run java -version normally.\n\nCc: qemu-stable@nongnu.org\nReported-by: John Paul Adrian Glaubitz <glaubitz@physik.fu-berlin.de>\nSuggested-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nMessage-Id: <20171206093050.25308-1-alex.bennee@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>,1,0.9997039437294006,TCG,target/sh4/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ebd05fea9be1dfd043aaa763fb6d2cd971346a58,09df29b665a91ba78b2187ce3b1967526ce121f6,David Hildenbrand,2017-11-29,cpus: make pause_all_cpus() play with SMP on single threaded TCG\n\npause_all_cpus() is sometimes called from a VCPU thread (e.g. s390x\nduring special reset). It cannot deal with multiple VCPUs per Thread\n(single threaded TCG) yet.\n\nBooting an s390x guest with -smp 2 and single threaded TCG from disk\ncurrently fails. The DIAG 308 will issue a pause_all_cpus() and wait\nforever for the CPUs to actually stop. But it is waiting for itself.\n\nSo let's stop all VCPUs belonging to the current thread. Factor out\nstopping of a VCPU.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171129191215.11323-1-david@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9994268417358398,TCG,cpus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d84be02d69a23dea249f351324d497f613994129,ebd05fea9be1dfd043aaa763fb6d2cd971346a58,David Hildenbrand,2017-11-29,"cpu-exec: fix missed CPU kick during interrupt injection\n\nThe conditional memory barrier not only looks strange but actually is\nwrong.\n\nOn s390x, I can reproduce interrupts via cpu_interrupt() not leading to\na proper kick out of emulation every now and then. cpu_interrupt() is\nespecially used for inter CPU communication via SIGP (esp. external\ncalls and emergency interrupts).\n\nWith this patch, I was not able to reproduce. (esp. no stalls or hangs\nin the guest).\n\nMy setup is s390x MTTCG with 16 VCPUs on 8 CPU host, running make -j16.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171129191319.11483-1-david@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997236132621764,TCG,accel/tcg/cpu-exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e38bc23454ef763deb4405ebdee6a1081aa00bc8,aef172ffdc2f9c41d9cc043a55f1259e7c07e587,Peter Lieven,2017-12-08,"block/iscsi: only report an iSCSI Failure if we don't handle it gracefully\n\nwe currently report an ""iSCSI Failure"" in iscsi_co_generic_cb if the task\nhasn't completed with SCSI_STATUS_GOOD. However, we expect a failure in\nsome cases and handle it gracefully. This is the case for misaligned UNMAPs\nand WRITESAME10/16 calls without UNMAP. In this case a failure in the\nlogs can be quite misleading.\n\nWhile we are at it improve the logging to reveal which operation failed\nat what LBA.\n\nSigned-off-by: Peter Lieven <pl@kamp.de>\nMessage-Id: <1512733868-9009-3-git-send-email-pl@kamp.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9988583326339722,SCSI,block/iscsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,43ab9a5376c95c61ae898a222c4d04bdf60e239b,23bafd75cd979ad3a21af10273c5a0c5d67d068b,Laurent Vivier,2017-12-21,"hw/i386/vmport: fix missing definitions with non-log trace backends\n\nWhen compiled with anything other than the 'log' trace backend, we have:\n\n   error: implicit declaration of function 'qemu_log_mask'\n   error: 'LOG_UNIMP' undeclared (first use in this function)\n\nThis patch adds the missing include.\n\nFixes: 7299e1a411\n       (""hw/i386/vmport: replace fprintf() by trace events or LOG_UNIMP"")\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nMessage-id: 20171221211103.30311-1-laurent@vivier.eu\n[PMM: fixed commit message description of when problem occurs]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999686598777771,UNIMP,hw/i386/vmport.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bcfdacfe2f56647d07a0093c415d43d33ee954b2,f2bc54de47404b70b9ac87e2c75489f2652643e7,Marc-Andr Lureau,2017-12-12,"dump-guest-memory.py: fix ""You can't do that without a process to debug""\n\nIf the script is run with a core (no running process), it produces an\nerror:\n\n(gdb)  dump-guest-memory /tmp/vmcore X86_64\nguest RAM blocks:\ntarget_start     target_end       host_addr        message count\n---------------- ---------------- ---------------- ------- -----\n0000000000000000 00000000000a0000 00007f7935800000 added       1\n00000000000a0000 00000000000b0000 00007f7934200000 added       2\n00000000000c0000 00000000000ca000 00007f79358c0000 added       3\n00000000000ca000 00000000000cd000 00007f79358ca000 joined      3\n00000000000cd000 00000000000e8000 00007f79358cd000 joined      3\n00000000000e8000 00000000000f0000 00007f79358e8000 joined      3\n00000000000f0000 0000000000100000 00007f79358f0000 joined      3\n0000000000100000 0000000080000000 00007f7935900000 joined      3\n00000000fd000000 00000000fe000000 00007f7934200000 added       4\n00000000fffc0000 0000000100000000 00007f7935600000 added       5\nPython Exception <class 'gdb.error'> You can't do that without a process to debug.:\nError occurred in Python command: You can't do that without a process\nto debug.\n\nReplace the object_resolve_path_type() function call call with a\nlocal volatile variable.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997251629829408,X86_64,"hw/misc/vmcoreinfo.c, scripts/dump-guest-memory.py",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,880b1ffe6ec2f0ae25cc4175716227ad275e8b8a,bcfdacfe2f56647d07a0093c415d43d33ee954b2,Herv Poussineau,2017-12-10,"smbus: do not immediately complete commands\n\nPIIX4 errata says that ""immediate polling of the Host Status Register BUSY\nbit may indicate that the SMBus is NOT busy.""\nDue to this, some code does the following steps:\n(a) set parameters\n(b) start command\n(c) check for smbus busy bit set (to know that command started)\n(d) check for smbus busy bit not set (to know that command finished)\n\nLet (c) happen, by immediately setting the busy bit, and really executing\nthe command when status register has been read once.\n\nThis fixes a problem with AMIBIOS, which can now properly initialize the PIIX4.\n\nSigned-off-by: Herv Poussineau <hpoussin@reactos.org>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9997311234474182,PIIX4,hw/i2c/pm_smbus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,996feed462fa7f249f03ffb0520c2ef0c5bc3312,c97d6d2cdf97edb4aebe832fdba65d701ad7bcb6,Sergio Andres Gomez Del Real,2017-09-13,"i386: hvf: fix licensing issues; isolate task handling code (GPL v2-only)\n\nThis patch replaces the license header for those files that were either\nGPL v2-or-v3, or GPL v2-only; the replacing license is GPL v2-or-later.\nThe code for task switching/handling, which is derived from KVM and\nhence is GPL v2-only, is isolated in the new files (with this license)\nx86_task.c/.h, and the corresponding compilation rule is added to\ntarget/i386/hvf-utils/Makefile.objs.\n\nSigned-off-by: Sergio Andres Gomez Del Real <Sergio.G.DelReal@gmail.com>\nMessage-Id: <20170913090522.4022-4-Sergio.G.DelReal@gmail.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9869627356529236,KVM,"target/i386/hvf-all.c, target/i386/hvf-utils/Makefile.objs, target/i386/hvf-utils/vmx.h, target/i386/hvf-utils/x86.c, target/i386/hvf-utils/x86.h, target/i386/hvf-utils/x86_decode.c, target/i386/hvf-utils/x86_decode.h, target/i386/hvf-utils/x86_descr.c, target/i386/hvf-utils/x86_descr.h, target/i386/hvf-utils/x86_emu.c, target/i386/hvf-utils/x86_emu.h, target/i386/hvf-utils/x86_gen.h, target/i386/hvf-utils/x86_mmu.c, target/i386/hvf-utils/x86_mmu.h, target/i386/hvf-utils/x86_task.c, target/i386/hvf-utils/x86_task.h, target/i386/hvf-utils/x86hvf.c, target/i386/hvf-utils/x86hvf.h",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c3b1642b9b6b3ba4314d6be3be509d396372cfd5,c983ca845782bf91171b5ec4e59d122a21229745,Marc-Andr Lureau,2017-12-12,"dump-guest-memory.py: fix ""You can't do that without a process to debug""\n\nIf the script is run with a core (no running process), it produces an\nerror:\n\n(gdb)  dump-guest-memory /tmp/vmcore X86_64\nguest RAM blocks:\ntarget_start     target_end       host_addr        message count\n---------------- ---------------- ---------------- ------- -----\n0000000000000000 00000000000a0000 00007f7935800000 added       1\n00000000000a0000 00000000000b0000 00007f7934200000 added       2\n00000000000c0000 00000000000ca000 00007f79358c0000 added       3\n00000000000ca000 00000000000cd000 00007f79358ca000 joined      3\n00000000000cd000 00000000000e8000 00007f79358cd000 joined      3\n00000000000e8000 00000000000f0000 00007f79358e8000 joined      3\n00000000000f0000 0000000000100000 00007f79358f0000 joined      3\n0000000000100000 0000000080000000 00007f7935900000 joined      3\n00000000fd000000 00000000fe000000 00007f7934200000 added       4\n00000000fffc0000 0000000100000000 00007f7935600000 added       5\nPython Exception <class 'gdb.error'> You can't do that without a process to debug.:\nError occurred in Python command: You can't do that without a process\nto debug.\n\nReplace the object_resolve_path_type() function call with a local\nvolatile variable.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>",1,0.9997251629829408,X86_64,"hw/misc/vmcoreinfo.c, scripts/dump-guest-memory.py",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0785557f8811133bd69be02aeccf018d47a26373,bfe69cc867dfef4b8af348f1f7e36b2727283c4c,Michael Weiser,2018-01-11,"target/arm: Fix stlxp for aarch64_be\n\nldxp loads two consecutive doublewords from memory regardless of CPU\nendianness. On store, stlxp currently assumes to work with a 128bit\nvalue and consequently switches order in big-endian mode. With this\nchange it packs the doublewords in reverse order in anticipation of the\n128bit big-endian store operation interposing them so they end up in\nmemory in the right order. This makes it work for both MTTCG and !MTTCG.\nIt effectively implements the ARM ARM STLXP operation pseudo-code:\n\ndata = if BigEndian() then el1:el2 else el2:el1;\n\nWith this change an aarch64_be Linux 4.14.4 kernel succeeds to boot up\nin system emulation mode.\n\nSigned-off-by: Michael Weiser <michael.weiser@gmx.de>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.997920572757721,"ARM, TCG",target/arm/helper-a64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4d027afeb3a9781bf15ad30d43d07a02c2b08c73,0785557f8811133bd69be02aeccf018d47a26373,Zhaoshenglong,2018-01-11,"Virt: ACPI: fix qemu assert due to re-assigned table data address\n\nacpi_data_push uses g_array_set_size to resize the memory size. If there\nis no enough contiguous memory, the address will be changed. If we use\nthe old value, it will assert.\nqemu-kvm: hw/acpi/bios-linker-loader.c:214: bios_linker_loader_add_checksum:\nAssertion `start_offset < file->blob->len' failed.`\n\nThis issue only happens in building SRAT table now but here we unify the\npattern for other tables as well to avoid possible issues in the future.\n\nSigned-off-by: Zhaoshenglong <zhaoshenglong@huawei.com>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996814727783204,ACPI,hw/arm/virt-acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0b368a10c71af96f6cf93b0ba5c2ee3bdbd50e96,829600a519386c7b188d5d813e78ba69bf0bd323,Jan Dakinevich,2017-12-27,"i386/cpu/kvm: look at PMU's CPUID before setting MSRs\n\nCertain PMU-related MSRs are not supported for CPUs with PMU\narchitecture below version 2. KVM rejects any access to them (see\nintel_is_valid_msr_idx routine in KVM), and QEMU fails on the following\nassertion:\n\n  kvm_put_msrs: Assertion `ret == cpu->kvm_msr_buf->nmsrs' failed.\n\nQEMU also could fail if KVM exposes less fixed counters then 3. It could\nhappen if host system run inside another hypervisor, which is tweaking\nPMU-related CPUID. To prevent possible fail, number of fixed counters now is\nobtained in the same way as number of GP counters.\n\nReviewed-by: Roman Kagan <rkagan@virtuozzo.com>\nSigned-off-by: Jan Dakinevich <jan.dakinevich@virtuozzo.com>\nMessage-Id: <1514383466-7257-1-git-send-email-jan.dakinevich@virtuozzo.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996156692504884,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f887cf165db20f405cb8805c716bd363aaadf815,ada8d2e4369ea49677d8672ac81bce73eefd5b54,Daniel P. Berrange,2017-12-18,"ui: place a hard cap on VNC server output buffer size\n\nThe previous patches fix problems with throttling of forced framebuffer updates\nand audio data capture that would cause the QEMU output buffer size to grow\nwithout bound. Those fixes are graceful in that once the client catches up with\nreading data from the server, everything continues operating normally.\n\nThere is some data which the server sends to the client that is impractical to\nthrottle. Specifically there are various pseudo framebuffer update encodings to\ninform the client of things like desktop resizes, pointer changes, audio\nplayback start/stop, LED state and so on. These generally only involve sending\na very small amount of data to the client, but a malicious guest might be able\nto do things that trigger these changes at a very high rate. Throttling them is\nnot practical as missed or delayed events would cause broken behaviour for the\nclient.\n\nThis patch thus takes a more forceful approach of setting an absolute upper\nbound on the amount of data we permit to be present in the output buffer at\nany time. The previous patch set a threshold for throttling the output buffer\nby allowing an amount of data equivalent to one complete framebuffer update and\none seconds worth of audio data. On top of this it allowed for one further\nforced framebuffer update to be queued.\n\nTo be conservative, we thus take that throttling threshold and multiply it by\n5 to form an absolute upper bound. If this bound is hit during vnc_write() we\nforceably disconnect the client, refusing to queue further data. This limit is\nhigh enough that it should never be hit unless a malicious client is trying to\nexploit the sever, or the network is completely saturated preventing any sending\nof data on the socket.\n\nThis completes the fix for CVE-2017-15124 started in the previous patches.\n\nSigned-off-by: Daniel P. Berrange <berrange@redhat.com>\nReviewed-by: Darren Kenny <darren.kenny@oracle.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-id: 20171218191228.31018-12-berrange@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996621608734132,LED,ui/vnc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8638f1ad7403b63db880dadce38e6690b5d82b64,4b9774ef482d789d27938d0a7c14936ad706c74f,Peter Maydell,2018-01-16,"get_phys_addr_pmsav7: Support AP=0b111 for v7M\n\nFor PMSAv7, the v7A/R Arm ARM defines that setting AP to 0b111\nis an UNPREDICTABLE reserved combination. However, for v7M\nthis value is documented as having the same behaviour as 0b110:\nread-only for both privileged and unprivileged. Accept this\nvalue on an M profile core rather than treating it as a guest\nerror and a no-access page.\n\nReported-by: Andy Gross <andy.gross@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 1512742402-31669-1-git-send-email-peter.maydell@linaro.org",1,0.8492243885993958,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3b39d734141a71296d08af3d4c32f872fafd782e,a2a051591c599172993c07043e13e499736ed193,Peter Maydell,2018-01-16,"target/arm: Handle page table walk load failures correctly\n\nInstead of ignoring the response from address_space_ld*()\n(indicating an attempt to read a page table descriptor from\nan invalid physical address), use it to report the failure\ncorrectly.\n\nSince this is another couple of locations where we need to\ndecide the value of the ARMMMUFaultInfo ea bit based on a\nMemTxResult, we factor out that operation into a helper\nfunction.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995585083961488,ARM,"target/arm/helper.c, target/arm/internals.h, target/arm/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dd55c485ec2fcd28c245061b320398d35b92d30d,5d2c0464fa7e3b00ed8eb4791ba1e955e29b685b,Philippe Mathieu-Daud,2018-01-16,"sdhci: fix the PCI device, using the PCI address space for DMA\n\nWhile SysBus devices can use the get_system_memory() address space,\nPCI devices should use the bus master address space for DMA.\n\nSuggested-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20180115182436.2066-14-f4bug@amsat.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.959177315235138,PCI,"hw/sd/sdhci.c, include/hw/sd/sdhci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,db08b687cdd5319286665aabd34f82665630416f,b39e3f34c9de7ead6a11a74aa2de78baf41d81a7,Paolo Bonzini,2018-01-11,"cpus: unify qemu_*_wait_io_event\n\nExcept for round-robin TCG, every other accelerator is using more or\nless the same code around qemu_wait_io_event_common.  The exception\nis HAX, which also has to eat the dummy APC that is queued by\nqemu_cpu_kick_thread.\n\nWe can add the SleepEx call to qemu_wait_io_event under ""if\n(!tcg_enabled())"", since that is the condition that is used in\nqemu_cpu_kick_thread, and unify the function for KVM, HAX, HVF and\nmulti-threaded TCG.  Single-threaded TCG code can also be simplified\nsince it is only used in the round-robin, sleep-if-all-CPUs-idle case.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9857585430145264,"HAX, HVF, KVM, TCG",cpus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a36593e16757e524c1596d93914155bd8acbb90a,8e5dc9ba49743b46d955ec7dacb04e42ae7ada7c,Alexey Kardashevskiy,2018-01-11,"target/ppc: Yet another fix for KVM-HV HPTE accessors\n\nAs stated in the 1ad9f0a464fe commit log, the returned entries are not\na whole PTEG. It was not a problem before 1ad9f0a464fe as it would read\na single record assuming it contains a whole PTEG but now the code tries\nreading the entire PTEG and ""if ((n - i) < invalid)"" produces negative\nvalues which then are converted to size_t for memset() and that throws\nseg fault.\n\nThis fixes the math.\n\nWhile here, fix the last @i increment as well.\n\nFixes: 1ad9f0a464fe ""target/ppc: Fix KVM-HV HPTE accessors""\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997473359107972,KVM,target/ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7de22778e1e25d974bad61fbd00757296e3e421e,37e626cedae08288f73f2356530a0bd5f045c8b9,Maxime Coquelin,2018-01-12,"vhost-user: fix multiple queue specification\n\nThe number of queues supported by the slave is queried with\nmessage VHOST_USER_GET_QUEUE_NUM, not with message\nVHOST_USER_GET_PROTOCOL_FEATURES.\n\nSigned-off-by: Maxime Coquelin <maxime.coquelin@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996713399887084,VHOST_USER,docs/interop/vhost-user.txt,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d82c4f82e0233da642c36c40ef8da781fee689bc,fced4d00e68e7559c73746d963265f7fd0b6abf9,Dou Liyang,2017-12-14,"ACPI/unit-test: Add a testcase for RAM allocation in numa node\n\nAs QEMU supports the memory-less node, it is possible that there is\nno RAM in the first numa node(also be called as node0). eg:\n  ... \\n  -m 128,slots=3,maxmem=1G \\n  -numa node -numa node,mem=128M \\n\nBut, this makes it hard for QEMU to build a known-to-work ACPI SRAT\ntable. Only fixing it is not enough.\n\nAdd a testcase for this situation to make sure the ACPI table is\ncorrect for guest.\n\nSuggested-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Dou Liyang <douly.fnst@cn.fujitsu.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9992489218711852,ACPI,"tests/acpi-test-data/pc/DSDT.numamem, tests/acpi-test-data/pc/SRAT.numamem, tests/acpi-test-data/q35/DSDT.numamem, tests/acpi-test-data/q35/SRAT.numamem, tests/bios-tables-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0d85e7d99a099b84181ee8c00b80ee6148866f9b,6cf6fe394acdf9b0025ae36ff75dfa8dc68d5bca,Maxime Coquelin,2017-12-21,"vhost-user-test: fix features mask\n\nVIRTIO_NET_F_MAC is a bit position, not a bit mask.\n\nSigned-off-by: Maxime Coquelin <maxime.coquelin@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>",1,0.9994788765907288,"VIRTIO, VIRTIO_NET",tests/vhost-user-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a0c167a18470831e359f0538c3cf67907808f13e,29396ed9acfaee9936377ddece4b05452b417861,Mohammed Gamal,2017-11-29,"x86_iommu: check if machine has PCI bus\n\nStarting qemu with\nqemu-system-x86_64 -S -M isapc -device {amd|intel}-iommu\nleads to a segfault. The code assume PCI bus is present and\ntries to access the bus structure without checking.\n\nSince Intel VT-d and AMDVI should only work with PCI, add a\ncheck for PCI bus and return error if not present.\n\nReviewed-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Mohammed Gamal <mgamal@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>",1,0.9995145797729492,PCI,hw/i386/x86-iommu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f4bf56fb78ed0e9f60fa1ed656c14ff4c494da5a,69aff030643c1616474458cf7e19fc15a5f8f462,Jay Zhou,2018-01-12,vhost: remove assertion to prevent crash\n\nQEMU will assert on vhost-user backed virtio device hotplug if QEMU is\nusing more RAM regions than VHOST_MEMORY_MAX_NREGIONS (for example if\nit were started with a lot of DIMM devices).\n\nFix it by returning error instead of asserting and let callers of\nvhost_set_mem_table() handle error condition gracefully.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Jay Zhou <jianjay.zhou@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9996764659881592,DIMM,hw/virtio/vhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,21d64275adbc5655214659cb454f5476cb3c363b,b384cd95eb9c6f73ad84ed1bb0717a26e29cc78f,Thomas Huth,2018-01-16,"default-configs/ppc64-softmmu: Include 32-bit configs instead of copying them\n\nqemu-softmmu-ppc64 is supposed to be a superset of qemu-softmmu-ppc.\nHowever, instead of simply including the 32-bit config file, we've\nduplicated all CONFIG_xxx settings there instead. This way, we've missed\nsome CONFIG switches in ppc64-softmmu.mak which were only added to the\n32-bit config file (e.g. CONFIG_SUNGEM). Let's fix this problem by\nincluding the 32-bit config file into the 64-bit config file instead\nof duplicating all the CONFIG switches there.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9947615265846252,SUNGEM,default-configs/ppc64-softmmu.mak,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e537112b418306229eb74c53de93751dd7b484d0,bb8794307252be791f1723eae47983f815882376,David Hildenbrand,2017-12-18,"s390x/sclp: fix missing be conversion\n\nLinux crashes right now if maxmem > mem is specified on the command line.\n\nOn s390x, the guest can hotplug memory itself right now - very weird -\nand e.g. Fedora 27 will simply add all memory it can when booting.\n\nSo now, we have at least the same behavior on TCG and KVM.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171218224616.21030-3-david@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996802806854248,"KVM, TCG",hw/s390x/sclp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b5e85329026115b5a679849f45e7c19c2714e4fd,46fa893355e0bd88f3c59b886f0d75cbd5f0bbbe,David Hildenbrand,2018-01-12,"s390x/tcg: fixup TEST PROTECTION\n\nCC == 2 can only happen due to a protection exception, not if memory is\nnot available (PGM_ADDRESSING). So all PGM_ADDRESSING exceptions have to\nbe forwarded to the guest.\n\nSince the initial definition of TEST PROTECTION, we now read globals\n(e.g. PSW mask), so we have to correctly mark the instruction\n(otherwise, e.g. booting fedora 27 fails).\n\nAlso, the architecture explicitly specifies which exceptions are\nforwarded to the guest, this makes the code a little nicer.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20180112125452.8569-1-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9990261793136596,SSI,"target/s390x/cpu.h, target/s390x/helper.h, target/s390x/mem_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9c4bbee9e3b83544257e82566342c29e15a88637,a78b1299f1bbb9608e3e3a36a7f16cf700a2789d,Peter Maydell,2017-11-28,"page_unprotect(): handle calls to pages that are PAGE_WRITE\n\nIf multiple guest threads in user-mode emulation write to a\npage which QEMU has marked read-only because of cached TCG\ntranslations, the threads can race in page_unprotect:\n\n * threads A & B both try to do a write to a page with code in it at\n   the same time (ie which we've made non-writeable, so SEGV)\n * they race into the signal handler with this faulting address\n * thread A happens to get to page_unprotect() first and takes the\n   mmap lock, so thread B sits waiting for it to be done\n * A then finds the page, marks it PAGE_WRITE and mprotect()s it writable\n * A can then continue OK (returns from signal handler to retry the\n   memory access)\n * ...but when B gets the mmap lock it finds that the page is already\n   PAGE_WRITE, and so it exits page_unprotect() via the ""not due to\n   protected translation"" code path, and wrongly delivers the signal\n   to the guest rather than just retrying the access\n\nIn particular, this meant that trying to run 'javac' in user-mode\nemulation would fail with a spurious guest SIGSEGV.\n\nHandle this by making page_unprotect() assume that a call for a page\nwhich is already PAGE_WRITE is due to a race of this sort and return\na ""fault handled"" indication.\n\nSince this would cause an infinite loop if we ever called\npage_unprotect() for some other kind of fault than ""write failed due\nto bad access permissions"", tighten the condition in\nhandle_cpu_signal() to check the signal number and si_code, and add a\ncomment so that if somebody does ever find themselves debugging an\ninfinite loop of faults they have some clue about why.\n\n(The trick for identifying the correct setting for\ncurrent_tb_invalidated for thread B (needed to handle the precise-SMC\ncase) is due to Richard Henderson.  Paolo Bonzini suggested just\nrelying on si_code rather than trying anything more complicated.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-Id: <1511879725-9576-3-git-send-email-peter.maydell@linaro.org>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9968878626823424,TCG,"accel/tcg/translate-all.c, accel/tcg/user-exec.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,05b9ec96c1ae87fa2a61b2dcd62ee1263255c9e5,52483b067cce4a88ffbf8fbeea26de7549d2ad23,Jean-Christophe Dubois,2018-01-10,"sparc/leon3 irqmp: fix IRQ software ack\n\nWith the LEON3 IRQ controller IRQs can be acknowledged 2 ways:\n* Explicitly by software writing to the CLEAR_OFFSET register\n* Implicitly when the procesor is done running the trap handler attached\n  to the IRQ.\n\nThe actual IRQMP code only allows the implicit processor triggered IRQ ack.\nIf software write explicitly to the CLEAR_OFFSET register, this will clear\nthe pending bit in the register value but this will not lower the ongoing\nraised IRQ with the processor. The IRQ will be kept raised to the LEON\nprocessor until the related trap handler is run and the processor implicitly\nack the interrupt. So with the actual IRQMP code trap handler have to be run\neven if the software has already done its job by clearing the pending bit.\n\nThis feature has been tested on another LEON3 simulator (tsim_leon3 from\nGaisler) and it turns out that the Qemu implementation is not equivalent to\nthe tsim one. In tsim, if software does clear a pending interrupt before\nthe related interrupt handler is triggered the said interrupt handler will\nnot be called.\n\nThis patch brings the Qemu IRQMP implementation in line with the tsim\nimplementation by allowing IRQ to be acknowledged by software only.\n\nSigned-off-by: Jean-Christophe Dubois <jcd@tribudubois.net>\nReviewed-by: Fabien Chouteau <chouteau@adacore.com>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>",1,0.9997135996818542,LEON3,hw/intc/grlib_irqmp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,191f59dc17396bb5a8da50f8c59b6e0a430711a4,834a336eb911db8a8ca00e760ee6a85faca19414,linzhecheng,2018-01-11,"vga: check the validation of memory addr when draw text\n\nStart a vm with qemu-kvm -enable-kvm -vnc :66 -smp 1 -m 1024 -hda\nredhat_5.11.qcow2  -device pcnet -vga cirrus,\nthen use VNC client to connect to VM, and excute the code below in guest\nOS will lead to qemu crash:\n\nint main()\n {\n    iopl(3);\n    srand(time(NULL));\n    int a,b;\n    while(1){\n	a = rand()%0x100;\n	b = 0x3c0 + (rand()%0x20);\n        outb(a,b);\n    }\n    return 0;\n}\n\nThe above code is writing the registers of VGA randomly.\nWe can write VGA CRT controller registers index 0x0C or 0x0D\n(which is the start address register) to modify the\nthe display memory address of the upper left pixel\nor character of the screen. The address may be out of the\nrange of vga ram. So we should check the validation of memory address\nwhen reading or writing it to avoid segfault.\n\nSigned-off-by: linzhecheng <linzhecheng@huawei.com>\nMessage-id: 20180111132724.13744-1-linzhecheng@huawei.com\nFixes: CVE-2018-5683\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9990071654319764,VGA,hw/display/vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9aea1ea31af25fe344a88da086ff913cca09c667,0f79bfe38a2cf0f43c7ea4959da7f8ebd7858f3d,Ard Biesheuvel,2018-01-25,"target/arm: Fix 32-bit address truncation\n\nCommit (""3b39d734141a target/arm: Handle page table walk load failures\ncorrectly"") modified both versions of the page table walking code (i.e.,\narm_ldl_ptw and arm_ldq_ptw) to record the result of the translation in\na temporary 'data' variable so that it can be inspected before being\nreturned. However, arm_ldq_ptw() returns an uint64_t, and using a\ntemporary uint32_t variable truncates the upper bits, corrupting the\nresult. This causes problems when using more than 4 GB of memory in\na TCG guest. So use a uint64_t instead.\n\nSigned-off-by: Ard Biesheuvel <ard.biesheuvel@linaro.org>\nMessage-id: 20180119194648.25501-1-ard.biesheuvel@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996252059936525,TCG,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,71aa735b0a12201c2b14a76004ee3a58ff43798c,91f4e18d9550a19ccb33fdac37ab0caf084549c0,Luc MICHEL,2018-01-25,"hw/intc/arm_gic: Fix C_RPR value on idle priority\n\nWhen there is no active interrupts in the GIC, a read to the C_RPR\nregister should return the value of the ""Idle priority"", which is either\nthe maximum value an IRQ priority field can be set to, or 0xff.\n\nSince the QEMU GIC model implements all the 8 priority bits, the Idle\npriority is 0xff.\n\nInternally, when there is no active interrupt, the running priority\nvalue is 0x100. The gic_get_running_priority function returns an uint8_t\nand thus, truncate this value to 0x00 when returning it. This is wrong since\na value of 0x00 correspond to the maximum possible priority.\n\nThis commit fixes the returned value when the internal value is 0x100.\n\nNote that it is correct for the Non-Secure view to return 0xff even\nthough from the NS world point of view, only 7 priority bits are\nimplemented. The specification states that the Idle priority can be 0xff\neven when not all the 8 priority bits are implemented. This has been\nverified against a real GICv2 hardware on a Xilinx ZynqMP based board.\n\nRegarding the ARM11MPCore version of the GIC, the specification is not\nclear on that point, so this commit does not alter its behavior.\n\nSigned-off-by: Luc MICHEL <luc.michel@git.antfield.fr>\nMessage-id: 20180119145756.7629-4-luc.michel@greensocs.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997112154960632,ARM,hw/intc/arm_gic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,24da047af0e99a83fcc0d50b86c0f2627f7418b3,fbe5dac7b2777626670097218ce4dfc4a19a17e9,Linus Walleij,2018-01-25,"pl110: Implement vertical compare/next base interrupts\n\nThis implements rudimentary support for interrupt generation on the\nPL110. I am working on a new DRI/KMS driver for Linux and since that\nuses the blanking interrupt, we need something to fire here. Without\nany interrupt support Linux waits for a while and then gives ugly\nmessages about the vblank not working in the console (it does not\nhang perpetually or anything though, DRI is pretty forgiving).\n\nI solved it for now by setting up a timer to fire at 60Hz and pull\nthe interrupts for ""vertical compare"" and ""next memory base""\nat this interval. This works fine and fires roughly the same number\nof IRQs on QEMU as on the hardware and leaves the console clean\nand nice.\n\nPeople who want to create more accurate emulation can probably work\non top of this if need be. It is certainly closer to the hardware\nbehaviour than what we have today anyway.\n\nCc: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Linus Walleij <linus.walleij@linaro.org>\nMessage-id: 20180123225654.5764-1-linus.walleij@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\n[PMM: folded long lines]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995786547660828,PL110,hw/display/pl110.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,39e3e113bdb27b4144d697fbd6678a9c24740103,0f79bfe38a2cf0f43c7ea4959da7f8ebd7858f3d,Laurent Vivier,2018-01-19,target/m68k: fix TCG variable double free\n\nt64 is also unconditionally freed after the switch () { ... }\n\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Thomas Huth <huth@tuxfamily.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20180119114444.7590-1-laurent@vivier.eu>,1,0.9995335340499878,TCG,target/m68k/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9cbe305b60cc49cfcd134765b85c28be95b1b57d,d0fcf3bde4261c5c1f56ee628a1de6814847fdc0,Greg Kurz,2018-01-26,"spapr_pci: fix MSI/MSIX selection\n\nIn various place we don't correctly check if the device supports MSI or\nMSI-X. This can cause devices to be advertised with MSI support, even\nif they only support MSI-X (like virtio-pci-* devices for example):\n\n                ethernet@0 {\n                        ibm,req#msi = <0x1>; <--- wrong!\n			.\n			ibm,loc-code = ""qemu_virtio-net-pci:0000:00:00.0"";\n			.\n			ibm,req#msi-x = <0x3>;\n                };\n\nWorse, this can also cause the ""ibm,change-msi"" RTAS call to corrupt the\nPCI status and cause migration to fail:\n\n  qemu-system-ppc64: get_pci_config_device: Bad config data: i=0x6\n    read: 0 device: 10 cmask: 10 wmask: 0 w1cmask:0\n                              ^^\n           PCI_STATUS_CAP_LIST bit which is assumed to be constant\n\nThis patch changes spapr_populate_pci_child_dt() to properly check for\nMSI support using msi_present(): this ensures that PCIDevice::msi_cap\nwas set by msi_init() and that msi_nr_vectors_allocated() will look at\nthe right place in the config space.\n\nChecking PCIDevice::msix_entries_nr is enough for MSI-X but let's add\na call to msix_present() there as well for consistency.\n\nIt also changes rtas_ibm_change_msi() to select the appropriate MSI\ntype in Function 1 instead of always selecting plain MSI. This new\nbehaviour is compliant with LoPAPR 1.1, as described in ""Table 71.\nibm,change-msi Argument Call Buffer"":\n\n  Function 1: If Number Outputs is equal to 3, request to set to a new\n           number of MSIs (including set to 0).\n           If the ibm,change-msix-capable property exists and Number\n           Outputs is equal to 4, request is to set to a new number of\n           MSI or MSI-X (platform choice) interrupts (including set to\n           0).\n\nSince MSI is the the platform default (LoPAPR 6.2.3 MSI Option), let's\ncheck for MSI support first.\n\nAnd finally, it checks the input parameters are valid, as described in\nLoPAPR 1.1 ""R17.3.10.5.13"":\n\n  For the MSI option: The platform must return a Status of -3 (Parameter\n  error) from ibm,change-msi, with no change in interrupt assignments if\n  the PCI configuration address does not support MSI and Function 3 was\n  requested (that is, the ibm,req#msi property must exist for the PCI\n  configuration address in order to use Function 3), or does not support\n  MSI-X and Function 4 is requested (that is, the ibm,req#msi-x property\n  must exist for the PCI configuration address in order to use Function 4),\n  or if neither MSIs nor MSI-Xs are supported and Function 1 is requested.\n\nThis ensures that the ret_intr_type variable contains a valid MSI type\nfor this device, and that spapr_msi_setmsg() won't corrupt the PCI status.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996727705001832,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,802cbcb73002b92e6ddc8464d39b668a71b78d74,a5f99be41ee8d874ab63c4abf733c91a483a28d4,Prasad J Pandit,2017-11-16,"ps2: check PS2Queue pointers in post_load routine\n\nDuring Qemu guest migration, a destination process invokes ps2\npost_load function. In that, if 'rptr' and 'count' values were\ninvalid, it could lead to OOB access or infinite loop issue.\nAdd check to avoid it.\n\nReported-by: Cyrille Chatras <cyrille.chatras@orange.com>\nSigned-off-by: Prasad J Pandit <pjp@fedoraproject.org>\nMessage-id: 20171116075155.22378-1-ppandit@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9994581341743468,PS2,hw/input/ps2.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,edd09278932ac24adbf23ca7f7329bebaa7d9741,9ded780c4cc92d15a977dba589d64862e25a340e,Alex Williamson,2018-02-06,"vfio/pci: Fixup VFIOMSIXInfo comment\n\nThe fields were removed in the referenced commit, but the comment\nstill mentions them.\n\nFixes: 2fb9636ebf24 (""vfio-pci: Remove unused fields from VFIOMSIXInfo"")\nTested-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nTested-by: Eric Auger <eric.auger@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9164002537727356,VFIO,hw/vfio/pci.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d25836cafd7508090d211e97acfc0abc5ae88daa,369686267a4612d4000a1b67720c7f0aedd27539,Peter Xu,2018-01-22,"memory: do explicit cleanup when remove listeners\n\nWhen unregister memory listeners, we should call, e.g.,\nregion_del() (and possibly other undo operations) on every existing\nmemory region sections there, otherwise we may leak resources that are\nheld during the region_add(). This patch undo the stuff for the\nlisteners, which emulates the case when the address space is set from\ncurrent to an empty state.\n\nI found this problem when debugging a refcount leak issue that leads to\na device unplug event lost (please see the ""Bug:"" line below).  In that\ncase, the leakage of resource is the PCI BAR memory region refcount.\nAnd since memory regions are not keeping their own refcount but onto\ntheir owners, so the vfio-pci device's (who is the owner of the PCI BAR\nmemory regions) refcount is leaked, and event missing.\n\nWe had encountered similar issues before and fixed in other\nway (ee4c112846, ""vhost: Release memory references on cleanup""). This\npatch can be seen as a more high-level fix of similar problems that are\ncaused by the resource leaks from memory listeners. So now we can remove\nthe explicit unref of memory regions since that'll be done altogether\nduring unregistering of listeners now.\n\nBug: https://bugzilla.redhat.com/show_bug.cgi?id=1531393\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20180122060244.29368-5-peterx@redhat.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997041821479796,PCI,"hw/virtio/vhost.c, memory.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4d1369efaad3b5297f164d787bda3dd24723c1e2,631b59664c9d8472d64c9c9c14b709dd40f07b16,David Hildenbrand,2018-01-29,"s390x: fix size + content of STSI blocks\n\nAll blocks are 4k in size, which is only true for two of them right now.\nAlso some reserved fields were wrong, fix it and convert all reserved\nfields to u8.\n\nThis also fixes the LPAR part output in /proc/sysinfo under TCG. (for\nnow, everything was indicated as 0)\n\nWhile at it, introduce typedefs for these structs and use them in TCG/KVM\ncode.\n\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20180129125623.21729-13-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996166229248048,"KVM, TCG","target/s390x/cpu.h, target/s390x/kvm.c, target/s390x/misc_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,799478621e28f6d3717a405821bc3c39435794f6,4d1369efaad3b5297f164d787bda3dd24723c1e2,David Hildenbrand,2018-01-29,"s390x/tcg: STSI overhaul\n\nCurrent STSI implementation is a mess, so let's rewrite it.\n\nProblems fixed by this patch:\n1) The order of exceptions/when recognized is wrong.\n2) We have to store to virtual address space, not absolute.\n3) Alignment check of the block is missing.\n3) The SMP information is not indicated.\n\nWhile at it:\na) Make the code look nicer\n    - get rid of nesting levels\n    - use struct initialization instead of initializing to zero\n    - rename a misspelled field and rename function code defines\n    - use a union and have only one write statement\n    - use cpu_to_beX()\nb) Indicate the VM name/extended name + UUID just like KVM does\nc) Indicate that all LPAR CPUs we fake are dedicated\nd) Add a comment why we fake being a KVM guest\ne) Give our guest as default the name ""TCGguest""\nf) Fake the same CPU information we have in our Guest for all layers\n\nWhile at it, get rid of ""potential_page_fault()"" by forwarding the\nretaddr properly.\n\nThe result is best verified by looking at ""/proc/sysinfo"" in the guest\nwhen specifying on the qemu command line\n    -uuid ""74738ff5-5367-5958-9aee-98fffdcd1876"" \\n    -name ""extra long guest name""\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20180129125623.21729-14-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9942139983177184,"KVM, TCG","target/s390x/cpu.h, target/s390x/misc_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0125861eacc37478308b462dc9f41438c94fb5e2,46a99c9f73c7a93c3509782030b45d4e2c77d95a,Yi Min Zhao,2018-02-05,"s390x/pci: fixup the code walking IOMMU tables\n\nCurrent s390x PCI IOMMU code is lack of flags' checking, including:\n1) protection bit\n2) table length\n3) table offset\n4) intermediate tables' invalid bit\n5) format control bit\n\nThis patch introduces a new struct named S390IOTLBEntry, and makes up\nthese missed checkings. At the same time, inform the guest with the\ncorresponding error number when the check fails. Finally, in order to\nget the error number, we export s390_guest_io_table_walk().\n\nReviewed-by: Pierre Morel <pmorel@linux.vnet.ibm.com>\nSigned-off-by: Yi Min Zhao <zyimin@linux.vnet.ibm.com>\nMessage-Id: <20180205072258.5968-2-zyimin@linux.vnet.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996278285980223,PCI,"hw/s390x/s390-pci-bus.c, hw/s390x/s390-pci-bus.h, hw/s390x/s390-pci-inst.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5ede82b8ccb652382c106d53f656ed67997d76e8,04bb7fe2bf55bdf66d5b7a5a719b40bbb4048178,Peter Maydell,2018-02-09,"target/arm: Add armv7m_nvic_set_pending_derived()\n\nIn order to support derived exceptions (exceptions generated in\nthe course of trying to take an exception), we need to be able\nto handle prioritizing whether to take the original exception\nor the derived exception.\n\nWe do this by introducing a new function\narmv7m_nvic_set_pending_derived() which the exception-taking code in\nhelper.c will call when a derived exception occurs.  Derived\nexceptions are dealt with mostly like normal pending exceptions, so\nwe share the implementation with the armv7m_nvic_set_pending()\nfunction.\n\nNote that the way we structure this is significantly different\nfrom the v8M Arm ARM pseudocode: that does all the prioritization\nlogic in the DerivedLateArrival() function, whereas we choose to\nlet the existing ""identify highest priority exception"" logic\ndo the prioritization for us. The effect is the same, though.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 1517324542-6607-2-git-send-email-peter.maydell@linaro.org",1,0.9988605976104736,ARM,"hw/intc/armv7m_nvic.c, hw/intc/trace-events, target/arm/cpu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0094ca70e165cfb69882fa2e100d935d45f1c983,6c9485188170e11ad31ce477c8ce200b8e8ce59d,Peter Maydell,2018-02-09,"target/arm: Add ignore_stackfaults argument to v7m_exception_taken()\n\nIn the v8M architecture, if the process of taking an exception\nresults in a further exception this is called a derived exception\n(for example, an MPU exception when writing the exception frame to\nmemory). If the derived exception happens while pushing the initial\nstack frame, we must ignore any subsequent possible exception\npushing the callee-saves registers.\n\nIn preparation for making the stack writes check for exceptions,\nadd a return value from v7m_push_stack() and a new parameter to\nv7m_exception_taken(), so that the former can tell the latter that\nit needs to ignore failures to write to the stack. We also plumb\nthe argument through to v7m_push_callee_stack(), which is where\nthe code to ignore the failures will be.\n\n(Note that the v8M ARM pseudocode structures this slightly differently:\nderived exceptions cause the attempt to process the original\nexception to be abandoned; then at the top level it calls\nDerivedLateArrival to prioritize the derived exception and call\nTakeException from there. We choose to let the NVIC do the prioritization\nand continue forward with a call to TakeException which will then\ntake either the original or the derived exception. The effect is\nthe same, but this structure works better for QEMU because we don't\nhave a convenient top level place to do the abandon-and-retry logic.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 1517324542-6607-4-git-send-email-peter.maydell@linaro.org",1,0.9983715415000916,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd55947884b5421697d186016b0e57b1d6643fe0,1db5e96c54d8b3d1df0a6fed6771390be6b010da,Christoffer Dall,2018-02-01,"target/arm/kvm: gic: Prevent creating userspace GICv3 with KVM\n\nKVM doesn't support emulating a GICv3 in userspace, only GICv2.  We\ncurrently attempt this anyway, and as a result a KVM guest doesn't\nreceive interrupts and the user is left wondering why.  Report an error\nto the user if this particular combination is requested.\n\nSigned-off-by: Christoffer Dall <christoffer.dall@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20180201205307.30343-1-christoffer.dall@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9991139769554138,KVM,target/arm/kvm_arm.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e5d1730d1e5c1f341d2d692ab2ad0d8d2d7f47e1,50990b162c471a8de992d43a170a3ccf24462720,Eric Blake,2017-09-11,"libqos: Track QTestState with QPCIBus\n\nWhen initializing a QPCIBus, track which QTestState the bus is\nassociated with (so that a later patch can then explicitly use\nthat test state for all communication on the bus, rather than\nblindly relying on global_qtest).  Update the initialization\nfunctions to take another parameter, and update all callers to\npass in state (for now, most callers get away with passing the\ncurrent global_qtest as the current state, although this required\nfixing the order of initialization to ensure qtest_start() is\ncalled before qpci_init*() in rtl8139-test, and provided an\nopportunity to pass in the allocator in e1000e-test).\n\nTouch up some allocations to use g_new0() rather than g_malloc()\nwhile in the area, and simplify some code (all implementations\nof QOSOps provide a .init_allocator() that never fails).\n\nSigned-off-by: Eric Blake <eblake@redhat.com>\nReviewed-by: John Snow <jsnow@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\n[thuth: Removed hunk from vhost-user-test.c that is not required anymore,\n fixed conflict in qtest_vboot() and adjusted qpci_init_pc() in sdhci-test]\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9857165813446044,PCI,"tests/ahci-test.c, tests/e1000e-test.c, tests/i440fx-test.c, tests/ide-test.c, tests/libqos/ahci.c, tests/libqos/ahci.h, tests/libqos/libqos.c, tests/libqos/libqos.h, tests/libqos/pci-pc.c, tests/libqos/pci-pc.h, tests/libqos/pci-spapr.c, tests/libqos/pci-spapr.h, tests/libqos/pci.h, tests/q35-test.c, tests/rtl8139-test.c, tests/sdhci-test.c, tests/tco-test.c, tests/usb-hcd-ehci-test.c, tests/vhost-user-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9c29830c90d82f27f2152da187b29c71995e63b1,ec2e988fce1b262b802ef7285981629a8417cd8c,Thomas Huth,2018-02-12,"tests/m48t59: Fix and re-enable the test for sparc\n\nThe m48t59 test has been disabled in commit baeddded5fe6fa37d13fb94bf8d\n(""sparc: disable qtest in make check""), likely due to some timing issues\nin the bcd_check_time tests which might fail if it gets interrupted for\ntoo long. It should be OK to re-enable this test if we make sure that we\ndo not run it on timing-sensitive machines, thus it should be OK if we only\nrun it in the g_test_slow() mode.\n\nAdditionally, there are two other issues:\n\nFirst, the test can not run so easily on sparc64 anymore, since commit\nf3b18f35a23c60edbda6420cd (""sun4u: switch m48t59 NVRAM to MMIO access"")\nmoved the m48t59 device to the ebus instead, and for this you first\nhave to set up the corresponding PCI device (which is currently not\npossible from within the m48t59 test). So we can only re-enable this\ntest on sparc, but not the sparc64 target.\n\nSecond, the fuzzing test is executed before the bcd-check-time test\n(due to the naming of the tests), without having the base address set\nup properly, so the fuzzing test does not really check anything at all.\nFix it by setting up the base address from the main function already\nand by moving the qtest_start() to the tests themselves, so that each\ntest starts with a clean environment (since after the fuzzing, the clock\nis unusable for the bcd-check-time test).\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.99962317943573,PCI,"tests/Makefile.include, tests/m48t59-test.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,36476562d57a3b64bbe86db26e63677dd21907c5,ff8689611a1d954897d857b28f7ef404e11cfa2c,Peter Maydell,2018-02-22,"target/arm: Fix register definitions for VMIDR and VMPIDR\n\nThe register definitions for VMIDR and VMPIDR have separate\nreginfo structs for the AArch32 and AArch64 registers. However\nthe 32-bit versions are wrong:\n * they use offsetof instead of offsetoflow32 to mark where\n   the 32-bit value lives in the uint64_t CPU state field\n * they don't mark themselves as ARM_CP_ALIAS\n\nIn particular this means that if you try to use an Arm guest CPU\nwhich enables EL2 on a big-endian host it will assert at reset:\n target/arm/cpu.c:114: cp_reg_check_reset: Assertion `oldvalue == newvalue' failed.\n\nbecause the reset of the 32-bit register writes to the top\nhalf of the uint64_t.\n\nCorrect the errors in the structures.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\n---\nThis is necessary for 'make check' to pass on big endian\nsystems with the 'raspi3' board enabled, which is the\nfirst board which has an EL2-enabled-by-default CPU.",1,0.9996814727783204,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fb20fbb764aa1eb3014c7544ea3daa58bc7b4cd2,9e2a2a3e083fec1e8059b331e3998c0849d779c1,Jia He,2018-02-28,"vhost: avoid to start/stop virtqueue which is not ready\n\nIn our Armv8a server, we try to configure the vhost scsi but fail\nto boot up the guest (-machine virt-2.10). The guest's boot failure\nis very early, even earlier than grub.\n\nThere are 3 virtqueues (ctrl, event and cmd) for virtio scsi device,\nbut ovmf and seabios will only set the physical address for the 3rd\none (cmd). Then in vhost_virtqueue_start(), virtio_queue_get_desc_addr\nwill be 0 for ctrl and event vq when qemu negotiates with ovmf. So\nvhost_memory_map fails with ENOMEM.\n\nThis patch just fixs it by early quitting the virtqueue start/stop\nwhen virtio_queue_get_desc_addr is 0.\n\nBtw, after guest kernel starts, all the 3 queues will be initialized\nand set address correctly.\n\nAlready tested on Arm64 and X86_64 qemu.\n\nSigned-off-by: Jia He <jia.he@hxt-semitech.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9991402626037598,X86_64,hw/virtio/vhost.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b1a568c1c2192f090536b8ac76d135ce1f46a0ee,f2bb2d14c2958f3f5aef456bd2cdb1ff99f4a562,Greg Kurz,2018-02-16,"spapr: fix missing CPU core nodes in DT when running with TCG\n\nCommit 5d0fb1508e2d ""spapr: consolidate the VCPU id numbering logic\nin a single place"" introduced a helper to detect thread0 of a virtual\ncore based on its VCPU id. This is used to create CPU core nodes in\nthe DT, but it is broken in TCG.\n\n$ qemu-system-ppc64 -nographic -accel tcg -machine dumpdtb=dtb.bin \\n                    -smp cores=16,maxcpus=16,threads=1\n$ dtc -f -O dts dtb.bin | grep POWER8\n                PowerPC,POWER8@0 {\n                PowerPC,POWER8@8 {\n\ninstead of the expected 16 cores that we get with KVM:\n\n$ dtc -f -O dts dtb.bin | grep POWER8\n                PowerPC,POWER8@0 {\n                PowerPC,POWER8@8 {\n                PowerPC,POWER8@10 {\n                PowerPC,POWER8@18 {\n                PowerPC,POWER8@20 {\n                PowerPC,POWER8@28 {\n                PowerPC,POWER8@30 {\n                PowerPC,POWER8@38 {\n                PowerPC,POWER8@40 {\n                PowerPC,POWER8@48 {\n                PowerPC,POWER8@50 {\n                PowerPC,POWER8@58 {\n                PowerPC,POWER8@60 {\n                PowerPC,POWER8@68 {\n                PowerPC,POWER8@70 {\n                PowerPC,POWER8@78 {\n\nThis happens because spapr_get_vcpu_id() maps VCPU ids to\ncs->cpu_index in TCG mode. This confuses the code in\nspapr_is_thread0_in_vcore(), since it assumes thread0 VCPU\nids to have a spapr->vsmt spacing.\n\n    spapr_get_vcpu_id(cpu) % spapr->vsmt == 0\n\nActually, there's no real reason to expose cs->cpu_index instead\nof the VCPU id, since we also generate it with TCG. Also we already\nset it explicitly in spapr_set_vcpu_id(), so there's no real reason\neither to call kvm_arch_vcpu_id() with KVM.\n\nThis patch unifies spapr_get_vcpu_id() to always return the computed\nVCPU id both in TCG and KVM. This is one step forward towards KVM<->TCG\nmigration.\n\nFixes: 5d0fb1508e2d\nReported-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9995908141136168,"KVM, TCG",hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb931c2108a59db0b4a22f0c439ee7362c4f95ab,b6712ea39117c87de87b687ec4055e6ddbde9b37,Suraj Jitindar Singh,2018-03-01,target/ppc: Check mask when setting cap_ppc_safe_indirect_branch\n\nCheck the character and character_mask field when setting\ncap_ppc_safe_indirect_branch based on the hypervisor response\nto KVM_PPC_GET_CPU_CHAR. Previously the mask field wasn't checked\nwhich was incorrect.\n\nFixes: 8acc2ae5 (target/ppc/kvm: Add cap_ppc_safe_[cache/bounds_check/indirect_branch])\n\nSigned-off-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9996533393859864,"KVM, PPC",target/ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8d622594201286ddbb9e2dbf32a9e65c060ed4ed,90ee4e01a1cddcb56bd65f10dd80aad7f86b5829,David Engraf,2018-03-02,PPC: e500: Fix duplicate kernel load and device tree overlap\n\nThis patch fixes an incorrect behavior when the -kernel argument has been\nspecified without -bios. In this case the kernel was loaded twice. At address\n32M as a raw image and afterwards by load_elf/load_uimage at the\ncorresponding load address. In this case the region for the device tree and\nthe raw kernel image may overlap.\n\nThe patch fixes the behavior by loading the kernel image once with\nload_elf/load_uimage and skips loading the raw image.\n\nWhen here do not use bios_name/size for the kernel and use a more generic\nname called payload_name/size.\n\nNew in v3: dtb must be stored between kernel and initrd because Linux can\n           handle the dtb only within the first 64MB. Add a comment to\n           clarify the behavior.\n\nSigned-off-by: David Engraf <david.engraf@sysgo.com>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.999661922454834,PPC,hw/ppc/e500.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,53537bb18ca68471a1c738eed93cce646fd97194,48e56d503e18bd1e8a75463fd7cc1580bf7e7650,Justin Terry (VM) via Qemu-devel,2018-02-26,Fixing WHPX casing to match SDK\n\nFixes an issue where the SDK that was releases had a different casing for the\n*.h and *.lib files causing a build break if linked directly from Windows Kits.\n\nSigned-off-by: Justin Terry (VM) <juterry@microsoft.com>\nMessage-Id: <1519665216-1078-2-git-send-email-juterry@microsoft.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Justin Terry (VM) via Qemu-devel <qemu-devel@nongnu.org>,1,0.999735414981842,WHPX,"configure, target/i386/whpx-all.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,914e2ab364c9b2b593a1a83ad08a81d494f7629d,53537bb18ca68471a1c738eed93cce646fd97194,Justin Terry (VM) via Qemu-devel,2018-02-26,"Resolves WHPX breaking changes in SDK 17095\n\n1. Fixes the changes required to the WHvTryMmioEmulation, WHvTryIoEmulation, and\nWHvEmulatorCreateEmulator based on the new VpContext forwarding.\n2. Removes the WHvRunVpExitReasonAlerted case.\n\nSigned-off-by: Justin Terry (VM) <juterry@microsoft.com>\nMessage-Id: <1519665216-1078-3-git-send-email-juterry@microsoft.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Justin Terry (VM) via Qemu-devel <qemu-devel@nongnu.org>",1,0.9973127245903016,WHPX,target/i386/whpx-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b27350e1b992eca3fa4b3fea4065b1b3897ec57f,0ab2e74d792ece3e957b414cbe27e32f14f23a14,Justin Terry (VM) via Qemu-devel,2018-02-26,Fix WHPX additional lock acquisition\n\nThe code already is holding the qemu_mutex for the IO thread. We do not need\nto additionally take the lock again in this case.\n\nSigned-off-by: Justin Terry (VM) <juterry@microsoft.com>\nMessage-Id: <1519665216-1078-5-git-send-email-juterry@microsoft.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Justin Terry (VM) via Qemu-devel <qemu-devel@nongnu.org>,1,0.999529242515564,WHPX,target/i386/whpx-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2bf3e74de4e5e33eb477e9ebe1839f9594173773,f875f04c2c322357e2e3fbd90ce5613b5be403a9,Justin Terry (VM) via Qemu-devel,2018-02-26,Fix WHPX issue leaking tpr values\n\nFixes an issue where if the tpr is assigned to the array but not a different\nvalue from what is already expected on the vp the code will skip incrementing\nthe reg_count. In this case its possible that we set an invalid memory section\nof the next call for DeliverabilityNotifications that was not expected.\n\nThe fix is to use a local variable to store the temporary tpr and only update\nthe array if the local tpr value is different than the vp context.\n\nSigned-off-by: Justin Terry (VM) <juterry@microsoft.com>\nMessage-Id: <1519665216-1078-7-git-send-email-juterry@microsoft.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Justin Terry (VM) via Qemu-devel <qemu-devel@nongnu.org>,1,0.9997342228889464,WHPX,target/i386/whpx-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,12850b1bb31876fc7f6382ebffe137357b42e26e,f32408f3b472a088467474ab152be3b6285b2d7b,Thomas Huth,2018-03-07,"hw/sparc/sun4m: Fix implicit creation of ""-drive if=scsi"" devices\n\nThe global hack for creating SCSI devices has recently been removed,\nbut this apparently broke SCSI devices on some boards that were not\nready for this change yet. For the sun4m machines you now get:\n\n$ sparc-softmmu/qemu-system-sparc -boot d -cdrom x.iso\nqemu-system-sparc: -cdrom x.iso: machine type does not support if=scsi,bus=0,unit=2\n\nFix it by calling scsi_bus_legacy_handle_cmdline() after creating the\ncorresponding SCSI controller.\n\nReported-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nFixes: 1454509726719e0933c800fad00d6999752688ea\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>",1,0.9995823502540588,SCSI,hw/sparc/sun4m.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,148b2ba1145af29a7afac349b8169790e06d6df4,7e563bfb8a5104ff0eed0fff8d13cbe63a25d17c,Thomas Huth,2018-03-07,"hw/mips/jazz: Fix implicit creation of ""-drive if=scsi"" devices\n\nThe global hack for creating SCSI devices has recently been removed,\nbut this apparently broke SCSI devices on some boards that were not\nready for this change yet. For the pica61 machine you now get:\n\n$ mips64-softmmu/qemu-system-mips64 -M pica61 -cdrom x.iso\nqemu-system-mips64: -cdrom x.iso: machine type does not support if=scsi,bus=0,unit=2\n\nFix it by calling scsi_bus_legacy_handle_cmdline() after creating the\ncorresponding SCSI controller.\n\nFixes: 1454509726719e0933c800fad00d6999752688ea\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <1520414644-11535-1-git-send-email-thuth@redhat.com>\nReviewed-by: Herv Poussineau <hpoussin@reactos.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996021389961244,SCSI,"hw/mips/mips_jazz.c, hw/scsi/esp.c, include/hw/scsi/esp.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a48c6b5155bf542b14d6a6fc04f627eb2cb62967,47973a2dbfad7fd584f37ca57d79097c9f220e93,Philippe Mathieu-Daud,2018-03-08,MAINTAINERS: Fix the PC87312 include path\n\nMissed while moving it in 0d09e41a51aa.\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20180308223946.26784-5-f4bug@amsat.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996289014816284,PC87312,MAINTAINERS,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0790f86861079b1932679d0f011e431aaf4ee9e2,7273db9d28d5e1b7a6c202a5054861c1f0bcc446,Pavel Dovgalyuk,2018-02-27,"tcg: fix cpu_io_recompile\n\ncpu_io_recompile() function was broken by\nthe commit 9b990ee5a3cc6aa38f81266fb0c6ef37a36c45b9. Instead of regenerating\nthe block starting from PC of the original block, it just set the instruction\ncounter for TCG. In most cases this was unnoticed, but in icount mode\nthere was an exception for incorrect usage of CF_LAST_IO flag.\nThis patch recovers recompilation of the original block and also\nconfigures translation for executing single IO instruction which\ncaused a recompilation.\n\nSigned-off-by: Pavel Dovgalyuk <pavel.dovgaluk@ispras.ru>\nMessage-Id: <20180227095338.1060.27385.stgit@pasha-VirtualBox>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Pavel Dovgalyuk <Pavel.Dovgaluk@ispras.ru>",1,0.99955815076828,TCG,accel/tcg/translate-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ae0215b2bb56a9d5321a185dde133bfdd306a4c0,567b5b309abe744b1098018a2eb157e7109c9f30,Alexey Kardashevskiy,2018-03-13,"vfio-pci: Allow mmap of MSIX BAR\n\nAt the moment we unconditionally avoid mapping MSIX data of a BAR and\nemulate MSIX table in QEMU. However it is 1) not always necessary as\na platform may provide a paravirt interface for MSIX configuration;\n2) can affect the speed of MMIO access by emulating them in QEMU when\nfrequently accessed registers share same system page with MSIX data,\nthis is particularly a problem for systems with the page size bigger\nthan 4KB.\n\nA new capability - VFIO_REGION_INFO_CAP_MSIX_MAPPABLE - has been added\nto the kernel [1] which tells the userspace that mapping of the MSIX data\nis possible now. This makes use of it so from now on QEMU tries mapping\nthe entire BAR as a whole and emulate MSIX on top of that.\n\n[1] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=a32295c612c57990d17fb0f41e7134394b2f35f6\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.992499053478241,VFIO,"hw/vfio/common.c, hw/vfio/pci.c, include/hw/vfio/vfio-common.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d0384d9020f1f52f90e5e5b1b6c9c04aac5f6756,b8e0f5898254ebb53f82225d40f4a58645279039,Igor Mammedov,2018-02-28,acpi: add build_append_gas() helper for Generic Address Structure\n\nit will help to add Generic Address Structure to ACPI tables\nwithout using packed C structures and avoid endianness\nissues as API doesn't need an explicit conversion.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nTested-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.912405788898468,ACPI,"hw/acpi/aml-build.c, include/hw/acpi/aml-build.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5d7a334f7c40dcb6aab3e4496ac826e813ccdb07,937d1b58714b4002dd0fb7c3573c42b1c017e61b,Igor Mammedov,2018-02-28,"pc: acpi: use build_append_foo() API to construct FADT\n\nbuild_append_foo() API doesn't need explicit endianness\nconversions which eliminates a source of errors and\nit makes build_fadt() look like declarative definition of\nFADT table in ACPI spec, which makes it easy to review.\nAlso it allows easily extending FADT to support other\nrevisions which will be used by follow up patches\nwhere build_fadt() will be reused for ARM target.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nTested-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9992602467536926,"ACPI, ARM",hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d0f17aba759ba6a969d811db3f4f509e36467bcd,e1e44a9916b4318e943aecd669e096222cb3eaeb,BALATON Zoltan,2018-03-07,sii3112: Remove unneeded exit function\n\nAn exit function was mistakenly left here but it's not needed because\nthe PCI bars are organised differently in this device. Calling this\nexit function during device_del was causing an abort with\nmemory_region_del_subregion: `Assertion subregion->container == mr' failed.\n\nReported-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.8651681542396545,PCI,hw/ide/sii3112.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b891538e81d33e59e1df9ce489e7118b7a1e7857,d7d15a6e34cb6750686c5cdd9bfbd39cad16f567,Thomas Huth,2018-03-07,"hw/ppc/prep: Fix implicit creation of ""-drive if=scsi"" devices\n\nThe global hack for creating SCSI devices has recently been removed,\nbut this apparently broke SCSI devices on some boards that were not\nready for this change yet. For the 40p machine you now get:\n\n$ ppc64-softmmu/qemu-system-ppc64 -M 40p -cdrom x.iso\nqemu-system-ppc64: -cdrom x.iso: machine type does not support if=scsi,bus=0,unit=2\n\nFix it by providing a lsi53c810_create() function that takes care\nof calling scsi_bus_legacy_handle_cmdline() after creating the\ncorresponding SCSI controller.\n\nFixes: 1454509726719e0933c800fad00d6999752688ea\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999604880809784,SCSI,"hw/ppc/prep.c, hw/scsi/lsi53c895a.c, include/hw/pci/pci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b4a5f24a172a1c35ef369a56e585e851bdb68c90,1ca15d85ab0d2a53f86a16b75468633938467cd8,David Engraf,2018-03-08,PPC e500: Fix gap between u-boot and kernel\n\nThis patch moves the gap between u-boot and kernel at the correct location.\n\nSigned-off-by: David Engraf <david.engraf@sysgo.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9995461106300354,PPC,hw/ppc/e500.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9cdd2a736b99bad19fb4f88d2230c75f680c31ec,e1e44a9916b4318e943aecd669e096222cb3eaeb,Gerd Hoffmann,2018-03-19,update seabios to 1.11.1\n\ngit shortlog rel-1.11.0..rel-1.11.1\n===================================\n\nKevin O'Connor (3):\n      build: Use git describe --always\n      shadow: Don't invoke a shutdown on reboot unless in a reboot loop\n      paravirt: Only enable sercon in NOGRAPHIC mode if no other console specified\n\nMarcel Apfelbaum (1):\n      pci: fix 'io hints' capability for RedHat PCI bridges\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.992060661315918,PCI,"pc-bios/bios-256k.bin, pc-bios/bios.bin, pc-bios/vgabios-cirrus.bin, pc-bios/vgabios-qxl.bin, pc-bios/vgabios-stdvga.bin, pc-bios/vgabios-virtio.bin, pc-bios/vgabios-vmware.bin, pc-bios/vgabios.bin, roms/seabios",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,35d6b368f2fcc52de01773b80246bfbe55211903,75f710599f2c35bad1a724d0243f372d05cc07ed,John Snow,2018-03-10,"blockjobs: ensure abort is called for cancelled jobs\n\nPresently, even if a job is canceled post-completion as a result of\na failing peer in a transaction, it will still call .commit because\nnothing has updated or changed its return code.\n\nThe reason why this does not cause problems currently is because\nbackup's implementation of .commit checks for cancellation itself.\n\nI'd like to simplify this contract:\n\n(1) Abort is called if the job/transaction fails\n(2) Commit is called if the job/transaction succeeds\n\nTo this end: A job's return code, if 0, will be forcibly set as\n-ECANCELED if that job has already concluded. Remove the now\nredundant check in the backup job implementation.\n\nWe need to check for cancellation in both block_job_completed\nAND block_job_completed_single, because jobs may be cancelled between\nthose two calls; for instance in transactions. This also necessitates\nan ABORTING -> ABORTING transition to be allowed.\n\nThe check in block_job_completed could be removed, but there's no\npoint in starting to attempt to succeed a transaction that we know\nin advance will fail.\n\nThis does NOT affect mirror jobs that are ""canceled"" during their\nsynchronous phase. The mirror job itself forcibly sets the canceled\nproperty to false prior to ceding control, so such cases will invoke\nthe ""commit"" callback.\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Kevin Wolf <kwolf@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9995627999305724,LED,"block/backup.c, block/trace-events, blockjob.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6388e18de9c6842de9a1307b61d42c8e4549009c,52c95cae4e1299e0a2a9709093581a3a96473aa5,Haozhong Zhang,2018-03-11,"qmp: distinguish PC-DIMM and NVDIMM in MemoryDeviceInfoList\n\nIt may need to treat PC-DIMM and NVDIMM differently, e.g., when\ndeciding the necessity of non-volatile flag bit in SRAT memory\naffinity structures.\n\nA new field 'nvdimm' is added to the union type MemoryDeviceInfo for\nsuch purpose. Its type is currently PCDIMMDeviceInfo and will be\nupdated when necessary in the future.\n\nIt also fixes ""info memory-devices""/query-memory-devices which\ncurrently show nvdimm devices as dimm devices since\nobject_dynamic_cast(obj, TYPE_PC_DIMM) happily cast nvdimm to\nTYPE_PC_DIMM which it's been inherited from.\n\nSigned-off-by: Haozhong Zhang <haozhong.zhang@intel.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9703666567802428,"DIMM, NVDIMM","hmp.c, hw/mem/pc-dimm.c, numa.c, qapi/misc.json",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,478a573a7d079a463273db7f9e7b0d460120c2dd,2b0b93210a06d8a6d99f8015b79ee3aabed8f29a,Trent Piepho,2018-03-23,"i.MX: Support serial RS-232 break properly\n\nLinux does not detect a break from this IMX serial driver as a magic\nsysrq.  Nor does it note a break in the port error counts.\n\nThe former is because the Linux driver uses the BRCD bit in the USR2\nregister to trigger the RS-232 break handler in the kernel, which is\nwhere sysrq hooks in.  The emulated UART was not setting this status\nbit.\n\nThe latter is because the Linux driver expects, in addition to the BRK\nbit, that the ERR bit is set when a break is read in the FIFO.  A break\nshould also count as a frame error, so add that bit too.\n\nCc: Andrey Smirnov <andrew.smirnov@gmail.com>\nSigned-off-by: Trent Piepho <tpiepho@impinj.com>\nMessage-id: 20180320013657.25038-1-tpiepho@impinj.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9992768168449402,IMX,"hw/char/imx_serial.c, include/hw/char/imx_serial.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3907e6318eae2668712bba04edc10e3648292508,36b4cf19348c98fa070dbb99e4bb2eb190ff4cef,Justin Terry (VM),2018-03-14,WHPX fix WHvGetCapability out WrittenSizeInBytes\n\nThis fixes a breaking change to WHvGetCapability to include the 'out'\nWrittenSizeInBytes introduced in Windows Insider SDK 17110.\n\nThis specifies on return the safe length to read into the WHV_CAPABILITY\nstructure passed to the call.\n\nSigned-off-by: Justin Terry (VM) <juterry@microsoft.com>\nMessage-Id: <1521039163-138-2-git-send-email-juterry@microsoft.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9984176158905028,WHPX,"configure, target/i386/whpx-all.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,60168541dab015f71b1a2f5e70df3c0fe44d91c4,3907e6318eae2668712bba04edc10e3648292508,Justin Terry (VM),2018-03-14,WHPX fix WHvSetPartitionProperty in PropertyCode\n\nThis fixes a breaking change to WHvSetPartitionProperty to pass the 'in'\nPropertyCode on function invocation introduced in Windows Insider SDK 17110.\nUsage of this indicates the PropertyCode of the opaque PropertyBuffer passed in\non function invocation.\n\nAlso fixes the removal of the PropertyCode parameter from the\nWHV_PARTITION_PROPERTY struct as it is now passed to the function directly.\n\nSigned-off-by: Justin Terry (VM) <juterry@microsoft.com>\nMessage-Id: <1521039163-138-3-git-send-email-juterry@microsoft.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.999476969242096,WHPX,target/i386/whpx-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,87f963be66a32453e001d1052b000f1653605caa,8e029fd64ea09cea4cd5cfd7c4c04714571cbae6,Richard Henderson,2018-03-19,"tcg: Really fix cpu_io_recompile\n\nWe have confused the number of instructions that have been\nexecuted in the TB with the number of instructions needed\nto repeat the I/O instruction.\n\nWe have used cpu_restore_state_from_tb, which means that\nthe guest pc is pointing to the I/O instruction.  The only\ntime the answer to the later question is not 1 is when\nMIPS or SH4 need to re-execute the branch for the delay\nslot as well.\n\nWe must rely on cpu->cflags_next_tb to generate the next TB,\nas otherwise we have a race condition with other guest cpus\nwithin the TB cache.\n\nFixes: 0790f86861079b1932679d0f011e431aaf4ee9e2\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20180319031545.29359-1-richard.henderson@linaro.org>\nTested-by: Pavel Dovgalyuk <pavel.dovgaluk@ispras.ru>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996631145477296,"MIPS, SH4",accel/tcg/translate-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eb69953ecb1cbe7b4c4093a97a4dab3daa315d4e,caeadbc8ba4227f56957203fff0e4058eeb5f1b0,Mark Cave-Ayland,2018-03-27,"macio: fix NULL pointer dereference when issuing IDE trim\n\nCommit ef0e64a983 ""ide: pass IDEState to trim AIO callback"" changed the\nIDE trim callback from using a BlockBackend to an IDEState but forgot to update\nthe dma_blk_io() call in hw/ide/macio.c accordingly.\n\nWithout this fix qemu-system-ppc segfaults when issuing an IDE trim command on\nany of the PPC Mac machines (easily triggered by running the Debian installer).\n\nReported-by: Howard Spoelstra <hsp.cat7@gmail.com>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Anton Nefedov <anton.nefedov@virtuozzo.com>\nMessage-id: 20180223184700.28854-1-mark.cave-ayland@ilande.co.uk\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.9995481371879578,PPC,hw/ide/macio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,64a563dd8dd6ca2661d96a2e4b69f0a5465cab94,12e3340c23972d7de6c2e306bafecd50abcbea1c,Max Filippov,2018-04-01,target/xtensa: linux-user: fix fadvise64 call\n\nfadvise64_64 on xtensa passes advice as the second argument and so must\nbe handled similar to PPC.\n\nThis fixes glibc testsuite tests posix/tst-posix_fadvise and\nposix/tst-posix_fadvise64.\n\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nSigned-off-by: Max Filippov <jcmvbkbc@gmail.com>,1,0.9996944665908812,PPC,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,74912f6dad207bfdd5bfa8c6012c364ea9405fc7,fd69ad866b62ca8ed4337ffee83b6d82a4e99282,Laurent Vivier,2018-03-28,"tcg: fix 16-byte vector operations detection\n\nconfigure tries to detect if the compiler\nsupports 16-byte vector operations.\n\nAs stated in the comment of the detection\nprogram, there is a problem with the system\ncompiler on GCC on Centos 7.\n\nThis program doesn't actually detect the problem\nwith GCC on RHEL7 on PPC64LE (Red Hat 4.8.5-28).\n\nThis patch updates the test to look more like\nit is in QEMU helpers, and now detects the problem.\n\nThe error reported is:\n\n  CC      ppc64-softmmu/accel/tcg/tcg-runtime-gvec.o\n  ..//accel/tcg/tcg-runtime-gvec.c: In function helper_gvec_shl8i:\n  ../accel/tcg/tcg-runtime-gvec.c:558:26: internal compiler error: in emit_move_insn, at expr.c:3495\n           *(vec8 *)(d + i) = *(vec8 *)(a + i) << shift;\n                            ^\nFixes: db43267 ""tcg: Add generic vector expanders""\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nReviewed-by: Miroslav Rezanina <mrezanin@redhat.com>\nMessage-id: 20180328133152.24623-1-lvivier@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996963739395142,"PPC, PPC64",configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5cd10051c2e02b7a86eae49919d6c65a87dbea46,d69748463c706801eabce2216c3f7914f56cc3a8,Alexandro Sanchez Bach,2018-04-05,"target/i386: Fix andn instruction\n\nIn commit 7073fbada733c8d10992f00772c9b9299d740e9b, the `andn` instruction\nwas implemented via `tcg_gen_andc` but passes the operands in the wrong\norder:\n- X86 defines `andn dest,src1,src2` as: dest = ~src1 & src2\n- TCG defines `andc dest,src1,src2` as: dest = src1 & ~src2\n\nThe following simple test shows the issue:\n\n    #include <stdio.h>\n    #include <stdint.h>\n\n    int main(void) {\n        uint32_t ret = 0;\n        __asm (\n            ""mov $0xFF00, %%ecx\n""\n            ""mov $0x0F0F, %%eax\n""\n            ""andn %%ecx, %%eax, %%ecx\n""\n            ""mov %%ecx, %0\n""\n          : ""=r"" (ret));\n        printf(""%08X\n"", ret);\n        return 0;\n    }\n\nThis patch fixes the problem by simply swapping the order of the two last\narguments in `tcg_gen_andc_tl`.\n\nReported-by: Alexandro Sanchez Bach <alexandro@phi.nz>\nSigned-off-by: Alexandro Sanchez Bach <alexandro@phi.nz>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997084736824036,TCG,target/i386/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eac53ac598cc43e325658a6889d9951fd7244e11,2a6bcfdebe4115993a032395d459f5e0cf27a01e,David Hildenbrand,2018-04-06,"s390x/kvm: call cpu_synchronize_state() on every kvm_arch_handle_exit()\n\nManually having to use cpu_synchronize_state() is error prone. And as\nChristian Borntraeger discovered, e.g. handle_diag() is currently\nmissing a cpu_synchronize_state(), as decode_basedisp_s() uses a\ngeneral purpose register value internally.\n\nSo let's do an overall cpu_synchronize_state(), which fixes at least the\none mentioned BUG. We will clean up the superfluous cpu_synchronize_state()\ncalls later.\n\nWe now also call it (although maybe not neded) for\n- KVM_EXIT_S390_RESET -> s390_reipl_request()\n- KVM_EXIT_DEBUG -> kvm_arch_handle_debug_exit()\n- unmanagable/unimplemented intercepts\n- ICPT_CPU_STOP -> do_stop_interrupt() -> cpu gets halted\n- Scenarios where we inject an operation exception\n- handle_stsi()\n\nI don't think any of these are performance critical. Especially as we\nhave all information directly contained in kvm_run, there are no\nadditional IOCTLs to issue on modern kernels.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20180406093552.13016-1-david@redhat.com>\nAcked-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.999728262424469,KVM,target/s390x/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,61a17fea6df45f0219537536b7af92a42df6ade6,be4d026f645eb31078e08d431c93a898b895024e,David Hildenbrand,2018-04-09,"s390x/mmu: don't overwrite pending exception in mmu translate\n\nIf we already triggered another exception, don't overwrite it with a\nprotection exception.\n\nOnly applies to old KVM instances without the virtual memory access\nIOCTL in KVM.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20180409113019.14568-2-david@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nAcked-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9915539622306824,KVM,target/s390x/mmu_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1c3e5a261709daee4a01f30b1534329b2eea386e,bc6abcff7c608dba27962efa75f234c5dd10e290,Maxime Coquelin,2018-03-29,"vhost-user: back SET/GET_CONFIG requests with a protocol feature\n\nWithout a dedicated protocol feature, QEMU cannot know whether\nthe backend can handle VHOST_USER_SET_CONFIG and\nVHOST_USER_GET_CONFIG messages.\n\nThis patch adds a protocol feature that is only advertised by\nQEMU if the device implements the config ops. Vhost user init\nfails if the device support the feature but the backend doesn't.\n\nThe backend should only send VHOST_USER_SLAVE_CONFIG_CHANGE_MSG\nrequests if the protocol feature has been negotiated.\n\nSigned-off-by: Maxime Coquelin <maxime.coquelin@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nAcked-by: Changpeng Liu <changpeng.liu@intel.com>",1,0.9993184804916382,VHOST_USER,"docs/interop/vhost-user.txt, hw/virtio/vhost-user.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d434e5ac5d70e9da7d20e50246af9251a125bdad,e7b94a84b6cb4a632c558ed24e8d6f4baa3f75eb,linzhecheng,2018-03-28,"virtio-serial: fix heap-over-flow\n\nCheck device having the feature of VIRTIO_CONSOLE_F_EMERG_WRITE before\nget config->emerg_wr. It is neccessary because sizeof(virtio_console_config)\nis 8 byte if VirtIOSerial doesn't have the feature of\nVIRTIO_CONSOLE_F_EMERG_WRITE(see virtio_serial_device_realize),\nread/write emerg_wr will lead to heap-over-flow.\n\nSigned-off-by: linzhecheng <linzhecheng@huawei.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997314810752868,VIRTIO,hw/char/virtio-serial-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1221f1504140b2c4aa56b66ee52c714506a04eed,9445597b6a323c5afee7ed33ca2c1913f78a92dc,Roman Kagan,2018-03-30,"i386/hyperv: error out if features requested but unsupported\n\nIn order to guarantee compatibility on migration, QEMU should have\ncomplete control over the features it announces to the guest via CPUID.\n\nHowever, for a number of Hyper-V-related cpu properties, if the\ncorresponding feature is not supported by the underlying KVM, the\npropery is silently ignored and the feature is not announced to the\nguest.\n\nRefuse to start with an error instead.\n\nSigned-off-by: Roman Kagan <rkagan@virtuozzo.com>\nMessage-Id: <20180330170209.20627-3-rkagan@virtuozzo.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996224641799928,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c2b01cfec1f1426d95c27abacc3ea5b5fbb9a57e,4968a2c6edb7b46b127c19a8426575d23b55ab1f,Michael Chapman,2018-04-06,"kvmclock: fix clock_is_reliable on migration from QEMU < 2.9\n\nWhen migrating from a pre-2.9 QEMU, no clock_is_reliable flag is\ntransferred. We should assume that the source host has an unreliable\nKVM_GET_CLOCK, rather than using whatever was determined locally, to\nensure that any drift from the TSC-based value calculated by the guest\nis corrected.\n\nSigned-off-by: Michael Chapman <mike@very.puzzling.org>\nMessage-Id: <20180406053406.774-1-mike@very.puzzling.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999686598777771,KVM,hw/i386/kvm/clock.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9f91022f28dc092e3b3250823814e4b3191c51ed,c2b01cfec1f1426d95c27abacc3ea5b5fbb9a57e,linzhecheng,2018-03-28,"virtio-serial: fix heapover-flow\n\nCheck device having the feature of VIRTIO_CONSOLE_F_EMERG_WRITE before\nget config->emerg_wr. It is neccessary because sizeof(virtio_console_config)\nis 8 byte if VirtIOSerial doesn't have the feature of\nVIRTIO_CONSOLE_F_EMERG_WRITE(see virtio_serial_device_realize),\nread/write emerg_wr will lead to heap-over-flow.\n\nSigned-off-by: linzhecheng <linzhecheng@huawei.com>\nMessage-Id: <20180328133435.20112-1-linzhecheng@huawei.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997318387031556,VIRTIO,hw/char/virtio-serial-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1e70de679d2e7e1312d9c9debed8d11612d469d9,915d34c5f99b0ab91517c69f54272bfdb6ca2b32,Daniel P. Berrang,2018-03-13,"ui: fix keymap detection under Xwayland\n\nThe X11 code currently detects the keymap by looking for the keycode\nname property. Unfortunately due to the way Xwayland handles keyboards,\nthis property gets unset almost immediately after the first application\nstarts using Xwayland resulting in\n\n  ** (qemu-system-x86_64:19644): WARNING **: Unknown X11 keycode mapping '(unnamed)'.\n  Please report to qemu-devel@nongnu.org\n  including the following information:\n\n    - Operating system\n    - X11 Server\n    - xprop -root\n    - xdpyinfo\n\nFortunately people will only see this problem if they built QEMU with\nGTK2, or have told GTK3 to prefer X11 by setting the GDK_BACKEND=x11\nenv variable.\n\nTo workaround the problem, we add a heuristic that looks at what\nscancode the XK_Page_Up keysymbol maps to, to determine if we've\nlikely got the X11 kbd or evdev driver.\n\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>\nMessage-Id: <20180313104235.20725-1-berrange@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997064471244812,X11,ui/x_keymap.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8aec759b45fa6986c0b159cb27353d6abb0d5d73,f640a5914f5179aa1af00df70da470e24e055e8d,Peter Maydell,2018-04-10,"target/arm: Report unsupported MPU region sizes more clearly\n\nCurrently our PMSAv7 and ARMv7M MPU implementation cannot handle\nMPU region sizes smaller than our TARGET_PAGE_SIZE. However we\nreport that in a slightly confusing way:\n\n DRSR[3]: No support for MPU (sub)region alignment of 9 bits. Minimum is 10\n\nThe problem is not the alignment of the region, but its size;\ntweak the error message to say so:\n DRSR[3]: No support for MPU (sub)region size of 512 bytes. Minimum is 1024.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20180405172554.27401-1-peter.maydell@linaro.org",1,0.9979885816574096,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c52e7132d7c885841500f5277f7305f62767fe1d,8aec759b45fa6986c0b159cb27353d6abb0d5d73,Peter Maydell,2018-04-10,"cpus.c: ensure running CPU recalculates icount deadlines on timer expiry\n\nWhen we run in TCG icount mode, we calculate the number of instructions\nto execute using tcg_get_icount_limit(), which ensures that we stop\nexecution at the next timer deadline. However there is a bug where\ncurrently we do not recalculate that limit if the guest reprograms\na timer so that the next deadline moves closer, and so we will\ncontinue execution until the original limit and fire the timer\nlater than we should.\n\nFix this bug in qemu_timer_notify_cb(): if we are currently running\na VCPU in icount mode, we simply need to kick it out of the main\nloop and back to tcg_cpu_exec(), where it will recalculate the\nicount limit. If we are not currently running a VCPU, then we\nretain the existing logic for waking up a halted CPU.\n\nCc: qemu-stable@nongnu.org\nFixes: https://bugs.launchpad.net/qemu/+bug/1754038\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nMessage-id: 20180406123838.21249-1-peter.maydell@linaro.org",1,0.9996472597122192,TCG,cpus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9743cd5736263e90d312b2c33bd739ffe1eae70d,7f0f4208b3a96f2202e86bc3e58a4c20d390ce1b,Richard Henderson,2018-04-10,"tcg: Introduce tcg_set_insn_start_param\n\nThe parameters for tcg_gen_insn_start are target_ulong, which may be split\ninto two TCGArg parameters for storage in the opcode on 32-bit hosts.\n\nFixes the ARM target and its direct use of tcg_set_insn_param, which would\nset the wrong argument in the 64-on-32 case.\n\nCc: qemu-stable@nongnu.org\nReported-by: alarson@ddci.com\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20180410003558.2470-1-richard.henderson@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996767044067384,"ARM, TCG","target/arm/translate.h, tcg/tcg.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,951702f39c7e31530ce4ea65b11fe25ea1ea9c37,15544349277f988ea22d7037d41488de819bc92a,Peter Xu,2018-04-10,"monitor: bind dispatch bh to iohandler context\n\nEric Auger reported the problem days ago that OOB broke ARM when running\nwith libvirt:\n\nhttp://lists.gnu.org/archive/html/qemu-devel/2018-03/msg06231.html\n\nThe problem was that the monitor dispatcher bottom half was bound to\nqemu_aio_context now, which could be polled unexpectedly in block code.\nWe should keep the dispatchers run in iohandler_ctx just like what we\ndid before the Out-Of-Band series (chardev uses qio, and qio binds\neverything with iohandler_ctx).\n\nIf without this change, QMP dispatcher might be run even before reaching\nmain loop in block IO path, for example, in a stack like (the ARM case,\n""cont"" command handler run even during machine init phase):\n\n        #0  qmp_cont ()\n        #1  0x00000000006bd210 in qmp_marshal_cont ()\n        #2  0x0000000000ac05c4 in do_qmp_dispatch ()\n        #3  0x0000000000ac07a0 in qmp_dispatch ()\n        #4  0x0000000000472d60 in monitor_qmp_dispatch_one ()\n        #5  0x000000000047302c in monitor_qmp_bh_dispatcher ()\n        #6  0x0000000000acf374 in aio_bh_call ()\n        #7  0x0000000000acf428 in aio_bh_poll ()\n        #8  0x0000000000ad5110 in aio_poll ()\n        #9  0x0000000000a08ab8 in blk_prw ()\n        #10 0x0000000000a091c4 in blk_pread ()\n        #11 0x0000000000734f94 in pflash_cfi01_realize ()\n        #12 0x000000000075a3a4 in device_set_realized ()\n        #13 0x00000000009a26cc in property_set_bool ()\n        #14 0x00000000009a0a40 in object_property_set ()\n        #15 0x00000000009a3a08 in object_property_set_qobject ()\n        #16 0x00000000009a0c8c in object_property_set_bool ()\n        #17 0x0000000000758f94 in qdev_init_nofail ()\n        #18 0x000000000058e190 in create_one_flash ()\n        #19 0x000000000058e2f4 in create_flash ()\n        #20 0x00000000005902f0 in machvirt_init ()\n        #21 0x00000000007635cc in machine_run_board_init ()\n        #22 0x00000000006b135c in main ()\n\nActually the problem is more severe than that.  After we switched to the\nqemu AIO handler it means the monitor dispatcher code can even be called\nwith nested aio_poll(), then it can be an explicit aio_poll() inside\nanother main loop aio_poll() which could be racy too; breaking code\nlike TPM and 9p that use nested event loops.\n\nSwitch to use the iohandler_ctx for monitor dispatchers.\n\nMy sincere thanks to Eric Auger who offered great help during both\ndebugging and verifying the problem.  The ARM test was carried out by\napplying this patch upon QEMU 2.12.0-rc0 and problem is gone after the\npatch.\n\nA quick test of mine shows that after this patch applied we can pass all\nraw iotests even with OOB on by default.\n\nCC: Eric Blake <eblake@redhat.com>\nCC: Markus Armbruster <armbru@redhat.com>\nCC: Stefan Hajnoczi <stefanha@redhat.com>\nCC: Fam Zheng <famz@redhat.com>\nReported-by: Eric Auger <eric.auger@redhat.com>\nTested-by: Eric Auger <eric.auger@redhat.com>\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20180410044942.17059-1-peterx@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Eric Blake <eblake@redhat.com>",1,0.9993525147438048,"ARM, TPM",monitor.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,afd46fcad2dceffda35c0586f5723c127b6e09d8,26d6a7c87b05017ffabffb5e16837a0fccf67e90,Pavel Dovgalyuk,2018-04-09,"icount: fix cpu_restore_state_from_tb for non-tb-exit cases\n\nIn icount mode, instructions that access io memory spaces in the middle\nof the translation block invoke TB recompilation.  After recompilation,\nsuch instructions become last in the TB and are allowed to access io\nmemory spaces.\n\nWhen the code includes instruction like i386 'xchg eax, 0xffffd080'\nwhich accesses APIC, QEMU goes into an infinite loop of the recompilation.\n\nThis instruction includes two memory accesses - one read and one write.\nAfter the first access, APIC calls cpu_report_tpr_access, which restores\nthe CPU state to get the current eip.  But cpu_restore_state_from_tb\nresets the cpu->can_do_io flag which makes the second memory access invalid.\nTherefore the second memory access causes a recompilation of the block.\nThen these operations repeat again and again.\n\nThis patch moves resetting cpu->can_do_io flag from\ncpu_restore_state_from_tb to cpu_loop_exit* functions.\n\nIt also adds a parameter for cpu_restore_state which controls restoring\nicount.  There is no need to restore icount when we only query CPU state\nwithout breaking the TB.  Restoring it in such cases leads to the\nincorrect flow of the virtual time.\n\nIn most cases new parameter is true (icount should be recalculated).\nBut there are two cases in i386 and openrisc when the CPU state is only\nqueried without the need to break the TB.  This patch fixes both of\nthese cases.\n\nSigned-off-by: Pavel Dovgalyuk <Pavel.Dovgaluk@ispras.ru>\nMessage-Id: <20180409091320.12504.35329.stgit@pasha-VirtualBox>\n[rth: Make can_do_io setting unconditional; move from cpu_exec;\nmake cpu_loop_exit_{noexc,restore} call cpu_loop_exit.]\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9996670484542848,APIC,"accel/tcg/cpu-exec-common.c, accel/tcg/cpu-exec.c, accel/tcg/translate-all.c, accel/tcg/user-exec.c, hw/misc/mips_itu.c, include/exec/exec-all.h, target/alpha/helper.c, target/alpha/mem_helper.c, target/arm/op_helper.c, target/cris/op_helper.c, target/i386/helper.c, target/i386/svm_helper.c, target/m68k/op_helper.c, target/moxie/helper.c, target/openrisc/sys_helper.c, target/tricore/op_helper.c, target/xtensa/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,161dfd1e7fad1203840c0390f235030eba3fd23c,ae2b1b4e1bb89ea949446597c8776255da0a79d3,Peter Maydell,2018-04-13,"tcg/mips: Handle large offsets from target env to tlb_table\n\nThe MIPS TCG target makes the assumption that the offset from the\ntarget env pointer to the tlb_table is less than about 64K. This\nused to be true, but gradual addition of features to the Arm\ntarget means that it's no longer true there. This results in\nthe build-time assertion failing:\n\nIn file included from /home/pm215/qemu/include/qemu/osdep.h:36:0,\n                 from /home/pm215/qemu/tcg/tcg.c:28:\n/home/pm215/qemu/tcg/mips/tcg-target.inc.c: In function tcg_out_tlb_load:\n/home/pm215/qemu/include/qemu/compiler.h:90:36: error: static assertion failed: ""not expecting: offsetof(CPUArchState, tlb_table[NB_MMU_MODES - 1][1]) > 0x7ff0 + 0x7fff""\n #define QEMU_BUILD_BUG_MSG(x, msg) _Static_assert(!(x), msg)\n                                    ^\n/home/pm215/qemu/include/qemu/compiler.h:98:30: note: in expansion of macro QEMU_BUILD_BUG_MSG\n #define QEMU_BUILD_BUG_ON(x) QEMU_BUILD_BUG_MSG(x, ""not expecting: "" #x)\n                              ^\n/home/pm215/qemu/tcg/mips/tcg-target.inc.c:1236:9: note: in expansion of macro QEMU_BUILD_BUG_ON\n         QEMU_BUILD_BUG_ON(offsetof(CPUArchState,\n         ^\n/home/pm215/qemu/rules.mak:66: recipe for target 'tcg/tcg.o' failed\n\nAn ideal long term approach would be to rearrange the CPU state\nso that the tlb_table was not so far along it, but this is tricky\nbecause it would move it from the ""not cleared on CPU reset"" part\nof the struct to the ""cleared on CPU reset"" part. As a simple fix\nfor the 2.12 release, make the MIPS TCG target handle an arbitrary\noffset by emitting more add instructions. This will mean an extra\ninstruction in the fastpath for TCG loads and stores for the\naffected guests (currently just aarch64-softmmu).\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-id: 20180413142336.32163-1-peter.maydell@linaro.org",1,0.9983530044555664,"MIPS, TCG",tcg/mips/tcg-target.inc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2cbf8903530b936964dd3af7e2e5bf85c3955d5c,2c42f1e80103cb926c0703d4c1ac1fb9c3e2c600,Ross Lagerwall,2017-10-23,"xen: Use newly added dmops for mapping VGA memory\n\nXen unstable (to be in 4.11) has two new dmops, relocate_memory and\npin_memory_cacheattr. Use these to set up the VGA memory, replacing the\nprevious calls to libxc. This allows the VGA console to work properly\nwhen QEMU is running restricted (-xen-domid-restrict).\n\nWrapper functions are provided to allow QEMU to work with older versions\nof Xen.\n\nTweak the error handling while making this change:\n* Report pin_memory_cacheattr errors.\n* Report errors even when DEBUG_HVM is not set. This is useful for\ntrying to understand why VGA is not working, since otherwise it just\nfails silently.\n* Fix the return values when an error occurs. The functions now\nconsistently return -1 and set errno.\n\nCC: Ian Jackson <ian.jackson@eu.citrix.com>\nSigned-off-by: Ross Lagerwall <ross.lagerwall@citrix.com>\nReviewed-by: Ian Jackson <ian.jackson@eu.citrix.com>\nSigned-off-by: Ian Jackson <ian.jackson@eu.citrix.com>\nAcked-by: Anthony PERARD <anthony.perard@citrix.com>",1,0.994258999824524,VGA,"configure, hw/i386/xen/xen-hvm.c, include/hw/xen/xen_common.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3e0204e15e93e0358339a0feff8f0ec7fe513e20,4d309c96635b7a961e3e86e2605a97ef945aeee2,Mark Cave-Ayland,2018-03-06,"uninorth: remove second set of uninorth token registers\n\nCommit 593c181160: ""PPC: Newworld: Add second uninorth control register set""\nadded a second set of uninorth registers at 0xf3000000.\n\nTesting MacOS 9.2 to MacOS X 10.4 reveals no accesses to this address and I\ncan't find any reference to it in Apple's Core99.cpp source so I'm assuming\nthat this was the result of another bug that has now been fixed.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9990414977073668,PPC,hw/ppc/mac_newworld.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c1d66d378c6dd1f112b753c98a308688dd0af24e,32cde6154cd252bfa23d05f43a165797e2430ff4,Mark Cave-Ayland,2018-03-06,"uninorth: fix PCI and AGP bus mixup\n\nSomewhere in the history of time, the initialisation of the PCI buses for the\nAGP and PCI host bridges got mixed up in that the PCI host bridge was\ncreating an instance of the AGP PCI bus, and the AGP PCI bus was missing.\n\nSwap the PCI host bridge over to use the correct PCI bus (including setting\nthe kMacRISCPCIAddressSelect register used by MacOS X) and add the missing\nreference to the AGP PCI bus.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9991269707679749,PCI,hw/pci-host/uninorth.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a2f04333a340282c0842e76c055297cb7ba56f0f,c90c393c2dca764bf2a062b3769ac0de32f5fe28,Michael Matz,2018-02-23,"ppc: Fix size of ppc64 xer register\n\nThe normal gdb definition of the XER registers is only 32 bit,\nand that's what the current version of power64-core.xml also\nsays (seems copied from gdb's).  But qemu's idea of the XER register\nis target_ulong (in CPUPPCState, ppc_gdb_register_len and\nppc_cpu_gdb_read_register)\n\nThat mismatch leads to the following message when attaching\nwith gdb:\n\n  Truncated register 32 in remote 'g' packet\n\n(and following on that qemu stops responding).  The simple fix is\nto say the truth in the .xml file.  But the better fix is to\nactually make it 32bit on the wire, as old gdbs don't support\nXML files for describing registers.  Also the XER state in qemu\ndoesn't seem to use the high 32 bits, so sending it off to gdb\ndoesn't seem worthwhile.\n\nSigned-off-by: Michael Matz <matz@suse.de>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999488115310669,PPC,target/ppc/gdbstub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1d36c75a9ebf6bddbdb46693052a48ef134f3699,2b10808539d7ace3d9b1226a71a68e2431ef2176,Greg Kurz,2018-04-11,"spapr: drop useless sanity check in spapr_irq_alloc*()\n\nBoth spapr_irq_alloc() and spapr_irq_alloc_block() have an errp\nparameter, but they don't use it if XICS hasn't been initialized\nyet.\n\nThis is doubly wrong:\n\n- all callers do pass a non-null Error **, ie, they expect an error\n  to be propagated in case of failure\n\n- XICS obviously needs to be initialized before anything starts allocating\n  IRQs\n\nSo this patch turns the check into an assert.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9993316531181335,XICS,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0ee86bb6c5beb6498488850104f7557c376d0bef,b8846a4d6352b2a1d2012f8b3b9115640524aeda,Jason Andryuk,2018-04-20,"ccid: Fix dwProtocols advertisement of T=0\n\nCommit d7d218ef02d87c637d20d64da8f575d434ff6f78 attempted to change\ndwProtocols to only advertise support for T=0 and not T=1.  The change\nwas incorrect as it changed 0x00000003 to 0x00010000.\n\nlsusb -v in a linux guest shows:\n""dwProtocols         65536  (Invalid values detected)"", though the\nsmart card could still be accessed.  Windows 7 does not detect inserted\nsmart cards and logs the the following Error in the Event Logs:\n\n    Source: Smart Card Service\n    Event ID: 610\n    Smart Card Reader 'QEMU QEMU USB CCID 0' rejected IOCTL SET_PROTOCOL:\n    Incorrect function. If this error persists, your smart card or reader\n    may not be functioning correctly\n\n    Command Header: 03 00 00 00\n\nSetting to 0x00000001 fixes the Windows issue.\n\nSigned-off-by: Jason Andryuk <jandryuk@gmail.com>\nMessage-id: 20180420183219.20722-1-jandryuk@gmail.com\nCc: qemu-stable@nongnu.org\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9990496039390564,USB,hw/usb/dev-smartcard-reader.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9d8fa0df49af16a208fa961c2968fba4daffcc07,0ee86bb6c5beb6498488850104f7557c376d0bef,John Thomson,2018-04-05,"Fix libusb-1.0.22 deprecated libusb_set_debug with libusb_set_option\n\nlibusb-1.0.22 marked libusb_set_debug deprecated\nit is replaced with\nlibusb_set_option(libusb_context, LIBUSB_OPTION_LOG_LEVEL, libusb_log_level);\n\ndetails here: https://github.com/libusb/libusb/commit/539f22e2fd916558d11ab9a66f10f461c5593168\n\nWarning here:\n\n  CC      hw/usb/host-libusb.o\n/builds/xen/src/qemu-xen/hw/usb/host-libusb.c: In function 'usb_host_init':\n/builds/xen/src/qemu-xen/hw/usb/host-libusb.c:250:5: error: 'libusb_set_debug' is deprecated: Use libusb_set_option instead [-Werror=deprecated-declarations]\n     libusb_set_debug(ctx, loglevel);\n     ^~~~~~~~~~~~~~~~\nIn file included from /builds/xen/src/qemu-xen/hw/usb/host-libusb.c:40:0:\n/usr/include/libusb-1.0/libusb.h:1300:18: note: declared here\n void LIBUSB_CALL libusb_set_debug(libusb_context *ctx, int level);\n                  ^~~~~~~~~~~~~~~~\ncc1: all warnings being treated as errors\nmake: *** [/builds/xen/src/qemu-xen/rules.mak:66: hw/usb/host-libusb.o] Error 1\nmake: Leaving directory '/builds/xen/src/xen/tools/qemu-xen-build'\n\nSigned-off-by: John Thomson <git@johnthomson.fastmail.com.au>\nMessage-id: 20180405132046.4968-1-git@johnthomson.fastmail.com.au\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9642183184623718,USB,hw/usb/host-libusb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,83dc62f6ed6b4f2afce71d579a630441cca0957c,6361d2984ce88912976a34e1797a5ad5139c649b,Thomas Huth,2018-04-29,"hw/m68k/mcf5208: Fix trivial typo in board description\n\nIt's the MCF5208 evaluation board, not the MCF5206 eval board.\n\nSigned-off-by: Thomas Huth <huth@tuxfamily.org>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20180429094002.3293c9de@thl530.multi.box>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.999549686908722,MCF5208,hw/m68k/mcf5208.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3f814b803797c007abfe5c4041de754e01723031,d103021269ca9307ed7ca0d845d2b9e6c387509a,Henry Wertz,2018-04-17,"tcg/arm: Fix memory barrier encoding\n\nI found with qemu 2.11.x or newer that I would get an illegal instruction\nerror running some Intel binaries on my ARM chromebook.  On investigation,\nI found it was quitting on memory barriers.\n\nqemu instruction:\nmb $0x31\nwas translating as:\n0x604050cc:  5bf07ff5  blpl     #0x600250a8\n\nAfter patch it gives:\n0x604050cc:  f57ff05b  dmb      ish\n\nIn short, I found INSN_DMB_ISH (memory barrier for ARMv7) appeared to be\ncorrect based on online docs, but due to some endian-related shenanigans it\nhad to be byte-swapped to suit qemu; it appears INSN_DMB_MCR (memory\nbarrier for ARMv6) also should be byte swapped  (and this patch does so).\nI have not checked for correctness of aarch64's barrier instruction.\n\nCc: qemu-stable@nongnu.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Henry Wertz <hwertz10@gmail.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9997283816337584,ARM,tcg/arm/tcg-target.inc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6001f7729e12dd1d810291e4cbf83cee8e07441d,5bfa803448638a45542441fd6b7cc1241403ea72,Laurent Vivier,2018-04-30,"tcg: workaround branch instruction overflow in tcg_out_qemu_ld/st\n\nppc64 uses a BC instruction to call the tcg_out_qemu_ld/st\nslow path. BC instruction uses a relative address encoded\non 14 bits.\n\nThe slow path functions are added at the end of the generated\ninstructions buffer, in the reverse order of the callers.\nSo more we have slow path functions more the distance between\nthe caller (BC) and the function increases.\n\nThis patch changes the behavior to generate the functions in\nthe same order of the callers.\n\nCc: qemu-stable@nongnu.org\nFixes: 15fa08f845 (""tcg: Dynamically allocate TCGOps"")\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nMessage-Id: <20180429235840.16659-1-lvivier@redhat.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9994407296180724,TCG,"tcg/tcg-ldst.inc.c, tcg/tcg.c, tcg/tcg.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bce009645b9f1d59195518e35747c8ea30f985f7,0fcd2a814aa331f87fd099171ae03a61311bdfee,Greg Kurz,2018-05-03,"target/ppc: always set PPC_MEM_TLBIE in pre 2.8 migration hack\n\nThe pseries-2.7 and older machine types require CPUPPCState::insns_flags\nto be strictly equal between source and destination. This checking is\nabusive and breaks migration of KVM guests when the host CPU models\nare different, even if they are compatible enough to allow the guest\nto run transparently. This buggy behaviour was fixed for pseries-2.8\nand we added some hacks to allow backward migration of older machine\ntypes. These hacks assume that the CPU belongs to the POWER8 family,\nwhich was true for most KVM based setup we cared about at the time.\nBut now POWER9 systems are coming, and backward migration of pre 2.8\nguests running in POWER8 architected mode from a POWER9 host to a\nPOWER8 host is broken:\n\nqemu-system-ppc64: error while loading state for instance 0x0 of device\n 'cpu'\nqemu-system-ppc64: load of migration failed: Invalid argument\n\nThis happens because POWER9 doesn't set PPC_MEM_TLBIE in insns_flags,\nwhile POWER8 does. Let's force PPC_MEM_TLBIE in the migration hack to\nfix the issue. This is an acceptable hack because these old machine\ntypes only support CPU models that do set PPC_MEM_TLBIE.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996504783630372,"KVM, PPC",target/ppc/machine.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a82929a251481af1467569810ec309b57558f7fe,a8766e3172c1671cab297c1ef4566a3c5d094822,Thomas Huth,2018-05-04,"hw/arm: Don't fail qtest due to missing SD card in -nodefaults mode\n\nWhen running omap1/2 or pxa2xx based ARM machines with -nodefaults,\nthey bail out immediately complaining about a ""missing SecureDigital\ndevice"". That's not how the ""default"" devices in vl.c are meant to\nwork - it should be possible for a board to also start up without\ndefault devices. So let's turn the error message and exit() into\na warning instead.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-id: 1525326811-3233-1-git-send-email-thuth@redhat.com\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9981961846351624,ARM,"hw/arm/omap1.c, hw/arm/omap2.c, hw/arm/pxa2xx.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a703b4f6c1ee25090384fe75074f2571d7b69e02,584105eab2f49132b00c4d4baa0d94e0a4baed38,Prem Mallappa,2018-05-04,"hw/arm/virt-acpi-build: Add smmuv3 node in IORT table\n\nThis patch builds the smmuv3 node in the ACPI IORT table.\n\nThe RID space of the root complex, which spans 0x0-0x10000\nmaps to streamid space 0x0-0x10000 in smmuv3, which in turn\nmaps to deviceid space 0x0-0x10000 in the ITS group.\n\nThe guest must feature the IOMMU probe deferral series\n(https://lkml.org/lkml/2017/4/10/214) which fixes streamid\nmultiple lookup. This bug is not related to the SMMU emulation.\n\nSigned-off-by: Prem Mallappa <prem.mallappa@broadcom.com>\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Shannon Zhao <zhaoshenglong@huawei.com>\nMessage-id: 1524665762-31355-14-git-send-email-eric.auger@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999591052532196,ACPI,"hw/arm/virt-acpi-build.c, include/hw/acpi/acpi-defs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,950c4e6c94b15cd0d8b63891dddd7a8dbf458e6a,e652714f98f22e8882e88e3d563b025c5b00feec,Daniel P. Berrang,2018-04-16,"opts: don't silently truncate long option values\n\nThe existing QemuOpts parsing code uses a fixed size 1024 byte buffer\nfor storing the option values. If a value exceeded this size it was\nsilently truncated and no error reported to the user. Long option values\nis not a common scenario, but it is conceivable that they will happen.\neg if the user has a very deeply nested filesystem it would be possible\nto come up with a disk path that was > 1024 bytes. Most of the time if\nsuch data was silently truncated, the user would get an error about\nopening a non-existant disk. If they're unlucky though, QEMU might use a\ncompletely different disk image from another VM, which could be\nconsidered a security issue. Another example program was in using the\n-smbios command line arg with very large data blobs. In this case the\nsilent truncation will be providing semantically incorrect data to the\nguest OS for SMBIOS tables.\n\nIf the operating system didn't limit the user's argv when spawning QEMU,\nthe code should honour whatever length arguments were given without\nimposing its own length restrictions. This patch thus changes the code\nto use a heap allocated buffer for storing the values during parsing,\nlifting the arbitrary length restriction.\n\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>\nMessage-Id: <20180416111743.8473-4-berrange@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>",1,0.9251685738563538,SMBIOS,"hw/i386/multiboot.c, include/qemu/option.h, util/qemu-option.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7eb30ef0ba2eb59e7430d4848ae8d4bf4e50f768,e5cd695266c5709308aa95b1baae499e4b5d4544,Peter Maydell,2018-05-04,"tcg/i386: Fix dup_vec in non-AVX2 codepath\n\nThe VPUNPCKLD* instructions are all ""non-destructive source"",\nindicated by ""NDS"" in the encoding string in the x86 ISA manual.\nThis means that they take two source operands, one of which is\nencoded in the VEX.vvvv field. We were incorrectly treating them\nas if they were destructive-source and passing 0 as the 'v'\nargument of tcg_out_vex_modrm(). This meant we were always\nusing %xmm0 as one of the source operands, causing incorrect\nresults if the register allocator happened to want to use\nsomething else. For instance the input AArch64 insn:\n DUP v26.16b, w21\nwhich becomes TCG IR ops:\n dup_vec v128,e8,tmp2,x21\n st_vec v128,e8,tmp2,env,$0xa40\nwas assembled to:\n0x607c568c:  c4 c1 7a 7e 86 e8 00 00  vmovq    0xe8(%r14), %xmm0\n0x607c5694:  00\n0x607c5695:  c5 f9 60 c8              vpunpcklbw %xmm0, %xmm0, %xmm1\n0x607c5699:  c5 f9 61 c9              vpunpcklwd %xmm1, %xmm0, %xmm1\n0x607c569d:  c5 f9 70 c9 00           vpshufd  $0, %xmm1, %xmm1\n0x607c56a2:  c4 c1 7a 7f 8e 40 0a 00  vmovdqu  %xmm1, 0xa40(%r14)\n0x607c56aa:  00\n\nwhen the vpunpcklwd insn should be ""%xmm1, %xmm1, %xmm1"".\nThis resulted in our incorrectly setting the output vector to\nq26=0000320000003200:0000320000003200\nwhen given an input of x21 == 0000000002803200\nrather than the expected all-zeroes.\n\nPass the correct source register number to tcg_out_vex_modrm()\nfor these insns.\n\nFixes: 770c2fc7bb70804a\nCc: qemu-stable@nongnu.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-Id: <20180504153431.5169-1-peter.maydell@linaro.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9996761083602904,TCG,tcg/i386/tcg-target.inc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,abebf92597186be2bc48d487235da28b1127860f,7eb30ef0ba2eb59e7430d4848ae8d4bf4e50f768,Richard Henderson,2018-05-08,"tcg: Limit the number of ops in a TB\n\nIn 6001f7729e12 we partially attempt to address the branch\ndisplacement overflow caused by 15fa08f845.\n\nHowever, gcc/testsuite/gcc.target/aarch64/advsimd-intrinsics/vqtbX.c\nis a testcase that contains a TB so large as to overflow anyway.\nThe limit here of 8000 ops produces a maximum output TB size of\n24112 bytes on a ppc64le host with that test case.  This is still\nmuch less than the maximum forward branch distance of 32764 bytes.\n\nCc: qemu-stable@nongnu.org\nFixes: 15fa08f845 (""tcg: Dynamically allocate TCGOps"")\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.999477207660675,TCG,"tcg/tcg.c, tcg/tcg.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4f4cb8282df82d43ba6b3c9045a3ac6fc4c4ef09,1d18774579759a8b5046119266626e9fdf9f7c0b,Tomeu Vizoso,2018-05-07,"ui/gtk: Only try to initialize EGL/X11 if GtkGlArea failed\n\nThe commit referenced below changed the logic by causing the gtk-egl\nbackend to be initialized regardless of whether GtkGlArea initialization\nsucceeded. This causes eglInitialize to crash in Wayland systems without\nXWayland.\n\nThis patch restores the previous logic.\n\nFixes: 4c70280592f5 (""ui/gtk: use GtkGlArea on wayland only"")\nSigned-off-by: Tomeu Vizoso <tomeu.vizoso@collabora.com>\nMessage-id: 20180507134237.14996-1-tomeu.vizoso@collabora.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999708354473114,X11,ui/gtk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6603d50648901e8b9e6d66ec1142accf0b1df1e6,a4207e3b00e89f934adb231057dcf9a75ac2ae45,Petr Tesarik,2018-05-11,"fpu/softfloat: Fix conversion from uint64 to float128\n\nThe significand is passed to normalizeRoundAndPackFloat128() as high\nfirst, low second. The current code passes the integer first, so the\nresult is incorrectly shifted left by 64 bits.\n\nThis bug affects the emulation of s390x instruction CXLGBR (convert\nfrom logical 64-bit binary-integer operand to extended BFP result).\n\nCc: qemu-stable@nongnu.org\nTested-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Petr Tesarik <ptesarik@suse.com>\nMessage-Id: <20180511071052.1443-1-ptesarik@suse.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9989802241325378,CXL,fpu/softfloat.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,68898bc82bcb0e697ed03c2405321033ba7feaf7,08d9864fa4e0c616e076ca8b225d39a7ecb189af,Paolo Bonzini,2018-05-17,"ui: add x_keymap.o to modules\n\nx_keymap.o is common to the SDL and GTK+ modules, and it causes the\nQEMU binary to link to the X11 libraries.  Add it separately to the\nmodules to keep the main QEMU binary smaller.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-id: 1526560782-18732-1-git-send-email-pbonzini@redhat.com\n\n[ kraxel: fix lm32 target build (milkymist-tmu2) ]\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9990744590759276,X11,"hw/display/Makefile.objs, ui/Makefile.objs",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1dd6af7395670f3dcd05ddb64ce6c374a81ae701,d32e41a1188e929cc0fb16829ce3736046951e39,Igor Druzhinin,2018-03-13,xen-pvdevice: Introduce a simplistic xen-pvdevice save state\n\nThis should help to avoid problems with accessing the device after\nmigration/resume without PV drivers by migrating its PCI configuration\nspace state. Without an explicitly defined state record it resets\nevery time a VM migrates which confuses the OS and makes every\naccess to xen-pvdevice MMIO region to fail. PV tools enable some\nlogic to save and restore PCI configuration state from within the VM\nevery time it migrates which basically hides the issue.\n\nOlder systems will acquire the new record when migrated which should\nnot change their state for worse.\n\nSigned-off-by: Igor Druzhinin <igor.druzhinin@citrix.com>\nReviewed-by: Paul Durrant <paul.durrant@citrix.com>\nAcked-by: Anthony PERARD <anthony.perard@citrix.com>\nSigned-off-by: Stefano Stabellini <sstabellini@kernel.org>,1,0.7651887536048889,PCI,hw/i386/xen/xen_pvdevice.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,84201604c77808d6b2fa5139ded83d1e739a3f8c,1dd6af7395670f3dcd05ddb64ce6c374a81ae701,Igor Druzhinin,2018-04-17,xen/pt: use address_space_memory object for memory region hooks\n\nCommit 99605175c (xen-pt: Fix PCI devices re-attach failed) introduced\na subtle bug. As soon as the guest switches off Bus Mastering on the\ndevice it immediately causes all the BARs be unmapped due to the DMA\naddress space of the device being changed. This is undesired behavior\nbecause the guest may try to communicate with the device after that\nwhich triggers the following errors in the logs:\n\n[00:05.0] xen_pt_bar_read: Error: Should not read BAR through QEMU. @0x0000000000000200\n[00:05.0] xen_pt_bar_write: Error: Should not write BAR through QEMU. @0x0000000000000200\n\nThe issue that the original patch tried to workaround (uneven number of\nregion_add/del calls on device attach/detach) was fixed in d25836cafd\n(memory: do explicit cleanup when remove listeners).\n\nSigned-off-by: Igor Druzhinin <igor.druzhinin@citrix.com>\nReported-by: Ross Lagerwall <ross.lagerwall@citrix.com>\nAcked-by: Anthony PERARD <anthony.perard@citrix.com>\nSigned-off-by: Stefano Stabellini <sstabellini@kernel.org>,1,0.9997383952140808,PCI,hw/xen/xen_pt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7647d5c6b5e3b3f36a6e0441c81ae3fe797eb233,6b1875476313ce320a6a1d1827e85511365a469c,Marc-Andr Lureau,2018-05-08,"tests: fix tpm-crb tpm-tis tests race\n\nNo need to close the TPM data socket on the emulator end, qemu will\nclose it after a SHUTDOWN. This avoids a race between close() and\nread() in the TPM data thread.\n\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nReviewed-by: Daniel P. Berrang <berrange@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>",1,0.9996589422225952,TPM,tests/tpm-emu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e3638151da2a314dda3ed862cf707b8b66aca4cb,9952e807fd016c95f50372536f1ac65a601be6e4,Dr. David Alan Gilbert,2018-05-04,"libvhost-user: Send messages with no data\n\nThe response to a VHOST_USER_POSTCOPY_ADVISE contains a fd but doesn't\nactually contain any data.   FIx vu_message_write so that it doesn't\ndo a 0-byte write() call, since this was ending up with rc=0\nthat was confusing the error handling code.\n\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9994696974754332,VHOST_USER,contrib/libvhost-user/libvhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,36d2d52bdb45f5b753a61fdaf0fe7891f1f5b61d,1a97a478e69534f70ebbed1f27c315dbdc23f94f,Peter Xu,2018-05-18,"intel-iommu: send PSI always even if across PDEs\n\nSECURITY IMPLICATION: without this patch, any guest with both assigned\ndevice and a vIOMMU might encounter stale IO page mappings even if guest\nhas already unmapped the page, which may lead to guest memory\ncorruption.  The stale mappings will only be limited to the guest's own\nmemory range, so it should not affect the host memory or other guests on\nthe host.\n\nDuring IOVA page table walking, there is a special case when the PSI\ncovers one whole PDE (Page Directory Entry, which contains 512 Page\nTable Entries) or more.  In the past, we skip that entry and we don't\nnotify the IOMMU notifiers.  This is not correct.  We should send UNMAP\nnotification to registered UNMAP notifiers in this case.\n\nFor UNMAP only notifiers, this might cause IOTLBs cached in the devices\neven if they were already invalid.  For MAP/UNMAP notifiers like\nvfio-pci, this will cause stale page mappings.\n\nThis special case doesn't trigger often, but it is very easy to be\ntriggered by nested device assignments, since in that case we'll\npossibly map the whole L2 guest RAM region into the device's IOVA\naddress space (several GBs at least), which is far bigger than normal\nkernel driver usages of the device (tens of MBs normally).\n\nWithout this patch applied to L1 QEMU, nested device assignment to L2\nguests will dump some errors like:\n\nqemu-system-x86_64: VFIO_MAP_DMA: -17\nqemu-system-x86_64: vfio_dma_map(0x557305420c30, 0xad000, 0x1000,\n                    0x7f89a920d000) = -17 (File exists)\n\nCC: QEMU Stable <qemu-stable@nongnu.org>\nAcked-by: Jason Wang <jasowang@redhat.com>\n[peterx: rewrite the commit message]\nSigned-off-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9981982111930848,VFIO,hw/i386/intel_iommu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,63b88968f139b6a77f2f81e6f1eedf70c0170a85,eecf5eedbdc0fc04f39abcf3afeedfbf21b25ca4,Peter Xu,2018-05-18,"intel-iommu: rework the page walk logic\n\nThis patch fixes a potential small window that the DMA page table might\nbe incomplete or invalid when the guest sends domain/context\ninvalidations to a device.  This can cause random DMA errors for\nassigned devices.\n\nThis is a major change to the VT-d shadow page walking logic. It\nincludes but is not limited to:\n\n- For each VTDAddressSpace, now we maintain what IOVA ranges we have\n  mapped and what we have not.  With that information, now we only send\n  MAP or UNMAP when necessary.  Say, we don't send MAP notifies if we\n  know we have already mapped the range, meanwhile we don't send UNMAP\n  notifies if we know we never mapped the range at all.\n\n- Introduce vtd_sync_shadow_page_table[_range] APIs so that we can call\n  in any places to resync the shadow page table for a device.\n\n- When we receive domain/context invalidation, we should not really run\n  the replay logic, instead we use the new sync shadow page table API to\n  resync the whole shadow page table without unmapping the whole\n  region.  After this change, we'll only do the page walk once for each\n  domain invalidations (before this, it can be multiple, depending on\n  number of notifiers per address space).\n\nWhile at it, the page walking logic is also refactored to be simpler.\n\nCC: QEMU Stable <qemu-stable@nongnu.org>\nReported-by: Jintack Lim <jintack@cs.columbia.edu>\nTested-by: Jintack Lim <jintack@cs.columbia.edu>\nSigned-off-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9993557333946228,VTD,"hw/i386/intel_iommu.c, hw/i386/trace-events, include/hw/i386/intel_iommu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,60b8fe49cca0cca360adcf9e58fbe5d1612df36d,6c2be133a7478e443c99757b833d0f265c48e0a6,Igor Mammedov,2018-05-31,"arm: fix qemu crash on startup with -bios option\n\nWhen QEMU is started with following CLI\n -machine virt,gic-version=3,accel=kvm -cpu host -bios AAVMF_CODE.fd\nit crashes with abort at\n accel/kvm/kvm-all.c:2164:\n KVM_SET_DEVICE_ATTR failed: Group 6 attr 0x000000000000c665: Invalid argument\n\nWhich is caused by implicit dependency of kvm_arm_gicv3_reset() on\narm_gicv3_icc_reset() where the later is called by CPU reset\nreset callback.\n\nHowever commit:\n 3b77f6c arm/boot: split load_dtb() from arm_load_kernel()\nbroke CPU reset callback registration in case\n\n  arm_load_kernel()\n      ...\n      if (!info->kernel_filename || info->firmware_loaded)\n\nbranch is taken, i.e. it's sufficient to provide a firmware\nor do not provide kernel on CLI to skip cpu reset callback\nregistration, where before offending commit the callback\nhas been registered unconditionally.\n\nFix it by registering the callback right at the beginning of\narm_load_kernel() unconditionally instead of doing it at the end.\n\nNOTE:\n we probably should eliminate that dependency anyways as well as\n separate arch CPU reset parts from arm_load_kernel() into CPU\n itself, but that refactoring that I probably would have to do\n anyways later for CPU hotplug to work.\n\nReported-by: Auger Eric <eric.auger@redhat.com>\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nTested-by: Eric Auger <eric.auger@redhat.com>\nMessage-id: 1527070950-208350-1-git-send-email-imammedo@redhat.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997164607048036,KVM,hw/arm/boot.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5deac39cd94e11d72b6ca8663fbf369691a33dc8,a13b6d8eeca5cb786e934ad73f8b3b7e01c20121,Peter Maydell,2018-05-31,"Correct CPACR reset value for v7 cores\n\nIn commit f0aff255700 we made cpacr_write() enforce that some CPACR\nbits are RAZ/WI and some are RAO/WI for ARMv7 cores. Unfortunately\nwe forgot to also update the register's reset value. The effect\nwas that (a) a guest that read CPACR on reset would not see ones in\nthe RAO bits, and (b) if you did a migration before the guest did\na write to the CPACR then the migration would fail because the\ndestination would enforce the RAO bits and then complain that they\ndidn't match the zero value from the source.\n\nImplement reset for the CPACR using a custom reset function\nthat just calls cpacr_write(), to avoid having to duplicate\nthe logic for which bits are RAO.\n\nThis bug would affect migration for TCG CPUs which are ARMv7\nwith VFP but without one of Neon or VFPv3.\n\nReported-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nTested-by: Cdric Le Goater <clg@kaod.org>\nMessage-id: 20180522173713.26282-1-peter.maydell@linaro.org",1,0.9944902658462524,"ARM, TCG",target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6e3e723966197463117642d8a5fd7b4f6446e510,e0a37e266084fb26951465e08515af46807c312c,Shannon Zhao,2018-05-31,"ARM: ACPI: Fix use-after-free due to memory realloc\n\nacpi_data_push uses g_array_set_size to resize the memory size. If there\nis no enough contiguous memory, the address will be changed. So previous\npointer could not be used any more. It must update the pointer and use\nthe new one.\n\nAlso, previous codes wrongly use le32 conversion of iort->node_offset\nfor subsequent computations that will result incorrect value if host is\nnot litlle endian. So use the non-converted one instead.\n\nSigned-off-by: Shannon Zhao <zhaoshenglong@huawei.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nMessage-id: 1527663951-14552-1-git-send-email-zhaoshenglong@huawei.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999373495578766,"ACPI, ARM",hw/arm/virt-acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2f15b79280cf71b7991dfd3f0312a1797630e376,6e3e723966197463117642d8a5fd7b4f6446e510,Shannon Zhao,2018-05-31,"KVM: GIC: Fix memory leak due to calling kvm_init_irq_routing twice\n\nkvm_irqchip_create called by kvm_init will call kvm_init_irq_routing to\ninitialize global capability variables. If we call kvm_init_irq_routing in\nGIC realize function, previous allocated memory will leak.\n\nFix this by deleting the unnecessary call.\n\nSigned-off-by: Shannon Zhao <zhaoshenglong@huawei.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nMessage-id: 1527750994-14360-1-git-send-email-zhaoshenglong@huawei.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999710738658905,KVM,"hw/intc/arm_gic_kvm.c, hw/intc/arm_gicv3_kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c3942bf2bdcc80fcf38379cf26db5d02b07f41cf,327fccb288976f95808efa968082fc9d4a9ced84,Lucian Petrut,2018-05-15,"WHPX: fix some compiler warnings\n\nThis patch fixes a few compiler warnings, especially in case of\nx86 targets, where the number of registers was not properly handled\nand could cause an overflow.\n\nSigned-off-by: Alessandro Pilotti <apilotti@cloudbasesolutions.com>\nSigned-off-by: Justin Terry (VM) <juterry@microsoft.com>\nSigned-off-by: Lucian Petrut <lpetrut@cloudbasesolutions.com>\nMessage-Id: <1526405722-10887-3-git-send-email-lpetrut@cloudbasesolutions.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997116923332214,WHPX,target/i386/whpx-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b8e13ba94e39aae79be5724b2a382091e4c91c83,871f95c6171d5301d14dbc73997aa8fbd8e9e7ef,Laurent Vivier,2018-05-28,"linux-user: SPARC ""rd %tick"" can be used by user application\n\nwe have the same problem decribed in 7d6b1daedd\n(""linux-user, ppc: mftbl can be used by user application"")\nfor ppc in the case of sparc.\n\nWhen we use an application trying to resolve a name, it hangs in\n\n    0x00000000ff5dd40c:  rd  %tick, %o5\n    0x00000000ff5dd410:  srlx  %o5, 0x20, %o4\n    0x00000000ff5dd414:  btst  %o5, %g4\n    0x00000000ff5dd418:  be  %icc, 0xff5dd40c\n\nbecause %tick is staying at 0.\n\nAs QEMU_CLOCK_VIRTUAL is not available in linux-user mode,\nsimply use cpu_get_host_ticks() instead.\n\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20180528194812.31216-1-laurent@vivier.eu>",1,0.9997288584709167,SPARC,target/sparc/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,44effc1f99d0375fe5939f99bd65a5b6037f5f1c,8576b12df7abf29ddff0e69e1f9b6534e040cbcd,Cdric Le Goater,2018-06-08,ftgmac100: fix multicast hash routine\n\nBased on the multicast hash calculation of the FTGMAC100 Linux driver.\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20180530061711.23673-4-clg@kaod.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9992484450340272,FTGMAC100,hw/net/ftgmac100.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5694c7eacce6b263ad7497cc1bb76aad746cfd4e,dc5a43eda68fff32c7b0b43847332db325b094f3,John Snow,2018-06-08,"ahci: fix PxCI register race\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1769189\n\nAHCI presently signals completion prior to the PxCI register being\ncleared to indicate completion. If a guest driver attempts to issue\na new command in its IRQ handler, it might be surprised to learn there\nis still a command pending.\n\nIn the case of Windows 10's boot driver, it will actually poll the IRQ\nregister hoping to find out when the command is done running -- which\nwill never happen, as there isn't a command running.\n\nFix this: clear PxCI in ahci_cmd_done and not in the asynchronous BH.\nBecause it now runs synchronously, we don't need to check if the command\nis actually done by spying on the ATA registers. We know it's done.\n\nCC: qemu-stable <qemu-stable@nongnu.org>\nReported-by: Franois Guerraz <kubrick@fgv6.net>\nTested-by: Bruce Rogers <brogers@suse.com>\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Jeff Cody <jcody@redhat.com>\nMessage-id: 20180531004323.4611-3-jsnow@redhat.com\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.9997456669807434,AHCI,hw/ide/ahci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,956556e131e35f387ac482ad7b41151576fef057,27e4648ce98f8172c2c2449896430e87652818d1,John Snow,2018-06-06,"ahci: move PIO Setup FIS before transfer, fix it for ATAPI commands\n\nThe PIO Setup FIS is written in the PIO:Entry state, which comes before\nthe ATA and ATAPI data transfer states.  As a result, the PIO Setup FIS\ninterrupt is now raised before DMA ends for ATAPI commands, and tests have\nto be adjusted.\n\nThis is also hinted by the description of the command header in the AHCI\nspecification, where the ""A"" bit is described as\n\n    When 1, indicates that a PIO setup FIS shall be sent by the device\n    indicating a transfer for the ATAPI command.\n\nand also by the description of the ACMD (ATAPI command region):\n\n    The ATAPI command must be either 12 or 16 bytes in length. The length\n    transmitted by the HBA is determined by the PIO setup FIS that is sent\n    by the device requesting the ATAPI command.\n\nQEMU, which conflates the ""generator"" and the ""receiver"" of the FIS into\none device, always uses ATAPI_PACKET_SIZE, aka 12, for the length.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20180606190955.20845-3-jsnow@redhat.com\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.999243974685669,AHCI,"hw/ide/ahci.c, tests/libqos/ahci.c, tests/libqos/ahci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7cb00357c155240bae3b17eaa00415087b004c52,875bad313580f99cc9642d2941d0dbeeadf4ef25,Mark Cave-Ayland,2018-05-24,"prep: fix keyboard for the 40p machine\n\nCommit 72d3d8f052 ""hw/isa/superio: Add a keyboard/mouse controller (8042)""\nadded an 8042 keyboard device to the PC87312 superio device to replace that\nbeing used by the prep machine.\n\nUnfortunately this commit didn't do the same for the 40p machine which broke\nthe keyboard by registering two 8042 keyboard devices at the same address.\n\nResolve this by similarly removing the 8042 keyboard from the 40p machine as\ndone for the prep machine in commit 72d3d8f052.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Herv Poussineau <hpoussin@reactos.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996447563171388,PC87312,hw/ppc/prep.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,72ee08cf4f2d4443d198b4e9f7a6fa2beb06dd6b,5b64db9754bde0b8e0329ce77d3647a0a2f6da56,Mark Cave-Ayland,2018-06-07,"mos6522: fix vmstate_mos6522_timer version in vmstate_mos6522\n\nThis was accidentally introduced when extracting the 6522 VIA functionality\nfrom the CUDA device, and prevents loadvm from completing successfully.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996185302734376,CUDA,hw/misc/mos6522.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2e3e5c7e92452900e2bb5143c5fb6d47c0897a34,72ee08cf4f2d4443d198b4e9f7a6fa2beb06dd6b,Mark Cave-Ayland,2018-06-07,cuda: embed mos6522_cuda device directly rather than using QOM object link\n\nExamining the migration stream it can be seen that the mos6522 device state is\nbeing stored separately rather than as part of the CUDA device which is\nincorrect (and likely to cause issues if another mos6522 device is added to\nthe machine).\n\nResolve this by embedding the mos6522_cuda device directly within the CUDA\ndevice rather than using a QOM object link to reference the device separately.\n\nNote that we also bump the version in vmstate_cuda to reflect this change: this\nisn't particularly important for the moment as the Mac machine migration isn't\n100% reliable due to issues migrating the timebase under TCG.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9992867112159728,"CUDA, TCG","hw/misc/macio/cuda.c, hw/misc/mos6522.c, include/hw/misc/macio/cuda.h, include/hw/misc/mos6522.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fb6649f172d6ea1a8d8980b7f93d31808eb06ff8,8f55ac13049f3c737373d9de8598a2a03e6a03f9,Mark Cave-Ayland,2018-06-12,"adb: fix read reg 3 byte ordering\n\nAccording to the Apple ADB documentation, register 3 is a 2-byte register\nwith the device address in the first byte, and the handler ID in the second\nbyte.\n\nThis is currently the opposite away to which QEMU returns them so switch the\norder around.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9992653727531432,ADB,"hw/input/adb-kbd.c, hw/input/adb-mouse.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,844afc54ae229515a37f63519855661ad2d01d19,7388efafc27c2f45d22c8edbc14b3154c0381c2e,Greg Kurz,2018-06-15,"spapr: fix xics_system_init() error path\n\nCommit 3d85885a1b1f3 tried to fix error handling, but it actually\nwent into the wrong direction by dropping the local Error *.\n\nIn the default KVM case, the rationale is to try the in-kernel XICS first,\nand if not possible, to fallback to userland XICS. Passing errp everywhere\nmakes this fallback impossible if errp is &error_fatal (which happens to\nbe the case). And anyway, if the caller would pass a regular &local_err,\nthings would be worse: we could possibly pass an already set *errp to\nerror_setg() and crash, or return an error even in case of success.\n\nSo we definitely need a local Error * and only propagate it when we're\ndone with the fallback logic. This is what this patch does.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999735414981842,"KVM, XICS",hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b55a06df4f03f21e8a32e9d067a8a5782ac3ce0d,2ef2f16781af9dee6ba6517755e9073ba5799fa2,liujunjie,2018-06-07,"ps2: check PS2Queue wptr pointer in post_load routine\n\nIn commit 802cbcb7300, most issues have been fixed when qemu guest\nmigration. But the queue size still need to check whether is equal to\nPS2_QUEUE_SIZE. If yes, the wptr should set as 0. Or, wptr would larger\nthan PS2_QUEUE_SIZE and never come back when ps2_queue_noirq is called.\nThis could lead to OOB access, add check to avoid it.\n\nSigned-off-by: liujunjie <liujunjie23@huawei.com>\nReviewed-by: Gonglei <arei.gonglei@huawei.com>\nMessage-id: 20180607080237.12360-1-liujunjie23@huawei.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999690055847168,PS2,hw/input/ps2.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5aa632d5d98fc2907cebec753181fc8a56c7d476,875fcce66139967887fbcfb322540d912a7a2b22,Alex Benne,2018-06-08,tests/tcg/multiarch: don't hard code paths/ports for linux-test\n\nThe fixed path and ports get in the way of running our tests and\nbuilds in parallel. Instead of using TESTPATH we use mkdtemp() and\ninstead of a fixed port we allow the kernel to assign one and query it\nafterwards.\n\nIdeally test directory creation should be common functionally across\nall TCG tests but this could complicate an already huge patch series\nso we mark it as a TODO for next time.\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>,1,0.9982228875160216,TCG,tests/tcg/multiarch/linux-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ae79c2db150e17757ee1be080481be675a15ccea,35e238c9330669882487f9929e0aa97900431853,Paolo Bonzini,2018-06-25,"ahci: fix FIS I bit and PIO Setup FIS interrupt\n\nThe ""I"" bit in PIO Setup and D2H FISes is exclusively a device concept\nand the irqstatus register in the controller does not matter.  The SATA\nspec says when it should be one; for D2H FISes in practice it is always\nset, while the PIO Setup FIS has several subcases that are documented in\nthe patch.\n\nAlso, the PIO Setup FIS interrupt is actually generated _after_ data\nhas been received.\n\nSomeone should probably spend some time reading the SATA specification and\nfiguring out the more obscure fields in the PIO Setup FIS, but this is enough\nto fix SeaBIOS booting from ATAPI CD-ROMs over an AHCI controller.\n\nFixes: 956556e131e35f387ac482ad7b41151576fef057\nReported-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: John Snow <jsnow@redhat.com>\nMessage-id: 20180622165159.19863-1-pbonzini@redhat.com\n[Minor edit to avoid ATAPI comment ambiguity. --js]\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.999728262424469,AHCI,"hw/ide/ahci.c, hw/ide/ahci_internal.h, tests/libqos/ahci.c, tests/libqos/ahci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e5e40999b5e03567ef654546e3d448431643f8f3,55df6fcf5476b44bc1b95554e686ab3e91d725c5,Peter Maydell,2018-06-26,"target/arm: Set page (region) size in get_phys_addr_pmsav7()\n\nWe want to handle small MPU region sizes for ARMv7M. To do this,\nmake get_phys_addr_pmsav7() set the page size to the region\nsize if it is less that TARGET_PAGE_SIZE, rather than working\nonly in TARGET_PAGE_SIZE chunks.\n\nSince the core TCG code con't handle execution from small\nMPU regions, we strip the exec permission from them so that\nany execution attempts will cause an MPU exception, rather\nthan allowing it to end up with a cpu_abort() in\nget_page_addr_code().\n\n(The previous code's intention was to make any small page be\ntreated as having no permissions, but unfortunately errors\nin the implementation meant that it didn't behave that way.\nIt's possible that some binaries using small regions were\naccidentally working with our old behaviour and won't now.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20180620130619.11362-3-peter.maydell@linaro.org",1,0.9988357424736024,"ARM, TCG",target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,32c072341f0d17ddc7443bd4c0adb9d2ed55fbd4,00928a421d47f49691cace1207481b7aad31b1f1,Emilio G. Cota,2018-05-22,trace: fix misreporting of TCG access sizes for user-space\n\ntrace_mem_build_info expects a size_shift for its first argument. Fix it.\n\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nMessage-id: 1527028012-21888-2-git-send-email-cota@braap.org\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>,1,0.996559202671051,TCG,include/exec/cpu_ldst_useronly_template.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d071f4cd5579fe82ba764e4c29f06664658e3762,f9b47999afbf84ddbe7e5649a82f477bb77e3b38,Emilio G. Cota,2018-05-22,"trace: enable tracing of TCG atomics\n\nWe do not trace guest atomic accesses. Fix it.\n\nTested with a modified atomic_add-bench so that it executes\na deterministic number of instructions, i.e. fixed seeding,\nno threading and fixed number of loop iterations instead\nof running for a certain time.\n\nBefore:\n- With parallel_cpus = false (no clone syscall so it is never set to true):\n  220070 memory accesses\n- With parallel_cpus = true (hard-coded):\n  212105 memory accesses <-- we're not tracing the atomics!\n\nAfter:\n  220070 memory accesses regardless of parallel_cpus.\n\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nMessage-id: 1527028012-21888-6-git-send-email-cota@braap.org\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9988090991973876,TCG,accel/tcg/atomic_template.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0305d194be1dbda09fa7a7c883894030d07c355f,f48a2cb21824217a61ec7be797860a0702e5325c,Yongbok Kim,2018-06-20,"target/mips: Fix microMIPS on reset\n\nFix to activate microMIPS on reset when Config3.ISA == {1, 3}\n\nSigned-off-by: Yongbok Kim <yongbok.kim@mips.com>\nReviewed-by: Aleksandar Markovic <aleksandar.markovic@mips.com>\nSigned-off-by: Aleksandar Markovic <aleksandar.markovic@mips.com>",1,0.9993938207626344,MIPS,target/mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,72e1f16f18fe62504f8f25d7a3f6813b24b221be,b52d3bfa2d54d99ef25f6d008815eecc53b67bfe,Yongbok Kim,2018-06-20,"target/mips: Fix data type for offset\n\nOffset can be larger than 16 bit from nanoMIPS,\nand immediate field can be larger than 16 bits as well.\n\nSigned-off-by: Yongbok Kim <yongbok.kim@mips.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Aleksandar Markovic <aleksandar.markovic@mips.com>\nSigned-off-by: Aleksandar Markovic <aleksandar.markovic@mips.com>",1,0.999386429786682,MIPS,target/mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5d9c9ea22ab4f3b3ee497523e34b6f4d3281f62d,2073bd43bd40ff6fc36f293a569bff113c0923d4,Pankaj Gupta,2018-06-27,"virtio-rng: process pending requests on DRIVER_OK\n\nvirtio-rng device causes old guest kernels(2.6.32) to hang on latest qemu.\nThe driver attempts to read from the virtio-rng device too early in it's\ninitialization. Qemu detects guest is not ready and returns, resulting in\nhang.\n\nTo fix handle pending requests when guest is running and driver status is\nset to 'VIRTIO_CONFIG_S_DRIVER_OK'.\n\nCC: qemu-stable@nongnu.org\nReported-by: Sergio lopez <slopezpa@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Pankaj Gupta <pagupta@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.99970942735672,VIRTIO,hw/virtio/virtio-rng.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a99761d3c85679da380c0f597468acd3dc1b53b3,4a83bf2f339d4b63ecd5ef48b9816c3b7ee24553,Eric Auger,2018-06-13,"exec: Fix MAP_RAM for cached access\n\nWhen an IOMMUMemoryRegion is in front of a virtio device,\naddress_space_cache_init does not set cache->ptr as the memory\nregion is not RAM. However when the device performs an access,\nwe end up in glue() which performs the translation and then uses\nMAP_RAM. This latter uses the unset ptr and returns a wrong value\nwhich leads to a SIGSEV in address_space_lduw_internal_cached_slow,\nfor instance.\n\nIn slow path cache->ptr is NULL and MAP_RAM must redirect to\nqemu_map_ram_ptr((mr)->ram_block, ofs).\n\nAs MAP_RAM, IS_DIRECT and INVALIDATE are the same in _cached_slow\nand non cached mode, let's remove those macros.\n\nThis fixes the use cases featuring vIOMMU (Intel and ARM SMMU)\nwhich lead to a SIGSEV.\n\nFixes: 48564041a73a (exec: reintroduce MemoryRegion caching)\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\n\nMessage-Id: <1528895946-28677-1-git-send-email-eric.auger@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997239708900452,"ARM, SEV","exec.c, memory_ldst.inc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6c090d4a755bb6245461450869130a517e18a3dc,61362b71c105ccb151ca16897a7d56534423f390,Shannon Zhao,2018-05-16,"kvm: Delete the slot if and only if the KVM_MEM_READONLY flag is changed\n\nAccording to KVM commit 75d61fbc, it needs to delete the slot before\nchanging the KVM_MEM_READONLY flag. But QEMU commit 235e8982 only check\nwhether KVM_MEM_READONLY flag is set instead of changing. It doesn't\nneed to delete the slot if the KVM_MEM_READONLY flag is not changed.\n\nThis fixes a issue that migrating a VM at the OVMF startup stage and\nVM is executing the codes in rom. Between the deleting and adding the\nslot in kvm_set_user_memory_region, there is a chance that guest access\nrom and trap to KVM, then KVM can't find the corresponding memslot.\nWhile KVM (on ARM) injects an abort to guest due to the broken hva, then\nguest will get stuck.\n\nSigned-off-by: Shannon Zhao <zhaoshenglong@huawei.com>\nMessage-Id: <1526462314-19720-1-git-send-email-zhaoshenglong@huawei.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9994669556617736,"ARM, KVM","accel/kvm/kvm-all.c, include/sysemu/kvm_int.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a57d1911222bba79bda543568e925635461ead82,7943e97b858e64eddf0f3395427e58c5cc00a7d9,David Hildenbrand,2018-06-19,"pc-dimm: merge get_(vmstate_)memory_region()\n\nImportantly, get_vmstate_memory_region() should also fail with a proper\nerror if called before the device is realized. For a PCDIMM, both functions\nare to return the same thing, so share the implementation.\n\nAll current users are called after the device has been realized, so we\ncan expect the calls to succeed.\n\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20180619134141.29478-9-david@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9992626309394836,DIMM,"hw/mem/pc-dimm.c, include/hw/mem/pc-dimm.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,178003ea49aef4273d94c3c002b8f15858070f68,f0b7bca64dbe8a15c1f4285c6061ce3c81a4a5c7,David Hildenbrand,2018-06-22,"numa: report all DIMM/NVDIMMs as plugged memory\n\nRight now, there is some inconsistency between hotplugged and\ncoldplugged memory. DIMMs added via ""-device"" result in different stats\nthan DIMMs added using ""device_add"".\n\nE.g.\n    [...]\n    -numa node,nodeid=0,cpus=0-1 -numa node,nodeid=1,cpus=2-3 \\n    -m 4G,maxmem=20G,slots=2 \\n    -object memory-backend-ram,id=mem0,size=8G \\n    -device pc-dimm,id=dimm0,memdev=mem0 \\n    -object memory-backend-ram,id=mem1,size=8G \\n    -device nvdimm,id=dimm1,memdev=mem1,node=1\n\nResults in NUMA info\n    (qemu) info numa\n    info numa\n    2 nodes\n    node 0 cpus: 0 1\n    node 0 size: 10240 MB\n    node 0 plugged: 0 MB\n    node 1 cpus: 2 3\n    node 1 size: 10240 MB\n    node 1 plugged: 0 MB\n\nBut in memory size summary:\n    (qemu) info memory_size_summary\n    info memory_size_summary\n    base memory: 4294967296\n    plugged memory: 17179869184\n\nMake this consistent by reporting all hot and coldplugged\nmemory a.k.a. DIMM and NVDIMM as ""plugged"".\n\nFixes: 31959e82fb0 (""hmp: extend ""info numa"" with hotplugged memory information"")\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20180622144045.737-1-david@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9983023405075072,"DIMM, NVDIMM",numa.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,86933b4e7879e427e03365bf352c0964640cb37b,50fa332516d5e42695811f43396b749185e21b9c,Paolo Bonzini,2018-06-20,"pr-helper: fix assertion failure on failed multipath PERSISTENT RESERVE IN\n\nThe response size is expected to be zero if the SCSI status is not\n""GOOD"", but nothing was resetting it.\n\nThis can be reproduced simply by ""sg_persist -s /dev/sdb"" where /dev/sdb\nin the guest is a scsi-block device corresponding to a multipath device\non the host.\n\nBefore:\n\n  PR in (Read full status): Aborted command\n\nand on the host:\n\n  prh_write_response: Assertion `resp->sz == 0' failed.\n\nAfter:\n\n  PR in (Read full status): bad field in cdb or parameter list\n  (perhaps unsupported service action)\n\nReported-by: Jiri Belka <jbelka@redhat.com>\nReviewed-by: Michal Privoznik <mprivozn@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9995684027671814,SCSI,scsi/qemu-pr-helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e7ca549fc8caf9b1c79814f3854622448815f2bf,e1753a7e1d8174f5861367504c5cea5fbcd85953,Justin Terry (VM),2018-06-05,WHPX: register for unrecognized MSR exits\n\nSome variations of Linux kernels end up accessing MSR's that the Windows\nHypervisor doesn't implement which causes a GP to be returned to the guest.\nThis fix registers QEMU for unimplemented MSR access and globally returns 0 on\nreads and ignores writes. This behavior is allows the Linux kernel to probe the\nMSR with a write/read/check sequence it does often without failing the access.\n\nSigned-off-by: Justin Terry (VM) <juterry@microsoft.com>\nMessage-Id: <20180605221500.21674-2-juterry@microsoft.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.999642848968506,WHPX,target/i386/whpx-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a0c7e35b17b3d2cade8a5fc8e57904e02fb91fe4,0a96ca2437646bad197b0108c5f4a93e7ead05a9,Daniel Henrique Barboza,2018-06-27,"hw/scsi: centralize SG_IO calls into single function\n\nFor the VPD Block Limits emulation with SCSI passthrough,\nwe'll issue an Inquiry request with EVPD set to retrieve\nthe available VPD pages of the device. This would be done in\na way similar of what scsi_generic_read_device_identification\ndoes: create a SCSI command and a reply buffer, fill in the\nsg_io_hdr_t structure, call blk_ioctl, check if an error\noccurred, process the response.\n\nThis same process is done in other 2 functions, get_device_type\nand get_stream_blocksize. They differ in the command/reply\nbuffer and post-processing, everything else is almost a\ncopy/paste.\n\nInstead of adding a forth copy/pasted-ish code when adding\nthe passthrough VPD BL emulation, this patch extirpates\nthis repetition of those 3 functions and put it into\na new one called scsi_SG_IO_FROM_DEV. Any future code that\nwants to execute an SG_DXFER_FROM_DEV to the device can\nuse it, avoiding filling sg_io_hdr_t again and et cetera.\n\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20180627172432.11120-3-danielhb413@gmail.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.992656409740448,SCSI,"hw/scsi/scsi-disk.c, hw/scsi/scsi-generic.c, include/hw/scsi/scsi.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,28a3cfc10b2e1a34985797357b4aa7558a63d08f,a71c775b24ebc664129eb1d9b4c360590353efd5,Thomas Huth,2018-05-22,"tests/boot-serial: Do not delete the output file in case of errors\n\nPeter reported that the boot-serial tester sometimes runs into timeouts\nwith SPARC guests. It's currently completely unclear whether this is due\nto too much load on the host machine (so that the guest really just ran\ntoo slow), or whether there is something wrong with the guest's firmware\nboot. For further debugging, we need the serial output of the guest in\ncase of errors, so instead of unlinking the file immediately, this is\nnow only done in case of success. In case of error, print the name of the\nfile with the serial output via g_error() (which then also calls abort()\ninternally to mark the test as failed).\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <1526977831-31129-1-git-send-email-thuth@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997478127479552,SPARC,tests/boot-serial-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,11d7870b1b4d038d7beb827f3afa72e284701351,7e8fafbfd0537937ba8fb366a90ea6548cc31576,Richard Henderson,2018-06-28,"target/arm: Fix SVE system register access checks\n\nLeave ARM_CP_SVE, removing ARM_CP_FPU; the sve_access_check\nproduced by the flag already includes fp_access_check.  If\nwe also check ARM_CP_FPU the double fp_access_check asserts.\n\nReported-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nMessage-id: 20180629001538.11415-3-richard.henderson@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999643087387085,ARM,"target/arm/helper.c, target/arm/translate-a64.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f02251a30ea8c4ce64d9a240795e10bb3c5852c,9c509ff94e58823624b9617590134bc05d674279,Peter Maydell,2018-06-22,"xtensa: Avoid calling get_page_addr_code() from helper function\n\nThe xtensa frontend calls get_page_addr_code() from its\nitlb_hit_test helper function. This function is really part\nof the TCG core's internals, and calling it from a target\nhelper makes it awkward to make changes to that core code.\nIt also means that we don't pass the correct retaddr to\ntlb_fill(), so we won't correctly handle the case where\nan exception is generated.\n\nThe helper is used for the instructions IHI, IHU and IPFL.\n\nChange it to call cpu_ldb_code_ra() instead.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.996881365776062,TCG,target/xtensa/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d66b43c896f89d610f8738169db8e10e63a3a9e6,7c12f710bad60dc7e509da4e80c77e952ef0490c,David Hildenbrand,2018-06-27,"s390x/tcg: fix CPU hotplug with single-threaded TCG\n\nrun_on_cpu() doesn't seem to work reliably until the CPU has been fully\ncreated if the single-threaded TCG main loop is already running.\n\nTherefore, hotplugging a CPU under single-threaded TCG does currently\nnot work. We should use the direct call instead of going via\nrun_on_cpu().\n\nSo let's use run_on_cpu() for KVM only - KVM requires it due to the initial\nCPU reset ioctl. As a nice side effect, we get rid of the ifdef.\n\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20180627134410.4901-10-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9997009038925172,"KVM, TCG",target/s390x/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d44444b0740680d996c979c8c3f63ab1c87f1cb1,8151942151fe1cbf072414d8822b80b00abfbf42,David Hildenbrand,2018-06-28,"s390x/kvm: indicate alignment in legacy_s390_alloc()\n\nLet's do this for completeness reason, although we don't support e.g.\nPCDIMM/NVDIMM, which would use the alignment for placing the memory\nregion in guest physical memory. But maybe someday we would want to\nsupport something like this - then we don't forget about this if\nallowing multiple allocations in legacy_s390_alloc().\n\nUse the same alignment as we would set in qemu_anon_ram_alloc(). Our\nfixed address satisfies this alignment (1MB). This implicitly sets the\nalignment of the underlying memory region.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20180628113817.30814-3-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9790255427360536,"DIMM, NVDIMM",target/s390x/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5107a9cb431b816af6d7e450c22b044198bc6d18,b7d678135f0294489e0458ef97088e848d08dfb5,Mark Cave-Ayland,2018-06-22,"mac_newworld: always enable disable_direct_reg3_writes for ADB machines\n\nCommit 84051eb400 ""adb: add property to disable direct reg 3 writes"" added a\nworkaround for MacOS 9 incorrectly setting the mouse address during boot of\nPMU machines.\n\nFurther testing has shown that since fb6649f172 ""adb: fix read reg 3 byte\nordering"" this can still sometimes happen with the CUDA mac99 machine,\nso let's enable this workaround for all New World machines using ADB for now.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996484518051147,"ADB, CUDA",hw/ppc/mac_newworld.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,94bf2658676be00b6f2b4db5d1788122217665b0,0f3110fa67d3c3405202104f4833f1780e1a32bb,Richard Henderson,2018-06-26,"target/ppc: Use atomic load for LQ and LQARX\n\nSection 1.4 of the Power ISA v3.0B states that both of these\ninstructions are single-copy atomic.  As we cannot (yet) issue\n128-bit loads within TCG, use the generic helpers provided.\n\nSince TCG cannot (yet) return a 128-bit value, add a slot within\nCPUPPCState for returning the high half of a 128-bit return value.\nThis solution is preferred to the helper assigning to architectural\nregisters directly, as it avoids clobbering all TCG live values.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9992805123329164,"PPC, TCG","target/ppc/cpu.h, target/ppc/helper.h, target/ppc/mem_helper.c, target/ppc/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,71d0f1eac43044ccfaf7c398a93dcdb09bf29e0f,3c409c1927efde2fc7ac5f6cd5d79d0784be3b5d,Greg Kurz,2018-06-29,"target/ppc/kvm: get rid of kvm_get_fallback_smmu_info()\n\nNow that we're checking our MMU configuration is supported by KVM,\nrather than adjusting it to KVM, it doesn't really make sense to\nhave a fallback for kvm_get_smmu_info(). If KVM is too old or buggy\nto provide the details, we should rather treat this as an error.\n\nThis patch thus adds error reporting to kvm_get_smmu_info() and get\nrid of the fallback code. QEMU will now terminate if KVM fails to\nprovide MMU details. This may break some very old setups, but the\nsimplification is worth the sacrifice.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999444544315338,KVM,target/ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0123d3cbb06600e0624fdbf2255055d9cffe9c28,2a8ceefca23bc2aaafe711f8afd7585be3c27064,BALATON Zoltan,2018-06-29,"target/ppc: Relax reserved bitmask of indexed store instructions\n\nThe PPC440 User Manual says that if bit 31 is set, the contents of\nCR[CR0] are undefined for indexed store instructions but this form is\nnot invalid. Other PPC variants confirming to recent ISA where this\nbit may be reserved should ignore reserved bits and not raise invalid\ninstruction exception. In particular, MorphOS has an stwx instruction\nwith bit 31 set and fails to boot currently because of this. With this\npatch it gets further.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9940138459205629,"PPC, PPC440",target/ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8bb01b257f3398eae059e93bd7c8a3f5f54c5438,ab08440a4ee09032d1a9cb22fdcab23bc7e1c656,Sebastian Bauer,2018-06-26,"ehci: Don't fetch a NULL current qtd but advance the queue instead.\n\nFetching qtd with the NULL address most likely makes no sense so from now\non, we handle it this case similarly as if the terminate (T) bit is not\nset, which is already an exception as according to section 3.6 of the EHCI\nspec there is no T bit defined for the current_qtd field.\n\nThe spec is a bit vague on how an EHCI driver should initialize these\nfields: ""The general operational model is that the host controller can\ndetect whether the overlay area contains a description of an active\ntransfer"" (p. 49). QEMU primarily uses the QTD_TOKEN_ACTIVE bit of the\nqueue header to infer the activity state but there are other ways\nconceivable.\n\nThis change allows QEMU to boot further into AmigaOS. The public available\nversion of the EHCI driver recycles queue heads in some rare conditions but\nonly clears the current_qtd field but not the status field. This works with\nmany available EHCI PCI cards but e.g., not with the Freescale USB\ncontroller's found on the P5040. On the emulated EHCI controller of QEMU\nthe consequence is that some garbage was read in, which resulted in a\nreset of the controller. This change fixes the problem.\n\nSigned-off-by: Sebastian Bauer <mail@sebastianbauer.info>\nTested-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-id: 20180625222718.4488-1-mail@sebastianbauer.info\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9889637231826782,"PCI, USB",hw/usb/hcd-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,05eb4a25aea245575503b03bc882a64ae70fcaad,901a34a400a0dd5bf5056b6b9ecce48ab8eb02ac,Marc-Andr Lureau,2018-07-03,"qapi: add conditions to VNC type/commands/events on the schema\n\nAdd #if defined(CONFIG_VNC) in generated code, and adjust the\nqmp/hmp code accordingly.\n\nquery-qmp-schema no longer reports the command/events etc as\navailable when disabled at compile.\n\nCommands made conditional:\n\n* query-vnc, query-vnc-servers, change-vnc-password\n\n  Before the patch, the commands for !CONFIG_VNC are stubs that fail\n  like this:\n\n    {""error"": {""class"": ""GenericError"",\n               ""desc"": ""The feature 'vnc' is not enabled""}}\n\n  Afterwards, they fail like this:\n\n    {""error"": {""class"": ""CommandNotFound"",\n               ""desc"": ""The command FOO has not been found""}}\n\n  I call that an improvement, because it lets clients distinguish\n  between command unavailable (class CommandNotFound) and command failed\n  (class GenericError).\n\nEvents made conditional:\n\n* VNC_CONNECTED, VNC_INITIALIZED, VNC_DISCONNECTED\n\nHMP change:\n\n* info vnc\n\n  Will return ""unknown command: 'info vnc'"" when VNC is compiled\n  out (same as error for spice when --disable-spice)\n\nOccurrences of VNC (case insensitive) in the schema that aren't\ncovered by this change:\n\n* add_client\n\n  Command has other uses, including ""socket bases character devices"".\n  These are unconditional as far as I can tell.\n\n* set_password, expire_password\n\n  In theory, these commands could be used for managing any service's\n  password.  In practice, they're used for VNC and SPICE services.\n  They're documented for ""remote display session"" / ""remote display\n  server"".\n\n  The service is selected by argument @protocol.  The code special-cases\n  protocol-specific argument checking, then calls a protocol-specific\n  function to do the work.  If it fails, the command fails with ""Could\n  not set password"".  It does when the service isn't compiled in (it's a\n  stub then).\n\n  We could make these commands conditional on the conjunction of all\n  services [currently: defined(CONFIG_VNC) || defined(CONFIG_SPICE)],\n  but I doubt it's worthwhile.\n\n* change\n\n  Command has other uses, namely changing media.\n  This patch inlines a stub; no functional change.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nMessage-Id: <20180703155648.11933-14-marcandre.lureau@redhat.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>",1,0.9891077280044556,SPICE,"hmp-commands-info.hx, hmp.c, qapi/ui.json, qmp.c, ui/vnc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,514337c142f9522f6ab89c3d2f964f446ebeb1cd,05eb4a25aea245575503b03bc882a64ae70fcaad,Marc-Andr Lureau,2018-07-03,"qapi: add conditions to SPICE type/commands/events on the schema\n\nAdd #if defined(CONFIG_SPICE) in generated code, and adjust the\nqmp/hmp code accordingly.\n\nquery-qmp-schema no longer reports the command/events etc as\navailable when disabled at compile time.\n\nCommands made conditional:\n\n* query-spice\n\n  Before the patch, the command for !CONFIG_SPICE is unregistered. It\n  will fail with the same error.\n\nEvents made conditional:\n\n* SPICE_CONNECTED, SPICE_INITIALIZED, SPICE_DISCONNECTED,\n  SPICE_MIGRATE_COMPLETED\n\nAdd TODO for conditional SPICE chardevs, delayed until the supports\nfor conditional members lands.\n\nNo HMP change, the code was already conditional.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nMessage-Id: <20180703155648.11933-15-marcandre.lureau@redhat.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>",1,0.9936782717704772,SPICE,"monitor.c, qapi/char.json, qapi/ui.json, qmp.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5fd4a9c97397bc0819a919de7a62ec972ec85260,a428594042bad540479733548b748b78a1a234b8,Dr. David Alan Gilbert,2018-07-06,tests/migration: Skip tests for ppc tcg\n\nPPC tcg seems to be failing migration tests quite regularly;\nwe believe this is TCG bugs in dirty bit updating; it's\nnot clear why PPC fails more but lets skip for the moment.\n\n$ ./tests/migration-test\n/ppc64/migration/deprecated: OK\n/ppc64/migration/bad_dest: Skipping test: kvm_hv not available OK\n/ppc64/migration/postcopy/unix: Skipping test: kvm_hv not available OK\n/ppc64/migration/precopy/unix: Skipping test: kvm_hv not available OK\n\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Laurent Vivier <lvivier@redhat.com>\nMessage-id: 20180706143105.93472-1-dgilbert@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9715110063552856,"PPC, TCG",tests/migration-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,02693cc4f4aacf82cb73559dfa9af76ce4b13d11,70da30483e78b501ff4b3a090f26c08abd0f7a7f,Greg Kurz,2018-07-02,"i386: fix '-cpu ?' output for host cpu type\n\nSince commit d6dcc5583e7, '-cpu ?' shows the description of the\nX86_CPU_TYPE_NAME(""max"") for the host CPU model:\n\nEnables all features supported by the accelerator in the current host\n\ninstead of the expected:\n\nKVM processor with all supported host features\n\nor\n\nHVF processor with all supported host features\n\nThis is caused by the early use of kvm_enabled() and hvf_enabled() in\na class_init function. Since the accelerator isn't configured yet, both\nhelpers return false unconditionally.\n\nA QEMU binary will only be compiled with one of these accelerators, not\nboth. The appropriate description can thus be decided at build time.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <153055056654.212317.4697363278304826913.stgit@bahia.lan>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996862411499025,"HVF, KVM",target/i386/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3232794bcb77940dd7167abb8cc72897883523f6,43a473993fd9378bf850dcafa68eb6dee8c300f8,Mark Cave-Ayland,2018-07-03,"ppc: fix default VGA display for Mac machines\n\nCommit 29f9cef39e ""ppc: Include vga cirrus card into the compiling process""\nchanged the default display adapter for all PPC machines to cirrus. Unfortunately\nit missed setting the default display type to stdvga for both Mac machines\ncausing the display to fail to initialise under OpenBIOS.\n\nUpdate the MachineClass for both Old World and New World Macs so that the\ndefault std(vga) display adapter is the default if no options are specified\nwhich fixes the display for the Mac machines.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.998027503490448,"PPC, VGA","hw/ppc/mac_newworld.c, hw/ppc/mac_oldworld.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4cb25fbb433581a0f80a8564bd2bcf574b1d84a7,4fff72185b38cc9ad3162c1794428141f20366a3,Mark Cave-Ayland,2018-07-06,"ppc: fix default VGA display for PReP machines\n\nCommit 29f9cef ""ppc: Include vga cirrus card into the compiling process""\nchanged the default display adapter for all PPC machines to cirrus. Unfortunately\nit missed setting the default display type to stdvga for both PReP machines\ncausing the display to fail to initialise under OpenHackWare.\n\nUpdate the MachineClass for both prep and 40p machines so that the default\nstd(vga) display adapter is the default if no options are specified\nwhich fixes the display for the PReP machines.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9988797307014464,"PPC, VGA",hw/ppc/prep.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b78aae9bb65876baa47b73d5cf63372171630bf9,a98ff0ec2ba3538dd766b349518ee18d03942ed8,Eric Auger,2018-07-09,"hw/arm/smmu-common: Fix devfn computation in smmu_iommu_mr\n\nsmmu_iommu_mr() aims at returning the IOMMUMemoryRegion corresponding\nto a given sid. The function extracts both the PCIe bus number and\nthe devfn to return this data. Current computation of devfn is wrong\nas it only returns the PCIe function instead of slot | function.\n\nFixes 32cfd7f39e08 (""hw/arm/smmuv3: Cache/invalidate config data"")\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nMessage-id: 1530775623-32399-1-git-send-email-eric.auger@redhat.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997003078460692,PCI,"hw/arm/smmu-common.c, include/hw/arm/smmu-common.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,999658a05e61a8d87b65827da665302bb44ce8c9,e79c4cd1909c05a2cab6517a9c00445bd2d880a6,Vladimir Sementsov-Ogievskiy,2018-07-09,"block/io: fix copy_range\n\nHere two things are fixed:\n\n1. Architecture\n\nOn each recursion step, we go to the child of src or dst, only for one\nof them. So, it's wrong to create tracked requests for both on each\nstep. It leads to tracked requests duplication.\n\n2. Wait for serializing requests on write path independently of\n   BDRV_REQ_NO_SERIALISING\n\nBefore commit 9ded4a01149 ""backup: Use copy offloading"",\nBDRV_REQ_NO_SERIALISING was used for only one case: read in\ncopy-on-write operation during backup. Also, the flag was handled only\non read path (in bdrv_co_preadv and bdrv_aligned_preadv).\n\nAfter 9ded4a01149, flag is used for not waiting serializing operations\non backup target (in same case of copy-on-write operation). This\nbehavior change is unsubstantiated and potentially dangerous, let's\ndrop it and add additional asserts and documentation.\n\nSigned-off-by: Vladimir Sementsov-Ogievskiy <vsementsov@virtuozzo.com>\nReviewed-by: Fam Zheng <famz@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9997261166572572,SERIAL,"block/io.c, include/block/block.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,17f4566657df51c5e0cb40f30491e058d74d63c8,c447afd5783b9237fa51b7a85777007d8d568bfc,Claudio Imbrenda,2018-07-05,"s390x/storage attributes: fix CMMA_BLOCK_SIZE usage\n\nThe macro CMMA_BLOCK_SIZE was defined but not used, and a hardcoded\nvalue was instead used in the code.\n\nThis patch fixes the value of CMMA_BLOCK_SIZE and uses it in the\nappropriate place in the code, and fixes another case of hardcoded\nvalue in the KVM backend, replacing it with the more appropriate\nconstant KVM_S390_CMMA_SIZE_MAX.\n\nSigned-off-by: Claudio Imbrenda <imbrenda@linux.vnet.ibm.com>\nMessage-Id: <1530787170-3101-1-git-send-email-imbrenda@linux.vnet.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996716976165771,KVM,"hw/s390x/s390-stattrib-kvm.c, hw/s390x/s390-stattrib.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,740842c9656cd5dbc9ccf2ea0c3a74f0ba35144a,2d4cb49ddaa219ed3f5a985ecf8b188aeb2b3d6b,Daniel Henrique Barboza,2018-07-11,"scsi-disk: Block Device Characteristics emulation fix\n\nThe current BDC VPD page (page 0xb1) is too short. This can be\nseen running sg_utils:\n\n$ sg_vpd --page=bdc /dev/sda\nBlock device characteristics VPD page (SBC):\nBlock device characteristics VPD page length too short=8\n\nBy the SCSI spec, the expected size of the SBC page is 0x40.\nThere is no telling how the guest will behave with a shorter\nmessage - it can ignore it, or worse, make (wrong)\nassumptions.\n\nThis patch fixes the emulation by setting the size to 0x40.\nThis is the output of the previous sg_vpd command after\napplying it:\n\n$ sg_vpd --page=bdc /dev/sda -v\n    inquiry cdb: 12 01 b1 00 fc 00\nBlock device characteristics VPD page (SBC):\n   [PQual=0  Peripheral device type: disk]\n  Medium rotation rate is not reported\n  Product type: Not specified\n  WABEREQ=0\n  WACEREQ=0\n  Nominal form factor not reported\n  FUAB=0\n  VBULS=0\n\nTo improve readability, this patch also adds the VBULS value\nexplictly and add comments on the existing fields we're\nsetting.\n\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9997215867042542,SCSI,hw/scsi/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b585395b655a6c1f9d9ebf1f0890e76d0708eed6,ccc2cef8b3f1dedd059924eb8ec1a87eff8ef607,Greg Kurz,2018-07-12,"ppc/xics: fix ICP reset path\n\nRecent cleanup in commit a028dd423ee6 dropped the ICPStateClass::reset\nhandler. It is now up to child ICP classes to call the DeviceClass::reset\nhandler of the parent class, thanks to device_class_set_parent_reset().\nThis is a better object programming pattern, but unfortunately it causes\nQEMU to crash during CPU hotplug:\n\n(qemu) device_add host-spapr-cpu-core,id=core1,core-id=1\nSegmentation fault (core dumped)\n\nWhen the hotplug path tries to reset the ICP device, we end up calling:\n\nstatic void icp_kvm_reset(DeviceState *dev)\n{\n    ICPStateClass *icpc = ICP_GET_CLASS(dev);\n\n    icpc->parent_reset(dev);\n\nbut icpc->parent_reset is NULL... This happens because icp_kvm_class_init()\ncalls:\n\n    device_class_set_parent_reset(dc, icp_kvm_reset,\n                                  &icpc->parent_reset);\n\nbut dc->reset, ie, DeviceClass::reset for the TYPE_ICP type, is\nitself NULL.\n\nThis patch hence sets DeviceClass::reset for the TYPE_ICP type to\npoint to icp_reset(). It then registers a reset handler that calls\nDeviceClass::reset. If the ICP subtype has configured its own reset\nhandler with device_class_set_parent_reset(), this ensures it will\nbe called first and it can then call ICPStateClass::parent_reset\nsafely. This fixes the reset path for the TYPE_KVM_ICP type, which\nis the only subtype that defines its own reset function.\n\nReported-by: Satheesh Rajendran <sathnaga@linux.vnet.ibm.com>\nSuggested-by: David Gibson <david@gibson.dropbear.id.au>\nFixes: a028dd423ee6dfd091a8c63028240832bf10f671\nSigned-off-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996294975280762,KVM,hw/intc/xics.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8449bcf94986156a1476d6647c75ec1ce3db64d0,25e8978817a54745c44d956d8303e6be6f2c4047,Stefan Hajnoczi,2018-07-16,virtio-scsi: fix hotplug ->reset() vs event race\n\nThere is a race condition during hotplug when iothread is used.  It\noccurs because virtio-scsi may be processing command queues in the\niothread while the monitor performs SCSI device hotplug.\n\nWhen a SCSI device is hotplugged the HotplugHandler->plug() callback is\ninvoked and virtio-scsi emits a rescan event to the guest.\n\nIf the guest submits a SCSI command at this point then it may be\ncancelled before hotplug completes.  This happens because ->reset() is\ncalled by hw/core/qdev.c:device_set_realized() after\nHotplugHandler->plug() has been called and\nhw/scsi/scsi-disk.c:scsi_disk_reset() purges all requests.\n\nThis patch uses the new HotplugHandler->post_plug() callback to emit the\nrescan event after ->reset().  This eliminates the race conditions where\nrequests could be cancelled.\n\nReported-by: l00284672 <lizhengui@huawei.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Fam Zheng <famz@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-Id: <20180716083732.3347-3-stefanha@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9997215867042542,SCSI,hw/scsi/virtio-scsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5d9f3ea0817215ad4baac5aa30414e9ebbaaf0d6,28cbb997d66e4d1904a231bef1ce15c2cbb6bf73,Shivaprasad G Bhat,2018-07-31,"linux-user: ppc64: don't use volatile register during safe_syscall\n\nr11 is a volatile register on PPC as per calling conventions.\nThe safe_syscall code uses it to check if the signal_pending\nis set during the safe_syscall. When a syscall is interrupted\non return from signal handling, the r11 might be corrupted\nbefore we retry the syscall leading to a crash. The registers\nr0-r13 are not to be used here as they have\nvolatile/designated/reserved usages.\n\nChange the code to use r14 which is non-volatile.\nUse SP+16 which is a slot for LR, for save/restore of previous value\nof r14. SP+16 can be used, as LR is preserved across the syscall.\n\nSteps to reproduce:\nOn PPC host, issue `qemu-x86_64 /usr/bin/cc -E -`\nAttempt Ctrl-C, the issue is reproduced.\n\nReference:\nhttps://refspecs.linuxfoundation.org/ELF/ppc64/PPC-elf64abi-1.9.html#REG\nhttps://openpowerfoundation.org/wp-content/uploads/2016/03/ABI64BitOpenPOWERv1.1_16July2015_pub4.pdf\n\nSigned-off-by: Shivaprasad G Bhat <sbhat@linux.vnet.ibm.com>\nTested-by: Richard Henderson <richard.henderson@linaro.org>\nTested-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <153301568965.30312.10498134581068746871.stgit@dhcp-9-109-246-16>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.8542685508728027,PPC,linux-user/host/ppc64/safe-syscall.inc.S,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9a1054061c62311f6efcd88e4df0aa5203c7b39a,42e76456cf68dc828b8dbd3c7e255197e9b5e57d,Marc-Andr Lureau,2018-07-31,"monitor: temporary fix for dead-lock on event recursion\n\nWith a Spice port chardev, it is possible to reenter\nmonitor_qapi_event_queue() (when the client disconnects for\nexample). This will dead-lock on monitor_lock.\n\nInstead, use some TLS variables to check for recursion and queue the\nevents.\n\nFixes:\n (gdb) bt\n #0  0x00007fa69e7217fd in __lll_lock_wait () at /lib64/libpthread.so.0\n #1  0x00007fa69e71acf4 in pthread_mutex_lock () at /lib64/libpthread.so.0\n #2  0x0000563303567619 in qemu_mutex_lock_impl (mutex=0x563303d3e220 <monitor_lock>, file=0x5633036589a8 ""/home/elmarco/src/qq/monitor.c"", line=645) at /home/elmarco/src/qq/util/qemu-thread-posix.c:66\n #3  0x0000563302fa6c25 in monitor_qapi_event_queue (event=QAPI_EVENT_SPICE_DISCONNECTED, qdict=0x56330602bde0, errp=0x7ffc6ab5e728) at /home/elmarco/src/qq/monitor.c:645\n #4  0x0000563303549aca in qapi_event_send_spice_disconnected (server=0x563305afd630, client=0x563305745360, errp=0x563303d8d0f0 <error_abort>) at qapi/qapi-events-ui.c:149\n #5  0x00005633033e600f in channel_event (event=3, info=0x5633061b0050) at /home/elmarco/src/qq/ui/spice-core.c:235\n #6  0x00007fa69f6c86bb in reds_handle_channel_event (reds=<optimized out>, event=3, info=0x5633061b0050) at reds.c:316\n #7  0x00007fa69f6b193b in main_dispatcher_self_handle_channel_event (info=0x5633061b0050, event=3, self=0x563304e088c0) at main-dispatcher.c:197\n #8  0x00007fa69f6b193b in main_dispatcher_channel_event (self=0x563304e088c0, event=event@entry=3, info=0x5633061b0050) at main-dispatcher.c:197\n #9  0x00007fa69f6d0833 in red_stream_push_channel_event (s=s@entry=0x563305ad8f50, event=event@entry=3) at red-stream.c:414\n #10 0x00007fa69f6d086b in red_stream_free (s=0x563305ad8f50) at red-stream.c:388\n #11 0x00007fa69f6b7ddc in red_channel_client_finalize (object=0x563304df2360) at red-channel-client.c:347\n #12 0x00007fa6a56b7fb9 in g_object_unref () at /lib64/libgobject-2.0.so.0\n #13 0x00007fa69f6ba212 in red_channel_client_push (rcc=0x563304df2360) at red-channel-client.c:1341\n #14 0x00007fa69f68b259 in red_char_device_send_msg_to_client (client=<optimized out>, msg=0x5633059b6310, dev=0x563304e08bc0) at char-device.c:305\n #15 0x00007fa69f68b259 in red_char_device_send_msg_to_clients (msg=0x5633059b6310, dev=0x563304e08bc0) at char-device.c:305\n #16 0x00007fa69f68b259 in red_char_device_read_from_device (dev=0x563304e08bc0) at char-device.c:353\n #17 0x000056330317d01d in spice_chr_write (chr=0x563304cafe20, buf=0x563304cc50b0 ""{\""timestamp\"": {\""seconds\"": 1532944763, \""microseconds\"": 326636}, \""event\"": \""SHUTDOWN\"", \""data\"": {\""guest\"": false}}\r\n"", len=111) at /home/elmarco/src/qq/chardev/spice.c:199\n #18 0x00005633034deee7 in qemu_chr_write_buffer (s=0x563304cafe20, buf=0x563304cc50b0 ""{\""timestamp\"": {\""seconds\"": 1532944763, \""microseconds\"": 326636}, \""event\"": \""SHUTDOWN\"", \""data\"": {\""guest\"": false}}\r\n"", len=111, offset=0x7ffc6ab5ea70, write_all=false) at /home/elmarco/src/qq/chardev/char.c:112\n #19 0x00005633034df054 in qemu_chr_write (s=0x563304cafe20, buf=0x563304cc50b0 ""{\""timestamp\"": {\""seconds\"": 1532944763, \""microseconds\"": 326636}, \""event\"": \""SHUTDOWN\"", \""data\"": {\""guest\"": false}}\r\n"", len=111, write_all=false) at /home/elmarco/src/qq/chardev/char.c:147\n #20 0x00005633034e1e13 in qemu_chr_fe_write (be=0x563304dbb800, buf=0x563304cc50b0 ""{\""timestamp\"": {\""seconds\"": 1532944763, \""microseconds\"": 326636}, \""event\"": \""SHUTDOWN\"", \""data\"": {\""guest\"": false}}\r\n"", len=111) at /home/elmarco/src/qq/chardev/char-fe.c:42\n #21 0x0000563302fa6334 in monitor_flush_locked (mon=0x563304dbb800) at /home/elmarco/src/qq/monitor.c:425\n #22 0x0000563302fa6520 in monitor_puts (mon=0x563304dbb800, str=0x563305de7e9e """") at /home/elmarco/src/qq/monitor.c:468\n #23 0x0000563302fa680c in qmp_send_response (mon=0x563304dbb800, rsp=0x563304df5730) at /home/elmarco/src/qq/monitor.c:517\n #24 0x0000563302fa6905 in qmp_queue_response (mon=0x563304dbb800, rsp=0x563304df5730) at /home/elmarco/src/qq/monitor.c:538\n #25 0x0000563302fa6b5b in monitor_qapi_event_emit (event=QAPI_EVENT_SHUTDOWN, qdict=0x563304df5730) at /home/elmarco/src/qq/monitor.c:624\n #26 0x0000563302fa6c4b in monitor_qapi_event_queue (event=QAPI_EVENT_SHUTDOWN, qdict=0x563304df5730, errp=0x7ffc6ab5ed00) at /home/elmarco/src/qq/monitor.c:649\n #27 0x0000563303548cce in qapi_event_send_shutdown (guest=false, errp=0x563303d8d0f0 <error_abort>) at qapi/qapi-events-run-state.c:58\n #28 0x000056330313bcd7 in main_loop_should_exit () at /home/elmarco/src/qq/vl.c:1822\n #29 0x000056330313bde3 in main_loop () at /home/elmarco/src/qq/vl.c:1862\n #30 0x0000563303143781 in main (argc=3, argv=0x7ffc6ab5f068, envp=0x7ffc6ab5f088) at /home/elmarco/src/qq/vl.c:4644\n\nNote that error report is now moved to the first caller, which may\nreceive an error for a recursed event. This is probably fine (95% of\ncallers use &error_abort, the rest have NULL error and ignore it)\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20180731150144.14022-1-marcandre.lureau@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\n[*_no_recurse renamed to *_no_reenter, local variables reordered]\nSigned-off-by: Markus Armbruster <armbru@redhat.com>",1,0.999742329120636,SPICE,monitor.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6484ab3dffadc79020a71376010f517d60b81b83,1069a3c6e1176001116116629427550f138d68a4,BALATON Zoltan,2018-07-31,"sam460ex: Fix PCI interrupts with multiple devices\n\nThe four interrupts of the PCI bus are connected to the same UIC pin\non the real Sam460ex. Evidence for this can be found in the UBoot\nsource for the Sam460ex in the Sam460ex.c file where\nPCI_INTERRUPT_LINE is written. Change the ppc440_pcix model to behave\nmore like this.\n\nThis fixes the problem that can be observed when adding further PCI\ncards that got their interrupt rotated to other interrupts than PCI\nINT A. In particular, the bug was observed with an additional OHCI PCI\ncard or an ES1370 sound device.\n\nSigned-off-by: Sebastian Bauer <mail@sebastianbauer.info>\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nTested-by: Sebastian Bauer <mail@sebastianbauer.info>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997039437294006,"ES1370, PCI","hw/ppc/ppc440_pcix.c, hw/ppc/sam460ex.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,10efd7e1088855dc019e6a248ac7f9b24af8dd26,16e2841d2032347b9d22e5b37ac852771da9cc3b,Igor Mammedov,2018-07-30,"pc: acpi: fix memory hotplug regression by reducing stub SRAT entry size\n\nCommit 848a1cc1e (hw/acpi-build: build SRAT memory affinity structures for DIMM devices)\nbroke the first dimm hotplug in following cases:\n\n 1: there is no coldplugged dimm in the last numa node\n    but there is a coldplugged dimm in another node\n\n  -m 4096,slots=4,maxmem=32G               \\n  -object memory-backend-ram,id=m0,size=2G \\n  -device pc-dimm,memdev=m0,node=0         \\n  -numa node,nodeid=0                      \\n  -numa node,nodeid=1\n\n 2: if order of dimms on CLI is:\n       1st plugged dimm in node1\n       2nd plugged dimm in node0\n\n  -m 4096,slots=4,maxmem=32G               \\n  -object memory-backend-ram,size=2G,id=m0 \\n  -device pc-dimm,memdev=m0,node=1         \\n  -object memory-backend-ram,id=m1,size=2G \\n  -device pc-dimm,memdev=m1,node=0         \\n  -numa node,nodeid=0                      \\n  -numa node,nodeid=1\n\n(qemu) object_add memory-backend-ram,id=m2,size=1G\n(qemu) device_add pc-dimm,memdev=m2,node=0\n\nthe first DIMM hotplug to any node except the last one\nfails (Windows is unable to online it).\n\nLength reduction of stub hotplug memory SRAT entry,\nfixes issue for some reason.\n\nRHBZ: 1609234\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999669909477234,DIMM,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,93f874fe9dbe0b997b5a9459840957efd13d7191,09b94ac0f29db3b022a77a5aa50dc9e37032689d,Marc-Andr Lureau,2018-08-03,"virtio-gpu: fix crashes upon warm reboot with vga mode\n\nWith vga=775 on the Linux command line a first boot of the VM running\nLinux works fine. After a warm reboot it crashes during Linux boot.\n\nBefore that, valgrind points out bad memory write to console\nsurface. The VGA code is not aware that virtio-gpu got a message\nsurface scanout when the display is disabled. Let's reset VGA graphic\nmode when it is the case, so that a new display surface is created\nwhen doing further VGA operations.\n\nhttps://bugs.launchpad.net/qemu/+bug/1784900/\n\nReported-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>\nTested-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nMessage-id: 20180803153235.4134-1-marcandre.lureau@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995976090431212,VGA,"hw/display/virtio-gpu.c, hw/display/virtio-vga.c, include/hw/virtio/virtio-gpu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,faf8a13d80de98b43342a7ec9878b4fd76b18327,a4de8552b2580adf6fa4874439217b65d3bdd88b,Junyan He,2018-07-18,"mem/nvdimm: ensure write persistence to PMEM in label emulation\n\nGuest writes to vNVDIMM labels are intercepted and performed on the\nbackend by QEMU. When the backend is a real persistent memort, QEMU\nneeds to take proper operations to ensure its write persistence on the\npersistent memory. Otherwise, a host power failure may result in the\nloss of guest label configurations.\n\nSigned-off-by: Haozhong Zhang <haozhong.zhang@intel.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9950311183929444,"DIMM, NVDIMM","hw/mem/nvdimm.c, include/qemu/pmem.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5773c0494ae8045250288a801417270e0ef5de55,b77473a0f7799f3484a1e483515c8bde7a872248,Luc Michel,2018-08-14,"intc/arm_gic: Add the virtualization extensions to the GIC state\n\nAdd the necessary parts of the virtualization extensions state to the\nGIC state. We choose to increase the size of the CPU interfaces state to\nadd space for the vCPU interfaces (the GIC_NCPU_VCPU macro). This way,\nwe'll be able to reuse most of the CPU interface code for the vCPUs.\n\nThe only exception is the APR value, which is stored in h_apr in the\nvirtual interface state for vCPUs. This is due to some complications\nwith the GIC VMState, for which we don't want to break backward\ncompatibility. APRs being stored in 2D arrays, increasing the second\ndimension would lead to some ugly VMState description. To avoid\nthat, we keep it in h_apr for vCPUs.\n\nThe vCPUs are numbered from GIC_NCPU to (GIC_NCPU * 2) - 1. The\n`gic_is_vcpu` function help to determine if a given CPU id correspond to\na physical CPU or a virtual one.\n\nFor the in-kernel KVM VGIC, since the exposed VGIC does not implement\nthe virtualization extensions, we report an error if the corresponding\nproperty is set to true.\n\nSigned-off-by: Luc Michel <luc.michel@greensocs.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20180727095421.386-6-luc.michel@greensocs.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9378742575645448,KVM,"hw/intc/arm_gic.c, hw/intc/arm_gic_common.c, hw/intc/arm_gic_kvm.c, hw/intc/gic_internal.h, include/hw/intc/arm_gic_common.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dcf7ea4a78b10575dcc032e0356233ab3a95e7d2,38441756b70eec5807b5f60dad11a93a91199866,Philippe Mathieu-Daud,2018-06-28,"tests/vm: Only use -cpu 'host' if KVM is available\n\nIf KVM is not available, then use the 'max' cpu.\n\nThis fixes:\n\n  ERROR:root:Log:\n  ERROR:root:qemu-system-x86_64: CPU model 'host' requires KVM\n  Failed to prepare guest environment\n  error: [Errno 104] Connection reset by peer\n  source/qemu/tests/vm/Makefile.include:25: recipe for target 'tests/vm/ubuntu.i386.img' failed\n  make: *** [tests/vm/ubuntu.i386.img] Error 2\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20180628153535.1411-4-f4bug@amsat.org>\nSigned-off-by: Fam Zheng <famz@redhat.com>",1,0.9997056126594543,KVM,tests/vm/basevm.py,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b37548fcd1b8ac2e88e185a395bef851f3fc4e65,70232b5253a3c4e03ed1ac47ef9246a8ac66c6fa,Fam Zheng,2018-08-09,"aio: Do aio_notify_accept only during blocking aio_poll\n\nAn aio_notify() pairs with an aio_notify_accept(). The former should\nhappen in the main thread or a vCPU thread, and the latter should be\ndone in the IOThread.\n\nThere is one rare case that the main thread or vCPU thread may ""steal""\nthe aio_notify() event just raised by itself, in bdrv_set_aio_context()\n[1]. The sequence is like this:\n\n    main thread                     IO Thread\n    ===============================================================\n    bdrv_drained_begin()\n      aio_disable_external(ctx)\n                                    aio_poll(ctx, true)\n                                      ctx->notify_me += 2\n    ...\n    bdrv_drained_end()\n      ...\n        aio_notify()\n    ...\n    bdrv_set_aio_context()\n      aio_poll(ctx, false)\n[1]     aio_notify_accept(ctx)\n                                      ppoll() /* Hang! */\n\n[1] is problematic. It will clear the ctx->notifier event so that\nthe blocked ppoll() will not return.\n\n(For the curious, this bug was noticed when booting a number of VMs\nsimultaneously in RHV.  One or two of the VMs will hit this race\ncondition, making the VIRTIO device unresponsive to I/O commands. When\nit hangs, Seabios is busy waiting for a read request to complete (read\nMBR), right after initializing the virtio-blk-pci device, using 100%\nguest CPU. See also https://bugzilla.redhat.com/show_bug.cgi?id=1562750\nfor the original bug analysis.)\n\naio_notify() only injects an event when ctx->notify_me is set,\ncorrespondingly aio_notify_accept() is only useful when ctx->notify_me\n_was_ set. Move the call to it into the ""blocking"" branch. This will\neffectively skip [1] and fix the hang.\n\nFurthermore, blocking aio_poll is only allowed on home thread\n(in_aio_context_home_thread), because otherwise two blocking\naio_poll()'s can steal each other's ctx->notifier event and cause\nhanging just like described above.\n\nCc: qemu-stable@nongnu.org\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Fam Zheng <famz@redhat.com>\nMessage-Id: <20180809132259.18402-3-famz@redhat.com>\nSigned-off-by: Fam Zheng <famz@redhat.com>",1,0.9995124340057372,VIRTIO,"util/aio-posix.c, util/aio-win32.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0b62159be33d45d00dfa34a317c6d3da30ffb480,ebe31c0a8ef7b59fd96171fe694339ce69ee24a6,Richard Henderson,2018-08-16,"target/arm: Adjust FPCR_MASK for FZ16\n\nWhen support for FZ16 was added, we failed to include the bit\nwithin FPCR_MASK, which means that it could never be set.\nContinue to zero FZ16 when ARMv8.2-FP16 is not enabled.\n\nFixes: d81ce0ef2c4\nCc: qemu-stable@nongnu.org (3.0.1)\nReported-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nTested-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nMessage-id: 20180810193129.1556-2-richard.henderson@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999681830406189,ARM,"target/arm/cpu.h, target/arm/helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,be64d7776bcc48a542acf1f74765a3930692cef4,3aeaac8fa2d008a1f55b040fde6d4ec06f2f5146,Mark Cave-Ayland,2018-08-05,"sysbus: always allow explicit_ofw_unit_address() to override address generation\n\nSome SysBusDevices either use sysbus_init_mmio() without\nsysbus_mmio_map() or the first MMIO memory region doesn't represent the\nbus address, causing a firmware device path with an invalid address to\nbe generated.\n\nSysBusDeviceClass does provide a virtual explicit_ofw_unit_address()\nmethod that can be used to override this process, but it was originally intended\nonly as as a fallback option meaning that any existing MMIO memory regions still\ntake priority whilst determining the firmware device address.\n\nThere is currently only one user of explicit_ofw_unit_address() and that\nis the PCI expander bridge (PXB) device which has no MMIO/PIO resources\ndefined. This enables us to allow explicit_ofw_unit_address() to take\npriority without affecting backwards compatibility, allowing the address\nto be customised as required.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nMessage-Id: <20180805112850.26063-2-mark.cave-ayland@ilande.co.uk>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9995549321174622,"PCI, PXB",hw/core/sysbus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5b38d0264064055255db991e29d938491f9e8a32,3e23de15237c81fe7af7c3ffa299a6ae5fec7d43,Laurent Vivier,2018-08-11,"sh4: fix use_icount with linux-user\n\nThis fixes java in a linux-user chroot:\n  $ java --version\n  qemu-sh4: .../accel/tcg/cpu-exec.c:634: cpu_loop_exec_tb: Assertion `use_icount' failed.\n  qemu: uncaught target signal 6 (Aborted) - core dumped\n  Aborted (core dumped)\n\nIn gen_conditional_jump() in the GUSA_EXCLUSIVE part, we must reset\nbase.is_jmp to DISAS_NEXT after the gen_goto_tb() as it is done in\ngen_delayed_conditional_jump() after the gen_jump().\n\nBug: https://bugs.launchpad.net/qemu/+bug/1768246\nFixes: 4834871bc95b67343248100e2a75ae0d287bc08b\n       (""target/sh4: Convert to DisasJumpType"")\nReported-by: John Paul Adrian Glaubitz <glaubitz@physik.fu-berlin.de>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nMessage-Id: <20180811082328.11268-1-laurent@vivier.eu>",1,0.9996590614318848,GUS,target/sh4/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c2d9644e6d517170bf6520f633628259a8460d48,adaec191bfb31e12d40af8ab1b869f5b40d61ee9,Roman Kapl,2018-08-20,"target/arm: Fix crash on conditional instruction in an IT block\n\nIf an instruction is conditional (like CBZ) and it is executed\nconditionally (using the ITx instruction), a jump to an undefined\nlabel is generated, and QEMU crashes.\n\nCBZ in IT block is an UNPREDICTABLE behavior, but we should not\ncrash.  Honouring the condition code is allowed by the spec in this\ncase (constrained unpredictable, ARMv8, section K1.1.7), and matches\nwhat we do for other ""UNPREDICTABLE inside an IT block"" instructions.\n\nFix the 'skip on condition' code to create a new label only if it\ndoes not already exist.  Previously multiple labels were created, but\nonly the last one of them was set.\n\nSigned-off-by: Roman Kapl <rka@sysgo.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20180816120533.6587-1-rka@sysgo.com\n[PMM: fixed ^ 1 being applied to wrong argument, fixed typo]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997164607048036,ARM,target/arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6d0ed6ba6c1aa0201326d4f0072e91983495bb52,aa74e355f12438888eacdd8f3c2fc910b1b621a7,Peter Maydell,2018-08-20,"hw/dma/pl080: Support all three interrupt lines\n\nThe PL080 and PL081 have three outgoing interrupt lines:\n * DMACINTERR signals DMA errors\n * DMACINTTC is the DMA count interrupt\n * DMACINTR is a combined interrupt, the logical OR of the other two\n\nWe currently only implement DMACINTR, because that's all the\nrealview and versatile boards needed, but the instances of the\nPL081 in the MPS2 firmware images use all three interrupt lines.\nImplement the missing DMACINTERR and DMACINTTC.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.999580442905426,"MPS2, PL080, PS2","hw/dma/pl080.c, include/hw/dma/pl080.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,adbffc2074754aff8d806843d9e83443590ce5e0,13b7b188501d419a7d63c016e00065bcc693b7d4,Paolo Bonzini,2018-08-22,"fsdev: fix compilation with VIRTIO but not VIRTIO_9P\n\nhw/9pfs/Makefile.objs uses CONFIG_VIRTIO_9P to guard the definition for\nFileOperations structs, while fsdev/Makefile.objs uses CONFIG_VIRTIO\nto guard the use.  Mismatch causes linking to fail when CONFIG_VIRTIO\nis set but CONFIG_VIRTIO_9P is not.\n\nFix it and use if/else to clarify that the two lines are for opposite\nconditions.\n\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nFixes: b5dfdb082fc350f3e68dfa61dc988d97cad28cfe\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nAcked-by: Greg Kurz <groug@kaod.org>\nTested-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: Greg Kurz <groug@kaod.org>",1,0.999737560749054,"VIRTIO, VIRTIO_9P",fsdev/Makefile.objs,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,edd7541b8ce25c1180eb5435ff3350a76d0f0b95,154c1d1f960c5147a3f8ef00907504112f271cd8,Paolo Bonzini,2018-08-01,"fix ""Missing break in switch"" coverity reports\n\nMany of these are marked as ""intentional/fix required"" because they\njust need adding a fall through comment.  This is exactly what this\npatch does, except for target/mips/translate.c where it is easier to\nduplicate the code, and hw/audio/sb16.c where I consulted the DOSBox\nsources and decide to just remove the LOG_UNIMP before the fallthrough.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997277855873108,UNIMP,"disas/m68k.c, hw/arm/pxa2xx.c, hw/audio/cs4231a.c, hw/audio/gusemu_hal.c, hw/audio/sb16.c, hw/display/cg3.c, hw/display/cirrus_vga.c, hw/timer/sh_timer.c, target/arm/helper.c, target/i386/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,efbb649da0d4b13a036211fbc79d514b7c2efd43,f287fdd94e545d23d9fbd55fb58e346160e2d19f,Corey Minyard,2018-08-20,"ipmi: Use proper struct reference for BT vmstate\n\nThe vmstate for isa_ipmi_bt was referencing into the bt structure,\ninstead create a bt structure separate and use that.\n\nThe version 1 of the BT transfer was fairly broken, if a migration\noccured during an IPMI operation, it is likely the migration would\nbe corrupted because I misunderstood the VMSTATE_VBUFFER_UINT32()\nhandling, I thought it handled transferring the length field,\ntoo.  So I just remove support for that.  I doubt anyone is using\nit at this point.\n\nThis also removes the transfer of use_irq, since that should come\nfrom configuration.\n\nSigned-off-by: Corey Minyard <cminyard@mvista.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nMessage-Id: <1534798644-13587-1-git-send-email-minyard@acm.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9988551139831544,IPMI,hw/ipmi/isa_ipmi_bt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b0e624435b6ab395a07fad92abe7f89b5c7a6f47,57f0b73cf80281cfe4d4186564ccaf4141d39f0f,David Hildenbrand,2018-08-01,"pc-dimm: assign and verify the ""addr"" property during pre_plug\n\nWe can assign and verify the address before realizing and trying to plug.\nreading/writing the address property should never fail for DIMMs, so let's\nreduce error handling a bit by using &error_abort. Getting access to the\nmemory region now might however fail. So forward errors from\nget_memory_region() properly.\n\nAs all memory devices should use the alignment of the underlying memory\nregion for guest physical address asignment, do detection of the\nalignment in pc_dimm_pre_plug(), but allow pc.c to overwrite the\nalignment for compatibility handling.\n\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20180801133444.11269-5-david@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996840953826904,DIMM,"hw/i386/pc.c, hw/mem/pc-dimm.c, hw/ppc/spapr.c, include/hw/mem/pc-dimm.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4b615be540d8566f4b981245b4d5401163c57ced,b8fb9043eb48ddc3dc80cf88def62ae0c7c57a69,Corey Minyard,2018-08-20,"i2c: pm_smbus: Fix the semantics of block I2C transfers\n\nThe I2C block transfer commands was not implemented correctly, it\nread a length byte and such like it was an smbus transfer.\n\nSo fix the smbus_read_block() and smbus_write_block() functions\nso they can properly handle I2C transfers, and normal SMBus\ntransfers (for upcoming changes).  Pass in a transfer size and\na bool to know whether to use the size byte (like SMBus) or use\nthe length given (like I2C).\n\nSigned-off-by: Corey Minyard <cminyard@mvista.com>\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nMessage-Id: <1534796770-10295-3-git-send-email-minyard@acm.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997040629386902,I2C,"hw/i2c/pm_smbus.c, hw/i2c/smbus.c, include/hw/i2c/smbus.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,00bdfeab1584e68bad76034e4ffc33595533fe7d,4b615be540d8566f4b981245b4d5401163c57ced,Corey Minyard,2018-08-20,"i2c: pm_smbus: Make the I2C block read command read-only\n\nIt did have write capability, but the manual says the behavior\nwith write enabled is undefined.  So just set an error in this\ncase.\n\nSigned-off-by: Corey Minyard <cminyard@mvista.com>\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nMessage-Id: <1534796770-10295-4-git-send-email-minyard@acm.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999225616455078,I2C,hw/i2c/pm_smbus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2480f41e685690511f8f15bbeabb6cdc0b2ddaf0,ec86faa934cb31d97f738134547137f16d17c0d0,Paolo Bonzini,2018-07-20,spice-display: access ptr_x/ptr_y under Mutex\n\nThe OpenGL-enabled SPICE code was not accessing the cursor position\nunder the SimpleSpiceDisplay lock.  Fix this.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-id: 20180720063109.4631-2-pbonzini@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9992259740829468,SPICE,ui/spice-display.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,829f9fd394ab082753308cbda165c13eaf8fae49,b9bc21ff9f9bb2d841adf1dc7f6f8ddfb9ab8b5e,Peter Maydell,2018-08-24,"target/arm: Clear CPSR.IL and CPSR.J on 32-bit exception entry\n\nOn 32-bit exception entry, CPSR.J must always be set to 0\n(see v7A Arm ARM DDI0406C.c B1.8.5). CPSR.IL must also\nbe cleared on 32-bit exception entry (see v8A Arm ARM\nDDI0487C.a G1.10).\n\nClear these bits. (This fixes a bug which will never be noticed\nby non-buggy guests.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nReviewed-by: Luc Michel <luc.michel@greensocs.com>\nMessage-id: 20180820153020.21478-6-peter.maydell@linaro.org",1,0.9991901516914368,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,139d941e5a61d29c895ab422031eb7fd8797e059,13391a563fc4048736d259b685676b02dd0ba52d,Peter Maydell,2018-08-24,"hw/ssi/pl022: Correct wrong value for PL022_INT_RT\n\nThe PL022 interrupt registers have bits allocated as:\n 0: ROR (receive overrun)\n 1: RT (receive timeout)\n 2: RX (receive FIFO half full or less)\n 3: TX (transmit FIFO half full or less)\n\nA cut and paste error meant we had the wrong value for\nthe PL022_INT_RT constant. This bug doesn't affect device\nbehaviour, because we don't implement the receive timeout\nfeature and so never set that interrupt bit.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20180820141116.9118-20-peter.maydell@linaro.org\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9996925592422484,PL022,hw/ssi/pl022.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7d3912f54e74a16dc69c1e427396ebef58ff4976,139d941e5a61d29c895ab422031eb7fd8797e059,Peter Maydell,2018-08-24,"hw/ssi/pl022: Correct wrong DMACR and ICR handling\n\nIn the PL022, register offset 0x20 is the ICR, a write-only\ninterrupt-clear register.  Register offset 0x24 is DMACR, the DMA\ncontrol register.  We were incorrectly implementing (a stub version\nof) DMACR at 0x20, and not implementing anything at 0x24.  Fix this\nbug.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20180820141116.9118-21-peter.maydell@linaro.org\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>",1,0.999500036239624,PL022,hw/ssi/pl022.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb159db944b290a4704603baa8b96facde634521,0d49759b97cb8b62079921c631179ebd6b716a27,Peter Maydell,2018-08-24,"hw/arm/mps2-tz: Fix MPS2 SCC config register values\n\nSome of the config register values we were setting for the MPS2 SCC\nweren't correct:\n * the SCC_AID bits [23:20] specify the FPGA build target board revision,\n   and the SCC_CFG4 register specifies the actual board revision, so\n   these should have matching values. Claim to be board revision C,\n   consistently -- we had the revision in the wrong part of SCC_AID.\n * SCC_ID bits [15:4] should be 0x505, not decimal 505\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20180820141116.9118-23-peter.maydell@linaro.org\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9997139573097228,"MPS2, PS2",hw/arm/mps2-tz.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,239cb6feb298a31faa40b7e97ced107bf9c2f2bf,cfb7ba983857e40e88bd3219aaab908862581ac0,Peter Maydell,2018-08-24,"hw/arm/mps2: Fix ID register errors on AN511 and AN385\n\nFix MPS2 SCC config register values for the mps2-an511\nand mps2-an385 boards:\n * the SCC_AID bits [23:20] specify the FPGA build target board revision,\n   and the SCC_CFG4 register specifies the actual board revision, so\n   these should have matching values. Claim to be board revision C,\n   consistently -- we had the revision in the wrong part of SCC_AID.\n * SCC_ID bits [15:4] should be the board number in hex, not decimal\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20180823175225.22612-1-peter.maydell@linaro.org",1,0.9997138381004332,"MPS2, PS2",hw/arm/mps2.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9affc1c59279f482ff145e0371926f79b6448e3e,11d0fc10b7efe3d0404a71e855c0d9f521ce3d66,Aleksandar Rikalo,2018-08-07,"target/mips: Fix pre-nanoMIPS MT ASE instructions availability control\n\nUse bits from configuration registers for availability control\nof MT ASE instructions, rather than only ISA_MT bit in insn_flags.\nThis is done by adding a field in hflags for MT bit, and adding\nfunctions check_mt() and check_cp0_mt().\n\nReviewed-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nSigned-off-by: Stefan Markovic <smarkovic@wavecomp.com>",1,0.9995937943458556,MIPS,target/mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bf4667d05a1386df2dffcbf1eb652f79d25b4cb2,28861af8e94ada07b073d8775e11cc44cae5f4e5,Stefan Markovic,2018-08-10,mips_malta: Fix semihosting argument passing for nanoMIPS bare metal\n\nFix passing argument for nanoMIPS bare metal related to the\nsemihosting regime.\n\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nSigned-off-by: Yongbok Kim <yongbok.kim@mips.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nSigned-off-by: Stefan Markovic <smarkovic@wavecomp.com>,1,0.9769544005393982,MIPS,hw/mips/mips_malta.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b12a4efb76e81644e290d962d2eb6dbb0a5f214f,ecda255ebab14adc35731fe67f8cfa70624010e2,Jose Ricardo Ziviani,2018-09-02,"Fix a deadlock case in the CPU hotplug flow\n\nWe need to set cs->halted to 1 before calling ppc_set_compat. The reason\nis that ppc_set_compat kicks up the new thread created to manage the\nhotplugged KVM virtual CPU and the code drives directly to KVM_RUN\nioctl. When cs->halted is 1, the code:\n\nint kvm_cpu_exec(CPUState *cpu)\n...\n     if (kvm_arch_process_async_events(cpu)) {\n         atomic_set(&cpu->exit_request, 0);\n         return EXCP_HLT;\n     }\n...\n\nreturns before it reaches KVM_RUN, giving time to the main thread to\nfinish its job. Otherwise we can fall in a deadlock because the KVM\nthread will issue the KVM_RUN ioctl while the main thread is setting up\nKVM registers. Depending on how these jobs are scheduled we'll end up\nfreezing QEMU.\n\nThe following output shows kvm_vcpu_ioctl sleeping because it cannot get\nthe mutex and never will.\nPS: kvm_vcpu_ioctl was triggered kvm_set_one_reg - compat_pvr.\n\nSTATE: TASK_UNINTERRUPTIBLE|TASK_WAKEKILL\n\nPID: 61564  TASK: c000003e981e0780  CPU: 48  COMMAND: ""qemu-system-ppc""\n #0 [c000003e982679a0] __schedule at c000000000b10a44\n #1 [c000003e98267a60] schedule at c000000000b113a8\n #2 [c000003e98267a90] schedule_preempt_disabled at c000000000b11910\n #3 [c000003e98267ab0] __mutex_lock at c000000000b132ec\n #4 [c000003e98267bc0] kvm_vcpu_ioctl at c00800000ea03140 [kvm]\n #5 [c000003e98267d20] do_vfs_ioctl at c000000000407d30\n #6 [c000003e98267dc0] ksys_ioctl at c000000000408674\n #7 [c000003e98267e10] sys_ioctl at c0000000004086f8\n #8 [c000003e98267e30] system_call at c00000000000b488\n\ncrash> struct -x kvm.vcpus 0xc000003da0000000\nvcpus = {0xc000003db4880000, 0xc000003d52b80000, 0xc0000039e9c80000, 0xc000003d0e200000, 0xc000003d58280000, 0x0, 0x0, ...}\n\ncrash> struct -x kvm_vcpu.mutex.owner 0xc000003d58280000\n  mutex.owner = {\n    counter = 0xc000003a23a5c881 <- flag 1: waiters\n  },\n\ncrash> bt 0xc000003a23a5c880\nPID: 61579  TASK: c000003a23a5c880  CPU: 9   COMMAND: ""CPU 4/KVM""\n(active)\n\ncrash> struct -x kvm_vcpu.mutex.wait_list 0xc000003d58280000\n  mutex.wait_list = {\n    next = 0xc000003e98267b10,\n    prev = 0xc000003e98267b10\n  },\n\ncrash> struct -x mutex_waiter.task 0xc000003e98267b10\n  task = 0xc000003e981e0780\n\nThe following command-line was used to reproduce the problem (note: gdb\nand trace can change the results).\n\n $ qemu-ppc/build/ppc64-softmmu/qemu-system-ppc64 -cpu host \\n     -enable-kvm -m 4096 \\n     -smp 4,maxcpus=8,sockets=1,cores=2,threads=4 \\n     -display none -nographic \\n     -drive file=disk1.qcow2,format=qcow2\n ...\n (qemu) device_add host-spapr-cpu-core,core-id=4\n[no interaction is possible after it, only SIGKILL to take the terminal\nback]\n\nSigned-off-by: Jose Ricardo Ziviani <joserz@linux.ibm.com>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997311234474182,KVM,hw/ppc/spapr_cpu_core.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2271b75fa9019a9ba10d38ea2cf53a2032b1d8fd,19b599f7664b2ebfd0f405fb79c14dd241557452,Stefan Berger,2018-09-07,"tests: Fix signalling race condition in TPM tests\n\nThis patch fixes a race condition and test failure where the main process\nwaits for the signal of a thread but the thread already sent that signal\nvia a condition. Since these signals are non-sticky, we need to introduce a\nseparate variable to make this signal sticky.\n\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>",1,0.9996652603149414,TPM,"tests/tpm-crb-test.c, tests/tpm-emu.c, tests/tpm-emu.h, tests/tpm-tis-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dbb6da8ba7e02105bdbb33b527e088249c9843c8,19b599f7664b2ebfd0f405fb79c14dd241557452,Igor Mammedov,2018-08-22,"pc: acpi: revert back to 1 SRAT entry for hotpluggable area\n\nCommit\n  10efd7e108 ""pc: acpi: fix memory hotplug regression by reducing stub SRAT entry size""\nattemped to fix hotplug regression introduced by\n  848a1cc1e ""hw/acpi-build: build SRAT memory affinity structures for DIMM devices""\n\nfixed issue for Windows/3.0+ linux kernels, however it regressed 2.6 based\nkernels (RHEL6) to the point where guest might crash at boot.\nReason is that 2.6 kernel discards SRAT table due too small last entry\nwhich down the road leads to crashes. Hack I've tried in 10efd7e108 is also\nnot ACPI spec compliant according to which whole possible RAM should be\ndescribed in SRAT. Revert 10efd7e108 to fix regression for 2.6 based kernels.\n\nWith 10efd7e108 reverted, I've also tried splitting SRAT table statically\nin different ways %/node and %/slot but Windows still fails to online\n2nd pc-dimm hot-plugged into node 0 (as described in 10efd7e108) and\nsometimes even coldplugged pc-dimms where affected with static SRAT\npartitioning.\nThe only known so far way where Windows stays happy is when we have 1\nSRAT entry in the last node covering all hotplug area.\n\nRevert 848a1cc1e until we come up with a way to avoid regression\non Windows with hotplug area split in several entries.\nTested this with 2.6/3.0 based kernels (RHEL6/7) and WS20[08/12/12R2/16]).\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nAcked-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9990391731262208,"ACPI, DIMM",hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,db812c4073c77c8a64db8d6663b3416a587c7b4a,dbb6da8ba7e02105bdbb33b527e088249c9843c8,Paolo Bonzini,2018-08-23,"virtio: update MemoryRegionCaches when guest negotiates features\n\nBecause the cache is sized to include the rings and the event indices,\nnegotiating the VIRTIO_RING_F_EVENT_IDX feature will result in the size\nof the cache changing.  And because MemoryRegionCache accesses are\nrange-checked, if we skip this we end up with an assertion failure.\nThis happens with OpenBSD 6.3.\n\nReported-by: Fam Zheng <famz@redhat.com>\nFixes: 97cd965c070152bc626c7507df9fb356bbe1cd81\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nTested-by: Fam Zheng <famz@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995806813240052,VIRTIO,hw/virtio/virtio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c2d2a81b4196984fb74276826892838b5b69d92c,6755e618d09a81a82ab67a6163ffc9a39e743d0b,Igor Mammedov,2018-08-27,"pc: make sure that guest isn't able to unplug the first cpu\n\nThe first cpu unplug wasn't ever supported and corresponding\nmonitor/qmp commands refuse to unplug it. However guest is able\nto issue eject request either using following command:\n  # echo 1 >/sys/devices/system/cpu/cpu0/firmware_node/eject\nor directly writing to cpu hotplug registers, which makes\nqemu crash with SIGSEGV following back trace:\n\n   kvm_flush_coalesced_mmio_buffer ()\n       while (ring->first != ring->last)\n   ...\n   qemu_flush_coalesced_mmio_buffer\n   prepare_mmio_access\n   flatview_read_continue\n   flatview_read\n   address_space_read_full\n   address_space_rw\n   kvm_cpu_exec(cpu!0)\n   qemu_kvm_cpu_thread_fn\n\nthe reason for which is that ring == KVMState::coalesced_mmio_ring\nhappens to be a part of 1st CPU that was uplugged by guest.\n\nFix it by forbidding 1st cpu unplug from guest side and in addition\nremove CPU0._EJ0 ACPI method to make clear that unplug of the first\nCPU is not supported.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995274543762208,"ACPI, KVM",hw/acpi/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7a54cfbcee8dd7aa87ce655a321b622107556326,f68774ccd8174dc80208dcb3b24924c7c1c726f9,Max Filippov,2018-09-10,"target/xtensa: fix s32c1i TCGMemOp flags\n\ns32c1i must load and store value with target endianness, not host.\nThis results in an infinite loop in atomic cmpxchg sequences when target\nendianness doesn't match host endianness.\n\nFixes: 9fb40342d4b3 (""target/xtensa: support MTTCG"")\nCc: qemu-stable@nongnu.org\nSigned-off-by: Max Filippov <jcmvbkbc@gmail.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9997299313545228,TCG,target/xtensa/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,877eb21d5607e5097b8331e7a5b3d9714c0c5b91,f74a4f3a59b6168b8f3e84e4276c47eda610891d,Mark Cave-Ayland,2018-09-19,"scsi: move lsi53c8xx_create() callers to lsi53c8xx_handle_legacy_cmdline()\n\nAs part of commits a64aa5785d ""hw: Deprecate -drive if=scsi with non-onboard\nHBAs"" and b891538e81 ""hw/ppc/prep: Fix implicit creation of ""-drive if=scsi""\ndevices"" the lsi53c895a_create() and lsi53c810_create() functions were added\nto wrap pci_create_simple() and scsi_bus_legacy_handle_cmdline().\n\nUnfortunately this prevents us from changing qdev properties on the device\nand/or changing the PCI configuration. By switching over to using the new\nlsi53c8xx_handle_legacy_cmdline() function then the caller can now configure\nand realize the LSI SCSI device exactly as required.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nAcked-by: Peter Maydell <peter.maydell@linaro.org> [arm parts]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.7741653323173523,"PCI, SCSI","hw/arm/realview.c, hw/arm/versatilepb.c, hw/hppa/machine.c, hw/ppc/prep.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bb626e5b43df996a19b53cb6033b25d83f7b2e73,7bd9c60d4e0d113a8a4428bcbddc5aa9d41d1edc,Guenter Roeck,2018-09-25,"aspeed/i2c: Fix receive done interrupt handling\n\nThe AST2500 datasheet says:\n\nI2CD10 Interrupt Status Register\n       bit 2 Receive Done Interrupt status\n             S/W needs to clear this status bit to allow next data receiving\n\nThe Rx interrupt done interrupt status bit needs to be cleared\nexplicitly before the next byte can be received, and must therefore\nnot be auto-cleared. Also, receiving the next byte must be delayed\nuntil the bit has been cleared.\n\nSigned-off-by: Guenter Roeck <linux@roeck-us.net>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-id: 20180914063506.20815-4-clg@kaod.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997252821922302,I2C,hw/i2c/aspeed_i2c.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5383a705207790bbd82516b3665ba7d99522ce4a,d34a10afa811dd05b3d6a7d62806551939e57ba4,Denis V. Lunev,2018-09-18,"qmp, hmp: add PCI subsystem id and vendor id to PCI info\n\nThis is a long story. Red Hat has relicensed Windows KVM device drivers\nin 2018 and there was an agreement that to avoid WHQL driver conflict\nsoftware manufacturers should set proper PCI subsystem vendor ID in\ntheir distributions. Thus PCI subsystem vendor id becomes actively used.\n\nThe problem is that this field is applied by us via hardware compats.\nThus technically it could be lost.\n\nThis patch adds PCI susbsystem id and vendor id to exportable parameters\nfor validation.\n\nSigned-off-by: Denis V. Lunev <den@openvz.org>\nCC: ""Dr. David Alan Gilbert"" <dgilbert@redhat.com>\nCC: Eric Blake <eblake@redhat.com>\nCC: Markus Armbruster <armbru@redhat.com>\nMessage-Id: <20180918095852.28422-1-den@openvz.org>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>",1,0.9981669187545776,"KVM, PCI","hmp.c, hw/pci/pci.c, qapi/misc.json",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,94894ff2d13c85a840f80387c573a34ed6c99063,83eb6e509062b8907eb95a00170ef6dde8d264fd,Shivaprasad G Bhat,2018-08-29,"linux-user: elf: mmap all the target-pages of hostpage for data segment\n\nIf the hostpage size is greater than the TARGET_PAGESIZE, the\ntarget-pages of size TARGET_PAGESIZE are marked valid only till the\nlength requested during the elfload. The glibc attempts to consume unused\nspace in the last page of data segment(__libc_memalign() in\nelf/dl-minimal.c). If PT_LOAD p_align is greater than or\nequal to hostpage size, the GLRO(dl_pagesize) is actually the host pagesize\nas set in the auxillary vectors. So, there is no explicit mmap request for\nthe remaining target-pages on the last hostpage. The glibc assumes that\nparticular space as available and subsequent attempts to use\nthose addresses lead to crash as the target_mmap has not marked them valid\nfor those target-pages.\n\nThe issue is seen when trying to chroot to 16.04-x86_64 ubuntu on a PPC64\nhost where the fork fails to access the thread_id as it is allocated on a\npage not marked valid. The recent glibc doesn't have checks for thread-id in\nfork, but the issue can manifest somewhere else, none the less.\n\nThe fix here is to map all the target-pages of the hostpage during the\nelfload if the p_align is greater than or equal to hostpage size, for\ndata segment to allow the glibc for proper consumption.\n\nSigned-off-by: Shivaprasad G Bhat <sbhat@linux.vnet.ibm.com>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <153553435604.51992.5640085189104207249.stgit@lep8c.aus.stglabs.ibm.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.931020975112915,"PPC, PPC64",linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,93bf9a42733321fb632bcb9eafd049ef0e3d9417,bd224fce6017133733fee560ad8e5f737ad8b062,Roman Kapl,2018-08-24,"tcg/i386: fix vector operations on 32-bit hosts\n\nThe TCG backend uses LOWREGMASK to get the low 3 bits of register numbers.\nThis was defined as no-op for 32-bit x86, with the assumption that we have\neight registers anyway. This assumption is not true once we have xmm regs.\n\nSince LOWREGMASK was a no-op, xmm register indidices were wrong in opcodes\nand have overflown into other opcode fields, wreaking havoc.\n\nTo trigger these problems, you can try running the ""movi d8, #0x0"" AArch64\ninstruction on 32-bit x86. ""vpxor %xmm0, %xmm0, %xmm0"" should be generated,\nbut instead TCG generated ""vpxor %xmm0, %xmm0, %xmm2"".\n\nFixes: 770c2fc7bb (""Add vector operations"")\nSigned-off-by: Roman Kapl <rka@sysgo.com>\nMessage-Id: <20180824131734.18557-1-rka@sysgo.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9997308850288392,TCG,tcg/i386/tcg-target.inc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0ea1472dc50a9488e87c4d19329c7d5c63eb7076,3829640049cf516d229620e5919b0ab66fd6ac86,Jan Kiszka,2018-08-27,"kvm: x86: Fix kvm_arch_fixup_msi_route for remap-less case\n\nThe AMD IOMMU does not (yet) support interrupt remapping. But\nkvm_arch_fixup_msi_route assumes that all implementations do and crashes\nwhen the AMD IOMMU is used in KVM mode.\n\nFixes: 8b5ed7dffa1f (""intel_iommu: add support for split irqchip"")\nReported-by: Christopher Goldsworthy <christopher.goldsworthy@outlook.com>\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nMessage-Id: <48ae78d8-58ec-8813-8680-6f407ea46041@siemens.com>\nReviewed-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997286200523376,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,71bb4ce1b5592cdc03abc48cdf4ecb15b2db81a0,e811da7fe229cc17d98b230bdfeaf6d0631ea987,Geert Uytterhoeven,2018-09-05,"hw/char/sh_serial: Add timeout handling to unbreak serial input\n\nAs of commit 18e8cf159177100e (""serial: sh-sci: increase RX FIFO trigger\ndefaults for (H)SCIF"") in Linux v4.11-rc1, the serial console on the\nQEMU SH4 target is broken: it delays serial input until enough data has\nbeen received.\n\nSince aforementioned commit, the Linux SCIF driver programs the Receive\nFIFO Data Count Trigger bits in the FIFO Control Register, to postpone\ngenerating a receive interrupt until:\n  1. At least the receive trigger count of bytes of data are available\n     in the receive FIFO, OR\n  2. No further data has been received for at least 15 etu after the\n     last received data.\n\nWhile QEMU implements the former, it does not implement the latter.\nHence the receive interrupt is not generated until the former condition\nis met.\n\nFix this by adding basic timeout handling.  As the QEMU SCIF emulation\nignores any serial speed programming, the timeout value used conforms to\na default speed of 9600 bps, which is fine for any interactive console.\n\nReported-by: Rob Landley <rob@landley.net>\nSigned-off-by: Geert Uytterhoeven <geert+renesas@glider.be>\nTested-by: Ulrich Hecht <uli@fpond.eu>\nTested-by: Rob Landley <rob@landley.net>\nTested-by: Rich Felker <dalias@libc.org>\nMessage-Id: <20180905131125.12635-1-geert+renesas@glider.be>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9906320571899414,SH4,hw/char/sh_serial.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1926ab273b374372e5108a9e360b9e9366d9acf7,687ac05d71bbb3172e0546248e40483ef43a4813,Alex Benne,2018-09-27,cpus: fix TCG kick timer leak\n\nThis is an alternative fix to Marc-Andr's original patch.\n\nReported-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nMessage-Id: <20180927171724.30128-1-alex.bennee@linaro.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9992412328720092,TCG,cpus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5a358b39f52a28a84b380c1685c93010987b3412,1242429b20ddcd7f1ad046ac8750c486938f2cbb,Peter Maydell,2018-09-27,"hw/display/qxl: Suppress clang-7 warning about misaligned atomic operation\n\nIf QEMU is compiled with clang-7 it results in the warning:\n\nhw/display/qxl.c:1884:19: error: misaligned or large atomic operation\nmay incur significant performance penalty [-Werror,-Watomic-alignment]\n    old_pending = atomic_fetch_or(&d->ram->int_pending, le_events);\n                  ^\n\nThis is because the Spice headers forgot to define the QXLRam struct\nwith the '__aligned__(4)' attribute.  clang 7 and newer will thus\nwarn that the access here to int_pending might not be 4-aligned\n(because the QXLRam object d->ram points at might start at a\nmisaligned address).  In fact we set up d->ram in init_qxl_ram() so\nit always starts at a 4K boundary, so we know the atomic access here\nis OK.\n\nNewer Spice versions (with Spice commit\nbeda5ec7a6848be20c0cac2a9a8ef2a41e8069c1) will fix the bug;\nfor older Spice versions, work around it by telling the compiler\nexplicitly that the alignment is OK using __builtin_assume_aligned().\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nTested-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20180927155538.699-1-peter.maydell@linaro.org\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9991990923881532,QXL,"hw/display/qxl.c, include/qemu/compiler.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c8a44709861869feff478dac6062f04b7411b04f,079911cb6e26898e16f5bb56ef4f9d33cf92d32d,Dongjiu Geng,2018-10-08,"target/arm: fix code comments error\n\nThe parameter of kvm_arm_init_cpreg_list() is ARMCPU instead of\nCPUState, so correct the note to make it match the code.\n\nSigned-off-by: Dongjiu Geng <gengdongjiu@huawei.com>\nMessage-id: 1538069046-5757-1-git-send-email-gengdongjiu@huawei.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9988563060760498,ARM,"target/arm/kvm.c, target/arm/kvm_arm.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5ce43896e1679e706db1562d0e2d86ad428ed1e6,c4f753859ae6da1aeb93cad19c586fea1925e269,Ilya Maximets,2018-10-02,"vhost-user: Don't ask for reply on postcopy mem table set\n\nAccording to documentation, NEED_REPLY_MASK should not be set\nfor VHOST_USER_SET_MEM_TABLE request in postcopy mode.\nThis restriction was mistakenly applied to 'reply_supported'\nvariable, which is local and used only for non-postcopy case.\n\nCC: Dr. David Alan Gilbert <dgilbert@redhat.com>\nFixes: 9bb38019942c (""vhost+postcopy: Send address back to qemu"")\nSigned-off-by: Ilya Maximets <i.maximets@samsung.com>\nMessage-Id: <20181002140947.4107-1-i.maximets@samsung.com>\nReviewed-by: Maxime Coquelin <maxime.coquelin@redhat.com>\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>",1,0.9997031092643738,VHOST_USER,hw/virtio/vhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,18613dc6d9f2f33c333440fecab4c584281305ee,5ce43896e1679e706db1562d0e2d86ad428ed1e6,Denis V. Lunev,2018-10-02,"qmp, hmp: make subsystem/system-vendor identities optional\n\nAccording to PCI specification, subsystem id and subsystem vendor id\nare present only in type 0 and type 2 headers (at different offsets),\nbut not in type 1 headers.\n\nThus we should make this data optional in struct PciDeviceId and skip\nreporting them via HMP if the information is not available.\n\nAdditional (wrong information) about PCI bridges (Type1 devices) has been\nadded in 5383a705 and fortunately not released. This patch fixes that\nproblem. The problem was spotted by Markus.\n\nSigned-off-by: Denis V. Lunev <den@openvz.org>\nCC: ""Dr. David Alan Gilbert"" <dgilbert@redhat.com>\nCC: Eric Blake <eblake@redhat.com>\nCC: Markus Armbruster <armbru@redhat.com>\nMessage-Id: <20181002135538.12113-1-den@openvz.org>\nReported-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>",1,0.99968683719635,PCI,"hmp.c, hw/pci/pci.c, qapi/misc.json",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ab44c7b71fa683b9402bea0d367b87c881704188,599b71e277ac7e92807191b20b7163a28c5450ad,Peter Maydell,2018-10-11,"target/arm: Initialize ARMMMUFaultInfo in v7m_stack_read/write\n\nThe get_phys_addr() functions take a pointer to an ARMMMUFaultInfo\nstruct, which they fill in only if a fault occurs. This means that\nthe caller must always zero-initialize the struct before passing\nit in. We forgot to do this in v7m_stack_read() and v7m_stack_write().\nCorrect the error.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20181011172057.9466-1-peter.maydell@linaro.org",1,0.9995604157447816,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a325197155521662711e5e0ffb52bbb77b90dcb6,8c2218e313483eeb2748e46e6d742bc7d8c6081c,Stefan Markovic,2018-10-05,elf: Fix PT_MIPS_XXX constants\n\nFix existing and add missing PT_MIPS_XXX constants in elf.h.\nThis is copied from kernel header arch/mips/include/asm/elf.h.\n\nReviewed-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nSigned-off-by: Stefan Markovic <smarkovic@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>,1,0.996606469154358,MIPS,include/elf.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fdac60cd0458f34b2e79d74a55bec10836e26471,074cfcb4daedf59ccbbbc83c24eee80e0e8f4c71,Matthew Fortune,2018-10-08,target/mips: Fix emulation of microMIPS R6 <SELEQZ|SELNEZ>.<D|S>\n\nFix emulation of microMIPS R6 <SELEQZ|SELNEZ>.<D|S> instructions.\nTheir handling was permuted.\n\nReviewed-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nSigned-off-by: Matthew Fortune <matthew.fortune@mips.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>,1,0.9019635915756226,MIPS,target/mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c1f543b739086733024e31d74a52d9e41553f316,fff42f183ea4c3967405d4c1dce6d97dae4d64c8,Emilio G. Cota,2018-10-10,"tcg: fix use of uninitialized variable under CONFIG_PROFILER\n\nWe forgot to initialize n in commit 15fa08f845 (""tcg: Dynamically\nallocate TCGOps"", 2017-12-29).\n\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nMessage-Id: <20181010144853.13005-3-cota@braap.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9992897510528564,TCG,tcg/tcg.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,72fd2efbbd52c1a7974000a60a0c2131b1a4aaf2,dd1d7da23b0abef87f46d9ab39ba9b0974eaec04,Emilio G. Cota,2018-10-10,"tcg: distribute tcg_time into TCG contexts\n\nWhen we implemented per-vCPU TCG contexts, we forgot to also\ndistribute the tcg_time counter, which has remained as a global\naccessed without any serialization, leading to potentially missed\ncounts.\n\nFix it by distributing the field over the TCG contexts, embedding\nit into TCGProfile with a field called ""cpu_exec_time"", which is more\ndescriptive than ""tcg_time"". Add a function to query this value\ndirectly, and for completeness, fill in the field in\ntcg_profile_snapshot, even though its callers do not use it.\n\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nMessage-Id: <20181010144853.13005-5-cota@braap.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9993497729301452,TCG,"cpus.c, include/qemu/timer.h, monitor.c, tcg/tcg.c, tcg/tcg.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e6aa5ba4ac423dd282c831402110970ee278392e,a519e3894436501c5c6da5e82f6b867d2c05afb5,Paolo Bonzini,2018-10-13,"scsi-disk: fix double completion of failing passthrough requests\n\nIf a command fails with a sense that scsi_sense_buf_to_errno converts to\nECANCELED/EAGAIN/ENOTCONN or with a unit attention, scsi_req_complete is\ncalled twice.  This caused a crash.\n\nReported-by: Wangguang <wang.guangA@h3c.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997133612632751,LED,hw/scsi/scsi-disk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4cbaf3c13300b79d0386b567630f8e9c91ac5099,267e071bd6d675c15e7ffbf8aaf44d488ebd5c83,Roman Kagan,2018-09-21,"hyperv: add synic message delivery\n\nAdd infrastructure to deliver SynIC messages to the SynIC message page.\n\nNote that KVM may also want to deliver (SynIC timer) messages to the\nsame message slot.\n\nThe problem is that the access to a SynIC message slot is controlled by\nthe value of its .msg_type field which indicates if the slot is being\nowned by the hypervisor (zero) or by the guest (non-zero).\n\nThis leaves no room for synchronizing multiple concurrent producers.\n\nThe simplest way to deal with this for both KVM and QEMU is to only\ndeliver messages in the vcpu thread.  KVM already does this; this patch\nmakes it for QEMU, too.\n\nSpecifically,\n\n - add a function for posting messages, which only copies the message\n   into the staging buffer if its free, and schedules a work on the\n   corresponding vcpu to actually deliver it to the guest slot;\n\n - instead of a sint ack callback, set up the sint route with a message\n   status callback.  This function is called in a bh whenever there are\n   updates to the message slot status: either the vcpu made definitive\n   progress delivering the message from the staging buffer (succeeded or\n   failed) or the guest issued EOM; the status is passed as an argument\n   to the callback.\n\nSigned-off-by: Roman Kagan <rkagan@virtuozzo.com>\nMessage-Id: <20180921082217.29481-6-rkagan@virtuozzo.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9858598113059998,KVM,"hw/hyperv/hyperv.c, include/hw/hyperv/hyperv.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d254b392cb1006039e3f1ede3375181b878091c5,13399aad4fa87b2878c49d02a5d3bafa6c966ba3,Thomas Huth,2018-10-19,"tests/migration-test: Disable s390x test when running with TCG\n\nThe migration test for s390x sometimes hangs when running with TCG,\nsimilar to the problems that we have already observed with TCG for\nthe ppc64 guests. Thus disable the s390x test when we are not running\nwith KVM for now until the problem with TCG has been resolved.\n\nReviewed-by: Laurent Vivier <lvivier@redhat.com>\nReviewed-by: Emilio G. Cota <cota@braap.org>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9993058443069458,"KVM, TCG",tests/migration-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,61e9e3cb45c378c1e705d67ff66e5936249539c8,13399aad4fa87b2878c49d02a5d3bafa6c966ba3,Markus Armbruster,2018-10-24,"ssi-sd: Make devices picking up backends unavailable with -device\n\nDevice models aren't supposed to go on fishing expeditions for\nbackends.  They should expose suitable properties for the user to set.\nFor onboard devices, board code sets them.\n\nDevice ssi-sd picks up its block backend in its init() method with\ndrive_get_next() instead.  This mistake is already marked FIXME since\ncommit af9e40a.\n\nUnset user_creatable to remove the mistake from our external\ninterface.  Since the SSI bus doesn't support hotplug, only -device\ncan be affected.  Only certain ARM machines have ssi-sd and provide an\nSSI bus for it; this patch breaks -device ssi-sd for these machines.\nNo actual use of -device ssi-sd is known.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nAcked-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nAcked-by: Thomas Huth <thuth@redhat.com>\nMessage-id: 20181009060835.4608-1-armbru@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9994750618934632,"ARM, SSI",hw/sd/ssi-sd.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7bdf199ffe76e631d7eaff8cc27c8c2ab68f6978,808ebd66e467f77c0d1f8c6346235f81e9c99cf2,Thomas Huth,2018-10-24,"configs/alpha: Remove unused CONFIG_PARALLEL_ISA switch\n\nWe don't use CONFIG_PARALLEL_ISA in any of our Makefiles, so this\nis just a dead config option which can be removed.\n\nFixes: a4cb773928e047b137c6998209cf2eec857fac6b\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nAcked-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <1540376314-5727-1-git-send-email-thuth@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9991648197174072,PARALLEL,default-configs/alpha-softmmu.mak,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0d7f937e2a3ef6d80e8cb3d2cbca95f7365b451e,6589ce35734e7e71463485650e5fb6e4bbe64729,Sameeh Jubran,2018-10-23,"qga-win: prevent crash when executing fsinfo command\n\nThe fsinfo command is currently implemented for Windows only and it's disk\nparameter can be enabled by adding the define ""CONFIG_QGA_NTDDSCSI"" to the qga\ncode. When enabled and executed the qemu-ga crashed with the following message:\n\n------------------------------------------------\nFile qapi/qapi-visit-core.c, Line 49\n\nExpression: !(v->type & VISITOR_OUTPUT) || *obj)\n------------------------------------------------\n\nAfter some digging, turns out that the GuestPCIAddress is null and the\nqapi visitor doesn't like that, so we can always allocate it instead and\ninitiate all it's members to -1.\n\nSigned-off-by: Sameeh Jubran <sjubran@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: Tom Golembiovsk <tgolembi@redhat.com>\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>",1,0.9995772242546082,"PCI, SCSI",qga/commands-win32.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6880b94f8a53e34833bf895b3004b2e48c0ffe74,0d7f937e2a3ef6d80e8cb3d2cbca95f7365b451e,Sameeh Jubran,2018-10-23,"qga-win: fsinfo: pci-info: allow partial info\n\nThe call to SetupDiGetDeviceRegistryProperty might fail because the\nvalue doesn't exist in the registry, in this case we shouldn't exit from\nthe loop but instead continue to look for other available values in the\nregistry and set this value as unavailable (-1).\n\nSigned-off-by: Sameeh Jubran <sjubran@redhat.com>\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>\nSigned-off-by: Tom Golembiovsk <tgolembi@redhat.com>\n*squash in fix for when get_pci_info() returns NULL pci_controller field\n*fix handling for error_set() cases in get_pci_info(), not just NULL return\n*force all -1 PCI addr fields if any single one of them isn't found\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>",1,0.9995878338813782,PCI,qga/commands-win32.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ab17b1fc75d9b961bf88a109b74069a383eba49f,7d56239f159afc2e7bd42623947e56ba48f37836,Cornelia Huck,2018-10-16,"s390x/vfio-ap: report correct error\n\nIf ioctl(..., VFIO_DEVICE_RESET) fails, we want to report errno\ninstead of ret (which is always -1 on error).\n\nFixes Coverity issue CID 1396176.\n\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Tony Krowiak <akrowiak@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9997217059135436,VFIO,hw/vfio/ap.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c28b535d083d0a263d38d9ceeada83cdae8c64f0,95ecd3df7815b4bc4f9a0f47e1c64d81434715aa,Peter Xu,2018-10-09,"intel_iommu: handle invalid ce for shadow sync\n\nWe should handle VTD_FR_CONTEXT_ENTRY_P properly when synchronizing\nshadow page tables.  Having invalid context entry there is perfectly\nvalid when we move a device out of an existing domain.  When that\nhappens, instead of posting an error we invalidate the whole region.\n\nWithout this patch, QEMU will crash if we do these steps:\n\n(1) start QEMU with VT-d IOMMU and two 10G NICs (ixgbe)\n(2) bind the NICs with vfio-pci in the guest\n(3) start testpmd with the NICs applied\n(4) stop testpmd\n(5) rebind the NIC back to ixgbe kernel driver\n\nThe patch should fix it.\n\nReported-by: Pei Zhang <pezhang@redhat.com>\nFixes: https://bugzilla.redhat.com/show_bug.cgi?id=1627272\nSigned-off-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Maxime Coquelin <maxime.coquelin@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996209144592284,VTD,hw/i386/intel_iommu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ed6bb4b581050fe27aba80d6937138adf883d41e,ccef5b1fcf1ca33976583c88489a55d6acd13b78,Laszlo Ersek,2018-09-27,"hw/pci-host/x86: extend the 64-bit PCI hole relative to the fw-assigned base\n\nIn commit 9fa99d2519cb (""hw/pci-host: Fix x86 Host Bridges 64bit PCI\nhole"", 2017-11-16), we meant to expose such a 64-bit PCI MMIO aperture in\nthe ACPI DSDT that would be at least as large as the new ""pci-hole64-size""\nproperty (2GB on i440fx, 32GB on q35). The goal was to offer ""enough""\n64-bit MMIO aperture to the guest OS for hotplug purposes.\n\nIn that commit, we added or modified five functions:\n\n- pc_pci_hole64_start(): shared between i440fx and q35. Provides a default\n  64-bit base, which starts beyond the cold-plugged 64-bit RAM, and skips\n  the DIMM hotplug area too (if any).\n\n- i440fx_pcihost_get_pci_hole64_start(), q35_host_get_pci_hole64_start():\n  board-specific 64-bit base property getters called abstractly by the\n  ACPI generator. Both of these fall back to pc_pci_hole64_start() if the\n  firmware didn't program any 64-bit hole (i.e. if the firmware didn't\n  assign a 64-bit GPA to any MMIO BAR on any device). Otherwise, they\n  honor the firmware's BAR assignments (i.e., they treat the lowest 64-bit\n  GPA programmed by the firmware as the base address for the aperture).\n\n- i440fx_pcihost_get_pci_hole64_end(), q35_host_get_pci_hole64_end():\n  these intended to extend the aperture to our size recommendation,\n  calculated relative to the base of the aperture.\n\nDespite the original intent, i440fx_pcihost_get_pci_hole64_end() and\nq35_host_get_pci_hole64_end() currently only extend the aperture relative\nto the default base (pc_pci_hole64_start()), ignoring any programming done\nby the firmware. This means that our size recommendation may not be met.\nFix it by honoring the firmware's address assignments.\n\nThe strange extension sizes were spotted by Alex, in the log of a guest\nkernel running on top of OVMF (which prefers to assign 64-bit GPAs to\n64-bit BARs).\n\nThis change only affects DSDT generation, therefore no new compat property\nis being introduced.\n\nUsing an i440fx OVMF guest with 5GB RAM, an example _CRS change is:\n\n> @@ -881,9 +881,9 @@\n>              QWordMemory (ResourceProducer, PosDecode, MinFixed, MaxFixed, Cacheable, ReadWrite,\n>                  0x0000000000000000, // Granularity\n>                  0x0000000800000000, // Range Minimum\n> -                0x000000080001C0FF, // Range Maximum\n> +                0x000000087FFFFFFF, // Range Maximum\n>                  0x0000000000000000, // Translation Offset\n> -                0x000000000001C100, // Length\n> +                0x0000000080000000, // Length\n>                  ,, , AddressRangeMemory, TypeStatic)\n>          })\n>          Device (GPE0)\n\n(On i440fx, the low RAM split is at 3GB, in this case. Therefore, with 5GB\nguest RAM and no DIMM hotplug range, pc_pci_hole64_start() returns 4 +\n(5-3) = 6 GB. Adding the 2GB extension to that yields 8GB, which is below\nthe firmware-programmed base of 32GB, before the patch. Therefore, before\nthe patch, the extension is ineffective. After the patch, we add the 2GB\nextension to the firmware-programmed base, namely 32GB.)\n\nUsing a q35 OVMF guest with 5GB RAM, an example _CRS change is:\n\n> @@ -3162,9 +3162,9 @@\n>              QWordMemory (ResourceProducer, PosDecode, MinFixed, MaxFixed, Cacheable, ReadWrite,\n>                  0x0000000000000000, // Granularity\n>                  0x0000000800000000, // Range Minimum\n> -                0x00000009BFFFFFFF, // Range Maximum\n> +                0x0000000FFFFFFFFF, // Range Maximum\n>                  0x0000000000000000, // Translation Offset\n> -                0x00000001C0000000, // Length\n> +                0x0000000800000000, // Length\n>                  ,, , AddressRangeMemory, TypeStatic)\n>          })\n>          Device (GPE0)\n\n(On Q35, the low RAM split is at 2GB. Therefore, with 5GB guest RAM and no\nDIMM hotplug range, pc_pci_hole64_start() returns 4 + (5-2) = 7 GB. Adding\nthe 32GB extension to that yields 39GB (0x0000_0009_BFFF_FFFF + 1), before\nthe patch. After the patch, we add the 32GB extension to the\nfirmware-programmed base, namely 32GB.)\n\nThe ACPI test data for the bios-tables-test case that we added earlier in\nthis series are corrected too, as follows:\n\n> @@ -3339,9 +3339,9 @@\n>              QWordMemory (ResourceProducer, PosDecode, MinFixed, MaxFixed, Cacheable, ReadWrite,\n>                  0x0000000000000000, // Granularity\n>                  0x0000000200000000, // Range Minimum\n> -                0x00000009BFFFFFFF, // Range Maximum\n> +                0x00000009FFFFFFFF, // Range Maximum\n>                  0x0000000000000000, // Translation Offset\n> -                0x00000007C0000000, // Length\n> +                0x0000000800000000, // Length\n>                  ,, , AddressRangeMemory, TypeStatic)\n>          })\n>          Device (GPE0)\n\nCc: ""Michael S. Tsirkin"" <mst@redhat.com>\nCc: Alex Williamson <alex.williamson@redhat.com>\nCc: Gerd Hoffmann <kraxel@redhat.com>\nCc: Igor Mammedov <imammedo@redhat.com>\nCc: Marcel Apfelbaum <marcel.apfelbaum@gmail.com>\nFixes: 9fa99d2519cbf71f871e46871df12cb446dc1c3e\nSigned-off-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Marcel Apfelbaum <marcel.apfelbaum@gmail.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995124340057372,"ACPI, DIMM, PCI, Q35","hw/pci-host/piix.c, hw/pci-host/q35.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0259e96687fa9b01d87113693e076dfa83a649f0,f5f4002ddc0c0159735fc1a2dc44c97493fdff35,Laszlo Ersek,2018-09-27,"tests/bios-tables-test: add 64-bit PCI MMIO aperture round-up test on Q35\n\nIn commit 9fa99d2519cb (""hw/pci-host: Fix x86 Host Bridges 64bit PCI\nhole"", 2017-11-16), we meant to expose such a 64-bit PCI MMIO aperture in\nthe ACPI DSDT that would be at least as large as the new ""pci-hole64-size""\nproperty (2GB on i440fx, 32GB on q35). The goal was to offer ""enough""\n64-bit MMIO aperture to the guest OS for hotplug purposes.\n\nPrevious patch fixed the issue that the aperture is extended relative to\na possibly incorrect base.  This may result in an aperture size that is\nsmaller than the intent of commit 9fa99d2519cb.\n\nThis patch adds a test to make sure it won't happen again.\n\nIn the test case being added:\n- use 128 MB initial RAM size,\n- ask for one DIMM hotplug slot,\n- ask for 2 GB maximum RAM size,\n- use a pci-testdev with a 64-bit BAR of 2 GB size.\n\nConsequences:\n\n(1) In pc_memory_init() [hw/i386/pc.c], the DIMM hotplug area size is\n    initially set to 2048-128 = 1920 MB. (Maximum RAM size minus initial\n    RAM size.)\n\n(2) The DIMM area base is set to 4096 MB (because the initial RAM is only\n    128 MB -- there is no initial ""high RAM"").\n\n(3) Due to commit 085f8e88ba73 (""pc: count in 1Gb hugepage alignment when\n    sizing hotplug-memory container"", 2014-11-24), we add 1 GB for the one\n    DIMM hotplug slot that was specified. This sets the DIMM area size to\n    1920+1024 = 2944 MB.\n\n(4) The reserved-memory-end address (exclusive) is set to 4096 + 2944 =\n    7040 MB (DIMM area base plus DIMM area size).\n\n(5) The reserved-memory-end address is rounded up to GB alignment,\n    yielding 7 GB (7168 MB).\n\n(6) Given the 2 GB BAR size of pci-testdev, SeaBIOS allocates said 64-bit\n    BAR in 64-bit address space.\n\n(7) Because reserved-memory-end is at 7 GB, it is unaligned for the 2 GB\n    BAR. Therefore SeaBIOS allocates the BAR at 8 GB. QEMU then\n    (correctly) assigns the root bridge aperture base this BAR address, to\n    be exposed in \_SB.PCI0._CRS.\n\n(8) The intent of commit 9fa99d2519cb dictates that QEMU extend the\n    aperture size to 32 GB, implying a 40 GB end address. However, QEMU\n    performs the extension relative to reserved-memory-end (7 GB), not\n    relative to the bridge aperture base that was correctly deduced from\n    SeaBIOS's BAR programming (8 GB). Therefore we see 39 GB as the\n    aperture end address in \_SB.PCI0._CRS:\n\n> QWordMemory (ResourceProducer, PosDecode, MinFixed, MaxFixed, Cacheable, ReadWrite,\n>     0x0000000000000000, // Granularity\n>     0x0000000200000000, // Range Minimum\n>     0x00000009BFFFFFFF, // Range Maximum\n>     0x0000000000000000, // Translation Offset\n>     0x00000007C0000000, // Length\n>     ,, , AddressRangeMemory, TypeStatic)\n\nCc: ""Michael S. Tsirkin"" <mst@redhat.com>\nCc: Alex Williamson <alex.williamson@redhat.com>\nCc: Gerd Hoffmann <kraxel@redhat.com>\nCc: Igor Mammedov <imammedo@redhat.com>\nCc: Marcel Apfelbaum <marcel.apfelbaum@gmail.com>\nSigned-off-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Marcel Apfelbaum <marcel.apfelbaum@gmail.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996234178543092,"ACPI, DIMM, PCI, Q35",tests/bios-tables-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2728a57a061af92b476f926b7fb66cb3ac60ab50,cd1f0ca29d3be55398d6def7ad9db9ad7bfb4e9d,Philippe Mathieu-Daud,2018-10-10,"hw/pci: Add missing include\n\nNoted while refactoring:\n\n      CC      mips-softmmu/hw/mips/gt64xxx_pci.o\n    In file included from include/hw/pci-host/gt64xxx.h:2,\n                     from hw/mips/gt64xxx_pci.c:30:\n    include/hw/pci/pci_bus.h:23:5: error: unknown type name PCIIOMMUFunc\n         PCIIOMMUFunc iommu_fn;\n         ^~~~~~~~~~~~\n    include/hw/pci/pci_bus.h:27:5: error: unknown type name pci_set_irq_fn\n         pci_set_irq_fn set_irq;\n         ^~~~~~~~~~~~~~\n    include/hw/pci/pci_bus.h:28:5: error: unknown type name pci_map_irq_fn\n         pci_map_irq_fn map_irq;\n         ^~~~~~~~~~~~~~\n    include/hw/pci/pci_bus.h:29:5: error: unknown type name pci_route_irq_fn\n         pci_route_irq_fn route_intx_to_irq;\n         ^~~~~~~~~~~~~~~~\n    include/hw/pci/pci_bus.h:31:24: error: PCI_SLOT_MAX undeclared here (not in a function)\n         PCIDevice *devices[PCI_SLOT_MAX * PCI_FUNC_MAX];\n                            ^~~~~~~~~~~~\n    include/hw/pci/pci_bus.h:31:39: error: PCI_FUNC_MAX undeclared here (not in a function)\n         PCIDevice *devices[PCI_SLOT_MAX * PCI_FUNC_MAX];\n                                           ^~~~~~~~~~~~\n    make[1]: *** [rules.mak:69: hw/mips/gt64xxx_pci.o] Error 1\n    make: *** [Makefile:482: subdir-mips-softmmu] Error 2\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.708013117313385,PCI,include/hw/pci/pci_bus.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,23463e0e4aeb2f0a9c60549a2c163f4adc0b8512,0f7b791b35f24cb1333f779705a3f6472e6935de,Peter Maydell,2018-11-06,"target/arm: Fix ATS1Hx instructions\n\nATS1HR and ATS1HW (which allow AArch32 EL2 to do address translations\non the EL2 translation regime) were implemented in commit 14db7fe09a2c8.\nHowever, we got them wrong: these should do stage 1 address translations\nas defined for NS-EL2, which is ARMMMUIdx_S1E2. We were incorrectly\nmaking them perform stage 2 translations.\n\nA few years later in commit 1313e2d7e2cd we forgot entirely that\nwe'd implemented ATS1Hx, and added a comment that ATS1Hx were\n""not supported yet"". Remove the comment; there is no extra code\nneeded to handle these operations in do_ats_write(), because\narm_s1_regime_using_lpae_format() returns true for ARMMMUIdx_S1E2,\nwhich forces 64-bit PAR format.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nMessage-id: 20181016093703.10637-3-peter.maydell@linaro.org\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>",1,0.9997302889823914,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1a1435dd61e28c1e3b70971107d72a7d05b28d03,2185fd67d2f277ebb1d2946cf5f7cdc773e04198,Rudolf Marek,2018-10-19,target/i386: Clear RF on SYSCALL instruction\n\nFix the SYSCALL instruction in 64-bit (long mode). The RF flag\nshould be cleared in R11 as well as in the RFLAGS. Intel\nand AMD CPUs behave same. AMD has this documented in the\nAPM vol 3.\n\nSigned-off-by: Roman Kapl <rka@sysgo.com>\nSigned-off-by: Rudolf Marek <rudolf.marek@sysgo.com>\nMessage-Id: <20181019122449.26387-1-rka@sysgo.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9914836287498474,APM,target/i386/seg_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,20faf0f5f8aba33405a6206cd26f0d2b49ac174a,d52e1a0e967a532867149c2d95c2dd664ca22fe8,Li Qiang,2018-10-28,"nvme: don't unref ctrl_mem when device unrealized\n\nCurrently, when hotplug/unhotplug nvme device, it will cause an\nassert in object.c. Following is the backtrack:\n\nERROR:qom/object.c:981:object_unref: assertion failed: (obj->ref > 0)\n\nThread 2 ""qemu-system-x86"" received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fffcbd32700 (LWP 18844)]\n0x00007fffdb9e4fff in raise () from /lib/x86_64-linux-gnu/libc.so.6\n(gdb) bt\n/lib/x86_64-linux-gnu/libglib-2.0.so.0\n/lib/x86_64-linux-gnu/libglib-2.0.so.0\nqom/object.c:981\n/home/liqiang02/qemu-upstream/qemu/memory.c:1732\n/home/liqiang02/qemu-upstream/qemu/memory.c:285\nutil/qemu-thread-posix.c:504\n/lib/x86_64-linux-gnu/libpthread.so.0\n\nThis is caused by memory_region_unref in nvme_exit.\n\nRemove it to make the PCIdevice refcount correct.\n\nSigned-off-by: Li Qiang <liq3ea@gmail.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9880384802818298,PCI,hw/block/nvme.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b6e67ecc7b6e8938982ab94820c079f24845f623,6ff144698935e8bdbc96d255cf49b1a7d54174ac,David Hildenbrand,2018-11-13,"s390x/pci: properly fail if the zPCI device cannot be created\n\nRight now, errors during realize()/pre_plug/plug of the zPCI device\nwould result in QEMU crashing instead of failing nicely when creating\na zPCI device for a PCI device.\n\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Collin Walling <walling@linux.ibm.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20181113121710.18490-1-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996206760406494,PCI,hw/s390x/s390-pci-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3502dc824a7b0218abb49f4350e80a49829748cf,657377730647c2156f1e20087e28129dc32e1242,Palmer Dabbelt,2018-11-09,"RISC-V: Respect fences for user-only emulators\n\nOur current fence implementation ignores fences for the user-only\nconfigurations.  This is incorrect but unlikely to manifest: it requires\nmulti-threaded user-only code that takes advantage of the weakness in\nthe host's memory model and can be inlined by TCG.\n\nThis patch simply treats fences the same way for all our emulators.\nI've given it to testing as I don't want to construct a test that would\nactually trigger the failure.\n\nOur fence implementation has an additional deficiency where we map all\nRISC-V fences to full fences.  Now that we have a formal memory model\nfor RISC-V we can start to take advantage of the strength bits on our\nfence instructions.  This requires a bit more though, so I'm going to\nsplit it out because the implementation is still correct without taking\nadvantage of these weaker fences.\n\nThanks to Richard Henderson for pointing out both of the issues.\n\nSigned-off-by: Palmer Dabbelt <palmer@sifive.com>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9717609882354736,TCG,target/riscv/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7760da729ac88f112f98f36395ac3b55fc9e4211,dd5d693ecf5aa97f50ece9862b2a4cbe67b7c71b,Luc Michel,2018-11-19,"target/arm: fix smc incorrectly trapping to EL3 when secure is off\n\nThis commit fixes a case where the CPU would try to go to EL3 when\nexecuting an smc instruction, even though ARM_FEATURE_EL3 is false. This\ncase is raised when the PSCI conduit is set to smc, but the smc\ninstruction does not lead to a valid PSCI call.\n\nQEMU crashes with an assertion failure latter on because of incoherent\nmmu_idx.\n\nThis commit refactors the pre_smc helper by enumerating all the possible\nway of handling an scm instruction, and covering the previously missing\ncase leading to the crash.\n\nThe following minimal test would crash before this commit:\n\n.global _start\n    .text\n_start:\n    ldr x0, =0xdeadbeef  ; invalid PSCI call\n    smc #0\n\nrun with the following command line:\n\naarch64-linux-gnu-gcc -nostdinc -nostdlib -Wl,-Ttext=40000000 \\n                      -o test test.s\n\nqemu-system-aarch64 -M virt,virtualization=on,secure=off \\n                    -cpu cortex-a57 -kernel test\n\nSigned-off-by: Luc Michel <luc.michel@greensocs.com>\nMessage-id: 20181117160213.18995-1-luc.michel@greensocs.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996792078018188,ARM,target/arm/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fcf5787c02f7f9ff9f314161631c347d6b69b904,7760da729ac88f112f98f36395ac3b55fc9e4211,Peter Maydell,2018-11-19,"hw/block/onenand: Fix off-by-one error allowing out-of-bounds read\n\nAn off-by-one error in a switch case in onenand_read() allowed\na misbehaving guest to read off the end of a block of memory.\n\nNB: the onenand device is used only by the ""n800"" and ""n810""\nmachines, which are usable only with TCG, not KVM, so this is\nnot a security issue.\n\nReported-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20181115143535.5885-2-peter.maydell@linaro.org\nSuggested-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997302889823914,"KVM, TCG",hw/block/onenand.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a00d7f2048c2a1a6a4487ac195c804c78adcf60e,9e6e9247a4cfc489b9c9f91b2f2d4a3dfa515446,Peter Maydell,2018-11-19,"MAINTAINERS: list myself as maintainer for various Arm boards\n\nIn practice for most of the more-or-less orphan Arm board models,\nI will review patches and put them in via the target-arm tree.\nSo list myself as an ""Odd Fixes"" status maintainer for them.\n\nThis commit downgrades these boards to ""Odd Fixes"":\n * Allwinner-A10\n * Exynos\n * Calxeda Highbank\n * Canon DIGIC\n * Musicpal\n * nSeries\n * Palm\n * PXA2xx\n\nThese boards were already ""Odd Fixes"":\n * Gumstix\n * i.MX31 (kzm)\n\nPhilippe Mathieu-Daud has requested to be moved to R:\nstatus for Gumstix now that I am listed as the M: contact.\n\nSome boards are maintained, but their patches still go\nvia the target-arm tree, so add myself as a secondary\nmaintainer contact for those:\n * Xilinx Zynq\n * Xilinx ZynqMP\n * STM32F205\n * Netduino 2\n * SmartFusion2\n * Mecraft M2S-FG484\n * ASPEED BMCs\n * NRF51\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-id: 20181108134139.31666-1-peter.maydell@linaro.org",1,0.9996625185012816,DIGIC,MAINTAINERS,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ad3a7e4555bc50036a5257a6c1ed652ab0d1b650,71a86ddece548860f040d565204cf1bf59d74663,Logan Gunthorpe,2018-11-21,"nvme: fix bug with PCI IRQ pins on teardown\n\nWhen the submission and completion queues are being torn down\nthe IRQ will be asserted for the completion queue when the\nsubmsission queue is deleted. Then when the completion queue\nis deleted it stays asserted. Thus, on systems that do\nnot use MSI, no further interrupts can be triggered on the host.\n\nLinux sees this as a long delay when unbinding the nvme device.\nEventually the interrupt timeout occurs and it continues.\n\nTo fix this we ensure we deassert the IRQ for a CQ when it is\ndeleted.\n\nSigned-off-by: Logan Gunthorpe <logang@deltatee.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9997349381446838,PCI,hw/block/nvme.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,123a069ae69735e9d71c262061254838132b69d9,72138f9bf5d8c316043b0d2cc7a674f70930cf95,Thomas Huth,2018-11-26,"MAINTAINERS: Assign some more files in the hw/arm/ directory\n\nI apparently missed some more files and even a complete machine (the\n""imx25-pdk"") in my previous patch... but now we should hopefully have\na completely coverage for all available ARM boards.\n\nFixes: 95a5db3ae5698b49c63144610ad02913e780c828\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 1542782568-20059-1-git-send-email-thuth@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995137453079224,ARM,MAINTAINERS,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aec5e9c3a94cf8b7920f59bef69a6f426092c4a0,d522fba24478474911b0e6e488b6d1dcf1af54f8,Bandan Das,2018-11-25,"kvm: Use KVM_GET_MSR_INDEX_LIST for MSR_IA32_ARCH_CAPABILITIES support\n\nWhen writing to guest's MSR_IA32_ARCH_CAPABILITIES, check whether it's\nsupported in the guest using the KVM_GET_MSR_INDEX_LIST ioctl.\n\nFixes: d86f963694df27f11b3681ffd225c9362de1b634\nSuggested-by: Eduardo Habkost <ehabkost@redhat.com>\nTested-by: balducci@units.it\nSigned-off-by: Bandan Das <bsd@redhat.com>\nMessage-Id: <jpg4lc4iiav.fsf_-_@linux.bootlegged.copy>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9997140765190125,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,56333e69ee1855a8fa74b361742a0a79407846d2,a8efa60633575a2ee4dbf807a71cb44d44b0e0f8,George Kennedy,2018-11-09,"lsi: Reselection needed to remove pending commands from queue\n\nUnder heavy IO (e.g. fio) the queue is not checked frequently enough for\npending commands. As a result some pending commands are timed out by the\nlinux sym53c8xx driver, which sends SCSI Abort messages for the timed out\ncommands. The SCSI Abort messages result in linux errors, which show up\non the console and in /var/log/messages.\n\ne.g.\nsd 0:0:3:0: [sdd] tag#33 ABORT operation started\nscsi target0:0:3: control msgout:\n80 20 47 d\nsd 0:0:3:0: ABORT operation complete.\nscsi target0:0:4: message d sent on bad reselection\n\nNow following a WAIT DISCONNECT Script instruction, and if there is no\ncurrent command, check for a pending command on the queue and if one\nexists call lsi_reselect().\n\nSigned-off-by: George Kennedy <george.kennedy@oracle.com>\nMessage-Id: <1541776692-12271-1-git-send-email-george.kennedy@oracle.com>\n[For safety, add a s->current check in lsi_update_irq - Paolo]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995049238204956,SCSI,hw/scsi/lsi53c895a.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e84fcd7f662a0d8198703f6f89416d7ac2c32767,f1e35acf787d22ef98906a9a375a400e0df3d55f,Richard Henderson,2018-11-13,target/i386: Generate #UD when applying LOCK to a register destination\n\nFixes a TCG crash due to attempting the atomic operation without\nhaving set up the address first.  This does not attempt to fix\nall of the other missing checks for LOCK.\n\nFixes: a7cee522f35\nFixes: https://bugs.launchpad.net/qemu/+bug/1803160\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20181113193510.24862-1-richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996882677078248,TCG,target/i386/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,faae23b933b450eda68940583ef19560ab868191,090627a9d9b3ff589062703f4f553675ebe2f694,Philippe Mathieu-Daud,2018-11-25,MAINTAINERS: Fix ACPI tests data files path\n\nMissed while moving those files in 438c78dab75.\n\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20181125205000.10324-2-philmd@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>,1,0.9984403252601624,ACPI,MAINTAINERS,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3dc91ddbc68391f934bf6945853e99cf6810fc00,f6ef171db84b49f17f6a1dd32a1ae3021e08efaa,Peter Maydell,2018-12-13,"target/arm: Move id_aa64mmfr* to ARMISARegisters\n\nAt the same time, define the fields for these registers,\nand use those defines in arm_pamax().\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20181203203839.757-2-richard.henderson@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\n[PMM: fixed up typo (s/achf/ahcf/) belatedly spotted by RTH]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9150304198265076,ARM,"target/arm/cpu.h, target/arm/cpu64.c, target/arm/helper.c, target/arm/internals.h, target/arm/kvm64.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fd9dda3b7091ec1dcd461f2ad054ab96768324f3,01ae9cc2544f03299bb8b9923dec5da3d94f7c57,Marc-Andr Lureau,2018-12-13,"qapi: add more conditions to SPICE\n\nNow that member can be made conditional, let's make SPICE chardev\nconditional:\n\n* spiceport, spicevmc\n\n  Before and after the patch for !CONFIG_SPICE, the error is the\n  same ('spiceport' is not a valid char driver name).\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nMessage-Id: <20181213123724.4866-22-marcandre.lureau@redhat.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>",1,0.9994208812713624,SPICE,qapi/char.json,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6c49b06dfd1aa5c1f90b2ade10df5a305d348e08,0636e4d899ab30485d18bacf286defff011a22c5,Emilio G. Cota,2018-10-12,"fp-test: pick TARGET_ARM to get its specialization\n\nThis gets rid of the muladd errors due to not raising the invalid flag.\n\n- Before:\nErrors found in f64_mulAdd, rounding near_even, tininess before rounding:\n+000.0000000000000  +7FF.0000000000000  +7FF.FFFFFFFFFFFFF\n        => +7FF.FFFFFFFFFFFFF .....  expected -7FF.FFFFFFFFFFFFF v....\n[...]\n\n- After:\nIn 6133248 tests, no errors found in f64_mulAdd, rounding near_even, tininess before rounding.\n[...]\n\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nTested-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>",1,0.9997121691703796,ARM,tests/fp/Makefile,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,da15af649769813dc411fc0a0fd5055ac5a4e74f,21f80286cc48142c2df1530eba32bd70131a1bdc,Igor Mammedov,2018-12-10,"tests: acpi: remove not used ACPI_READ_GENERIC_ADDRESS macro\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\n[thuth: Fixed conflicts with additional ""qts"" parameter]\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9994471669197084,ACPI,tests/acpi-utils.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fe17cca6bd2cdfb9cc7f29da8e71aa1238bcdba7,da15af649769813dc411fc0a0fd5055ac5a4e74f,Philippe Mathieu-Daud,2018-10-30,tests/bios-tables-test: Sanitize test verbose output\n\nFix the extraneous extra blank lines in the test output when running with V=1.\n\nBefore:\n\n    TEST: tests/bios-tables-test... (pid=25678)\n      /i386/acpi/piix4:\n    Looking for expected file 'tests/acpi-test-data/pc/DSDT'\n\n    Using expected file 'tests/acpi-test-data/pc/DSDT'\n\n    Looking for expected file 'tests/acpi-test-data/pc/FACP'\n\n    Using expected file 'tests/acpi-test-data/pc/FACP'\n\n    Looking for expected file 'tests/acpi-test-data/pc/APIC'\n\n    Using expected file 'tests/acpi-test-data/pc/APIC'\n\n    Looking for expected file 'tests/acpi-test-data/pc/HPET'\n\n    Using expected file 'tests/acpi-test-data/pc/HPET'\n    OK\n\nAfter:\n\n    TEST: tests/bios-tables-test... (pid=667)\n      /i386/acpi/piix4:\n    Looking for expected file 'tests/acpi-test-data/pc/DSDT'\n    Using expected file 'tests/acpi-test-data/pc/DSDT'\n    Looking for expected file 'tests/acpi-test-data/pc/FACP'\n    Using expected file 'tests/acpi-test-data/pc/FACP'\n    Looking for expected file 'tests/acpi-test-data/pc/APIC'\n    Using expected file 'tests/acpi-test-data/pc/APIC'\n    Looking for expected file 'tests/acpi-test-data/pc/HPET'\n    Using expected file 'tests/acpi-test-data/pc/HPET'\n    OK\n\nSuggested-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>,1,0.9991264939308168,"APIC, HPET",tests/bios-tables-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,46ea94ca9cfcd56c27efafd2ff32281360e0267f,9254893882139b9a7738214d669958df4dfeee2f,Daniel Henrique Barboza,2018-12-05,"qmp: query-current-machine with wakeup-suspend-support\n\nWhen issuing the qmp/hmp 'system_wakeup' command, what happens in a\nnutshell is:\n\n- qmp_system_wakeup_request set runstate to RUNNING, sets a wakeup_reason\nand notify the event\n- in the main_loop, all vcpus are paused, a system reset is issued, all\nsubscribers of wakeup_notifiers receives a notification, vcpus are then\nresumed and the wake up QAPI event is fired\n\nNote that this procedure alone doesn't ensure that the guest will awake\nfrom SUSPENDED state - the subscribers of the wake up event must take\naction to resume the guest, otherwise the guest will simply reboot. At\nthis moment, only the ACPI machines via acpi_pm1_cnt_init and xen_hvm_init\nhave wake-up from suspend support.\n\nHowever, only the presence of 'system_wakeup' is required for QGA to\nsupport 'guest-suspend-ram' and 'guest-suspend-hybrid' at this moment.\nThis means that the user/management will expect to suspend the guest using\none of those suspend commands and then resume execution using system_wakeup,\nregardless of the support offered in system_wakeup in the first place.\n\nThis patch creates a new API called query-current-machine [1], that holds\na new flag called 'wakeup-suspend-support' that indicates if the guest\nsupports wake up from suspend via system_wakeup. The machine is considered\nto implement wake-up support if a call to a new 'qemu_register_wakeup_support'\nis made during its init, as it is now being done inside acpi_pm1_cnt_init\nand xen_hvm_init. This allows for any other machine type to declare wake-up\nsupport regardless of ACPI state or wakeup_notifiers subscription, making easier\nfor newer implementations that might have their own mechanisms in the future.\n\nThis is the expected output of query-current-machine when running a x86\nguest:\n\n{""execute"" : ""query-current-machine""}\n{""return"": {""wakeup-suspend-support"": true}}\n\nRunning the same x86 guest, but with the --no-acpi option:\n\n{""execute"" : ""query-current-machine""}\n{""return"": {""wakeup-suspend-support"": false}}\n\nThis is the output when running a pseries guest:\n\n{""execute"" : ""query-current-machine""}\n{""return"": {""wakeup-suspend-support"": false}}\n\nWith this extra tool, management can avoid situations where a guest\nthat does not have proper suspend/wake capabilities ends up in\ninconsistent state (e.g.\nhttps://github.com/open-power-host-os/qemu/issues/31).\n\n[1] the decision of creating the query-current-machine API is based\non discussions in the QEMU mailing list where it was decided that\nquery-target wasn't a proper place to store the wake-up flag, neither\nwas query-machines because this isn't a static property of the\nmachine object. This new API can then be used to store other\ndynamic machine properties that are scattered around the code\nATM. More info at:\nhttps://lists.gnu.org/archive/html/qemu-devel/2018-05/msg04235.html\n\nReported-by: Balamuruhan S <bala24@linux.vnet.ibm.com>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20181205194701.17836-2-danielhb413@gmail.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nAcked-by: Eduardo Habkost <ehabkost@redhat.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>",1,0.9995757937431335,ACPI,"hw/acpi/core.c, hw/i386/xen/xen-hvm.c, include/sysemu/sysemu.h, qapi/misc.json, vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e7176cdbe4d5e4b68459af741d6493886e4dad29,a2eb5c0cf7cc77736219015b840c5299499b1357,Matthias Weckbecker,2018-12-10,hw/pci-bridge: Fix invalid free()\n\nWhen loadvm'ing a *running* snapshot qemu crashes due to an invalid\nfree. It's fortunately caught early by glibc heap memory corruption\nprotection and qemu gets killed with SIGABRT.\n\nSteps to reproduce:\n\n1) Create VM (e.g w/ virsh define)\n2) Start the VM and take a snapshot while it's running and having a\n   PCI bridge attached\n3) Destroy the VM and revert the running snapshot.\n\nThis commit fixes the issue.\n\nSigned-off-by: Matthias Weckbecker <matthias@weckbecker.name>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9997302889823914,PCI,hw/pci/pci_bridge.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3bb3006a632da5b11ec7a154d5b819b8bfab8dab,4774866457a675a751c38fb0d9ed09113777ec15,Igor Mammedov,2018-12-17,"hw: i386: Use correct RSDT length for checksum\n\nAcpiRsdpDescriptor describes revision 2 RSDP table so using sizeof(*rsdp)\nfor checksum calculation isn't correct since we are adding extra 16 bytes.\nBut acpi_data_push() zeroes out table, so just by luck we are summing up\nexta zeros which still yelds correct checksum.\n\nFix it up by explicitly stating table size instead of using\npointer arithmetics on stucture.\n\nPS:\nExtra 16 bytes are still wasted, but droping them will break migration\nfor machines older than 2.3 due to size mismatch, for 2.3 and older it's\nnot an issue since they are using resizable memory regions (a1666142d)\nfor ACPI blobs. So keep wasting memory to avoid breaking old machines.\n\nFixes: 72c194f7e (i386: ACPI table generation code from seabios)\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Samuel Ortiz <sameo@linux.intel.com>\nSigned-off-by: Samuel Ortiz <sameo@linux.intel.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995352029800416,ACPI,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a7d4b1bf418acae58a3f0649c578cc0451136f46,95de6f4b92efea391a3cbb8651d774a4d3529861,Cdric Le Goater,2018-12-17,target/ppc: fix the PPC_BIT definitions\n\nChange the PPC_BIT macro to use ULL instead of UL and the PPC_BIT32\nand PPC_BIT8 not to use any suffix.\n\nThis fixes a compile breakage on windows.\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9996180534362792,PPC,target/ppc/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e4ddaac67f1fbdeea207fe28d71dca744832377b,7ff7ea928039e418dfa584c91f3f78512284a79a,Cdric Le Goater,2018-12-06,"ppc/xive: introduce the XIVE Event Notification Descriptors\n\nTo complete the event routing, the IVRE sub-engine uses a second table\ncontaining Event Notification Descriptor (END) structures.\n\nAn END specifies on which Event Queue (EQ) the event notification\ndata, defined in the associated EAS, should be posted when an\nexception occurs. It also defines which Notification Virtual Target\n(NVT) should be notified.\n\nThe Event Queue is a memory page provided by the O/S defining a\ncircular buffer, one per server and priority couple, containing Event\nQueue entries. These are 4 bytes long, the first bit being a\n'generation' bit and the 31 following bits the END Data field. They\nare pulled by the O/S when the exception occurs.\n\nThe END Data field is a way to set an invariant logical event source\nnumber for an IRQ. On sPAPR machines, it is set with the\nH_INT_SET_SOURCE_CONFIG hcall when the EISN flag is used.\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\n[dwg: Fold in a later fix from Cdric fixing field accessors]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9992603659629822,XIVE,"hw/intc/xive.c, include/hw/ppc/xive.h, include/hw/ppc/xive_regs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,207d9fe98510eaac575bfde8d1be58137e9a22ff,002686be42784fdce4c1c8ecd1987ddf740cab77,Cdric Le Goater,2018-12-09,"ppc/xive: introduce the XIVE interrupt thread context\n\nEach POWER9 processor chip has a XIVE presenter that can generate four\ndifferent exceptions to its threads:\n\n  - hypervisor exception,\n  - O/S exception\n  - Event-Based Branch (EBB)\n  - msgsnd (doorbell).\n\nEach exception has a state independent from the others called a Thread\nInterrupt Management context. This context is a set of registers which\nlets the thread handle priority management and interrupt acknowledgment\namong other things. The most important ones being :\n\n  - Interrupt Priority Register  (PIPR)\n  - Interrupt Pending Buffer     (IPB)\n  - Current Processor Priority   (CPPR)\n  - Notification Source Register (NSR)\n\nThese registers are accessible through a specific MMIO region, called\nthe Thread Interrupt Management Area (TIMA), four aligned pages, each\nexposing a different view of the registers. First page (page address\nending in 0b00) gives access to the entire context and is reserved for\nthe ring 0 view for the physical thread context. The second (page\naddress ending in 0b01) is for the hypervisor, ring 1 view. The third\n(page address ending in 0b10) is for the operating system, ring 2\nview. The fourth (page address ending in 0b11) is for user level, ring\n3 view.\n\nThe thread interrupt context is modeled with a XiveTCTX object\ncontaining the values of the different exception registers. The TIMA\nregion is mapped at the same address for each CPU.\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9994195699691772,XIVE,"hw/intc/xive.c, include/hw/ppc/xive.h, include/hw/ppc/xive_regs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f1e2e38ee0136b7710a2caa347049818afd57a1b,7be3a21325e95e3f0bb46d1a67d5fc702b24701f,Prasad J Pandit,2018-12-13,"pvrdma: check return value from pvrdma_idx_ring_has_ routines\n\npvrdma_idx_ring_has_[data/space] routines also return invalid\nindex PVRDMA_INVALID_IDX[=-1], if ring has no data/space. Check\nreturn value from these routines to avoid plausible infinite loops.\n\nReported-by: Li Qiang <liq3ea@163.com>\nSigned-off-by: Prasad J Pandit <pjp@fedoraproject.org>\nReviewed-by: Yuval Shaia <yuval.shaia@oracle.com>\nSigned-off-by: Marcel Apfelbaum <marcel.apfelbaum@gmail.com>",1,0.8029084205627441,PVRDMA,hw/rdma/vmw/pvrdma_dev_ring.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8c33ea59bb5b2857f19281d46c4d0327645429a4,a95c4c26f1dc233987350e7cb1cf62d46ade5ce5,Stefan Weil,2018-12-27,disas: nanoMIPS: Fix types and format strings\n\nUse POSIX types and format strings.\n\nReviewed-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nSigned-off-by: Stefan Weil <sw@weilnetz.de>,1,0.9994308352470398,MIPS,"disas/nanomips.cpp, disas/nanomips.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8bae1509d86b4e95d51763cbdff6f3b3dc9ae2db,8c33ea59bb5b2857f19281d46c4d0327645429a4,Aleksandar Markovic,2018-12-17,disas: nanoMIPS: Fix preamble text in nanomips.* files\n\nFix several mistakes in preambles of nanomips disassembler source\nfiles.\n\nReviewed-by: Aleksandar Rikalo <arikalo@wavecomp.com>\nReviewed-by: Stefan Markovic <smarkovic@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>,1,0.9985350370407104,MIPS,"disas/nanomips.cpp, disas/nanomips.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b4c5d21c3f5d223d902afbfa6bb4abb4080b57b1,e0669eec802f6e82d6ea336dda7056d1c55510b2,Aleksandar Markovic,2018-12-17,disas: nanoMIPS: Fix a function misnomer\n\nFix wrong function name. The convention in these files is that names of\nextraction functions should reflect bit patterns they are extracting.\n\nReviewed-by: Aleksandar Rikalo <arikalo@wavecomp.com>\nReviewed-by: Stefan Markovic <smarkovic@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>,1,0.9991617202758788,MIPS,"disas/nanomips.cpp, disas/nanomips.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,86b5f8035b3f4823a804df10ea1194b075754dc1,b4c5d21c3f5d223d902afbfa6bb4abb4080b57b1,Aleksandar Markovic,2018-12-17,disas: nanoMIPS: Fix order of some invocations\n\nFix order of extraction function invocations so that extraction\ngoes from MSB side to LSB side of the given instruction coding\ncontent. This is desireable because of consistency and easier\nvisual spotting of errors.\n\nReviewed-by: Aleksandar Rikalo <arikalo@wavecomp.com>\nReviewed-by: Stefan Markovic <smarkovic@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>,1,0.9995214939117432,MIPS,disas/nanomips.cpp,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d0c60abd2150c9b0999deb13a197a6314f0ad32b,11b9732afe44af30078f0b46d7afe647e59a616f,Aleksandar Markovic,2018-12-18,disas: nanoMIPS: Fix an FP-related misnomer 1\n\nRename NMD::extract_fd_10_9_8_7_6(uint64 instruction) to\nNMD::extract_fd_15_14_13_12_11(uint64 instruction).\n\nReviewed-by: Aleksandar Rikalo <arikalo@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>,1,0.9944221377372742,MIPS,"disas/nanomips.cpp, disas/nanomips.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,52a96d22c3590f5cbd33e358fc3a58d98d57628a,d0c60abd2150c9b0999deb13a197a6314f0ad32b,Aleksandar Markovic,2018-12-18,disas: nanoMIPS: Fix an FP-related misnomer 2\n\nRename NMD::extract_fs_15_14_13_12_11(uint64 instruction) to\nNMD::extract_fs_20_19_18_17_16(uint64 instruction).\n\nReviewed-by: Aleksandar Rikalo <arikalo@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>,1,0.9951735138893129,MIPS,"disas/nanomips.cpp, disas/nanomips.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,17ce2f00250bc18a5e392fe774ccfc3a1d325b5b,52a96d22c3590f5cbd33e358fc3a58d98d57628a,Aleksandar Markovic,2018-12-18,disas: nanoMIPS: Fix an FP-related misnomer 3\n\nRename NMD::extract_ft_20_19_18_17_16(uint64 instruction) to\nNMD::extract_ft_25_24_23_22_21(uint64 instruction).\n\nReviewed-by: Aleksandar Rikalo <arikalo@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>,1,0.9922727346420288,MIPS,"disas/nanomips.cpp, disas/nanomips.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,75199b402c2bc90e2b9c8d49b806f1cbb8d4c670,d3605cc0d1d82203efb09e202ae43aa4ada3ea0b,Aleksandar Markovic,2018-12-24,"disas: nanoMIPS: Fix order of more invocations\n\nFix order of extraction function invocations so that extraction\ngoes from MSB side to LSB side of the given instruction coding\ncontent. This is desireable because of consistency and easier\nvisual spotting of errors.\n\nAfter this patch, all such invocations should be in the desired\norder.\n\nReviewed-by: Aleksandar Rikalo <arikalo@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>",1,0.999573051929474,MIPS,disas/nanomips.cpp,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f30815390adb1ec153327c3832ab378e8bce9808,3fd2092fd11b9e4220a08eca0663cc59178a6c3f,Jonathan Davies,2019-01-07,"usb: drop unnecessary usb_device_post_load checks\n\nIn usb_device_post_load, certain values of dev->setup_len or\ndev->setup_index can cause -EINVAL to be returned. One example is when\nsetup_len exceeds 4096, the hard-coded value of sizeof(dev->data_buf).\nThis can happen through legitimate guest activity and will cause all\nsubsequent attempts to migrate the guest to fail in vmstate_load_state.\n\nThe values of these variables can be set by USB packets originating in\nthe guest. There are two ways in which they can be set: in\ndo_token_setup and in do_parameter in hw/usb/core.c.\n\nIt is easy to craft a USB packet in a guest that causes do_token_setup\nto set setup_len to a value larger than 4096. When this has been done\nonce, all subsequent attempts to migrate the VM will fail in\nusb_device_post_load until the VM is next power-cycled or a\nsmaller-sized USB packet is sent to the device.\n\nSample code for achieving this in a VM started with ""-device usb-tablet""\nrunning Linux with CONFIG_HIDRAW=y and HID_MAX_BUFFER_SIZE > 4096:\n\n  #include <sys/types.h>\n  #include <sys/stat.h>\n  #include <fcntl.h>\n  #include <unistd.h>\n\n  int main() {\n           char buf[4097];\n           int fd = open(""/dev/hidraw0"", O_RDWR|O_NONBLOCK);\n\n           buf[0] = 0x1;\n           write(fd, buf, 4097);\n\n           return 0;\n  }\n\nWhen this code is run in the VM, qemu will output:\n\n  usb_generic_handle_packet: ctrl buffer too small (4097 > 4096)\n\nA subsequent attempt to migrate the VM will fail and output the\nfollowing on the destination host:\n\n  qemu-kvm: error while loading state for instance 0x0 of device '0000:00:06.7/1/usb-ptr'\n  qemu-kvm: load of migration failed: Invalid argument\n\nThe idea behind checking the values of setup_len and setup_index before\nthey are used is correct, but doing it in usb_device_post_load feels\narbitrary, and will cause unnecessary migration failures. Indeed, none\nof the commit messages for c60174e8, 9f8e9895 and 719ffe1f justify why\npost_load is the right place to do these checks. They correctly point\nout that the important thing to protect is the usb_packet_copy.\n\nInstead, the right place to do the checks is in do_token_setup and\ndo_parameter. Indeed, there are already some checks here. We can examine\neach of the disjuncts currently tested in usb_device_post_load to see\nwhether any need adding to do_token_setup or do_parameter to improve\nsafety there:\n\n  * dev->setup_index < 0\n     - This test is not needed because setup_index is explicitly set to\n0 in do_token_setup and do_parameter.\n\n  * dev->setup_len < 0\n     - In both do_token_setup and do_parameter, the value of setup_len\nis computed by (s->setup_buf[7] << 8) | s->setup_buf[6]. Since\ns->setup_buf is a byte array and setup_len is an int32_t, it's\nimpossible for this arithmetic to set setup_len's top bit, so it can\nnever be negative.\n\n  * dev->setup_index > dev->setup_len\n     - Since setup_index is 0, this is equivalent to the previous test,\nso is redundant.\n\n  * dev->setup_len > sizeof(dev->data_buf)\n     - This condition is already explicitly checked in both\ndo_token_setup and do_parameter.\n\nHence there is no need to bolster the existing checks in do_token_setup\nor do_parameter, and we can safely remove these checks from\nusb_device_post_load without reducing safety but allowing migrations to\nproceed regardless of what USB packets have been generated by the guest.\n\nSigned-off-by: Jonathan Davies <jonathan.davies@nutanix.com>\nMessage-Id: <20190107175117.23769-1-jonathan.davies@nutanix.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999448835849762,USB,hw/usb/bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,766a0a54faa97b8d4cbc7a6bd47f7ea78e625c19,2a7bece653913a962a12672eb43aa796aea5ea23,Frediano Ziglio,2019-01-07,spice: Remove unused include\n\nThe definitions in the header are not  used.\nAlso this fixes porting SPICE to Windows where the header is not\navailable.\n\nSigned-off-by: Frediano Ziglio <fziglio@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20190107184404.31993-1-fziglio@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.974312663078308,SPICE,ui/spice-core.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c2d6eeda016887f5d11401cd20281a356e226b51,88e94fd238aa425c1a19d64afd1b3c83dfeb7dc2,Guenter Roeck,2018-11-28,"esp-pci: Fix status register write erase control\n\nPer AM53C974 datasheet, definition of ""SCSI Bus and Control (SBAC)""\nregister:\n\nBit 24 'STATUS' Write Erase Control\n\nThis bit controls the Write Erase feature on bits 3:1 and bit 6 of the DMA\nStatus Register ((B)+54h). When this bit is programmed to '1', the state\nof bits 3:1 are preserved when read. Bits 3:1 are only cleared when a '1'\nis written to the corresponding bit location. For example, to clear bit 1,\nthe value of '0000_0010b' should be written to the register. When the DMA\nStatus Preserve bit is '0', bits 3:1 are cleared when read.\n\nThe status register is currently defined to bit 12, not bit 24.\nAlso, its implementation is reversed: The status is auto-cleared if\nthe bit is set to 1, and must be cleared explicitly when the bit is\nset to 0. This results in spurious interrupts reported by the Linux\nkernel, and in some cases even results in stalled SCSI operations.\n\nSet SBAC_STATUS to bit 24 and reverse the logic to fix the problem.\n\nSigned-off-by: Guenter Roeck <linux@roeck-us.net>\nMessage-Id: <1543442171-24863-1-git-send-email-linux@roeck-us.net>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996832609176636,SCSI,hw/scsi/esp-pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,53921bfdce3f8fffcc22338633855247fb7b7a74,d7741743f4f3d2683d1bb6938f88dc0167c21afa,Eduardo Habkost,2019-01-10,"virtio: Make disable-legacy/disable-modern compat properties optional\n\nThe disable-legacy and disable-modern properties apply only to\nsome virtio-pci devices.  Make those properties optional.\n\nThis fixes the crash introduced by commit f6e501a28ef9 (""virtio: Provide\nversion-specific variants of virtio PCI devices""):\n\n  $ qemu-system-x86_64 -machine pc-i440fx-2.6 \\n    -device virtio-net-pci-non-transitional\n  Unexpected error in object_property_find() at qom/object.c:1092:\n  qemu-system-x86_64: -device virtio-net-pci-non-transitional: can't apply \\n  global virtio-pci.disable-modern=on: Property '.disable-modern' not found\n  Aborted (core dumped)\n\nReported-by: Thomas Huth <thuth@redhat.com>\nFixes: f6e501a28ef9 (""virtio: Provide version-specific variants of virtio PCI devices"")\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996787309646606,PCI,hw/core/machine.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b6148757f9baa2de11304c09aaf9f9a276c825cd,812e710a9624a3bf3c8bb126ac546b683edb60d5,Marc-Andr Lureau,2019-01-15,"tpm: add a ""ppi"" boolean property\n\nThe following patches implement the TPM Physical Presence Interface,\nmake use of a new memory region and a fw_cfg entry. Enable PPI by\ndefault with >=4.0 machine type, to avoid migration issues.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Stefan Berger <stefanb@linux.ibm.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9937080144882202,TPM,"hw/core/machine.c, hw/tpm/tpm_crb.c, hw/tpm/tpm_tis.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9cbb8eca1729eab1123847e37454975bb555008a,97b583f46c435aaa40942ca73739d79190776b7f,Philippe Mathieu-Daud,2019-01-03,"hw/acpi: Use QEMU_NONSTRING for non NUL-terminated arrays\n\nGCC 8 added a -Wstringop-truncation warning:\n\n  The -Wstringop-truncation warning added in GCC 8.0 via r254630 for\n  bug 81117 is specifically intended to highlight likely unintended\n  uses of the strncpy function that truncate the terminating NUL\n  character from the source string.\n\nThis new warning leads to compilation failures:\n\n    CC      hw/acpi/core.o\n  In function 'acpi_table_install', inlined from 'acpi_table_add' at qemu/hw/acpi/core.c:296:5:\n  qemu/hw/acpi/core.c:184:9: error: 'strncpy' specified bound 4 equals destination size [-Werror=stringop-truncation]\n           strncpy(ext_hdr->sig, hdrs->sig, sizeof ext_hdr->sig);\n           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  make: *** [qemu/rules.mak:69: hw/acpi/core.o] Error 1\n\nUse the QEMU_NONSTRING attribute, since ACPI tables don't require the\nstrings to be NUL-terminated.\n\nSuggested-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>",1,0.9966241121292114,ACPI,"hw/acpi/core.c, include/hw/acpi/acpi-defs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6ed675c92a80ff83638eef5e12d4aac529c12f93,681d61362d3f766a00806b89d6581869041f73cb,Li Qiang,2019-01-08,"s390: avoid potential null dereference in s390_pcihost_unplug()\n\nWhen getting the 'pbdev', the if...else has no default branch.\nFrom Coverity, the 'pbdev' maybe null when the 'dev' is not\nthe TYPE_PCI_BRIDGE/TYPE_PCI_DEVICE/TYPE_S390_PCI_DEVICE.\nThis patch adds a default branch for device plug and unplug.\n\nSpotted by Coverity: CID 1398593\n\nSigned-off-by: Li Qiang <liq3ea@163.com>\nMessage-Id: <20190108151114.33140-1-liq3ea@163.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nReviewed-by: Halil Pasic <pasic@linux.ibm.com>\nReviewed-by: Collin Walling <walling@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9984297156333924,PCI,hw/s390x/s390-pci-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dbe9cf606c2fe7365008be2a71d7b1781bbd5435,d57d6abc33c770b77732039ebcc96e26cf6ff285,Pierre Morel,2019-01-10,"s390x/pci: Set the iommu region size mpcifc request\n\nThe size of the accessible iommu memory region in the guest\nis given to the IOMMU by the guest through the mpcifc request\nspecifying the PCI Base Address and the PCI Address Limit.\n\nLet's set the size of the IOMMU region to:\n    (PCI Address Limit) - (PCI Base Address) + 1.\n\nFixes: f7c40aa1e7 (""s390x/pci: fix failures of dma map/unmap"")\nSigned-off-by: Pierre Morel <pmorel@linux.ibm.com>\nMessage-Id: <1547125207-16907-2-git-send-email-pmorel@linux.ibm.com>\nAcked-by: Collin Walling <walling@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.999716341495514,PCI,hw/s390x/s390-pci-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6e92c70c37547b6a247a206651dfcc583a57f484,3549f8c9e4f0ef1c3417ff43b2164f68ad34b922,Yi Min Zhao,2019-01-08,"s390x/pci: add common function measurement block\n\nCommon function measurement block is used to report zPCI internal\ncounters of successful pcilg/stg/stb and rpcit instructions to\na memory location provided by the program.\n\nThis patch introduces a new ZpciFmb structure and schedules a timer\ncallback to copy the zPCI measures to the FMB in the guest memory\nat an interval time set to 4s.\n\nAn error while attemping to update the FMB, would generate an error\nevent to the guest.\n\nThe pcilg/stg/stb and rpcit interception handlers increase the\nrelated counter on a successful call.\nThe guest shall pass a null FMBA (FMB address) in the FIB (Function\nInformation Block) when it issues a Modify PCI Function Control\ninstruction to switch off FMB and stop the corresponding timer.\n\nSigned-off-by: Yi Min Zhao <zyimin@linux.ibm.com>\nSigned-off-by: Pierre Morel <pmorel@linux.ibm.com>\nMessage-Id: <1546969050-8884-2-git-send-email-pmorel@linux.ibm.com>\nAcked-by: David Hildenbrand <david@redhat.com>\nReviewed-by: Collin Walling <walling@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9983832836151124,PCI,"hw/s390x/s390-pci-bus.c, hw/s390x/s390-pci-bus.h, hw/s390x/s390-pci-inst.c, hw/s390x/s390-pci-inst.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fbd57c754f32804a63295f70f271d1ef128ee590,61e77a5f0c788495566aecb437bcf6b2cf9cda97,Alexander Kanavin,2019-01-16,"egl-helpers.h: do not depend on X11 Window type, use EGLNativeWindowType\n\nIt was assumed that mesa provides the necessary X11 includes,\nbut it is not always the case, as it can be configured without x11 support.\n\nSigned-off-by: Alexander Kanavin <alex.kanavin@gmail.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20190116113751.17177-1-alex.kanavin@gmail.com\n\n[ kraxel: codestyle fix (long line) ]\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999277651309967,X11,"include/ui/egl-helpers.h, ui/egl-helpers.c, ui/gtk-egl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2d2a4549cc29850aab891495685a7b31f5254b12,29bbccc27874caa81106a40ee18d5e311c15451b,Alexander Graf,2019-01-21,"target/arm: Allow Aarch32 exception return to switch from Mon->Hyp\n\nIn U-boot, we switch from S-SVC -> Mon -> Hyp mode when we want to\nenter Hyp mode. The change into Hyp mode is done by doing an\nexception return from Mon. This doesn't work with current QEMU.\n\nThe problem is that in bad_mode_switch() we refuse to allow\nthe change of mode.\n\nNote that bad_mode_switch() is used to do validation for two situations:\n\n (1) changes to mode by instructions writing to CPSR.M\n     (ie not exception take/return) -- this corresponds to the\n     Armv8 Arm ARM pseudocode Arch32.WriteModeByInstr\n (2) changes to mode by exception return\n\nAttempting to enter or leave Hyp mode via case (1) is forbidden in\nv8 and UNPREDICTABLE in v7, and QEMU is correct to disallow it\nthere. However, we're already doing that check at the top of the\nbad_mode_switch() function, so if that passes then we should allow\nthe case (2) exception return mode changes to switch into Hyp mode.\n\nWe want to test whether we're trying to return to the nonexistent\n""secure Hyp"" mode, so we need to look at arm_is_secure_below_el3()\nrather than arm_is_secure(), since the latter is always true if\nwe're in Mon (EL3).\n\nSigned-off-by: Alexander Graf <agraf@suse.de>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20190109152430.32359-1-agraf@suse.de\n[PMM: rewrote commit message]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9056892395019532,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd889f4810839a2b68e339696ccf7c406cd62879,561c0a33080f1058a7671d0223122c98e4c9c1f0,Richard Henderson,2019-01-21,"target/arm: Decode Load/store register (pac)\n\nNot that there are any stores involved, but why argue with ARM's\nnaming convention.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20190108223129.5570-15-richard.henderson@linaro.org\n[fixed trivial comment nit]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9992781281471252,ARM,target/arm/translate-a64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ba97be9f4a4ecaf16a1454dc669e5f3d935d3b63,64be86ab1b5ef10b660a4230ee7f27c0da499043,Richard Henderson,2019-01-21,"target/arm: Create ARMVAParameters and helpers\n\nSplit out functions to extract the virtual address parameters.\nLet the functions choose T0 or T1 address space half, if present.\nExtract (most of) the control bits that vary between EL or Tx.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20190108223129.5570-19-richard.henderson@linaro.org\n[PMM: fixed minor checkpatch comment nits]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9993119239807128,ARM,"target/arm/helper.c, target/arm/internals.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,990870b205ddfdba3fd3c1321e6083005ef59d1a,63ff0ca94cb84764d2aee45b37c5502a54811dab,Richard Henderson,2019-01-21,"target/arm: Implement pauth_computepac\n\nThis is the main crypto routine, an implementation of QARMA.\nThis matches, as much as possible, ARM pseudocode.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20190108223129.5570-28-richard.henderson@linaro.org\n[PMM: fixed minor checkpatch nits]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9989256262779236,ARM,target/arm/pauth_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,697b7b6bc570c0fe4e32d079930fea6cd4cace6b,fc95c2412ecfb0decb30d70eabd9d73c2e6dd946,Stefan Markovic,2019-01-22,target/mips: nanoMIPS: Fix branch handling\n\nFix nanoMIPS branch handling.\n\nReviewed-by: Aleksandar Rikalo <arikalo@wavecomp.com>\nSigned-off-by: Stefan Markovic <smarkovic@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>,1,0.9968270659446716,MIPS,target/mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fa92bd4af71bed76bf57bb1c8b5465414a52ab3f,fff7bf145045ec57be6bd3bdd69de7930137654c,Max Filippov,2019-01-23,"target/xtensa: fix access to the INTERRUPT SR\n\nINTERRUPT special register may be changed both by the core (by writing\nto INTSET and INTCLEAR registers) and by external events (by triggering\nand clearing HW IRQs). In MTTCG this state must be protected from\nconcurrent access, otherwise interrupts may be lost or spurious\ninterrupts may be detected.\n\nUse atomic operations to change INTSET SR.\nFix wsr.intset so that it soesn't clear any bits.\nFix wsr.intclear so that it doesn't clear bit that corresponds to NMI.\n\nSigned-off-by: Max Filippov <jcmvbkbc@gmail.com>",1,0.9996917247772216,TCG,"hw/xtensa/pic_cpu.c, target/xtensa/exc_helper.c, target/xtensa/helper.h, target/xtensa/op_helper.c, target/xtensa/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4eefdf7c1baa41e59cf4792df887a033e86339db,8ac98d1a97a7aeefe45f4a5af37d61caa41ded54,BALATON Zoltan,2019-01-25,sii3112: Remove duplicated code and use PCI IDE ops instead\n\nParts of the SiI3112 mmio are identical to PCI IDE registers so we can\nuse the corresponding functions that were factored out into ide/pci.c.\nThis removes code duplication and simplifies the SiI3112 model which\nalso helped to spot a copy paste error where reading status of the\n2nd channel read the 1st channel instead. This is also fixed here.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: John Snow <jsnow@redhat.com>\nMessage-id: 793b6a7934ef2bba26b8d066bec446019efa6c5d.1547166960.git.balaton@eik.bme.hu\nSigned-off-by: John Snow <jsnow@redhat.com>,1,0.9947717785835266,PCI,hw/ide/sii3112.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a6f230c8d13a7ff3a0c7f1097412f44bfd9eff0b,14632122b82150d42cefac04a219bbead59bc4a7,Alberto Garcia,2019-01-22,"virtio-scsi: Move BlockBackend back to the main AioContext on unplug\n\nThis fixes a crash when attaching a disk to a SCSI device using\niothreads, then detaching it and reattaching it again. Test case\nincluded.\n\nSigned-off-by: Alberto Garcia <berto@igalia.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9256030321121216,SCSI,"hw/scsi/virtio-scsi.c, tests/qemu-iotests/240, tests/qemu-iotests/240.out, tests/qemu-iotests/group",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3ff35ba391134e4e43ab96152deb38a62e62f858,a6f230c8d13a7ff3a0c7f1097412f44bfd9eff0b,Alberto Garcia,2019-01-22,scsi-disk: Acquire the AioContext in scsi_*_realize()\n\nThis fixes a crash when attaching two disks with the same blockdev to\na SCSI device that is using iothreads. Test case included.\n\nSigned-off-by: Alberto Garcia <berto@igalia.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>,1,0.9929834604263306,SCSI,"hw/scsi/scsi-disk.c, tests/qemu-iotests/240, tests/qemu-iotests/240.out",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5601be3b01d73e21c09331599e2ce62df016ff94,4977986ca38fb1d5357532e1a8032b984047a369,Peter Maydell,2019-02-01,"exec.c: Don't reallocate IOMMUNotifiers that are in use\n\nThe tcg_register_iommu_notifier() code has a GArray of\nTCGIOMMUNotifier structs which it has registered by passing\nmemory_region_register_iommu_notifier() a pointer to the embedded\nIOMMUNotifier field. Unfortunately, if we need to enlarge the\narray via g_array_set_size() this can cause a realloc(), which\ninvalidates the pointer that memory_region_register_iommu_notifier()\nput into the MemoryRegion's iommu_notify list. This can result\nin segfaults.\n\nSwitch the GArray to holding pointers to the TCGIOMMUNotifier\nstructs, so that we can individually allocate and free them.\n\nCc: qemu-stable@nongnu.org\nFixes: 1f871c5e6b0f30644a60a (""exec.c: Handle IOMMUs in address_space_translate_for_iotlb()"")\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20190128174241.5860-1-peter.maydell@linaro.org",1,0.9879035353660583,TCG,exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f6768aa1b4c6a80448eabd22bb9b4123c709caea,87877543b14feebf1bc4fd336d41901b036acf98,Remi Denis-Courmont,2019-01-26,"target/arm: fix AArch64 virtual address space size\n\nSince QEMU does not support the ARMv8.2-LVA, Large Virtual Address,\nextension (yet), the VA address space is 48-bits plus a sign bit. User\nmode can only handle the positive half of the address space, so that\nmakes a limit of 48 bits.\n\n(With LVA, it would be 53 and 52 bits respectively.)\n\nThe incorrectly large address space conflicts with PAuth instructions,\nwhich use bits 48-54 and 56-63 for the pointer authentication code. This\nalso conflicts with (as yet unsupported by QEMU) data tagging and with\nthe ARMv8.5-MTE extension.\n\nSigned-off-by: Remi Denis-Courmont <remi.denis.courmont@huawei.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997097849845886,ARM,target/arm/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1ac24c91bbfada5303a3d7ac1d50a05c489053a1,4882206430532af27aa2ffd30df2818e4661e981,Thomas Huth,2019-01-09,"hw/ppc/spapr: Encode the SCSI channel (bus) in the SRP LUNs\n\nIn hw/scsi/spapr_vio.c we declare that the controller supports multiple\nbuses by specifying ""max_channel = 7"" there. So in the code that fixes\nup the device tree nodes, we must encode the channel number (a.k.a. bus\nnumber in the ""Logical unit addressing format"" table of SAM5) into the\n64-bit LUN, too.\n\nBuglink: https://bugzilla.redhat.com/show_bug.cgi?id=1663160\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9995513558387756,SCSI,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d8e81d6e6093738c23b457b607c44a75a6952dc8,21df5e4ffafd067090882c312c5978ee7bb2f46f,David Hildenbrand,2019-01-23,"spapr/pci: Fix primary bus number for PCI bridges\n\nWhile looking at the s390x implementation, looks like spapr has a\nsimilar BUG when building the topology.\n\nThe primary bus number corresponds always to the bus number of the\nbus the bridge is attached to.\n\nRight now, if we have two bridges attached to the same bus (e.g. root\nbus) this is however not the case. The first bridge will have primary\nbus 0, the second bridge primary bus 1, which is wrong. Fix the assignment.\n\nWhile at it, drop setting the PCI_SUBORDINATE_BUS temporarily to 0xff.\nSetting it temporarily to that value (as discussed e.g. in [1]), is\nonly relevant for a running system that probes the buses. The value is\neffectively unused for us just doing a DFS.\n\n[1] http://www.science.unitn.it/~fiorella/guidelinux/tlk/node76.html\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nReviewed-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996849298477172,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,382b6f22258f3e68c6a4226790eae96e5527e791,60594fea298d1e014700cc63a92ee43258c8c504,Alexey Kardashevskiy,2019-02-01,"spapr_pci: Fix endianness in assigned-addresses property\n\nreg->phys_hi and assigned->phys_hi are big endian but we do an extra\nbyteswap anyway when copying reg->phys_hi to assigned->phys_hi.\nTo make things slightly more messy, we also add a relocatable bit (b_n())\nalthough in the right endianness.\n\nThis fixes endianness of assigned->phys_hi.\n\nThis is unlikely to produce any visible difference though as we should end up\nthere only in the case of PCI hotplug and even then I am not sure if\n(d->io_regions[i].addr == PCI_BAR_UNMAPPED) == true.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996522665023804,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e0998fe8910435f0e818e5c9ac58d4d2d9144a98,f6b51efa198d69a9b624a4ccaf8574e892aab78f,David Hildenbrand,2019-01-30,"s390x/pci: Introduce unplug requests and split unplug handler\n\nPCI on s390x is really weird and how it was modeled in QEMU might not have\nbeen the right choice. Anyhow, right now it is the case that:\n- Hotplugging a PCI device will silently create a zPCI device\n  (if none is provided)\n- Hotunplugging a zPCI device will unplug the PCI device (if any)\n- Hotunplugging a PCI device will unplug also the zPCI device\nAs far as I can see, we can no longer change this behavior. But we\nshould fix it.\n\nBoth device types are handled via a single hotplug handler call. This\nis problematic for various reasons:\n1. Unplugging via the zPCI device allows to unplug devices that are not\n   hot removable. (check performed in qdev_unplug()) - bad.\n2. Hotplug handler chains are not possible for the unplug case. In the\n   future, the machine might want to override hotplug handlers, to\n   process device specific stuff and to then branch off to the actual\n   hotplug handler. We need separate hotplug handler calls for both the\n   PCI and zPCI device to make this work reliably. All other PCI\n   implementations are already prepared to handle this correctly, only\n   s390x is missing.\n\nTherefore, introduce the unplug_request handler and properly perform\nunplug checks by redirecting to the separate unplug_request handlers.\nWhen finally unplugging, perform two separate hotplug_handler_unplug()\ncalls, first for the PCI device, followed by the zPCI device. This now\nnicely splits unplugging paths for both devices.\n\nThe redirect part is a little hairy, as the user is allowed to trigger\nunplug either via the PCI or the zPCI device. So redirect always to the\nPCI unplug request handler first and remember if that check has been\nperformed in the zPCI device. Redirect then to the zPCI device unplug\nrequest handler to perform the magic. Remembering that we already\nchecked the PCI device breaks the redirect loop.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20190130155733.32742-5-david@redhat.com>\nReviewed-by: Collin Walling <walling@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9993988275527954,PCI,"hw/s390x/s390-pci-bus.c, hw/s390x/s390-pci-bus.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d30a7507edf1ca23d33dbf00b25f5e49a7808492,80a7b759493e05579c26e8a913a3d6349641853e,David Hildenbrand,2019-01-30,"s390x/pci: Fix primary bus number for PCI bridges\n\nThe primary bus number corresponds always to the bus number of the\nbus the bridge is attached to.\n\nRight now, if we have two bridges attached to the same bus (e.g. root\nbus) this is however not the case. The first bridge will have primary\nbus 0, the second bridge primary bus 1, which is wrong. Fix the assignment.\n\nWhile at it, drop setting the PCI_SUBORDINATE_BUS temporarily to 0xff.\nSetting it temporarily to that value (as discussed e.g. in [1]), is\nonly relevant for a running system that probes the buses. The value is\neffectively unused for us just doing a DFS.\n\nAlso add a comment why we have to reassign during every reset (which I\nfound to be surprising.\n\nPlease note that hotplugging of bridges is in general still broken, will\nbe fixed next.\n\n[1] http://www.science.unitn.it/~fiorella/guidelinux/tlk/node76.html\n\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20190130155733.32742-2-david@redhat.com>\nReviewed-by: Collin Walling <walling@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9995025396347046,PCI,hw/s390x/s390-pci-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,150f462538a6f3b78efe785c911669375032b0d2,d30a7507edf1ca23d33dbf00b25f5e49a7808492,David Hildenbrand,2019-01-30,"s390x/pci: Fix hotplugging of PCI bridges\n\nWhen hotplugging a PCI bridge right now to the root port, we resolve\npci_get_bus(pdev)->parent_dev, which results in a SEGFAULT. Hotplugging\nreally only works right now when hotplugging to another bridge.\n\nInstead, we have to properly check if we are already at the root.\n\nLet's cleanup the code while at it a bit and factor out updating the\nsubordinate bus number into a separate function. The check for\n""old_nr < nr"" is right now not strictly necessary, but makes it more\nobvious what is actually going on.\n\nMost probably fixing up the topology is not our responsibility when\nhotplugging. The guest has to sort this out. But let's keep it for now\nand only fix current code to not crash.\n\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20190130155733.32742-3-david@redhat.com>\nReviewed-by: Collin Walling <walling@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996742010116576,PCI,hw/s390x/s390-pci-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,87593a4751c89993896ea534c59a9488d7963ae9,caa1ee43131c060347b32893abd41fe4865eaa2e,Thomas Huth,2019-01-25,"hw/virtio: Use CONFIG_VIRTIO_PCI switch instead of CONFIG_PCI\n\nFor downstream s390x builds, we'd like to be able to build QEMU with\nCONFIG_VIRTIO_PCI disabled (since virtio-ccw is used here instead),\nbut still with CONFIG_PCI enabled. This currently fails since the\nvirtio-*-pci.o files are still included in the build, but virtio-pci.o\nis missing. Use the right config switch CONFIG_VIRTIO_PCI to exclude\nthe virtio-*-pci.o files from the build.\n\nReported-by: Miroslav Rezanina <mrezanin@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9980212450027466,"PCI, VIRTIO, VIRTIO_PCI",hw/virtio/Makefile.objs,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,935fe442dc234c7b3fa52d346ced7a614696107e,6ea564872238a25de2bdac8a61c485df6bcce9d6,Peter Maydell,2019-02-15,"hw/intc/armv7m_nvic: Allow byte accesses to SHPR1\n\nThe code for handling the NVIC SHPR1 register intends to permit\nbyte and halfword accesses (as the architecture requires). However\nthe 'case' line for it only lists the base address of the\nregister, so attempts to access bytes other than the first one\nend up in the ""bad write"" default logic. This bug was added\naccidentally when we split out the SHPR1 logic from SHPR2 and\nSHPR3 to support v6M.\n\nFixes: 7c9140afd594 (""nvic: Handle ARMv6-M SCS reserved registers"")\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\n---\nThe Zephyr RTOS happens to access SHPR1 byte at a time,\nwhich is how I spotted this.",1,0.9997181296348572,ARM,hw/intc/armv7m_nvic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5007c904e158aaaf97e65338e52f5ef9e8df0944,935fe442dc234c7b3fa52d346ced7a614696107e,Peter Maydell,2019-02-15,"hw/arm/armsse: Fix miswiring of expansion IRQs\n\nIn commit 91c1e9fcbd7548db368 where we added dual-CPU support to\nthe ARMSSE, we set up the wiring of the expansion IRQs via nested\nloops: the outer loop on 'i' loops for each CPU, and the inner loop\non 'j' loops for each interrupt. Fix a typo which meant we were\nwiring every expansion IRQ line to external IRQ 0 on CPU 0 and\nto external IRQ 1 on CPU 1.\n\nFixes: 91c1e9fcbd7548db368 (""hw/arm/armsse: Support dual-CPU configuration"")\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>",1,0.9996734857559204,"ARM, ARMSSE",hw/arm/armsse.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,18aaa59c622208743565307668a2100ab24f7de9,55a889456ef78f3f9b8eae9846c2f1453b1dd77b,Richard Henderson,2019-02-15,"target/arm: Fix set of bits kept in xregs[ARM_VFP_FPSCR]\n\nGiven that we mask bits properly on set, there is no reason\nto mask them again on get.  We failed to clear the exception\nstatus bits, 0x9f, which means that the wrong value would be\nreturned on get.  Except in the (probably normal) case in which\nthe set clears all of the bits.\n\nSimplify the code in set to also clear the RES0 bits.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20190209033847.9014-10-richard.henderson@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999657154083252,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,27a3ea7eff2af5d8049d911802be4b13145491fc,707c7c2ee1f6fb425a3c78f587feda7cd8501905,BALATON Zoltan,2019-01-26,"target/ppc: Fix msync to do what hardware does\n\nAccording to BookE docs, invalid bits (while undefined behaviour) should\nnot raise exception but be ignored. This seems to be implementation\ndependent though and QEMU currently does what e500 CPUs do and raise\nexception for invalid bits. Unfortunately some versions of libstdc++\n(and so all programs compiled with it) have lwsync on PPC440 which is\ninvalid but on real hardware it's just executed as msync ignoring the\ninvalid bits (maybe that's why it got undetected) but they fail on QEMU.\nThis patch changes invalid mask of msync to allow these programs to run\nbut keep generating exception on e500 cores to follow what hardware does.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997356534004213,"PPC, PPC440",target/ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e150ac89fbcf4ea15535f6718d0194310c39280d,4c668f4a3d684ec133a52d936314379f6edd672e,Roman Kapl,2019-02-12,"ppc: fix crash during branch stepping\n\nThe PPC BRANCH exception could bubble up, but this is an QEMU internal exception\nand QEMU then crased. Instead it should trigger TRACE exception, according to\nPPC 2.07 book. It could happen only when using branch stepping, which is not\ncommonly used.\n\nChange gen_prep_dbgex do do trigger TRACE. The excp, argument is now removed,\nsince the type of exception can be inferred from the singlestep_enabled flags.\nremoved the guards around gen_exception, since they are unnecessary.\n\nFixes: 0e3bf48909 (""ppc: add DBCR based debugging"").\nSigned-off-by: Roman Kapl <rka@sysgo.com>\nMessage-Id: <20190212121255.2279-1-rka@sysgo.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997140765190125,PPC,target/ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2012f47e2371537bf41a9347af6db1d3d675a1a4,9791e7e91819468fa4009809fd340575f3fd3d12,Max Filippov,2019-02-18,target/xtensa: fixup test_mmuhifi_c3 overlay\n\nxtensa-modules part of the test_mmuhifi_c3 core is missing fixes that\nreturns XTENSA_UNDEFINED for undefined opcodes and marks all data\nstructures static. Run sed script from target/xtensa/import_core.sh on\nit. This fixes test_sr tests for missing special registers.\n\nSigned-off-by: Max Filippov <jcmvbkbc@gmail.com>,1,0.9967530369758606,XTENSA,target/xtensa/core-test_mmuhifi_c3/xtensa-modules.inc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,af3bba761a1208c8515bcc72fc48d0f9045d040c,ba28889838e6bdce540f30892d547cf634c1b0cd,Paolo Bonzini,2019-02-14,"vhost-net: compile it on all targets that have virtio-net.\n\nThis shows a preexisting bug: if a KVM target did not have virtio-net enabled,\nit would fail with undefined symbols when vhost was enabled.  This must now\nbe fixed, lest targets that have no virtio-net fail to compile.\n\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <1543851204-41186-5-git-send-email-pbonzini@redhat.com>\nMessage-Id: <1550165756-21617-6-git-send-email-pbonzini@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995467066764832,KVM,"configure, hw/net/Makefile.objs, hw/net/vhost_net.c, include/exec/poison.h, tests/Makefile.include, tests/vhost-user-test.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,558e8c6139a5f517433b6f1779b2df8a0b4ff610,4387b78ac31279cd575658d02fcea26e743a1c79,Peter Xu,2019-02-12,"i386/kvm: ignore masked irqs when update msi routes\n\nWhen we are with intel-iommu device and with IR on, KVM will register\nan IEC notifier to detect interrupt updates from the guest and we'll\nkick off kvm_update_msi_routes_all() when it happens to make sure\nkernel IRQ cache is matching the latest.\n\nThough, kvm_update_msi_routes_all() is buggy in that it ignored the\nmask bit of either MSI/MSIX messages and it tries to translate the\nmessage even if the corresponding message was already masked by the\nguest driver (hence the MSI/MSIX message will be invalid).\n\nWithout this patch, we can receive an error message when we reboot a\nguest with both an assigned vfio-pci device and intel-iommu enabled:\n\n  qemu-system-x86_64: vtd_interrupt_remap_msi: MSI address low 32 bit invalid: 0x0\n\nThe error does not affect functionality of the guest since when we\nfailed to translate we'll just silently continue (which makes sense\nsince crashing the VM for this seems even worse), but still it's\nbetter to fix it up.\n\nSigned-off-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-Id: <20190116030815.27273-5-peterx@redhat.com>\n[PMD: this patch was first (incorrectly) introduced as a56de056c91f8]\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20190212140621.17009-4-philmd@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Peter Xu <peterx@redhat.com>",1,0.9625205397605896,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,763e10f7bb6413c745edf36e9e806c3d626c8262,fc3dbb90f2eb069801bfb4cfe9cbc83cf9c5f4a9,Peter Maydell,2019-02-21,"hw/arm/armsse: Fix memory leak in error-exit path\n\nCoverity points out (CID 1398632, CID 1398650) that we\nleak a couple of allocated strings in the error-exit\ncode path for setting up the MHUs in the ARMSSE.\nFix this bug by moving the allocate-and-free of each\nstring to be closer to the use, so we do the free before\ndoing the error-exit check.\n\nFixes: f8574705f62b38a (""hw/arm/armsse: Add unimplemented-device stubs for MHUs"")\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20190215113707.24553-1-peter.maydell@linaro.org",1,0.9997223019599916,"ARM, ARMSSE",hw/arm/armsse.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6c1f6f2733a7692793135ea5ce72b829add99a50,e80941bd64cc388554770fd72334e9e7d459a1ef,Richard Henderson,2019-02-21,target/arm: Implement ARMv8.3-JSConv\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20190215192302.27855-5-richard.henderson@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\n[PMM: fixed a couple of comment typos]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9989669322967528,ARM,"target/arm/cpu.c, target/arm/cpu.h, target/arm/cpu64.c, target/arm/helper.h, target/arm/translate-a64.c, target/arm/translate.c, target/arm/vfp_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8c6edfdd90522caa4fc429144d393aba5b99f584,9e564a1dde5abc7ae4cebc115142f685d98938d7,David Hildenbrand,2019-02-21,"include/exec/helper-head.h: support ""const void *"" in helper calls\n\nEspecially when dealing with out-of-line gvec helpers, it is often\nhelpful to specify some vector pointers as constant. E.g. when\nwe have two inputs and one output, marking the two inputs as consts\npointers helps to avoid bugs.\n\nConst pointers can be specified via ""cptr"", however behave in TCG just\nlike ordinary pointers. We can specify helpers like:\n\nDEF_HELPER_FLAGS_4(gvec_vbperm, TCG_CALL_NO_RWG, void, ptr, cptr, cptr, i32)\n\nvoid HELPER(gvec_vbperm)(void *v1, const void *v2, const void *v3,\n                         uint32_t desc)\n\nAnd make sure that here, only v1 will be written (as long as const is\nnot casted away, of course).\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20190221093459.22547-1-david@redhat.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9989926218986512,TCG,include/exec/helper-head.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,567d7d3e6be5e84741655729aebf78c7257ed043,fc3dbb90f2eb069801bfb4cfe9cbc83cf9c5f4a9,Alex Williamson,2019-02-21,"vfio/common: Work around kernel overflow bug in DMA unmap\n\nA kernel bug was introduced in v4.15 via commit 71a7d3d78e3c which\nadds a test for address space wrap-around in the vfio DMA unmap path.\nUnfortunately due to overflow, the kernel detects an unmap of the last\npage in the 64-bit address space as a wrap-around.  In QEMU, a Q35\nguest with VT-d emulation and guest IOMMU enabled will attempt to make\nsuch an unmap request during VM system reset, triggering an error:\n\n  qemu-kvm: VFIO_UNMAP_DMA: -22\n  qemu-kvm: vfio_dma_unmap(0x561f059948f0, 0xfef00000, 0xffffffff01100000) = -22 (Invalid argument)\n\nHere the IOVA start address (0xfef00000) and the size parameter\n(0xffffffff01100000) add to exactly 2^64, triggering the bug.  A\nkernel fix is queued for the Linux v5.0 release to address this.\n\nThis patch implements a workaround to retry the unmap, excluding the\nfinal page of the range when we detect an unmap failing which matches\nthe requirements for this issue.  This is expected to be a safe and\ncomplete workaround as the VT-d address space does not extend to the\nfull 64-bit space and therefore the last page should never be mapped.\n\nThis workaround can be removed once all kernels with this bug are\nsufficiently deprecated.\n\nLink: https://bugzilla.redhat.com/show_bug.cgi?id=1662291\nReported-by: Pei Zhang <pezhang@redhat.com>\nDebugged-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9996684789657592,"Q35, VFIO","hw/vfio/common.c, hw/vfio/trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b81a5f9427270133c27ab660c0054b277b2728d7,ee1cd0099ab04f748c6d839e4f4d9a41b21e7399,Daniel P. Berrang,2019-02-15,"hw/smbios: fix offset of type 3 sku field\n\nThe type 3 SMBIOS structure[1] ends with fields\n\n  ...\n  0x14  - contained element count\n  0x15  - contained element record length\n  0x16  - sku number\n\nThe smbios_type_3 struct missed the contained element record\nlength field, causing sku number to be reported at the wrong\noffset.\n\n[1] https://www.dmtf.org/sites/default/files/standards/documents/DSP0134_3.1.1.pdf\n\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>\nMessage-Id: <20190215153600.1770727-1-berrange@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nFixes: e41fca3da72\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997099041938782,SMBIOS,"hw/smbios/smbios.c, include/hw/firmware/smbios.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,88c869198aa630e0477d653d0abf3f42c7c44d1f,b81a5f9427270133c27ab660c0054b277b2728d7,Alex Williamson,2019-02-19,"pci: Sanity test minimum downstream LNKSTA\n\nThe entire link status register for SR-IOV VFs is defined as RsvdZ,\nreads simply return zero.  Usually this is nothing more than lspci\nreporting inconsequentially broken values:\n\n    LnkSta: Speed unknown, Width x0, ...\n\nHowever, now that we're using the downstream endpoint link status to\nfill in the value at the parent downstream port, invalid values become\na problem.  In particular, the PCIe hotplug driver in Linux looks for\na valid negotiated link width and will fail to enumerate hot-added\ndownstream endpoints without non-zero value here, ex:\n\n    pciehp 0000:00:02.0:pcie004: Slot(0): Attention button pressed\n    pciehp 0000:00:02.0:pcie004: Slot(0) Powering on due to button press\n    pciehp 0000:00:02.0:pcie004: Slot(0): Card present\n    pciehp 0000:00:02.0:pcie004: Slot(0): Link Up\n    pciehp 0000:00:02.0:pcie004: link training error: status 0x2000\n    pciehp 0000:00:02.0:pcie004: Failed to check link status\n\nResolve by using minimum width and speed values for the downstream\nport link status when the endpoint fails to provide valid values.\nLong term, we may want to implement emulation in the vfio-pci host\ndriver to suppliment this field with the PF value as the SR-IOV spec\nseems to allow, but the solution here is compatible should that be\nimplemented later.\n\nFixes: 727b48661f75 (""pci: Sync PCIe downstream port LNKSTA on read"")\nReported-by: Jens Freimann <jfreimann@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>\nMessage-Id: <155060310248.19547.14979269067689441201.stgit@gimli.home>\nTested-by: Jens Freimann <jfreimann@redhat.com>\nReviewed-by: Marcel Apfelbaum <marcel.apfelbaum@gmail.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999626636505127,PCI,hw/pci/pcie.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cc61b0740f9b99942f18cc850eeffa302f4f328e,fb695c74aa43c9bdc67b3079cddec1cc8e1b913e,Max Reitz,2019-02-01,"block/nvme: Fix bdrv_refresh_filename()\n\nCurrently, nvme's bdrv_refresh_filename() is an exact copy of null's\nimplementation.  However, for null, ""null-co://"" and ""null-aio://"" are\nindeed valid filenames -- for nvme, they are not, as a device address is\nstill required.\n\nThe correct implementation should generate a filename of the form\n""nvme://[PCI address]/[namespace]"" (as the comment above\nnvme_parse_filename() describes).\n\nSigned-off-by: Max Reitz <mreitz@redhat.com>\nReviewed-by: Alberto Garcia <berto@igalia.com>\nMessage-id: 20190201192935.18394-27-mreitz@redhat.com\nSigned-off-by: Max Reitz <mreitz@redhat.com>",1,0.99973863363266,PCI,block/nvme.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0d9d4872e54945c161933f1c1f6eddf1f18dfc90,b8165118f52ce5ee88565d3cec83d30374efdc96,David Hildenbrand,2019-02-18,"tests/device-plug: Add a simple PCI unplug request test\n\nThe issue with testing asynchronous unplug requests it that they usually\nrequire a running guest to handle the request. However, to test if\nunplug of PCI devices works, we can apply a nice little trick on some\narchitectures:\n\nOn system reset, x86 ACPI, s390x and spapr will perform the unplug,\nresulting in the device of interest to get deleted and a DEVICE_DELETED\nevent getting sent.\n\nOn s390x, we still get a warning\n    qemu-system-s390x: -device virtio-mouse-pci,id=dev0:\n    warning: Plugging a PCI/zPCI device without the 'zpci' CPU feature\n    enabled; the guest will not be able to see/use this device\n\nThis will be fixed soon, when we enable the zpci CPU feature always\n(Conny already has a patch for this queued).\n\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Collin Walling <walling@linux.ibm.com>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20190218092202.26683-4-david@redhat.com>\nAcked-by: Cornelia Huck <cohuck@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9994377493858336,"ACPI, PCI","tests/Makefile.include, tests/device-plug-test.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0f74e61d5b4a7002d0b502b0de8d6531d9f9e5e8,520e210c0aa693465b6fab8e01663ad5ee16e1e7,Aleksandar Markovic,2019-02-26,disas: nanoMIPS: Fix a function misnomer\n\nRename function extract_ac_13_12() to extract_ac_15_14().\n\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nReviewed-by: Aleksandar Rikalo <arikalo@wavecomp.com>\nMessage-Id: <1551185735-17154-3-git-send-email-aleksandar.markovic@rt-rk.com>,1,0.9995421171188354,MIPS,"disas/nanomips.cpp, disas/nanomips.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2ac4c5f4d2415116d3f417a32311d437791dcfce,93198b6cad8af03996373584284a1673ad6000cb,Corey Minyard,2018-11-14,"i2c: have I2C receive operation return uint8_t\n\nIt is never supposed to fail and cannot return an error, so just\nhave it return the proper type.  Have it return 0xff on nothing\navailable, since that's what would happen on a real bus.\n\nSigned-off-by: Corey Minyard <cminyard@mvista.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nTested-by: Philippe Mathieu-Daud <philmd@redhat.com>",1,0.9982607960700988,I2C,"hw/arm/pxa2xx.c, hw/arm/tosa.c, hw/arm/z2.c, hw/audio/wm8750.c, hw/display/sii9022.c, hw/display/ssd0303.c, hw/gpio/max7310.c, hw/i2c/core.c, hw/i2c/i2c-ddc.c, hw/i2c/smbus_slave.c, hw/input/lm832x.c, hw/misc/pca9552.c, hw/misc/tmp105.c, hw/misc/tmp421.c, hw/nvram/eeprom_at24c.c, hw/timer/ds1338.c, hw/timer/m41t80.c, hw/timer/twl92230.c, include/hw/i2c/i2c.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bc15cde0c4acc9128f26ff78f99ce34a59200d5e,05f9f17e2caf249e9454f43e0c3751b2d06e1c06,Corey Minyard,2018-11-20,"i2c: Don't check return value from i2c_recv()\n\ni2c_recv() cannot fail, so there is no need to check the return\nvalue.  It also returns unt8_t, so comparing with < 0 is not\nmeaningful.\n\nFix up various I2C controllers to remove the unneeded code.\n\nSigned-off-by: Corey Minyard <cminyard@mvista.com>\nSuggested-by: Peter Maydell <peter.maydell@linaro.org>",1,0.7514463663101196,I2C,"hw/i2c/aspeed_i2c.c, hw/i2c/exynos4210_i2c.c, hw/i2c/imx_i2c.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,52cc6a492b6c6e668f99e13d3cfad5caf7fbfd1c,7fccf2a06890e3bc3b30e29827ad3fb93fe88fea,Corey Minyard,2018-11-14,"i2c:pm_smbus: Fix pm_smbus handling of I2C block read\n\nThe I2C block read function of pm_smbus was completely broken.  It\nrequired doing some direct I2C handling because it didn't have a\ndefined size, the OS code just reads bytes until it marks the\ntransaction finished.\n\nThis also required adjusting how the AMIBIOS workaround code worked,\nthe I2C block mode was setting STS_HOST_BUSY during a transaction,\nso that bit could no longer be used to inform the host status read\ncode to start the transaction.  Create a explicit bool for that\noperation.\n\nAlso, don't read the next byte from the device in byte-by-byte\nmode unless the OS is actually clearing the byte done bit.  Just\nassuming that's what the OS is doing is a bad idea.\n\nSigned-off-by: Corey Minyard <cminyard@mvista.com>",1,0.9997132420539856,I2C,"hw/i2c/pm_smbus.c, include/hw/i2c/pm_smbus.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,572280e2c233e5b335e5de03c75e964da77c4bf1,aec2b887845e41a9fd9ee852edb10ec9bdf67b05,Thomas Huth,2019-02-19,"MAINTAINERS: Clean up the RISC-V TCG backend section\n\nThe e-mail address mjc@sifive.com of Michael is not valid anymore.\nCommit 7d04ac38959f8115f2a02 removed the entry already from the main\nRISC-V section, but apparently forgot to remove it from the TCG\nbackend section, too.\n\nFixes: 7d04ac38959f8115f2a029d81db1c8aac179aa95\nReviewed-by: Palmer Dabbelt <palmer@sifive.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9689714908599854,TCG,MAINTAINERS,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,068e538a54552289a58689f21c99ed3696e59961,89bec9e9117d454d2101f7848475b11677ca99ff,Max Filippov,2019-02-13,"target/xtensa: prioritize load/store in FLIX bundles\n\nLoad/store opcodes may raise MMU exceptions. Normally exceptions should\nbe checked in priority order before any actual operations, but since MMU\nexceptions are tightly coupled with actual memory access, there's\ncurrently no way to do it.\n\nApproximate this behavior by executing all load, then all store, and\nthen all other opcodes in the FLIX bundles. Use opcode dependency\nmechanism to express ordering. Mark load/store opcodes with\nXTENSA_OP_{LOAD,STORE} flags. Newer libisa has classifier functions that\ncan tell whether opcode is a load or store, but this information is not\navailable in the existing overlays.\n\nSigned-off-by: Max Filippov <jcmvbkbc@gmail.com>",1,0.9988709092140198,XTENSA,"target/xtensa/cpu.h, target/xtensa/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2aea83c6728f5006e07e4f148c2798441683fe86,8772bbe4e7cc7d67792440b0e7ea819e3cc930db,David Hildenbrand,2019-02-18,"s390x/tcg: Handle SET FPC AND LOAD FPC 3-bit BFP rounding modes\n\nWe already forward the 3 bits correctly in the translation functions. We\nalso have to handle them properly and check for specification\nexceptions.\n\nSetting an invalid rounding mode (BFP only, all DFP rounding modes)\nresults in a specification exception. Setting unassigned bits in the\nfpc, results in a specification exception.\n\nThis fixes LOAD FPC (AND SIGNAL), SET FPC (AND SIGNAL). Also for,\nSET BFP ROUNDING MODE, 3-bit rounding mode is now explicitly checked.\n\nNote: TCG_CALL_NO_WG is required for sfpc handler, as we now inject\nexceptions.\n\nWe won't be modeling abscence of the ""floating-point extension facility""\nfor now, not necessary as most take the facility for granted without\nchecking.\n\nz14 PoP, 9-23, ""LOAD FPC""\n    When the floating-point extension facility is\n    installed, bits 29-31 of the second operand must\n    specify a valid BFP rounding mode and bits 6-7,\n    14-15, 24, and 28 must be zero; otherwise, a\n    specification exception is recognized.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20190218122710.23639-9-david@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9997171759605408,TCG,"target/s390x/fpu_helper.c, target/s390x/helper.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dc0ca80eb1ea43fb0e65f7607c0c400feb30eeda,350a9c9e181b1986163e445b27c3a67722ded91b,Eric Auger,2019-03-04,"hw/boards: Add a MachineState parameter to kvm_type callback\n\nOn ARM, the kvm_type will be resolved by querying the KVMState.\nLet's add the MachineState handle to the callback so that we\ncan retrieve the  KVMState handle. in kvm_init, when the callback\nis called, the kvm_state variable is not yet set.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nMessage-id: 20190304101339.25970-5-eric.auger@redhat.com\n[ppc parts]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9953075051307678,"ARM, KVM","accel/kvm/kvm-all.c, hw/ppc/mac_newworld.c, hw/ppc/mac_oldworld.c, hw/ppc/spapr.c, include/hw/boards.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,314aec4a6e06844937f1677f6cba21981005f389,336cfef495f0cd5b1606251c52628d0372e9a809,Stefan Hajnoczi,2019-02-14,hostmem-file: reject invalid pmem file sizes\n\nGuests started with NVDIMMs larger than the underlying host file produce\nconfusing errors inside the guest.  This happens because the guest\naccesses pages beyond the end of the file.\n\nCheck the pmem file size on startup and print a clear error message if\nthe size is invalid.\n\nFixes: https://bugzilla.redhat.com/show_bug.cgi?id=1669053\nCc: Wei Yang <richardw.yang@linux.intel.com>\nCc: Zhang Yi <yi.z.zhang@linux.intel.com>\nCc: Eduardo Habkost <ehabkost@redhat.com>\nCc: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-Id: <20190214031004.32522-3-stefanha@redhat.com>\nReviewed-by: Wei Yang <richardw.yang@linux.intel.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Pankaj Gupta <pagupta@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>,1,0.999722421169281,"DIMM, NVDIMM","backends/hostmem-file.c, include/qemu/osdep.h, util/oslib-posix.c, util/oslib-win32.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fcfd1bcc30c33795ca66b2f4f6c5bb4438e62865,97575f928fe95515a4855487b233506e75675f66,David Abdurachmanov,2019-03-11,"riscv/Kconfig: enable PCI_DEVICES\n\nRe-enable PCI_DEVICES for RISC-V.\nThe patch is based on other <arch>/Kconfig.\n\nSigned-off-by: David Abdurachmanov <david.abdurachmanov@gmail.com>\nFixes: 82a230d5a303 (""riscv-softmmu.mak: replace CONFIG_* with Kconfig ""select"" directives"")\nMessage-Id: <20190311091256.18385-1-david.abdurachmanov@gmail.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9959851503372192,"PCI, PCI_DEVICES",hw/riscv/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d804232dc4a5400494442b04e0a066711f4f5b44,f24c3a79a415042f6dc195f029a2ba7247d14cac,Greg Kurz,2019-02-28,"virtio-scsi: Fix build with gcc 9\n\nBuild fails with gcc 9:\n\n  CC      ppc64-softmmu/hw/scsi/virtio-scsi.o\nhw/scsi/virtio-scsi.c: In function virtio_scsi_do_tmf:\nhw/scsi/virtio-scsi.c:265:39: error: taking address of packed member of struct virtio_scsi_ctrl_tmf_req may result in an unaligned pointer value [-Werror=address-of-packed-member]\n  265 |     virtio_tswap32s(VIRTIO_DEVICE(s), &req->req.tmf.subtype);\n      |                                       ^~~~~~~~~~~~~~~~~~~~~\ncc1: all warnings being treated as errors\n\nAll the fields in struct virtio_scsi_ctrl_tmf_req are naturally aligned,\nso we could in theory drop QEMU_PACKED. Unfortunately, the header file\nis imported from linux which already has the packed attribute. Trying to\nfix that in the update-linux-headers.sh script is likely to produce\nugliness. Turn the call to virtio_tswap32s() into an assignment instead.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <155137678223.44753.5438092367451176318.stgit@bahia.lan>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996899366378784,VIRTIO,hw/scsi/virtio-scsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b0c214ce4145e35a39362b8a3da88b4908ca7c71,74970d35b43036c4dbfaf4c8bef8517c2b1ec6aa,Anthony PERARD,2019-01-16,"accel: Allow to build QEMU without TCG or KVM support\n\nInstead of deny build of QEMU without a default accelerator, simply\nreport an error when the user haven't passed -accel or -machine accel=\nand TCG and KVM isn't builtin.\n\n./configure already check that at least one accelerator is available.\n\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996552467346193,"KVM, TCG",accel/accel.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7776ea6b49873ed18a2111e25ed8a6d94bd73db8,02cdcc96be77a5fdcb1647eb399efef37c107986,Philippe Mathieu-Daud,2019-03-07,"configure: Disable W^X on OpenBSD\n\nSince OpenBSD 6.0 [1], W^X is enforced by default [2].\nTCG requires WX access. Disable W^X if it is available.\nThis fixes:\n\n  # lm32-softmmu/qemu-system-lm32\n  Could not allocate dynamic translator buffer\n\n  # sysctl kern.wxabort=1\n  kern.wxabort: 0 -> 1\n  # lm32-softmmu/qemu-system-lm32\n  mmap: Not supported\n  Abort trap (core dumped)\n  # gdb -q lm32-softmmu/qemu-system-lm32 qemu-system-lm32.core\n  (gdb) bt\n  #0  0x000017e3c156c50a in _thread_sys___syscall () at {standard input}:5\n  #1  0x000017e3c15e5d7a in *_libc_mmap (addr=Variable ""addr"" is not available.) at /usr/src/lib/libc/sys/mmap.c:47\n  #2  0x000017e17d9abc8b in alloc_code_gen_buffer () at /usr/src/qemu/accel/tcg/translate-all.c:1064\n  #3  0x000017e17d9abd04 in code_gen_alloc (tb_size=0) at /usr/src/qemu/accel/tcg/translate-all.c:1112\n  #4  0x000017e17d9abe81 in tcg_exec_init (tb_size=0) at /usr/src/qemu/accel/tcg/translate-all.c:1149\n  #5  0x000017e17d9897e9 in tcg_init (ms=0x17e45e456800) at /usr/src/qemu/accel/tcg/tcg-all.c:66\n  #6  0x000017e17d9891b8 in accel_init_machine (acc=0x17e3c3f50800, ms=0x17e45e456800) at /usr/src/qemu/accel/accel.c:63\n  #7  0x000017e17d989312 in configure_accelerator (ms=0x17e45e456800, progname=0x7f7fffff07b0 ""lm32-softmmu/qemu-system-lm32"") at /usr/src/qemu/accel/accel.c:111\n  #8  0x000017e17d9d8616 in main (argc=1, argv=0x7f7fffff06b8, envp=0x7f7fffff06c8) at vl.c:4325\n\n[1] https://www.openbsd.org/faq/upgrade60.html\n[2] https://undeadly.org/cgi?action=article&sid=20160527203200\n\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20190307142822.8531-3-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9988382458686828,TCG,configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2d93bebf81520ccebeb9a3ea9bd051ce088854ea,1643406520f8ff6f4cc11062950f5f898b03b573,Markus Armbruster,2019-03-08,"pflash_cfi01: Do not exit() on guest aborting ""write to buffer""\n\nWhen a guest tries to abort ""write to buffer"" (command 0xE8), we print\n""PFLASH: Possible BUG - Write block confirm"", then exit(1).  Letting\nthe guest terminate QEMU is not a good idea.  Instead, LOG_UNIMP we\nscrewed up, then reset the device.\n\nMacro PFLASH_BUG() is now unused; delete it.\n\nSuggested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nMessage-Id: <20190308094610.21210-3-armbru@redhat.com>",1,0.8291125893592834,UNIMP,hw/block/pflash_cfi01.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,16107998761c1ce97d5c1d56a3e7092acb27d8d1,377b155bde451d5ac545fbdcdfbf6ca17a4228f5,Alexey Kardashevskiy,2019-02-27,"vfio/spapr: Fix indirect levels calculation\n\nThe current code assumes that we can address more bits on a PCI bus\nfor DMA than we really can but there is no way knowing the actual limit.\n\nThis makes a better guess for the number of levels and if the kernel\nfails to allocate that, this increases the level numbers till succeeded\nor reached the 64bit limit.\n\nThis adds levels to the trace point.\n\nThis may cause the kernel to warn about failed allocation:\n   [65122.837458] Failed to allocate a TCE memory, level shift=28\nwhich might happen if MAX_ORDER is not large enough as it can vary:\nhttps://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/powerpc/Kconfig?h=v5.0-rc2#n727\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nMessage-Id: <20190227085149.38596-3-aik@ozlabs.ru>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997263550758362,PCI,"hw/vfio/spapr.c, hw/vfio/trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,399b2896d4948a1ec0278d896ea3a561df768d64,edaa7995591eb51c9ae2c82267ca443f6921ff89,Suraj Jitindar Singh,2019-03-01,"target/ppc/spapr: Add workaround option to SPAPR_CAP_IBS\n\nThe spapr_cap SPAPR_CAP_IBS is used to indicate the level of capability\nfor mitigations for indirect branch speculation. Currently the available\nvalues are broken (default), fixed-ibs (fixed by serialising indirect\nbranches) and fixed-ccd (fixed by diabling the count cache).\n\nIntroduce a new value for this capability denoted workaround, meaning that\nsoftware can work around the issue by flushing the count cache on\ncontext switch. This option is available if the hypervisor sets the\nH_CPU_BEHAV_FLUSH_COUNT_CACHE flag in the cpu behaviours returned from\nthe KVM_PPC_GET_CPU_CHAR ioctl.\n\nSigned-off-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nMessage-Id: <20190301031912.28809-1-sjitindarsingh@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996625185012816,"KVM, PPC","hw/ppc/spapr_caps.c, hw/ppc/spapr_hcall.c, include/hw/ppc/spapr.h, target/ppc/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8ff43ee404d3e295839d1fd4e9e6571ca7a62a66,399b2896d4948a1ec0278d896ea3a561df768d64,Suraj Jitindar Singh,2019-03-01,"target/ppc/spapr: Add SPAPR_CAP_CCF_ASSIST\n\nIntroduce a new spapr_cap SPAPR_CAP_CCF_ASSIST to be used to indicate\nthe requirement for a hw-assisted version of the count cache flush\nworkaround.\n\nThe count cache flush workaround is a software workaround which can be\nused to flush the count cache on context switch. Some revisions of\nhardware may have a hardware accelerated flush, in which case the\nsoftware flush can be shortened. This cap is used to set the\navailability of such hardware acceleration for the count cache flush\nroutine.\n\nThe availability of such hardware acceleration is indicated by the\nH_CPU_CHAR_BCCTR_FLUSH_ASSIST flag being set in the characteristics\nreturned from the KVM_PPC_GET_CPU_CHAR ioctl.\n\nSigned-off-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nMessage-Id: <20190301031912.28809-2-sjitindarsingh@gmail.com>\n[dwg: Small style fixes]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9986475110054016,"KVM, PPC, SSI","hw/ppc/spapr.c, hw/ppc/spapr_caps.c, hw/ppc/spapr_hcall.c, include/hw/ppc/spapr.h, target/ppc/kvm.c, target/ppc/kvm_ppc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,176dcceedd084bc2db0a3e92123e2cfb453336e7,f2a3b549e357041f86d7e61432e4d7e522859b58,Suraj Jitindar Singh,2019-03-05,"target/ppc/spapr: Clear partition table entry when allocating hash table\n\nIf we allocate a hash page table then we know that the guest won't be\nusing process tables, so set the partition table entry maintained for\nthe guest to zero. If this isn't done, then the guest radix bit will\nremain set in the entry. This means that when the guest calls\nH_REGISTER_PROCESS_TABLE there will be a mismatch between then flags\nand the value in spapr->patb_entry, and the call will fail. The guest\nwill then panic:\n\nFailed to register process table (rc=-4)\nkernel BUG at arch/powerpc/platforms/pseries/lpar.c:959\n\nThe result being that it isn't possible to boot a hash guest on a P9\nsystem.\n\nAlso fix a bug in the flags parsing in h_register_process_table() which\nwas introduced by the same patch, and simplify the handling to make it\nless likely that errors will be introduced in the future. The effect\nwould have been setting the host radix bit LPCR_HR for a hash guest\nusing process tables, which currently isn't supported and so couldn't\nhave been triggered.\n\nFixes: 00fd075e18 ""target/ppc/spapr: Set LPCR:HR when using Radix mode""\n\nSigned-off-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nMessage-Id: <20190305022102.17610-1-sjitindarsingh@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9994295239448548,REGISTER,"hw/ppc/spapr.c, hw/ppc/spapr_hcall.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7abb479c7abd1f03da09f34cd77d25ecf66aac82,68f9f7084146b48acb68c606b81edcb04d69d41c,Andrew Randrianasulu,2019-03-06,"PPC: E500: Add FSL I2C controller and integrate RTC with it\n\nOriginal commit message:\nThis patch adds an emulation model for i2c controller found on most of the FSL SoCs.\nIt also integrates the RTC (ds1338) that sits on the i2c Bus with e500 machine model.\n\nPatch was originally written by Amit Singh Tomar <amit.tomar@freescale.com>\nsee http://patchwork.ozlabs.org/patch/431475/\nI only fixed it enough for application on top of current qemu master\n20b084c4b1401b7f8fbc385649d48c67b6f43d44, and hopefully fixed checkpatch errors\n\nTested by booting Linux kernel 4.20.12. Now e500 machine doesn't need\nnetwork time protocol daemon because it will have working RTC\n(before all timestamps on files were from 2016)\n\nSigned-off-by: Amit Singh Tomar <amit.tomar@freescale.com>\nSigned-off-by: Andrew Randrianasulu <randrianasulu@gmail.com>\nMessage-Id: <20190306102812.28972-1-randrianasulu@gmail.com>\n[dwg: Add Kconfig stanza to define the new symbol, update MAINTAINERS]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9980136156082152,"E500, I2C, PPC","MAINTAINERS, default-configs/ppc-softmmu.mak, hw/i2c/Kconfig, hw/i2c/Makefile.objs, hw/i2c/mpc_i2c.c, hw/ppc/e500.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5f3666672255cbd00ce96fb5688dfca25a4c4d55,f7eb6a0a9b9326d3daae4bf0d9c664c8e79bea39,Alexey Kardashevskiy,2019-03-07,"spapr_iommu: Do not replay mappings from just created DMA window\n\nOn sPAPR vfio_listener_region_add() is called in 2 situations:\n1. a new listener is registered from vfio_connect_container();\n2. a new IOMMU Memory Region is added from rtas_ibm_create_pe_dma_window().\n\nIn both cases vfio_listener_region_add() calls\nmemory_region_iommu_replay() to notify newly registered IOMMU notifiers\nabout existing mappings which is totally desirable for case 1.\n\nHowever for case 2 it is nothing but noop as the window has just been\ncreated and has no valid mappings so replaying those does not do anything.\nIt is barely noticeable with usual guests but if the window happens to be\nreally big, such no-op replay might take minutes and trigger RCU stall\nwarnings in the guest.\n\nFor example, a upcoming GPU RAM memory region mapped at 64TiB (right\nafter SPAPR_PCI_LIMIT) causes a 64bit DMA window to be at least 128TiB\nwhich is (128<<40)/0x10000=2.147.483.648 TCEs to replay.\n\nThis mitigates the problem by adding an ""skipping_replay"" flag to\nsPAPRTCETable and defining sPAPR own IOMMU MR replay() hook which does\nexactly the same thing as the generic one except it returns early if\n@skipping_replay==true.\n\nAnother way of fixing this would be delaying replay till the very first\nH_PUT_TCE but this does not work if in-kernel H_PUT_TCE handler is\nenabled (a likely case).\n\nWhen ""ibm,create-pe-dma-window"" is complete, the guest will map only\nrequired regions of the huge DMA window.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nMessage-Id: <20190307050518.64968-2-aik@ozlabs.ru>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9966204166412354,PCI,"hw/ppc/spapr_iommu.c, hw/ppc/spapr_rtas_ddw.c, include/hw/ppc/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,647aee9ba2f708f1533977189c3db4dcccc21d95,be5cac175aaff7776fb4825c288b4fe8cbc1dc44,Stefan Hajnoczi,2018-11-29,tests/tcg/arm: add ARMv6-M UNDEFINED 32-bit instruction test\n\nTest that 32-bit instructions declared UNDEFINED in the ARMv6-M\nReference Manual really do raise an exception.  Also test that the 6\n32-bit instructions defined in the ARMv6-M Reference Manual do not raise\nan exception.\n\nBased-on: <20181029194519.15628-1-stefanha@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-Id: <20181129185113.30353-1-stefanha@redhat.com>\n[AJB: integrated into system tests]\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>,1,0.9980746507644652,ARM,"tests/tcg/arm/Makefile.softmmu-target, tests/tcg/arm/test-armv6m-undef.S, tests/tcg/arm/test-armv6m-undef.ld",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ae440bd14c002f3a5528bd38e8a285ea625c04ca,9d867123659ac32edd2a0b64cabe2dca544f1d0e,Wei Wang,2019-03-12,"virtio-balloon: fix a use-after-free case\n\nThe elem could theorically contain both outbuf and inbufs. We move the\nfree operation to the end of this function to avoid using elem->in_sg\nwhile elem has been freed.\n\nFixes: c13c4153f7\n(""virtio-balloon: VIRTIO_BALLOON_F_FREE_PAGE_HINT"")\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Wei Wang <wei.w.wang@intel.com>\nCC: Michael S. Tsirkin <mst@redhat.com>\nCC: Dr. David Alan Gilbert <dgilbert@redhat.com>\nCC: Juan Quintela <quintela@redhat.com>\nCC: Peter Xu <peterx@redhat.com>\nMessage-Id: <1552383280-4122-1-git-send-email-wei.w.wang@intel.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997029900550842,"VIRTIO, VIRTIO_BALLOON",hw/virtio/virtio-balloon.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ba275e9d28a2f4572325dceb867edebcff471fea,596546fe9e4d1d1fa6423c300e2a73b6f90baeb0,Marc-Andr Lureau,2019-03-08,"libvhost-user: fix clang enum-conversion warning\n\nNow that the VhostUserMsg.request field is used for both master &\nslave requests, since commit d84599f56c820d8c1ac9928a76500dcdfbbf194d:\n\ncontrib/libvhost-user/libvhost-user.c:953:20: error: implicit conversion from enumeration type 'enum VhostUserSlaveRequest' to different enumeration type 'VhostUserRequest' (aka 'enum VhostUserRequest') [-Werror,-Wenum-conversion]\n        .request = VHOST_USER_SLAVE_VRING_HOST_NOTIFIER_MSG,\n                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20190308140454.32437-2-marcandre.lureau@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996877908706664,VHOST_USER,contrib/libvhost-user/libvhost-user.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6079865526474dea7d8680ed2cf0b6d15ac6e99f,0b99f22461e59ec7a31c75ebc4c057a45dd9e9a5,Marc-Andr Lureau,2019-03-08,"libvhost-user: exit by default on VHOST_USER_NONE\n\nSince commit 2566378d6d13bf4d28c7770bdbda5f7682594bbe, libvhost-user\nno longer panics on disconnect (rc == 0), and instead silently ignores\nan invalid VHOST_USER_NONE message.\n\nWithout extra work from the API user, this will simply busy-loop on\nHUP events. The obvious thing to do is to exit(0) instead, while\nadditional or different work can be done by overriding\niface->process_msg().\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Jens Freimann <jfreimann@redhat.com>\nMessage-Id: <20190308140454.32437-5-marcandre.lureau@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9961591958999634,VHOST_USER,contrib/libvhost-user/libvhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,41c4fb94aa8a6a16bd107687cd3b5204c68a4042,67d80321f26d9ea2b623ffac567a2f758ceae037,Eric Auger,2019-03-15,hw/arm/virt-acpi-build: Fix SMMUv3 GSIV values\n\nThe GSIV numbers of the SPI based interrupts is not correct as\nARM_SPI_BASE was not added to the irqmap[VIRT_SMMU] value. So\nthis may collide with VIRTIO_MMIO irq window.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nMessage-id: 20190312091031.5185-1-eric.auger@redhat.com\nReviewed-by: Shannon Zhao <shannon.zhaosl@gmail.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9996687173843384,"ARM, VIRTIO, VIRTIO_MMIO",hw/arm/virt-acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb42a5867e7677a9fa1885a8436d3e7e8cbeeee9,d151f5debdf1fe33014205e271e2cedd8fc824a2,Kamal Heib,2019-02-27,"hw/rdma: Fix the error prints in create_qp_rings()\n\nThe prints should indicate that we are talking about QP and not CQ.\n\nFixes: 98d176f8e592 (""hw/rdma: PVRDMA commands and data-path ops"")\nReviewed-by: Yuval Shaia <yuval.shaia@oracle.com>\nSigned-off-by: Kamal Heib <kamalheib1@gmail.com>\nMessage-Id: <20190227085546.23690-1-kamalheib1@gmail.com>\nSigned-off-by: Marcel Apfelbaum <marcel.apfelbaum@gmail.com>",1,0.9997034668922424,PVRDMA,hw/rdma/vmw/pvrdma_cmd.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cedc0ad539afbbb669dba9e73dfad2915bc1c25b,2ddb89b00f947f785c9ca6742f28f954e3b75e62,"Singh, Brijesh",2019-02-04,"target/i386: sev: Do not pin the ram device memory region\n\nThe RAM device presents a memory region that should be handled\nas an IO region and should not be pinned.\n\nIn the case of the vfio-pci, RAM device represents a MMIO BAR\nand the memory region is not backed by pages hence\nKVM_MEMORY_ENCRYPT_REG_REGION fails to lock the memory range.\n\nFixes: https://bugzilla.redhat.com/show_bug.cgi?id=1667249\nCc: Alex Williamson <alex.williamson@redhat.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Brijesh Singh <brijesh.singh@amd.com>\nMessage-Id: <20190204222322.26766-3-brijesh.singh@amd.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997277855873108,KVM,target/i386/sev.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,996b9cdc2f190a173e48f4c8d64de3d50e570b7b,40cebc58117dbc6275a5d7c4e3ba6611964d9e6e,Matt Hines,2019-01-28,"qga: Fix guest-get-fsinfo PCI address collection in Windows\n\nThe Windows QEMU guest agent erroneously tries to collect PCI information\ndirectly from the physical drive. However, windows stores SCSI/IDE information\nwith the drive and PCI information with the underlying storage controller\nThis changes get_pci_info to use the physical drive's underlying storage\ncontroller to get PCI information.\n\n* Additionally Fixes incorrect size being passed to DeviceIoControl\n  when getting volume extents. Can occasionally crash the guest agent\n\nSigned-off-by: Matt Hines <mhines@scalecomputing.com>\n*fix up some checkpatch warnings\n*fix domain reporting and add some sanity checks for debug\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>",1,0.9996486902236938,"PCI, SCSI","configure, qga/commands-win32.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,49e9fdd741301a891493caf0d3936249504e7fdc,082c0543baa6f237704c83a51658bd7f6ae316d5,David Gibson,2019-03-13,"spapr: Correctly set LPCR[GTSE] in H_REGISTER_PROCESS_TABLE\n\n176dccee ""target/ppc/spapr: Clear partition table entry when allocating\nhash table"" reworked the H_REGISTER_PROCESS_TABLE hypercall, but\nunfortunately due to a small error no longer correctly sets the LPCR[GTSE]\nbit which allows the guest to directly execute (some types of) tlbie (TLB\nflush) instructions without involving the hypervisor.\n\nWe got away with this, initially, because POWER9 did not have hypervisor\nmode enabled in its msr_mask, which meant we didn't actually run hypervisor\nprivilege checks in TCG at all.  However, da874d90 ""target/ppc: add HV\nsupport for POWER9"" turned on HV support on POWER9 for the benefit of the\npowernv machine type.\n\nThis exposed the earlier bug in H_REGISTER_PROCESS_TABLE, and causes guests\nwhich rely on LPCR[GTSE] (i.e. basically all of them) to crash during early\nboot when their first tlbie instruction causes an unexpected trap.\n\nFixes: 176dccee target/ppc/spapr: Clear partition table entry when allocating hash table\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nReviewed-by: Greg Kurz <groug@kaod.org>\nTested-by: Cleber Rosa <crosa@redhat.com>",1,0.998829185962677,"REGISTER, TCG",hw/ppc/spapr_hcall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fa80da7b6984f3a32632da81baea8d4c0c6df68d,aa889f73044ca0566a77e9980a371cc99b7939b6,Philippe Mathieu-Daud,2019-03-16,hw/isa/Kconfig: PIIX4 southbridge requires USB UHCI\n\nThis fixes when configuring with --without-default-devices:\n\n  $ qemu-system-mips64 -bios /dev/null -M malta\n  qemu-system-mips64: Unknown device 'piix4-usb-uhci' for bus 'PCI'\n\nFixes: 7c28b925b7e\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20190316200818.8265-2-philmd@redhat.com>,1,0.999669075012207,"PCI, PIIX4, USB",hw/isa/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,09cba51e4f3ebe3ed726db37f2b00e5c227e4197,fa80da7b6984f3a32632da81baea8d4c0c6df68d,Philippe Mathieu-Daud,2019-03-16,hw/i386/Kconfig: enable devices that can be created by default\n\nThis fixes when configuring with CONFIG_PCI_DEVICES=n:\n\n  $ qemu-system-x86_64 -M q35\n  qemu-system-x86_64: Unsupported NIC model: e1000e\n  $ qemu-system-x86_64 -M pc\n  qemu-system-x86_64: Unsupported NIC model: e1000\n\nFixes: 7c28b925b7e\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20190316200818.8265-4-philmd@redhat.com>,1,0.9989614486694336,"PCI, PCI_DEVICES",hw/i386/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b5ea7070e56dc95dba4019b1dc6e830a6b06ab50,892da02848afa931ebe9d5892d651725f2ff0554,Philippe Mathieu-Daud,2019-03-16,"hw/mips/Kconfig: Fulong 2e board requires ati-vga/rtl8139 PCI devices\n\nThis fixes when configuring with --without-default-devices:\n\n  $ qemu-system-mips64el -bios /dev/null -M fulong2e\n  qemu-system-mips64el: Unknown device 'ati-vga' for bus 'PCI'\n  Aborted (core dumped)\n\n  (gdb) bt\n  #0  0x00007ffff5a2753f in __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:50\n  #1  0x00007ffff5a11895 in __GI_abort () at abort.c:79\n  #2  0x00005555558768d3 in qdev_create (bus=bus@entry=0x5555562664b0, name=name@entry=0x555555b24efb ""ati-vga"") at hw/core/qdev.c:131\n  #3  0x00005555558d15e1 in pci_create_multifunction (bus=bus@entry=0x5555562664b0, devfn=devfn@entry=-1, multifunction=multifunction@entry=false, name=name@entry=0x555555b24efb ""ati-vga"") at hw/pci/pci.c:2104\n  #4  0x00005555558d1a7a in pci_create (bus=bus@entry=0x5555562664b0, devfn=devfn@entry=-1, name=name@entry=0x555555b24efb ""ati-vga"") at hw/pci/pci.c:2121\n  #5  0x0000555555763081 in mips_fulong2e_init (machine=<optimized out>) at hw/mips/mips_fulong2e.c:352\n  #6  0x000055555587e23b in machine_run_board_init (machine=0x5555560b2000) at hw/core/machine.c:1030\n  #7  0x00005555556cbea2 in main (argc=<optimized out>, argv=<optimized out>, envp=<optimized out>) at vl.c:4463\n\nAnd then:\n\n  $ qemu-system-mips64el -bios /dev/null -M fulong2e\n  qemu-system-mips64el: Unsupported NIC model: rtl8139\n\nFixes: 862b4a291dc and 7c28b925b7e\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20190316200818.8265-8-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995608925819396,PCI,default-configs/mips64el-softmmu.mak,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f7b5cdcbf27104d67d8ff860d83c22687f58eece,b5ea7070e56dc95dba4019b1dc6e830a6b06ab50,Philippe Mathieu-Daud,2019-03-16,hw/ppc/Kconfig: Bamboo machine requires e1000 network card\n\nThis fixes when configuring with CONFIG_PCI_DEVICES=n:\n\n  $ qemu-system-ppc64 -bios /dev/null -M bamboo\n  qemu-system-ppc64: Unsupported NIC model: e1000\n\nFixes: 7c28b925b7e\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nMessage-Id: <20190316200818.8265-9-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996800422668456,"PCI, PCI_DEVICES",hw/ppc/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bcb7ef9d1b2f40410869ed2c1ffda769b2ef4ac4,f7b5cdcbf27104d67d8ff860d83c22687f58eece,Philippe Mathieu-Daud,2019-03-16,hw/ppc/Kconfig: e500 based machines require virtio-net-pci device\n\nThis fixes when configuring with CONFIG_PCI_DEVICES=n:\n\n  $ qemu-system-ppc64 -bios /dev/null -M ppce500\n  qemu-system-ppc64: Unsupported NIC model: virtio-net-pci\n\nAnd:\n\n  $ qemu-system-ppc64 -bios /dev/null -M mpc8544ds\n  qemu-system-ppc64: Unsupported NIC model: virtio-net-pci\n\nFixes: 98bd1db99f\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nMessage-Id: <20190316200818.8265-10-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.999350130558014,"PCI, PCI_DEVICES",hw/ppc/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,364efd1a15de02a514188b930937cb04b7968432,bcb7ef9d1b2f40410869ed2c1ffda769b2ef4ac4,Philippe Mathieu-Daud,2019-03-16,hw/sh4/Kconfig: r2d machine requires the rtl8139 network card\n\nThis fixes when configuring with CONFIG_PCI_DEVICES=n:\n\n  $ qemu-system-sh4 -M r2d\n  qemu-system-sh4: Unsupported NIC model: rtl8139\n\nFixes: 7ab58d4c84\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20190316200818.8265-13-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.99967622756958,"PCI, PCI_DEVICES",hw/sh4/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b6dbcdb7b3a1ed8f3df11129e61e8c05daaebbaf,364efd1a15de02a514188b930937cb04b7968432,Philippe Mathieu-Daud,2019-03-16,hw/hppa/Kconfig: Dino board requires e1000 network card\n\nThis fixes when configuring with CONFIG_PCI_DEVICES=n:\n\n  $ qemu-system-hppa\n  qemu-system-hppa: Unsupported NIC model: e1000\n\nFixes: 9483cf27dd\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20190316200818.8265-14-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996620416641236,"PCI, PCI_DEVICES",hw/hppa/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9ad4994661b8e478975475b37488973c5c15116f,b6dbcdb7b3a1ed8f3df11129e61e8c05daaebbaf,Philippe Mathieu-Daud,2019-03-16,hw/alpha/Kconfig: DP264 hardware requires e1000 network card\n\nThis fixes when configuring with CONFIG_PCI_DEVICES=n:\n  $ qemu-system-alpha\n  qemu-system-alpha: Unsupported NIC model: e1000\n\nFixes: d1a95ef4ac\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20190316200818.8265-15-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996529817581176,"DP264, PCI, PCI_DEVICES",hw/alpha/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bb4928c7cafe50ab2137a0034e350ef1bfa044d9,014018e19b3c54dd1bf5072bc912ceffea40abe8,Eduardo Habkost,2019-03-19,"i386: Disable OSPKE on CPU model definitions\n\nCurrently, the Cascadelake-Server, Icelake-Client, and\nIcelake-Server are always generating the following warning:\n\n  qemu-system-x86_64: warning: \\n    host doesn't support requested feature: CPUID.07H:ECX [bit 4]\n\nThis happens because OSPKE was never returned by\nGET_SUPPORTED_CPUID or x86_cpu_get_supported_feature_word().\nOSPKE is a runtime flag automatically set by the KVM module or by\nTCG code, was always cleared by x86_cpu_filter_features(), and\nwas not supposed to appear on the CPU model table.\n\nRemove the OSPKE flag from the CPU model table entries, to avoid\nthe bogus warning and avoid returning invalid feature data on\nquery-cpu-* QMP commands.  As OSPKE was always cleared by\nx86_cpu_filter_features(), this won't have any guest-visible\nimpact.\n\nInclude a test case that should detect the problem if we introduce\na similar bug again.\n\nFixes: c7a88b52f62b (""i386: Add new model of Cascadelake-Server"")\nFixes: 8a11c62da914 (""i386: Add new CPU model Icelake-{Server,Client}"")\nCc: Tao Xu <tao3.xu@intel.com>\nCc: Robert Hoo <robert.hu@linux.intel.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nMessage-Id: <20190319200515.14999-1-ehabkost@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.8802846074104309,"KVM, TCG","target/i386/cpu.c, tests/acceptance/cpu_queries.py",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7ca96e1a9cadc32af7df73dcf4438b08667d07a6,aec2927dda69f35bab188a9bc577861e62044001,Mateja Marjanovic,2019-03-19,"target/mips: Fix minor bug in FPU\n\nWrong type of NaN was generated for IEEE 754-2008 by MADDF.<D|S> and\nMSUBF.<D|S> instructions when the arguments were (Inf, Zero, NaN) or\n(Zero, Inf, NaN).\n\nThe if-else statement establishes if the system conforms to IEEE\n754-1985 or IEEE 754-2008, and defines different behaviors depending\non that. In case of IEEE 754-2008, in mentioned cases of inputs,\n<MADDF|MSUBF>.<D|S> returns the input value 'c' [2] (page 53) and\nraises floating point exception 'Invalid Operation' [1] (pages 349,\n350).\n\nThese scenarios were tested and the results in QEMU emulation match\nthe results obtained on the machine that has a MIPS64R6 CPU.\n\n[1] MIPS Architecture for Programmers Volume II-a: The MIPS64\n    Instruction Set Reference Manual, Revision 6.06\n[2] MIPS Architecture for Programmers Volume IV-j: The MIPS64\n    SIMD Architecture Module, Revision 1.12\n\nSigned-off-by: Mateja Marjanovic <mateja.marjanovic@rt-rk.com>\nMessage-Id: <1553008916-15274-2-git-send-email-mateja.marjanovic@rt-rk.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\n[AJB: fixed up commit message]\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>",1,0.9997206330299376,"MIPS, MIPS64",fpu/softfloat-specialize.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9acc95cdd309f1bd4655219887676c332f945204,a04d91c701251a9b32b7364ddb48029ba024cb75,Greg Kurz,2019-03-22,target/ppc: Fix TCG temporary leaks in gen_bcond()\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <155327782047.1283071.10234727692461848972.stgit@bahia.lan>\nTested-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9996577501296996,TCG,target/ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fa200c95f7f99ce14b8af25ea0be478c722d3cec,9acc95cdd309f1bd4655219887676c332f945204,Greg Kurz,2019-03-22,"target/ppc: Enable ""decrement and test CTR"" version of bcctr\n\nEven if all ISAs up to v3 indeed mention:\n\n    If the ""decrement and test CTR"" option is specified (BO2=0), the\n    instruction form is invalid.\n\nThe UMs of all existing 64-bit server class processors say:\n\n    If BO[2] = 0, the contents of CTR (before any update) are used as the\n    target address and for the test of the contents of CTR to resolve the\n    branch. The contents of the CTR are then decremented and written back\n    to the CTR.\n\nThe linux kernel has spectre v2 mitigation code that relies on a\nBO[2] = 0 variant of bcctr, which is now activated by default on\nspapr, even with TCG. This causes linux guests to panic with\nthe default machine type under TCG.\n\nSince any CPU model can provide its own behaviour for invalid forms,\nwe could possibly introduce a new instruction flag to handle this.\nIn practice, since the behaviour is shared by all 64-bit server\nprocessors starting with 970 up to POWER9, let's reuse the\nPPC_SEGMENT_64B flag. Caveat: this may have to be fixed later if\nPOWER10 introduces a different behaviour.\n\nThe existing behaviour of throwing a program interrupt is kept for\nall other CPU models.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <155327782604.1283071.10640596307206921951.stgit@bahia.lan>\nTested-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9990962743759156,"PPC, TCG",target/ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3e5365b7aa6cb2593665c201e1b37681ac25c55d,15d68c5e1d910498d38c219565b56a1b3dace95d,Greg Kurz,2019-03-27,"target/ppc: Fix QEMU crash with stxsdx\n\nI've been hitting several QEMU crashes while running a fedora29 ppc64le\nguest under TCG. Each time, this would occur several minutes after the\nguest reached login:\n\nFedora 29 (Twenty Nine)\nKernel 4.20.6-200.fc29.ppc64le on an ppc64le (hvc0)\n\nWeb console: https://localhost:9090/\n\nlocalhost login:\ntcg/tcg.c:3211: tcg fatal error\n\nThis happens because a bug crept up in the gen_stxsdx() helper when it\nwas converted to use VSR register accessors by commit 8b3b2d75c7c04\n""target/ppc: introduce get_cpu_vsr{l,h}() and set_cpu_vsr{l,h}() helpers\nfor VSR register access"".\n\nThe code creates a temporary, passes it directly to gen_qemu_st64_i64()\nand then to set_cpu_vrsh()... which looks like this was mistakenly\ncoded as a load instead of a store.\n\nReverse the logic: read the VSR to the temporary first and then store\nit to memory.\n\nFixes: 8b3b2d75c7c0481544e277dad226223245e058eb\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <155371035249.2038502.12364252604337688538.stgit@bahia.lan>\nReviewed-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997256398200988,TCG,target/ppc/translate/vsx-impl.inc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7d5489e6d15e2922e45a41e4808d03a48457a5ee,273fef83f6c669f76fe25f419502ed123dfe15d2,David Gibson,2019-03-26,"exec: Only count mapped memory backends for qemu_getrampagesize()\n\nqemu_getrampagesize() works out the minimum host page size backing any of\nguest RAM.  This is required in a few places, such as for POWER8 PAPR KVM\nguests, because limitations of the hardware virtualization mean the guest\ncan't use pagesizes larger than the host pages backing its memory.\n\nHowever, it currently checks against *every* memory backend, whether or not\nit is actually mapped into guest memory at the moment.  This is incorrect.\n\nThis can cause a problem attempting to add memory to a POWER8 pseries KVM\nguest which is configured to allow hugepages in the guest (e.g.\n-machine cap-hpt-max-page-size=16m).  If you attempt to add non-hugepage,\nyou can (correctly) create a memory backend, however it (correctly) will\nthrow an error when you attempt to map that memory into the guest by\n'device_add'ing a pc-dimm.\n\nWhat's not correct is that if you then reset the guest a startup check\nagainst qemu_getrampagesize() will cause a fatal error because of the new\nmemory object, even though it's not mapped into the guest.\n\nThis patch corrects the problem by adjusting find_max_supported_pagesize()\n(called from qemu_getrampagesize() via object_child_foreach) to exclude\nnon-mapped memory backends.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nAcked-by: David Hildenbrand <david@redhat.com>",1,0.9994035959243774,KVM,exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5189e30b146ab39f9da8f35a23fc3c8e30b219c2,28605a22f564860c885bde42ad91840e9aacec45,Peter Maydell,2019-03-28,"hw/usb/bus.c: Handle ""no speed matched"" case in usb_mask_to_str()\n\nIn usb_mask_to_str() we convert a mask of USB speeds into\na human-readable string (like ""full+high"") for use in\ntracing and error messages. However the conversion code\ndoesn't do anything to the string buffer if the passed in\nspeedmask doesn't match any of the recognized speeds,\nwhich means that the tracing and error messages will\nend up with random garbage in them. This can happen if\nwe're doing USB device passthrough.\n\nHandle the ""unrecognized speed"" case by using the\nstring ""unknown"".\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1603785\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20190328133503.6490-1-peter.maydell@linaro.org\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9994731545448304,USB,hw/usb/bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b4682a63f86ed81abcaa543ea6135e17f9e99d01,ff3dc8fefe953fd3650279e064bf63b212c5699a,Daniel P. Berrang,2019-03-19,"filemon: fix watch IDs to avoid potential wraparound issues\n\nWatch IDs are allocated from incrementing a int counter against\nthe QFileMonitor object. In very long life QEMU processes with\na huge amount of USB MTP activity creating & deleting directories\nit is just about conceivable that the int counter can wrap\naround. This would result in incorrect behaviour of the file\nmonitor watch APIs due to clashing watch IDs.\n\nInstead of trying to detect this situation, this patch changes\nthe way watch IDs are allocated. It is turned into an int64_t\nvariable where the high 32 bits are set from the underlying\ninotify ""int"" ID. This gives an ID that is guaranteed unique\nfor the directory as a whole, and we can rely on the kernel\nto enforce this. QFileMonitor then sets the low 32 bits from\na per-directory counter.\n\nThe USB MTP device only sets watches on the directory as a\nwhole, not files within, so there is no risk of guest\ntriggered wrap around on the low 32 bits.\n\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>",1,0.9997130036354064,USB,"authz/listfile.c, hw/usb/dev-mtp.c, include/authz/listfile.h, include/qemu/filemonitor.h, tests/test-util-filemonitor.c, util/filemonitor-inotify.c, util/filemonitor-stub.c, util/trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5cf0d326a0fec9ebac2d47c42b5f08e6bc2f686c,1c685a9026349752c3627aa24b090973e35b83c3,Greg Kurz,2019-04-01,"spapr_pci: Fix extended config space accesses\n\nThe PAPR PHB acts as a legacy PCI bus but it allows PCIe extended\nconfig space accesses anyway (for pseries-2.9 and newer machine\ntypes).\n\nIntroduce a specific PCI bus subtype to inform the common PCI code\nabout that.\n\nFixes: c2077e2ca0da7\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <155414130834.574858.16502276132110219890.stgit@bahia.lan>\n[dwg: Apply fix so we don't rename the default pci bus, breaking everything]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997038245201112,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8cb2ca3d7479748587313f0b34034a3f8aa08c92,120cba7ff13d61a60366d314d265f5a9b8faae8a,Peter Maydell,2019-03-28,"target/i386: Generate #UD for LOCK on a register increment\n\nFix a TCG crash due to attempting an atomic increment\noperation without having set up the address first.\nThis is a similar case to that dealt with in commit\ne84fcd7f662a0d8198703, and we fix it in the same way.\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1807675\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-id: 20190328104750.25046-1-peter.maydell@linaro.org",1,0.9997290968894958,TCG,target/i386/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4560116e42a21989a4b6cf9551ce2f90b16c7238,532cc6da74ec25b5ba6893b5757c977d54582949,Greg Kurz,2019-04-11,"spapr_pci: Fix broken naming of PCI bus\n\nRecent commit 5cf0d326a0fe fixed a regression which was preventing the\nguest to access the extended config space of a PCIe device. This was\ndone by introducing a new PCI bus subtype for PAPR. The original fix\nwas causing PCI busses to be named ""spapr-pci-host-bridge-root-bus.N""\ninstead of ""pci.N"", which was making upper layers unhappy of course.\nThis got worked around by hardcoding the PCI bus name to ""pci.0"", but\nthis only works for the default PHB. And we're now hitting:\n\n# qemu-system-ppc64 \\n             -device spapr-pci-host-bridge,index=1 \\n             -device e1000e,bus=pci.0 \\n             -device e1000e,bus=pci.1\nqemu-system-ppc64: -device e1000e,bus=pci.1: Bus 'pci.1' not found\n\nDavid already posted some patches [1] to control PCI extended config\nspace accesses with a new flag in the base PCI bus class instead of\nsubtyping. These patches are a bit more intrusive though, and\nare targetted for 4.1.\n\nWhen no name is passed to pci_register_bus(), the core device code\ngenerates a lowercase name based on the QOM typename. The typename\nfor the base PCI bus class is ""PCI"", hence the ""pci.0"", ""pci.1""\nbus names. Rename the type of the PAPR PCI bus to ""pci"", so that\nthe QOM code can generate proper names. This is a hack but it is\nenough to fix the regression. And all this will be reworked properly\nin 4.1.\n\n[1] https://patchwork.ozlabs.org/project/qemu-devel/list/?series=100486\n\nFixes: 5cf0d326a0fe\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <155500034416.646888.1307366522340665522.stgit@bahia.lab.toulouse-stg.fr.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997197985649108,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5ab77f9aa3994aeafce2003f0dd234b85fe049b0,8f8f588565de871107099eb447b64f8829464ca8,Markus Armbruster,2019-04-17,"s390x/kvm: Report warnings with warn_report(), not error_printf()\n\nkvm_s390_mem_op() can fail in two ways: when !cap_mem_op, it returns\n-ENOSYS, and when kvm_vcpu_ioctl() fails, it returns -errno set by\nioctl().  Its caller s390_cpu_virt_mem_rw() recovers from both\nfailures.\n\nkvm_s390_mem_op() prints ""KVM_S390_MEM_OP failed"" with error_printf()\nin the latter failure mode.  Since this is obviously a warning, use\nwarn_report().\n\nPerhaps the reporting should be left to the caller.  It could warn on\nfailure other than -ENOSYS.\n\nCc: Thomas Huth <thuth@redhat.com>\nCc: qemu-s390x@nongnu.org\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nMessage-Id: <20190417190641.26814-9-armbru@redhat.com>",1,0.999696969985962,KVM,target/s390x/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1259f27ec2113d34e54ee731aac5990d9606d9fa,3541cd48f32233dd0c0766a3f342e3fd64b04381,Daniel P. Berrang,2019-04-15,"usb-mtp: fix alignment of access of ObjectInfo filename field\n\nThe ObjectInfo struct's ""filename"" field is following a uint8_t\nfield in a packed struct and thus has bad alignment for a 16-bit\nfield. Switch the field to to uint8_t and use the helper function\nfor accessing unaligned 16-bit data.\n\nNote that although the MTP spec specifies big endian, when transported\nover the USB protocol, data is little endian.\n\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>\nMessage-id: 20190415154503.6758-4-berrange@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.992119073867798,USB,hw/usb/dev-mtp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,72e0c127bd692660c087ba7fcbe9d50032c8debd,0a076730adf469918d5d1cfdf9d740c6928208a4,Thomas Huth,2019-04-19,"hw/usb/hcd-ohci: Do not use PCI functions with sysbus devices in ohci_die()\n\nThe ohci_die() function always assumes to be running with a PCI OHCI\ncontroller and calls the PCI-specific functions pci_set_word(). However,\nthis function might also get called for the sysbus OHCI devices, so it\nlikely fails in that case. To fix this issue, change the code now, so that\nthere are two implementations now, one for sysbus and one for PCI, and\nuse the right function via a function pointer in the OHCIState structure.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nTested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20190419075625.24251-2-thuth@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999696969985962,PCI,hw/usb/hcd-ohci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a03ffaefce5dbb455ee1bc7c7709faf377dfbd45,339327b6d4a2830cba230c6be7a17a4a2fc3d546,Peter Maydell,2019-05-07,"hw/intc/armv7m_nvic: Don't enable ARMV7M_EXCP_DEBUG from reset\n\nThe M-profile architecture specifies that the DebugMonitor exception\nshould be initially disabled, not enabled. It should be controlled\nby the DEMCR register's MON_EN bit, but we don't implement that\nregister yet (like most of the debug architecture for M-profile).\n\nNote that BKPT instructions will still work, because they\nwill be escalated to HardFault.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20190430131439.25251-4-peter.maydell@linaro.org",1,0.9973581433296204,ARM,hw/intc/armv7m_nvic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,503591cb6c28c3ddbe38ea50cab2f0dd3d6cd929,d923e30578a65392e50e530e3a29b2edf5c51c5b,Gerd Hoffmann,2019-05-10,virtio-input: fix Kconfig dependency and Makefile\n\nMake VIRTIO_INPUT_HOST depend on VIRTIO_INPUT.\nUse CONFIG_VIRTIO_INPUT_HOST in Makefile.\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-id: 20190510105137.17481-2-kraxel@redhat.com,1,0.9996662139892578,"VIRTIO, VIRTIO_INPUT, VIRTIO_INPUT_HOST","hw/input/Kconfig, hw/input/Makefile.objs",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9a585f3ea630d0d1b9a2fc4450a3a2a0326546f9,bb768f71eb504ebce4b12bcf61675a0ad9a81fdf,Thomas Huth,2019-02-22,"hw/ide/ahci: Add a Kconfig switch for the AHCI-ICH9 device\n\nSome of our machines (like the ARM cubieboard) use CONFIG_AHCI for an AHCI\nsysbus device, but do not use CONFIG_PCI since they do not feature a PCI\nbus. With CONFIG_AHCI but without CONFIG_PCI, currently linking fails:\n\n    ../hw/ide/ich.o: In function `pci_ich9_ahci_realize':\n    hw/ide/ich.c:124: undefined reference to `pci_allocate_irq'\n    hw/ide/ich.c:126: undefined reference to `pci_register_bar'\n    hw/ide/ich.c:128: undefined reference to `pci_register_bar'\n    hw/ide/ich.c:131: undefined reference to `pci_add_capability'\n    hw/ide/ich.c:147: undefined reference to `msi_init'\n    ../hw/ide/ich.o: In function `pci_ich9_uninit':\n    hw/ide/ich.c:158: undefined reference to `msi_uninit'\n    ../hw/ide/ich.o:(.data.rel+0x50): undefined reference to `vmstate_pci_device'\n\nWe must only compile ich.c if CONFIG_PCI is available, too, so introduce a\nnew config switch for this device.\n\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nTested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nAcked-by: John Snow <jsnow@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9968944787979126,"AHCI, ARM, PCI","hw/i386/Kconfig, hw/ide/Kconfig, hw/ide/Makefile.objs",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,37ee55a081b7863ffab2151068dd1b2f11376914,f23e5e15edfd49d5dd72cab2ed2d85ac354b2eeb,Richard Henderson,2019-03-17,"tcg: Add INDEX_op_dupm_vec\n\nAllow the backend to expand dup from memory directly, instead of\nforcing the value into a temp first.  This is especially important\nif integer/vector register moves do not exist.\n\nNote that officially tcg_out_dupm_vec is allowed to fail.\nIf it did, we could fix this up relatively easily:\n\n  VECE == 32/64:\n    Load the value into a vector register, then dup.\n    Both of these must work.\n\n  VECE == 8/16:\n    If the value happens to be at an offset such that an aligned\n    load would place the desired value in the least significant\n    end of the register, go ahead and load w/garbage in high bits.\n\n    Load the value w/INDEX_op_ld{8,16}_i32.\n    Attempt a move directly to vector reg, which may fail.\n    Store the value into the backing store for OTS.\n    Load the value into the vector reg w/TCG_TYPE_I32, which must work.\n    Duplicate from the vector reg into itself, which must work.\n\nAll of which is well and good, except that all supported\nhosts can support dupm for all vece, so all of the failure\npaths would be dead code and untestable.\n\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9995124340057372,TCG,"tcg/aarch64/tcg-target.inc.c, tcg/i386/tcg-target.inc.c, tcg/tcg-op-gvec.c, tcg/tcg-op-vec.c, tcg/tcg-op.h, tcg/tcg-opc.h, tcg/tcg.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,216bdd274ae6111102d5f35a4fc6a580e4bc913d,d8276573da58e8ce78dab8c46dd660efd664bcb7,Cornelia Huck,2019-05-02,"s390/ipl: cast to SCSIDevice directly\n\nCoverity notes that the result of object_dynamic_cast() to\nSCSIDevice is not checked in s390_gen_initial_iplp(); as\nwe know that we always have a SCSIDevice in that branch,\nwe can instead cast via SCSI_DEVICE directly.\n\nCoverity: CID 1401098\nFixes: 44445d8668f4 (""s390 vfio-ccw: Add bootindex property and IPLB data"")\nMessage-Id: <20190502155516.12415-1-cohuck@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996289014816284,SCSI,hw/s390x/ipl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd30132cd87001af51640d5f1b5754a5dc7fbbe6,6b99a110c7f377edd194fe0cc4d3c44b11cf62d8,KONRAD Frederic,2019-05-15,leon3: fix the error message when no bios are provided\n\nThe leon3 board is looking for u-boot.bin by default (LEON3_PROM_FILENAME)..\nBut in the case this file is not found and no other file are given on the\ncommand line we get the following error:\n\n  $ ./qemu-system-sparc -M leon3_generic\n  qemu-system-sparc: Can't read bios image (null)\n\nSo use LEON3_PROM_FILENAME instead of filename in case it is NULL to get a\nless cryptic message:\n\n  $ ./qemu-system-sparc -M leon3_generic\n  qemu-system-sparc: Can't read bios image 'u-boot.bin'\n\nSuggested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: KONRAD Frederic <frederic.konrad@adacore.com>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>,1,0.9997405409812928,LEON3,hw/sparc/leon3.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,958a01dab8e02fc49f4fd619fad8c82a1108afdb,29de2804014097f8d0e6eaec3318164405afe317,Vitaly Kuznetsov,2019-04-02,"ioapic: allow buggy guests mishandling level-triggered interrupts to make progress\n\nIt was found that Hyper-V 2016 on KVM in some configurations (q35 machine +\npiix4-usb-uhci) hangs on boot. Root-cause was that one of Hyper-V\nlevel-triggered interrupt handler performs EOI before fixing the cause of\nthe interrupt. This results in IOAPIC keep re-raising the level-triggered\ninterrupt after EOI because irq-line remains asserted.\n\nGory details: https://www.spinics.net/lists/kvm/msg184484.html\n(the whole thread).\n\nTurns out we were dealing with similar issues before; in-kernel IOAPIC\nimplementation has commit 184564efae4d (""kvm: ioapic: conditionally delay\nirq delivery duringeoi broadcast"") which describes a very similar issue.\n\nSteal the idea from the above mentioned commit for IOAPIC implementation in\nQEMU. SUCCESSIVE_IRQ_MAX_COUNT, delay and the comment are borrowed as well.\n\nSigned-off-by: Vitaly Kuznetsov <vkuznets@redhat.com>\nMessage-Id: <20190402080215.10747-1-vkuznets@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999705135822296,"APIC, IOAPIC, KVM, SSI","hw/intc/ioapic.c, hw/intc/trace-events, include/hw/i386/ioapic_internal.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7a188f2b5744c0492de1c8eea315f259e0256a1e,d09ecd8c14d11d805f65445557cfa691a510dd31,Philippe Mathieu-Daud,2019-05-04,"hw/net/ne2000: Extract the PCI device from the chipset common code\n\nThe ne2000.c file contains functions common the the ISA and PCI\ndevices. To allow to build with one or another, extract the PCI\nspecific part into a new file.\n\nThis fix an issue where the NE2000_ISA Kconfig had to pull the\nfull PCI core objects.\n\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20190504123538.14952-1-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9993489384651184,"NE2000_ISA, PCI","hw/net/Kconfig, hw/net/Makefile.objs, hw/net/ne2000-pci.c, hw/net/ne2000.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ba02ff90ee1dcaf7aa5645075217e555ae2c54ea,ae3c12a015522621931383f0ddbff8a6a00f7866,Igor Mammedov,2019-05-02,"tests: acpi: print error unable to dump ACPI table during rebuild\n\nInstead of just asserting print the error that lead to assert first.\nWhile at it move assert into rebuild branch, which removes redundant\ncheck done in case of !rebuild branch is taken (the later is taken\ncare of by g_assert_no_error).\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Wei Yang <richardw.yang@linux.intel.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <1556808723-226478-16-git-send-email-imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.997408092021942,ACPI,tests/bios-tables-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fff6938264fc09e941b2e572e32fa70f7da7f884,a4f667b6714916683408b983cfe0a615a725775f,Laurent Vivier,2019-05-17,"linux-user: add pseudo /proc/cpuinfo for sparc\n\nSPARC libc6 debian package wants to check the cpu level to be\ninstalled or not:\n\n  WARNING: This machine has a SPARC V8 or earlier class processor.\n  Debian lenny and later does not support such old hardware\n  any longer.\n\nTo avoid this, it only needs to know if the machine type is sun4u or sun4v,\nfor that it reads the information from /proc/cpuinfo.\n\nFixes: 9a93c152fcdb4ab2cd85094487b33578fd693915\n       (""linux-user: fix UNAME_MACHINE for sparc/sparc64"")\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20190517133149.19593-2-laurent@vivier.eu>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9996283054351808,SPARC,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,abcac736c1505254ec3f9587aff04fbe4705a55e,4bdcd79e3e4127c2813a4caebd38c96f1974983e,Daniel Santos,2019-05-19,"linux-user: Sanitize interp_info and, for mips only, init field fp_abi\n\nSanitize interp_info structure in load_elf_binary() and, for MIPS only,\ninit its field fp_abi to MIPS_ABI_FP_UNKNOWN. This fixes appearances of\n""Unexpected FPU mode"" message in some MIPS use cases. Currently, this\nbug is a complete stopper for some MIPS binaries.\n\nIn load_elf_binary(), struct image_info interp_info is used without\nbeing properly initialized. One result is that when the ELF's program\nheader doesn't contain an entry for the ABI flags, then the value of\nthe struct image_info's fp_abi field is set to whatever happened to\nbe in stack memory at the time.\n\nBackporting to 4.0 and, if possible, to 3.1 is recommended.\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1825002\n\nSigned-off-by: Daniel Santos <daniel.santos@pobox.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <1558282527-22183-6-git-send-email-aleksandar.markovic@rt-rk.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9995300769805908,MIPS,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7b60ef3264e9627ac6efb34e9a6130647e9b55c0,a4f667b6714916683408b983cfe0a615a725775f,Richard Henderson,2019-05-16,"tcg/i386: Fix dupi/dupm for avx1 and 32-bit hosts\n\nThe VBROADCASTSD instruction only allows %ymm registers as destination.\nRather than forcing VEX.L and writing to the entire 256-bit register,\nrevert to using MOVDDUP with an %xmm register.  This is sufficient for\nan avx1 host since we do not support TCG_TYPE_V256 for that case.\n\nAlso fix the 32-bit avx2, which should have used VPBROADCASTW.\n\nFixes: 1e262b49b533\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReported-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9996412992477416,TCG,tcg/i386/tcg-target.inc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,532ba368a13712724137228b5e7e9435994d25e1,7b60ef3264e9627ac6efb34e9a6130647e9b55c0,Richard Henderson,2019-05-16,"tcg: Fix missing checks and clears in tcg_gen_gvec_dup_mem\n\nThe paths through tcg_gen_dup_mem_vec and through MO_128 were\nmissing the check_size_align.  The path through MO_128 was also\nmissing the expand_clr.  This last was not visible because the\nonly user is ARM SVE, which would set oprsz == maxsz, and not\nrequire the clear.\n\nFix by adding the check_size_align and using do_dup directly\ninstead of duplicating the check in tcg_gen_gvec_dup_{i32,i64}.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9997212290763856,ARM,tcg/tcg-op-gvec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2f143d3ad1c05e91cf2cdf5de06d59a80a95e6c8,87eb65a3c45c788a309986d48170a54a0d1c0705,Alistair Francis,2019-05-23,"target/arm: Fix vector operation segfault\n\nCommit 89e68b575 ""target/arm: Use vector operations for saturation""\ncauses this abort() when booting QEMU ARM with a Cortex-A15:\n\n0  0x00007ffff4c2382f in raise () at /usr/lib/libc.so.6\n1  0x00007ffff4c0e672 in abort () at /usr/lib/libc.so.6\n2  0x00005555559c1839 in disas_neon_data_insn (insn=<optimized out>, s=<optimized out>) at ./target/arm/translate.c:6673\n3  0x00005555559c1839 in disas_neon_data_insn (s=<optimized out>, insn=<optimized out>) at ./target/arm/translate.c:6386\n4  0x00005555559cd8a4 in disas_arm_insn (insn=4081107068, s=0x7fffe59a9510) at ./target/arm/translate.c:9289\n5  0x00005555559cd8a4 in arm_tr_translate_insn (dcbase=0x7fffe59a9510, cpu=<optimized out>) at ./target/arm/translate.c:13612\n6  0x00005555558d1d39 in translator_loop (ops=0x5555561cc580 <arm_translator_ops>, db=0x7fffe59a9510, cpu=0x55555686a2f0, tb=<optimized out>, max_insns=<optimized out>) at ./accel/tcg/translator.c:96\n7  0x00005555559d10d4 in gen_intermediate_code (cpu=cpu@entry=0x55555686a2f0, tb=tb@entry=0x7fffd7840080 <code_gen_buffer+126091347>, max_insns=max_insns@entry=512) at ./target/arm/translate.c:13901\n8  0x00005555558d06b9 in tb_gen_code (cpu=cpu@entry=0x55555686a2f0, pc=3067096216, cs_base=0, flags=192, cflags=-16252928, cflags@entry=524288) at ./accel/tcg/translate-all.c:1736\n9  0x00005555558ce467 in tb_find (cf_mask=524288, tb_exit=1, last_tb=0x7fffd783e640 <code_gen_buffer+126084627>, cpu=0x1) at ./accel/tcg/cpu-exec.c:407\n10 0x00005555558ce467 in cpu_exec (cpu=cpu@entry=0x55555686a2f0) at ./accel/tcg/cpu-exec.c:728\n11 0x000055555588b0cf in tcg_cpu_exec (cpu=0x55555686a2f0) at ./cpus.c:1431\n12 0x000055555588d223 in qemu_tcg_cpu_thread_fn (arg=0x55555686a2f0) at ./cpus.c:1735\n13 0x000055555588d223 in qemu_tcg_cpu_thread_fn (arg=arg@entry=0x55555686a2f0) at ./cpus.c:1709\n14 0x0000555555d2629a in qemu_thread_start (args=<optimized out>) at ./util/qemu-thread-posix.c:502\n15 0x00007ffff4db8a92 in start_thread () at /usr/lib/libpthread.\n\nThis patch ensures that we don't hit the abort() in the second switch\ncase in disas_neon_data_insn() as we will return from the first case.\n\nSigned-off-by: Alistair Francis <alistair.francis@wdc.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nTested-by: Alex Benne <alex.bennee@linaro.org>\nMessage-id: ad91b397f360b2fc7f4087e476f7df5b04d42ddb.1558021877.git.alistair.francis@wdc.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997015595436096,ARM,target/arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5f992db605e2c9ed0c8816c2b0f68b9bc8698f1b,443b7505c6b04c5b7ab9611ac3ffd115fbf60cbf,Chen-Yu Tsai,2019-05-23,"linux-user: Pass through nanosecond timestamp components for stat syscalls\n\nSince Linux 2.6 the stat syscalls have mostly supported nanosecond\ncomponents for each of the file-related timestamps.\n\nQEMU user mode emulation currently does not pass through the nanosecond\nportion of the timestamp, even when the host system fills in the value.\nThis results in a mismatch when run on subsecond resolution filesystems\nsuch as ext4 or XFS.\n\nAn example of this leading to inconsistency is cross-debootstraping a\nfull desktop root filesystem of Debian Buster. Recent versions of\nfontconfig store the full timestamp (instead of just the second portion)\nof the directory in its per-directory cache file, and checks this against\nthe directory to see if the cache is up-to-date. With QEMU user mode\nemulation, the timestamp stored is incorrect, and upon booting the rootfs\nnatively, fontconfig discovers the mismatch, and proceeds to rebuild the\ncache on the comparatively slow machine (low-power ARM vs x86). This\nstalls the first attempt to open whatever application that incorporates\nfontconfig.\n\nThis patch renames the ""unused"" padding trailing each timestamp element\nto its nanosecond counterpart name if such an element exists in the\nkernel sources for the given platform. Not all do. Then have the syscall\nwrapper fill in the nanosecond portion if the host supports it, as\nspecified by the _POSIX_C_SOURCE and _XOPEN_SOURCE feature macros.\n\nRecent versions of glibc only use stat64 and newfstatat syscalls on\n32-bit and 64-bit platforms respectively. The changes in this patch\nwere tested by directly calling the stat, stat64 and newfstatat syscalls\ndirectly, in addition to the glibc wrapper, on arm and aarch64 little\nendian targets.\n\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nSigned-off-by: Chen-Yu Tsai <wens@csie.org>\nMessage-Id: <20190522162147.26303-1-wens@kernel.org>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9990098476409912,ARM,"linux-user/syscall.c, linux-user/syscall_defs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,86e636951ddce2bb3a82fcaad5abc3779ba4f7ab,7353113fa482e697a77575086a41f429a01f8dc0,Laurent Vivier,2019-05-23,"linux-user: fix __NR_semtimedop undeclared error\n\nIn current code, __NR_msgrcv and__NR_semtimedop are supposed to be\ndefined if __NR_msgsnd is defined.\n\nBut linux headers 5.2-rc1 for MIPS define __NR_msgsnd without defining\n__NR_semtimedop and it breaks the QEMU build.\n\n__NR_semtimedop is defined in asm-mips/unistd_n64.h and asm-mips/unistd_n32.h\nbut not in asm-mips/unistd_o32.h.\n\nCommit d9cb4336159a (""linux headers: update against Linux 5.2-rc1"") has\nupdated asm-mips/unistd_o32.h and added __NR_msgsnd but not __NR_semtimedop.\nIt introduces __NR_semtimedop_time64 instead.\n\nThis patch fixes the problem by checking for each __NR_XXX symbol\nbefore defining the corresponding syscall.\n\nFixes: d9cb4336159a (""linux headers: update against Linux 5.2-rc1"")\nReported-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nTested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nTested-by: Alex Benne <alex.bennee@linaro.org>\nMessage-Id: <20190523175413.14448-1-laurent@vivier.eu>",1,0.9997329115867616,MIPS,linux-user/syscall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,13df93244efbd4bb8b4cf4e26104a26033178674,7f9136f90dd2675c4cee29eed447f9213f94f3e6,Cdric Le Goater,2019-05-08,"spapr/xive: fix EQ page addresses above 64GB\n\nThe high order bits of the address of the OS event queue is stored in\nbits [4-31] of word2 of the XIVE END internal structures and the low\norder bits in word3. This structure is using Big Endian ordering and\ncomputing the value requires some simple arithmetic which happens to\nbe wrong. The mask removing bits [0-3] of word2 is applied to the\nwrong value and the resulting address is bogus when above 64GB.\n\nGuests with more than 64GB of RAM will allocate pages for the OS event\nqueues which will reside above the 64GB limit. In this case, the XIVE\ndevice model will wake up the CPUs in case of a notification, such as\nIPIs, but the update of the event queue will be written at the wrong\nplace in memory. The result is uncertain as the guest memory is\ntrashed and IPI are not delivered.\n\nIntroduce a helper xive_end_qaddr() to compute this value correctly in\nall places where it is used.\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20190508171946.657-3-clg@kaod.org>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997288584709167,XIVE,"hw/intc/spapr_xive.c, hw/intc/xive.c, include/hw/ppc/xive_regs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e7f78db9fbb18900c724fd8ebfc46b6962203b98,77bd8937c03dd55e57cc257951ad07c185303c3e,Greg Kurz,2019-05-15,"spapr/xive: Sanity checks of OV5 during CAS\n\nIf a machine is started with ic-mode=xive but the guest only knows\nabout XICS, eg. an RHEL 7.6 guest, the kernel panics. This is\nexpected but a bit unfortunate since the crash doesn't provide\nmuch information for the end user to guess what's happening.\n\nDetect that during CAS and exit QEMU with a proper error message\ninstead, like it is already done for the MMU.\n\nEven if this is less likely to happen, the opposite case of a guest\nthat only knows about XIVE would certainly fail all the same if the\nmachine is started with ic-mode=xics.\n\nAlso, the only valid values a guest can pass in byte 23 of OV5 during\nCAS are 0b00 (XIVE legacy mode) and 0b01 (XIVE exploitation mode). Any\nother value is a bug, at least with the current spec. Again, it does\nnot seem right to let the guest go on without a precise idea of the\ninterrupt mode it asked for.\n\nHandle these cases as well.\n\nReported-by: Satheesh Rajendran <sathnaga@linux.vnet.ibm.com>\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <155793986451.464434.12887933000007255549.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996968507766724,"XICS, XIVE",hw/ppc/spapr_hcall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0c575703e487b6e36d226b67e0c8d08c004ce998,38afd772f802ff787ea16af73b0c0d24a8c46b6c,Cdric Le Goater,2019-05-13,"spapr/xive: add hcall support when under KVM\n\nXIVE hcalls are all redirected to QEMU as none are on a fast path.\nWhen necessary, QEMU invokes KVM through specific ioctls to perform\nhost operations. QEMU should have done the necessary checks before\ncalling KVM and, in case of failure, H_HARDWARE is simply returned.\n\nH_INT_ESB is a special case that could have been handled under KVM\nbut the impact on performance was low when under QEMU. Here are some\nfigures :\n\n    kernel irqchip      OFF          ON\n    H_INT_ESB                    KVM   QEMU\n\n    rtl8139 (LSI )      1.19     1.24  1.23  Gbits/sec\n    virtio             31.80    42.30   --   Gbits/sec\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nMessage-Id: <20190513084245.25755-4-clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9989870190620422,"KVM, XIVE","hw/intc/spapr_xive.c, hw/intc/spapr_xive_kvm.c, include/hw/ppc/spapr_xive.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,83629419a52f393d67317b14a861d3062e37c5c3,cf435df697e50db5ed1ec60e5efe639123a03154,Cdric Le Goater,2019-05-13,"ppc/xics: fix irq priority in ics_set_irq_type()\n\nRecent commits changed the behavior of ics_set_irq_type() to\ninitialize correctly LSIs at the KVM level. ics_set_irq_type() is also\ncalled by the realize routine of the different devices of the machine\nwhen initial interrupts are claimed, before the ICSState device is\nreseted.\n\nIn the case, the ICSIRQState priority is 0x0 and the call to\nics_set_irq_type() results in configuring the target of the\ninterrupt. On P9, when using the KVM XICS-on-XIVE device, the target\nis configured to be server 0, priority 0 and the event queue 0 is\ncreated automatically by KVM.\n\nWith the dual interrupt mode creating the KVM device at reset, it\nleads to unexpected effects on the guest, mostly blocking IPIs. This\nis wrong, fix it by reseting the ICSIRQState structure when\nics_set_irq_type() is called.\n\nFixes: commit 6cead90c5c9c (""xics: Write source state to KVM at claim time"")\nSigned-off-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20190513084245.25755-14-clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996999502182008,"KVM, XICS, XIVE",hw/intc/xics.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cdd71c8e9dffc97c5e0569b6ea14dfb65fc74851,24563a587f964ff16477feab54686ccf617d3570,Cdric Le Goater,2019-05-22,"spapr/xive: fix multiple resets when using the 'dual' interrupt mode\n\nToday, when a reset occurs on a pseries machine using the 'dual'\ninterrupt mode, the KVM devices are released and recreated depending\non the interrupt mode selected by CAS. If XIVE is selected, the SysBus\nmemory regions of the SpaprXive model are initialized by the KVM\nbackend initialization routine each time a reset occurs. This leads to\na crash after a couple of resets because the machine reaches the\nQDEV_MAX_MMIO limit of SysBusDevice :\n\nqemu-system-ppc64: hw/core/sysbus.c:193: sysbus_init_mmio: Assertion `dev->num_mmio < QDEV_MAX_MMIO' failed.\n\nTo fix, initialize the SysBus memory regions in spapr_xive_realize()\ncalled only once and remove the same inits from the QEMU and KVM\nbackend initialization routines which are called at each reset.\n\nReported-by: Satheesh Rajendran <sathnaga@linux.vnet.ibm.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20190522074016.10521-2-clg@kaod.org>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996786117553712,"KVM, XIVE","hw/intc/spapr_xive.c, hw/intc/spapr_xive_kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b213fee8a7ec43bac3d606ceae151fffca8a9dbf,83a7d3c021dc8c7f579035f93697d13d02a73509,Marc-Andr Lureau,2019-05-24,util: compile drm.o on posix\n\nOpenGL isn't required to use DRM rendernodes. The following patches\nuses it for 2d resources for ex.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-id: 20190524130946.31736-5-marcandre.lureau@redhat.com\n\n[ kraxel s/LINUX/POSIX/ (fixes openbsd build failure) ]\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9992744326591492,LINUX,util/Makefile.objs,1,build system,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb0efb7125fade8faa9a1fed4d46e63d35b31863,d52c454aadcdae74506f315ebf8b58bb79a05573,Marc-Andr Lureau,2019-05-24,"spice-app: fix running when !CONFIG_OPENGL\n\nDo not set 'gl' parameter, fixes:\nqemu-system-x86_64: Invalid parameter 'gl'\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-id: 20190524130946.31736-7-marcandre.lureau@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996813535690308,OPENGL,ui/spice-app.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e4610781635404d494120c19bade8dad6f00f0b3,f13a944ca6d50efa1dc4cca3a31262b677a2a715,Wei Yang,2019-05-21,"acpi: pci: use build_append_foo() API to construct MCFG\n\nbuild_append_foo() API doesn't need explicit endianness conversions\nwhich eliminates a source of errors and it makes build_mcfg() look like\ndeclarative definition of MCFG table in ACPI spec, which makes it easy\nto review.\n\nSigned-off-by: Wei Yang <richardw.yang@linux.intel.com>\nSuggested-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\n\nv3:\n   * add some comment on the Configuration Space base address allocation\n     structure\nv2:\n   * miss the reserved[8] of MCFG in last version, add it back\n   * drop SOBs and make sure bios-tables-test all OK\nMessage-Id: <20190521062836.6541-3-richardw.yang@linux.intel.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.998844027519226,ACPI,"hw/acpi/pci.c, include/hw/acpi/acpi-defs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c0825c63cfae0d4af1f1f91867c42e609f3ed13c,732c919cf04c0aaf1b092238e8b84cdb7adf657a,Paolo Bonzini,2019-03-18,"libqos: convert I2C to qgraph\n\nCreate an i2c-bus interface, corresponding to the I2CAdapter struct.\nWrap IMXI2C and OMAPI2C with a QOSGraphObject, and add the get_driver\nfunction to retrieve the I2CAdapter.\n\nThe conversion is still not complete; for simplicity, i2c_recv and\ni2c_send (along with their wrappers) still take an adapter/address\npair.  Fixing that would be complicated until the tests are converted\nto qgraph, so it is left for after the conversion.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9812426567077636,"I2C, IMX, OMAP","tests/Makefile.include, tests/libqos/i2c-imx.c, tests/libqos/i2c-omap.c, tests/libqos/i2c.c, tests/libqos/i2c.h",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8c79b288513587e960b6b7257a9d955d5592f209,78e24848f6a2923f356d15d8751c644f94a39fd8,Alex Benne,2019-06-03,cputlb: use uint64_t for interim values for unaligned load\n\nWhen running on 32 bit TCG backends a wide unaligned load ends up\ntruncating data before returning to the guest. We specifically have\nthe return type as uint64_t to avoid any premature truncation so we\nshould use the same for the interim types.\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1830872\nFixes: eed5664238e\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nTested-by: Laszlo Ersek <lersek@redhat.com>\nTested-by: Igor Mammedov <imammedo@redhat.com>,1,0.9997039437294006,TCG,accel/tcg/cputlb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d67ebada159148bfdfde84871338738e4465e985,be1ba4d56eba5666ee03b40e286d7315862ab188,Richard Henderson,2019-06-09,"target/arm: Fix output of PAuth Auth\n\nThe ARM pseudocode installs the error_code into the original\npointer, not the encrypted pointer.  The difference applies\nwithin the 7 bits of pac data; the result should be the sign\nextension of bit 55.\n\nAdd a testcase to that effect.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9993630051612854,ARM,"target/arm/pauth_helper.c, tests/tcg/aarch64/Makefile.target, tests/tcg/aarch64/pauth-2.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,201a733145751aa691e7e3b9c0f263f0c92db0c5,c60807dea5930a402b77172da17e79b26f1af48b,Eric Auger,2019-06-13,"vfio/common: Introduce vfio_set_irq_signaling helper\n\nThe code used to assign an interrupt index/subindex to an\neventfd is duplicated many times. Let's introduce an helper that\nallows to set/unset the signaling for an ACTION_TRIGGER,\nACTION_MASK or ACTION_UNMASK action.\n\nIn the error message, we now use errno in case of any\nVFIO_DEVICE_SET_IRQS ioctl failure.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Li Qiang <liq3ea@gmail.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9986358284950256,VFIO,"hw/vfio/common.c, hw/vfio/pci.c, hw/vfio/platform.c, include/hw/vfio/vfio-common.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4a4418369d6dca4ffa88126413ead743d3841666,82f76c6702e6d376ff5cf0326ea2e30f1e514e8e,Gerd Hoffmann,2019-06-07,"q35: fix mmconfig and PCI0._CRS\n\nThis patch changes the handling of the mmconfig area.  Thanks to the\npci(e) expander devices we already have the logic to exclude address\nranges from PCI0._CRS.  We can simply add the mmconfig address range\nto the list get it excluded as well.\n\nWith that in place we can go with a fixed pci hole which covers the\nwhole area from the end of (low) ram to the ioapic.\n\nThis will make the whole logic alot less fragile.  No matter where the\nfirmware places the mmconfig xbar, things should work correctly.  The\nguest also gets a bit more PCI address space (seabios boot):\n\n    # cat /proc/iomem\n    [ ... ]\n    7ffdd000-7fffffff : reserved\n    80000000-afffffff : PCI Bus 0000:00            <<-- this is new\n    b0000000-bfffffff : PCI MMCONFIG 0000 [bus 00-ff]\n      b0000000-bfffffff : reserved\n    c0000000-febfffff : PCI Bus 0000:00\n      f8000000-fbffffff : 0000:00:01.0\n    [ ... ]\n\nSo this is a guest visible change.\n\nCc: Lszl rsek <lersek@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20190607073429.3436-1-kraxel@redhat.com>",1,0.9996331930160522,PCI,"hw/i386/acpi-build.c, hw/pci-host/q35.c, tests/bios-tables-test-allowed-diff.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,500eb6db5b5baef3f642415cdeb4b3e728537f81,4a4418369d6dca4ffa88126413ead743d3841666,Michael S. Tsirkin,2019-06-16,"q35: update DSDT\n\nupdate expected files and drop them from allowed diff list.\n\nFixes: 4a4418369d6 (""q35: fix mmconfig and PCI0._CRS"")\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9983367919921876,PCI,"tests/bios-tables-test-allowed-diff.h, tests/data/acpi/q35/DSDT, tests/data/acpi/q35/DSDT.bridge, tests/data/acpi/q35/DSDT.cphp, tests/data/acpi/q35/DSDT.dimmpxm, tests/data/acpi/q35/DSDT.ipmibt, tests/data/acpi/q35/DSDT.memhp, tests/data/acpi/q35/DSDT.mmio64, tests/data/acpi/q35/DSDT.numamem",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9b4cc0c2d4775f5cd9d3ec97ceadc78d17590cce,282d36b5e27ba86d42d0638430e439c2c257367b,Peter Maydell,2019-06-17,"docs/specs/index.rst: Fix minor syntax issues\n\nThe docs/specs/index.rst has a couple of minor issues which\nwe didn't notice because we weren't building the manual:\n * the ToC entry for the new PPC XIVE docs points to\n   a nonexistent file\n * the initial comment needs to be marked by '..', not '.',\n   or it will appear in the output\n * the title doesn't match the capitialization used by\n   the existing interop or devel manuals, and uses\n   'full-system emulation' rather than the 'system emulation'\n   that the interop manual title uses\n\nFix these minor issues before we start trying to build the manual.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nAcked-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nMessage-id: 20190610152444.20859-2-peter.maydell@linaro.org",1,0.9997389912605286,"PPC, XIVE",docs/specs/index.rst,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6f38dca615286796df9a967117f3ce42b918c8db,e346bcbf448543829cda7e58b9183343b1f7d0e2,Colin Xu,2019-06-10,"hax: Honor CPUState::halted\n\nQEMU tracks whether a vcpu is halted using CPUState::halted. E.g.,\nafter initialization or reset, halted is 0 for the BSP (vcpu 0)\nand 1 for the APs (vcpu 1, 2, ...). A halted vcpu should not be\nhanded to the hypervisor to run (e.g. hax_vcpu_run()).\n\nUnder HAXM, Android Emulator sometimes boots into a ""vcpu shutdown\nrequest"" error while executing in SeaBIOS, with the HAXM driver\nlogging a guest triple fault in vcpu 1, 2, ... at RIP 0x3. That is\nultimately because the HAX accelerator asks HAXM to run those APs\nwhen they are still in the halted state.\n\nNormally, the vcpu thread for an AP will start by looping in\nqemu_wait_io_event(), until the BSP kicks it via a pair of IPIs\n(INIT followed by SIPI). But because the HAX accelerator does not\nhonor cpu->halted, it allows the AP vcpu thread to proceed to\nhax_vcpu_run() as soon as it receives any kick, even if the kick\ndoes not come from the BSP. It turns out that emulator has a\nworker thread which periodically kicks every vcpu thread (possibly\nto collect CPU usage data), and if one of these kicks comes before\nthose by the BSP, the AP will start execution from the wrong RIP,\nresulting in the aforementioned SMP boot failure.\n\nThe solution is inspired by the KVM accelerator (credit to\nChuanxiao Dong <chuanxiao.dong@intel.com> for the pointer):\n\n1. Get rid of questionable logic that unconditionally resets\n   cpu->halted before hax_vcpu_run(). Instead, only reset it at the\n   right moments (there are only a few ""unhalt"" events).\n2. Add a check for cpu->halted before hax_vcpu_run().\n\nNote that although the non-Unrestricted Guest (!ug_platform) code\npath also forcibly resets cpu->halted, it is left untouched,\nbecause only the UG code path supports SMP guests.\n\nThe patch is first merged to android emulator with Change-Id:\nI9c5752cc737fd305d7eace1768ea12a07309d716\n\nCc: Yu Ning <yu.ning@intel.com>\nCc: Chuanxiao Dong <chuanxiao.dong@intel.com>\nSigned-off-by: Colin Xu <colin.xu@intel.com>\nMessage-Id: <20190610021939.13669-1-colin.xu@intel.com>",1,0.9986567497253418,"HAX, KVM","cpus.c, target/i386/hax-all.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,18ab37ba1cee290923240744288dbee8be9355fb,bceeeef9e7544057659118688243260c390eceb9,Liran Alon,2019-06-19,"target/i386: kvm: Block migration for vCPUs exposed with nested virtualization\n\nCommit d98f26073beb (""target/i386: kvm: add VMX migration blocker"")\nadded a migration blocker for vCPU exposed with Intel VMX.\nHowever, migration should also be blocked for vCPU exposed with\nAMD SVM.\n\nBoth cases should be blocked because QEMU should extract additional\nvCPU state from KVM that should be migrated as part of vCPU VMState.\nE.g. Whether vCPU is running in guest-mode or host-mode.\n\nFixes: d98f26073beb (""target/i386: kvm: add VMX migration blocker"")\nReviewed-by: Maran Wilson <maran.wilson@oracle.com>\nSigned-off-by: Liran Alon <liran.alon@oracle.com>\nMessage-Id: <20190619162140.133674-6-liran.alon@oracle.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9993429780006408,KVM,"target/i386/cpu.c, target/i386/cpu.h, target/i386/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fd13f23b8c95311eff74426921557eee592b0ed3,ebbfef2f34cfc749c045a4569dedb4f748ec024a,Liran Alon,2019-06-19,"target/i386: kvm: Add support for KVM_CAP_EXCEPTION_PAYLOAD\n\nKernel commit c4f55198c7c2 (""kvm: x86: Introduce KVM_CAP_EXCEPTION_PAYLOAD"")\nintroduced a new KVM capability which allows userspace to correctly\ndistinguish between pending and injected exceptions.\n\nThis distinguish is important in case of nested virtualization scenarios\nbecause a L2 pending exception can still be intercepted by the L1 hypervisor\nwhile a L2 injected exception cannot.\n\nFurthermore, when an exception is attempted to be injected by QEMU,\nQEMU should specify the exception payload (CR2 in case of #PF or\nDR6 in case of #DB) instead of having the payload already delivered in\nthe respective vCPU register. Because in case exception is injected to\nL2 guest and is intercepted by L1 hypervisor, then payload needs to be\nreported to L1 intercept (VMExit handler) while still preserving\nrespective vCPU register unchanged.\n\nThis commit adds support for QEMU to properly utilise this new KVM\ncapability (KVM_CAP_EXCEPTION_PAYLOAD).\n\nReviewed-by: Nikita Leshenko <nikita.leshchenko@oracle.com>\nSigned-off-by: Liran Alon <liran.alon@oracle.com>\nMessage-Id: <20190619162140.133674-10-liran.alon@oracle.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.997789978981018,KVM,"target/i386/cpu.c, target/i386/cpu.h, target/i386/hvf/hvf.c, target/i386/hvf/x86hvf.c, target/i386/kvm.c, target/i386/machine.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d37eae6ccd115d43474416dfcb35fe81e22cf0dc,8110b2bf7ed6a5ed17c6fdd6f67a546c77f13f0d,Aleksandar Markovic,2019-06-25,"dma/rc4030: Fix off-by-one error in specified memory region size\n\nThe size is one byte less than it should be:\n\naddress-space: rc4030-dma\n  0000000000000000-00000000fffffffe (prio 0, i/o): rc4030.dma\n\nrc4030 is used in MIPS Jazz board context.\n\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nReviewed-by: Aleksandar Rikalo <arikalo@wavecomp.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nTested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <1561472838-32272-2-git-send-email-aleksandar.markovic@rt-rk.com>",1,0.9996837377548218,MIPS,hw/dma/rc4030.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e1a9b7d1fcc1f41c917c0306bd1f2adf0d5d8e1e,b87a0100cde349a977a19969660660bcb84720be,Cdric Le Goater,2019-06-12,"ppc/pnv: fix StoreEOI activation\n\nThe firmware (skiboot) of the PowerNV machines can configure the XIVE\ninterrupt controller to activate StoreEOI on the ESB pages of the\ninterrupts. This feature lets software do an EOI with a store instead\nof a load. It is not activated today on P9 for rare race condition\nissues but it should be on future processors.\n\nNevertheless, QEMU has a model for StoreEOI which can be used today by\nexperimental firmwares. But, the use of object_property_set_int() in\nthe PnvXive model is incorrect and crashes QEMU. Replace it with a\ndirect access to the ESB flags of the XiveSource object modeling the\ninternal sources of the interrupt controller.\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20190612162357.29566-1-clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997005462646484,XIVE,hw/intc/pnv_xive.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,740a19313b85527f6984b0fd4fee9b683b4ea1e2,c29a0b0fb3520a2ab5fe566bf39340b4ef3efeb9,Philippe Mathieu-Daud,2019-06-13,"spapr_pci: Fix potential NULL pointer dereference in spapr_dt_pci_bus()\n\nCommit 14e714900f6 refactored the call to spapr_dt_drc(),\nintroducing a potential NULL pointer dereference while\naccessing bus->parent_dev.\nA trivial audit show 'bus' is not null in the two places\nthe static function spapr_dt_drc() is called.\n\nSince the 'bus' parameter is not NULL in both callers, remove\nremove the test on if (bus), and add an assert() to silent\nstatic analyzers.\n\nThis fixes:\n\n  /hw/ppc/spapr_pci.c: 1367 in spapr_dt_pci_bus()\n  >>>     CID 1401933:  Null pointer dereferences  (FORWARD_NULL)\n  >>>     Dereferencing null pointer ""bus"".\n  1367         ret = spapr_dt_drc(fdt, offset, OBJECT(bus->parent_dev),\n  1368                            SPAPR_DR_CONNECTOR_TYPE_PCI);\n\nFixes: 14e714900f6\nReported-by: Coverity (CID 1401933)\nSuggested-by: Greg Kurz <groug@kaod.org>\nSuggested-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20190613213406.22053-1-philmd@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9990098476409912,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d9715d67722ebd7198a35681cfc9a6595bdb08f0,740a19313b85527f6984b0fd4fee9b683b4ea1e2,Greg Kurz,2019-06-13,"xics/spapr: Prevent RTAS/hypercalls emulation to be used by in-kernel XICS\n\nThe XICS-related RTAS calls and hypercalls in QEMU are not supposed to\nbe called when the KVM in-kernel XICS is in use.\n\nAdd some explicit checks to detect that, print an error message and report\nan hardware error to the guest.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <156044429419.125694.507569071972451514.stgit@bahia.lab.toulouse-stg.fr.ibm.com>\n[dwg: Correction to commit message]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999535322189331,"KVM, XICS",hw/intc/xics_spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d9293c4843b2503c905d35899077fc415824783e,d9715d67722ebd7198a35681cfc9a6595bdb08f0,Greg Kurz,2019-06-13,"xics/spapr: Register RTAS/hypercalls once at machine init\n\nQEMU may crash when running a spapr machine in 'dual' interrupt controller\nmode on some older (but not that old, eg. ubuntu 18.04.2) KVMs with partial\nXIVE support:\n\nqemu-system-ppc64: hw/ppc/spapr_rtas.c:411: spapr_rtas_register:\n Assertion `!name || !rtas_table[token].name' failed.\n\nXICS is controlled by the guest thanks to a set of RTAS calls. Depending\non whether KVM XICS is used or not, the RTAS calls are handled by KVM or\nQEMU. In both cases, QEMU needs to expose the RTAS calls to the guest\nthrough the ""rtas"" node of the device tree.\n\nThe spapr_rtas_register() helper takes care of all of that: it adds the\nRTAS call token to the ""rtas"" node and registers a QEMU callback to be\ninvoked when the guest issues the RTAS call. In the KVM XICS case, QEMU\nregisters a dummy callback that just prints an error since it isn't\nsupposed to be invoked, ever.\n\nHistorically, the XICS controller was setup during machine init and\nreleased during final teardown. This changed when the 'dual' interrupt\ncontroller mode was added to the spapr machine: in this case we need\nto tear the XICS down and set it up again during machine reset. The\ncrash happens because we indeed have an incompatibility with older\nKVMs that forces QEMU to fallback on emulated XICS, which tries to\nre-registers the same RTAS calls.\n\nThis could be fixed by adding proper rollback that would unregister\nRTAS calls on error. But since the emulated RTAS calls in QEMU can\nnow detect when they are mistakenly called while KVM XICS is in\nuse, it seems simpler to register them once and for all at machine\ninit. This fixes the crash and allows to remove some now useless\nlines of code.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <156044429963.125694.13710679451927268758.stgit@bahia.lab.toulouse-stg.fr.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9975558519363404,"KVM, XICS, XIVE","hw/intc/xics_kvm.c, hw/intc/xics_spapr.c, hw/ppc/spapr_irq.c, include/hw/ppc/spapr.h, include/hw/ppc/xics.h, include/hw/ppc/xics_spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7abc0c6d35306a41a48eda7ab2b7b2d51f32f86b,d9293c4843b2503c905d35899077fc415824783e,Greg Kurz,2019-06-13,"xics/spapr: Detect old KVM XICS on POWER9 hosts\n\nOlder KVMs on POWER9 don't support destroying/recreating a KVM XICS\ndevice, which is required by 'dual' interrupt controller mode. This\ncauses QEMU to emit a warning when the guest is rebooted and to fall\nback on XICS emulation:\n\nqemu-system-ppc64: warning: kernel_irqchip allowed but unavailable:\n Error on KVM_CREATE_DEVICE for XICS: File exists\n\nIf kernel irqchip is required, QEMU will thus exit when the guest is\nfirst rebooted. Failing QEMU this late may be a painful experience\nfor the user.\n\nDetect that and exit at machine init instead.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <156044430517.125694.6207865998817342638.stgit@bahia.lab.toulouse-stg.fr.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.998330533504486,"KVM, XICS","docs/specs/ppc-spapr-xive.rst, hw/intc/xics_kvm.c, hw/ppc/spapr_irq.c, include/hw/ppc/xics_spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7e10b57dd9e0d2570ecccca0e2f418618f303d8c,2a17583082f5350edb17207d76252603ec960afa,Greg Kurz,2019-06-18,"spapr_pci: Fix DRC owner in spapr_dt_pci_bus()\n\nspapr_dt_drc() scans the aliases of all DRConnector objects and filters\nthe ones that it will use to generate OF properties according to their\nowner and type.\n\nPassing bus->parent_dev _works_ if bus belongs to a PCI bridge, but it is\nNULL if it is the PHB's root bus. This causes all allocated PCI DRCs to\nbe associated to all PHBs (visible in their ""ibm,drc-types"" properties).\nAs a consequence, hot unplugging a PHB results in PCI devices from the\nother PHBs to be unplugged as well, and likely confuses the guest.\n\nUse the same logic as in add_drcs() to ensure the correct owner is passed\nto spapr_dt_drc().\n\nFixes: 14e714900f6b ""spapr: Allow hot plug/unplug of PCI bridges and devices under PCI bridges""\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <156084737348.512412.3552825999605902691.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996964931488036,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,330a21e3c45e9bee5f47e032b678a48e1ed84e9e,ab3d15fa84e49bdb509b7cf9f9c63e78298b2919,Greg Kurz,2019-06-17,"xics/kvm: Add error propagation to ic*_set_kvm_state() functions\n\nThis allows errors happening there to be propagated up to spapr_irq,\njust like XIVE already does.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <156077921763.433243.4614327010172954196.stgit@bahia.lan>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9971851706504822,XIVE,"hw/intc/xics.c, hw/intc/xics_kvm.c, include/hw/ppc/xics.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8256870ada9379abfd1f5b2c209ad01092dd0904,fe9a9d527da8ae939ee7eb32cb0045d2c3f75a11,Cdric Le Goater,2019-06-30,"ppc/xive: Make the PIPR register readonly\n\nWhen the hypervisor (KVM) dispatches a vCPU on a HW thread, it restores\nits thread interrupt context. The Pending Interrupt Priority Register\n(PIPR) is computed from the Interrupt Pending Buffer (IPB) and stores\nshould not be allowed to change its value.\n\nFixes: 207d9fe98510 (""ppc/xive: introduce the XIVE interrupt thread context"")\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20190630204601.30574-3-clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9995940327644348,"KVM, XIVE",hw/intc/xive.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bf9136722c47ce964715fa3fcff4b16cbbd08d58,d42744fe0417a3b88f04f32881b7af9f48de3d2c,Aleksandar Markovic,2019-06-28,"linux-user: Fix target_flock structure for MIPS O64 ABI\n\nAmong MIPS ABIs, only MIPS O32 and N32 have special (different\nthan other architectures) definition of structure flock in kernel.\n\nBring target_flock definition in QEMU for MIPS O64 ABI to the\ncorrect state, which is currently different than the most common\ndefinition, and it should actually be the same.\n\nReported-by: Dragan Mladjenovic <dmladjenovic@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <1561718618-20218-4-git-send-email-aleksandar.markovic@rt-rk.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.998838484287262,MIPS,"linux-user/generic/fcntl.h, linux-user/mips/target_fcntl.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,64ce541c0bde7f8bcf8b39a08c32e71ceab23268,1272a6c4883db77e08a9cff1d2d3d1fa1f420865,Aleksandar Markovic,2019-06-28,"linux-user: Handle EXCP_FPE properly for MIPS\n\nHandle EXCP_FPE properly for MIPS in cpu loop.\n\nNote that a vast majority of FP instructions are not affected by\nthe absence of the code in this patch, as they use alternative code\npaths for handling floating point exceptions (see, for example,\ninvocations of update_fcr31()) - they rely on softfloat library for\nkeeping track on exceptions that needs to be raised. However, there\nare few MIPS FP instructions (an example is CTC1) that use function\ndo_raise_exception() directly, and they need the case that is added\nin this patch to propagate the FPE exception as designed.\n\nThe code is based on kernel's function force_fcr31_sig() in\narch/mips/kernel.traps.c.\n\nReported-by: Yunqiang Su <ysu@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <1561718618-20218-6-git-send-email-aleksandar.markovic@rt-rk.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9986751675605774,MIPS,linux-user/mips/cpu_loop.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5053bd781143c354dfe3c8747d6c013dc22851b6,d53f7a61c345f3412af2a43fe21fd4dbaa877368,Eric Auger,2019-07-02,vfio/pci: Trace vfio_set_irq_signaling() failure in vfio_msix_vector_release()\n\nReport an error in case we fail to set a trigger action\non any VFIO_PCI_MSIX_IRQ_INDEX subindex. This might be\nuseful in debugging a device that is not working properly.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReported-by: Coverity (CID 1402196)\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>,1,0.9997307658195496,"PCI, VFIO, VFIO_PCI",hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4cdf03e21ea9d00d988b210864f44cfef29d5919,4f2f62762f8119886fbb65920931613cd87840b3,Alex Benne,2019-06-24,target/i386: fix feature check in hyperv-stub.c\n\nCommit 2d384d7c8 broken the build when built with:\n\n  configure --without-default-devices --disable-user\n\nThe reason was the conversion of cpu->hyperv_synic to\ncpu->hyperv_synic_kvm_only although the rest of the patch introduces a\nfeature checking mechanism. So I've fixed the KVM_EXIT_HYPERV_SYNIC in\nhyperv-stub to do the same feature check as in the real hyperv.c\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Roman Kagan <rkagan@virtuozzo.com>\nReviewed-by: Vitaly Kuznetsov <vkuznets@redhat.com>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996170997619628,"HYPERV, KVM",target/i386/hyperv-stub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,683c1d89efd1eeb111c129a9a91f629b94d90d45,a0a49813f7f2fc23bfe8a4fc6760e2a60c9a3e59,Marc-Andr Lureau,2019-06-26,"virtio-pci: fix missing device properties\n\nSince commit a4ee4c8baa37154 (""virtio: Helper for registering virtio\ndevice types""), virtio-gpu-pci, virtio-vga, and virtio-crypto-pci lost\nsome properties: ""ioeventfd"" and ""vectors"". This may cause various\nissues, such as failing migration or invalid properties.\n\nSince those VirtioPCI devices do not have a base name, their class are\ninitialized with virtio_pci_generic_base_class_init(). However, if the\nVirtioPCIDeviceTypeInfo provided a class_init which sets dc->props,\nthe properties were overwritten by virtio_pci_generic_class_init().\n\nInstead, introduce an intermediary base-type to register the generic\nproperties.\n\nFixes: a4ee4c8baa37154f42b4dc6a13fee79268d15238\nCc: qemu-stable@nongnu.org\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20190625232333.30752-1-marcandre.lureau@redhat.com>",1,0.9997217059135436,PCI,hw/virtio/virtio-pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a38127414bd007c5b6ae64c664d9e8839393277e,c799d2ee7e92433128ed9256a5fcc35f40f2f6c2,BALATON Zoltan,2019-07-03,ati-vga: Fix frame buffer endianness for big endian target\n\nThe extended mode frame buffer should be little endian even when\nemulating big endian machine (such as PPC). This fixes color problems\nwith MorphOS.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-id: 439aa85061f103446df7b42632d730971a372432.1562151410.git.balaton@eik.bme.hu\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9997150301933287,PPC,"hw/display/ati.c, hw/display/ati_2d.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,584acf34cb05f16e13a46d666196a7583d232616,a38127414bd007c5b6ae64c664d9e8839393277e,BALATON Zoltan,2019-07-04,"ati-vga: Fix reverse bit blts\n\nThe pixman library only supports blts with left to right, top to\nbottom order but the ATI VGA engine can also do different directions.\nFix support for these via a temporary buffer for now. This fixes\nrendering issues related to such blts (such as moving windows) but\nsome other glitches still remain.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-id: e21855faaeb30d7b1771f084f283f6a30bedb1a3.1562227303.git.balaton@eik.bme.hu\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997331500053406,VGA,hw/display/ati_2d.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d6d10793dcfa33504745be40b49bd747ff8752ef,9dc83cd9c3cd766263a7180bccaf67afe970d816,Yan Zhao,2019-06-24,"intel_iommu: Fix incorrect ""end"" for vtd_address_space_unmap\n\nIOMMUNotifier is with inclusive ranges, so we should check\nagainst (VTD_ADDRESS_SIZE(s->aw_bits) - 1).\n\nSigned-off-by: Yan Zhao <yan.y.zhao@intel.com>\n[peterx: split from another bigger patch]\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20190624091811.30412-2-peterx@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9992327690124512,VTD,hw/i386/intel_iommu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4b03403f7684ef2dc2af5f8ab8ab52515562e3fb,d15d3d573aa16ac4748d7c0291e582ed9d007485,Alex Benne,2019-06-24,target/i386: fix feature check in hyperv-stub.c\n\nCommit 2d384d7c8 broken the build when built with:\n\n  configure --without-default-devices --disable-user\n\nThe reason was the conversion of cpu->hyperv_synic to\ncpu->hyperv_synic_kvm_only although the rest of the patch introduces a\nfeature checking mechanism. So I've fixed the KVM_EXIT_HYPERV_SYNIC in\nhyperv-stub to do the same feature check as in the real hyperv.c\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nCc: Vitaly Kuznetsov <vkuznets@redhat.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Roman Kagan <rkagan@virtuozzo.com>\nMessage-Id: <20190624123835.28869-1-alex.bennee@linaro.org>\nReviewed-by: Vitaly Kuznetsov <vkuznets@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996170997619628,"HYPERV, KVM",target/i386/hyperv-stub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ec7b1bbd2c470d8766b61617bd4d8ba46aa2056b,6b7ac49d570c66754fad1b80cc200c7596d1facd,Liran Alon,2019-06-25,"target/i386: kvm: Fix when nested state is needed for migration\n\nWhen vCPU is in VMX operation and enters SMM mode,\nit temporarily exits VMX operation but KVM maintained nested-state\nstill stores the VMXON region physical address, i.e. even when the\nvCPU is in SMM mode then (nested_state->hdr.vmx.vmxon_pa != -1ull).\n\nTherefore, there is no need to explicitly check for\nKVM_STATE_NESTED_SMM_VMXON to determine if it is necessary\nto save nested-state as part of migration stream.\n\nReviewed-by: Karl Heubaum <karl.heubaum@oracle.com>\nSigned-off-by: Liran Alon <liran.alon@oracle.com>\nMessage-Id: <20190624230514.53326-1-liran.alon@oracle.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997149109840392,KVM,target/i386/machine.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,60386ea270c8c9425b76d01ee42039f24d7bc833,6c22ea9d83ca91a3f5453d2699381a901f144ab5,Julio Montes,2019-07-05,hw/i386: Fix linker error when ISAPC is disabled\n\nv2: include config-devices.h to use CONFIG_IDE_ISA\n\nMessage-Id: <20190705143554.10295-2-julio.montes@intel.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Julio Montes <julio.montes@intel.com>,1,0.999674677848816,"IDE_ISA, ISAPC",hw/i386/pc_piix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,85795187f416326f87177cabc39fae1911f04c50,c8ead5712486edb5058475fdef2c616857f5056f,Philippe Mathieu-Daud,2019-07-08,"target/arm/vfp_helper: Call set_fpscr_to_host before updating to FPSCR\n\nIn commit e9d652824b0 we extracted the vfp_set_fpscr_to_host()\nfunction but failed at calling it in the correct place, we call\nit after xregs[ARM_VFP_FPSCR] is modified.\n\nFix by calling this function before we update FPSCR.\n\nReported-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nTested-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nMessage-id: 20190705124318.1075-1-philmd@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9982503056526184,ARM,target/arm/vfp_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,867eccfed84f96b54f4a432c510a02c2ce03b430,20ff903d527b6de4220d5124f083a05e512c3581,Maxim Levitsky,2019-07-04,"file-posix: Use max transfer length/segment count only for SCSI passthrough\n\nRegular kernel block devices (/dev/sda*, /dev/nvme*, etc) don't have\nmax segment size/max segment count hardware requirements exposed\nto the userspace, but rather the kernel block layer\ntakes care to split the incoming requests that\nviolate these requirements.\n\nAllowing the kernel to do the splitting allows qemu to avoid\nvarious overheads that arise otherwise from this.\n\nThis is especially visible in nbd server,\nexposing as a raw file, a mostly empty qcow2 image over the net.\nIn this case most of the reads by the remote user\nwon't even hit the underlying kernel block device,\nand therefore most of the  overhead will be in the\nnbd traffic which increases significantly with lower max transfer size.\n\nIn addition to that even for local block device\naccess the peformance improves a bit due to less\ntraffic between qemu and the kernel when large\ntransfer sizes are used (e.g for image conversion)\n\nMore info can be found at:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1647104\n\nSigned-off-by: Maxim Levitsky <mlevitsk@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Pankaj Gupta <pagupta@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9933119416236876,SCSI,block/file-posix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2bbadb08ce272d65e1f78621002008b07d1e0f03,4d90b7a0e4aa8051d4a059d49e458e3378aa39ff,Stefan Hajnoczi,2019-07-10,"virtio-balloon: fix QEMU 4.0 config size migration incompatibility\n\nThe virtio-balloon config size changed in QEMU 4.0 even for existing\nmachine types.  Migration from QEMU 3.1 to 4.0 can fail in some\ncircumstances with the following error:\n\n  qemu-system-x86_64: get_pci_config_device: Bad config data: i=0x10 read: a1 device: 1 cmask: ff wmask: c0 w1cmask:0\n\nThis happens because the virtio-balloon config size affects the VIRTIO\nLegacy I/O Memory PCI BAR size.\n\nIntroduce a qdev property called ""qemu-4-0-config-size"" and enable it\nonly for the QEMU 4.0 machine types.  This way <4.0 machine types use\nthe old size, 4.0 uses the larger size, and >4.0 machine types use the\nappropriate size depending on enabled virtio-balloon features.\n\nLive migration to and from old QEMUs to QEMU 4.1 works again as long as\na versioned machine type is specified (do not use just ""pc""!).\n\nOriginally-by: Wolfgang Bumiller <w.bumiller@proxmox.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-Id: <20190710141440.27635-1-stefanha@redhat.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nTested-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nTested-by: Wolfgang Bumiller <w.bumiller@proxmox.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997010231018066,"PCI, VIRTIO","hw/core/machine.c, hw/virtio/virtio-balloon.c, include/hw/virtio/virtio-balloon.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,97fd1ea8c1065839ae4c19bfdc3590033a5b9788,60ae0b91fe78862a6cedc03966929258fa7a39e1,Julio Montes,2019-07-12,"hw/i386: turn off vmport if CONFIG_VMPORT is disabled\n\nvmport device is not included when CONFIG_VMPORT is disabled, hence\nQEMU fails with the following error:\n\n`Unknown device 'vmport' for bus 'ISA': unknown.`\n\nv2: imply VMPORT (Paolo Bonzini )\n\nSigned-off-by: Julio Montes <julio.montes@intel.com>\nMessage-Id: <20190712160257.18270-1-julio.montes@intel.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9994115829467772,VMPORT,"hw/i386/Kconfig, hw/i386/pc.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f2b143a28138a837e9a452e247e1703ebd6bf55e,838ec1177c45812ff177a35ff93990e9eb7f70c3,Stefan Weil,2019-07-12,Fix broken build with WHPX enabled\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nMessage-Id: <20190712132611.20411-1-sw@weilnetz.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996505975723268,WHPX,target/i386/whpx-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,45b1a243b81a7c9ae56235937280711dd9914ca7,b9404bf592e7ba74180e1a54ed7a266ec6ee67f2,Alex Benne,2019-07-15,"target/arm: report ARMv8-A FP support for AArch32 -cpu max\n\nWhen we converted to using feature bits in 602f6e42cfbf we missed out\nthe fact (dp && arm_dc_feature(s, ARM_FEATURE_V8)) was supported for\n-cpu max configurations. This caused a regression in the GCC test\nsuite. Fix this by setting the appropriate bits in mvfr1.FPHP to\nreport ARMv8-A with FP support (but not ARMv8.2-FP16).\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1836078\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20190711103737.10017-1-alex.bennee@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996719360351562,ARM,target/arm/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb7cef8b32033f6284a47d797edd5c19c5491698,032cfe6a79c842a47cb8cc911c9961eb7ca51a98,Peter Maydell,2019-07-15,"target/arm: Set VFP-related MVFR0 fields for arm926 and arm1026\n\nThe ARMv5 architecture didn't specify detailed per-feature ID\nregisters. Now that we're using the MVFR0 register fields to\ngate the existence of VFP instructions, we need to set up\nthe correct values in the cpu->isar structure so that we still\nprovide an FPU to the guest.\n\nThis fixes a regression in the arm926 and arm1026 CPUs, which\nare the only ones that both have VFP and are ARMv5 or earlier.\nThis regression was introduced by the VFP refactoring, and more\nspecifically by commits 1120827fa182f0e76 and 266bd25c485597c,\nwhich accidentally disabled VFP short-vector support and\ndouble-precision support on these CPUs.\n\nFixes: 1120827fa182f0e\nFixes: 266bd25c485597c\nFixes: https://bugs.launchpad.net/qemu/+bug/1836192\nReported-by: Christophe Lyon <christophe.lyon@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nTested-by: Christophe Lyon <christophe.lyon@linaro.org>\nMessage-id: 20190711131241.22231-1-peter.maydell@linaro.org",1,0.9992457628250122,ARM,target/arm/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4ced996ffe3f08883fa5bd423bcfafdfd6f13189,a1a4d49f60d2b899620ee2be4ebb991c4a90a026,Aleksandar Markovic,2019-07-12,"linux-user: Fix structure target_ucontext for MIPS\n\nStructure ucontext for MIPS is defined in the following way in\nLinux kernel:\n\n(arch/mips/include/uapi/asm/ucontext.h, lines 54-64)\n\nstruct ucontext {\n    /* Historic fields matching asm-generic */\n    unsigned long       uc_flags;\n    struct ucontext     *uc_link;\n    stack_t             uc_stack;\n    struct sigcontext   uc_mcontext;\n    sigset_t            uc_sigmask;\n\n    /* Extended context structures may follow ucontext */\n    unsigned long long	uc_extcontext[0];\n};\n\nFix the structure target_ucontext for MIPS to reflect the definition\nabove, except the correction for field uc_extcontext, which will\nfollow at some later time.\n\nFixes: 94c5495d\n\nReported-by: Dragan Mladjenovic <dmladjenovic@wavecomp.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <1562931470-3700-2-git-send-email-aleksandar.markovic@rt-rk.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9996988773345948,MIPS,linux-user/mips/signal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,efac5ae420ca0644db9360861a1bf02d040afd18,0b18cfb8f1828c905139b54c8644b0d8f4aad879,Cornelia Huck,2019-07-08,"s390x/pci: add some fallthrough annotations\n\nAccording to the comment, the bits are supposed to accumulate.\n\nReported-by: Stefan Weil <sw@weilnetz.de>\nFixes: 5d1abf234462 (""s390x/pci: enforce zPCI state checking"")\nAcked-by: Collin Walling <walling@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9997028708457948,PCI,hw/s390x/s390-pci-inst.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1849f297f5952ea60ddfd39fe02ce21cba6aa4d8,68fa7ca015dc8afb86e3aa51b31362f63048bd5c,Shin'ichiro Kawasaki,2019-07-18,"scsi-generic: Check sense key before request snooping and patching\n\nWhen READ CAPACITY command completes, scsi_read_complete() function\nsnoops the command result and updates SCSIDevice members blocksize and\nmax_lba . However, this update is executed even when READ CAPACITY\ncommand indicates an error in sense data. This causes unexpected\nblocksize update with zero value for SCSI devices without\nREAD CAPACITY(10) command support and eventually results in a divide\nby zero. An emulated device by TCMU-runner is an example of a device\nthat doesn't support READ CAPACITY(10) command.\n\nTo avoid the unexpected update, add sense key check in\nscsi_read_complete() function. The function already checks the sense key\nfor VPD Block Limits emulation. Do the scsi_parse_sense_buf() call for\nall requests rather than just for VPD Block Limits emulation, so that\nblocksize and max_lba are only updated if READ CAPACITY returns zero\nsense key.\n\nSigned-off-by: Shin'ichiro Kawasaki <shinichiro.kawasaki@wdc.com>\n[Extend the check to all requests, not just READ CAPACITY]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9987024068832396,SCSI,hw/scsi/scsi-generic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6d314626cc20e47108eb3d3e6e926dd802b23441,e54ecc70c34d3ea4326cbf4f945530725532f2ab,Alex Benne,2019-07-17,hw/i386: also turn off VMMOUSE is VMPORT is disabled\n\nCommit 97fd1ea8c1 broke the build for --without-default-devices as\nVMMOUSE depends on VMPORT.\n\nFixes: 97fd1ea8c1\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>,1,0.999639630317688,"VMMOUSE, VMPORT",hw/i386/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9c5aad84da1c37429d06c193f23a8df6445ed29e,23da9e297b4120ca9702cabec91599a44255fe96,Zhengui li,2019-07-22,"virtio-scsi: fixed virtio_scsi_ctx_check failed when detaching scsi disk\n\ncommit a6f230c move blockbackend back to main AioContext on unplug. It set the AioContext of\nSCSIDevice to the main AioContex, but s->ctx is still the iothread AioContexif the scsi controller\nis configure with iothread. So if there are having in-flight requests during unplug, a failing assertion\nhappend. The bt is below:\n(gdb) bt\n#0  0x0000ffff86aacbd0 in raise () from /lib64/libc.so.6\n#1  0x0000ffff86aadf7c in abort () from /lib64/libc.so.6\n#2  0x0000ffff86aa6124 in __assert_fail_base () from /lib64/libc.so.6\n#3  0x0000ffff86aa61a4 in __assert_fail () from /lib64/libc.so.6\n#4  0x0000000000529118 in virtio_scsi_ctx_check (d=<optimized out>, s=<optimized out>, s=<optimized out>) at /home/qemu-4.0.0/hw/scsi/virtio-scsi.c:246\n#5  0x0000000000529ec4 in virtio_scsi_handle_cmd_req_prepare (s=0x2779ec00, req=0xffff740397d0) at /home/qemu-4.0.0/hw/scsi/virtio-scsi.c:559\n#6  0x000000000052a228 in virtio_scsi_handle_cmd_vq (s=0x2779ec00, vq=0xffff7c6d7110) at /home/qemu-4.0.0/hw/scsi/virtio-scsi.c:603\n#7  0x000000000052afa8 in virtio_scsi_data_plane_handle_cmd (vdev=<optimized out>, vq=0xffff7c6d7110) at /home/qemu-4.0.0/hw/scsi/virtio-scsi-dataplane.c:59\n#8  0x000000000054d94c in virtio_queue_host_notifier_aio_poll (opaque=<optimized out>) at /home/qemu-4.0.0/hw/virtio/virtio.c:2452\n\nassert(blk_get_aio_context(d->conf.blk) == s->ctx) failed.\n\nTo avoid assertion failed,  moving the ""if"" after qdev_simple_device_unplug_cb.\n\nIn addition, to avoid another qemu crash below, add aio_disable_external before\nqdev_simple_device_unplug_cb, which disable the further processing of external clients\nwhen doing qdev_simple_device_unplug_cb.\n(gdb) bt\n#0  scsi_req_unref (req=0xffff6802c6f0) at hw/scsi/scsi-bus.c:1283\n#1  0x00000000005294a4 in virtio_scsi_handle_cmd_req_submit (req=<optimized out>,\n    s=<optimized out>) at /home/qemu-4.0.0/hw/scsi/virtio-scsi.c:589\n#2  0x000000000052a2a8 in virtio_scsi_handle_cmd_vq (s=s@entry=0x9c90e90,\n    vq=vq@entry=0xffff7c05f110) at /home/qemu-4.0.0/hw/scsi/virtio-scsi.c:625\n#3  0x000000000052afd8 in virtio_scsi_data_plane_handle_cmd (vdev=<optimized out>,\n    vq=0xffff7c05f110) at /home/qemu-4.0.0/hw/scsi/virtio-scsi-dataplane.c:60\n#4  0x000000000054d97c in virtio_queue_host_notifier_aio_poll (opaque=<optimized out>)\n    at /home/qemu-4.0.0/hw/virtio/virtio.c:2447\n#5  0x00000000009b204c in run_poll_handlers_once (ctx=ctx@entry=0x6efea40,\n    timeout=timeout@entry=0xffff7d7f7308) at util/aio-posix.c:521\n#6  0x00000000009b2b64 in run_poll_handlers (ctx=ctx@entry=0x6efea40,\n    max_ns=max_ns@entry=4000, timeout=timeout@entry=0xffff7d7f7308) at util/aio-posix.c:559\n#7  0x00000000009b2ca0 in try_poll_mode (ctx=ctx@entry=0x6efea40, timeout=0xffff7d7f7308,\n    timeout@entry=0xffff7d7f7348) at util/aio-posix.c:594\n#8  0x00000000009b31b8 in aio_poll (ctx=0x6efea40, blocking=blocking@entry=true)\n    at util/aio-posix.c:636\n#9  0x00000000006973cc in iothread_run (opaque=0x6ebd800) at iothread.c:75\n#10 0x00000000009b592c in qemu_thread_start (args=0x6efef60) at util/qemu-thread-posix.c:502\n#11 0x0000ffff8057f8bc in start_thread () from /lib64/libpthread.so.0\n#12 0x0000ffff804e5f8c in thread_start () from /lib64/libc.so.6\n(gdb) p bus\n$1 = (SCSIBus *) 0x0\n\nSigned-off-by: Zhengui li <lizhengui@huawei.com>\nMessage-Id: <1563696502-7972-1-git-send-email-lizhengui@huawei.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-Id: <1563829520-17525-1-git-send-email-pbonzini@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995429515838624,SCSI,hw/scsi/virtio-scsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,21e2acd583126db94f6d881005cd58e835160582,df98d7ccc2e9e3e5080cce30a6d9c09dd827dc15,Evgeny Yakovlev,2019-07-18,"i386/acpi: fix gint overflow in crs_range_compare\n\nWhen very large regions (32GB sized in our case, PCI pass-through of GPUs)\nare compared substraction result does not fit into gint.\n\nAs a result crs_replace_with_free_ranges does not get sorted ranges and\nincorrectly computes PCI64 free space regions. Which then makes linux\nguest complain about device and PCI64 hole intersection and device\nbecomes unusable.\n\nFix that by returning exactly fitting ranges.\n\nAlso fix indentation of an entire crs_replace_with_free_ranges to make\ncheckpatch happy.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Evgeny Yakovlev <wrfsh@yandex-team.ru>\nMessage-Id: <1563466463-26012-1-git-send-email-wrfsh@yandex-team.ru>\nSigned-off-by: Evgeny Yakovlev <wrfsh@yandex-team.ru>",1,0.999718964099884,PCI,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,be1927c97e564346cbd409cb17fe611df74b84e5,21e2acd583126db94f6d881005cd58e835160582,Jan Kiszka,2019-06-02,"ioapic: kvm: Skip route updates for masked pins\n\nMasked entries will not generate interrupt messages, thus do no need to\nbe routed by KVM. This is a cosmetic cleanup, just avoiding warnings of\nthe kind\n\nqemu-system-x86_64: vtd_irte_get: detected non-present IRTE (index=0, high=0xff00, low=0x100)\n\nif the masked entry happens to reference a non-present IRTE.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Jan Kiszka <jan.kiszka@siemens.com>\nMessage-Id: <a84b7e03-f9a8-b577-be27-4d93d1caa1c9@siemens.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Peter Xu <peterx@redhat.com>",1,0.9966367483139038,KVM,hw/intc/ioapic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,830fc739d05b87b547ae281435335b366a279e20,c985266ea5b50e46e07b3568c1346e10064205c9,Damien Hedde,2019-07-26,pl330: fix vmstate description\n\nFix the pl330 main and queue vmstate description.\nThere were missing POINTER flags causing crashes during\nincoming migration because:\n+ PL330State chan field is a pointer to an array\n+ PL330Queue queue field is a pointer to an array\n\nAlso bump corresponding vmsd version numbers.\n\nSigned-off-by: Damien Hedde <damien.hedde@greensocs.com>\nReviewed-by: Philippe Mathieu-Daude <philmd@redhat.com>\nAcked-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nMessage-id: 20190724143553.21557-1-damien.hedde@greensocs.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9992056488990784,PL330,hw/dma/pl330.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8d216d8c5370495fc416bb8ac573299779867aad,f5bda01066c15aecdca775089a0a0748b52ca55a,Greg Kurz,2019-07-24,"xics/kvm: Fix fallback to emulated XICS\n\nCommit 4812f2615288 tried to fix rollback path of xics_kvm_connect() but\nit isn't enough. If we fail to create the KVM device, the guest fails\nto boot later on with:\n\n[    0.010817] pci 0000:00:00.0: Adding to iommu group 0\n[    0.010863] irq: unknown-1 didn't like hwirq-0x1200 to VIRQ17 mapping (rc=-22)\n[    0.010923] pci 0000:00:01.0: Adding to iommu group 0\n[    0.010968] irq: unknown-1 didn't like hwirq-0x1201 to VIRQ17 mapping (rc=-22)\n[    0.011543] EEH: No capable adapters found\n[    0.011597] irq: unknown-1 didn't like hwirq-0x1000 to VIRQ17 mapping (rc=-22)\n[    0.011651] audit: type=2000 audit(1563977526.000:1): state=initialized audit_enabled=0 res=1\n[    0.011703] ------------[ cut here ]------------\n[    0.011729] event-sources: Unable to allocate interrupt number for /event-sources/epow-events\n[    0.011776] WARNING: CPU: 0 PID: 1 at arch/powerpc/platforms/pseries/event_sources.c:34 request_event_sources_irqs+0xbc/0x150\n[    0.011828] Modules linked in:\n[    0.011850] CPU: 0 PID: 1 Comm: swapper/0 Not tainted 5.1.17-300.fc30.ppc64le #1\n[    0.011886] NIP:  c0000000000d4fac LR: c0000000000d4fa8 CTR: c0000000018f0000\n[    0.011923] REGS: c00000001e4c38d0 TRAP: 0700   Not tainted  (5.1.17-300.fc30.ppc64le)\n[    0.011966] MSR:  8000000002029033 <SF,VEC,EE,ME,IR,DR,RI,LE>  CR: 28000284  XER: 20040000\n[    0.012012] CFAR: c00000000011b42c IRQMASK: 0\n[    0.012012] GPR00: c0000000000d4fa8 c00000001e4c3b60 c0000000015fc400 0000000000000051\n[    0.012012] GPR04: 0000000000000001 0000000000000000 0000000000000081 772d6576656e7473\n[    0.012012] GPR08: 000000001edf0000 c0000000014d4830 c0000000014d4830 6e6576652f20726f\n[    0.012012] GPR12: 0000000000000000 c0000000018f0000 c000000000010bf0 0000000000000000\n[    0.012012] GPR16: 0000000000000000 0000000000000000 0000000000000000 0000000000000000\n[    0.012012] GPR20: 0000000000000000 0000000000000000 0000000000000000 0000000000000000\n[    0.012012] GPR24: 0000000000000000 0000000000000000 c000000000ebbf00 c0000000000d5570\n[    0.012012] GPR28: c000000000ebc008 c00000001fff8248 0000000000000000 0000000000000000\n[    0.012372] NIP [c0000000000d4fac] request_event_sources_irqs+0xbc/0x150\n[    0.012409] LR [c0000000000d4fa8] request_event_sources_irqs+0xb8/0x150\n[    0.012445] Call Trace:\n[    0.012462] [c00000001e4c3b60] [c0000000000d4fa8] request_event_sources_irqs+0xb8/0x150 (unreliable)\n[    0.012513] [c00000001e4c3bf0] [c000000001042848] __machine_initcall_pseries_init_ras_IRQ+0xc8/0xf8\n[    0.012563] [c00000001e4c3c20] [c000000000010810] do_one_initcall+0x60/0x254\n[    0.012611] [c00000001e4c3cf0] [c000000001024538] kernel_init_freeable+0x35c/0x444\n[    0.012655] [c00000001e4c3db0] [c000000000010c14] kernel_init+0x2c/0x148\n[    0.012693] [c00000001e4c3e20] [c00000000000bdc4] ret_from_kernel_thread+0x5c/0x78\n[    0.012736] Instruction dump:\n[    0.012759] 38a00000 7c7f1b78 7f64db78 2c1f0000 2fbf0000 78630020 4180002c 409effa8\n[    0.012805] 7fa4eb78 7f43d378 48046421 60000000 <0fe00000> 3bde0001 2c1e0010 7fde07b4\n[    0.012851] ---[ end trace aa5785707323fad3 ]---\n\nThis happens because QEMU fell back on XICS emulation but didn't unregister\nthe RTAS calls from KVM. The emulated RTAS calls are hence never called and\nthe KVM ones return an error to the guest since the KVM device is absent.\n\nThe sanity checks in xics_kvm_disconnect() are abusive since we're freeing\nthe KVM device. Simply drop them.\n\nFixes: 4812f2615288 ""xics/kvm: Add proper rollback to xics_kvm_init()""\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <156398744035.546975.7029414194633598474.stgit@bahia.lan>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996917247772216,"KVM, XICS",hw/intc/xics_kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c8557f1b4873549fc231496f00003a9e5389c8dd,a58dfba20168dae18650ad70f47af99be55b1c45,Dr. David Alan Gilbert,2019-07-30,"pcie_root_port: Disable ACS on older machines\n\nACS got added in 4.0 unconditionally,  that broke older<->4.0 migration\nwhere there was a PCIe root port.\nFix this by turning it off for 3.1 and older machines; note this\nfixes compatibility for older QEMUs but breaks compatibility with 4.0\nfor older machine types.\n\n    machine type    source qemu   dest qemu\n       3.1             3.1           4.0        broken\n       3.1             3.1           4.1rc2     broken\n       3.1             3.1           4.1+this   OK ++\n       3.1             4.0           4.1rc2     OK\n       3.1             4.0           4.1+this   broken --\n       4.0             4.0           4.1rc2     OK\n       4.0             4.0           4.1+this   OK\n\nSo we gain and lose; the consensus seems to be treat this as a\nfix for older machine types.\n\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nMessage-Id: <20190730093719.12958-3-dgilbert@redhat.com>\nReviewed-by: Juan Quintela <quintela@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9992892742156982,PCI,hw/core/machine.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,02ac2f7f613b47f6a5b397b20ab0e6b2e7fb89fa,9bcf2dfa163f67b0fec6ee0fe88ad5dc5d69dc59,Peter Maydell,2019-08-01,"target/arm: Avoid bogus NSACR traps on M-profile without Security Extension\n\nIn Arm v8.0 M-profile CPUs without the Security Extension and also in\nv7M CPUs, there is no NSACR register. However, the code we have to handle\nthe FPU does not always check whether the ARM_FEATURE_M_SECURITY bit\nis set before testing whether env->v7m.nsacr permits access to the\nFPU. This means that for a CPU with an FPU but without the Security\nExtension we would always take a bogus fault when trying to stack\nthe FPU registers on an exception entry.\n\nWe could fix this by adding extra feature bit checks for all uses,\nbut it is simpler to just make the internal value of nsacr 0xcff\n(""all non-secure accesses allowed""), since this is not guest\nvisible when the Security Extension is not present. This allows\nus to continue to follow the Arm ARM pseudocode which takes a\nsimilar approach. (In particular, in the v8.1 Arm ARM the register\nis documented as reading as 0xcff in this configuration.)\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1838475\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Damien Hedde <damien.hedde@greensocs.com>\nMessage-id: 20190801105742.20036-1-peter.maydell@linaro.org",1,0.9995206594467164,ARM,target/arm/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5e7bcdcfe69ce0fad66012b2cfb2035003c37eef,864ab314f1d924129d06ac7b571f105a2b76a4b2,Gerd Hoffmann,2019-08-12,"display/bochs: fix pcie support\n\nSet QEMU_PCI_CAP_EXPRESS unconditionally in init(), then clear it in\nrealize() in case the device is not connected to a PCIe bus.\n\nThis makes sure the pci config space allocation is big enough, so\naccessing the PCIe extended config space doesn't overflow the pci\nconfig space buffer.\n\nPCI(e) config space is guest writable.  Writes are limited by\nwrite mask (which probably is also filled with random stuff),\nso the guest can only flip enabled bits.  But I suspect it\nstill might be exploitable, so rather serious because it might\nbe a host escape for the guest.  On the other hand the device\nis probably not yet in widespread use.\n\n(For a QEMU version without this commit, a mitigation for the\nbug is available: use ""-device bochs-display"" as a conventional pci\ndevice only.)\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nMessage-id: 20190812065221.20907-2-kraxel@redhat.com\nReviewed-by: Alex Williamson <alex.williamson@redhat.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997133612632751,PCI,hw/display/bochs-display.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,25c9780d38d4494f8610371d883865cf40b35dd6,5e7bcdcfe69ce0fad66012b2cfb2035003c37eef,David Gibson,2019-08-13,"spapr: Reset CAS & IRQ subsystem after devices\n\nThis fixes a nasty regression in qemu-4.1 for the 'pseries' machine,\ncaused by the new ""dual"" interrupt controller model.  Specifically,\nqemu can crash when used with KVM if a 'system_reset' is requested\nwhile there's active I/O in the guest.\n\nThe problem is that in spapr_machine_reset() we:\n\n1. Reset the CAS vector state\n	spapr_ovec_cleanup(spapr->ov5_cas);\n\n2. Reset all devices\n	qemu_devices_reset()\n\n3. Reset the irq subsystem\n	spapr_irq_reset();\n\nHowever (1) implicitly changes the interrupt delivery mode, because\nwhether we're using XICS or XIVE depends on the CAS state.  We don't\nproperly initialize the new irq mode until (3) though - in particular\nsetting up the KVM devices.\n\nDuring (2), we can temporarily drop the BQL allowing some irqs to be\ndelivered which will go to an irq system that's not properly set up.\n\nSpecifically, if the previous guest was in (KVM) XIVE mode, the CAS\nreset will put us back in XICS mode.  kvm_kernel_irqchip() still\nreturns true, because XIVE was using KVM, however XICs doesn't have\nits KVM components intialized and kernel_xics_fd == -1.  When the irq\nis delivered it goes via ics_kvm_set_irq() which assert()s that\nkernel_xics_fd != -1.\n\nThis change addresses the problem by delaying the CAS reset until\nafter the devices reset.  The device reset should quiesce all the\ndevices so we won't get irqs delivered while we mess around with the\nIRQ.  The CAS reset and irq re-initialize should also now be under the\nsame BQL critical section so nothing else should be able to interrupt\nit either.\n\nWe also move the spapr_irq_msi_reset() used in one of the legacy irq\nmodes, since it logically makes sense at the same point as the\nspapr_irq_reset() (it's essentially an equivalent operation for older\nmachine types).  Since we don't need to switch between different\ninterrupt controllers for those old machine types it shouldn't\nactually be broken in those cases though.\n\nCc: Cdric Le Goater <clg@kaod.org>\n\nFixes: b2e22477 ""spapr: add a 'reset' method to the sPAPR IRQ backend""\nFixes: 13db0cd9 ""spapr: introduce a new sPAPR IRQ backend supporting\n                 XIVE and XICS""\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9989025592803956,"KVM, XICS, XIVE",hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,310cda5b5e9df642b19a0e9c504368ffba3b3ab9,25c9780d38d4494f8610371d883865cf40b35dd6,Cdric Le Goater,2019-08-13,"spapr/xive: Fix migration of hot-plugged CPUs\n\nThe migration sequence of a guest using the XIVE exploitation mode\nrelies on the fact that the states of all devices are restored before\nthe machine is. This is not true for hot-plug devices such as CPUs\nwhich state come after the machine. This breaks migration because the\nthread interrupt context registers are not correctly set.\n\nFix migration of hotplugged CPUs by restoring their context in the\n'post_load' handler of the XiveTCTX model.\n\nFixes: 277dd3d7712a (""spapr/xive: add migration support for KVM"")\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20190813064853.29310-1-clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996906518936156,"KVM, XIVE","hw/intc/spapr_xive_kvm.c, hw/intc/xive.c, include/hw/ppc/xive.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,78dd48df397ad9d2b874f7aa28552b4f27f58a8d,3d661c8ab18ad2013992c622ab307422ace891a2,Marcel Apfelbaum,2019-07-05,"hw/net: fix vmxnet3 live migration\n\nAt some point vmxnet3 live migration stopped working and git-bisect\ndidn't help finding a working version.\nThe issue is the PCI configuration space is not being migrated\nsuccessfully and MSIX remains masked at destination.\n\nRemove the migration differentiation between PCI and PCIe since\nthe logic resides now inside VMSTATE_PCI_DEVICE.\nRemove also the VMXNET3_COMPAT_FLAG_DISABLE_PCIE based differentiation\nsince at 'realize' time is decided if the device is PCI or PCIe,\nthen the above macro is enough.\n\nUse the opportunity to move to the standard VMSTATE_MSIX\ninstead of the deprecated SaveVMHandlers.\n\nSigned-off-by: Marcel Apfelbaum <marcel.apfelbaum@gmail.com>\nMessage-Id: <20190705010711.23277-1-marcel.apfelbaum@gmail.com>\nTested-by: Sukrit Bhatnagar <skrtbhtngr@gmail.com>\nReviewed-by: Dmitry Fleytman <dmitry.fleytman@gmail.com>\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>",1,0.9995998740196228,PCI,hw/net/vmxnet3.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7e30dd618ebfe3ab1ed54f2e98ba75d799c0be20,dba8700f16ebda0632977c303f66021407971081,John Snow,2019-07-29,"block/backup: teach TOP to never copy unallocated regions\n\nPresently, If sync=TOP is selected, we mark the entire bitmap as dirty.\nIn the write notifier handler, we dutifully copy out such regions.\n\nFix this in three parts:\n\n1. Mark the bitmap as being initialized before the first yield.\n2. After the first yield but before the backup loop, interrogate the\nallocation status asynchronously and initialize the bitmap.\n3. Teach the write notifier to interrogate allocation status if it is\ninvoked during bitmap initialization.\n\nAs an effect of this patch, the job progress for TOP backups\nnow behaves like this:\n\n- total progress starts at bdrv_length.\n- As allocation status is interrogated, total progress decreases.\n- As blocks are copied, current progress increases.\n\nTaken together, the floor and ceiling move to meet each other.\n\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nMessage-id: 20190716000117.25219-10-jsnow@redhat.com\n[Remove ret = -ECANCELED change. --js]\n[Squash in conflict resolution based on Max's patch --js]\nMessage-id: c8b0ab36-79c8-0b4b-3193-4e12ed8c848b@redhat.com\nReviewed-by: Max Reitz <mreitz@redhat.com>\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.9991482496261596,LED,"block/backup.c, block/trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6eed53f71b33c3716e5d94eba506e4706d8dace8,d7059fd7375be449aed2f3cd6adf7ae14dbfefbd,Aleksandar Markovic,2019-08-19,"target/mips: tests/tcg: Fix target configurations for MSA tests\n\nAt this moment, the only MIPS CPUs that are emulated in QEMU and\nsupport MSA extension are R5600 (mips32r5), and I6400/I6500 (mips64r6).\nTherefore, mips32r5 and mips64r6 are the only ISAs that could support\nMSA in QEMU. This means mips32r6 currently do not make much sense, and\nmips32r5 support for MSA tests is needed, which is done by this patch.\n\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nReviewed-by: Aleksandar Rikalo <arikalo@wavecomp.com>\nMessage-Id: <1566216496-17375-38-git-send-email-aleksandar.markovic@rt-rk.com>",1,0.9995813965797424,MIPS,"tests/tcg/mips/user/ase/msa/test_msa_compile_32r5eb.sh, tests/tcg/mips/user/ase/msa/test_msa_compile_32r5el.sh, tests/tcg/mips/user/ase/msa/test_msa_compile_32r6eb.sh, tests/tcg/mips/user/ase/msa/test_msa_compile_32r6el.sh, tests/tcg/mips/user/ase/msa/test_msa_run_32r5eb.sh, tests/tcg/mips/user/ase/msa/test_msa_run_32r5el.sh, tests/tcg/mips/user/ase/msa/test_msa_run_32r6eb.sh, tests/tcg/mips/user/ase/msa/test_msa_run_32r6el.sh",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9458a9a1df1a4c719e24512394d548c1fc7abd22,1e8a98b53867f61da9ca09f411288e2085d323c4,Paolo Bonzini,2018-02-06,"memory: fix race between TCG and accesses to dirty bitmap\n\nThere is a race between TCG and accesses to the dirty log:\n\n      vCPU thread                  reader thread\n      -----------------------      -----------------------\n      TLB check -> slow path\n        notdirty_mem_write\n          write to RAM\n          set dirty flag\n                                   clear dirty flag\n      TLB check -> fast path\n                                   read memory\n        write to RAM\n\nFortunately, in order to fix it, no change is required to the\nvCPU thread.  However, the reader thread must delay the read after\nthe vCPU thread has finished the write.  This can be approximated\nconservatively by run_on_cpu, which waits for the end of the current\ntranslation block.\n\nA similar technique is used by KVM, which has to do a synchronous TLB\nflush after doing a test-and-clear of the dirty-page flags.\n\nReported-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997169375419616,"KVM, TCG","exec.c, include/exec/memory.h, memory.c, migration/ram.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a14f04ebbab80fb7342c277705e6076c309a5e50,f92be77fea88b6347f22ca96ba54bef0c382e3b7,Alexey Kardashevskiy,2019-08-12,"spapr_iommu: Fix xlate trace to print translated address\n\nCurrently we basically print IO address twice, fix this.\n\nFixes: 7e472264e9e2 (""PPC: spapr: iommu: rework traces"")\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nMessage-Id: <20190812054202.125492-1-aik@ozlabs.ru>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996035695075988,PPC,hw/ppc/spapr_iommu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,88e47b9a450f6dabc3429a4d2c421408b07d22bb,f0b9f36d71a373d469da9feb133c91546d37643c,"Kvg, Zoltn",2019-08-19,"audio: add audiodev properties to frontends\n\nFinally add audiodev= options to audio frontends so users can specify\nwhich backend to use when multiple backends exist.  Not specifying an\naudiodev= option currently causes the first audiodev to be used, this is\nfixed in the next commit.\n\nExample usage: -audiodev pa,id=foo -device AC97,audiodev=foo\n\nSigned-off-by: Kvg, Zoltn <DirtY.iCE.hu@gmail.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-id: d64db52dda2d0e9d97bc5ab1dd9adf724280fea1.1566168923.git.DirtY.iCE.hu@gmail.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9992727637290956,AC97,"audio/audio.h, hw/audio/ac97.c, hw/audio/adlib.c, hw/audio/cs4231a.c, hw/audio/es1370.c, hw/audio/gus.c, hw/audio/hda-codec.c, hw/audio/milkymist-ac97.c, hw/audio/pcspk.c, hw/audio/pl041.c, hw/audio/sb16.c, hw/audio/wm8750.c, hw/core/qdev-properties-system.c, hw/usb/dev-audio.c, include/hw/qdev-properties.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,28876bf27d2792e6b16cfb5283b9fb959fc0ad12,4e6d0920e7547e6af4bbac5ffe9adfe6ea621822,Alex Benne,2019-07-16,target/ppc: move opcode decode tables to PowerPCCPU\n\nThe opcode decode tables aren't really part of the CPUPPCState but an\ninternal implementation detail for the translator. This can cause\nproblems with memcpy in cpu_copy as any table created during\nppc_cpu_realize get written over causing a memory leak. To avoid this\nmove the tables into PowerPCCPU which is better suited to hold\ninternal implementation details.\n\nAttempts to fix: https://bugs.launchpad.net/qemu/+bug/1836558\nCc: 1836558@bugs.launchpad.net\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nMessage-Id: <20190716121352.302-1-alex.bennee@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9995723366737366,PPC,"target/ppc/cpu.h, target/ppc/translate.c, target/ppc/translate_init.inc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1e8f51e856621d3615a21cfea6f0baf055cbcce8,93eac7b8f44738f7d2f4ba4460d67b04af5b0b99,Shivaprasad G Bhat,2019-07-25,"ppc: remove idle_timer logic\n\nThe logic is broken for multiple vcpu guests, also causing memory leak.\nThe logic is in place to handle kvm not having KVM_CAP_PPC_IRQ_LEVEL,\nwhich is part of the kernel now since 2.6.37. Instead of fixing the\nleak, drop the redundant logic which is not excercised on new kernels\nanymore. Exit with error on older kernels.\n\nSigned-off-by: Shivaprasad G Bhat <sbhat@linux.ibm.com>\nMessage-Id: <156406409479.19996.7606556689856621111.stgit@lep8c.aus.stglabs.ibm.com>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999487280845642,"KVM, PPC",target/ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cfc61ba62f30753849fe2b78da8b6d0a0a639db2,f55750e4e4fb35b6a12c81c485f16494e2c61ad2,Alexey Kardashevskiy,2019-08-16,"target/ppc: Add Directed Privileged Door-bell Exception State (DPDES) SPR\n\nDPDES stores a status of a doorbell message and if it is lost in\nmigration, the destination CPU won't receive it. This does not hit us\nmuch as IPIs complete too quick to catch a pending one and even if\nwe missed one, broadcasts happen often enough to wake that CPU.\n\nThis defines DPDES and registers with KVM for migration.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nMessage-Id: <20190816061733.53572-1-aik@ozlabs.ru>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9925642609596252,KVM,"target/ppc/cpu.h, target/ppc/translate_init.inc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,006388a8c78124eb193027366894fe4568065447,df1e4cf4e72b7ff7ec239afedaf7880ae667e431,BALATON Zoltan,2019-08-11,ati-vga: Fix GPIO_MONID register write\n\nAlso update bitbang_i2c state when output bits are changed while\nenable bits are set. This fixes EDID access by the ATI FCode ROM.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-id: 292e70a92b7fbfd9a4120d433dbdcfda4e5f6c3c.1565558093.git.balaton@eik.bme.hu\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9995856881141664,EDID,hw/display/ati.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c026350a842a02c225e3ecbcda5c298e70e37a62,747d7ad231a0955991e179deb482ce94376f1e17,BALATON Zoltan,2019-08-11,"ati-vga: Attempt to handle CRTC offset not exact multiple of stride\n\nMacOS uses non-0 offset so it needs this and the resulting\nvbe_start_addr seems correct but picture is still broken with OpenBIOS\nafter FCode runs but that maybe due to firmware problems now. After\nboot, picture is now correct.\n\nIt also occured to me that these CRTC regs are also present in VGA so\nI wonder if they should be shared in case some drivers try to poke\nthem via VGA regs or these are a separate set of regs for extended\nmode. Added a comment noting this but drivers I've tried so far\nprogram the card accessing ati regs so I did not attempt to change it.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-id: 1c6fce457ef7e6f889e38dc0423791be92310a62.1565558093.git.balaton@eik.bme.hu\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997239708900452,VGA,hw/display/ati.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,23f1174aac4181f86bb7e13ca8bc2d4a0bdf1e5c,9c1aa1c235c770d84462d482460a96e957e95b9c,Peter Xu,2019-08-20,"memory: Split zones when do coalesced_io_del()\n\nIt is a workaround of current KVM's KVM_UNREGISTER_COALESCED_MMIO\ninterface.  The kernel interface only allows to unregister an mmio\ndevice with exactly the zone size when registered, or any smaller zone\nthat is included in the device mmio zone.  It does not support the\nuserspace to specify a very large zone to remove all the small mmio\ndevices within the zone covered.\n\nLogically speaking it would be nicer to fix this from KVM side, though\nin all cases we still need to coop with old kernels so let's do this.\n\nFixes: 3ac7d43a6fbb5d4a3\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20190820141328.10009-2-peterx@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996823072433472,"KVM, REGISTER",memory.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c36709e45d5f636bcdf6bfb78f95e27260018ef5,24332523f15aca16d974a9e4a353a6e09043815d,David Hildenbrand,2019-08-16,"s390x/mmu: ASC selection in s390_cpu_get_phys_page_debug()\n\nLet's select the ASC before calling the function. This is a prepararion\nto remove the ASC magic depending on the access mode from mmu_translate.\n\nThere is currently no way to distinguish if we have code or data access.\nFor now, we were using code access, because especially when debugging with\nthe gdbstub, we want to read and disassemble what we single-step.\n\nNote: KVM guest can now no longer be crashed using qmp/hmp/gdbstub if they\nhappen to be in AR mode.\n\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20190816084708.602-3-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996602535247804,KVM,target/s390x/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2d3bb388ad93dce9a9454af67f43d3aaaa5b9b1a,5b773a1107e7ca6f51e3447cc066f255a7fd8cca,David Hildenbrand,2019-08-16,"s390x/mmu: Better storage key reference and change bit handling\n\nAny access sets the reference bit. In case we have a read-fault, we\nshould not allow writes to the TLB entry if the change bit was not\nalready set.\n\nThis is a preparation for proper storage-key reference/change bit handling\nin TCG and a fix for KVM whereby read accesses would set the change\nbit (old KVM versions without the ioctl to carry out the translation).\n\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20190816084708.602-6-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9989271759986876,"KVM, TCG",target/s390x/mmu_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d297e533a5f653336dbc1c5a24ea196391dff9f5,dac03af5d5482ec7ee9c23db467bb7230b33c0d9,Anthony PERARD,2019-07-04,"xen: Fix ring.h header\n\nThe xen_[rw]?mb() macros defined in ring.h can't be used and the fact\nthat there are gated behind __XEN_INTERFACE_VERSION__ means that it\nneeds to be defined somewhere. QEMU doesn't implement interfaces with\nthe Xen hypervisor so defining __XEN_INTERFACE_VERSION__ is pointless.\nThis leads to:\n    include/hw/xen/io/ring.h:47:5: error: ""__XEN_INTERFACE_VERSION__""\n        is not defined, evaluates to 0 [-Werror=undef]\n\nCleanup ring.h. The xen_*mb() macros are already defined in xenctrl.h\nwhich is included in xen_common.h.\n\nReported-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nMessage-Id: <20190704153605.4140-1-anthony.perard@citrix.com>\n[aperard: Adding the comment proposed upstream]\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>",1,0.9997289776802064,XEN,include/hw/xen/interface/io/ring.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,256be7d07a0c1f9d8e2076aa4f7ca4fc048f6838,5185a5b6c70ed8d9cc693118c243e5f32ab5094e,Paul A. Clarke,2019-08-21,"ppc: Fix xsmaddmdp and friends\n\nA class of instructions of the form:\n  op Target,A,B\nwhich operate like:\n  Target = Target * A + B\nhave a bit set which distinguishes them from instructions that operate as:\n  Target = Target * B + A\n\nThis bit is not being checked properly (using PPC_BIT macro), so all\ninstructions in this class are operating incorrectly as the second form\nabove.  The bit was being checked as if it were part of a 64-bit\ninstruction opcode, rather than a proper 32-bit opcode.  Fix by using the\nmacro (PPC_BIT32) which treats the opcode as a 32-bit quantity.\n\nFixes: c9f4e4d8b632 (""target/ppc: improve VSX_FMADD with new GEN_VSX_HELPER_VSX_MADD macro"")\n\nSigned-off-by: Paul A. Clarke <pc@us.ibm.com>\nMessage-Id: <1566401321-22419-1-git-send-email-pc@us.ibm.com>\nReviewed-by: Laurent Vivier <lvivier@redhat.com>\nTested-by: Laurent Vivier <lvivier@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996912479400636,PPC,target/ppc/translate/vsx-impl.inc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6c3829a26584f16259fbaeafc58a2c57c745cc39,9146206eb26c1436c80a7c2ca1e4c5f86b27179d,Alexey Kardashevskiy,2019-07-19,"spapr_pci: Advertise BAR reallocation capability\n\nThe pseries guests do not normally allocate PCI resources and rely on\nthe system firmware doing so. Furthermore at least at some point in\nthe past the pseries guests won't even allowed to change BARs, probably\nit is still the case for phyp. So since the initial commit we have [1]\nwhich prevents resource reallocation.\n\nThis is not a problem until we want specific BAR alignments, for example,\nPAGE_SIZE==64k to make sure we can still map MMIO BARs directly. For\nthe boot time devices we handle this in SLOF [2] but since QEMU's RTAS\ndoes not allocate BARs, the guest does this instead and does not align\nBARs even if Linux is given pci=resource_alignment=16@pci:0:0 as\nPCI_PROBE_ONLY makes Linux ignore alignment requests.\n\nARM folks added a dial to control PCI_PROBE_ONLY via the device tree [3].\nThis makes use of the dial to advertise to the guest that we can handle\nBAR reassignments. This limits the change to the latest pseries machine\nto avoid old guests explosion.\n\nWe do not remove the flag from [1] as pseries guests are still supported\nunder phyp so having that removed may cause problems.\n\n[1] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/powerpc/platforms/pseries/setup.c?h=v5.1#n773\n[2] https://git.qemu.org/?p=SLOF.git;a=blob;f=board-qemu/slof/pci-phb.fs;h=06729bcf77a0d4e900c527adcd9befe2a269f65d;hb=HEAD#l338\n[3] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f81c11af\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nMessage-Id: <20190719043734.108462-1-aik@ozlabs.ru>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.8764970302581787,"ARM, PCI","hw/ppc/spapr.c, include/hw/ppc/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7cec2ed9d7aeeb6f873188b96c9f8ae17ab88da1,c9e385926232f30b7ea84e10725df57795ad0eb7,fangying,2019-08-28,xhci: Fix memory leak in xhci_kick_epctx\n\nAddress Sanitizer shows memory leak in xhci_kick_epctx hw/usb/hcd-xhci.c:1912.\nA sglist is leaked when a packet is retired and returns USB_RET_NAK status.\nThe leak stack is as bellow:\n\nDirect leak of 2688 byte(s) in 168 object(s) allocated from:\n    #0 0xffffae8b11db in __interceptor_malloc (/lib64/libasan.so.4+0xd31db)\n    #1 0xffffae5c9163 in g_malloc (/lib64/libglib-2.0.so.0+0x57163)\n    #2 0xaaaabb6fb3f7 in qemu_sglist_init dma-helpers.c:43\n    #3 0xaaaabba705a7 in pci_dma_sglist_init include/hw/pci/pci.h:837\n    #4 0xaaaabba705a7 in xhci_xfer_create_sgl hw/usb/hcd-xhci.c:1443\n    #5 0xaaaabba705a7 in xhci_setup_packet hw/usb/hcd-xhci.c:1615\n    #6 0xaaaabba77a6f in xhci_kick_epctx hw/usb/hcd-xhci.c:1912\n    #7 0xaaaabbdaad27 in timerlist_run_timers util/qemu-timer.c:592\n    #8 0xaaaabbdab19f in qemu_clock_run_timers util/qemu-timer.c:606\n    #9 0xaaaabbdab19f in qemu_clock_run_all_timers util/qemu-timer.c:692\n    #10 0xaaaabbdab9a3 in main_loop_wait util/main-loop.c:524\n    #11 0xaaaabb6ff5e7 in main_loop vl.c:1806\n    #12 0xaaaabb1e1453 in main vl.c:4488\n\nSigned-off-by: Ying Fang <fangying1@huawei.com>\nMessage-id: 20190828062535.1573-1-fangying1@huawei.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9997188448905944,USB,hw/usb/hcd-xhci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,37ff584c15bc3e1dd2c26b1998f00ff87189538c,1ce21ba1eaf08b22da5925f3e37fc0b4322da858,Peter Maydell,2019-08-16,"target/arm: Allow ARMCPRegInfo read/write functions to throw exceptions\n\nCurrently the only part of an ARMCPRegInfo which is allowed to cause\na CPU exception is the access function, which returns a value indicating\nthat some flavour of UNDEF should be generated.\n\nFor the ATS system instructions, we would like to conditionally\ngenerate exceptions as part of the writefn, because some faults\nduring the page table walk (like external aborts) should cause\nan exception to be raised rather than returning a value.\n\nThere are several ways we could do this:\n * plumb the GETPC() value from the top level set_cp_reg/get_cp_reg\n   helper functions through into the readfn and writefn hooks\n * add extra readfn_with_ra/writefn_with_ra hooks that take the GETPC()\n   value\n * require the ATS instructions to provide a dummy accessfn,\n   which serves no purpose except to cause the code generation\n   to emit TCG ops to sync the CPU state\n * add an ARM_CP_ flag to mark the ARMCPRegInfo as possibly\n   throwing an exception in its read/write hooks, and make the\n   codegen sync the CPU state before calling the hooks if the\n   flag is set\n\nThis patch opts for the last of these, as it is fairly simple\nto implement and doesn't require invasive changes like updating\nthe readfn/writefn hook function prototype signature.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nTested-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nMessage-id: 20190816125802.25877-2-peter.maydell@linaro.org",1,0.9997336268424988,"ARM, TCG","target/arm/cpu.h, target/arm/translate-a64.c, target/arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0710b2fa84a4aeb925422e1e88edac49ed407c79,37ff584c15bc3e1dd2c26b1998f00ff87189538c,Peter Maydell,2019-08-16,"target/arm: Take exceptions on ATS instructions when needed\n\nThe translation table walk for an ATS instruction can result in\nvarious faults.  In general these are just reported back via the\nPAR_EL1 fault status fields, but in some cases the architecture\nrequires that the fault is turned into an exception:\n * synchronous stage 2 faults of any kind during AT S1E0* and\n   AT S1E1* instructions executed from NS EL1 fault to EL2 or EL3\n * synchronous external aborts are taken as Data Abort exceptions\n\n(This is documented in the v8A Arm ARM DDI0487A.e D5.2.11 and\nG5.13.4.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nTested-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nMessage-id: 20190816125802.25877-3-peter.maydell@linaro.org",1,0.9995692372322084,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,77a132ea7ea0df6807f3d2f10661dced52f57413,0710b2fa84a4aeb925422e1e88edac49ed407c79,Andrew Jeffery,2019-07-04,"aspeed/timer: Provide back-pressure information for short periods\n\nFirst up: This is not the way the hardware behaves.\n\nHowever, it helps resolve real-world problems with short periods being\nused under Linux. Commit 4451d3f59f2a (""clocksource/drivers/fttmr010:\nFix set_next_event handler"") in Linux fixed the timer driver to\ncorrectly schedule the next event for the Aspeed controller, and in\ncombination with 5daa8212c08e (""ARM: dts: aspeed: Describe random number\ndevice"") Linux will now set a timer with a period as low as 1us.\n\nConfiguring a qemu timer with such a short period results in spending\ntime handling the interrupt in the model rather than executing guest\ncode, leading to noticeable ""sticky"" behaviour in the guest.\n\nThe behaviour of Linux is correct with respect to the hardware, so we\nneed to improve our handling under emulation. The approach chosen is to\nprovide back-pressure information by calculating an acceptable minimum\nnumber of ticks to be set on the model. Under Linux an additional read\nis added in the timer configuration path to detect back-pressure, which\nwill never occur on hardware. However if back-pressure is observed, the\ndriver alerts the clock event subsystem, which then performs its own\nnext event dilation via a config option - d1748302f70b (""clockevents:\nMake minimum delay adjustments configurable"")\n\nA minimum period of 5us was experimentally determined on a Lenovo\nT480s, which I've increased to 20us for ""safety"".\n\nSigned-off-by: Andrew Jeffery <andrew@aj.id.au>\nReviewed-by: Joel Stanley <joel@jms.id.au>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nTested-by: Joel Stanley <joel@jms.id.au>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-id: 20190704055150.4899-1-clg@kaod.org\n[clg: - changed the computation of min_ticks to be done each time the\n        timer value is reloaded. It removes the ordering issue of the\n        timer and scu reset handlers but is slightly slower ]\n      - introduced TIMER_MIN_NS\n      - introduced calculate_min_ticks() ]\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997429251670836,ARM,hw/timer/aspeed_timer.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8726b70b449896f1211f869ec4f608904f027207,eb1556c493d8abc5bfc8685561bcea934700e200,Johannes Berg,2019-09-03,"libvhost-user: fix SLAVE_SEND_FD handling\n\nIt doesn't look like this could possibly work properly since\nVHOST_USER_PROTOCOL_F_SLAVE_SEND_FD is defined to 10, but the\ndev->protocol_features has a bitmap. I suppose the peer this\nwas tested with also supported VHOST_USER_PROTOCOL_F_LOG_SHMFD,\nin which case the test would always be false, but nevertheless\nthe code seems wrong.\n\nUse has_feature() to fix this.\n\nFixes: d84599f56c82 (""libvhost-user: support host notifier"")\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>\nMessage-Id: <20190903200422.11693-1-johannes@sipsolutions.net>\nReviewed-by: Tiwei Bie <tiwei.bie@intel.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997468590736388,VHOST_USER,contrib/libvhost-user/libvhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b797ab1a15ba8d2b2fc4ec3e1f24d755f6855d05,c95cfd040078db8017f74fd3a4d6f798385d960c,Wei Yang,2019-03-21,"exec.c: subpage->sub_section is already initialized to 0\n\nIn subpage_init(), we will set subpage->sub_section to\nPHYS_SECTION_UNASSIGNED by subpage_register. Since\nPHYS_SECTION_UNASSIGNED is defined to be 0, and we allocate subpage with\ng_malloc0, this means subpage->sub_section is already initialized to 0.\n\nThis patch removes the redundant setup for a new subpage and also fix\nthe code style.\n\nSigned-off-by: Wei Yang <richardw.yang@linux.intel.com>\nMessage-Id: <20190321082555.21118-5-richardw.yang@linux.intel.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9991280436515808,SSI,exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b9f5fdad49c74583dcf9fcba0805b148e3992e13,c9d793f44620a4793239da73f67758ce5f5ba5d0,Peter Maydell,2019-08-01,"target/sparc: Check for transaction failures in MMU passthrough ASIs\n\nCurrently the ld/st_asi helper functions make calls to the\nld*_phys() and st*_phys() functions for those ASIs which\nimply direct accesses to physical addresses. These implicitly\nrely on the unassigned_access hook to cause them to generate\nan MMU fault if the access fails.\n\nSwitch to using the address_space_* functions instead, which\nreturn a MemTxResult that we can check. This means that when\nwe switch SPARC over to using the do_transaction_failed hook\nwe'll still get the same MMU faults we did before.\n\nThis commit converts the ASIs which do ""MMU passthrough"".\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nMessage-id: 20190801183012.17564-3-peter.maydell@linaro.org",1,0.9987659454345704,SPARC,target/sparc/ldst_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,776095d3cd751a58469b68f652c1ab6785f63652,b9f5fdad49c74583dcf9fcba0805b148e3992e13,Peter Maydell,2019-08-01,"target/sparc: Check for transaction failures in MXCC stream ASI accesses\n\nCurrently the ld/st_asi helper functions make calls to the\nld*_phys() and st*_phys() functions for those ASIs which\nimply direct accesses to physical addresses. These implicitly\nrely on the unassigned_access hook to cause them to generate\nan MMU fault if the access fails.\n\nSwitch to using the address_space_* functions instead, which\nreturn a MemTxResult that we can check. This means that when\nwe switch SPARC over to using the do_transaction_failed hook\nwe'll still get the same MMU faults we did before.\n\nThis commit converts the ASIs which do MXCC stream source\nand destination accesses.\n\nIt's not clear to me whether raising an MMU fault like this\nis the correct behaviour if we encounter a bus error, but\nwe retain the same behaviour that the old unassigned_access\nhook would implement.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nMessage-id: 20190801183012.17564-4-peter.maydell@linaro.org",1,0.9987894892692566,SPARC,target/sparc/ldst_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f8c3db33a5e863291182f8862ddf81618a7c6194,9dffeec2e003a482ca858a887d3454c6bebed91e,Peter Maydell,2019-08-01,"target/sparc: Switch to do_transaction_failed() hook\n\nSwitch the SPARC target from the old unassigned_access hook to the\nnew do_transaction_failed hook.\n\nThis will cause the ""if transaction failed"" code paths added in\nthe previous commits to become active if the access is to an\nunassigned address. In particular we'll now handle bus errors\nduring page table walks correctly (generating a translation\nerror with the right kind of fault status).\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nTested-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nMessage-id: 20190801183012.17564-8-peter.maydell@linaro.org",1,0.9993340373039246,SPARC,"target/sparc/cpu.c, target/sparc/cpu.h, target/sparc/ldst_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1a5938a01fab0a04c322734f683e2348fc9d30b3,56449d20e937e807e4fc35fa3e5a38f7636e7046,Bin Meng,2019-09-06,"riscv: sifive_e: prci: Fix a typo of hfxosccfg register programming\n\nFor hfxosccfg register programming, SIFIVE_E_PRCI_HFXOSCCFG_RDY and\nSIFIVE_E_PRCI_HFXOSCCFG_EN should be used.\n\nSigned-off-by: Bin Meng <bmeng.cn@gmail.com>\nAcked-by: Alistair Francis <alistair.francis@wdc.com>\nReviewed-by: Chih-Min Chao <chihmin.chao@sifive.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Palmer Dabbelt <palmer@sifive.com>",1,0.999589741230011,"SIFIVE_E, SIFIVE_E_PRCI",hw/riscv/sifive_e_prci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,77cd44b9ec57f69d8e99cdc8f3ea7af2ff96fc55,8bc8af69123ee765fe4f9b835a99f6ef5d693973,Corey Minyard,2019-06-27,"tests:ipmi: Fix IPMI BT tests\n\nThe IPMI BT tests had a race condition, if it receive an IPMI command\nto enable interrupt, it would write the message to enable interrupts\nafter it wrote the command response.  So the test code could\nreceive the command response and issue the next command before the\ndevice handled the interrupt enable command, and thus no interrupt.\n\nSo send the message to enable interrupt before the command response.\n\nAlso add some sleeps to give qemu time to handle responses, there was\nno delay before, and it could result in an invalid timeout.\n\nAnd re-enable the tests, as hopefully they are fixed now.\n\nNote that I was unable to reproduce this even with the instructions\nPeter gave me, but hopefully this fixes the issue.\n\nCc: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Corey Minyard <cminyard@mvista.com>",1,0.9996354579925536,IPMI,"tests/Makefile.include, tests/ipmi-bt-test.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7b0cd78bf72368b71e6ffa7a8b8f5e57a2e65b5d,a65f4d4028de99ce172ffa3c18095b4f1bf7ee45,Corey Minyard,2017-09-06,"ipmi: Add a UUID device property\n\nUsing the UUID that qemu generates probably isn't the best thing\nto do, allow it to be passed in via properties, and use QemuUUID\nfor the type.\n\nIf the UUID is not set, return an unsupported command error.  This\nway we are not providing an all-zero (or randomly generated) GUID\nto the IPMI user.  This lets the host fall back to the other\nmethod of using the get device id command to determind the BMC\nbeing accessed.\n\nSigned-off-by: Corey Minyard <cminyard@mvista.com>\nCc: Cdric Le Goater <clg@kaod.org>\nCc: David Gibson <david@gibson.dropbear.id.au>\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>",1,0.9357879161834716,IPMI,"hw/ipmi/ipmi_bmc_sim.c, qemu-options.hx",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,576d05b67fa0566cfb92da93c810a55a035548d0,ef48a8ce411a93bd610776ee83164efc973f8094,Corey Minyard,2015-06-09,ipmi: Fix SSIF ACPI handling to use the right CRS\n\nPass in the CRS so that it can be set to the SMBus for IPMI later.\n\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Corey Minyard <cminyard@mvista.com>,1,0.9996658563613892,"ACPI, IPMI, SSI","hw/acpi/ipmi-stub.c, hw/acpi/ipmi.c, hw/i386/acpi-build.c, include/hw/acpi/ipmi.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7d69e8bc3b0ca4e48b24e7cb9db6dd77fa0b3481,e0d95e100ff6d9188f188b431309ccba6075cf42,Thomas Huth,2019-09-13,"s390x/kvm: Officially require at least kernel 3.15\n\nSince QEMU v2.10, the KVM acceleration does not work on older kernels\nanymore since the code accidentally requires the KVM_CAP_DEVICE_CTRL\ncapability now - it should have been optional instead.\nInstead of fixing the bug, we asked in the ChangeLog of QEMU 2.11 - 3.0\nthat people should speak up if they still need support of QEMU running\nwith KVM on older kernels, but seems like nobody really complained.\nThus let's make this official now and turn it into a proper error\nmessage, telling the users to use at least kernel 3.15 now.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20190913091443.27565-1-thuth@redhat.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",1,0.9996960163116456,KVM,"hw/intc/s390_flic_kvm.c, hw/intc/trace-events, target/s390x/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3fc4a64cbaed2ddee4c60ddc06740b320e18ab82,9366cf02e4e31c2a8128904d4d8290a0fad5f888,Dr. David Alan Gilbert,2019-08-14,"vhost: Fix memory region section comparison\n\nUsing memcmp to compare structures wasn't safe,\nas I found out on ARM when I was getting falce miscompares.\n\nUse the helper function for comparing the MRSs.\n\nFixes: ade6d081fc33948e56e6 (""vhost: Regenerate region list from changed sections list"")\nCc: qemu-stable@nongnu.org\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nMessage-Id: <20190814175535.2023-4-dgilbert@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996219873428344,ARM,hw/virtio/vhost.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,754f28717657d9ec545a0acb6fa9270962bebc2f,f8ed349e6d1480b76cadf7d8fdfcf56fd2a44fac,Philippe Mathieu-Daud,2019-09-20,"target/i386: Fix broken build with WHPX enabled\n\nThe WHPX build is broken since commit 12e9493df92 which removed the\n""hw/boards.h"" where MachineState is declared:\n\n  $ ./configure \\n     --enable-hax --enable-whpx\n\n  $ make x86_64-softmmu/all\n  [...]\n    CC      x86_64-softmmu/target/i386/whpx-all.o\n  target/i386/whpx-all.c: In function 'whpx_accel_init':\n  target/i386/whpx-all.c:1378:25: error: dereferencing pointer to\n  incomplete type 'MachineState' {aka 'struct MachineState'}\n       whpx->mem_quota = ms->ram_size;\n                           ^~\n  make[1]: *** [rules.mak:69: target/i386/whpx-all.o] Error 1\n    CC      x86_64-softmmu/trace/generated-helpers.o\n  make[1]: Target 'all' not remade because of errors.\n  make: *** [Makefile:471: x86_64-softmmu/all] Error 2\n\nRestore this header, partially reverting commit 12e9493df92.\n\nFixes: 12e9493df92\nReported-by: Ilias Maratos <i.maratos@gmail.com>\nReviewed-by: Stefan Weil <sw@weilnetz.de>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nMessage-Id: <20190920113329.16787-2-philmd@redhat.com>",1,0.9995898604393004,WHPX,target/i386/whpx-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d56974afe980b2bb8d60b17729483d80a7692400,1329132d28bf14b9508f7a1f04a2c63422bc3f99,Luc Michel,2019-09-19,"target/arm: fix CBAR register for AArch64 CPUs\n\nFor AArch64 CPUs with a CBAR register, we have two views for it:\n  - in AArch64 state, the CBAR_EL1 register (S3_1_C15_C3_0), returns the\n    full 64 bits CBAR value\n  - in AArch32 state, the CBAR register (cp15, opc1=1, CRn=15, CRm=3, opc2=0)\n    returns a 32 bits view such that:\n      CBAR = CBAR_EL1[31:18] 0..0 CBAR_EL1[43:32]\n\nThis commit fixes the current implementation where:\n  - CBAR_EL1 was returning the 32 bits view instead of the full 64 bits\n    value,\n  - CBAR was returning a truncated 32 bits version of the full 64 bits\n    one, instead of the 32 bits view\n  - CBAR was declared as cp15, opc1=4, CRn=15, CRm=0, opc2=0, which is\n    the CBAR register found in the ARMv7 Cortex-Ax CPUs, but not in\n    ARMv8 CPUs.\n\nSigned-off-by: Luc Michel <luc.michel@greensocs.com>\nMessage-id: 20190912110103.1417887-1-luc.michel@greensocs.com\n[PMM: Added a comment about the two different kinds of CBAR]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.99970680475235,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7df1dac5f1c85312474df9cb3a8fcae72303da62,ecd6663d95c94e1f1b736eab4254c2debd94edc1,Matthew Rosato,2019-09-26,"s390: PCI: fix IOMMU region init\n\nThe fix in dbe9cf606c shrinks the IOMMU memory region to a size\nthat seems reasonable on the surface, however is actually too\nsmall as it is based against a 0-mapped address space.  This\ncauses breakage with small guests as they can overrun the IOMMU window.\n\nLet's go back to the prior method of initializing iommu for now.\n\nFixes: dbe9cf606c (""s390x/pci: Set the iommu region size mpcifc request"")\nCc: qemu-stable@nongnu.org\nReviewed-by: Pierre Morel <pmorel@linux.ibm.com>\nReported-by: Boris Fiuczynski <fiuczy@linux.ibm.com>\nTested-by: Boris Fiuczynski <fiuczy@linux.ibm.com>\nReported-by: Stefan Zimmerman <stzi@linux.ibm.com>\nSigned-off-by: Matthew Rosato <mjrosato@linux.ibm.com>\nMessage-Id: <1569507036-15314-1-git-send-email-mjrosato@linux.ibm.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",1,0.9997128844261168,PCI,hw/s390x/s390-pci-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fb1fc5a82b836fe1e0d6f5dd57164a82e674ea8a,023ae9a88a7cfbdf6f23c3b78ccfcb9b1e26da98,Igor Mammedov,2019-09-24,"s390: do not call memory_region_allocate_system_memory() multiple times\n\ns390 was trying to solve limited KVM memslot size issue by abusing\nmemory_region_allocate_system_memory(), which breaks API contract\nwhere the function might be called only once.\n\nBeside an invalid use of API, the approach also introduced migration\nissue, since RAM chunks for each KVM_SLOT_MAX_BYTES are transferred in\nmigration stream as separate RAMBlocks.\n\nAfter discussion [1], it was agreed to break migration from older\nQEMU for guest with RAM >8Tb (as it was relatively new (since 2.12)\nand considered to be not actually used downstream).\nMigration should keep working for guests with less than 8TB and for\nmore than 8TB with QEMU 4.2 and newer binary.\nIn case user tries to migrate more than 8TB guest, between incompatible\nQEMU versions, migration should fail gracefully due to non-exiting\nRAMBlock ID or RAMBlock size mismatch.\n\nTaking in account above and that now KVM code is able to split too\nbig MemorySection into several memslots, partially revert commit\n (bb223055b s390-ccw-virtio: allow for systems larger that 7.999TB)\nand use kvm_set_max_memslot_size() to set KVMSlot size to\nKVM_SLOT_MAX_BYTES.\n\n1) [PATCH RFC v2 4/4] s390: do not call  memory_region_allocate_system_memory() multiple times\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20190924144751.24149-5-imammedo@redhat.com>\nAcked-by: Peter Xu <peterx@redhat.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>",1,0.9996999502182008,KVM,"hw/s390x/s390-virtio-ccw.c, target/s390x/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,00ed3da9b5c2e66e796a172df3e19545462b9c90,627fa61746f70f7c799f08e9048bb6a482402138,David Gibson,2019-09-24,"xics: Minor fixes for XICSFabric interface\n\nInterface instances should never be directly dereferenced.  So, the common\npractice is to make them incomplete types to make sure no-one does that.\nXICSFrabric, however, had a dummy type which is less safe.\n\nWe were also using OBJECT_CHECK() where we should have been using\nINTERFACE_CHECK().\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Cdric Le Goater <clg@kaod.org>",1,0.999714195728302,XICS,include/hw/ppc/xics.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ad8de98636e7cadeb1be4efa997cfe2a60bd5c30,7678b74a94a70186da3b3971d7ae92ca1a81c969,David Gibson,2019-09-24,"spapr: Clarify and fix handling of nr_irqs\n\nBoth the XICS and XIVE interrupt backends have a ""nr-irqs"" property, but\nit means slightly different things.  For XICS (or, strictly, the ICS) it\nindicates the number of ""real"" external IRQs.  Those start at XICS_IRQ_BASE\n(0x1000) and don't include the special IPI vector.  For XIVE, however, it\nincludes the whole IRQ space, including XIVE's many IPI vectors.\n\nThe spapr code currently doesn't handle this sensibly, with the\nnr_irqs value in SpaprIrq having different meanings depending on the\nbackend.  We fix this by renaming nr_irqs to nr_xirqs and making it\nalways indicate just the number of external irqs, adjusting the value\nwe pass to XIVE accordingly.  We also move to using common constants\nin most of the irq configurations, to make it clearer that the IRQ\nspace looks the same to the guest (and emulated devices), even if the\nbackend is different.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Cdric Le Goater <clg@kaod.org>",1,0.9996927976608276,"XICS, XIVE","hw/ppc/spapr_irq.c, include/hw/ppc/spapr_irq.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9f53c0db19605f76324fb09af23d30e181a06211,fe9b61b2468a6de170ae0e9afe92fa1daa7ab48b,David Gibson,2019-09-24,"spapr: Fix indexing of XICS irqs\n\nspapr global irq numbers are different from the source numbers on the ICS\nwhen using XICS - they're offset by XICS_IRQ_BASE (0x1000).  But\nspapr_irq_set_irq_xics() was passing through the global irq number to\nthe ICS code unmodified.\n\nWe only got away with this because of a counteracting bug - we were\nincorrectly adjusting the qemu_irq we returned for a requested global irq\nnumber.\n\nThat approach mostly worked but is very confusing, incorrectly relies on\nthe way the qemu_irq array is allocated, and undermines the intention of\nhaving the global array of qemu_irqs for spapr have a consistent meaning\nregardless of irq backend.\n\nSo, fix both set_irq and qemu_irq indexing.  We rename some parameters at\nthe same time to make it clear that they are referring to spapr global\nirq numbers.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nReviewed-by: Greg Kurz <groug@kaod.org>",1,0.9996541738510132,XICS,hw/ppc/spapr_irq.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,580dde5e4a4597be26cb948a711727c2a406f158,f233cee97bfbab24517171ef5a56d8a54d8a96ef,David Gibson,2019-09-25,"spapr, xics, xive: Better use of assert()s on irq claim/free paths\n\nThe irq claim and free paths for both XICS and XIVE check for some\nvalidity conditions.  Some of these represent genuine runtime failures,\nhowever others - particularly checking that the basic irq number is in a\nsane range - could only fail in the case of bugs in the callin code.\nTherefore use assert()s instead of runtime failures for those.\n\nIn addition the non backend-specific part of the claim/free paths should\nonly be used for PAPR external irqs, that is in the range SPAPR_XIRQ_BASE\nto the maximum irq number.  Put assert()s for that into the top level\ndispatchers as well.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nReviewed-by: Greg Kurz <groug@kaod.org>",1,0.99964439868927,"XICS, XIVE","hw/intc/spapr_xive.c, hw/ppc/spapr_irq.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1aba8716c8335e88b8c358002a6e1ac89f7dd258,f478d9af213f169449f7aaba7257aba1a4032e1e,Cdric Le Goater,2019-10-03,"ppc/pnv: Remove the XICSFabric Interface from the POWER9 machine\n\nThe POWER8 PowerNV machine needs to implement a XICSFabric interface\nas this is the POWER8 interrupt controller model. But the POWER9\nmachine uselessly inherits of XICSFabric from the common PowerNV\nmachine definition.\n\nOpen code machine definitions to have a better control on the\ndifferent interfaces each machine should define.\n\nFixes: f30c843ced50 (""ppc/pnv: Introduce PowerNV machines with fixed CPU models"")\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20191003143617.21682-1-clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9941765069961548,XICS,hw/ppc/pnv.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,549d4005874f602e957b07459949ae514ea96f20,d7d8783647841a4c18349fe60d0d99e0de865ce5,Eric Auger,2019-09-24,"memory: allow memory_region_register_iommu_notifier() to fail\n\nCurrently, when a notifier is attempted to be registered and its\nflags are not supported (especially the MAP one) by the IOMMU MR,\nwe generally abruptly exit in the IOMMU code. The failure could be\nhandled more nicely in the caller and especially in the VFIO code.\n\nSo let's allow memory_region_register_iommu_notifier() to fail as\nwell as notify_flag_changed() callback.\n\nAll sites implementing the callback are updated. This patch does\nnot yet remove the exit(1) in the amd_iommu code.\n\nin SMMUv3 we turn the warning message into an error message saying\nthat the assigned device would not work properly.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Peter Xu <peterx@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996823072433472,VFIO,"exec.c, hw/arm/smmuv3.c, hw/i386/amd_iommu.c, hw/i386/intel_iommu.c, hw/ppc/spapr_iommu.c, hw/vfio/common.c, hw/virtio/vhost.c, include/exec/memory.h, memory.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,99e24dbdaa682c7b9d0bb5b463638c585bcee1c3,245edd0cfb1481b7a0398cce45df23db50f00034,Paolo Bonzini,2019-07-01,"target/i386: introduce generic feature dependency mechanism\n\nSometimes a CPU feature does not make sense unless another is\npresent.  In the case of VMX features, KVM does not even allow\nsetting the VMX controls to some invalid combinations.\n\nTherefore, this patch adds a generic mechanism that looks for bits\nthat the user explicitly cleared, and uses them to remove other bits\nfrom the expanded CPU definition.  If these dependent bits were also\nexplicitly *set* by the user, this will be a warning for ""-cpu check""\nand an error for ""-cpu enforce"".  If not, then the dependent bits are\ncleared silently, for convenience.\n\nWith VMX features, this will be used so that for example\n""-cpu host,-rdrand"" will also hide support for RDRAND exiting.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9986771941184998,KVM,target/i386/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,048c95163b472ed737a2f0dca4f4e23a82ac2f8a,20a78b02d31534ae478779c2f2816c273601e869,Paolo Bonzini,2019-07-02,"target/i386: work around KVM_GET_MSRS bug for secondary execution controls\n\nSome secondary controls are automatically enabled/disabled based on the CPUID\nvalues that are set for the guest.  However, they are still available at a\nglobal level and therefore should be present when KVM_GET_MSRS is sent to\n/dev/kvm.\n\nUnfortunately KVM forgot to include those, so fix that.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997181296348572,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d964d3b5abb5242591a088dacb1dc01e608b5158,98b2e3c9ab3abfe476a2b02f8f51813edb90e72d,Evgeny Yakovlev,2019-10-10,"hw/vfio/pci: fix double free in vfio_msi_disable\n\nThe following guest behaviour patter leads to double free in VFIO PCI:\n\n1. Guest enables MSI interrupts\nvfio_msi_enable is called, but fails in vfio_enable_vectors.\nIn our case this was because VFIO GPU device was in D3 state.\nUnhappy path in vfio_msi_enable will g_free(vdev->msi_vectors) but not\nset this pointer to NULL\n\n2. Guest still sees MSI an enabled after that because emulated config\nwrite is done in vfio_pci_write_config unconditionally before calling\nvfio_msi_enable\n\n3. Guest disables MSI interrupts\nvfio_msi_disable is called and tries to g_free(vdev->msi_vectors)\nin vfio_msi_disable_common => double free\n\nSigned-off-by: Evgeny Yakovlev <wrfsh@yandex-team.ru>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9997292160987854,"PCI, VFIO",hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fff9f5558d0e0813d4f80bfe1602acf225eca4fd,f6530926e2310147a7844a3e663230d47b3d7333,Eric Auger,2019-10-03,"ARM: KVM: Check KVM_CAP_ARM_IRQ_LINE_LAYOUT_2 for smp_cpus > 256\n\nHost kernel within [4.18, 5.3] report an erroneous KVM_MAX_VCPUS=512\nfor ARM. The actual capability to instantiate more than 256 vcpus\nwas fixed in 5.4 with the upgrade of the KVM_IRQ_LINE ABI to support\nvcpu id encoded on 12 bits instead of 8 and a redistributor consuming\na single KVM IO device instead of 2.\n\nSo let's check this capability when attempting to use more than 256\nvcpus within any ARM kvm accelerated machine.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nAcked-by: Marc Zyngier <maz@kernel.org>\nMessage-id: 20191003154640.22451-4-eric.auger@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9833452105522156,"ARM, KVM",target/arm/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,76ecd7a514aa74b92dca807c60ca1e427e178fda,e7694a5eae34a31a5b240467b5201a7f31b7f96a,Bingsong Si,2019-08-22,"i386: Fix legacy guest with xsave panic on host kvm without update cpuid.\n\nwithout kvm commit 412a3c41, CPUID(EAX=0xd,ECX=0).EBX always equal to 0 even\nthrough guest update xcr0, this will crash legacy guest(e.g., CentOS 6).\nBelow is the call trace on the guest.\n\n[    0.000000] kernel BUG at mm/bootmem.c:469!\n[    0.000000] invalid opcode: 0000 [#1] SMP\n[    0.000000] last sysfs file:\n[    0.000000] CPU 0\n[    0.000000] Modules linked in:\n[    0.000000]\n[    0.000000] Pid: 0, comm: swapper Tainted: G           --------------- H  2.6.32-279#2 Red Hat KVM\n[    0.000000] RIP: 0010:[<ffffffff81c4edc4>]  [<ffffffff81c4edc4>] alloc_bootmem_core+0x7b/0x29e\n[    0.000000] RSP: 0018:ffffffff81a01cd8  EFLAGS: 00010046\n[    0.000000] RAX: ffffffff81cb1748 RBX: ffffffff81cb1720 RCX: 0000000001000000\n[    0.000000] RDX: 0000000000000040 RSI: 0000000000000000 RDI: ffffffff81cb1720\n[    0.000000] RBP: ffffffff81a01d38 R08: 0000000000000000 R09: 0000000000001000\n[    0.000000] R10: 02008921da802087 R11: 00000000ffff8800 R12: 0000000000000000\n[    0.000000] R13: 0000000000000000 R14: 0000000000000000 R15: 0000000001000000\n[    0.000000] FS:  0000000000000000(0000) GS:ffff880002200000(0000) knlGS:0000000000000000\n[    0.000000] CS:  0010 DS: 0018 ES: 0018 CR0: 0000000080050033\n[    0.000000] CR2: 0000000000000000 CR3: 0000000001a85000 CR4: 00000000001406b0\n[    0.000000] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000\n[    0.000000] DR3: 0000000000000000 DR6: 00000000ffff0ff0 DR7: 0000000000000400\n[    0.000000] Process swapper (pid: 0, threadinfo ffffffff81a00000, task ffffffff81a8d020)\n[    0.000000] Stack:\n[    0.000000]  0000000000000002 81a01dd881eaf060 000000007e5fe227 0000000000001001\n[    0.000000] <d> 0000000000000040 0000000000000001 0000006cffffffff 0000000001000000\n[    0.000000] <d> ffffffff81cb1720 0000000000000000 0000000000000000 0000000000000000\n[    0.000000] Call Trace:\n[    0.000000]  [<ffffffff81c4f074>] ___alloc_bootmem_nopanic+0x8d/0xca\n[    0.000000]  [<ffffffff81c4f0cf>] ___alloc_bootmem+0x11/0x39\n[    0.000000]  [<ffffffff81c4f172>] __alloc_bootmem+0xb/0xd\n[    0.000000]  [<ffffffff814d42d9>] xsave_cntxt_init+0x249/0x2c0\n[    0.000000]  [<ffffffff814e0689>] init_thread_xstate+0x17/0x25\n[    0.000000]  [<ffffffff814e0710>] fpu_init+0x79/0xaa\n[    0.000000]  [<ffffffff814e27e3>] cpu_init+0x301/0x344\n[    0.000000]  [<ffffffff81276395>] ? sort+0x155/0x230\n[    0.000000]  [<ffffffff81c30cf2>] trap_init+0x24e/0x25f\n[    0.000000]  [<ffffffff81c2bd73>] start_kernel+0x21c/0x430\n[    0.000000]  [<ffffffff81c2b33a>] x86_64_start_reservations+0x125/0x129\n[    0.000000]  [<ffffffff81c2b438>] x86_64_start_kernel+0xfa/0x109\n[    0.000000] Code: 03 48 89 f1 49 c1 e8 0c 48 0f af d0 48 c7 c6 00 a6 61 81 48 c7 c7 00 e5 79 81 31 c0 4c 89 74 24 08 e8 f2 d7 89 ff 4d 85 e4 75 04 <0f> 0b eb fe 48 8b 45 c0 48 83 e8 01 48 85 45\nc0 74 04 0f 0b eb\n\nSigned-off-by: Bingsong Si <owen.si@ucloud.cn>\nMessage-Id: <20190822042901.16858-1-owen.si@ucloud.cn>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9996892213821412,KVM,target/i386/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8d745875c28528a30155bfa0ca992e2202d08b96,e6144bf912a69b747be43f490a815871dca4f1ed,Stefan Brankovic,2019-10-04,"target/ppc: Fix for optimized vsl/vsr instructions\n\nIn previous implementation, invocation of TCG shift function could request\nshift of TCG variable by 64 bits when variable 'sh' is 0, which is not\nsupported in TCG (values can be shifted by 0 to 63 bits). This patch fixes\nthis by using two separate invocation of TCG shift functions, with maximum\nshift amount of 32.\n\nName of variable 'shifted' is changed to 'carry' so variable naming\nis similar to old helper implementation.\n\nVariables 'avrA' and 'avrB' are replaced with variable 'avr'.\n\nFixes: 4e6d0920e7547e6af4bbac5ffe9adfe6ea621822\nReported-by: ""Paul A. Clark"" <pc@us.ibm.com>\nReported-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nSuggested-by: Aleksandar Markovic <aleksandar.markovic@rt-rk.com>\nSigned-off-by: Stefan Brankovic <stefan.brankovic@rt-rk.com>\nMessage-Id: <1570196639-7025-2-git-send-email-stefan.brankovic@rt-rk.com>\nTested-by: Paul A. Clarke  <pc@us.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9986201524734496,TCG,target/ppc/translate/vmx-impl.inc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0a17e0c39f73080e6d5c4d9a2033a5bd475c416c,98a39a7927b510fcdd29f8237b67368a66121c84,David Gibson,2019-09-26,"spapr: Remove SpaprIrq::init_kvm hook\n\nThis hook is a bit odd.  The only caller is spapr_irq_init_kvm(), but\nit explicitly takes an SpaprIrq *, so it's never really called through the\ncurrent SpaprIrq.  Essentially this is just a way of passing through a\nfunction pointer so that spapr_irq_init_kvm() can handle some\nconfiguration and error handling logic without duplicating it between the\nxics and xive reset paths.\n\nSo, make it just take that function pointer.  Because of earlier reworks\nto the KVM connect/disconnect code in the xics and xive backends we can\nalso eliminate some wrapper functions and streamline error handling a bit.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Cdric Le Goater <clg@kaod.org>",1,0.9978231191635132,KVM,"hw/ppc/spapr_irq.c, include/hw/ppc/spapr_irq.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c42bf5f21043c86d50773220998b54ded091f779,74b3e46630446568aecb0be1c77c4875d7a52f6d,Stefan Hajnoczi,2019-10-23,tests/virtio-blk-test: read config space after feature negotiation\n\nThe VIRTIO Configuration Space cannot be accessed before device feature\nbits have been read because a driver doesn't know the endianness until\nit has checked VIRTIO_F_VERSION_1.\n\nFix this problem in preparation for VIRTIO 1.0 support.\n\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20191023100425.12168-2-stefanha@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9996755123138428,VIRTIO,tests/virtio-blk-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c5bd6d02e6eb6ae868abbcbeb5c3a3be8c5379a5,36d27d2120979db239230bb440c03d41dbe75165,Stefan Hajnoczi,2019-10-23,"libqos: add missing virtio-9p feature negotiation\n\nVIRTIO Device Initialization requires feature negotiation.  The libqos\nvirtio-9p driver lacks feature negotiation and is therefore\nnon-compliant.\n\nlibqos tests acknowledge all feature bits advertised by the device,\nexcept VIRTIO_F_BAD_FEATURE (which devices use to detect broken\ndrivers!) and VIRTIO_RING_F_EVENT_IDX (which is not implemented in\nlibqos and accepting it would break notifications).\n\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-Id: <20191023100425.12168-7-stefanha@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Thomas Huth"" <thuth@redhat.com>",1,0.9984201192855836,VIRTIO,tests/libqos/virtio-9p.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,899ba5edd86c255a41332bdcb83f24263d95e467,671f760b93ba4b0f5e5c84986b63c9b153509ecf,Alex Benne,2019-10-10,tests/tcg/Makefile.target: fix path to config-host.mak\n\nSince moving where the tests are run the path to config-host.mak has\nbeen wrong. This doesn't affect much but things like the time fallback\nfor CONFIG_DEBUG_TCG and will also get in the way of checking for\nPLUGINS support.\n\nFixes: fc76c56d3f4\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>,1,0.9997250437736512,TCG,tests/tcg/Makefile.target,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4fbddb5d965837c85ba23b06b346b10dd294d5ff,dc069b22a1c2fe988ad58fa9de7d768bf67cc9a0,Alex Benne,2019-10-11,.travis.yml: add --enable-plugins tests\n\ncheck-tcg will automatically run the plugins against most TCG tests if\nit is enabled in the build. We exclude sparc64-linux-user for now as\nthere are pending patches that need to be merged fixing it's fork\nimplementation.\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>,1,0.9990721940994264,TCG,.travis.yml,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd31b751a3c1ac964c78f30424c6eb497d7d29db,e19afd5667819d74ab25d1a1171efe7b5002c6ee,Andrew Jones,2019-10-31,tests: arm: Introduce cpu feature tests\n\nNow that Arm CPUs have advertised features lets add tests to ensure\nwe maintain their expected availability with and without KVM.\n\nSigned-off-by: Andrew Jones <drjones@redhat.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nMessage-id: 20191031142734.8590-3-drjones@redhat.com\n[PMM: squash in fix to avoid failure on aarch32-compat]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.999455749988556,KVM,"tests/Makefile.include, tests/arm-cpu-features.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0fbe394a64ac9ceb13a98f43d078cd48d3006498,158b65945192eb01708fa13718d92053ad583bba,Philippe Mathieu-Daud,2019-10-25,"hw/misc/grlib_ahb_apb_pnp: Fix 8-bit accesses\n\nThe Plug & Play region of the AHB/APB bridge can be accessed\nby various word size, however the implementation is clearly\nrestricted to 32-bit:\n\n  static uint64_t grlib_apb_pnp_read(void *opaque, hwaddr offset, unsigned size)\n  {\n      APBPnp *apb_pnp = GRLIB_APB_PNP(opaque);\n\n      return apb_pnp->regs[offset >> 2];\n  }\n\nSet the MemoryRegionOps::impl min/max fields to 32-bit, so\nmemory.c::access_with_adjusted_size() can adjust when the\naccess is not 32-bit.\n\nThis is required to run RTEMS on leon3, the grlib scanning\nfunctions do byte accesses.\n\nReported-by: Jiri Gaisler <jiri@gaisler.se>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: KONRAD Frederic <frederic.konrad@adacore.com>\nMessage-Id: <20191025110114.27091-3-philmd@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9996877908706664,GRLIB,hw/misc/grlib_ahb_apb_pnp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,653901ca2be30299a224677a8203ff3361dbd5c5,b7c9a7f353c0e260519bf735ff0d4aa01e72784b,Laurent Vivier,2019-11-04,"q800: fix I/O memory map\n\nLinux kernel 5.4 will introduce a new memory map for SWIM device.\n(aee6bff1c325 (""m68k: mac: Revisit floppy disc controller base addresses""))\n\nUntil this release all MMIO are mapped between 0x50f00000 and 0x50f40000,\nbut it appears that for real hardware 0x50f00000 is not the base address:\nthe MMIO region spans 0x50000000 through 0x60000000, and 0x50040000 through\n0x54000000 is repeated images of 0x50000000 to 0x50040000.\n\nFixed: 04e7ca8d0f (""hw/m68k: define Macintosh Quadra 800"")\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20191104101513.29518-1-laurent@vivier.eu>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9991913437843324,SWIM,hw/m68k/q800.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c744cf78791e7ddc903a46d6506f1a0cbcbb3387,af9f0be36cd412442a801d25bd5dd9459d691d0b,Laurent Vivier,2019-11-06,"dp8393x: fix dp8393x_receive()\n\nRXpkt.in_use is always 16 bit wide, but when the bus access mode is 32bit\nand the endianness is big, we must access the second word and not the\nfirst. This patch adjusts the offset according to the size and endianness.\n\nThis fixes DHCP for Q800 guest.\n\nFixes: be9208419865 (""dp8393x: manage big endian bus"")\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nTested-by: Herv Poussineau <hpoussin@reactos.org>\nMessage-Id: <20191106112341.23735-3-laurent@vivier.eu>",1,0.9996860027313232,Q800,hw/net/dp8393x.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,35886de140b7ff781b775d2da5e7475e8a8cb4c6,0990ce6a2e900d0bdda7f3ecdc991746f63551fb,Greg Kurz,2019-10-24,"xive, xics: Fix reference counting on CPU objects\n\nWhen a VCPU gets connected to the XIVE interrupt controller, we add a\nconst link targetting the CPU object to the TCTX object. Similar links\nare added to the ICP object when using the XICS interrupt controller.\n\nAs explained in <qom/object.h>:\n\n * The caller must ensure that @target stays alive as long as\n * this property exists.  In the case @target is a child of @obj,\n * this will be the case.  Otherwise, the caller is responsible for\n * taking a reference.\n\nWe're in the latter case for both XICS and XIVE. Add the missing\ncalls to object_ref() and object_unref().\n\nThis doesn't fix any known issue because the life cycle of the TCTX or\nICP happens to be shorter than the one of the CPU or XICS fabric, but\nbetter safe than sorry.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nMessage-Id: <157192724770.3146912.15400869269097231255.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>",1,0.9997099041938782,"XICS, XIVE","hw/intc/xics.c, hw/intc/xive.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,165dc3edd7f705c6c10908860b8c72e55eadd04b,a49f62b9fd7cf825d7c1f6fad10d865220ff01b2,David Gibson,2019-10-30,"spapr/kvm: Set default cpu model for all machine classes\n\nWe have to set the default model of all machine classes, not just for\nthe active one. Otherwise, ""query-machines"" will indicate the wrong\nCPU model (e.g. ""power9_v2.0-powerpc64-cpu"" instead of\n""host-powerpc64-cpu"") as ""default-cpu-type"".\n\ns390x already fixed this in de60a92e ""s390x/kvm: Set default cpu model for\nall machine classes"".  This patch applies a similar fix for the pseries-*\nmachine types on ppc64.\n\nDoing a\n    {""execute"":""query-machines""}\nunder KVM now results in\n    {\n      ""hotpluggable-cpus"": true,\n      ""name"": ""pseries-4.2"",\n      ""numa-mem-supported"": true,\n      ""default-cpu-type"": ""host-powerpc64-cpu"",\n      ""is-default"": true,\n      ""cpu-max"": 1024,\n      ""deprecated"": false,\n      ""alias"": ""pseries""\n    },\n    {\n      ""hotpluggable-cpus"": true,\n      ""name"": ""pseries-4.1"",\n      ""numa-mem-supported"": true,\n      ""default-cpu-type"": ""host-powerpc64-cpu"",\n      ""cpu-max"": 1024,\n      ""deprecated"": false\n    },\n    ...\n\nLibvirt probes all machines via ""-machine none,accel=kvm:tcg"" and will\ncurrently see the wrong CPU model under KVM.\n\nReported-by: Jii Denemark <jdenemar@redhat.com>\nCc: David Hildenbrand <david@redhat.com>\nCc: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: David Hildenbrand <david@redhat.com>\nReviewed-by: Greg Kurz <groug@kaod.org>\nTested-by: Jiri Denemark <jdenemar@redhat.com>\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>",1,0.9995989203453064,KVM,target/ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cd8843ff25d62a0af747517289a4f330b1ae2a6e,165dc3edd7f705c6c10908860b8c72e55eadd04b,Laurent Vivier,2019-11-02,"mos6522: fix T1 and T2 timers\n\nWith the Quadra 800 emulation, mos6522 timers processing can consume\nuntil 70% of the host CPU time with an idle guest (I guess the problem\nshould also happen with PowerMac emulation).\n\nOn a recent system, it can be painless (except if you look at top), but\non an old host like a PowerMac G5 the guest kernel can be terribly slow\nduring the boot sequence (for instance, unpacking initramfs can take 15\nseconds rather than only 3 seconds).\n\nWe can avoid this CPU overload by enabling QEMU internal timers only if\nthe mos6522 counter interrupts are enabled. Sometime the guest kernel\nwants to read the counters values, but we don't need the timers to\nupdate the counters.\n\nWith this patch applied, an idle Q800 consumes only 3% of host CPU time\n(and the guest can boot in a decent time).\n\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20191102154919.17775-1-laurent@vivier.eu>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>",1,0.9997344613075256,Q800,hw/misc/mos6522.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1335d64323be87ee14c766c59fabfb7e9acd7af7,1bd0f1c9c149c2fb738f381099cec7ad0ee224a9,Michal Privoznik,2019-11-18,"hw/vfio/pci: Fix double free of migration_blocker\n\nWhen user tries to hotplug a VFIO device, but the operation fails\nsomewhere in the middle (in my testing it failed because of\nRLIMIT_MEMLOCK forbidding more memory allocation), then a double\nfree occurs. In vfio_realize() the vdev->migration_blocker is\nallocated, then something goes wrong which causes control to jump\nonto 'error' label where the error is freed. But the pointer is\nleft pointing to invalid memory. Later, when\nvfio_instance_finalize() is called, the memory is freed again.\n\nIn my testing the second hunk was sufficient to fix the bug, but\nI figured the first hunk doesn't hurt either.\n\n==169952== Invalid read of size 8\n==169952==    at 0xA47DCD: error_free (error.c:266)\n==169952==    by 0x4E0A18: vfio_instance_finalize (pci.c:3040)\n==169952==    by 0x8DF74C: object_deinit (object.c:606)\n==169952==    by 0x8DF7BE: object_finalize (object.c:620)\n==169952==    by 0x8E0757: object_unref (object.c:1074)\n==169952==    by 0x45079C: memory_region_unref (memory.c:1779)\n==169952==    by 0x45376B: do_address_space_destroy (memory.c:2793)\n==169952==    by 0xA5C600: call_rcu_thread (rcu.c:283)\n==169952==    by 0xA427CB: qemu_thread_start (qemu-thread-posix.c:519)\n==169952==    by 0x80A8457: start_thread (in /lib64/libpthread-2.29.so)\n==169952==    by 0x81C96EE: clone (in /lib64/libc-2.29.so)\n==169952==  Address 0x143137e0 is 0 bytes inside a block of size 48 free'd\n==169952==    at 0x4A342BB: free (vg_replace_malloc.c:530)\n==169952==    by 0xA47E05: error_free (error.c:270)\n==169952==    by 0x4E0945: vfio_realize (pci.c:3025)\n==169952==    by 0x76A4FF: pci_qdev_realize (pci.c:2099)\n==169952==    by 0x689B9A: device_set_realized (qdev.c:876)\n==169952==    by 0x8E2C80: property_set_bool (object.c:2080)\n==169952==    by 0x8E0EF6: object_property_set (object.c:1272)\n==169952==    by 0x8E3FC8: object_property_set_qobject (qom-qobject.c:26)\n==169952==    by 0x8E11DB: object_property_set_bool (object.c:1338)\n==169952==    by 0x5E7BDD: qdev_device_add (qdev-monitor.c:673)\n==169952==    by 0x5E81E5: qmp_device_add (qdev-monitor.c:798)\n==169952==    by 0x9E18A8: do_qmp_dispatch (qmp-dispatch.c:132)\n==169952==  Block was alloc'd at\n==169952==    at 0x4A35476: calloc (vg_replace_malloc.c:752)\n==169952==    by 0x51B1158: g_malloc0 (in /usr/lib64/libglib-2.0.so.0.6000.6)\n==169952==    by 0xA47357: error_setv (error.c:61)\n==169952==    by 0xA475D9: error_setg_internal (error.c:97)\n==169952==    by 0x4DF8C2: vfio_realize (pci.c:2737)\n==169952==    by 0x76A4FF: pci_qdev_realize (pci.c:2099)\n==169952==    by 0x689B9A: device_set_realized (qdev.c:876)\n==169952==    by 0x8E2C80: property_set_bool (object.c:2080)\n==169952==    by 0x8E0EF6: object_property_set (object.c:1272)\n==169952==    by 0x8E3FC8: object_property_set_qobject (qom-qobject.c:26)\n==169952==    by 0x8E11DB: object_property_set_bool (object.c:1338)\n==169952==    by 0x5E7BDD: qdev_device_add (qdev-monitor.c:673)\n\nFixes: f045a0104c8c (""vfio: unplug failover primary device before migration"")\nSigned-off-by: Michal Privoznik <mprivozn@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9997463822364808,VFIO,hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c9d6da3a5e427cd0ff58a06a38c8faa4fa7b21ba,7fac38635e1cc5ebae34eb6530da1009bd5808e4,Thomas Huth,2019-11-15,"hw/i386: Fix compiler warning when CONFIG_IDE_ISA is disabled\n\nWhen CONFIG_IDE_ISA is disabled, compilation currently fails:\n\n hw/i386/pc_piix.c: In function pc_init1:\n hw/i386/pc_piix.c:81:9: error: unused variable i [-Werror=unused-variable]\n\nMove the variable declaration to the right code block to avoid\nthis problem.\n\nFixes: 4501d317b50e (""hw/i386/pc: Extract pc_i8259_create()"")\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20191115145049.26868-1-thuth@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997215867042542,IDE_ISA,hw/i386/pc_piix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6c77aa909e0eec6531e2398d0e9e60ec6a9339c6,ec244b17391f8f9a16e91905a91a52dd77d3759f,Igor Mammedov,2019-11-20,"tests: acpi: always retain dumped ACPI tables in case of error\n\nIf IASL wasn't able to parse expected file, test will just\nprint warning\n  ""Warning! iasl couldn't parse the expected aml\n""\nand remove temporary table dumped from guest.\n\nTypically expected tables are always valid, with an exception\nwhen patchset introduces new tables.\nMake sure dumped tables are retained even if expected files\nare not valid, so one could have a chance to manualy check new\ntables.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <1574240560-12538-1-git-send-email-imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.992121696472168,ACPI,tests/bios-tables-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9c0fb20c4bd50a99c3c6f6d515e05eaf8dd87fa4,65e05c82bdc6d348155e301c9d87dba7a08a5701,Palmer Dabbelt,2019-11-07,"RISC-V: virt: This is a ""sifive,test1"" test finisher\n\nThe test finisher implements the reset command, which means it's a\n""sifive,test1"" device.  This is a backwards compatible change, so it's\nalso a ""sifive,test0"" device.  I copied the odd idiom for adding a\ntwo-string compatible field from the ARM virt board.\n\nFixes: 9a2551ed6f (""riscv: sifive_test: Add reset functionality"")\nSigned-off-by: Palmer Dabbelt <palmer@sifive.com>\nSigned-off-by: Palmer Dabbelt <palmer@dabbelt.com>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nSigned-off-by: Palmer Dabbelt <palmerdabbelt@google.com>",1,0.9992916584014891,ARM,hw/riscv/virt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6478dd745dca49d63250500cd1aeca1c41cd6f89,9c0fb20c4bd50a99c3c6f6d515e05eaf8dd87fa4,"Zhuang, Siwei (Data61, Kensington NSW)",2019-11-19,"hw/riscv: Add optional symbol callback ptr to riscv_load_kernel()\n\nThis patch adds an optional function pointer, ""sym_cb"", to\nriscv_load_kernel() which provides the possibility to access the symbol\ntable during kernel loading.\n\nThe pointer is ignored, if supplied with Image or uImage file.\n\nThe Spike board requires the access to locate the HTIF symbols.\n\nFixes: 0ac24d56c5e7 (""hw/riscv: Split out the boot functions"")\nBuglink: https://bugs.launchpad.net/qemu/+bug/1835827\nSigned-off-by: Siwei Zhuang <siwei.zhuang@data61.csiro.au>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nSigned-off-by: Palmer Dabbelt <palmerdabbelt@google.com>",1,0.9993485808372498,HTIF,"hw/riscv/boot.c, hw/riscv/sifive_e.c, hw/riscv/sifive_u.c, hw/riscv/spike.c, hw/riscv/virt.c, include/hw/riscv/boot.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b14848f5d757cbe89dfd1ee68ce701a8277c2f17,e532e1d93c4bd869b11db6ee0de2057e7d288889,David Gibson,2019-10-02,"spapr: Work around spurious warnings from vfio INTx initialization\n\nTraditional PCI INTx for vfio devices can only perform well if using\nan in-kernel irqchip.  Therefore, vfio_intx_update() issues a warning\nif an in kernel irqchip is not available.\n\nWe usually do have an in-kernel irqchip available for pseries machines\non POWER hosts.  However, because the platform allows feature\nnegotiation of what interrupt controller model to use, we don't\ncurrently initialize it until machine reset.  vfio_intx_update() is\ncalled (first) from vfio_realize() before that, so it can issue a\nspurious warning, even if we will have an in kernel irqchip by the\ntime we need it.\n\nTo workaround this, make a call to spapr_irq_update_active_intc() from\nspapr_irq_init() which is called at machine realize time, before the\nvfio realize.  This call will be pretty much obsoleted by the later\ncall at reset time, but it serves to suppress the spurious warning\nfrom VFIO.\n\nCc: Alex Williamson <alex.williamson@redhat.com>\nCc: Alexey Kardashevskiy <aik@ozlabs.ru>\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nTested-by: Alex Williamson <alex.williamson@redhat.com>\nReviewed-by: Alex Williamson <alex.williamson@redhat.com>\nReviewed-by: Greg Kurz <groug@kaod.org>\nAcked-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9993209838867188,"PCI, VFIO",hw/ppc/spapr_irq.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9fedbbeeee6dead7e73b3a53e3c80dd37392b464,fbafbb6db77428d9a0bf22ea8e9c4a07140ae7d9,Cameron Esfahani,2019-11-24,"hvf: remove TSC synchronization code because it isn't fully complete\n\nThe existing code in QEMU's HVF support to attempt to synchronize TSC\nacross multiple cores is not sufficient.  TSC value on other cores\ncan go backwards.  Until implementation is fixed, remove calls to\nhv_vm_sync_tsc().  Pass through TSC to guest OS.\n\nSigned-off-by: Cameron Esfahani <dirty@apple.com>\nMessage-Id: <44c4afd2301b8bf99682b229b0796d84edd6d66f.1574625592.git.dirty@apple.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9740079045295716,HVF,"target/i386/hvf/hvf.c, target/i386/hvf/x86_emu.c, target/i386/hvf/x86hvf.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8c3b0e9e678a3a690d1411a8231f29082ab50988,9fedbbeeee6dead7e73b3a53e3c80dd37392b464,Cameron Esfahani,2019-11-24,"hvf: correctly handle REX prefix in relation to legacy prefixes\n\nIn real x86 processors, the REX prefix must come after legacy prefixes.\nREX before legacy is ignored.  Update the HVF emulation code to properly\nhandle this.  Fix some spelling errors in constants.  Fix some decoder\ntable initialization issues found by Coverity.\n\nSigned-off-by: Cameron Esfahani <dirty@apple.com>\nMessage-Id: <eff30ded8307471936bec5d84c3b6efbc95e3211.1574625592.git.dirty@apple.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995349645614624,HVF,"target/i386/hvf/x86_decode.c, target/i386/hvf/x86_decode.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7cf95aed53c8770a338617ef40d5f37d2c197853,f0138990ce1e8166ef1488e3b77b2d21ce71ede3,Marc Zyngier,2019-11-26,"target/arm: Fix ISR_EL1 tracking when executing at EL2\n\nThe ARMv8 ARM states when executing at EL2, EL3 or Secure EL1,\nISR_EL1 shows the pending status of the physical IRQ, FIQ, or\nSError interrupts.\n\nUnfortunately, QEMU's implementation only considers the HCR_EL2\nbits, and ignores the current exception level. This means a hypervisor\ntrying to look at its own interrupt state actually sees the guest\nstate, which is unexpected and breaks KVM as of Linux 5.3.\n\nInstead, check for the running EL and return the physical bits\nif not running in a virtualized context.\n\nFixes: 636540e9c40b\nCc: qemu-stable@nongnu.org\nReported-by: Quentin Perret <qperret@google.com>\nSigned-off-by: Marc Zyngier <maz@kernel.org>\nMessage-id: 20191122135833.28953-1-maz@kernel.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997267127037048,"ARM, KVM",target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f24ec9feadfed032a91e06cb3c564db533d5ff11,1a61a081ac33ae6cb7dd2e38d119a572f416c7f7,Claudio Imbrenda,2019-11-28,"pc-bios/s390-ccw: fix sclp_get_loadparm_ascii\n\nThe existing s390 bios gets the LOADPARM information from the system using\nan SCLP call that specifies a buffer length too small to contain all the\noutput.\n\nThe recent fixes in the SCLP code have exposed this bug, since now the\nSCLP call will return an error (as per architecture) instead of\nwriting partially and completing successfully.\n\nThe solution is simply to specify the full page length as the SCCB\nlength instead of a smaller size.\n\nFixes: 832be0d8a3bb (""s390x: sclp: Report insufficient SCCB length"")\nFixes: 9a22473c70f3 (""pc-bios/s390-ccw: get LOADPARM stored in SCP Read Info"")\n\nReported-by: Marc Hartmayer <mhartmay@linux.ibm.com>\nSigned-off-by: Claudio Imbrenda <imbrenda@linux.ibm.com>\nMessage-Id: <1574944437-31182-1-git-send-email-imbrenda@linux.ibm.com>\nAcked-by: Christian Borntraeger <borntraeger@de.ibm.com>\nTested-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Janosch Frank <frankja@linux.ibm.com>\nTested-by: Marc Hartmayer <mhartmay@linux.ibm.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9997463822364808,ARM,pc-bios/s390-ccw/sclp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2605188240f939fa9ae9353f53a0985620b34769,1bdc319ab5d289ce6b822e06fb2b13666fd9278e,Yang Zhong,2019-12-06,"target/i386: disable VMX features if nested=0\n\nIf kvm does not support VMX feature by nested=0, the kvm_vmx_basic\ncan't get the right value from MSR_IA32_VMX_BASIC register, which\nmake qemu coredump when qemu do KVM_SET_MSRS.\n\nThe coredump info:\nerror: failed to set MSR 0x480 to 0x0\nkvm_put_msrs: Assertion `ret == cpu->kvm_msr_buf->nmsrs' failed.\n\nSigned-off-by: Yang Zhong <yang.zhong@intel.com>\nMessage-Id: <20191206071111.12128-1-yang.zhong@intel.com>\nReported-by: Catherine Ho <catherine.hecx@gmail.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9845386743545532,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,366844f3d1329c6423dd752891a28ccb3ee8fddd,703857348724319735d9be7b5b996e6445c6e6b9,Stefan Hajnoczi,2019-12-09,virtio-fs: fix MSI-X nvectors calculation\n\nThe following MSI-X vectors are required:\n * VIRTIO Configuration Change\n * hiprio virtqueue\n * requests virtqueues\n\nFix the calculation to reserve enough MSI-X vectors.  Otherwise guest\ndrivers fall back to a sub-optional configuration where all virtqueues\nshare a single vector.\n\nThis change does not break live migration compatibility since\nvhost-user-fs-pci devices are not migratable yet.\n\nReported-by: Vivek Goyal <vgoyal@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-Id: <20191209110759.35227-1-stefanha@redhat.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>,1,0.998580813407898,VIRTIO,hw/virtio/vhost-user-fs-pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1625073289b7940477031d3e98ea8c829a699df5,cf7beda5072e106ddce875c1996446540c5fe239,David Gibson,2019-12-02,"exynos4210_gic: Suppress gcc9 format-truncation warnings\n\nexynos4210_gic_realize() prints the number of cpus into some temporary\nbuffers, but it only allows 3 bytes space for it.  That's plenty:\nexisting machines will only ever set this value to EXYNOS4210_NCPUS\n(2).  But the compiler can't always figure that out, so some[*] gcc9\nversions emit -Wformat-truncation warnings.\n\nWe can fix that by hinting the constraint to the compiler with a\nsuitably placed assert().\n\n[*] The bizarre thing here, is that I've long gotten these warnings\n    compiling in a 32-bit x86 container as host - Fedora 30 with\n    gcc-9.2.1-1.fc30.i686 - but it compiles just fine on my normal\n    x86_64 host - Fedora 30 with and gcc-9.2.1-1.fc30.x86_64.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\n[PMM: deleted stray blank line]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999505877494812,EXYNOS4,hw/intc/exynos4210_gic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5bb0a20b74ad17dee5dae38e3b8b70b383ee7c2d,9ca1d776cb49c09b09579d9edd0447542970c834,Marc Zyngier,2019-12-01,"target/arm: Handle AArch32 CP15 trapping via HSTR_EL2\n\nHSTR_EL2 offers a way to trap ranges of CP15 system register\naccesses to EL2, and it looks like this register is completely\nignored by QEMU.\n\nTo avoid adding extra .accessfn filters all over the place (which\nwould have a direct performance impact), let's add a new TB flag\nthat gets set whenever HSTR_EL2 is non-zero and that QEMU translates\na context where this trap has a chance to apply, and only generate\nthe extra access check if the hypervisor is actively using this feature.\n\nTested with a hand-crafted KVM guest accessing CBAR.\n\nSigned-off-by: Marc Zyngier <maz@kernel.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20191201122018.25808-5-maz@kernel.org\n[PMM: use is_a64(); fix comment syntax]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9908804893493652,KVM,"target/arm/cpu.h, target/arm/helper.c, target/arm/op_helper.c, target/arm/translate.c, target/arm/translate.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f80741d107673f162e3b097fc76a1590036cc9d1,b8b69f4c45894ea05a9c334e76178679ec084565,Alex Benne,2019-12-12,target/arm: ensure we use current exception state after SCR update\n\nA write to the SCR can change the effective EL by droppping the system\nfrom secure to non-secure mode. However if we use a cached current_el\nfrom before the change we'll rebuild the flags incorrectly. To fix\nthis we introduce the ARM_CP_NEWEL CP flag to indicate the new EL\nshould be used when recomputing the flags.\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nTested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20191212114734.6962-1-alex.bennee@linaro.org\nCc: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20191209143723.6368-1-alex.bennee@linaro.org>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9931426048278807,ARM,"target/arm/cpu.h, target/arm/helper.c, target/arm/helper.h, target/arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d32dc61421b7a836e5b4a8e97a43b7f7770b904b,f3db354ca4435ce5347f87f06a3e706f0685ecd2,Philippe Mathieu-Daud,2019-11-25,"hw/mips: Deprecate the r4k machine\n\nThe r4k machine was introduced in 2005 (6af0bf9c7) and its last\nlogical change was in 2005 (9542611a6). After that, one can\ncount 164 maintenance commits (QEMU API changes) with the\nexception of 1 fix in 2015 (memory leak, commit 3ad9fd5a).\n\nThis machine was introduced as a proof of concept to run a MIPS\nCPU. Two years later, the Malta machine was added (commit\n5856de80), modeling a real platform.\n\nNote also this machine has no specification except 5 lines in\nthe header of this file:\n\n * emulates a simple machine with ISA-like bus.\n * ISA IO space mapped to the 0x14000000 (PHYS) and\n * ISA memory at the 0x10000000 (PHYS, 16Mb in size).\n * All peripherial devices are attached to this ""bus"" with\n * the standard PC ISA addresses.\n\nThe Linux kernel support for this machine has been dropped more\nthan 10 years ago in commit 302922e5.\n\nIt is time to deprecate this obsolete machine. Users are\nrecommended to use the Malta board, and its hardware is well\ndocumented.\n\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nReviewed-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nAcked-by: Aurelien Jarno <aurelien@aurel32.net>\nMessage-Id: <20191125104103.28962-1-philmd@redhat.com>",1,0.990661084651947,MIPS,"MAINTAINERS, hw/mips/mips_r4k.c, qemu-deprecated.texi",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b015a9809427c87940447e5b76a5b73a0bf27d7c,7ae54cc3a00d28cfb0bc4f377faf157b2e55b25c,Greg Kurz,2019-11-18,xics: Link ICS_PROP_XICS property to ICSState::xics pointer\n\nThe ICS object has both a pointer and an ICS_PROP_XICS property pointing\nto the XICS fabric. Confusing bugs could arise if these ever go out of\nsync.\n\nChange the property definition so that it explicitely sets the pointer.\nThe property isn't optional : not being able to set the link is a bug\nand QEMU should rather abort than exit in this case.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <157403283596.409804.17347207690271971987.stgit@bahia.lan>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.8446370959281921,XICS,"hw/intc/xics.c, hw/ppc/pnv_psi.c, hw/ppc/spapr_irq.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,818a6d30e0011e7a9cf8b1d4a1d6f3255778e1d7,e388d66b407366e09228fa60b783cea1ac828066,Greg Kurz,2019-11-18,"spapr: Abort if XICS interrupt controller cannot be initialized\n\nFailing to set any of the ICS property should really never happen:\n- object_property_add_child() always succeed unless the child object\n  already has a parent, which isn't the case here obviously since the\n  ICS has just been created with object_new()\n- the ICS has an ""nr-irqs"" property than can be set as long as the ICS\n  isn't realized\n\nIn both cases, an error indicates there is a bug in QEMU. Propagating the\nerror, ie. exiting QEMU since spapr_irq_init() is called with &error_fatal\ndoesn't make much sense. Abort instead. This is consistent with what is\ndone with XIVE : both qdev_create() and qdev_prop_set_uint32() abort QEMU\non error.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <157403285265.409804.8683093665795248192.stgit@bahia.lan>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997223019599916,"XICS, XIVE",hw/ppc/spapr_irq.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,516883c2f15bdd844543be218155898d06953c90,95bd61c4dfc4c08d4248071f2f70d9c2afacc0d1,Cdric Le Goater,2019-11-15,"ppc/xive: Record the IPB in the associated NVT\n\nWhen an interrupt can not be presented to a vCPU, because it is not\nrunning on any of the HW treads, the XIVE presenter updates the\nInterrupt Pending Buffer register of the associated XIVE NVT\nstructure. This is only done if backlog is activated in the END but\nthis is generally the case.\n\nThe current code assumes that the fields of the NVT structure is\narchitected with the same layout of the thread interrupt context\nregisters. Fix this assumption and define an offset for the IPB\nregister backup value in the NVT.\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20191115162436.30548-2-clg@kaod.org>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9991794228553772,XIVE,"hw/intc/xive.c, include/hw/ppc/xive_regs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cd55b1272e3fa341b3f7c32b6186a2d0f71a45c8,58246041d372f5b1cd7ec5242b44dbd5c3a556c4,Cdric Le Goater,2019-11-15,"ppc/pnv: Quiesce some XIVE errors\n\nWhen dumping the END and NVT tables, the error logging is too noisy.\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20191115162436.30548-6-clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9995296001434326,XIVE,hw/intc/pnv_xive.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ca661fae81d3b36b72c316a63165d9318dbd2439,ed8da05cdb18a32a8a41165d5b7b367bc05fdab0,Cdric Le Goater,2019-10-28,ppc/pnv: Add HIOMAP commands\n\nThis activates HIOMAP support on the QEMU PowerNV machine. The PnvPnor\nmodel is used to access the flash contents. The model simply maps the\ncontents at a fix offset and enables or disables the mapping.\n\nHIOMAP Protocol description :\n\n  https://github.com/openbmc/hiomapd/blob/master/Documentation/protocol.md\n\nReviewed-by: Joel Stanley <joel@jms.id.au>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20191028070027.22752-3-clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9995197057724,OMAP,"hw/ppc/pnv.c, hw/ppc/pnv_bmc.c, hw/ppc/pnv_lpc.c, include/hw/ppc/pnv.h, include/hw/ppc/pnv_pnor.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,feecc6a0435d46da45b2d383693fe1292043606c,4fa28f23906dc268c4c3be3236f15a4de1093c18,Cdric Le Goater,2019-11-25,ppc/pnv: Loop on the threads of the chip to find a matching NVT\n\nCPU_FOREACH() loops on all the CPUs of the machine which is incorrect.\nEach XIVE Presenter should scan only the HW threads of the chip it\nbelongs to.\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20191125065820.927-5-clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9114369750022888,XIVE,hw/intc/pnv_xive.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,401774387aeb37f2ada9bb18f7c7e307b21a3e93,d1d32d6255a395eb071c10aeffb932a3485bdfcd,Greg Kurz,2019-12-04,"ppc: Deassert the external interrupt pin in KVM on reset\n\nWhen a CPU is reset, QEMU makes sure no interrupt is pending by clearing\nCPUPPCstate::pending_interrupts in ppc_cpu_reset(). In the case of a\ncomplete machine emulation, eg. a sPAPR machine, an external interrupt\nrequest could still be pending in KVM though, eg. an IPI. It will be\neventually presented to the guest, which is supposed to acknowledge it at\nthe interrupt controller. If the interrupt controller is emulated in QEMU,\neither XICS or XIVE, ppc_set_irq() won't deassert the external interrupt\npin in KVM since it isn't pending anymore for QEMU. When the vCPU re-enters\nthe guest, the interrupt request is still pending and the vCPU will try\nagain to acknowledge it. This causes an infinite loop and eventually hangs\nthe guest.\n\nThe code has been broken since the beginning. The issue wasn't hit before\nbecause accel=kvm,kernel-irqchip=off is an awkward setup that never got\nused until recently with the LC92x IBM systems (aka, Boston).\n\nAdd a ppc_irq_reset() function to do the necessary cleanup, ie. deassert\nthe IRQ pins of the CPU in QEMU and most importantly the external interrupt\npin for this vCPU in KVM.\n\nReported-by: Satheesh Rajendran <sathnaga@linux.vnet.ibm.com>\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <157548861740.3650476.16879693165328764758.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9487313628196716,"KVM, PPC, XICS, XIVE","hw/ppc/ppc.c, include/hw/ppc/ppc.h, target/ppc/translate_init.inc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8b90f1c5aca6cfabe97a567150560d06485182fa,6f6e1698a68ceb49e57676528612f22eaf2c16c3,Paolo Bonzini,2019-11-13,"vl: warn for unavailable accelerators, clarify messages\n\nSo far, specifying an accelerator that was not compiled in did not result\nin an error; fix that.\n\nWhile at it, clarify the mysterious ""Back to TCG"" message.\n\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995954632759094,TCG,vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f6166a4da59bdd57b3af8b1c742ce611d6c3d3aa,bc0e339b01b330c55532571ae6fce89b0f8a4a96,Markus Armbruster,2019-12-04,"hw/ipmi: Fix realize() error API violations\n\nisa_ipmi_bt_realize(), ipmi_isa_realize(), pci_ipmi_bt_realize(), and\npci_ipmi_kcs_realize() dereference @errp when IPMIInterfaceClass\nmethod init() fails.  That's wrong; see the big comment in error.h.\nIntroduced in commit 0719029c47 ""ipmi: Add an ISA KCS low-level\ninterface"", then imitated in commit a9b74079cb ""ipmi: Add a BT\nlow-level interface"" and commit 12f983c6aa ""ipmi: Add PCI IPMI\ninterfaces"".\n\nNo caller actually passes null.\n\nFix anyway: splice in a local Error *err, and error_propagate().\n\nCc: Corey Minyard <cminyard@mvista.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nMessage-Id: <20191204093625.14836-9-armbru@redhat.com>",1,0.9996095299720764,"IPMI, PCI","hw/ipmi/isa_ipmi_bt.c, hw/ipmi/isa_ipmi_kcs.c, hw/ipmi/pci_ipmi_bt.c, hw/ipmi/pci_ipmi_kcs.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b255cafb59578d16716186ed955717bc8f87bdb7,a7f65ceb851af5a5b639c6e30801076d848db2c2,Simon Veith,2019-12-20,"hw/arm/smmuv3: Report F_STE_FETCH fault address in correct word position\n\nThe smmuv3_record_event() function that generates the F_STE_FETCH error\nuses the EVT_SET_ADDR macro to record the fetch address, placing it in\n32-bit words 4 and 5.\n\nThe correct position for this address is in words 6 and 7, per the\nSMMUv3 Architecture Specification.\n\nUpdate the function to use the EVT_SET_ADDR2 macro instead, which is the\nmacro intended for writing to these words.\n\nref. ARM IHI 0070C, section 7.3.4.\n\nSigned-off-by: Simon Veith <sveith@amazon.de>\nAcked-by: Eric Auger <eric.auger@redhat.com>\nTested-by: Eric Auger <eric.auger@redhat.com>\nMessage-id: 1576509312-13083-7-git-send-email-sveith@amazon.de\nCc: Eric Auger <eric.auger@redhat.com>\nCc: qemu-devel@nongnu.org\nCc: qemu-arm@nongnu.org\nAcked-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9989688396453856,ARM,hw/arm/smmuv3.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c8fa6079eb35888587f1be27c1590da4edcc5098,0ee8b24a69e410ce5abdc30b7050dc9e26a647ca,Niek Linnenbank,2019-12-20,"arm/arm-powerctl: rebuild hflags after setting CP15 bits in arm_set_cpu_on()\n\nAfter setting CP15 bits in arm_set_cpu_on() the cached hflags must\nbe rebuild to reflect the changed processor state. Without rebuilding,\nthe cached hflags would be inconsistent until the next call to\narm_rebuild_hflags(). When QEMU is compiled with debugging enabled\n(--enable-debug), this problem is captured shortly after the first\ncall to arm_set_cpu_on() for CPUs running in ARM 32-bit non-secure mode:\n\n  qemu-system-arm: target/arm/helper.c:11359: cpu_get_tb_cpu_state:\n  Assertion `flags == rebuild_hflags_internal(env)' failed.\n  Aborted (core dumped)\n\nFixes: 0c7f8c43daf65\nCc: qemu-stable@nongnu.org\nSigned-off-by: Niek Linnenbank <nieklinnenbank@gmail.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9993045330047609,ARM,target/arm/arm-powerctl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,be3d7ee960143959c5866daf15f2ab93f3f282b8,dccdaa1f756fedee2f1dac3650e19f29572f76c4,Philippe Mathieu-Daud,2019-12-31,hw/usb/redirect: Do not link 'usb-redir' device when USB not enabled\n\nThe 'usb-redir' device requires the USB core code to work. Do not\nlink it when there is no USB support. This fixes:\n\n  $ qemu-system-tricore -M tricore_testboard -device usb-redir\n  qemu-system-tricore: -device usb-redir: No 'usb-bus' bus found for device 'usb-redir'\n\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20191231183216.6781-2-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996654987335204,USB,hw/usb/Makefile.objs,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ff2efdcdc1674b31fcad64d668a4da01cd454b82,48ca2c4aa174aebedfdd64369697e467e30ffd22,Philippe Mathieu-Daud,2019-12-31,"hw/i386/Kconfig: Let the MicroVM machine select the SERIAL_ISA config\n\nWhen configured with --without-default-devices, the build fails:\n\n     LINK    x86_64-softmmu/qemu-system-x86_64\n  /usr/bin/ld: hw/i386/microvm.o: in function `microvm_devices_init':\n  hw/i386/microvm.c:157: undefined reference to `serial_hds_isa_init'\n  collect2: error: ld returned 1 exit status\n  make[1]: *** [Makefile:206: qemu-system-x86_64] Error 1\n  make: *** [Makefile:483: x86_64-softmmu/all] Error 2\n\nWhile the MicroVM machine only uses the ISA serial port when the\nMICROVM_MACHINE_ISA_SERIAL property is set, it has to be linked\nwith it. Replace the 'imply' Kconfig rule by a 'select'.\n\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20191231183216.6781-4-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999413251876831,"MICROVM, SERIAL, SERIAL_ISA",hw/i386/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,def9119efe20cf14204753426c20527efd97eed1,a0297be4bead925d0eea4a0de9ce8c3e48c2f43a,Philippe Mathieu-Daud,2019-12-31,"hw/ppc/Kconfig: Let the Sam460ex board use the PowerPC 405 devices\n\nWhen configured with --without-default-devices, the build fails:\n\n    LINK    ppc-softmmu/qemu-system-ppc\n  /usr/bin/ld: hw/ppc/sam460ex.o: in function `sam460ex_init':\n  hw/ppc/sam460ex.c:313: undefined reference to `ppc4xx_plb_init'\n  /usr/bin/ld: hw/ppc/sam460ex.c:353: undefined reference to `ppc405_ebc_init'\n  collect2: error: ld returned 1 exit status\n  make[1]: *** [Makefile:206: qemu-system-ppc] Error 1\n\nFix by selecting the PPC405 config.\n\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20191231183216.6781-8-philmd@redhat.com>\nReviewed-by: BALATON Zoltan <balaton@eik.bme.hu>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9903772473335266,"PPC, PPC405",hw/ppc/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,45b0bd10957d40dccc6d9a98d484d548df04e02c,def9119efe20cf14204753426c20527efd97eed1,Philippe Mathieu-Daud,2019-12-31,"hw/ppc/Kconfig: Let the Xilinx Virtex5 ML507 use the PPC-440 devices\n\nWhen configured with --without-default-devices, the build fails:\n\n    LINK    ppc-softmmu/qemu-system-ppc\n  /usr/bin/ld: hw/ppc/virtex_ml507.o: in function `ppc440_init_xilinx':\n  hw/ppc/virtex_ml507.c:112: undefined reference to `ppcuic_init'\n  collect2: error: ld returned 1 exit status\n  make[1]: *** [Makefile:206: qemu-system-ppc] Error 1\n  make: *** [Makefile:483: ppc-softmmu/all] Error 2\n\nFix by selecting the PPC4XX config.\n\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20191231183216.6781-9-philmd@redhat.com>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9949126243591307,"PPC, PPC4XX",hw/ppc/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5a07192a042e60ce7415279a48aff8a932829f55,c9c6b2e1c485670763bb8aea4c769081b9a5fe56,mkdolata@us.ibm.com,2020-01-07,"target/i386: Fix handling of k_gs_base register in 32-bit mode in gdbstub\n\ngdb-xml/i386-32bit.xml includes the k_gs_base register too, so we have to\nhandle it even if TARGET_X86_64 is not defined.  This is already done in\nx86_cpu_gdb_read_register, but not in x86_cpu_gdb_write_register where the\nincorrect return value causes all registers after it to be clobbered.\n\nFixes https://bugs.launchpad.net/qemu/+bug/1857640.\n\nSigned-off-by: Marek Dolata <mkdolata@us.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997394680976868,X86_64,target/i386/gdbstub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0b731978818ff4dd21eb250e8d8d2803015afba3,6cc64796f2b031186b6ae9c6c5932ea972a8c6cd,Bharata B Rao,2020-01-02,"ppc/spapr: Don't call KVM_SVM_OFF ioctl on TCG\n\nInvoking KVM_SVM_OFF ioctl for TCG guests will lead to a QEMU crash.\nFix this by ensuring that we don't call KVM_SVM_OFF ioctl on TCG.\n\nReported-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nFixes: 4930c1966249 (""ppc/spapr: Support reboot of secure pseries guest"")\nSigned-off-by: Bharata B Rao <bharata@linux.ibm.com>\nMessage-Id: <20200102054155.13175-1-bharata@linux.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999727427959442,"KVM, TCG",target/ppc/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1a1fbc6cbb34c26d43d8360c66c1d21681af14a9,30d544839e278dc76017b9a42990c41e84a34377,Richard Henderson,2020-01-17,"target/arm: Set ISSIs16Bit in make_issinfo\n\nDuring the conversion to decodetree, the setting of\nISSIs16Bit got lost.  This causes the guest os to\nincorrectly adjust trapping memory operations.\n\nCc: qemu-stable@nongnu.org\nFixes: 46beb58efbb8a2a32 (""target/arm: Convert T16, load (literal)"")\nReported-by: Jeff Kubascik <jeff.kubascik@dornerworks.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20200117004618.2742-3-richard.henderson@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995706677436828,SSI,target/arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,81eb1a369da5f9cb282b65f1221899cc07711df2,0d899cd61a37c8ced2f40c0b171df1e23fd4615b,Aleksandar Markovic,2020-01-16,"linux-user: Add support for FD<SETEMSGTRESH|SETMAXERRS|GETMAXERRS> ioctls\n\nFDSETEMSGTRESH, FDSETMAXERRS, and FDGETMAXERRS ioctls are commands\nfor controlling error reporting of a floppy drive.\n\nFDSETEMSGTRESH's third agrument is a pointer to the structure:\n\nstruct floppy_max_errors {\n    unsigned int\n      abort,      /* number of errors to be reached before aborting */\n      read_track, /* maximal number of errors permitted to read an\n                   * entire track at once */\n      reset,      /* maximal number of errors before a reset is tried */\n      recal,      /* maximal number of errors before a recalibrate is\n                   * tried */\n      /*\n       * Threshold for reporting FDC errors to the console.\n       * Setting this to zero may flood your screen when using\n       * ultra cheap floppies ;-)\n       */\n      reporting;\n};\n\ndefined in Linux kernel header <linux/fd.h>.\n\nSince all fields of the structure are of type 'unsigned int', there is\nno need to define ""target_floppy_max_errors"".\n\nFDSETMAXERRS and FDGETMAXERRS ioctls do not use the third argument.\n\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nMessage-Id: <1579214991-19602-8-git-send-email-aleksandar.markovic@rt-rk.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9594120979309082,FDC,"linux-user/ioctls.h, linux-user/syscall_defs.h, linux-user/syscall_types.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,de0b1bae6461f67243282555475f88b2384a1eb9,90f671581ac601fcc1b840d9e9abe7e3c3e672db,Vincent Dehors,2020-01-23,"target/arm: Fix PAuth sbox functions\n\nIn the PAC computation, sbox was applied over wrong bits.\nAs this is a 4-bit sbox, bit index should be incremented by 4 instead of 16.\n\nTest vector from QARMA paper (https://eprint.iacr.org/2016/444.pdf) was\nused to verify one computation of the pauth_computepac() function which\nuses sbox2.\n\nLaunchpad: https://bugs.launchpad.net/bugs/1859713\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Vincent DEHORS <vincent.dehors@smile.fr>\nSigned-off-by: Adrien GRASSEIN <adrien.grassein@smile.fr>\nMessage-id: 20200116230809.19078-2-richard.henderson@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9979118704795836,ARM,target/arm/pauth_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fdd9b09413f06ec1277b2b1eac4ddef39b50d735,de0b1bae6461f67243282555475f88b2384a1eb9,Richard Henderson,2020-01-23,"tests/tcg/aarch64: Fix compilation parameters for pauth-%\n\nWe were incorrectly requiring ARMv8.4 support for the pauth\ntests, but Pointer Authentication is an ARMv8.3 extension.\nFurther, hiding the required architecture within asm() is\nnot correct.\n\nCorrect the architecture version requested, and specify it\nin the cflags of the (cross-) compiler rather than in the asm.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20200116230809.19078-3-richard.henderson@linaro.org\n[PMM: tweaked commit message]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9990678429603576,ARM,"tests/tcg/aarch64/Makefile.target, tests/tcg/aarch64/pauth-1.c, tests/tcg/aarch64/pauth-2.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9883df8ccae6d744a0c8d9cbf9d62b1797d70ebd,a931b6861e59c78d861017e9c6a9c161ff49a163,Eryu Guan,2020-01-07,"virtiofsd: stop all queue threads on exit in virtio_loop()\n\nOn guest graceful shutdown, virtiofsd receives VHOST_USER_GET_VRING_BASE\nrequest from VMM and shuts down virtqueues by calling fv_set_started(),\nwhich joins fv_queue_thread() threads. So when virtio_loop() returns,\nthere should be no thread is still accessing data in fuse session and/or\nvirtio dev.\n\nBut on abnormal exit, e.g. guest got killed for whatever reason,\nvhost-user socket is closed and virtio_loop() breaks out the main loop\nand returns to main(). But it's possible fv_queue_worker()s are still\nworking and accessing fuse session and virtio dev, which results in\ncrash or use-after-free.\n\nFix it by stopping fv_queue_thread()s before virtio_loop() returns,\nto make sure there's no-one could access fuse session and virtio dev.\n\nReported-by: Qingming Su <qingming.su@linux.alibaba.com>\nSigned-off-by: Eryu Guan <eguan@linux.alibaba.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>",1,0.9976484179496764,VHOST_USER,tools/virtiofsd/fuse_virtio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,693fd2acdf14dd86c0bf852610f1c2cca80a74dc,fb574de81bfdd71fdb0315105a3a7761efb68395,Felipe Franciosi,2020-01-23,"iscsi: Cap block count from GET LBA STATUS (CVE-2020-1711)\n\nWhen querying an iSCSI server for the provisioning status of blocks (via\nGET LBA STATUS), Qemu only validates that the response descriptor zero's\nLBA matches the one requested. Given the SCSI spec allows servers to\nrespond with the status of blocks beyond the end of the LUN, Qemu may\nhave its heap corrupted by clearing/setting too many bits at the end of\nits allocmap for the LUN.\n\nA malicious guest in control of the iSCSI server could carefully program\nQemu's heap (by selectively setting the bitmap) and then smash it.\n\nThis limits the number of bits that iscsi_co_block_status() will try to\nupdate in the allocmap so it can't overflow the bitmap.\n\nFixes: CVE-2020-1711\nCc: qemu-stable@nongnu.org\nSigned-off-by: Felipe Franciosi <felipe@nutanix.com>\nSigned-off-by: Peter Turschmid <peter.turschm@nutanix.com>\nSigned-off-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9947946667671204,SCSI,block/iscsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,346e78f6d6d06304390311c098e3d29b9427d1c4,0e6de5519491b9f2af45367358eaa79e269d7bf0,Sven Schnelle,2019-12-20,"seabios-hppa: update to latest version\n\nHelge Deller (13):\n      Add PDC_MEM_MAP and ENTRY_INIT_SRCH_FRST for OSF/MkLinux\n      Return non-existant BTLB for PDC_BLOCK_TLB\n      Add serial, parallel and LAN port support of  LASI chip\n      Implement ENTRY_IO_BBLOCK_IN IODC function\n      Do not print \r on parisc SeaBIOS\n      Fix serial ports and add PDC_MODEL functions for special instructions enablement\n      Implement SeaBIOS returning additional addresses. Fixes HP-UX boot.\n      Fix mod_pgs (number of pages) for graphic cards\n      Merge pull request #3 from svenschnelle/sti\n      Merge pull request #4 from svenschnelle/parisc-qemu-4.1.0\n      parisc: Implement PDC rendenzvous\n      parisc: Improve soft power button emulation\n      parisc: Fix line wrapping in STI console code\n\nSven Schnelle (7):\n      parisc: fix PDC info for graphics adapter\n      parisc: add missing header guard to hppa.h\n      parisc: add LASI PS/2 emulation.\n      parisc: Add STI support\n      parisc: wire up graphics console\n      parisc: Add support for setting STI screen resolution\n      parisc: support LASI RTC register\n\nRequired for STI and LASI support. Also adds a few Bugfixes.\n\nSigned-off-by: Sven Schnelle <svens@stackframe.org>\nMessage-Id: <20191220211512.3289-7-svens@stackframe.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.998410701751709,LASI,"pc-bios/hppa-firmware.img, roms/seabios-hppa",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,59805ae92dfe4f67105e36b539d567caec4f8304,ed78352a59ea7acf7520d4d47a96b9911bae7fc3,Alexander Popov,2019-12-23,tests/ide-test: Create a single unit-test covering more PRDT cases\n\nFuzzing the Linux kernel with syzkaller allowed to find how to crash qemu\nusing a special SCSI_IOCTL_SEND_COMMAND. It hits the assertion in\nide_dma_cb() introduced in the commit a718978ed58a in July 2015.\nCurrently this bug is not reproduced by the unit tests.\n\nLet's improve the ide-test to cover more PRDT cases including one\nthat causes this particular qemu crash.\n\nThe test is developed according to the Programming Interface for\nBus Master IDE Controller (Revision 1.0 5/16/94).\n\nSigned-off-by: Alexander Popov <alex.popov@linux.com>\nMessage-id: 20191223175117.508990-3-alex.popov@linux.com\nSigned-off-by: John Snow <jsnow@redhat.com>,1,0.9992355108261108,SCSI,tests/qtest/ide-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,100bc4ab41a9819846a798d4eb8ad495046e8f11,a90d8f84674da3afaaa15fca7a47901fac5f47b5,Philippe Mathieu-Daud,2020-01-30,"hw/arm/raspi: Remove obsolete use of -smp to set the soc 'enabled-cpus'\n\nSince we enabled parallel TCG code generation for softmmu (see\ncommit 3468b59 ""tcg: enable multiple TCG contexts in softmmu"")\nand its subsequent fix (commit 72649619 ""add .min_cpus and\n.default_cpus fields to machine_class""), the raspi machines are\nrestricted to always use their 4 cores:\n\nSee in hw/arm/raspi2 (with BCM283X_NCPUS set to 4):\n\n  222 static void raspi2_machine_init(MachineClass *mc)\n  223 {\n  224     mc->desc = ""Raspberry Pi 2"";\n  230     mc->max_cpus = BCM283X_NCPUS;\n  231     mc->min_cpus = BCM283X_NCPUS;\n  232     mc->default_cpus = BCM283X_NCPUS;\n  235 };\n  236 DEFINE_MACHINE(""raspi2"", raspi2_machine_init)\n\nWe can no longer use the -smp option, as we get:\n\n  $ qemu-system-arm -M raspi2 -smp 1\n  qemu-system-arm: Invalid SMP CPUs 1. The min CPUs supported by machine 'raspi2' is 4\n\nSince we can not set the TYPE_BCM283x SOC ""enabled-cpus"" with -smp,\nremove the unuseful code.\n\nWe can achieve the same by using the '-global bcm2836.enabled-cpus=1'\noption.\n\nReported-by: Laurent Bonnans <laurent.bonnans@here.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nMessage-id: 20200120235159.18510-2-f4bug@amsat.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9926109910011292,TCG,hw/arm/raspi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,618bacabd3c8c3360be795cd8763bacdf5bec101,cd45c506c8ec37c05fdfe06441ad350ab8e19138,Zenghui Yu,2020-01-30,"hw/intc/arm_gicv3_kvm: Stop wrongly programming GICR_PENDBASER.PTZ bit\n\nIf LPIs are disabled, KVM will just ignore the GICR_PENDBASER.PTZ bit when\nrestoring GICR_CTLR.  Setting PTZ here makes littlt sense in ""reduce GIC\ninitialization time"".\n\nAnd what's worse, PTZ is generally programmed by guest to indicate to the\nRedistributor whether the LPI Pending table is zero when enabling LPIs.\nIf migration is triggered when the PTZ has just been cleared by guest (and\nbefore enabling LPIs), we will see PTZ==1 on the destination side, which\nis not as expected.  Let's just drop this hackish userspace behavior.\n\nAlso take this chance to refine the comment a bit.\n\nFixes: 367b9f527bec (""hw/intc/arm_gicv3_kvm: Implement get/put functions"")\nSigned-off-by: Zenghui Yu <yuzenghui@huawei.com>\nMessage-id: 20200119133051.642-1-yuzenghui@huawei.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.8636271357536316,KVM,hw/intc/arm_gicv3_kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aeab8e5eb220cc5ff84b0b68b9afccc611bf0fcd,adcd6e93b9519f7fe421d543e3aa646895b32e1a,Alex Benne,2020-01-31,target/arm: fix TCG leak for fcvt half->double\n\nWhen support for the AHP flag was added we inexplicably only freed the\nnew temps in one of the two legs. Move those tcg_temp_free to the same\nlevel as the allocation to fix that leak.\n\nFixes: 486624fcd3eac\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nMessage-id: 20200131153439.26027-1-alex.bennee@linaro.org\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9997093081474304,TCG,target/arm/translate-a64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5ba7ba1da096de0b70f65c08df5584a4878012e7,cbd0d7f36322ff8e2c9b625672ab1dafe0dc1712,Cdric Le Goater,2020-01-20,"target/ppc: Add privileged message send facilities\n\nThe Processor Control facility for POWER8 processors and later\nprovides a mechanism for the hypervisor to send messages to other\nthreads in the system (msgsnd instruction) and cause hypervisor-level\nexceptions. Privileged non-hypervisor programs can also send messages\n(msgsndp instruction) but are restricted to the threads of the same\nsubprocessor and cause privileged-level exceptions.\n\nThe Directed Privileged Doorbell Exception State (DPDES) register\nreflects the state of pending privileged doorbell exceptions and can\nbe used to modify that state. The register can be used to read and\nmodify the state of privileged doorbell exceptions for all threads of\na subprocessor and thus is a shared facility for that subprocessor.\nThe register can be read/written by the hypervisor and read by the\nsupervisor if enabled in the HFSCR, otherwise a hypervisor facility\nunavailable exception is generated.\n\nThe privileged message send and clear instructions (msgsndp & msgclrp)\nare used to generate and clear the presence of a directed privileged\ndoorbell exception, respectively. The msgsndp instruction can be used\nto target any thread of the current subprocessor, msgclrp acts on the\nthread issuing the instruction. These instructions are privileged, but\nwill generate a hypervisor facility unavailable exception if not\nenabled in the HFSCR and executed in privileged non-hypervisor\nstate. The HV facility unavailable exception will be addressed in\nother patch.\n\nAdd and implement this register and instructions by reading or\nmodifying the pending interrupt state of the cpu.\n\nNote that TCG only supports one thread per core and so we only need to\nworry about the cpu making the access.\n\nSigned-off-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20200120104935.24449-2-clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9992606043815612,TCG,"target/ppc/excp_helper.c, target/ppc/helper.h, target/ppc/misc_helper.c, target/ppc/translate.c, target/ppc/translate_init.inc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,254581039e9fd5e72e4ecbbcd881f8c85c164031,37965dfe4dffa3ac49438337417608e7f346b58a,BALATON Zoltan,2020-01-30,target/ppc/cpu.h: Put macro parameter in parentheses\n\nFix PPC_INPUT macro to work with more complex expressions by\nprotecting its argument with parentheses.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-Id: <20200130021619.65FAB747871@zero.eik.bme.hu>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9996663331985474,PPC,target/ppc/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9ac703ac5f9e830ab96d38dc77061bd4be76cf60,9d953ce44722eeb10d99c814478065bebbf7e1f6,Aravinda Prasad,2020-01-31,target/ppc: Handle NMI guest exit\n\nMemory error such as bit flips that cannot be corrected\nby hardware are passed on to the kernel for handling.\nIf the memory address in error belongs to guest then\nthe guest kernel is responsible for taking suitable action.\nPatch [1] enhances KVM to exit guest with exit reason\nset to KVM_EXIT_NMI in such cases. This patch handles\nKVM_EXIT_NMI exit.\n\n[1] https://www.spinics.net/lists/kvm-ppc/msg12637.html\n    (e20bbd3d and related commits)\n\nSigned-off-by: Aravinda Prasad <arawinda.p@gmail.com>\nSigned-off-by: Ganesh Goudar <ganeshgr@linux.ibm.com>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <20200130184423.20519-4-ganeshgr@linux.ibm.com>\n[dwg: #ifdefs to fix compile for 32-bit target]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9996383190155028,KVM,"hw/ppc/spapr.c, hw/ppc/spapr_events.c, include/hw/ppc/spapr.h, target/ppc/kvm.c, target/ppc/kvm_ppc.h, target/ppc/trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,81fe70e443ef7e3b5e8f2e30336029ed5b968741,9ac703ac5f9e830ab96d38dc77061bd4be76cf60,Aravinda Prasad,2020-01-31,"target/ppc: Build rtas error log upon an MCE\n\nUpon a machine check exception (MCE) in a guest address space,\nKVM causes a guest exit to enable QEMU to build and pass the\nerror to the guest in the PAPR defined rtas error log format.\n\nThis patch builds the rtas error log, copies it to the rtas_addr\nand then invokes the guest registered machine check handler. The\nhandler in the guest takes suitable action(s) depending on the type\nand criticality of the error. For example, if an error is\nunrecoverable memory corruption in an application inside the\nguest, then the guest kernel sends a SIGBUS to the application.\nFor recoverable errors, the guest performs recovery actions and\nlogs the error.\n\nSigned-off-by: Aravinda Prasad <arawinda.p@gmail.com>\n[Assume SLOF has allocated enough room for rtas error log]\nSigned-off-by: Ganesh Goudar <ganeshgr@linux.ibm.com>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nMessage-Id: <20200130184423.20519-5-ganeshgr@linux.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996901750564576,KVM,"hw/ppc/spapr_events.c, hw/ppc/spapr_rtas.c, include/hw/ppc/spapr.h, target/ppc/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,63d57c8f91d0d0e62fc4d91db6340a662b36a3c0,4dcf078f094d436866ef793aa25c96fba85ac8d0,Greg Kurz,2020-02-01,"tests: Silence various warnings with pseries\n\nSome default features of the pseries machine are only available with\nKVM. Warnings are printed when the pseries machine is used with another\naccelerator:\n\nqemu-system-ppc64: warning: TCG doesn't support requested feature,\ncap-ccf-assist=on\nqemu-system-ppc64: warning: Firmware Assisted Non-Maskable\nInterrupts(FWNMI) not supported in TCG\nqemu-system-ppc64: warning: TCG doesn't support requested feature,\ncap-ccf-assist=on\nqemu-system-ppc64: warning: Firmware Assisted Non-Maskable\nInterrupts(FWNMI) not supported in TCG\nqemu-system-ppc64: warning: TCG doesn't support requested feature,\ncap-ccf-assist=on\nqemu-system-ppc64: warning: Firmware Assisted Non-Maskable\nInterrupts(FWNMI) not supported in TCG\n\nThis is annoying for CI since it usually runs without KVM. We already\ndisable features that emit similar warnings thanks to properties of\nthe pseries machine, but this is open-coded in various\nplaces. Consolidate the set of properties in a single place. Extend it\nto silence the above warnings. And use it in the various tests that\nstart pseries machines.\n\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <158059697130.1820292.7823434132030453110.stgit@bahia.lan>\nReviewed-by: Thomas Huth <thuth@redhat.com>\n[dwg: Correct minor grammatical error]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9584720730781556,"KVM, TCG","tests/qtest/boot-serial-test.c, tests/qtest/libqos/libqos-spapr.h, tests/qtest/prom-env-test.c, tests/qtest/pxe-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ec860426dfbebe0c9995e12cd82935a94fde5215,f31160c7d1b89cfb4dd4001a23575b42141cb0ec,Alex Richardson,2020-02-02,"target/mips: Fix handling of LL/SC instructions after 7dd547e5ab\n\nAfter 7dd547e5ab6b31e7a0cfc182d3ad131dd55a948f the env->llval value\nis loaded as an unsigned value (instead of sign-extended as before).\nTherefore, the CMPXCHG in gen_st_cond() in translate.c fails if the\nsign bit is set in the loaded value.\n\nFix this by sign-extending the llval value for the 32-bit case.\n\nI discovered this issue because FreeBSD MIPS64 was looping forever\nin an atomic helper function when trying to start /sbin/init.\n\nSigned-off-by: Alex Richardson <Alexander.Richardson@cl.cam.ac.uk>\nFixes: 7dd547e5ab (""target/mips: Use cpu_*_mmuidx_ra instead of MMU_MODE*_SUFFIX"")\nBuglink: https://bugs.launchpad.net/qemu/+bug/1861605\nCc: Aurelien Jarno <aurelien@aurel32.net>\nCc: Aleksandar Markovic <amarkovic@wavecomp.com>\nCc: Aleksandar Rikalo <aleksandar.rikalo@rt-rk.com>\nCc: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: James Clarke <jrtc27@jrtc27.com>\nSigned-off-by: Aleksandar Markovic <amarkovic@wavecomp.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nTested-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20200202153409.28534-1-jrtc27@jrtc27.com>",1,0.9997257590293884,"MIPS, MIPS64",target/mips/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9154cf688bbc721a9a38197537fa821f6291b91f,10ebc0a8fde078c51d7340d194aa45d58f076f5b,Philippe Mathieu-Daud,2020-01-29,hw/hppa/Kconfig: LASI chipset requires PARALLEL port\n\nThe PARISC Lasi chipset emulation requires some of the common parallel\nsupport and fails to build on a --without-default-devices:\n\n    LINK    hppa-softmmu/qemu-system-hppa\n  /usr/bin/ld: hw/hppa/lasi.o: in function `lasi_init':\n  hw/hppa/lasi.c:324: undefined reference to `parallel_mm_init'\n  collect2: error: ld returned 1 exit status\n  make[1]: *** [Makefile:206: qemu-system-hppa] Error 1\n\nFixes: 376b851909d\nReported-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20200129192350.27143-1-philmd@redhat.com>\nAcked-by: Helge Deller <deller@gmx.de>\nSigned-off-by: Thomas Huth <thuth@redhat.com>,1,0.9995334148406982,"LASI, PARALLEL",hw/hppa/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8ef350b32fe08d254f92a3a7efe89809397fff77,f821bac4af692e88137722bbf8e601337b9e1722,Philippe Mathieu-Daud,2020-01-20,"MAINTAINERS: Cc the qemu-arm@nongnu.org for the ARM machines\n\nNot all ARM machines sections Cc the qemu-arm@nongnu.org list,\nfix this.\n\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20200120185928.25115-2-philmd@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9981458187103271,ARM,MAINTAINERS,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0999a4ba8718aa96105b978d3567fc7e90244c7e,346ed3151f1c43e72c40cb55b392a1d4cface62c,Liang Yan,2020-02-07,"target/arm/monitor: query-cpu-model-expansion crashed qemu when using machine type none\n\nCommit e19afd566781 mentioned that target-arm only supports queryable\ncpu models 'max', 'host', and the current type when KVM is in use.\nThe logic works well until using machine type none.\n\nFor machine type none, cpu_type will be null if cpu option is not\nset by command line, strlen(cpu_type) will terminate process.\nSo We add a check above it.\n\nThis won't affect i386 and s390x since they do not use current_cpu.\n\nSigned-off-by: Liang Yan <lyan@suse.com>\nMessage-id: 20200203134251.12986-1-lyan@suse.com\nReviewed-by: Andrew Jones <drjones@redhat.com>\nTested-by: Andrew Jones <drjones@redhat.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9990133047103882,KVM,target/arm/monitor.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2d6a6e238a2297d92a81eb3425fc8228614ada9f,77f50e826faeb5e7c511e9d99adfbd086ffbff4d,Philippe Mathieu-Daud,2020-02-06,"tests/acceptance/virtio_check_params: Disable the test\n\nThis test fails on various CI:\n\n- Using QEMU 4.0:\n  tests/acceptance/x86_cpu_model_versions.py:X86CPUModelAliases.test_none_alias:  ERROR: 'alias-of' (0.45 s)\n\n- On OSX\n  Unexpected error in object_property_find() at qom/object.c:1201:\n  qemu-system-x86_64: -device virtio-blk-pci,id=scsi0,drive=drive0: can't apply global virtio-blk-device.scsi=true: Property '.scsi' not found\n\n- When removing unavailable machine:\n  VirtioMaxSegSettingsCheck.test_machine_types: ERROR: list.remove(x): x not in list (0.12 s)\n\n- Using Xen:\n  xencall: error: Could not obtain handle on privileged command interface: No such file or directory\n  xen be core: xen be core: can't open xen interface\n\n- On PPC:\n  TestFail: machine type pseries-2.8: No Transactional Memory support in TCG, try appending -machine cap-htm=off\n\n- On S390X configured with --without-default-devices:\n  ERROR: qemu-system-s390x: -device virtio-scsi-pci,id=scsi0: 'virtio-scsi-pci' is not a valid device model name\n\nDisable it for now.\n\nCc: Denis Plotnikov <dplotnikov@virtuozzo.com>\nAcked-by: Cornelia Huck <cohuck@redhat.com>\nMessage-Id: <20200206171715.25041-1-philmd@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>",1,0.9995760321617126,"PPC, S390X, TCG",tests/acceptance/virtio_check_params.py,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1d77f1b14f9923dd511f07438ed2f778e3868f40,2d6a6e238a2297d92a81eb3425fc8228614ada9f,Philippe Mathieu-Daud,2020-01-29,"tests/acceptance/boot_linux_console: Do not use VGA on Clipper machine\n\nAs we only read the serial console, we don't need to force a\nVGA display. This fixes when running a binary built with\n--without-default-devices:\n\n  ERROR: qemu-system-alpha: standard VGA not available\n\nWe also need the '-nodefaults' argument to avoid:\n\n  ERROR: qemu-system-alpha: Unsupported NIC model: e1000\n\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20200129212345.20547-27-philmd@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>",1,0.9996715784072876,VGA,tests/acceptance/boot_linux_console.py,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9028c75c9d08be303ccc425bfe3d3b23d8f4cac7,4cc600d22906a839719116043dbc3760e02c756e,Paolo Bonzini,2020-02-06,"target/i386: fix TCG UCODE_REV access\n\nThis was a very interesting semantic conflict that caused git to move\nthe MSR_IA32_UCODE_REV read to helper_wrmsr.  Not a big deal, but\nstill should be fixed...\n\nFixes: 4e45aff398 (""target/i386: add a ucode-rev property"", 2020-01-24)\nMessage-id: <20200206171022.9289-1-pbonzini@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997321963310242,TCG,target/i386/misc_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6702514814c7e7b4cbf179624539b5f38c72740b,9028c75c9d08be303ccc425bfe3d3b23d8f4cac7,Paolo Bonzini,2020-02-11,"target/i386: check for availability of MSR_IA32_UCODE_REV as an emulated MSR\n\nEven though MSR_IA32_UCODE_REV has been available long before Linux 5.6,\nwhich added it to the emulated MSR list, a bug caused the microcode\nversion to revert to 0x100000000 on INIT.  As a result, processors other\nthan the bootstrap processor would not see the host microcode revision;\nsome Windows version complain loudly about this and crash with a\nfairly explicit MICROCODE REVISION MISMATCH error.\n\n[If running 5.6 prereleases, the kernel fix ""KVM: x86: do not reset\n microcode version on INIT or RESET"" should also be applied.]\n\nReported-by: Alex Williamson <alex.williamson@redhat.com>\nMessage-id: <20200211175516.10716-1-pbonzini@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9993689656257628,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c77b25315941250163d3c226266db584ebf7f3e8,93e41700012525ca198d10c586e024b925779e6d,Heyi Guo,2020-02-04,"arm/acpi: fix PCI _PRT definition\n\nThe address field in each _PRT mapping package should be constructed\nwith high word for device# and low word for function#, so it is wrong\nto use bus_no as the high word. The existing code adds a bunch useless\nentries with device #s above 31. Enumerate all possible slots\n(i.e. PCI_SLOT_MAX) instead.\n\nSigned-off-by: Heyi Guo <guoheyi@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-id: 20200204014325.16279-5-guoheyi@huawei.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996547698974608,PCI,hw/arm/virt-acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f0ca15ad8954bad5baf8a7d5f625dd810616b53c,c77b25315941250163d3c226266db584ebf7f3e8,Heyi Guo,2020-02-04,arm/acpi: fix duplicated _UID of PCI interrupt link devices\n\nUsing _UID of 0 for all PCI interrupt link devices absolutely violates\nthe spec. Simply increase one by one.\n\nSigned-off-by: Heyi Guo <guoheyi@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-id: 20200204014325.16279-6-guoheyi@huawei.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.999189555644989,PCI,hw/arm/virt-acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b09d51c9098adec9c83cc0d8332d03e052844a9f,4065bb25e95f7059b250ed8194a46bced9a7602b,Michal Privoznik,2020-02-14,Report stringified errno in VFIO related errors\n\nIn a few places we report errno formatted as a negative integer.\nThis is not as user friendly as it can be. Use strerror() and/or\nerror_setg_errno() instead.\n\nSigned-off-by: Michal Privoznik <mprivozn@redhat.com>\nReviewed-by: Jn Tomko <jtomko@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Alex Williamson <alex.williamson@redhat.com>\nMessage-Id: <4949c3ecf1a32189b8a4b5eb4b0fd04c1122501d.1581674006.git.mprivozn@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>,1,0.9931237101554872,VFIO,"hw/vfio/common.c, util/vfio-helpers.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b18ee6a217b88699d436c33543e5c64fff64da45,400be27f82395ca314ec3731c1a4e86843e4f53f,Philippe Mathieu-Daud,2020-02-17,hw/net/rocker: Report unimplemented feature with qemu_log_mask(UNIMP)\n\nFix warnings reported by Clang static code analyzer:\n\n    CC      hw/net/rocker/rocker.o\n  hw/net/rocker/rocker.c:213:9: warning: Value stored to 'tx_tso_mss' is never read\n          tx_tso_mss = rocker_tlv_get_le16(tlvs[ROCKER_TLV_TX_TSO_MSS]);\n          ^            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  hw/net/rocker/rocker.c:217:9: warning: Value stored to 'tx_tso_hdr_len' is never read\n          tx_tso_hdr_len = rocker_tlv_get_le16(tlvs[ROCKER_TLV_TX_TSO_HDR_LEN]);\n          ^                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  hw/net/rocker/rocker.c:255:9: warning: Value stored to 'tx_l3_csum_off' is never read\n          tx_l3_csum_off += tx_tso_mss = tx_tso_hdr_len = 0;\n          ^                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nFixes: dc488f888\nReported-by: Clang Static Analyzer\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-Id: <20200217101637.27558-1-philmd@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>,1,0.999664545059204,"ROCKER, UNIMP",hw/net/rocker/rocker.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6e4ed42397ff24521c1e6fb810d66fc40b190f4f,422a26489e6b7371ad7ef615252340f7b4992933,Philippe Mathieu-Daud,2020-02-18,"hw/hppa/dino: Fix reg800_keep_bits overrun (CID 1419387 1419393 1419394)\n\nCoverity reports:\n\n  *** CID 1419387:  Memory - illegal accesses  (OVERRUN)\n  /hw/hppa/dino.c: 267 in dino_chip_read_with_attrs()\n  261             val = s->ilr & s->imr & s->icr;\n  262             break;\n  263         case DINO_TOC_ADDR:\n  264             val = s->toc_addr;\n  265             break;\n  266         case DINO_GMASK ... DINO_TLTIM:\n  >>>     CID 1419387:  Memory - illegal accesses  (OVERRUN)\n  >>>     Overrunning array ""s->reg800"" of 12 4-byte elements at element index 12 (byte offset 48) using index ""(addr - 2048UL) / 4UL"" (which evaluates to 12).\n  267             val = s->reg800[(addr - DINO_GMASK) / 4];\n  268             if (addr == DINO_PAMR) {\n  269                 val &= ~0x01;  /* LSB is hardwired to 0 */\n  270             }\n  271             if (addr == DINO_MLTIM) {\n  272                 val &= ~0x07;  /* 3 LSB are hardwired to 0 */\n\n  *** CID 1419393:  Memory - corruptions  (OVERRUN)\n  /hw/hppa/dino.c: 363 in dino_chip_write_with_attrs()\n  357             /* These registers are read-only.  */\n  358             break;\n  359\n  360         case DINO_GMASK ... DINO_TLTIM:\n  361             i = (addr - DINO_GMASK) / 4;\n  362             val &= reg800_keep_bits[i];\n  >>>     CID 1419393:  Memory - corruptions  (OVERRUN)\n  >>>     Overrunning array ""s->reg800"" of 12 4-byte elements at element index 12 (byte offset 48) using index ""i"" (which evaluates to 12).\n  363             s->reg800[i] = val;\n  364             break;\n  365\n  366         default:\n  367             /* Controlled by dino_chip_mem_valid above.  */\n  368             g_assert_not_reached();\n\n  *** CID 1419394:  Memory - illegal accesses  (OVERRUN)\n  /hw/hppa/dino.c: 362 in dino_chip_write_with_attrs()\n  356         case DINO_IRR1:\n  357             /* These registers are read-only.  */\n  358             break;\n  359\n  360         case DINO_GMASK ... DINO_TLTIM:\n  361             i = (addr - DINO_GMASK) / 4;\n  >>>     CID 1419394:  Memory - illegal accesses  (OVERRUN)\n  >>>     Overrunning array ""reg800_keep_bits"" of 12 4-byte elements at element index 12 (byte offset 48) using index ""i"" (which evaluates to 12).\n  362             val &= reg800_keep_bits[i];\n  363             s->reg800[i] = val;\n  364             break;\n  365\n  366         default:\n  367             /* Controlled by dino_chip_mem_valid above.  */\n\nIndeed the array should contain 13 entries, the undocumented\nregister 0x82c is missing. Fix by increasing the array size\nand adding the missing register.\n\nCID 1419387 can be verified with:\n\n  $ echo x 0xfff80830 | hppa-softmmu/qemu-system-hppa -S -monitor stdio -display none\n  QEMU 4.2.50 monitor - type 'help' for more information\n  (qemu) x 0xfff80830\n  qemu/hw/hppa/dino.c:267:15: runtime error: index 12 out of bounds for type 'uint32_t [12]'\n  SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /home/phil/source/qemu/hw/hppa/dino.c:267:15 in\n  00000000fff80830: 0x00000000\n\nand CID 1419393/1419394 with:\n\n  $ echo writeb 0xfff80830 0x69 \\n    | hppa-softmmu/qemu-system-hppa -S -accel qtest -qtest stdio -display none\n  [I 1581634452.654113] OPENED\n  [R +4.105415] writeb 0xfff80830 0x69\n  qemu/hw/hppa/dino.c:362:16: runtime error: index 12 out of bounds for type 'const uint32_t [12]'\n  SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior qemu/hw/hppa/dino.c:362:16 in\n  =================================================================\n  ==29607==ERROR: AddressSanitizer: global-buffer-overflow on address 0x5577dae32f30 at pc 0x5577d93f2463 bp 0x7ffd97ea11b0 sp 0x7ffd97ea11a8\n  READ of size 4 at 0x5577dae32f30 thread T0\n      #0 0x5577d93f2462 in dino_chip_write_with_attrs qemu/hw/hppa/dino.c:362:16\n      #1 0x5577d9025664 in memory_region_write_with_attrs_accessor qemu/memory.c:503:12\n      #2 0x5577d9024920 in access_with_adjusted_size qemu/memory.c:539:18\n      #3 0x5577d9023608 in memory_region_dispatch_write qemu/memory.c:1482:13\n      #4 0x5577d8e3177a in flatview_write_continue qemu/exec.c:3166:23\n      #5 0x5577d8e20357 in flatview_write qemu/exec.c:3206:14\n      #6 0x5577d8e1fef4 in address_space_write qemu/exec.c:3296:18\n      #7 0x5577d8e20693 in address_space_rw qemu/exec.c:3306:16\n      #8 0x5577d9011595 in qtest_process_command qemu/qtest.c:432:13\n      #9 0x5577d900d19f in qtest_process_inbuf qemu/qtest.c:705:9\n      #10 0x5577d900ca22 in qtest_read qemu/qtest.c:717:5\n      #11 0x5577da8c4254 in qemu_chr_be_write_impl qemu/chardev/char.c:183:9\n      #12 0x5577da8c430c in qemu_chr_be_write qemu/chardev/char.c:195:9\n      #13 0x5577da8cf587 in fd_chr_read qemu/chardev/char-fd.c:68:9\n      #14 0x5577da9836cd in qio_channel_fd_source_dispatch qemu/io/channel-watch.c:84:12\n      #15 0x7faf44509ecc in g_main_context_dispatch (/lib64/libglib-2.0.so.0+0x4fecc)\n      #16 0x5577dab75f96 in glib_pollfds_poll qemu/util/main-loop.c:219:9\n      #17 0x5577dab74797 in os_host_main_loop_wait qemu/util/main-loop.c:242:5\n      #18 0x5577dab7435a in main_loop_wait qemu/util/main-loop.c:518:11\n      #19 0x5577d9514eb3 in main_loop qemu/vl.c:1682:9\n      #20 0x5577d950699d in main qemu/vl.c:4450:5\n      #21 0x7faf41a87f42 in __libc_start_main (/lib64/libc.so.6+0x23f42)\n      #22 0x5577d8cd4d4d in _start (qemu/build/sanitizer/hppa-softmmu/qemu-system-hppa+0x1256d4d)\n\n  0x5577dae32f30 is located 0 bytes to the right of global variable 'reg800_keep_bits' defined in 'qemu/hw/hppa/dino.c:87:23' (0x5577dae32f00) of size 48\n  SUMMARY: AddressSanitizer: global-buffer-overflow qemu/hw/hppa/dino.c:362:16 in dino_chip_write_with_attrs\n  Shadow bytes around the buggy address:\n    0x0aaf7b5be590: 00 f9 f9 f9 f9 f9 f9 f9 00 02 f9 f9 f9 f9 f9 f9\n    0x0aaf7b5be5a0: 07 f9 f9 f9 f9 f9 f9 f9 07 f9 f9 f9 f9 f9 f9 f9\n    0x0aaf7b5be5b0: 07 f9 f9 f9 f9 f9 f9 f9 00 00 00 00 00 00 00 00\n    0x0aaf7b5be5c0: 00 00 00 02 f9 f9 f9 f9 00 00 00 00 00 00 00 00\n    0x0aaf7b5be5d0: 00 00 00 00 00 00 00 00 00 00 00 03 f9 f9 f9 f9\n  =>0x0aaf7b5be5e0: 00 00 00 00 00 00[f9]f9 f9 f9 f9 f9 00 00 00 00\n    0x0aaf7b5be5f0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n    0x0aaf7b5be600: 00 00 01 f9 f9 f9 f9 f9 00 00 00 00 07 f9 f9 f9\n    0x0aaf7b5be610: f9 f9 f9 f9 00 00 00 00 00 00 00 00 00 00 00 00\n    0x0aaf7b5be620: 00 00 00 05 f9 f9 f9 f9 00 00 00 00 07 f9 f9 f9\n    0x0aaf7b5be630: f9 f9 f9 f9 00 00 f9 f9 f9 f9 f9 f9 07 f9 f9 f9\n  Shadow byte legend (one shadow byte represents 8 application bytes):\n    Addressable:           00\n    Partially addressable: 01 02 03 04 05 06 07\n    Heap left redzone:       fa\n    Freed heap region:       fd\n    Stack left redzone:      f1\n    Stack mid redzone:       f2\n    Stack right redzone:     f3\n    Stack after return:      f5\n    Stack use after scope:   f8\n    Global redzone:          f9\n    Global init order:       f6\n    Poisoned by user:        f7\n    Container overflow:      fc\n    Array cookie:            ac\n    Intra object redzone:    bb\n    ASan internal:           fe\n    Left alloca redzone:     ca\n    Right alloca redzone:    cb\n    Shadow gap:              cc\n  ==29607==ABORTING\n\nFixes: Covertiy CID 1419387 / 1419393 / 1419394 (commit 18092598a5)\nAcked-by: Helge Deller <deller@gmx.de>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20200218063355.18577-3-f4bug@amsat.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9997093081474304,"DINO, PAM",hw/hppa/dino.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c9cbfebfd08acb34ec2a22b9b971fcca856d44e9,6e4ed42397ff24521c1e6fb810d66fc40b190f4f,Philippe Mathieu-Daud,2020-02-18,hw/hppa/dino: Fix bitmask for the PCIROR register\n\nOnly 24 bits of the PCIROR register are documented\n(see pp. 37 of datasheet referenced in this file header).\n\nAcked-by: Helge Deller <deller@gmx.de>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20200218063355.18577-4-f4bug@amsat.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>,1,0.9996824264526368,PCI,hw/hppa/dino.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,19f703477314a5db09ffc3c0f6be9c45645f8302,1ccda935d4fcc82a4371dc23d660197b0a6b6951,Peter Maydell,2020-02-18,"Avoid address_space_rw() with a constant is_write argument\n\nThe address_space_rw() function allows either reads or writes\ndepending on the is_write argument passed to it; this is useful\nwhen the direction of the access is determined programmatically\n(as for instance when handling the KVM_EXIT_MMIO exit reason).\nUnder the hood it just calls either address_space_write() or\naddress_space_read_full().\n\nWe also use it a lot with a constant is_write argument, though,\nwhich has two issues:\n * when reading ""address_space_rw(..., 1)"" this is less\n   immediately clear to the reader as being a write than\n   ""address_space_write(...)""\n * calling address_space_rw() bypasses the optimization\n   in address_space_read() that fast-paths reads of a\n   fixed length\n\nThis commit was produced with the included Coccinelle script\nscripts/coccinelle/exec_rw_const.cocci.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nReviewed-by: Laurent Vivier <lvivier@redhat.com>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nAcked-by: Christian Borntraeger <borntraeger@de.ibm.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nMessage-Id: <20200218112457.22712-1-peter.maydell@linaro.org>\n[PMD: Update macvm_set_cr0() reported by Laurent Vivier]\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>",1,0.9996845722198486,KVM,"accel/kvm/kvm-all.c, dma-helpers.c, exec.c, hw/dma/xlnx-zdma.c, hw/net/dp8393x.c, hw/net/i82596.c, hw/net/lasi_i82596.c, hw/ppc/pnv_lpc.c, hw/s390x/css.c, qtest.c, scripts/coccinelle/exec_rw_const.cocci, target/i386/hvf/vmx.h, target/i386/hvf/x86_mmu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,90118a657ce88a003f20f24ca65db96bba8be7a9,2c6e918ef8a101d86e0592051a1ee4bf493a6785,Laurent Vivier,2020-02-06,"ppc/pnv: Fix PCI_EXPRESS dependency\n\nWhen PHB4 bridge has been added, the dependencies to PCIE_PORT has been\nadded to XIVE_SPAPR and indirectly to PSERIES.\nThe build of the PowerNV machine is fine while we also build the PSERIES\nmachine.\nIf we disable the PSERIES machine, the PowerNV build fails because the\nPCI Express files are not built:\n\n/usr/bin/ld: hw/ppc/pnv.o: in function `pnv_chip_power8_pic_print_info':\n.../hw/ppc/pnv.c:623: undefined reference to `pnv_phb3_msi_pic_print_info'\n/usr/bin/ld: hw/ppc/pnv.o: in function `pnv_chip_power9_pic_print_info':\n.../hw/ppc/pnv.c:639: undefined reference to `pnv_phb4_pic_print_info'\n/usr/bin/ld: ../hw/usb/hcd-ehci-pci.o: in function `usb_ehci_pci_write_config':\n.../hw/usb/hcd-ehci-pci.c:129: undefined reference to `pci_default_write_config'\n/usr/bin/ld: ../hw/usb/hcd-ehci-pci.o: in function `usb_ehci_pci_realize':\n.../hw/usb/hcd-ehci-pci.c:68: undefined reference to `pci_allocate_irq'\n/usr/bin/ld: .../hw/usb/hcd-ehci-pci.c:72: undefined reference to `pci_register_bar'\n/usr/bin/ld: ../hw/usb/hcd-ehci-pci.o:(.data.rel+0x50): undefined reference to `vmstate_pci_device'\n\nThis patch fixes the problem by adding needed dependencies to POWERNV.\n\nFixes: 4f9924c4d4cf (""ppc/pnv: Add models for POWER9 PHB4 PCIe Host bridge"")\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nMessage-Id: <20200205232016.588202-3-lvivier@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997262358665466,"PCI, PCIE_PORT, PCI_EXPRESS, POWERNV, PSERIES, XIVE",hw/ppc/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5a205fcf7700abe442b374d76a8c4edea92eecc7,19b5c4186eccc519e6906838b288b2e206d43efe,Greg Kurz,2020-02-12,"pnv/phb3: Convert 1u to 1ull\n\nAs reported by Coverity defect CID 1419397, the 'j' variable goes up to\n63 and shouldn't be used to left shift a 32-bit integer.\n\nThe result of the operation goes to a 64-bit integer : use a 64-bit\nconstant.\n\nReported-by: Coverity CID 1419397 Bad bit shift operation\nFixes: 9ae1329ee2fe ""ppc/pnv: Add models for POWER8 PHB3 PCIe Host bridge""\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <158153364010.3229002.8004283672455615950.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9917077422142028,PCI,hw/pci-host/pnv_phb3_msi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7cfb999fe9c80c72f3f76043ce1bf8dee0c020af,5a205fcf7700abe442b374d76a8c4edea92eecc7,Greg Kurz,2020-02-12,"pnv/phb4: Fix error path in pnv_pec_realize()\n\nObviously, we want to pass &local_err so that we can check it then\nline below, not errp.\n\nReported-by: Coverity CID 1419395 'Constant' variable guards dead code\nFixes: 4f9924c4d4cf ""ppc/pnv: Add models for POWER9 PHB4 PCIe Host bridge""\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <158153364605.3229002.2796177658957390343.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996836185455322,PCI,hw/pci-host/pnv_phb4_pec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e8ead7d579645a1866813ce563882cad055088b9,7cfb999fe9c80c72f3f76043ce1bf8dee0c020af,Greg Kurz,2020-02-12,"pnv/phb3: Add missing break statement\n\nWe obviously don't want to print out an error message if addr points to\na valid register.\n\nReported-by: Coverity CID 1419391 Missing break in switch\nFixes: 9ae1329ee2fe ""ppc/pnv: Add models for POWER8 PHB3 PCIe Host bridge""\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <158153365202.3229002.11521084761048102466.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9958943128585817,PCI,hw/pci-host/pnv_phb3_pbcq.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9df7401b80e7b19789aa625d77fe79c1f48b4b84,7ffe647f52f85748b8d1d3a8dbebd742e0231bdc,Philippe Mathieu-Daud,2020-02-17,hw/misc/iotkit-secctl: Fix writing to 'PPC Interrupt Clear' register\n\nFix warning reported by Clang static code analyzer:\n\n    CC      hw/misc/iotkit-secctl.o\n  hw/misc/iotkit-secctl.c:343:9: warning: Value stored to 'value' is never read\n          value &= 0x00f000f3;\n          ^        ~~~~~~~~~~\n\nFixes: b3717c23e1c\nReported-by: Clang Static Analyzer\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20200217132922.24607-1-f4bug@amsat.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.999708354473114,PPC,hw/misc/iotkit-secctl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,10054016eda1b13bdd8340d100fd029cc8b58f36,62d96ff48510f4bf648ad12f5d3a5507227b026f,Peter Maydell,2020-02-14,target/arm: Test correct register in aa32_pan and aa32_ats1e1 checks\n\nThe isar_feature_aa32_pan and isar_feature_aa32_ats1e1 functions\nare supposed to be testing fields in ID_MMFR3; but a cut-and-paste\nerror meant we were looking at MVFR0 instead.\n\nFix the functions to look at the right register; this requires\nus to move at least id_mmfr3 to the ARMISARegisters struct; we\nchoose to move all the ID_MMFRn registers for consistency.\n\nFixes: 3d6ad6bb466f\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20200214175116.9164-19-peter.maydell@linaro.org,1,0.9996029734611512,ARM,"hw/intc/armv7m_nvic.c, target/arm/cpu.c, target/arm/cpu.h, target/arm/cpu64.c, target/arm/helper.c, target/arm/kvm32.c, target/arm/kvm64.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,47d2d36cd84c88f6c72f7800aa9201c45789a2c2,33e2c4d8d3ff99af2280706dee5ce3385b78ff6d,Guenter Roeck,2020-02-18,"sh4: Fix PCI ISA IO memory subregion\n\nBooting the r2d machine from flash fails because flash is not discovered.\nLooking at the flattened memory tree, we see the following.\n\nFlatView #1\n AS ""memory"", root: system\n AS ""cpu-memory-0"", root: system\n AS ""sh_pci_host"", root: bus master container\n Root memory region: system\n  0000000000000000-000000000000ffff (prio 0, i/o): io\n  0000000000010000-0000000000ffffff (prio 0, i/o): r2d.flash @0000000000010000\n\nThe overlapping memory region is sh_pci.isa, ie the ISA I/O region bridge.\nThis region is initially assigned to address 0xfe240000, but overwritten\nwith a write into the PCIIOBR register. This write is expected to adjust\nthe PCI memory window, but not to change the region's base adddress.\n\nPeter Maydell provided the following detailed explanation.\n\n""Section 22.3.7 and in particular figure 22.3 (of ""SSH7751R user's manual:\nhardware"") are clear about how this is supposed to work: there is a window\nat 0xfe240000 in the system register space for PCI I/O space. When the CPU\nmakes an access into that area, the PCI controller calculates the PCI\naddress to use by combining bits 0..17 of the system address with the\nbits 31..18 value that the guest has put into the PCIIOBR. That is, writing\nto the PCIIOBR changes which section of the IO address space is visible in\nthe 0xfe240000 window. Instead what QEMU's implementation does is move the\nwindow to whatever value the guest writes to the PCIIOBR register -- so if\nthe guest writes 0 we put the window at 0 in system address space.""\n\nFix the problem by calling memory_region_set_alias_offset() instead of\nremoving and re-adding the PCI ISA subregion on writes into PCIIOBR.\nAt the same time, in sh_pci_device_realize(), don't set iobr since\nit is overwritten later anyway. Instead, pass the base address to\nmemory_region_add_subregion() directly.\n\nMany thanks to Peter Maydell for the detailed problem analysis, and for\nproviding suggestions on how to fix the problem.\n\nSigned-off-by: Guenter Roeck <linux@roeck-us.net>\nMessage-id: 20200218201050.15273-1-linux@roeck-us.net\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997133612632751,PCI,hw/sh4/sh_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a6627f5fc607939f7c8b9c3157fdcb2d368ba0ed,0e13ba7889432c5e2f1bdb1b25e7076ca1b1dcba,Richard Henderson,2020-02-14,target/arm: Use isar_feature_aa32_simd_r32 more places\n\nMany uses of ARM_FEATURE_VFP3 are testing for the number of simd\nregisters implemented.  Use the proper test vs MVFR0.SIMDReg.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20200214181547.21408-4-richard.henderson@linaro.org\n[PMM: fix typo in commit message]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.999660849571228,ARM,"target/arm/cpu.c, target/arm/helper.c, target/arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,88cd34ee9e8866a27d99766fd384ed92e6e31d60,93c3593ad04f2610fd0a176dfa89a7e40b6afe1f,Philippe Mathieu-Daud,2020-02-21,"accel/kvm: Check ioctl(KVM_SET_USER_MEMORY_REGION) return value\n\nkvm_vm_ioctl() can fail, check its return value, and log an error\nwhen it failed. This fixes Coverity CID 1412229:\n\n  Unchecked return value (CHECKED_RETURN)\n\n  check_return: Calling kvm_vm_ioctl without checking return value\n\nReported-by: Coverity (CID 1412229)\nFixes: 235e8982ad3 (""support using KVM_MEM_READONLY flag for regions"")\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20200221163336.2362-1-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999745786190033,KVM,accel/kvm/kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0bab189c96c780341a954186276f9b58ea3244b9,db736e0437aa6fd7c1b7e4599c17f9619ab6b837,Thomas Huth,2020-01-30,"target/s390x/translate: Fix RNSBG instruction\n\nRNSBG is handled via the op_rosbg() helper function. But RNSBG has\nthe opcode 0xEC54, i.e. 0x54 as second byte, while op_rosbg() currently\nchecks for 0x55. This seems to be a typo, fix it to use 0x54 instead,\nso that op_rosbg() does not abort() anymore if a program uses RNSBG.\n\nI've checked with a simple test function that I now get the same results\nwith KVM and with TCG:\n\n static void test_rnsbg(void)\n {\n	uint64_t r1, r2;\n\n	r2 = 0xffff000000000000UL;\n	r1 = 0x123456789bdfaaaaUL;\n	asm volatile ("" rnsbg %0,%1,12,61,16 "" : ""+r""(r1) : ""r""(r2));\n\n	printf(""r1 afterwards: 0x%lx\n"", r1);\n }\n\nBuglink: https://bugs.launchpad.net/qemu/+bug/1860920\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20200130133417.10531-1-thuth@redhat.com>\nFixes: d6c6372e186e (""target-s390: Implement R[NOX]SBG"")\nReviewed-by: David Hildenbrand <david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9997158646583556,"KVM, TCG",target/s390x/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a7290a79fa262124916dab2bb75188cfd07faad6,8899d60142e790debe1604a89d0028ba1740d8e9,Johannes Berg,2020-01-23,"libvhost-user-glib: fix VugDev main fd cleanup\n\nIf you try to make a device implementation that can handle multiple\nconnections and allow disconnections (which requires overriding the\nVHOST_USER_NONE handling), then glib will warn that we remove a src\nwhile it's still on the mainloop, and will poll() an FD that doesn't\nexist anymore.\n\nFix this by making vug_source_new() require pairing with the new\nvug_source_destroy() so we can keep the GSource referenced in the\nmeantime.\n\nNote that this requires calling the new API in vhost-user-input.\nvhost-user-gpu also uses vug_source_new(), but never seems to free\nthe result at all, so I haven't changed anything there.\n\nFixes: 8bb7ddb78a1c (""libvhost-user: add glib source helper"")\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nSigned-off-by: Johannes Berg <johannes.berg@intel.com>\nMessage-Id: <20200123081708.7817-3-johannes@sipsolutions.net>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997223019599916,VHOST_USER,"contrib/libvhost-user/libvhost-user-glib.c, contrib/libvhost-user/libvhost-user-glib.h, contrib/vhost-user-input/main.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b844a4c77b618acfba6b3f4ce12d2ad709f99279,67b3965e89f8466fc6a61caa2142dd2c89257383,Raphael Norwitz,2020-01-15,Fixed assert in vhost_user_set_mem_table_postcopy\n\nThe current vhost_user_set_mem_table_postcopy() implementation\npopulates each region of the VHOST_USER_SET_MEM_TABLE message without\nfirst checking if there are more than VHOST_MEMORY_MAX_NREGIONS already\npopulated. This can cause memory corruption if too many regions are\nadded to the message during the postcopy step.\n\nThis change moves an existing assert up such that attempting to\nconstruct a VHOST_USER_SET_MEM_TABLE message with too many memory\nregions will gracefully bring down qemu instead of corrupting memory.\n\nSigned-off-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nSigned-off-by: Peter Turschmid <peter.turschm@nutanix.com>\nMessage-Id: <1579143426-18305-2-git-send-email-raphael.norwitz@nutanix.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9995718598365784,VHOST_USER,hw/virtio/vhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2a7b18a3205bdc18403dfa48b9746fbafeac14a0,db736e0437aa6fd7c1b7e4599c17f9619ab6b837,Igor Mammedov,2020-02-27,"softmmu/vl.c: fix too slow TCG regression\n\nCommit a1b18df9a4 moved -m option parsing after configure_accelerators()\nthat broke TCG accelerator initialization which accesses global ram_size\nfrom size_code_gen_buffer() which is equal to 0 at that moment.\n\nPartially revert a1b18df9a4, by returning set_memory_options() to its\noriginal location and only keep 32-bit host VA check and 'memory-backend'\nsize check introduced by fe64d06afc at current place.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nTested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9989571571350098,TCG,softmmu/vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5df2cfbc8b61e0c5d050a69814f713d2ba045ec5,dac65ba1d7945c5d58ab63d8769103634adb2b01,Philippe Mathieu-Daud,2020-02-24,"hw/arm/integratorcp: Map the audio codec controller\n\nThe Linux kernel displays errors why trying to detect the PL041\naudio interface:\n\n  Linux version 4.16.0 (linus@genomnajs) (gcc version 7.2.1 20171011 (Linaro GCC 7.2-2017.11)) #142 PREEMPT Wed May 9 13:24:55 CEST 2018\n  CPU: ARM926EJ-S [41069265] revision 5 (ARMv5TEJ), cr=00093177\n  CPU: VIVT data cache, VIVT instruction cache\n  OF: fdt: Machine model: ARM Integrator/CP\n  ...\n  OF: amba_device_add() failed (-19) for /fpga/aaci@1d000000\n\nSince we have it already modelled, simply plug it.\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20200223233033.15371-2-f4bug@amsat.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9957644939422609,"ARM, PL041","hw/arm/Kconfig, hw/arm/integratorcp.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,616ec12d0fcc49f916dc0ab3f778fdeb87a53cd9,f2eafb75511e5d2ee601b43dc6ee0bcc6e453acd,Guenter Roeck,2020-02-15,"hw/arm/xilinx_zynq: Fix USB port instantiation\n\nUSB ports on Xilinx Zync must be instantiated as TYPE_CHIPIDEA to work.\nLinux expects and checks various chipidea registers, which do not exist\nwith the basic ehci emulation. This patch series fixes the problem.\n\nWithout this patch, USB ports fail to instantiate under Linux.\n\nci_hdrc ci_hdrc.0: doesn't support host\nci_hdrc ci_hdrc.0: no supported roles\n\nWith this patch, USB ports are instantiated, and it is possible\nto boot from USB drive.\n\nci_hdrc ci_hdrc.0: EHCI Host Controller\nci_hdrc ci_hdrc.0: new USB bus registered, assigned bus number 1\nci_hdrc ci_hdrc.0: USB 2.0 started, EHCI 1.00\nusb 1-1: new full-speed USB device number 2 using ci_hdrc\nusb 1-1: not running at top speed; connect to a high speed hub\nusb 1-1: config 1 interface 0 altsetting 0 endpoint 0x81 has invalid maxpacket 512, setting to 64\nusb 1-1: config 1 interface 0 altsetting 0 endpoint 0x2 has invalid maxpacket 512, setting to 64\nusb-storage 1-1:1.0: USB Mass Storage device detected\nscsi host0: usb-storage 1-1:1.0\n\nSigned-off-by: Guenter Roeck <linux@roeck-us.net>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>\nMessage-id: 20200215122354.13706-2-linux@roeck-us.net\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999698042869568,USB,hw/arm/xilinx_zynq.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1904f9b5f1d94fe12fe021db6b504c87d684f6db,957e615503bd0de22393fd8dbcb22a5064fd2b5c,Peter Maydell,2020-02-25,"hw/intc/arm_gic_kvm: Don't assume kernel can provide a GICv2\n\nIn our KVM GICv2 realize function, we try to cope with old kernels\nthat don't provide the device control API (KVM_CAP_DEVICE_CTRL): we\ntry to use the device control, and if that fails we fall back to\nassuming that the kernel has the old style KVM_CREATE_IRQCHIP and\nthat it will provide a GICv2.\n\nThis doesn't cater for the possibility of a kernel and hardware which\nonly provide a GICv3, which is very common now.  On that setup we\nwill abort() later on in kvm_arm_pmu_set_irq() when we try to wire up\nan interrupt to the GIC we failed to create:\n\nqemu-system-aarch64: PMU: KVM_SET_DEVICE_ATTR: Invalid argument\nqemu-system-aarch64: failed to set irq for PMU\nAborted\n\nIf the kernel advertises KVM_CAP_DEVICE_CTRL we should trust it if it\nsays it can't create a GICv2, rather than assuming it has one.  We\ncan then produce a more helpful error message including a hint about\nthe most probable reason for the failure.\n\nIf the kernel doesn't advertise KVM_CAP_DEVICE_CTRL then it is truly\nancient by this point but we might as well still fall back to a\nKVM_CREATE_IRQCHIP GICv2.\n\nWith this patch then the user misconfiguration which previously\ncaused an abort now prints:\nqemu-system-aarch64: Initialization of device kvm-arm-gic failed: error creating in-kernel VGIC: No such device\nPerhaps the host CPU does not support GICv2?\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nTested-by: Andrew Jones <drjones@redhat.com>\nMessage-id: 20200225182435.1131-1-peter.maydell@linaro.org",1,0.9996614456176758,KVM,hw/intc/arm_gic_kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,47a2def4533a2807e48954abd50b32ecb1aaf29a,a2fa63a8f57b6294009f3db198fa841139051c56,Alex Benne,2020-02-28,accel/tcg: remove link between guest ram and TCG cache size\n\nBasing the TB cache size on the ram_size was always a little heuristic\nand was broken by a1b18df9a4 which caused ram_size not to be fully\nrealised at the time we initialise the TCG translation cache.\n\nThe current DEFAULT_CODE_GEN_BUFFER_SIZE may still be a little small\nbut follow-up patches will address that.\n\nFixes: a1b18df9a4\nCc: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nTested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Niek Linnenbank <nieklinnenbank@gmail.com>\nMessage-Id: <20200228192415.19867-3-alex.bennee@linaro.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>,1,0.999677300453186,TCG,accel/tcg/translate-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cd8fef8d4b2dfeadc68ffb4d741ab23e9e13dad1,e0175b71638cf4398903c0d25f93fe62e0606389,Anton V. Boyarshinov,2020-02-26,Arithmetic error in EDID generation fixed\n\nTo calculate screen size in centimeters we should calculate:\npixels/dpi*2.54\nbut not\npixels*dpi/2540\n\nUsing wrong formula we actually get 65 DPI and very small fonts.\n\nSigned-off-by: Anton V. Boyarshinov <boyarsh@altlinux.org>\nMessage-id: 20200226122054.366b9cda@table.localdomain\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.9996991157531738,EDID,hw/display/edid-generate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dda8f1854b8efae1dd30b666e8358f9b2ed8ae48,2683a927ff21b54a7300ac70c3c89652f2194969,Bin Meng,2019-08-09,"hw: net: cadence_gem: Fix build errors in DB_PRINT()\n\nWhen CADENCE_GEM_ERR_DEBUG is turned on, there are several\ncompilation errors in DB_PRINT(). Fix them.\n\nWhile we are here, update to use appropriate modifiers in\nthe same DB_PRINT() call.\n\nSigned-off-by: Bin Meng <bmeng.cn@gmail.com>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nSigned-off-by: Jason Wang <jasowang@redhat.com>",1,0.9996432065963744,CADENCE,hw/net/cadence_gem.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f7ef7e6e3ba6e994e070cc609eb154339d1c4a11,530a0963184e57e71a5b538e9161f115df533e96,Jason Wang,2020-03-02,vhost: correctly turn on VIRTIO_F_IOMMU_PLATFORM\n\nWe turn on device IOTLB via VIRTIO_F_IOMMU_PLATFORM unconditionally on\nplatform without IOMMU support. This can lead unnecessary IOTLB\ntransactions which will damage the performance.\n\nFixing this by check whether the device is backed by IOMMU and disable\ndevice IOTLB.\n\nReported-by: Halil Pasic <pasic@linux.ibm.com>\nTested-by: Halil Pasic <pasic@linux.ibm.com>\nReviewed-by: Halil Pasic <pasic@linux.ibm.com>\nSigned-off-by: Jason Wang <jasowang@redhat.com>\nMessage-Id: <20200302042454.24814-1-jasowang@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9992659687995912,VIRTIO,hw/virtio/vhost.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5843b6b35250139d91220ac3b75d467703e345b3,67f17e23baca5dd545fe98b01169cc351a70fe35,Jason Andryuk,2020-03-06,"usb-serial: wakeup device on input\n\nCurrently usb-serial devices are unable to send data into guests with\nthe xhci controller.  Data is copied into the usb-serial's buffer, but\nit is not sent into the guest.  Data coming out of the guest works\nproperly.  usb-serial devices work properly with ehci.\n\nHave usb-serial call usb_wakeup() when receiving data from the chardev.\nThis seems to notify the xhci controller and fix inbound data flow.\n\nAlso add USB_CFG_ATT_WAKEUP to the device's bmAttributes.  This matches\na real FTDI serial adapter's bmAttributes.\n\nSigned-off-by: Jason Andryuk <jandryuk@gmail.com>\nMessage-id: 20200306140917.26726-1-jandryuk@gmail.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996482133865356,USB,hw/usb/dev-serial.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,38e131d2e2fa6e9b17782d7ce96e7207fa276562,e07c4f44b0d5c80577cb00421a5370d2dbbcfa6b,Philippe Mathieu-Daud,2020-02-28,"hw/acpi/cpu_hotplug: Include ""hw/pci/pci.h""\n\nhw/acpi/cpu_hotplug.c calls pci_address_space_io(). Include\n""hw/pci/pci.h"" which declares it.\n\nThis fixes (when modifying unrelated headers):\n\n  hw/acpi/cpu_hotplug.c:103:28: error: implicit declaration of function 'pci_address_space_io' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n      MemoryRegion *parent = pci_address_space_io(PCI_DEVICE(gpe_cpu->device));\n                             ^\n\nAcked-by: John Snow <jsnow@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20200228114649.12818-11-philmd@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9995879530906676,PCI,hw/acpi/cpu_hotplug.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,577aa4895a138782d426be592aa3c41ecf28a2c2,858be92357ec195978b7ccb599fa8067f4b91849,Philippe Mathieu-Daud,2020-02-28,"hw/pci-host/q35: Include ""qemu/range.h""\n\nThe MCHPCIState structure uses the Range type which is declared in\n""qemu/range.h"". Include it.\n\nThis fixes (when modifying unrelated headers):\n\n  In file included from hw/pci-host/q35.c:32:\n  include/hw/pci-host/q35.h:57:11: error: field has incomplete type 'Range' (aka 'struct Range')\n      Range pci_hole;\n            ^\n  include/qemu/typedefs.h:116:16: note: forward declaration of 'struct Range'\n  typedef struct Range Range;\n                 ^\n\nAcked-by: John Snow <jsnow@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20200228114649.12818-13-philmd@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9989859461784364,PCI,include/hw/pci-host/q35.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9a5711613527a4dd7b57289bbbb8892b69d328b5,5588a58ce2eccc946f1227f3acae97cb28c0013d,Philippe Mathieu-Daud,2020-02-28,"hw/pci-host/piix: Include ""qemu/range.h""\n\nhw/pci-host/piix.c calls various functions from the Range API.\nInclude ""qemu/range.h"" which declares them.\n\nThis fixes (when modifying unrelated headers):\n\n  hw/pci-host/i440fx.c:54:11: error: field has incomplete type 'Range' (aka 'struct Range')\n      Range pci_hole;\n           ^\n  include/qemu/typedefs.h:116:16: note: forward declaration of 'struct Range'\n  typedef struct Range Range;\n                 ^\n  hw/pci-host/i440fx.c:126:9: error: implicit declaration of function 'ranges_overlap' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n      if (ranges_overlap(address, len, I440FX_PAM, I440FX_PAM_SIZE) ||\n          ^\n  hw/pci-host/i440fx.c:126:9: error: this function declaration is not a prototype [-Werror,-Wstrict-prototypes]\n  hw/pci-host/i440fx.c:127:9: error: implicit declaration of function 'range_covers_byte' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n          range_covers_byte(address, len, I440FX_SMRAM)) {\n          ^\n  hw/pci-host/i440fx.c:127:9: error: this function declaration is not a prototype [-Werror,-Wstrict-prototypes]\n  hw/pci-host/i440fx.c:189:13: error: implicit declaration of function 'range_is_empty' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n      val64 = range_is_empty(&s->pci_hole) ? 0 : range_lob(&s->pci_hole);\n              ^\n\nAcked-by: John Snow <jsnow@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20200228114649.12818-15-philmd@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9994876384735109,"I440FX, PAM",hw/pci-host/i440fx.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,132a908bc4fd12f4d6d24661eff44b927450c8e7,9a5711613527a4dd7b57289bbbb8892b69d328b5,Philippe Mathieu-Daud,2020-02-28,"hw/acpi: Include ""hw/mem/nvdimm.h""\n\nBoth ich9.c and piix4.c use methods/definitions declared in the\nNVDIMM device header. Include it.\n\nThis fixes (when modifying unrelated headers):\n\n  hw/acpi/ich9.c:507:46: error: use of undeclared identifier 'TYPE_NVDIMM'\n        if (object_dynamic_cast(OBJECT(dev), TYPE_NVDIMM)) {\n                                             ^\n  hw/acpi/ich9.c:508:13: error: implicit declaration of function 'nvdimm_acpi_plug_cb' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n            nvdimm_acpi_plug_cb(hotplug_dev, dev);\n            ^\n  hw/acpi/piix4.c:403:46: error: use of undeclared identifier 'TYPE_NVDIMM'\n        if (object_dynamic_cast(OBJECT(dev), TYPE_NVDIMM)) {\n                                             ^\n  hw/acpi/piix4.c:404:13: error: implicit declaration of function 'nvdimm_acpi_plug_cb' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n            nvdimm_acpi_plug_cb(hotplug_dev, dev);\n            ^\n\nAcked-by: John Snow <jsnow@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20200228114649.12818-16-philmd@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.999088168144226,"DIMM, NVDIMM","hw/acpi/ich9.c, hw/acpi/piix4.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4b997690c60ba21135323d2db54a03495232acd6,132a908bc4fd12f4d6d24661eff44b927450c8e7,Philippe Mathieu-Daud,2020-02-28,"hw/i386: Include ""hw/mem/nvdimm.h""\n\nAll this files use methods/definitions declared in the NVDIMM\ndevice header. Include it.\n\nThis fixes (when modifying unrelated headers):\n\n  hw/i386/acpi-build.c:2733:9: error: implicit declaration of function 'nvdimm_build_acpi' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n        nvdimm_build_acpi(table_offsets, tables_blob, tables->linker,\n        ^\n  hw/i386/pc.c:1996:61: error: use of undeclared identifier 'TYPE_NVDIMM'\n    const bool is_nvdimm = object_dynamic_cast(OBJECT(dev), TYPE_NVDIMM);\n                                                            ^\n  hw/i386/pc.c:2032:55: error: use of undeclared identifier 'TYPE_NVDIMM'\n    bool is_nvdimm = object_dynamic_cast(OBJECT(dev), TYPE_NVDIMM);\n                                                      ^\n  hw/i386/pc.c:2040:9: error: implicit declaration of function 'nvdimm_plug' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n        nvdimm_plug(ms->nvdimms_state);\n        ^\n  hw/i386/pc.c:2040:9: error: this function declaration is not a prototype [-Werror,-Wstrict-prototypes]\n        nvdimm_plug(ms->nvdimms_state);\n        ^\n  hw/i386/pc.c:2065:42: error: use of undeclared identifier 'TYPE_NVDIMM'\n    if (object_dynamic_cast(OBJECT(dev), TYPE_NVDIMM)) {\n                                         ^\n  hw/i386/pc_i440fx.c:307:9: error: implicit declaration of function 'nvdimm_init_acpi_state' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n        nvdimm_init_acpi_state(machine->nvdimms_state, system_io,\n        ^\n  hw/i386/pc_q35.c:332:9: error: implicit declaration of function 'nvdimm_init_acpi_state' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n        nvdimm_init_acpi_state(machine->nvdimms_state, system_io,\n        ^\n\nAcked-by: John Snow <jsnow@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20200228114649.12818-17-philmd@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9993963241577148,"DIMM, NVDIMM","hw/i386/acpi-build.c, hw/i386/pc.c, hw/i386/pc_piix.c, hw/i386/pc_q35.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,97b4c9188c6537151defd7632bd7b5908f10052c,d45efe47824a3d143fdc8d5990032deff4cec72b,Eric Auger,2020-03-11,"hw/arm/virt: kvm: Restructure finalize_gic_version()\n\nRestructure the finalize_gic_version with switch cases and\nclearly separate the following cases:\n\n- KVM mode / in-kernel irqchip\n- KVM mode / userspace irqchip\n- TCG mode\n\nIn KVM mode / in-kernel irqchip , we explictly check whether\nthe chosen version is supported by the host. If the end-user\nexplicitly sets v2/v3 and this is not supported by the host,\nthen the user gets an explicit error message. Note that for\nold kernels where the CREATE_DEVICE ioctl doesn't exist then\nwe will now fail if the user specifically asked for gicv2,\nwhere previously we (probably) would have succeeded.\n\nIn KVM mode / userspace irqchip we immediatly output an error\nin case the end-user explicitly selected v3. Also we warn the\nend-user about the unexpected usage of gic-version=host in\nthat case as only userspace GICv2 is supported.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nMessage-id: 20200311131618.7187-6-eric.auger@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.992219090461731,"KVM, TCG",hw/arm/virt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,acb9f95a7c6fda1e488e117af582d5c7db7a218e,64a7b8de42aff54dce4d82585f25060a741531d1,Julio Faracco,2020-03-02,"i386: Fix GCC warning with snprintf when HAX is enabled\n\nWhen HAX is enabled (--enable-hax), GCC 9.2.1 reports issues with\nsnprintf(). Replacing old snprintf() by g_strdup_printf() fixes the\nproblem with boundary checks of vm_id and vcpu_id and finally the\nwarnings produced by GCC.\n\nFor more details, one example of warning:\n  CC      i386-softmmu/target/i386/hax-posix.o\nqemu/target/i386/hax-posix.c: In function hax_host_open_vm:\nqemu/target/i386/hax-posix.c:124:56: error: %02d directive output may be\ntruncated writing between 2 and 11 bytes into a region of size 3\n[-Werror=format-truncation=]\n  124 |     snprintf(name, sizeof HAX_VM_DEVFS, ""/dev/hax_vm/vm%02d"", vm_id);\n      |                                                        ^~~~\nqemu/target/i386/hax-posix.c:124:41: note: directive argument in the range\n[-2147483648, 64]\n  124 |     snprintf(name, sizeof HAX_VM_DEVFS, ""/dev/hax_vm/vm%02d"", vm_id);\n      |                                         ^~~~~~~~~~~~~~~~~~~~\nIn file included from /usr/include/stdio.h:867,\n                 from qemu/include/qemu/osdep.h:99,\n                 from qemu/target/i386/hax-posix.c:14:\n/usr/include/bits/stdio2.h:67:10: note: __builtin___snprintf_chk output\nbetween 17 and 26 bytes into a destination of size 17\n   67 |   return __builtin___snprintf_chk (__s, __n, __USE_FORTIFY_LEVEL - 1,\n      |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n   68 |        __bos (__s), __fmt, __va_arg_pack ());\n      |        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nSigned-off-by: Julio Faracco <jcfaracco@gmail.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9994829893112184,HAX,"target/i386/hax-posix.c, target/i386/hax-windows.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ad334d89a695460ca1387d96bb8ab7aef0909df4,f350d78f102faef84910733b6c45e2c72a05d86a,Greg Kurz,2020-02-24,"spapr: Handle pending hot plug/unplug requests at CAS\n\nIf a hot plug or unplug request is pending at CAS, we currently trigger\na CAS reboot, which severely increases the guest boot time. This is\nbecause SLOF doesn't handle hot plug events and we had no way to fix\nthe FDT that gets presented to the guest.\n\nWe can do better thanks to recent changes in QEMU and SLOF:\n\n- we now return a full FDT to SLOF during CAS\n\n- SLOF was fixed to correctly detect any device that was either added or\n  removed since boot time and to update its internal DT accordingly.\n\nThe right solution is to process all pending hot plug/unplug requests\nduring CAS: convert hot plugged devices to cold plugged devices and\nremove the hot unplugged ones, which is exactly what spapr_drc_reset()\ndoes. Also clear all hot plug events that are currently queued since\nthey're no longer relevant.\n\nNote that SLOF cannot currently populate hot plugged PCI bridges or PHBs\nat CAS. Until this limitation is lifted, SLOF will reset the machine when\nthis scenario occurs : this will allow the FDT to be fully processed when\nSLOF is started again (ie. the same effect as the CAS reboot that would\noccur anyway without this patch).\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <158257222352.4102917.8984214333937947307.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.8724290728569031,PCI,"hw/ppc/spapr_events.c, hw/ppc/spapr_hcall.c, include/hw/ppc/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6a84737c80b3febb093e066d451a44e61b54159a,9943266ec36fec54367085758cd3ee821696a791,David Gibson,2019-11-28,"spapr,ppc: Simplify signature of kvmppc_rma_size()\n\nThis function calculates the maximum size of the RMA as implied by the\nhost's page size of structure of the VRMA (there are a number of other\nconstraints on the RMA size which will supersede this one in many\ncircumstances).\n\nThe current interface takes the current RMA size estimate, and clamps it\nto the VRMA derived size.  The only current caller passes in an arguably\nwrong value (it will match the current RMA estimate in some but not all\ncases).\n\nWe want to fix that, but for now just keep concerns separated by having the\nKVM helper function just return the VRMA derived limit, and let the caller\ncombine it with other constraints.  We call the new function\nkvmppc_vrma_limit() to more clearly indicate its limited responsibility.\n\nThe helper should only ever be called in the KVM enabled case, so replace\nits !CONFIG_KVM stub with an assert() rather than a dummy value.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Cedric Le Goater <clg@fr.ibm.com>\nReviewed-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>",1,0.9988449811935424,KVM,"hw/ppc/spapr.c, target/ppc/kvm.c, target/ppc/kvm_ppc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,20042479810511895d94f2f6ec8455fe0d0a2ce3,fa8ac1b769ae1b7681924d4c9d7252e57c612909,Mark Cave-Ayland,2020-03-13,"via-ide: allow guests to write to PCI_CLASS_PROG\n\nMorphOS writes to PCI_CLASS_PROG during IDE initialisation to place the\ncontroller in native mode, but thinks the initialisation has failed\nbecause the native mode bits aren't set when reading the register back.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nTested-by: BALATON Zoltan <balaton@eik.bme.hu>\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-id: 20200313082444.2439-7-mark.cave-ayland@ilande.co.uk\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.9971810579299928,PCI,hw/ide/via.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ad77c6ca0c63e39eb6ded9c1a761eaa16b21b7f9,edfdbf9c6baf6f8dc17842bd300cd2dd78d5f0d4,Nicholas Piggin,2020-03-17,"ppc/spapr: Fix FWNMI machine check interrupt delivery\n\nFWNMI machine check delivery misses a few things that will make it fail\nwith TCG at least (which we would like to allow in future to improve\ntesting).\n\nIt's not nice to scatter interrupt delivery logic around the tree, so\nmove it to excp_helper.c and share code where possible.\n\nSigned-off-by: Nicholas Piggin <npiggin@gmail.com>\nMessage-Id: <20200316142613.121089-5-npiggin@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996919631958008,TCG,"hw/ppc/spapr_events.c, target/ppc/cpu.h, target/ppc/excp_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,647ee9877272d4359659e2595262db0e062c8ffc,30ad5fdd34d9cfc9f16e73e0229c133d7317a42a,Jason Andryuk,2020-03-16,"usb-serial: Fix timeout closing the device\n\nLinux guests wait ~30 seconds when closing the emulated /dev/ttyUSB0.\nDuring that time, the kernel driver is sending many control URBs\nrequesting GetModemStat (5).  Real hardware returns a status with\nFTDI_THRE (Transmitter Holding Register) and FTDI_TEMT (Transmitter\nEmpty) set.  QEMU leaves them clear, and it seems Linux is waiting for\nFTDI_TEMT to be set to indicate the tx queue is empty before closing.\n\nSet the bits when responding to a GetModemStat query and avoid the\nshutdown delay.\n\nSigned-off-by: Jason Andryuk <jandryuk@gmail.com>\nReviewed-by: Samuel Thibault <samuel.thibault@ens-lyon.org>\nMessage-id: 20200316174610.115820-5-jandryuk@gmail.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997298121452332,USB,hw/usb/dev-serial.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,630e2af0ca248da764561cd695b9a7d7ad57e290,0701a5efa015189248926879e7d44c45cc55515e,Guenter Roeck,2020-03-12,"hw/arm/fsl-imx6ul: Fix USB interrupt numbers\n\nUSB1 and USB2 interrupt numbers were swapped. USB_PHY2 interrupt number\nis 45. That didn't really matter up to now since the interrupts were not\nused, but it needs to be fixed to be able to wire up the USB controllers.\n\nFixes: 31cbf933f0e (""i.MX6UL: Add i.MX6UL SOC"")\nSigned-off-by: Guenter Roeck <linux@roeck-us.net>\nMessage-id: 20200313014551.12554-3-linux@roeck-us.net\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997311234474182,USB,include/hw/arm/fsl-imx6ul.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,902283c1df32de3a08b6410aad7a738d179dc8af,df45d38f7328219a709047ebf3b726d0f4ba4ee7,BALATON Zoltan,2020-03-17,hw/isa/piix4.c: Introduce variable to store devfn\n\nTo avoid any problem with reassigning pci variable store devfn in a\nvariable instead of acessing it from the PCIDevice.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 1020e0bfcfc6e364f967ccb2a9a3778ac174ccbe.1584457537.git.balaton@eik.bme.hu\nSigned-off-by: John Snow <jsnow@redhat.com>,1,0.9760804176330566,PCI,hw/isa/piix4.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3bc2609d478779be600fd66744eb4e3730ec5e33,d86b4672f2ee4775ce5711c5626e6311efd788c8,Changbin Du,2020-03-16,"gdbstub: Fix single-step issue by confirming 'vContSupported+' feature to gdb\n\nRecently when debugging an arm32 system on qemu, I found sometimes the\nsingle-step command (stepi) is not working. This can be reproduced by\nbelow steps:\n 1) start qemu-system-arm -s -S .. and wait for gdb connection.\n 2) start gdb and connect to qemu. In my case, gdb gets a wrong value\n    (0x60) for PC, which is an another bug.\n 3) After connected, type 'stepi' and expect it will stop at next ins.\n\nBut, it has never stopped. This because:\n 1) We doesn't report vContSupported feature to gdb explicitly and gdb\n    think we do not support it. In this case, gdb use a software breakpoint\n    to emulate single-step.\n 2) Since gdb gets a wrong initial value of PC, then gdb inserts a\n    breakpoint to wrong place (PC+4).\n\nNot only for the arm target, Philippe has also encountered this on MIPS.\nProbably gdb has different assumption for different architectures.\n\nSince we do support vContSupported query command, so let's tell gdb that\nwe support it.\n\nBefore this change, gdb send below 'Z0' packet to implement single-step:\ngdb_handle_packet: Z0,4,4\n\nAfter this change, gdb send ""vCont;s.."" which is expected:\ngdb_handle_packet: vCont?\nput_packet: vCont;c;C;s;S\ngdb_handle_packet: vCont;s:p1.1;c:p1.-1\n\nSigned-off-by: Changbin Du <changbin.du@gmail.com>\nTested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20200221002559.6768-1-changbin.du@gmail.com>\n[AJB: fix for static gdbstub]\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Luc Michel <luc.michel@greensocs.com>\nMessage-Id: <20200316172155.971-29-alex.bennee@linaro.org>",1,0.9997373223304749,MIPS,gdbstub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0418bf78fe8e61e619782940e77ca2d18b8c2d35,f9e3e1a35e8fd63d61fae58bd98d24d7defa9316,Nicholas Piggin,2020-03-19,"target/ppc: Fix ISA v3.0 (POWER9) slbia implementation\n\nThe new ISA v3.0 slbia variants have not been implemented for TCG,\nwhich can lead to crashing when a POWER9 machine boots Linux using\nthe hash MMU, for example (""disable_radix"" kernel command line).\n\nAdd them.\n\nSigned-off-by: Nicholas Piggin <npiggin@gmail.com>\nMessage-Id: <20200319064439.1020571-1-npiggin@gmail.com>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\n[dwg: Fixed compile error for USER_ONLY builds]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996649026870728,TCG,"target/ppc/helper.h, target/ppc/mmu-hash64.c, target/ppc/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,235352ee6e73d7716d20e706d484fd45c232ec09,ce05fa0fcc9e23d16b2ff079cb3cb6aceaccbc28,Peter Maydell,2020-03-22,"hw/ppc: Take QEMU lock when calling ppc_dcr_read/write()\n\nThe ppc_dcr_read() and ppc_dcr_write() functions call into callbacks\nin device code, so we need to hold the QEMU iothread lock while\ncalling them.  This is the case already for the callsites in\nkvmppc_handle_dcr_read/write(), but we must also take the lock when\ncalling the helpers from TCG.\n\nThis fixes a bug where attempting to initialise the PPC405EP\nSDRAM will cause an assertion when sdram_map_bcr() attempts\nto remap memory regions.\n\nReported-by: Amit Lazar <abasarlaz@hotmail.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-Id: <20200322192258.14039-1-peter.maydell@linaro.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997184872627258,"PPC, PPC405, TCG",target/ppc/timebase_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b2413df83348acf371c03bced9a3845bba883ed5,bb1ce44b15f159b67fafc5f4b285bbf20a1961e9,Sameeh Jubran,2020-03-11,"qga-win: Handle VSS_E_PROVIDER_ALREADY_REGISTERED error\n\nThis patch handles the case where VSS Provider is already registered,\nwhere in such case qga uninstalls the provider and registers it again.\n\nSigned-off-by: Sameeh Jubran <sjubran@redhat.com>\nSigned-off-by: Basil Salman <basil@daynix.com>\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>",1,0.9996447563171388,REGISTER,qga/vss-win32/install.cpp,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,33ee3d96c7c21febbfb90b005ee9e646cf1f3794,736cf607e40674776d752acc201f565723e86045,Pan Nengyuan,2020-03-18,"hmp-cmd: fix a missing_break warning\n\nThis fix coverity issues 94417686:\n    1260        break;\n    CID 94417686: (MISSING_BREAK)\n    1261. unterminated_case: The case for value ""MIGRATION_PARAMETER_THROTTLE_TRIGGER_THRESHOLD"" is not terminated by a 'break' statement.\n    1261    case MIGRATION_PARAMETER_THROTTLE_TRIGGER_THRESHOLD:\n    1262        p->has_throttle_trigger_threshold = true;\n    1263        visit_type_int(v, param, &p->throttle_trigger_threshold, &err);\n    1264    case MIGRATION_PARAMETER_CPU_THROTTLE_INITIAL:\n\nFixes: dc14a470763c96fd9d360e1028ce38e8c3613a77\nFixes: Coverity (CID 1421950)\nReported-by: Euler Robot <euler.robot@huawei.com>\nSigned-off-by: Pan Nengyuan <pannengyuan@huawei.com>\nMessage-Id: <20200318071620.59748-1-pannengyuan@huawei.com>\nReviewed-by: Keqian Zhu <zhukeqian1@huawei.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>",1,0.9997351765632628,SSI,monitor/hmp-cmds.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a092a95547710bcbb8c168e5ec03f55fb4ab1ad7,f01454ad17e3dcede67625e846cfbbd603e768e8,Alex Benne,2020-03-23,"configure: disable MTTCG for MIPS guests\n\nWhile debugging check-acceptance failures I found an instability in\nthe mips64el test case. Briefly the test case:\n\n  retry.py -n 100 -c -- ./mips64el-softmmu/qemu-system-mips64el \\n    -display none -vga none -serial mon:stdio \\n    -machine malta -kernel ./vmlinux-4.7.0-rc1.I6400 \\n    -cpu I6400 -smp 8 -vga std \\n    -append ""printk.time=0 clocksource=GIC console=tty0 console=ttyS0 panic=-1"" \\n    --no-reboot\n\nReports about a 9% failure rate:\n\n  Results summary:\n  0: 91 times (91.00%), avg time 5.547 (0.45 varience/0.67 deviation)\n  -6: 9 times (9.00%), avg time 3.394 (0.02 varience/0.13 deviation)\n  Ran command 100 times, 91 passes\n\nWhen re-run with ""--accel tcg,thread=single"" the instability goes\naway.\n\n  Results summary:\n  0: 100 times (100.00%), avg time 17.318 (249.76 varience/15.80 deviation)\n  Ran command 100 times, 100 passes\n\nWhich seems to indicate there is some aspect of the MIPS MTTCG fixes\nthat has been missed. Ideally we would fix that but I'm afraid I don't\nhave time to investigate and am not super familiar with the\narchitecture anyway. In lieu of someone tracking down the failure lets\ndisable it for now.\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nAcked-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nAcked-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Aleksandar Markovic <aleksandar.qemu.devel@gmail.com>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nCc: Aleksandar Rikalo <aleksandar.rikalo@rt-rk.com>\nMessage-Id: <20200323161514.23952-7-alex.bennee@linaro.org>",1,0.99887615442276,"MIPS, TCG",configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9e58f172700a3fc56fd6c97d033efa8ade51c9ce,cfe68ae025f704f336d7dd3d1903ce37b445831d,Sven Schnelle,2019-11-01,"fdc/i8257: implement verify transfer mode\n\nWhile working on the Tulip driver i tried to write some Teledisk images to\na floppy image which didn't work. Turned out that Teledisk checks the written\ndata by issuing a READ command to the FDC but running the DMA controller\nin VERIFY mode. As we ignored the DMA request in that case, the DMA transfer\nnever finished, and Teledisk reported an error.\n\nThe i8257 spec says about verify transfers:\n\n3) DMA verify, which does not actually involve the transfer of data. When an\n8257 channel is in the DMA verify mode, it will respond the same as described\nfor transfer operations, except that no memory or I/O read/write control signals\nwill be generated.\n\nHerv proposed to remove all the dma_mode_ok stuff from fdc to have a more\nclear boundary between DMA and FDC, so this patch also does that.\n\nSuggested-by: Herv Poussineau <hpoussin@reactos.org>\nSigned-off-by: Sven Schnelle <svens@stackframe.org>\nReviewed-by: Herv Poussineau <hpoussin@reactos.org>",1,0.9996249675750732,FDC,"hw/block/fdc.c, hw/dma/i8257.c, include/hw/isa/isa.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1153cf9f5b67fad41ca6f8571e9a26e2c7c70759,b88fb1247b8f82ff49a82e69965adca6d329a3b3,Li Qiang,2020-03-30,"qtest: add tulip test case\n\nThe tulip networking card emulation has an OOB issue in\n'tulip_copy_tx_buffers' when the guest provide malformed descriptor.\nThis test will trigger a ASAN heap overflow crash. To trigger this\nissue we can construct the data as following:\n\n1. construct a 'tulip_descriptor'. Its control is set to\n'0x7ff | 0x7ff << 11', this will make the 'tulip_copy_tx_buffers's\n'len1' and 'len2' to 0x7ff(2047). So 'len1+len2' will overflow\n'TULIPState's 'tx_frame' field. This descriptor's 'buf_addr1' and\n'buf_addr2' should set to a guest address.\n\n2. write this descriptor to tulip device's CSR4 register. This will\nset the 'TULIPState's 'current_tx_desc' field.\n\n3. write 'CSR6_ST' to tulip device's CSR6 register. This will trigger\n'tulip_xmit_list_update' and finally calls 'tulip_copy_tx_buffers'.\n\nFollowing shows the backtrack of crash:\n\n==31781==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x628000007cd0 at pc 0x7fe03c5a077a bp 0x7fff05b46770 sp 0x7fff05b45f18\nWRITE of size 2047 at 0x628000007cd0 thread T0\n    #0 0x7fe03c5a0779  (/usr/lib/x86_64-linux-gnu/libasan.so.4+0x79779)\n    #1 0x5575fb6daa6a in flatview_read_continue /home/test/qemu/exec.c:3194\n    #2 0x5575fb6daccb in flatview_read /home/test/qemu/exec.c:3227\n    #3 0x5575fb6dae66 in address_space_read_full /home/test/qemu/exec.c:3240\n    #4 0x5575fb6db0cb in address_space_rw /home/test/qemu/exec.c:3268\n    #5 0x5575fbdfd460 in dma_memory_rw_relaxed /home/test/qemu/include/sysemu/dma.h:87\n    #6 0x5575fbdfd4b5 in dma_memory_rw /home/test/qemu/include/sysemu/dma.h:110\n    #7 0x5575fbdfd866 in pci_dma_rw /home/test/qemu/include/hw/pci/pci.h:787\n    #8 0x5575fbdfd8a3 in pci_dma_read /home/test/qemu/include/hw/pci/pci.h:794\n    #9 0x5575fbe02761 in tulip_copy_tx_buffers hw/net/tulip.c:585\n    #10 0x5575fbe0366b in tulip_xmit_list_update hw/net/tulip.c:678\n    #11 0x5575fbe04073 in tulip_write hw/net/tulip.c:783\n\nSigned-off-by: Li Qiang <liq3ea@163.com>\nSigned-off-by: Jason Wang <jasowang@redhat.com>",1,0.9995878338813782,TULIP,"tests/qtest/Makefile.include, tests/qtest/tulip-test.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,247b18c593ec298446645af8d5d28911daf653b1,2e26f4ab3bf8390a2677d3afd9b1a04f015d7721,Babu Moger,2020-03-11,"target/i386: Enable new apic id encoding for EPYC based cpus models\n\nThe APIC ID is decoded based on the sequence sockets->dies->cores->threads.\nThis works fine for most standard AMD and other vendors' configurations,\nbut this decoding sequence does not follow that of AMD's APIC ID enumeration\nstrictly. In some cases this can cause CPU topology inconsistency.\n\nWhen booting a guest VM, the kernel tries to validate the topology, and finds\nit inconsistent with the enumeration of EPYC cpu models. The more details are\nin the bug https://bugzilla.redhat.com/show_bug.cgi?id=1728166.\n\nTo fix the problem we need to build the topology as per the Processor\nProgramming Reference (PPR) for AMD Family 17h Model 01h, Revision B1\nProcessors. The documentation is available from the bugzilla Link below.\n\nLink: https://bugzilla.kernel.org/show_bug.cgi?id=206537\nIt is also available at\nhttps://www.amd.com/system/files/TechDocs/55570-B1_PUB.zip\n\nHere is the text from the PPR.\nOperating systems are expected to use Core::X86::Cpuid::SizeId[ApicIdSize], the\nnumber of least significant bits in the Initial APIC ID that indicate core ID\nwithin a processor, in constructing per-core CPUID masks.\nCore::X86::Cpuid::SizeId[ApicIdSize] determines the maximum number of cores\n(MNC) that the processor could theoretically support, not the actual number of\ncores that are actually implemented or enabled on the processor, as indicated\nby Core::X86::Cpuid::SizeId[NC].\nEach Core::X86::Apic::ApicId[ApicId] register is preset as follows:\n ApicId[6] = Socket ID.\n ApicId[5:4] = Node ID.\n ApicId[3] = Logical CCX L3 complex ID\n ApicId[2:0]= (SMT) ? {LogicalCoreID[1:0],ThreadId} : {1'b0,LogicalCoreID[1:0]}\n\nThe new apic id encoding is enabled for EPYC and EPYC-Rome models.\n\nSigned-off-by: Babu Moger <babu.moger@amd.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nAcked-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <158396724913.58170.3539083528095710811.stgit@naples-babu.amd.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.998277187347412,APIC,target/i386/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e7ebf057e6a1ca4f5599caea143daa2135175a87,2833ad487cfff7dc33703e4731b75facde1c561e,Elazar Leibovich,2020-03-15,"hw/scsi/vmw_pvscsi: Remove assertion for kick after reset\n\nWhen running Ubuntu 3.13.0-65-generic guest, QEMU sometimes crashes\nduring guest ACPI reset. It crashes on assert(s->rings_info_valid)\nin pvscsi_process_io().\n\nAnalyzing the crash revealed that it happens when userspace issues\na sync during a reboot syscall.\n\nBelow are backtraces we gathered from the guests.\n\nGuest backtrace when issuing PVSCSI_CMD_ADAPTER_RESET:\n    pci_device_shutdown\n    device_shutdown\n    init_pid_ns\n    init_pid_ns\n    kernel_power_off\n    SYSC_reboot\n\nGuest backtrace when issuing PVSCSI_REG_OFFSET_KICK_RW_IO:\n    scsi_done\n    scsi_dispatch_cmd\n    blk_add_timer\n    scsi_request_fn\n    elv_rb_add\n    __blk_run_queue\n    queue_unplugged\n    blk_flush_plug_list\n    blk_finish_plug\n    ext4_writepages\n    set_next_entity\n    do_writepages\n    __filemap_fdatawrite_range\n    filemap_write_and_wait_range\n    ext4_sync_file\n    ext4_sync_file\n    do_fsync\n    sys_fsync\n\nSince QEMU pvscsi should imitate VMware pvscsi device emulation,\nwe decided to imitate VMware's behavior in this case.\n\nTo check VMware behavior, we wrote a kernel module that issues\na reset to the pvscsi device and then issues a kick. We ran it on\nVMware ESXi 6.5 and it seems that it simply ignores the kick.\nHence, we decided to ignore the kick as well.\n\nSigned-off-by: Elazar Leibovich <elazar.leibovich@oracle.com>\nSigned-off-by: Liran Alon <liran.alon@oracle.com>\nMessage-Id: <20200315132634.113632-1-liran.alon@oracle.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995057582855223,"ACPI, SCSI",hw/scsi/vmw_pvscsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,edd075ae2baebf64b74e089457af6201362c9343,2833ad487cfff7dc33703e4731b75facde1c561e,Janosch Frank,2020-03-31,"s390x: kvm: Fix number of cpu reports for stsi 3.2.2\n\nThe cpu number reporting is handled by KVM and QEMU only fills in the\nVM name, uuid and other values.\n\nUnfortunately KVM doesn't report reserved cpus and doesn't even know\nthey exist until the are created via the ioctl.\n\nSo let's fix up the cpu values after KVM has written its values to the\n3.2.2 sysib. To be consistent, we use the same code to retrieve the cpu\nnumbers as the STSI TCG code in target/s390x/misc_helper.c:HELPER(stsi).\n\nSigned-off-by: Janosch Frank <frankja@linux.ibm.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20200331110123.3774-1-frankja@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996901750564576,"KVM, TCG",target/s390x/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,622e99c5cfcb43d89dc39ed780ab43f48bf748c6,8f13a39dc02ea8a3e923102a8444185630c635ea,Igor Mammedov,2020-03-26,"vl: fix broken IPA range for ARM -M virt with KVM enabled\n\nCommit a1b18df9a4848, broke virt_kvm_type() logic, which depends on\nmaxram_size, ram_size, ram_slots being parsed/set on machine instance\nat the time accelerator (KVM) is initialized.\n\nset_memory_options() part was already reverted by commit 2a7b18a3205b,\nso revert remaining initialization of above machine fields to make\nvirt_kvm_type() work as it used to.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReported-by: Auger Eric <eric.auger@redhat.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nTested-by: Eric Auger <eric.auger@redhat.com>\nMessage-Id: <20200326112829.19989-1-imammedo@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9883995056152344,"ARM, KVM",softmmu/vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4a910e1f6ab4155ec8b24c49b2585cc486916985,f602d047ac21fc10bc325bf12fe61f4f5c4360d4,Vitaly Kuznetsov,2020-03-31,"target/i386: do not set unsupported VMX secondary execution controls\n\nCommit 048c95163b4 (""target/i386: work around KVM_GET_MSRS bug for\nsecondary execution controls"") added a workaround for KVM pre-dating\ncommit 6defc591846d (""KVM: nVMX: include conditional controls in /dev/kvm\nKVM_GET_MSRS"") which wasn't setting certain available controls. The\nworkaround uses generic CPUID feature bits to set missing VMX controls.\n\nIt was found that in some cases it is possible to observe hosts which\nhave certain CPUID features but lack the corresponding VMX control.\n\nIn particular, it was reported that Azure VMs have RDSEED but lack\nVMX_SECONDARY_EXEC_RDSEED_EXITING; attempts to enable this feature\nbit result in QEMU abort.\n\nResolve the issue but not applying the workaround when we don't have\nto. As there is no good way to find out if KVM has the fix itself, use\n95c5c7c77c (""KVM: nVMX: list VMX MSRs in KVM_GET_MSR_INDEX_LIST"") instead\nas these [are supposed to] come together.\n\nFixes: 048c95163b4 (""target/i386: work around KVM_GET_MSRS bug for secondary execution controls"")\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Vitaly Kuznetsov <vkuznets@redhat.com>\nMessage-Id: <20200331162752.1209928-1-vkuznets@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997106194496156,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8a2b76ffc9ff610c3439617e19f1eb9be02be50f,9231951aa5ac0ae813818b8ff33d4ccaaabb16e8,Peter Maydell,2020-03-26,"hw/arm/collie: Put StrongARMState* into a CollieMachineState struct\n\nCoverity complains that the collie_init() function leaks the memory\nallocated in sa1110_init().  This is true but not significant since\nthe function is called only once on machine init and the memory must\nremain in existence until QEMU exits anyway.\n\nStill, we can avoid the technical memory leak by keeping the pointer\nto the StrongARMState inside the machine state struct.  Switch from\nthe simple DEFINE_MACHINE() style to defining a subclass of\nTYPE_MACHINE which extends the MachineState struct, and keep the\npointer there.\n\nFixes: CID 1421921\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20200326204919.22006-1-peter.maydell@linaro.org",1,0.9977567791938782,ARM,hw/arm/collie.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,79178edd2a0b012c5cd27e0168beb83ef4b617ef,3b4f50bd7d16322a109a026a87a945dff660f38b,Alexey Kardashevskiy,2020-03-24,"vfio/spapr: Fix page size calculation\n\nCoverity detected an issue (CID 1421903) with potential call of clz64(0)\nwhich returns 64 which make it do ""<<"" with a negative number.\n\nThis checks the mask and avoids undefined behaviour.\n\nIn practice pgsizes and memory_region_iommu_get_min_page_size() always\nhave some common page sizes and even if they did not, the resulting page\nsize would be 0x8000.0000.0000.0000 (gcc 9.2) and\nioctl(VFIO_IOMMU_SPAPR_TCE_CREATE) would fail anyway.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nMessage-Id: <20200324063912.25063-1-aik@ozlabs.ru>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997478127479552,VFIO,hw/vfio/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7aab5899764887f6b0512cb2e5c11bdc2a5d3644,4f7a11f93fcb970bdcd2faa12337f4d1269b45f4,David Gibson,2020-03-26,"spapr: Fix failure path for attempting to hot unplug PCI bridges\n\nFor various technical reasons we can't currently allow unplug a PCI to PCI\nbridge on the pseries machine.  spapr_pci_unplug_request() correctly\ngenerates an error message if that's attempted.\n\nBut.. if the given errp is not error_abort or error_fatal, it doesn't\nactually stop trying to unplug the bridge anyway.\n\nFixes: 14e714900f6b ""spapr: Allow hot plug/unplug of PCI bridges and devices under PCI bridges""\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Greg Kurz <groug@kaod.org>",1,0.999733030796051,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2025fc6766ab25501e0041c564c44bb0f7389774,7aab5899764887f6b0512cb2e5c11bdc2a5d3644,Peter Maydell,2020-03-30,"hw/ppc/ppc440_uc.c: Remove incorrect iothread locking from dcr_write_pcie()\n\nIn dcr_write_pcie() we take the iothread lock around a call to\npcie_host_mmcfg_udpate().  This is an incorrect attempt to deal with\nthe bug fixed in commit 235352ee6e73d7716, where we were not taking\nthe iothread lock before calling device dcr read/write functions.\n(It's not sufficient locking, because although the other cases in the\nswitch statement won't assert, there is no locking which prevents\nmultiple guest CPUs from trying to access the PPC460EXPCIEState\nstruct at the same time and corrupting data.)\n\nUnfortunately with commit 235352ee6e73d7716 we are now trying\nto recursively take the iothread lock, which will assert:\n\n  $ qemu-system-ppc -M sam460ex --display none\n  **\n  ERROR:/home/petmay01/linaro/qemu-from-laptop/qemu/cpus.c:1830:qemu_mutex_lock_iothread_impl: assertion failed: (!qemu_mutex_iothread_locked())\n  Aborted (core dumped)\n\nRemove the locking within dcr_write_pcie().\n\nFixes: 235352ee6e73d7716\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-Id: <20200330125228.24994-1-peter.maydell@linaro.org>\nTested-by: BALATON Zoltan <balaton@eik.bme.hu>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9995785355567932,"PCI, PPC",hw/ppc/ppc440_uc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,40bd0502dbee3ca1a9a481dd32dabe9230b8a37f,f3bac27cc1e303e1860cc55b9b6889ba39dee587,Philippe Mathieu-Daud,2020-04-03,"target/rx/translate: Add missing fall through comment\n\nCoverity reported a missing fall through comment, add it.\n\nFixes: e5918d7d7f0 (""target/rx: TCG translation"")\nReported-by: Coverity (CID 1422222 MISSING_BREAK)\nSuggested-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20200403184419.28556-1-philmd@redhat.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9994930028915404,"SSI, TCG",target/rx/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9a709f06c87043856307ce824b2ba47e0fdb7621,53ef8a92eb04ee19640f5aad3bff36cd4a36c250,Olaf Hering,2020-03-27,"piix: fix xenfv regression, add compat machine xenfv-4.2\n\nWith QEMU 4.0 an incompatible change was added to pc_piix, which makes it\npractical impossible to migrate domUs started with qemu2 or qemu3 to\nnewer qemu versions. Commit 7fccf2a06890e3bc3b30e29827ad3fb93fe88fea\nadded and enabled a new member ""smbus_no_migration_support"". In commit\n4ab2f2a8aabfea95cc53c64e13b3f67960b27fdf the vmstate_acpi got new\nelements, which are conditionally filled. As a result, an incoming\nmigration expected smbus related data unless smbus migration was\ndisabled for a given MachineClass. Since first commit forgot to handle\n'xenfv', domUs started with QEMU 4.x are incompatible with their QEMU\nsiblings.\n\nUsing other existing machine types, such as 'pc-i440fx-3.1', is not\npossible because 'xenfv' creates the 'xen-platform' PCI device at\n00:02.0, while all other variants to run a domU would create it at\n00:04.0.\n\nTo cover both the existing and the broken case of 'xenfv' in a single\nqemu binary, a new compatibility variant of 'xenfv-4.2' must be added\nwhich targets domUs started with qemu 4.2. The existing 'xenfv' restores\ncompatibility of QEMU 5.x with qemu 3.1.\n\nHost admins who started domUs with QEMU 4.x (preferrable QEMU 4.2)\nhave to use a wrapper script which appends '-machine xenfv-4.2' to\nthe device-model command line.  This is only required if there is no\nmaintenance window which allows to temporary shutdown the domU and\nrestart it with a fixed device-model.\n\nThe wrapper script is as simple as this:\n  #!/bin/sh\n  exec /usr/bin/qemu-system-i386 ""$@"" -machine xenfv-4.2\n\nWith xl this script will be enabled with device_model_override=, see\nxl.cfg(5). To live migrate a domU, adjust the existing domU.cfg and pass\nit to xl migrate or xl save/restore:\n  xl migrate -C new-domU.cfg domU remote-host\n  xl save domU CheckpointFile new-domU.cfg\n  xl restore new-domU.cfg CheckpointFile\n\nWith libvirt this script will be enabled with the <emulator> element in\ndomU.xml. Use 'virsh edit' prior 'virsh migrate' to replace the existing\n<emulator> element to point it to the wrapper script.\n\nSigned-off-by: Olaf Hering <olaf@aepfle.de>\nMessage-Id: <20200327151841.13877-1-olaf@aepfle.de>\n[Adjust tests for blacklisted machine types, simplifying the one in\n qom-test. - Paolo]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9993427395820618,PCI,"hw/i386/pc_piix.c, tests/qtest/device-introspect-test.c, tests/qtest/qom-test.c, tests/qtest/test-hmp.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,394f0f72fd94595e656af62f079b7680cdbe8add,bac78f9c692ff397e365d552e390b674925bd243,Shameer Kolothum,2020-04-03,"fw_cfg: Migrate ACPI table mr sizes separately\n\nAny sub-page size update to ACPI MRs will be lost during\nmigration, as we use aligned size in ram_load_precopy() ->\nqemu_ram_resize() path. This will result in inconsistency in\nFWCfgEntry sizes between source and destination. In order to avoid\nthis, save and restore them separately during migration.\n\nUp until now, this problem may not be that relevant for x86 as both\nACPI table and Linker MRs gets padded and aligned. Also at present,\nqemu_ram_resize() doesn't invoke callback to update FWCfgEntry for\nunaligned size changes. But since we are going to fix the\nqemu_ram_resize() in the subsequent patch, the issue may become\nmore serious especially for RSDP MR case.\n\nMoreover, the issue will soon become prominent in arm/virt as well\nwhere the MRs are not padded or aligned at all and eventually have\nacpi table changes as part of future additions like NVDIMM hot-add\nfeature.\n\nSuggested-by: David Hildenbrand <david@redhat.com>\nSigned-off-by: Shameer Kolothum <shameerali.kolothum.thodi@huawei.com>\nAcked-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20200403101827.30664-3-shameerali.kolothum.thodi@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9762182235717772,"ACPI, DIMM, NVDIMM","hw/core/machine.c, hw/nvram/fw_cfg.c, include/hw/nvram/fw_cfg.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ce4adc0b6e6167091373389ef8befd379c61fddb,394f0f72fd94595e656af62f079b7680cdbe8add,David Hildenbrand,2020-04-03,"exec: Fix for qemu_ram_resize() callback\n\nSummarizing the issue:\n1. Memory regions contain ram blocks with a different size,  if the\n   size is  not properly aligned. While memory regions can have an\n   unaligned size, ram blocks can't. This is true when creating\n   resizable memory region with  an unaligned size.\n2. When resizing a ram block/memory region, the size of the memory\n   region  is set to the aligned size. The callback is called with\n   the aligned size. The unaligned piece is lost.\n\nBecause of the above, if ACPI blob length modifications happens\nafter the initial virt_acpi_build() call, and the changed blob\nlength is within the PAGE size boundary, then the revised size\nis not seen by the firmware on Guest reboot.\n\nHence make sure callback is called if memory region size is changed,\nirrespective of aligned or not.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\n[Shameer: added commit log]\nSigned-off-by: Shameer Kolothum <shameerali.kolothum.thodi@huawei.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20200403101827.30664-4-shameerali.kolothum.thodi@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>",1,0.9996277093887328,ACPI,exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5ed195065cc6895f61b9d59bfa0a0536ed5ed51e,211a7784b9a80e42841223d8ea5252567ebe0e9e,Nicholas Piggin,2020-04-14,"target/ppc: Fix mtmsr(d) L=1 variant that loses interrupts\n\nIf mtmsr L=1 sets MSR[EE] while there is a maskable exception pending,\nit does not cause an interrupt. This causes the test case to hang:\n\nhttps://lists.gnu.org/archive/html/qemu-ppc/2019-10/msg00826.html\n\nMore recently, Linux reduced the occurance of operations (e.g., rfi)\nwhich stop translation and allow pending interrupts to be processed.\nThis started causing hangs in Linux boot in long-running kernel tests,\nrunning with '-d int' shows the decrementer stops firing despite DEC\nwrapping and MSR[EE]=1.\n\nhttps://lists.ozlabs.org/pipermail/linuxppc-dev/2020-April/208301.html\n\nThe cause is the broken mtmsr L=1 behaviour, which is contrary to the\narchitecture. From Power ISA v3.0B, p.977, Move To Machine State Register,\nProgramming Note states:\n\n    If MSR[EE]=0 and an External, Decrementer, or Performance Monitor\n    exception is pending, executing an mtmsrd instruction that sets\n    MSR[EE] to 1 will cause the interrupt to occur before the next\n    instruction is executed, if no higher priority exception exists\n\nFix this by handling L=1 exactly the same way as L=0, modulo the MSR\nbits altered.\n\nThe confusion arises from L=0 being ""context synchronizing"" whereas L=1\nis ""execution synchronizing"", which is a weaker semantic. However this\nis not a relaxation of the requirement that these exceptions cause\ninterrupts when MSR[EE]=1 (e.g., when mtmsr executes to completion as\nTCG is doing here), rather it specifies how a pipelined processor can\nhave multiple instructions in flight where one may influence how another\nbehaves.\n\nCc: qemu-stable@nongnu.org\nReported-by: Anton Blanchard <anton@ozlabs.org>\nReported-by: Nathan Chancellor <natechancellor@gmail.com>\nTested-by: Nathan Chancellor <natechancellor@gmail.com>\nSigned-off-by: Nicholas Piggin <npiggin@gmail.com>\nMessage-Id: <20200414111131.465560-1-npiggin@gmail.com>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nTested-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999728500843048,TCG,target/ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3119154db04890fdf57022a43cf2ee594fd4da5a,5b4273e462515ae2f14cb57954d99416ae1778d9,Philippe Mathieu-Daud,2020-04-17,"target/ppc: Fix TCG temporary leaks in gen_slbia()\n\nThis fixes:\n\n  $ qemu-system-ppc64 \\n  -machine pseries-4.1 -cpu power9 \\n  -smp 4 -m 12G -accel tcg ...\n  ...\n  Quiescing Open Firmware ...\n  Booting Linux via __start() @ 0x0000000002000000 ...\n  Opcode 1f 12 0f 00 (7ce003e4) leaked temporaries\n  Opcode 1f 12 0f 00 (7ce003e4) leaked temporaries\n  Opcode 1f 12 0f 00 (7ce003e4) leaked temporaries\n\n[*] https://www.mail-archive.com/qemu-discuss@nongnu.org/msg05400.html\n\nFixes: 0418bf78fe8 (""Fix ISA v3.0 (POWER9) slbia implementation"")\nReported-by: Dennis Clarke <dclarke@blastwave.org>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Nicholas Piggin <npiggin@gmail.com>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nMessage-id: 20200417090749.14310-1-f4bug@amsat.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996838569641112,TCG,target/ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9904adfaca139581d6b03947a7e23c7e2cb64339,ee573f5326046223b6eef4ae7fbfec31d274e093,Cornelia Huck,2020-04-27,"virtio-net: fix rsc_ext compat handling\n\nvirtio_net_rsc_ext_num_{packets,dupacks} needs to be available\nindependently of the presence of VIRTIO_NET_HDR_F_RSC_INFO.\n\nFixes: 2974e916df87 (""virtio-net: support RSC v4/v6 tcp traffic for Windows HCK"")\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>\nMessage-Id: <20200427102415.10915-2-cohuck@redhat.com>",1,0.9997286200523376,"VIRTIO, VIRTIO_NET",hw/net/virtio-net.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c61d1d9e4976d127a73bec14376d8e828491f62c,843c4cfcf445fc3d6458ff31136c44e03dda8866,Markus Armbruster,2020-04-22,"xen/pt: Fix flawed conversion to realize()\n\nThe conversion of xen_pt_initfn() to xen_pt_realize() blindly replaced\nXEN_PT_ERR() by error_setg().  Several error conditions that did not\nfail xen_pt_initfn() now fail xen_pt_realize().  Unsurprisingly, the\ncleanup on these errors looks highly suspicious.\n\nRevert the inappropriate replacements.\n\nFixes: 5a11d0f7549e24a10e178a9dc8ff5e698031d9a6\nCc: Stefano Stabellini <sstabellini@kernel.org>\nCc: Anthony Perard <anthony.perard@citrix.com>\nCc: Paul Durrant <paul@xen.org>\nCc: xen-devel@lists.xenproject.org\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Paul Durrant <paul@xen.org>\nMessage-Id: <20200422130719.28225-10-armbru@redhat.com>",1,0.999686360359192,XEN,hw/xen/xen_pt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,32c82f0eaf9919cb0268d18d86a94bfd7ff5d1b2,0f1eddf5ed7e35d8d16dfa042ced1107c762cec4,Markus Armbruster,2020-04-22,"smbus: Fix spd_data_generate() for number of banks > 2\n\nspd_data_generate() splits @ram_size bytes into @nbanks RAM banks of\n1 << sz_log2 MiB each, like this:\n\n    size = ram_size >> 20; /* work in terms of megabytes */\n    [...]\n    nbanks = 1;\n    while (sz_log2 > max_log2 && nbanks < 8) {\n        sz_log2--;\n        nbanks++;\n    }\n\nEach iteration halves the size of a bank, and increments the number of\nbanks.  Wrong: it should double the number of banks.\n\nThe bug goes back all the way to commit b296b664ab ""smbus: Add a\nhelper to generate SPD EEPROM data"".\n\nIt can't bite because spd_data_generate()'s current users pass only\n@ram_size that result in *zero* iterations:\n\n    machine     RAM size    #banks  type    bank size\n    fulong2e     256 MiB         1   DDR      256 MiB\n    sam460ex    2048 MiB         1   DDR2    2048 MiB\n                1024 MiB         1   DDR2    1024 MiB\n                 512 MiB         1   DDR2     512 MiB\n                 256 MiB         1   DDR2     256 MiB\n                 128 MiB         1   SDR      128 MiB\n                  64 MiB         1   SDR       64 MiB\n                  32 MiB         1   SDR       32 MiB\n\nApply the obvious, minimal fix.  I admit I'm tempted to rip out the\nunused (and obviously untested) feature instead, because YAGNI.\n\nNote that this is not the final result, as spd_data_generate() next\nincreases #banks from 1 to 2 if possible.  This is done ""to avoid a\nbug in MIPS Malta firmware"".  We don't even use this function with\nmachine type malta.  *Shrug*\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nMessage-Id: <20200422134815.1584-5-armbru@redhat.com>",1,0.999686360359192,MIPS,hw/i2c/smbus_eeprom.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fbc1384ccd48fa7c0c38f950adf7992a4fb6042e,e8d12a55f6d3e577455b02f15907c460578c689b,Christian Borntraeger,2020-04-06,"s390x/s390-virtio-ccw: Fix build on systems without KVM\n\nlinux/kvm.h is not available on all platforms. Let us move\ns390_machine_inject_pv_error into pv.c as it uses KVM structures.\nAlso rename the function to s390_pv_inject_reset_error.\n\nWhile at it, ipl.h needs an include for ""exec/address-spaces.h""\nas it uses address_space_memory.\n\nFixes: c3347ed0d2ee (""s390x: protvirt: Support unpack facility"")\nReported-by: Bruce Rogers <brogers@suse.com>\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nMessage-Id: <20200406100158.5940-2-borntraeger@de.ibm.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.998358428478241,KVM,"hw/s390x/ipl.h, hw/s390x/pv.c, hw/s390x/s390-virtio-ccw.c, include/hw/s390x/pv.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1e11a139bfed55cb2de7b2eaa1e53f3cf6180d13,c8aeef3aed6beef14175f9c6744b2ea30fc309d9,Keqian Zhu,2020-04-13,"bugfix: Use gicr_typer in arm_gicv3_icc_reset\n\nThe KVM_VGIC_ATTR macro expect the second parameter as gicr_typer,\nof which high 32bit is constructed by mp_affinity. For most case,\nthe high 32bit of mp_affinity is zero, so it will always access the\nICC_CTLR_EL1 of CPU0.\n\nSigned-off-by: Keqian Zhu <zhukeqian1@huawei.com>\nMessage-id: 20200413091552.62748-2-zhukeqian1@huawei.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996641874313354,KVM,hw/intc/arm_gicv3_kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ab553ef74ee52c0889679d0bd0da084aaf938f5c,2ef486e76d64436be90f7359a3071fb2a56ce835,Fredrik Strupe,2020-04-08,"target/arm: Make VQDMULL undefined when U=1\n\nAccording to Arm ARM, VQDMULL is only valid when U=0, while having\nU=1 is unallocated.\n\nSigned-off-by: Fredrik Strupe <fredrik@strupe.net>\nFixes: 695272dcb976 (""target-arm: Handle UNDEF cases for Neon 3-regs-different-widths"")\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999427318572998,ARM,target/arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e544f80030121040c8932ff1bd4006f390266c0f,5a89dd2385a193aa954a7c9bf4e381f2ba6ae359,Philippe Mathieu-Daud,2020-04-28,"target/arm: Use uint64_t for midr field in CPU state struct\n\nMIDR_EL1 is a 64-bit system register with the top 32-bit being RES0.\nRepresent it in QEMU's ARMCPU struct with a uint64_t, not a\nuint32_t.\n\nThis fixes an error when compiling with -Werror=conversion\nbecause we were manipulating the register value using a\nlocal uint64_t variable:\n\n  target/arm/cpu64.c: In function aarch64_max_initfn:\n  target/arm/cpu64.c:628:21: error: conversion from uint64_t {aka long unsigned int} to uint32_t {aka unsigned int} may change value [-Werror=conversion]\n    628 |         cpu->midr = t;\n        |                     ^\n\nand future-proofs us against a possible future architecture\nchange using some of the top 32 bits.\n\nSuggested-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nSuggested-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Laurent Desnogues <laurent.desnogues@gmail.com>\nMessage-id: 20200428172634.29707-1-f4bug@amsat.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9991490840911864,ARM,"target/arm/cpu.c, target/arm/cpu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,71b0269ae9a80cfd28c3b5946748b92ac8821334,e3a99063af7bc78e51c19cb007acb646d381a9c7,Shameer Kolothum,2020-04-21,"hw/acpi/nvdimm: Fix for NVDIMM incorrect DSM output buffer length\n\nAs per ACPI spec 6.3, Table 19-419 Object Conversion Rules, if\nthe Buffer Field <= to the size of an Integer (in bits), it will\nbe treated as an integer. Moreover, the integer size depends on\nDSDT tables revision number. If revision number is < 2, integer\nsize is 32 bits, otherwise it is 64 bits. Current NVDIMM common\nDSM aml code (NCAL) uses CreateField() for creating DSM output\nbuffer. This creates an issue in arm/virt platform where DSDT\nrevision number is 2 and results in DSM buffer with a wrong\nsize(8 bytes) gets returned when actual length is < 8 bytes.\nThis causes guest kernel to report,\n\n""nfit ACPI0012:00: found a zero length table '0' parsing nfit""\n\nIn order to fix this, aml code is now modified such that it builds\nthe DSM output buffer in a byte by byte fashion when length is\nsmaller than Integer size.\n\nSuggested-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Shameer Kolothum <shameerali.kolothum.thodi@huawei.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20200421125934.14952-2-shameerali.kolothum.thodi@huawei.com>\nAcked-by: Peter Maydell <peter.maydell@linaro.org>\nTested-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997259974479676,"ACPI, DIMM, NVDIMM","hw/acpi/nvdimm.c, tests/qtest/bios-tables-test-allowed-diff.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d92baf00aad9bba521c2b3cb23fe388c2067aaa0,05af7c77f5f24ef2bec25f2cab22170c29edaf37,Cdric Le Goater,2020-04-03,target/ppc: Introduce ppc_radix64_xlate() for Radix tree translation\n\nThis is moving code under a new ppc_radix64_xlate() routine shared by\nthe MMU Radix page fault handler and the 'get_phys_page_debug' PPC\ncallback. The difference being that 'get_phys_page_debug' does not\ngenerate exceptions.\n\nThe specific part of process-scoped Radix translation is moved under\nppc_radix64_process_scoped_xlate() in preparation of the future support\nfor partition-scoped Radix translation. Routines raising the exceptions\nnow take a 'cause_excp' bool to cover the 'get_phys_page_debug' case.\n\nIt should be functionally equivalent.\n\nSigned-off-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20200403140056.59465-2-clg@kaod.org>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.909338116645813,PPC,target/ppc/mmu-radix64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,70fc9cb0920fce3c2c0a090e69bf06d39f4b2362,d04ea940c597201a6610c5d1712809ed35dd77ec,Daniel Henrique Barboza,2020-04-13,"spapr_nvdimm.c: make 'label-size' mandatory\n\nThe pseries machine does not support NVDIMM modules without label.\nAttempting to do so, even if the overall block size is aligned with\n256MB, will seg fault the guest kernel during NVDIMM probe. This\ncan be avoided by forcing 'label-size' to always be present for\nsPAPR NVDIMMs.\n\nThe verification was put before the alignment check because the\npresence of label-size affects the alignment calculation, so\nit's not optimal to warn the user about an alignment error,\nthen about the lack of label-size, then about a new alignment\nerror when the user sets a label-size.\n\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20200413203628.31636-1-danielhb413@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9995937943458556,"DIMM, NVDIMM",hw/ppc/spapr_nvdimm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6c0f0cb319bd9f906d461a2e12a2b5d1eb588fa2,70fc9cb0920fce3c2c0a090e69bf06d39f4b2362,David Gibson,2020-04-24,"spapr_nvdimm: Tweak error messages\n\nThe restrictions here (which are checked at pre-plug time) are PAPR\nspecific, rather than being inherent to the NVDIMM devices.  Adjust the\nerror messages to be clearer about this.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996132254600524,"DIMM, NVDIMM",hw/ppc/spapr_nvdimm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c4f6a4a3dd5f2aa15329b8158de25f50b5ba3252,6c0f0cb319bd9f906d461a2e12a2b5d1eb588fa2,Daniele Buono,2020-05-05,"target-ppc: fix rlwimi, rlwinm, rlwnm for Clang-9\n\nStarting with Clang v9, -Wtype-limits is implemented and triggers a\nfew ""result of comparison is always true"" errors when compiling PPC32\ntargets.\n\nThe comparisons seem to be necessary only on PPC64, since the\nelse branch in PPC32 only has a ""g_assert_not_reached();"" in all cases.\n\nThis patch restructures the code so that the actual if/else is done on a\nlocal flag variable, that is set accordingly for PPC64, and always\ntrue for PPC32.\n\nSigned-off-by: Daniele Buono <dbuono@linux.vnet.ibm.com>\nMessage-Id: <20200505183818.32688-2-dbuono@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9995996356010436,"PPC, PPC64",target/ppc/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,205cc75deec196bb3266a0dac407a195a646b5fc,aa16508f1d1bce2411fdbe82aa20e559bbd90e48,Dongjiu Geng,2020-05-12,"ACPI: Build Hardware Error Source Table\n\nThis patch builds Hardware Error Source Table(HEST) via fw_cfg blobs.\nNow it only supports ARMv8 SEA, a type of Generic Hardware Error\nSource version 2(GHESv2) error source. Afterwards, we can extend\nthe supported types if needed. For the CPER section, currently it\nis memory section because kernel mainly wants userspace to handle\nthe memory errors.\n\nThis patch follows the spec ACPI 6.2 to build the Hardware Error\nSource table. For more detailed information, please refer to\ndocument: docs/specs/acpi_hest_ghes.rst\n\nbuild_ghes_hw_error_notification() helper will help to add Hardware\nError Notification to ACPI tables without using packed C structures\nand avoid endianness issues as API doesn't need explicit conversion.\n\nSigned-off-by: Xiang Zheng <zhengxiang9@huawei.com>\nSigned-off-by: Dongjiu Geng <gengdongjiu@huawei.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-id: 20200512030609.19593-6-gengdongjiu@huawei.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9989522695541382,"ACPI, ARM","hw/acpi/ghes.c, hw/arm/virt-acpi-build.c, include/hw/acpi/ghes.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a08a64627b6b5874f3dbf202fb08563e7a74b1ea,205cc75deec196bb3266a0dac407a195a646b5fc,Dongjiu Geng,2020-05-12,"ACPI: Record the Generic Error Status Block address\n\nRecord the GHEB address via fw_cfg file, when recording\na error to CPER, it will use this address to find out\nGeneric Error Data Entries and write the error.\n\nIn order to avoid migration failure, make hardware\nerror table address to a part of GED device instead\nof global variable, then this address will be migrated\nto target QEMU.\n\nAcked-by: Xiang Zheng <zhengxiang9@huawei.com>\nSigned-off-by: Dongjiu Geng <gengdongjiu@huawei.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-id: 20200512030609.19593-7-gengdongjiu@huawei.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996521472930908,ACPI,"hw/acpi/generic_event_device.c, hw/acpi/ghes.c, hw/arm/virt-acpi-build.c, include/hw/acpi/generic_event_device.h, include/hw/acpi/ghes.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,558b9d86407d56e13d8a2cd61cdecf0359e7804a,6b552b9bc8421c48e91c9a40ce5dccf78020c339,Dongjiu Geng,2020-05-12,"ACPI: Record Generic Error Status Block(GESB) table\n\nkvm_arch_on_sigbus_vcpu() error injection uses source_id as\nindex in etc/hardware_errors to find out Error Status Data\nBlock entry corresponding to error source. So supported source_id\nvalues should be assigned here and not be changed afterwards to\nmake sure that guest will write error into expected Error Status\nData Block.\n\nBefore QEMU writes a new error to ACPI table, it will check whether\nprevious error has been acknowledged. If not acknowledged, the new\nerrors will be ignored and not be recorded. For the errors section\ntype, QEMU simulate it to memory section error.\n\nSigned-off-by: Dongjiu Geng <gengdongjiu@huawei.com>\nSigned-off-by: Xiang Zheng <zhengxiang9@huawei.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-id: 20200512030609.19593-9-gengdongjiu@huawei.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999704897403717,ACPI,"hw/acpi/ghes.c, include/hw/acpi/ghes.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3986a1721e10aebe0dc2c17f262ebf067e7414df,ab546bd23856866411ff1b2ffaedabdc360e69df,Peter Maydell,2020-04-20,"linux-user/arm: Fix identification of syscall numbers\n\nOur code to identify syscall numbers has some issues:\n * for Thumb mode, we never need the immediate value from the insn,\n   but we always read it anyway\n * bad immediate values in the svc insn should cause a SIGILL, but we\n   were abort()ing instead (via ""goto error"")\n\nWe can fix both these things by refactoring the code that identifies\nthe syscall number to more closely follow the kernel COMPAT_OABI code:\n * for Thumb it is always r7\n * for Arm, if the immediate value is 0, then this is an EABI call\n   with the syscall number in r7\n * otherwise, we XOR the immediate value with 0x900000\n   (ARM_SYSCALL_BASE for QEMU; __NR_OABI_SYSCALL_BASE in the kernel),\n   which converts valid syscall immediates into the desired value,\n   and puts all invalid immediates in the range 0x100000 or above\n * then we can just let the existing ""value too large, deliver\n   SIGILL"" case handle invalid numbers, and drop the 'goto error'\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nMessage-id: 20200420212206.12776-5-peter.maydell@linaro.org",1,0.9996658563613892,ARM,linux-user/arm/cpu_loop.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,becce5e90ace3f4d16ff31f12835bf416ba702a7,aa0fd16d00efd56acdf7def10f769615038e2375,Philippe Mathieu-Daud,2020-05-26,"hw/display/vmware_vga: Let the PCI device own its I/O MemoryRegion\n\nTo avoid the orphan I/O memory region being added in the /unattached\nQOM container, register the PCI device as its owner.\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20200526062252.19852-12-f4bug@amsat.org\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9951901435852052,PCI,hw/display/vmware_vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a98610c429d52db0937c1e48659428929835c455,66234fee9c2d37bfbc523aa8d0ae5300a14cc10e,Prasad J Pandit,2020-06-04,"ati-vga: check mm_index before recursive call (CVE-2020-13800)\n\nWhile accessing VGA registers via ati_mm_read/write routines,\na guest may set 's->regs.mm_index' such that it leads to infinite\nrecursion. Check mm_index value to avoid such recursion. Log an\nerror message for wrong values.\n\nReported-by: Ren Ding <rding@gatech.edu>\nReported-by: Hanqing Zhao <hanqing@gatech.edu>\nReported-by: Yi Ren <c4tren@gmail.com>\nMessage-id: 20200604090830.33885-1-ppandit@redhat.com\nSuggested-by: BALATON Zoltan <balaton@eik.bme.hu>\nSuggested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Prasad J Pandit <pjp@fedoraproject.org>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999503254890442,VGA,hw/display/ati.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9a4325976264e2fac9a77cfabd774bd725c07027,f555638c0ef9e9eb47677879fff7ca6f4b04df66,Janosch Frank,2020-05-05,s390x: pv: Fix KVM_PV_PREP_RESET command wrapper name\n\ns390_pv_perf_clear_reset() is not a very helpful name since that\nfunction needs to be called for a normal and a clear reset via\ndiag308.\n\nLet's instead name it s390_pv_prep_reset() which reflects the purpose\nof the function a bit better.\n\nSigned-off-by: Janosch Frank <frankja@linux.ibm.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20200505124159.24099-1-frankja@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>,1,0.9996935129165648,"KVM, PREP","hw/s390x/pv.c, hw/s390x/s390-virtio-ccw.c, include/hw/s390x/pv.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3f5b312a3f9faf2e20a700be70d921e26220a0fe,3d46938bbbd7cea47ab9b994c0438aea3d10d98f,Paul Zimmerman,2020-05-20,"dwc-hsotg (dwc2) USB host controller register definitions\n\nImport the dwc-hsotg (dwc2) register definitions file from the\nLinux kernel. This is a copy of drivers/usb/dwc2/hw.h from the\nmainline Linux kernel, the only changes being to the header, and\ntwo instances of 'u32' changed to 'uint32_t' to allow it to\ncompile. Checkpatch throws a boatload of errors due to the tab\nindentation, but I would rather import it as-is than reformat it.\n\nSigned-off-by: Paul Zimmerman <pauldzim@gmail.com>\nMessage-id: 20200520235349.21215-3-pauldzim@gmail.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9978538155555724,USB,include/hw/usb/dwc2-regs.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7ad3d51ebb8a522ffcad391c4bef281245739dde,153ef1662c35ba3d3bbcedefe8dc24cfa4e8c33d,Paul Zimmerman,2020-05-20,"usb: add short-packet handling to usb-storage driver\n\nThe dwc-hsotg (dwc2) USB host depends on a short packet to\nindicate the end of an IN transfer. The usb-storage driver\ncurrently doesn't provide this, so fix it.\n\nI have tested this change rather extensively using a PC\nemulation with xhci, ehci, and uhci controllers, and have\nnot observed any regressions.\n\nSigned-off-by: Paul Zimmerman <pauldzim@gmail.com>\nMessage-id: 20200520235349.21215-6-pauldzim@gmail.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999537229537964,USB,hw/usb/dev-storage.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5c3e87f345ac93de9260f12c408d2afd87a6ab3b,ad592e37dfccf730378a44c5fa79acb603a7678d,Alex Benne,2020-06-05,linux-user: deal with address wrap for ARM_COMMPAGE on 32 bit\n\nWe rely on the pointer to wrap when accessing the high address of the\nCOMMPAGE so it lands somewhere reasonable. However on 32 bit hosts we\ncannot afford just to map the entire 4gb address range. The old mmap\ntrial and error code handled this by just checking we could map both\nthe guest_base and the computed COMMPAGE address.\n\nWe can't just manipulate loadaddr to get what we want so we introduce\nan offset which pgb_find_hole can apply when looking for a gap for\nguest_base that ensures there is space left to map the COMMPAGE\nafterwards.\n\nThis is arguably a little inefficient for the one 32 bit\nvalue (kuser_helper_version) we need to keep there given all the\nactual code entries are picked up during the translation phase.\n\nFixes: ee94743034b\nBug: https://bugs.launchpad.net/qemu/+bug/1880225\nCc: Bug 1880225 <1880225@bugs.launchpad.net>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nTested-by: Aleksandar Markovic <aleksandar.qemu.devel@gmail.com>\nCc: Richard Henderson <richard.henderson@linaro.org>\nCc: Peter Maydell <peter.maydell@linaro.org>\nMessage-Id: <20200605154929.26910-13-alex.bennee@linaro.org>,1,0.999036431312561,ARM,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1a5a5570889df9cdd42dd85223e03a5f35025a86,bb15013ef34617eb1344f5276292cadd326c21b2,Philippe Mathieu-Daud,2020-03-31,"hw/misc/grlib_ahb_apb_pnp: Fix AHB PnP 8-bit accesses\n\nThe Plug & Play region of the AHB/APB bridge can be accessed\nby various word size, however the implementation is clearly\nrestricted to 32-bit:\n\n  static uint64_t grlib_ahb_pnp_read(void *opaque, hwaddr offset, unsigned size)\n  {\n      AHBPnp *ahb_pnp = GRLIB_AHB_PNP(opaque);\n\n      return ahb_pnp->regs[offset >> 2];\n  }\n\nSimilarly to commit 0fbe394a64 with the APB PnP registers,\nset the MemoryRegionOps::impl min/max fields to 32-bit, so\nmemory.c::access_with_adjusted_size() can adjust when the\naccess is not 32-bit.\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: KONRAD Frederic <frederic.konrad@adacore.com>\nMessage-Id: <20200331105048.27989-4-f4bug@amsat.org>",1,0.9997087121009828,GRLIB,hw/misc/grlib_ahb_apb_pnp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,191f90cbea08122b48107f1f9116106fbf3bdfac,49ee11555262a256afec592dfed7c5902d5eefd2,Michael S. Tsirkin,2020-05-14,"msix: allow qword MSI-X table accesses\n\nPCI spec says:\n\nFor all accesses to MSI-X Table and MSI-X PBA fields, software must use\naligned full DWORD or aligned full QWORD transactions; otherwise, the\nresult is undefined.\n\nHowever, since MSI-X was converted to use memory API, QEMU\nstarted blocking qword transactions, only allowing DWORD\nones. Guests do not seem to use QWORD accesses, but let's\nbe spec compliant.\n\nFixes: 95524ae8dc8f (""msix: convert to memory API"")\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>",1,0.9991652965545654,PCI,hw/pci/msix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c7504b9f32f2ee6ddcb2b0d69219046b3fa48c2d,6d6d1a23fc2ed42ab6ac76e289000474def8ff0c,Eric Auger,2020-06-09,"tests: tpm-emu: Remove assert on TPM2_ST_NO_SESSIONS\n\nbios-tables-test executes SeaBIOS. Indeed FW is needed to\nfetch tables from QEMU and put them into the guest RAM. Also\nthe FW patches cross table pointers. At some point, SeaBIOS\nends up calling the TPM2_CC_HierarchyControl command with\nTPM2_ST_SESSIONS tag, most probably steming from\ntpm_set_failure/tpm20_hierarchycontrol SeaBIOS call path.\nThis causes an assert() in the qtest tpm emulation code.\n\nAs the goal here is not to boot SeaBIOS completely but just\nlet it grab the ACPI tables and consolidate them, let's just\nremove the assert().\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\n\nMessage-Id: <20200609125409.24179-4-eric.auger@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.8309017419815063,"ACPI, SSI, TPM",tests/qtest/tpm-emu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,12fc8903a8ee09fb5f642de82699a0b211e1b5a7,cae98d8c86b7c76eae1c389ff7b9bd98143f656d,David Hildenbrand,2020-05-20,"virtio-balloon: fix free page hinting without an iothread\n\nIn case we don't have an iothread, we mark the feature as abscent but\nstill add the queue. 'free_page_bh' remains set to NULL.\n\nqemu-system-i386 \\n        -M microvm \\n        -nographic \\n        -device virtio-balloon-device,free-page-hint=true \\n        -nographic \\n        -display none \\n        -monitor none \\n        -serial none \\n        -qtest stdio\n\nDoing a ""write 0xc0000e30 0x24\n0x030000000300000003000000030000000300000003000000030000000300000003000000""\n\nWe will trigger a SEGFAULT. Let's move the check and bail out.\n\nWhile at it, move the static initializations to instance_init().\nfree_page_report_status and block_iothread are implicitly set to the\nright values (0/false) already, so drop the initialization.\n\nReviewed-by: Alexander Duyck <alexander.h.duyck@linux.intel.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nFixes: c13c4153f76d (""virtio-balloon: VIRTIO_BALLOON_F_FREE_PAGE_HINT"")\nReported-by: Alexander Bulekov <alxndr@bu.edu>\nCc: qemu-stable@nongnu.org\nCc: Wei Wang <wei.w.wang@intel.com>\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Philippe Mathieu-Daud <philmd@redhat.com>\nCc: Alexander Duyck <alexander.duyck@gmail.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20200520100439.19872-2-david@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997250437736512,"VIRTIO, VIRTIO_BALLOON",hw/virtio/virtio-balloon.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,49b01711b8eb3796c6904c7f85d2431572cfe54f,12fc8903a8ee09fb5f642de82699a0b211e1b5a7,David Hildenbrand,2020-05-20,"virtio-balloon: fix free page hinting check on unrealize\n\nChecking against guest features is wrong. We allocated data structures\nbased on host features. We can rely on ""free_page_bh"" as an indicator\nwhether to un-do stuff instead.\n\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Alexander Duyck <alexander.h.duyck@linux.intel.com>\nFixes: c13c4153f76d (""virtio-balloon: VIRTIO_BALLOON_F_FREE_PAGE_HINT"")\nCc: qemu-stable@nongnu.org\nCc: Wei Wang <wei.w.wang@intel.com>\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Philippe Mathieu-Daud <philmd@redhat.com>\nCc: Alexander Duyck <alexander.duyck@gmail.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20200520100439.19872-3-david@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997027516365052,"VIRTIO, VIRTIO_BALLOON",hw/virtio/virtio-balloon.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,105aef9c9479786d27c1c45c9b0b1fa03dc46be3,49b01711b8eb3796c6904c7f85d2431572cfe54f,David Hildenbrand,2020-05-20,"virtio-balloon: unref the iothread when unrealizing\n\nWe took a reference when realizing, so let's drop that reference when\nunrealizing.\n\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Alexander Duyck <alexander.h.duyck@linux.intel.com>\nFixes: c13c4153f76d (""virtio-balloon: VIRTIO_BALLOON_F_FREE_PAGE_HINT"")\nCc: qemu-stable@nongnu.org\nCc: Wei Wang <wei.w.wang@intel.com>\nCc: Alexander Duyck <alexander.duyck@gmail.com>\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20200520100439.19872-4-david@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9993232488632202,"VIRTIO, VIRTIO_BALLOON",hw/virtio/virtio-balloon.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b963ea19f896e34e21275ff69fa4565948f703c8,91b867191ddf73c64f51ca2ddb489b922ed4058e,Thomas Huth,2020-06-07,"MAINTAINERS: Fix the classification of bios-tables-test-allowed-diff.h\n\nThe file tests/qtest/bios-tables-test-allowed-diff.h is currently only\nassigned to the qtest section according MAINTAINERS. However, this file\nnormally only gets updated when the ACPI tables changed - something the\nqtest maintainers don't have much clue of. Thus this file should rather\nbe assigned to the ACPI maintainers instead.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20200607052022.12222-1-thuth@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9988890290260316,ACPI,MAINTAINERS,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,643a4eacef87a318cf71800a4fb2ae1f78c4b245,ee7932b0bba2062a0fad1e70d576ef13c4906c83,Thomas Huth,2020-06-11,"hw/vfio/pci-quirks: Fix broken legacy IGD passthrough\n\nThe #ifdef CONFIG_VFIO_IGD in pci-quirks.c is not working since the\nrequired header config-devices.h is not included, so that the legacy\nIGD passthrough is currently broken. Let's include the right header\nto fix this issue.\n\nBuglink: https://bugs.launchpad.net/qemu/+bug/1882784\nFixes: 29d62771c81d (""hw/vfio: Move the IGD quirk code to a separate file"")\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9997192025184632,"VFIO, VFIO_IGD",hw/vfio/pci-quirks.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,00823980b296c80a3ff7b448df20c48897cd62e9,a9a5c473d25d83bcdad27d97e5fb451950ee894a,Thomas Huth,2020-05-27,"hw/pci: Fix crash when running QEMU with ""-nic model=rocker""\n\nQEMU currently aborts when being started with ""-nic model=rocker"" or with\n""-net nic,model=rocker"". This happens because the ""rocker"" device is not\na normal NIC but a switch, which has different properties. Thus we should\nonly consider real NIC devices for ""-nic"" and ""-net"". These devices can\nbe identified by the ""netdev"" property, so check for this property before\nadding the device to the list.\n\nReported-by: Michael Tokarev <mjt@tls.msk.ru>\nFixes: 52310c3fa7dc854d (""net: allow using any PCI NICs in -net or -nic"")\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20200527153152.9211-1-thuth@redhat.com>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996993541717528,PCI,hw/pci/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,acd0c9416d4846afc541605ee0e75ca163773e6c,e77cb0bb204c18c04a8290e03181510bbbfc683a,Anthony PERARD,2020-06-03,"xen: fix build without pci passthrough\n\nXen PCI passthrough support may not be available and thus the global\nvariable ""has_igd_gfx_passthru"" might be compiled out. Common code\nshould not access it in that case.\n\nUnfortunately, we can't use CONFIG_XEN_PCI_PASSTHROUGH directly in\nxen-common.c so this patch instead move access to the\nhas_igd_gfx_passthru variable via function and those functions are\nalso implemented as stubs. The stubs will be used when QEMU is built\nwithout passthrough support.\n\nNow, when one will want to enable igd-passthru via the -machine\nproperty, they will get an error message if QEMU is built without\npassthrough support.\n\nFixes: 46472d82322d0 ('xen: convert ""-machine igd-passthru"" to an accelerator property')\nReported-by: Roger Pau Monn <roger.pau@citrix.com>\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>\nMessage-Id: <20200603160442.3151170-1-anthony.perard@citrix.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996347427368164,"PCI, XEN","accel/xen/xen-all.c, hw/Makefile.objs, hw/i386/pc_piix.c, hw/xen/Makefile.objs, hw/xen/xen_pt.c, hw/xen/xen_pt.h, hw/xen/xen_pt_stub.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,421522eb534d82040bc8e405ed3a28d94d17f24e,cf504cd67b26ded2e25eb8f33b5ebec031b31def,David Gibson,2020-06-04,"target/i386: sev: Unify SEVState and SevGuestState\n\nSEVState is contained with SevGuestState.  We've now fixed redundancies\nand name conflicts, so there's no real point to the nested structure.  Just\nmove all the fields of SEVState into SevGuestState.\n\nThis eliminates the SEVState structure, which as a bonus removes the\nconfusion with the SevState enum.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20200604064219.436242-10-david@gibson.dropbear.id.au>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9994993209838868,SEV,target/i386/sev.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,55b9757c7e58092068d6788114b9e347406ed7f9,7d3660e79830a069f1848bb4fa1cdf8f666424fb,Eric Auger,2020-06-15,"bios-tables-test: Fix ""-tpmdev: invalid option""\n\nWhen configure is run with ""--disable-tpm"", the bios-tables-test\nq35/tis test fails with ""-tpmdev: invalid option"".\n\nSkip the test if CONFIG_TPM is unset.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReported-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20200615135051.2213-1-eric.auger@redhat.com>\nTested-by: Stefan Berger <stefanb@linux.ibm.com>\nFixes: 5da7c35e25 (""bios-tables-test: Add Q35/TPM-TIS test"")\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nTested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9996956586837769,"Q35, TPM",tests/qtest/bios-tables-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6b888ee28c8801b346eb41655b36207a28ce146b,210d18674a34bb43bd05cdd68d24fd03e161ff3d,Markus Armbruster,2020-06-09,"auxbus: Fix aux-to-i2c-bridge to be a subtype of aux-slave\n\nWe plug aux-to-i2c-bridge into the aux-bus, even though its\nDeviceClass member bus_type is null, not TYPE_AUX_BUS.  Fix that by\nderiving it from TYPE_AUX_SLAVE instead of TYPE_DEVICE.\n\nCc: KONRAD Frederic <fred.konrad@greensocs.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20200609122339.937862-8-armbru@redhat.com>",1,0.9996496438980104,AUX,hw/misc/auxbus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9593a3988c3e788790aa107d778386b09f456a6d,53550e81e2cafe7c03a39526b95cd21b5194d9b1,Peter Maydell,2020-06-16,"target/arm: Fix missing temp frees in do_vshll_2sh\n\nThe widenfn() in do_vshll_2sh() does not free the input 32-bit\nTCGv, so we need to do this in the calling code.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9995641112327576,TCG,target/arm/translate-neon.inc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3b2d81766fd9c957a9fcfe997ff3d692e9981c98,8095508a9d8af3d83365becf45ef2a58ba3d488a,Guenter Roeck,2020-06-16,sd: sdhci: Implement basic vendor specific register support\n\nThe Linux kernel's IMX code now uses vendor specific commands.\nThis results in endless warnings when booting the Linux kernel.\n\nsdhci-esdhc-imx 2194000.usdhc: esdhc_wait_for_card_clock_gate_off:\n	card clock still not gate off in 100us!.\n\nImplement support for the vendor specific command implemented in IMX hardware\nto be able to avoid this warning.\n\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nTested-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Guenter Roeck <linux@roeck-us.net>\nMessage-id: 20200603145258.195920-2-linux@roeck-us.net\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.98752361536026,IMX,"hw/sd/sdhci-internal.h, hw/sd/sdhci.c, include/hw/sd/sdhci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fda43b1204aecd1db158b3255c591d227fbdd629,bdadbb0f74305d1509805936bf9b1ac14eab30e4,Philippe Mathieu-Daud,2020-05-25,"hw/net/e1000e: Do not abort() on invalid PSRCTL register value\n\nlibFuzzer found using 'qemu-system-i386 -M q35':\n\nqemu: hardware error: e1000e: PSRCTL.BSIZE0 cannot be zero\nCPU #0:\nEAX=00000000 EBX=00000000 ECX=00000000 EDX=00000663\nESI=00000000 EDI=00000000 EBP=00000000 ESP=00000000\nEIP=0000fff0 EFL=00000002 [-------] CPL=0 II=0 A20=1 SMM=0 HLT=0\nES =0000 00000000 0000ffff 00009300\nCS =f000 ffff0000 0000ffff 00009b00\nSS =0000 00000000 0000ffff 00009300\nDS =0000 00000000 0000ffff 00009300\nFS =0000 00000000 0000ffff 00009300\nGS =0000 00000000 0000ffff 00009300\nLDT=0000 00000000 0000ffff 00008200\nTR =0000 00000000 0000ffff 00008b00\nGDT=     00000000 0000ffff\nIDT=     00000000 0000ffff\nCR0=60000010 CR2=00000000 CR3=00000000 CR4=00000000\nDR0=00000000 DR1=00000000 DR2=00000000 DR3=00000000\nDR6=ffff0ff0 DR7=00000400\nEFER=0000000000000000\nFCW=037f FSW=0000 [ST=0] FTW=00 MXCSR=00001f80\nFPR0=0000000000000000 0000 FPR1=0000000000000000 0000\nFPR2=0000000000000000 0000 FPR3=0000000000000000 0000\nFPR4=0000000000000000 0000 FPR5=0000000000000000 0000\nFPR6=0000000000000000 0000 FPR7=0000000000000000 0000\nXMM00=00000000000000000000000000000000 XMM01=00000000000000000000000000000000\nXMM02=00000000000000000000000000000000 XMM03=00000000000000000000000000000000\nXMM04=00000000000000000000000000000000 XMM05=00000000000000000000000000000000\nXMM06=00000000000000000000000000000000 XMM07=00000000000000000000000000000000\n==1988== ERROR: libFuzzer: deadly signal\n    #6 0x7fae4d3ea894 in __GI_abort (/lib64/libc.so.6+0x22894)\n    #7 0x563f4cc59a1d in hw_error (qemu-fuzz-i386+0xe8ca1d)\n    #8 0x563f4d7c93f2 in e1000e_set_psrctl (qemu-fuzz-i386+0x19fc3f2)\n    #9 0x563f4d7b798f in e1000e_core_write (qemu-fuzz-i386+0x19ea98f)\n    #10 0x563f4d7afc46 in e1000e_mmio_write (qemu-fuzz-i386+0x19e2c46)\n    #11 0x563f4cc9a0a7 in memory_region_write_accessor (qemu-fuzz-i386+0xecd0a7)\n    #12 0x563f4cc99c13 in access_with_adjusted_size (qemu-fuzz-i386+0xeccc13)\n    #13 0x563f4cc987b4 in memory_region_dispatch_write (qemu-fuzz-i386+0xecb7b4)\n\nIt simply sent the following 2 I/O command to the e1000e\nPCI BAR #2 I/O region:\n\n  writew 0x0100 0x0c00 # RCTL =   E1000_RCTL_DTYP_MASK\n  writeb 0x2170 0x00   # PSRCTL = 0\n\n2813 static void\n2814 e1000e_set_psrctl(E1000ECore *core, int index, uint32_t val)\n2815 {\n2816     if (core->mac[RCTL] & E1000_RCTL_DTYP_MASK) {\n2817\n2818         if ((val & E1000_PSRCTL_BSIZE0_MASK) == 0) {\n2819             hw_error(""e1000e: PSRCTL.BSIZE0 cannot be zero"");\n2820         }\n\nInstead of calling hw_error() which abort the process (it is\nmeant for CPU fatal error condition, not for device logging),\nlog the invalid request with qemu_log_mask(LOG_GUEST_ERROR)\nand return, ignoring the request.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Jason Wang <jasowang@redhat.com>",1,0.9995750784873962,"ESP, PCI",hw/net/e1000e_core.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,586803455b3fa44d949ecd42cd9c87e5a6287aef,bc81e6e56eeea88bb1e3b6105c80850ffb58841c,Allan Peramaki,2020-06-18,"hw/audio/gus: Fix registers 32-bit access\n\nFix audio on software that accesses DRAM above 64k via register\npeek/poke and some cases when more than 16 voices are used.\n\nCc: qemu-stable@nongnu.org\nFixes: 135f5ae1974c (""audio: GUSsample is int16_t"")\nSigned-off-by: Allan Peramaki <aperamak@pp1.inet.fi>\nTested-by: Volker Rmelin <vr_qemu@t-online.de>\nReviewed-by: Volker Rmelin <vr_qemu@t-online.de>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20200618103623.6031-1-philmd@redhat.com\nMessage-Id: <20200615201757.16868-1-aperamak@pp1.inet.fi>\n[PMD: Removed unrelated style changes]\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999715268611908,GUS,"hw/audio/gusemu_hal.c, hw/audio/gusemu_mixer.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7d20e6815bf5ab678a55673224340b39218be510,2e34818f08d28812e8efa319a4db36668348ac9b,Philippe Mathieu-Daud,2020-06-23,"target/arm: Check supported KVM features globally (not per vCPU)\n\nSince commit d70c996df23f, when enabling the PMU we get:\n\n  $ qemu-system-aarch64 -cpu host,pmu=on -M virt,accel=kvm,gic-version=3\n  Segmentation fault (core dumped)\n\n  Thread 1 ""qemu-system-aar"" received signal SIGSEGV, Segmentation fault.\n  0x0000aaaaaae356d0 in kvm_ioctl (s=0x0, type=44547) at accel/kvm/kvm-all.c:2588\n  2588        ret = ioctl(s->fd, type, arg);\n  (gdb) bt\n  #0  0x0000aaaaaae356d0 in kvm_ioctl (s=0x0, type=44547) at accel/kvm/kvm-all.c:2588\n  #1  0x0000aaaaaae31568 in kvm_check_extension (s=0x0, extension=126) at accel/kvm/kvm-all.c:916\n  #2  0x0000aaaaaafce254 in kvm_arm_pmu_supported (cpu=0xaaaaac214ab0) at target/arm/kvm.c:213\n  #3  0x0000aaaaaafc0f94 in arm_set_pmu (obj=0xaaaaac214ab0, value=true, errp=0xffffffffe438) at target/arm/cpu.c:1111\n  #4  0x0000aaaaab5533ac in property_set_bool (obj=0xaaaaac214ab0, v=0xaaaaac223a80, name=0xaaaaac11a970 ""pmu"", opaque=0xaaaaac222730, errp=0xffffffffe438) at qom/object.c:2170\n  #5  0x0000aaaaab5512f0 in object_property_set (obj=0xaaaaac214ab0, v=0xaaaaac223a80, name=0xaaaaac11a970 ""pmu"", errp=0xffffffffe438) at qom/object.c:1328\n  #6  0x0000aaaaab551e10 in object_property_parse (obj=0xaaaaac214ab0, string=0xaaaaac11b4c0 ""on"", name=0xaaaaac11a970 ""pmu"", errp=0xffffffffe438) at qom/object.c:1561\n  #7  0x0000aaaaab54ee8c in object_apply_global_props (obj=0xaaaaac214ab0, props=0xaaaaac018e20, errp=0xaaaaabd6fd88 <error_fatal>) at qom/object.c:407\n  #8  0x0000aaaaab1dd5a4 in qdev_prop_set_globals (dev=0xaaaaac214ab0) at hw/core/qdev-properties.c:1218\n  #9  0x0000aaaaab1d9fac in device_post_init (obj=0xaaaaac214ab0) at hw/core/qdev.c:1050\n  ...\n  #15 0x0000aaaaab54f310 in object_initialize_with_type (obj=0xaaaaac214ab0, size=52208, type=0xaaaaabe237f0) at qom/object.c:512\n  #16 0x0000aaaaab54fa24 in object_new_with_type (type=0xaaaaabe237f0) at qom/object.c:687\n  #17 0x0000aaaaab54fa80 in object_new (typename=0xaaaaabe23970 ""host-arm-cpu"") at qom/object.c:702\n  #18 0x0000aaaaaaf04a74 in machvirt_init (machine=0xaaaaac0a8550) at hw/arm/virt.c:1770\n  #19 0x0000aaaaab1e8720 in machine_run_board_init (machine=0xaaaaac0a8550) at hw/core/machine.c:1138\n  #20 0x0000aaaaaaf95394 in qemu_init (argc=5, argv=0xffffffffea58, envp=0xffffffffea88) at softmmu/vl.c:4348\n  #21 0x0000aaaaaada3f74 in main (argc=<optimized out>, argv=<optimized out>, envp=<optimized out>) at softmmu/main.c:48\n\nThis is because in frame #2, cpu->kvm_state is still NULL\n(the vCPU is not yet realized).\n\nKVM has a hard requirement of all cores supporting the same\nfeature set. We only need to check if the accelerator supports\na feature, not each vCPU individually.\n\nFix by removing the 'CPUState *cpu' argument from the\nkvm_arm_<FEATURE>_supported() functions.\n\nFixes: d70c996df23f ('Use CPUState::kvm_state in kvm_arm_pmu_supported')\nReported-by: Haibo Xu <haibo.xu@linaro.org>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9557178616523744,KVM,"target/arm/cpu.c, target/arm/cpu64.c, target/arm/kvm.c, target/arm/kvm64.c, target/arm/kvm_arm.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,167f1667b120ddac301163da64b57b19ce7cf622,bcaaefdbb2167858d3b92745b79473deb49c417a,Mark Cave-Ayland,2020-06-23,"adb: fix adb-mouse read length and revert disable-reg3-direct-writes workaround\n\nCommit 84051eb400 ""adb: add property to disable direct reg 3 writes"" introduced\na workaround for spurious writes to ADB register 3 when MacOS 9 enables\nautopoll on the mouse device. Further analysis shows that the problem is that\nonly a partial request is sent, and since the len parameter is ignored then\nstale data from the previous request is used causing the incorrect address\nassignment.\n\nRemove the disable-reg3-direct-writes workaround and instead check the length\nparameter when the write is attempted, discarding the invalid request.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nTested-by: Finn Thain <fthain@telegraphics.com.au>\nAcked-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20200623204936.24064-3-mark.cave-ayland@ilande.co.uk>",1,0.9996497631072998,ADB,"hw/input/adb-kbd.c, hw/input/adb-mouse.c, hw/input/adb.c, hw/ppc/mac_newworld.c, include/hw/input/adb.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dcb091c40ef8c77590b1c5b7160ec428f2a2a053,d9b898943dbcce7c513739febc05ccaa7142c49e,Mark Cave-Ayland,2020-06-23,pmu: fix duplicate autopoll mask variable\n\nIt seems that during the initial work to introduce the via-pmu ADB support a\nduplicate autopoll mask variable was accidentally left in place.\n\nRemove the duplicate autopoll_mask variable and switch everything over to\nuse adb_poll_mask instead.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nTested-by: Finn Thain <fthain@telegraphics.com.au>\nAcked-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20200623204936.24064-5-mark.cave-ayland@ilande.co.uk>,1,0.9937766790390016,ADB,"hw/misc/macio/pmu.c, include/hw/misc/macio/pmu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,74aaddc6283ff789923127f3b95f781796fe3f39,32a354dc6c07d766e70b51f42a62d8cd479e3f82,Marcelo Tosatti,2020-06-16,"kvm: i386: allow TSC to differ by NTP correction bounds without TSC scaling\n\nThe Linux TSC calibration procedure is subject to small variations\n(its common to see +-1 kHz difference between reboots on a given CPU, for example).\n\nSo migrating a guest between two hosts with identical processor can fail, in case\nof a small variation in calibrated TSC between them.\n\nAllow a conservative 250ppm error between host TSC and VM TSC frequencies,\nrather than requiring an exact match. NTP daemon in the guest can\ncorrect this difference.\n\nAlso change migration to accept this bound.\n\nKVM_SET_TSC_KHZ depends on a kernel interface change. Without this change,\nthe behaviour remains the same: in case of a different frequency\nbetween host and VM, KVM_SET_TSC_KHZ will fail and QEMU will exit.\n\nSigned-off-by: Marcelo Tosatti <mtosatti@redhat.com>\n\nMessage-Id: <20200616165805.GA324612@fuller.cnet>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9976640939712524,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,730319aef0fcb94f11a4a2d32656437fdde7efdd,c8d7fd059d73a7d3035e379c319034c30ba3dbbf,Eduardo Habkost,2020-06-23,"i386: Mask SVM features if nested SVM is disabled\n\nQEMU incorrectly validates FEAT_SVM feature flags against\nGET_SUPPORTED_CPUID even if SVM features are being masked out by\ncpu_x86_cpuid().  This can make QEMU print warnings on most AMD\nCPU models, even when SVM nesting is disabled (which is the\ndefault).\n\nThis bug was never detected before because of a Linux KVM bug:\nuntil Linux v5.6, KVM was not filtering out SVM features in\nGET_SUPPORTED_CPUID when nested was disabled.  This KVM bug was\nfixed in Linux v5.7-rc1, on Linux commit a50718cc3f43 (""KVM:\nnSVM: Expose SVM features to L1 iff nested is enabled"").\n\nFix the problem by adding a CPUID_EXT3_SVM dependency to all\nFEAT_SVM feature flags in the feature_dependencies table.\n\nReported-by: Yanan Fu <yfu@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nMessage-Id: <20200623230116.277409-1-ehabkost@redhat.com>\n[Fix testcase. - Paolo]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995926022529602,KVM,"target/i386/cpu.c, tests/qtest/test-x86-cpuid-compat.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,14963c34b9901abee6cc91d1831841b2c20511c3,562a558647be6fe43e60f8bf3601e5b6122c0599,Markus Armbruster,2020-06-30,"spapr: Plug minor memory leak in spapr_machine_init()\n\nspapr_machine_init() leaks an Error object when\nkvmppc_check_papr_resize_hpt() fails and spapr->resize_hpt is\nSPAPR_RESIZE_HPT_DISABLED, i.e. when the host doesn't support hash\npage table resizing, and the user didn't ask for it.  As harmless as\nmemory leaks can possibly be.  Plug it.\n\nFixes: 30f4b05bd090564181554d0890605eb2c143e4ea\nCc: David Gibson <dgibson@redhat.com>\nCc: qemu-ppc@nongnu.org\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Greg Kurz <groug@kaod.org>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nMessage-Id: <20200630090351.1247703-8-armbru@redhat.com>",1,0.9997171759605408,LED,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dd8eeb9671fc881e613008bd20035b85fe45383d,0d935ffd66154a2aa3af3e49bcffd832a8bb53e5,David Hildenbrand,2020-06-29,"virtio-balloon: always indicate S_DONE when migration fails\n\nIf something goes wrong during precopy, before stopping the VM, we will\nnever send a S_DONE indication to the VM, resulting in the hinted pages\nnot getting released to be used by the guest OS (e.g., Linux).\n\nEasy to reproduce:\n1. Start migration (e.g., HMP ""migrate -d 'exec:gzip -c > STATEFILE.gz'"")\n2. Cancel migration (e.g., HMP ""migrate_cancel"")\n3. Oberve in the guest (e.g., cat /proc/meminfo) that there is basically\n   no free memory left.\n\nWhile at it, add similar locking to virtio_balloon_free_page_done() as\ndone in virtio_balloon_free_page_stop. Locking is still weird, but that\nhas to be sorted out separately.\n\nThere is nothing to do in the PRECOPY_NOTIFY_COMPLETE case. Add some\ncomments regarding S_DONE handling.\n\nFixes: c13c4153f76d (""virtio-balloon: VIRTIO_BALLOON_F_FREE_PAGE_HINT"")\nReviewed-by: Alexander Duyck <alexander.h.duyck@linux.intel.com>\nCc: Wei Wang <wei.w.wang@intel.com>\nCc: Alexander Duyck <alexander.duyck@gmail.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20200629080615.26022-1-david@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995293617248536,"VIRTIO, VIRTIO_BALLOON",hw/virtio/virtio-balloon.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,45175361f1bfc2d3ccdcb4b22570c2352f3de754,1a8242f7c3f53341dd66253b142ecd06ce1d2a97,Halil Pasic,2020-06-16,"s390x/pci: fix set_ind_atomic\n\nThe atomic_cmpxchg() loop is broken because we occasionally end up with\nold and _old having different values (a legit compiler can generate code\nthat accessed *ind_addr again to pick up a value for _old instead of\nusing the value of old that was already fetched according to the\nrules of the abstract machine). This means the underlying CS instruction\nmay use a different old (_old) than the one we intended to use if\natomic_cmpxchg() performed the xchg part.\n\nLet us use volatile to force the rules of the abstract machine for\naccesses to *ind_addr. Let us also rewrite the loop so, we that the\nnew old is used to compute the new desired value if the xchg part\nis not performed.\n\nFixes: 8cba80c3a0 (""s390: Add PCI bus support"")\nReported-by: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Halil Pasic <pasic@linux.ibm.com>\nReviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>\nMessage-Id: <20200616045035.51641-3-pasic@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9997268319129944,PCI,hw/s390x/s390-pci-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,694bcaa81f41b7fc5e07273debe1dc309b3dcf03,1b6f99d84f21473cf2d1adab312dd28dd315a083,Beata Michalska,2020-07-03,target/arm: kvm: Handle DABT with no valid ISS\n\nOn ARMv7 & ARMv8 some load/store instructions might trigger a data abort\nexception with no valid ISS info to be decoded. The lack of decode info\nmakes it at least tricky to emulate those instruction which is one of the\n(many) reasons why KVM will not even try to do so.\n\nAdd support for handling those by requesting KVM to inject external\ndabt into the quest.\n\nSigned-off-by: Beata Michalska <beata.michalska@linaro.org>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nMessage-id: 20200629114110.30723-2-beata.michalska@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9994966983795166,"ARM, KVM",target/arm/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1711bfa5f5b2b108901813f57246c9ff4a44a50f,694bcaa81f41b7fc5e07273debe1dc309b3dcf03,Beata Michalska,2020-07-03,"target/arm: kvm: Handle misconfigured dabt injection\n\nInjecting external data abort through KVM might trigger\nan issue on kernels that do not get updated to include the KVM fix.\nFor those and aarch32 guests, the injected abort gets misconfigured\nto be an implementation defined exception. This leads to the guest\nrepeatedly re-running the faulting instruction.\n\nAdd support for handling that case.\n\n[\n  Fixed-by: 018f22f95e8a\n	('KVM: arm: Fix DFSR setting for non-LPAE aarch32 guests')\n  Fixed-by: 21aecdbd7f3a\n	('KVM: arm: Make inject_abt32() inject an external abort instead')\n]\n\nSigned-off-by: Beata Michalska <beata.michalska@linaro.org>\nAcked-by: Andrew Jones <drjones@redhat.com>\nMessage-id: 20200629114110.30723-3-beata.michalska@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997005462646484,KVM,"target/arm/cpu.h, target/arm/kvm.c, target/arm/kvm32.c, target/arm/kvm64.c, target/arm/kvm_arm.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,104a7f4e1355493175b0ad6f49c524ee449c16f7,b6d7e9b66f59ca6ebc6e9b830cd5e7bf849d31cf,Jason Andryuk,2020-06-24,"xen: Fix xen-legacy-backend qdev types\n\nxen-sysdev is a TYPE_SYS_BUS_DEVICE.  bus_type should not be changed so\nthat it can plug into the System bus.  Otherwise this assert triggers:\nqemu-system-i386: hw/core/qdev.c:102: qdev_set_parent_bus: Assertion\n`dc->bus_type && object_dynamic_cast(OBJECT(bus), dc->bus_type)'\nfailed.\n\nTYPE_XENBACKEND attaches to TYPE_XENSYSBUS, so its class_init needs to\nbe set accordingly to attach the qdev.  Otherwise the following assert\ntriggers:\nqemu-system-i386: hw/core/qdev.c:102: qdev_set_parent_bus: Assertion\n`dc->bus_type && object_dynamic_cast(OBJECT(bus), dc->bus_type)'\nfailed.\n\nTYPE_XENBACKEND is not a subclass of XEN_XENSYSDEV, so it's parent\nis just TYPE_DEVICE.  Change that.\n\nSigned-off-by: Jason Andryuk <jandryuk@gmail.com>\nAcked-by: Paul Durrant <pdurrant@amazon.com>\nFixes: 81cb05732efb (""qdev: Assert devices are plugged into a bus that can take them"")\nMessage-Id: <20200624121939.10282-1-jandryuk@gmail.com>\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>",1,0.9997250437736512,XEN,hw/xen/xen-legacy-backend.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,668f62ec621e4e2919fb7d4caa5d805764c5852d,dcfe480544eef72d666cb1695624449e2c22da2d,Markus Armbruster,2020-07-07,"error: Eliminate error_propagate() with Coccinelle, part 1\n\nWhen all we do with an Error we receive into a local variable is\npropagating to somewhere else, we can just as well receive it there\nright away.  Convert\n\n    if (!foo(..., &err)) {\n        ...\n        error_propagate(errp, err);\n        ...\n        return ...\n    }\n\nto\n\n    if (!foo(..., errp)) {\n        ...\n        ...\n        return ...\n    }\n\nwhere nothing else needs @err.  Coccinelle script:\n\n    @rule1 forall@\n    identifier fun, err, errp, lbl;\n    expression list args, args2;\n    binary operator op;\n    constant c1, c2;\n    symbol false;\n    @@\n         if (\n    (\n    -        fun(args, &err, args2)\n    +        fun(args, errp, args2)\n    |\n    -        !fun(args, &err, args2)\n    +        !fun(args, errp, args2)\n    |\n    -        fun(args, &err, args2) op c1\n    +        fun(args, errp, args2) op c1\n    )\n            )\n         {\n             ... when != err\n                 when != lbl:\n                 when strict\n    -        error_propagate(errp, err);\n             ... when != err\n    (\n             return;\n    |\n             return c2;\n    |\n             return false;\n    )\n         }\n\n    @rule2 forall@\n    identifier fun, err, errp, lbl;\n    expression list args, args2;\n    expression var;\n    binary operator op;\n    constant c1, c2;\n    symbol false;\n    @@\n    -    var = fun(args, &err, args2);\n    +    var = fun(args, errp, args2);\n         ... when != err\n         if (\n    (\n             var\n    |\n             !var\n    |\n             var op c1\n    )\n            )\n         {\n             ... when != err\n                 when != lbl:\n                 when strict\n    -        error_propagate(errp, err);\n             ... when != err\n    (\n             return;\n    |\n             return c2;\n    |\n             return false;\n    |\n             return var;\n    )\n         }\n\n    @depends on rule1 || rule2@\n    identifier err;\n    @@\n    -    Error *err = NULL;\n         ... when != err\n\nNot exactly elegant, I'm afraid.\n\nThe ""when != lbl:"" is necessary to avoid transforming\n\n         if (fun(args, &err)) {\n             goto out\n         }\n         ...\n     out:\n         error_propagate(errp, err);\n\neven though other paths to label out still need the error_propagate().\nFor an actual example, see sclp_realize().\n\nWithout the ""when strict"", Coccinelle transforms vfio_msix_setup(),\nincorrectly.  I don't know what exactly ""when strict"" does, only that\nit helps here.\n\nThe match of return is narrower than what I want, but I can't figure\nout how to express ""return where the operand doesn't use @err"".  For\nan example where it's too narrow, see vfio_intx_enable().\n\nSilently fails to convert hw/arm/armsse.c, because Coccinelle gets\nconfused by ARMSSE being used both as typedef and function-like macro\nthere.  Converted manually.\n\nLine breaks tidied up manually.  One nested declaration of @local_err\ndeleted manually.  Preexisting unwanted blank line dropped in\nhw/riscv/sifive_e.c.\n\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nMessage-Id: <20200707160613.848843-35-armbru@redhat.com>",1,0.9702455401420592,"ARM, ARMSSE","accel/kvm/kvm-all.c, accel/tcg/tcg-all.c, backends/cryptodev-vhost-user.c, backends/cryptodev.c, backends/hostmem-file.c, backends/hostmem-memfd.c, backends/hostmem.c, backends/tpm/tpm_util.c, block.c, block/curl.c, block/file-posix.c, block/parallels.c, block/qcow.c, block/qed.c, block/throttle-groups.c, block/vhdx.c, block/vmdk.c, block/vpc.c, blockdev.c, hw/arm/allwinner-a10.c, hw/arm/armsse.c, hw/arm/armv7m.c, hw/arm/aspeed_ast2600.c, hw/arm/aspeed_soc.c, hw/arm/bcm2835_peripherals.c, hw/arm/bcm2836.c, hw/arm/digic.c, hw/arm/fsl-imx25.c, hw/arm/fsl-imx31.c, hw/arm/fsl-imx6.c, hw/arm/msf2-soc.c, hw/arm/nrf51_soc.c, hw/arm/stm32f205_soc.c, hw/arm/stm32f405_soc.c, hw/arm/xlnx-zynqmp.c, hw/block/fdc.c, hw/block/xen-block.c, hw/char/serial-pci-multi.c, hw/char/serial-pci.c, hw/char/serial.c, hw/core/machine.c, hw/core/qdev-properties-system.c, hw/core/qdev-properties.c, hw/cpu/a15mpcore.c, hw/cpu/a9mpcore.c, hw/cpu/arm11mpcore.c, hw/cpu/core.c, hw/cpu/realview_mpcore.c, hw/display/virtio-gpu-pci.c, hw/display/virtio-vga.c, hw/gpio/aspeed_gpio.c, hw/i386/pc.c, hw/intc/apic_common.c, hw/intc/armv7m_nvic.c, hw/intc/pnv_xive.c, hw/intc/realview_gic.c, hw/intc/spapr_xive.c, hw/intc/xics_kvm.c, hw/isa/piix4.c, hw/mem/nvdimm.c, hw/microblaze/xlnx-zynqmp-pmu.c, hw/mips/cps.c, hw/misc/aspeed_sdmc.c, hw/misc/macio/cuda.c, hw/misc/macio/macio.c, hw/misc/macio/pmu.c, hw/misc/pca9552.c, hw/misc/tmp105.c, hw/misc/tmp421.c, hw/pci-host/pnv_phb3.c, hw/pci-host/pnv_phb4.c, hw/pci-host/pnv_phb4_pec.c, hw/ppc/e500.c, hw/ppc/pnv.c, hw/ppc/pnv_core.c, hw/ppc/pnv_psi.c, hw/ppc/spapr_caps.c, hw/ppc/spapr_drc.c, hw/ppc/spapr_irq.c, hw/riscv/opentitan.c, hw/riscv/sifive_e.c, hw/riscv/sifive_u.c, hw/s390x/css.c, hw/s390x/event-facility.c, hw/s390x/virtio-ccw-crypto.c, hw/s390x/virtio-ccw-rng.c, hw/scsi/scsi-bus.c, hw/sd/aspeed_sdhci.c, hw/smbios/smbios.c, hw/vfio/pci-quirks.c, hw/vfio/pci.c, hw/virtio/virtio-balloon.c, hw/virtio/virtio-rng-pci.c, hw/virtio/virtio-rng.c, iothread.c, net/colo-compare.c, net/dump.c, net/filter-buffer.c, net/tap.c, qapi/string-input-visitor.c, qdev-monitor.c, qga/commands-win32.c, qom/object.c, softmmu/vl.c, target/arm/cpu64.c, target/arm/monitor.c, target/i386/cpu.c, target/ppc/compat.c, target/s390x/cpu_models.c, target/sparc/cpu.c, tpm.c, util/main-loop.c, util/qemu-config.c, util/qemu-option.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a2d57703b3e735c700689b030c126fa8ba6793b9,45db94cc90c286a9965a285ba19450f448760a09,Alexander Boettcher,2020-06-29,"tcg/svm: use host cr4 during NPT page table walk\n\nDuring a page table walk of TCG+SVM the code in target/i386/excp_helper.c\nget_hphys() uses the cr4 register of the guest instead of the hypervisor\nto check for the PSE bit. In the test case we have, the guest have not\nenabled (yet) the PSE bit and so the page table walk results in a wrong\nhost physical address resolution and wrong content read by the guest.\n\nAttached patch is against 4.2.1, but works also on 3.1.0. It fixes the\nissue for our automated testcase, which is a 32bit hypervisor w/o PAE\nsupport running a guest VM with tcg+svm.\n\nThe test worked beforehand up to qemu 2.12, started to fail with qemu 3.0\nand later. The added TCG/SVM NPT commit seems to introduce the regression.\n\nIn case someone want to try to reproduce it, the iso is at [0], the good\ncase is [1] and the failing case is [2]. The used commandline is:\n\nqemu-system-i386 -no-kvm -nographic -cpu phenom -m 512 -machine q35 -cdrom seoul-vmm-test.iso\n\n[0] https://depot.genode.org/alex-ab/images/seoul-vmm-test.iso\n[1] https://depot.genode.org/alex-ab/images/seoul-vmm-good.txt\n[2] https://depot.genode.org/alex-ab/images/seoul-vmm-bad.txt\n\nSigned-off-by: Alexander Boettcher <alexander.boettcher@genode-labs.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9983580708503724,TCG,"target/i386/excp_helper.c, target/i386/svm.h, target/i386/svm_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a6bb42f2239b85fccf93734bfb73bb8b2ddc8cce,de6b528be41fabfdde32982ba62f2cddc7e10330,Philippe Mathieu-Daud,2020-06-18,"MAINTAINERS: Fix KVM path expansion glob\n\nThe KVM files has been moved from target-ARCH to the target/ARCH/\nfolder in commit fcf5ef2a. Fix the pathname expansion.\n\nFixes: fcf5ef2a (""Move target-* CPU file into a target/ folder"")\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999189555644989,KVM,MAINTAINERS,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1b38750c40281dd0d068f8536b2ea95d7b9bd585,e4f6278557148151e77260b872b41bcd7ceb4737,Paolo Bonzini,2020-06-30,"target/i386: sev: fail query-sev-capabilities if QEMU cannot use SEV\n\nIn some cases, such as if the kvm-amd ""sev"" module parameter is set\nto 0, SEV will be unavailable but query-sev-capabilities will still\nreturn all the information.  This tricks libvirt into erroneously\nreporting that SEV is available.  Check the actual usability of the\nfeature and return the appropriate error if QEMU cannot use KVM\nor KVM cannot use SEV.\n\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996325969696044,"KVM, SEV",target/i386/sev.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d4e1d8f57eb2e6d0017ae5e8285fc788556ce427,ad9d854b70b4587d6785a961b3a5860d8bf215ae,Peter Maydell,2020-07-13,"hw/arm/tosa: Encapsulate misc GPIO handling in a device\n\nCurrently we have a free-floating set of IRQs and a function\ntosa_out_switch() which handle the GPIO lines on the tosa board which\nconnect to LEDs, and another free-floating IRQ and tosa_reset()\nfunction to handle the GPIO line that resets the system.  Encapsulate\nthis behaviour in a simple QOM device.\n\nThis commit fixes Coverity issue CID 1421929 (which pointed out that\nthe 'outsignals' in tosa_gpio_setup() were leaked), because it\nremoves the use of the qemu_allocate_irqs() API from this code\nentirely.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20200628203748.14250-3-peter.maydell@linaro.org",1,0.999679684638977,LED,hw/arm/tosa.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,756f739b1682bf131994ec96dad7fbdf8b54493a,ad938fc1d53c99b264ecfc81291a4814204ff3dd,Philippe Mathieu-Daud,2020-07-13,"hw/arm/aspeed: Do not create and attach empty SD cards by default\n\nSince added in commit 2bea128c3d, each SDHCI is wired with a SD\ncard, using empty card when no block drive provided. This is not\nthe desired behavior. The SDHCI exposes a SD bus to plug cards\non, if no card available, it is fine to have an unplugged bus.\n\nAvoid creating unnecessary SD card device when no block drive\nprovided.\n\nFixes: 2bea128c3d (""hw/sd/aspeed_sdhci: New device"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20200705173402.15620-1-f4bug@amsat.org\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996787309646606,SDHCI,hw/arm/aspeed.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4c1850c130a31e6f3cc896a5ba5fb7a602540bc9,d8c08b1e6c7b1a5be1ec70e339437823a41b1946,Laurent Vivier,2020-07-09,"linux-user: Fix Coverity CID 1430271 / CID 1430272\n\nIn new functions print_ioctl() and print_syscall_ret_ioctl(), we don't\ncheck if lock_user() returns NULL and this would cause a segfault in\nthunk_print().\n\nIf lock_user() returns NULL don't call thunk_print() but prints only the\nvalue of the (invalid) pointer.\n\nTested with:\n\n    # cat ioctl.c\n    #include <unistd.h>\n    #include <sys/ioctl.h>\n\n    int main(void)\n    {\n        int ret;\n\n        ret = ioctl(STDOUT_FILENO, TCGETS, 0xdeadbeef);\n        ret = ioctl(STDOUT_FILENO, TCSETSF, 0xdeadbeef);\n        return 0;\n    }\n    # QEMU_STRACE= ./ioctl\n    ...\n    578 ioctl(1,TCGETS,0xdeadbeef) = -1 errno=2 (Bad address)\n    578 ioctl(1,TCSETSF,0xdeadbeef) = -1 errno=2 (Bad address)\n    ...\n    # QEMU_STRACE= passwd\n    ...\n    623 ioctl(0,TCGETS,0x3fffed04) = 0 ({})\n    623 ioctl(0,TCSETSF,{}) = 0\n    ...\n\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nFixes: 79482e5987c8 (""linux-user: Add strace support for printing arguments of ioctl()"")\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997195601463318,TCG,linux-user/strace.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,844bd70b5652f30bbace89499f513e3fbbb6457a,917ebcb170273913bca33d44263bc5fd14f72fd7,Marc-Andr Lureau,2020-06-04,"qga: fix assert regression on guest-shutdown\n\nSince commit 781f2b3d1e (""qga: process_event() simplification""),\nsend_response() is called unconditionally, but will assert when ""rsp"" is\nNULL. This may happen with QCO_NO_SUCCESS_RESP commands, such as\n""guest-shutdown"".\n\nFixes: 781f2b3d1e5ef389b44016a897fd55e7a780bf35\nCc: Michael Roth <mdroth@linux.vnet.ibm.com>\nReported-by: Christian Ehrhardt <christian.ehrhardt@canonical.com>\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Christian Ehrhardt <christian.ehrhardt@canonical.com>\nTested-by: Christian Ehrhardt <christian.ehrhardt@canonical.com>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>",1,0.9997310042381288,ESP,qga/main.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dda97e385b2f0fa84267a497596fe79898d48123,9788e8c9b64e4cebb01c96bab2b0e4c2d4454041,Alex Richardson,2020-07-03,"target/mips: Fix ADD.S FPU instruction\n\nAfter merging latest QEMU upstream into our CHERI fork,\nI noticed that some of the FPU tests in our MIPS baremetal\ntestsuite [*] started failing.\nIt turns out commit 1ace099f2a accidentally changed add.s\ninto a subtract.\n\n[*] https://github.com/CTSRD-CHERI/cheritest\n\nFixes: 1ace099f2a (""target/mips: fpu: Demacro ADD.<D|S|PS>"")\nSigned-off-by: Alex Richardson <Alexander.Richardson@cl.cam.ac.uk>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20200703161515.25966-1-Alexander.Richardson@cl.cam.ac.uk>\nSigned-off-by: Aleksandar Markovic <aleksandar.qemu.devel@gmail.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.999699592590332,MIPS,target/mips/fpu_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f8b332a1ff107dc014a52eaf9bf547995205f18a,8746309137ba470d1b2e8f5ce86ac228625db940,Stefan Berger,2020-07-07,tpm: tpm_spapr: Exit on TPM backend failures\n\nExit on TPM backend failures in the same way as the TPM CRB and TIS device\nmodels do. With this change we now get an error report when the backend\ndid not start up properly:\n\nerror: internal error: qemu unexpectedly closed the monitor:\n2020-07-07T12:49:28.333928Z qemu-system-ppc64: tpm-emulator: \\n  TPM result for CMD_INIT: 0x101 operation failed\n\nSigned-off-by: Stefan Berger <stefanb@linux.ibm.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-id: 20200707201625.4177419-2-stefanb@linux.vnet.ibm.com,1,0.9995494484901428,TPM,hw/tpm/tpm_spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,82e258db15dc563e1d015c19b3af2d585695a7b1,95d1fbabae0cd44156ac4b96d512d143ca7dfd5e,Li Qiang,2020-07-14,"qtest: bios-tables-test: fix a memory leak\n\nFixes: 5da7c35e25a(""bios-tables-test: Add Q35/TPM-TIS test"")\nSigned-off-by: Li Qiang <liq3ea@163.com>\nMessage-Id: <20200714153536.66060-1-liq3ea@163.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9995833039283752,"Q35, TPM",tests/qtest/bios-tables-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a4beb5f5d4672400a76cc0551c4f0878e42d921c,14de3d4ac58c0f63e9f5560c7e01e62e39467edd,Greg Kurz,2020-07-09,"spapr_pci: Robustify support of PCI bridges\n\nSome recent error handling cleanups unveiled issues with our support of\nPCI bridges:\n\n1) QEMU aborts when using non-standard PCI bridge types,\n   unveiled by commit 7ef1553dac ""spapr_pci: Drop some dead error handling""\n\n$ qemu-system-ppc64 -M pseries -device pcie-pci-bridge\nUnexpected error in object_property_find() at qom/object.c:1240:\nqemu-system-ppc64: -device pcie-pci-bridge: Property '.chassis_nr' not found\nAborted (core dumped)\n\nThis happens because we assume all PCI bridge types to have a ""chassis_nr""\nproperty. This property only exists with the standard PCI bridge type\n""pci-bridge"" actually. We could possibly revert 7ef1553dac but it seems\nmuch simpler to check the presence of ""chassis_nr"" earlier.\n\n2) QEMU abort if same ""chassis_nr"" value is used several times,\n   unveiled by commit d2623129a7de ""qom: Drop parameter @errp of\n   object_property_add() & friends""\n\n$ qemu-system-ppc64 -M pseries -device pci-bridge,chassis_nr=1 \\n                        -device pci-bridge,chassis_nr=1\nUnexpected error in object_property_try_add() at qom/object.c:1167:\nqemu-system-ppc64: -device pci-bridge,chassis_nr=1: attempt to add duplicate property '40000100' to object (type 'container')\nAborted (core dumped)\n\nThis happens because we assume that ""chassis_nr"" values are unique, but\nnobody enforces that and we end up generating duplicate DRC ids. The PCI\ncode doesn't really care for duplicate ""chassis_nr"" properties since it\nis only used to initialize the ""Chassis Number Register"" of the bridge,\nwith no functional impact on QEMU. So, even if passing the same value\nseveral times might look weird, it never broke anything before, so\nI guess we don't necessarily want to enforce strict checking in the PCI\ncode now.\n\nWorkaround both issues in the PAPR code: check that the bridge has a\nunique and non null ""chassis_nr"" when plugging it into its parent bus.\n\nFixes: 05929a6c5dfe (""spapr: Don't use bus number for building DRC ids"")\nFixes: 7ef1553dac (""spapr_pci: Drop some dead error handling"")\nFixes: d2623129a7de (""qom: Drop parameter @errp of object_property_add() & friends"")\nReported-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <159431476748.407044.16711294833569014964.stgit@bahia.lan>\n[dwg: Move check slightly to a better place]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9915485978126526,PCI,hw/ppc/spapr_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3f410039b79c0468e18142c6ddfede6f6f7b0427,cd07d7f9f5117954edd9a9bbd97b0442eecf5c49,Peter Maydell,2020-07-13,"hw/arm/armsse: Assert info->num_cpus is in-bounds in armsse_realize()\n\nIn armsse_realize() we have a loop over [0, info->num_cpus), which\nindexes into various fixed-size arrays in the ARMSSE struct.  This\nconfuses Coverity, which warns that we might overrun those arrays\n(CID 1430326, 1430337, 1430371, 1430414, 1430430).  This can't\nactually happen, because the info struct is always one of the entries\nin the armsse_variants[] array and num_cpus is either 1 or 2; we also\nalready assert in armsse_init() that num_cpus is not too large.\nHowever, adding an assert to armsse_realize() like the one in\narmsse_init() should help Coverity figure out that these code paths\naren't possible.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20200713143716.9881-1-peter.maydell@linaro.org",1,0.9954030513763428,"ARM, ARMSSE",hw/arm/armsse.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dba04c3488c4699f5afe96f66e448b1d447cf3fb,c8004fe6bbfc0d9c2e7b942c418a85efb3ac4b00,Michael Tokarev,2020-07-20,"acpi: accept byte and word access to core ACPI registers\n\nAll ISA registers should be accessible as bytes, words or dwords\n(if wide enough).  Fix the access constraints for acpi-pm-evt,\nacpi-pm-tmr & acpi-cnt registers.\n\nFixes: 5d971f9e67 (memory: Revert ""memory: accept mismatching sizes in memory_region_access_valid"")\nFixes: afafe4bbe0 (apci: switch cnt to memory api)\nFixes: 77d58b1e47 (apci: switch timer to memory api)\nFixes: b5a7c024d2 (apci: switch evt to memory api)\nBuglink: https://lore.kernel.org/xen-devel/20200630170913.123646-1-anthony.perard@citrix.com/T/\nBuglink: https://bugs.debian.org/964793\nBugLink: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=964247\nBugLink: https://bugs.launchpad.net/bugs/1886318\nReported-By: Simon John <git@the-jedi.co.uk>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>\nMessage-Id: <20200720160627.15491-1-mjt@msgid.tls.msk.ru>\nCc: qemu-stable@nongnu.org\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996613264083862,ACPI,hw/acpi/core.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,20a4da0f23078deeff5ea6d1e12f47d968d7c3c9,cf4e3d000e438d04077a56c401b41f3336a2a09d,Alexander Duyck,2020-07-20,"virtio-balloon: Prevent guest from starting a report when we didn't request one\n\nBased on code review it appears possible for the driver to force the device\nout of a stopped state when hinting by repeating the last ID it was\nprovided.\n\nPrevent this by only allowing a transition to the start state when we are\nin the requested state. This way the driver is only allowed to send one\ndescriptor that will transition the device into the start state. All others\nwill leave it in the stop state once it has finished.\n\nFixes: c13c4153f76d (""virtio-balloon: VIRTIO_BALLOON_F_FREE_PAGE_HINT"")\nAcked-by: David Hildenbrand <david@redhat.com>\nSigned-off-by: Alexander Duyck <alexander.h.duyck@linux.intel.com>\nMessage-Id: <20200720175115.21935.99563.stgit@localhost.localdomain>\nCc: qemu-stable@nongnu.org\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997041821479796,"VIRTIO, VIRTIO_BALLOON",hw/virtio/virtio-balloon.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ccec7e9603f446fe75c6c563ba335c00cfda6a06,a4544c45e109ceee87ee8c19baff28be3890d788,Andrew Melnychenko,2020-07-06,"virtio-pci: Changed vdev to proxy for VirtIO PCI BAR callbacks.\n\nThere is an issue when callback may be called with invalid vdev.\nIt happens on unplug when vdev already deleted and VirtIOPciProxy is not.\nSo now, callbacks accept proxy device, and vdev retrieved from it.\nTechnically memio callbacks should be removed during the flatview update,\nbut memoryregions remain til PCI device(and it's address space) completely deleted.\nBuglink: https://bugzilla.redhat.com/show_bug.cgi?id=1716352\n\nSigned-off-by: Andrew Melnychenko <andrew@daynix.com>\nMessage-Id: <20200706112123.971087-1-andrew@daynix.com>\nCc: qemu-stable@nongnu.org\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.998082995414734,PCI,hw/virtio/virtio-pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0baa4b445e28f37243e5dc72e7efe32f0c9d7801,8ffa52c20d5693d454f65f2024a1494edfea65d4,Vitaly Kuznetsov,2020-07-23,"KVM: fix CPU reset wrt HF2_GIF_MASK\n\nHF2_GIF_MASK is set in env->hflags2 unconditionally on CPU reset\n(see x86_cpu_reset()) but when calling KVM_SET_NESTED_STATE,\nKVM_STATE_NESTED_GIF_SET is only valid for nSVM as e.g. nVMX code\nlooks like\n\nif (kvm_state->hdr.vmx.vmxon_pa == -1ull) {\n    if (kvm_state->flags & ~KVM_STATE_NESTED_EVMCS)\n        return -EINVAL;\n}\n\nAlso, when adjusting the environment after KVM_GET_NESTED_STATE we\nneed not reset HF2_GIF_MASK on VMX as e.g. x86_cpu_pending_interrupt()\nexpects it to be set.\n\nAlternatively, we could've made env->hflags2 SVM-only.\n\nReported-by: Jan Kiszka <jan.kiszka@siemens.com>\nFixes: b16c0e20c742 (""KVM: add support for AMD nested live migration"")\nSigned-off-by: Vitaly Kuznetsov <vkuznets@redhat.com>\nMessage-Id: <20200723142701.2521161-1-vkuznets@redhat.com>\nTested-by: Jan Kiszka <jan.kiszka@siemens.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9997283816337584,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8d942986be27bb40e6faca2032af763d7db57082,09e0cd773723219d21655587954da2769f64ba01,Thomas Huth,2020-07-22,"hw: Only compile the usb-dwc2 controller if it is really needed\n\nThe USB_DWC2 switch is currently ""default y"", so it is included in all\nqemu-system-* builds, even if it is not needed. Even worse, it does a\n""select USB"", so USB devices are now showing up as available on targets\nthat do not support USB at all. This sysbus device should only be\nincluded by the boards that need it, i.e. by the Raspi machines.\n\nFixes: 153ef1662c (""dwc-hsotg (dwc2) USB host controller emulation"")\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Paul Zimmerman <pauldzim@gmail.com>\nMessage-id: 20200722154719.10130-1-thuth@redhat.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.99968159198761,"USB, USB_DWC2","hw/arm/Kconfig, hw/usb/Kconfig",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,88f830745721ba8c9e9d2831c01045a6f130c1a6,5a6791c3d4a7719e8d0797afe0e2822a54bda6a2,Stefan Berger,2020-07-24,"tpm_emulator: Report an error if chardev is missing\n\nThis patch fixes the odd error reporting when trying to send a file\ndescriptor to the TPM emulator if one has not passed a valid chardev.\n\n$ x86_64-softmmu/qemu-system-x86_64 -tpmdev emulator,id=tpm0\nqemu-system-x86_64: -tpmdev emulator,id=tpm0: tpm-emulator: Failed to send CMD_SET_DATAFD: Success\nqemu-system-x86_64: -tpmdev emulator,id=tpm0: tpm-emulator: Could not cleanly shutdown the TPM: Success\n\nThis is the new error report:\n\n$ x86_64-softmmu/qemu-system-x86_64 -tpmdev emulator,id=tpm0\nqemu-system-x86_64: -tpmdev emulator,id=tpm0: tpm-emulator: parameter 'chardev' is missing\n\nThis change does not hide the display of supported TPM types if a non-existent type is passed:\n\n$ x86_64-softmmu/qemu-system-x86_64 -tpmdev nonexistent,id=tpm0\nqemu-system-x86_64: -tpmdev nonexistent,id=tpm0: Parameter 'type' expects a TPM backend type\nSupported TPM types (choose only one):\n passthrough   Passthrough TPM backend driver\n    emulator   TPM emulator backend driver\n\nSigned-off-by: Stefan Berger <stefanb@linux.ibm.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>",1,0.999702513217926,TPM,backends/tpm/tpm_emulator.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aef92d87c59d257c0ff24ba1dc82506a03f1f522,194f8ca825854abef3aceca1ed7eb5a53b08751f,Laurent Vivier,2020-07-24,"pseries: fix kvmppc_set_fwnmi()\n\nQEMU issues the ioctl(KVM_CAP_PPC_FWNMI) on the first vCPU.\n\nIf the first vCPU is currently running, the vCPU mutex is held\nand the ioctl() cannot be done and waits until the mutex is released.\nThis never happens and the VM is stuck.\n\nTo avoid this deadlock, issue the ioctl on the same vCPU doing the\nRTAS call.\n\nThe problem can be reproduced by booting a guest with several vCPUs\n(the probability to have the problem is (n - 1) / n,  n = # of CPUs),\nand then by triggering a kernel crash with ""echo c >/proc/sysrq-trigger"".\n\nOn the reboot, the kernel hangs after:\n\n...\n[    0.000000] -----------------------------------------------------\n[    0.000000] ppc64_pft_size    = 0x0\n[    0.000000] phys_mem_size     = 0x48000000\n[    0.000000] dcache_bsize      = 0x80\n[    0.000000] icache_bsize      = 0x80\n[    0.000000] cpu_features      = 0x0001c06f8f4f91a7\n[    0.000000]   possible        = 0x0003fbffcf5fb1a7\n[    0.000000]   always          = 0x00000003800081a1\n[    0.000000] cpu_user_features = 0xdc0065c2 0xaee00000\n[    0.000000] mmu_features      = 0x3c006041\n[    0.000000] firmware_features = 0x00000085455a445f\n[    0.000000] physical_start    = 0x8000000\n[    0.000000] -----------------------------------------------------\n[    0.000000] numa:   NODE_DATA [mem 0x47f33c80-0x47f3ffff]\n\nFixes: ec010c00665b (""ppc/spapr: KVM FWNMI should not be enabled until guest requests it"")\nCc: npiggin@gmail.com\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nMessage-Id: <20200724083533.281700-1-lvivier@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997498393058776,"KVM, PPC","hw/ppc/spapr_rtas.c, target/ppc/kvm.c, target/ppc/kvm_ppc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2ebc21216f58f6fcbf16f7ec0bebe7f72ab3d8ca,c22aba196341995f2e45c37eed36cc7be09e4bc3,Hogan Wang,2020-07-27,"hw/pci-host: save/restore pci host config register\n\nThe pci host config register is used to save PCI address for\nread/write config data. If guest writes a value to config register,\nand then QEMU pauses the vcpu to migrate, after the migration, the guest\nwill continue to write pci config data, and the write data will be ignored\nbecause of new qemu process losing the config register state.\n\nTo trigger the bug:\n1. guest is booting in seabios.\n2. guest enables the SMRAM in seabios:piix4_apmc_smm_setup, and then\n   expects to disable the SMRAM by pci_config_writeb.\n3. after guest writes the pci host config register, QEMU pauses vcpu\n   to finish migration.\n4. guest write of config data(0x0A) fails to disable the SMRAM because\n   the config register state is lost.\n5. guest continues to boot and crashes in ipxe option ROM due to SMRAM\n   in enabled state.\n\nExample Reproducer:\n\nstep 1. Make modifications to seabios and qemu for increase reproduction\nefficiency, write 0xf0 to 0x402 port notify qemu to stop vcpu after\n0x0cf8 port wrote i440 configure register. qemu stop vcpu when catch\n0x402 port wrote 0xf0.\n\nseabios:/src/hw/pci.c\n@@ -52,6 +52,11 @@ void pci_config_writeb(u16 bdf, u32 addr, u8 val)\n         writeb(mmconfig_addr(bdf, addr), val);\n     } else {\n         outl(ioconfig_cmd(bdf, addr), PORT_PCI_CMD);\n+       if (bdf == 0 && addr == 0x72 && val == 0xa) {\n+            dprintf(1, ""stop vcpu\n"");\n+            outb(0xf0, 0x402); // notify qemu to stop vcpu\n+            dprintf(1, ""resume vcpu\n"");\n+        }\n         outb(val, PORT_PCI_DATA + (addr & 3));\n     }\n }\n\nqemu:hw/char/debugcon.c\n@@ -60,6 +61,9 @@ static void debugcon_ioport_write(void *opaque, hwaddr addr, uint64_t val,\n     printf("" [debugcon: write addr=0x%04"" HWADDR_PRIx "" val=0x%02"" PRIx64 ""]\n"", addr, val);\n #endif\n\n+    if (ch == 0xf0) {\n+        vm_stop(RUN_STATE_PAUSED);\n+    }\n     /* XXX this blocks entire thread. Rewrite to use\n      * qemu_chr_fe_write and background I/O callbacks */\n     qemu_chr_fe_write_all(&s->chr, &ch, 1);\n\nstep 2. start vm1 by the following command line, and then vm stopped.\n$ qemu-system-x86_64 -machine pc-i440fx-5.0,accel=kvm\\n -netdev tap,ifname=tap-test,id=hostnet0,vhost=on,downscript=no,script=no\\n -device virtio-net-pci,netdev=hostnet0,id=net0,bus=pci.0,addr=0x13,bootindex=3\\n -device cirrus-vga,id=video0,vgamem_mb=16,bus=pci.0,addr=0x2\\n -chardev file,id=seabios,path=/var/log/test.seabios,append=on\\n -device isa-debugcon,iobase=0x402,chardev=seabios\\n -monitor stdio\n\nstep 3. start vm2 to accept vm1 state.\n$ qemu-system-x86_64 -machine pc-i440fx-5.0,accel=kvm\\n -netdev tap,ifname=tap-test1,id=hostnet0,vhost=on,downscript=no,script=no\\n -device virtio-net-pci,netdev=hostnet0,id=net0,bus=pci.0,addr=0x13,bootindex=3\\n -device cirrus-vga,id=video0,vgamem_mb=16,bus=pci.0,addr=0x2\\n -chardev file,id=seabios,path=/var/log/test.seabios,append=on\\n -device isa-debugcon,iobase=0x402,chardev=seabios\\n -monitor stdio \\n -incoming tcp:127.0.0.1:8000\n\nstep 4. execute the following qmp command in vm1 to migrate.\n(qemu) migrate tcp:127.0.0.1:8000\n\nstep 5. execute the following qmp command in vm2 to resume vcpu.\n(qemu) cont\nBefore this patch, we get KVM ""emulation failure"" error on vm2.\nThis patch fixes it.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Hogan Wang <hogan.wang@huawei.com>\nMessage-Id: <20200727084621.3279-1-hogan.wang@huawei.com>\nReported-by: ""Dr. David Alan Gilbert"" <dgilbert@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9908111095428468,"KVM, PCI","hw/core/machine.c, hw/i386/pc.c, hw/pci/pci_host.c, include/hw/pci/pci_host.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4fdecf0543b49b8e171510104f3117538b9d1fe9,2ebc21216f58f6fcbf16f7ec0bebe7f72ab3d8ca,Raphael Norwitz,2020-07-17,"Fix vhost-user buffer over-read on ram hot-unplug\n\nThe VHOST_USER_PROTOCOL_F_CONFIGURE_MEM_SLOTS vhost-user protocol\nfeature introduced a shadow-table, used by the backend to dynamically\ndetermine how a vdev's memory regions have changed since the last\nvhost_user_set_mem_table() call. On hot-remove, a memmove() operation\nis used to overwrite the removed shadow region descriptor(s). The size\nparameter of this memmove was off by 1 such that if a VM with a backend\nsupporting the VHOST_USER_PROTOCOL_F_CONFIGURE_MEM_SLOTS filled it's\nshadow-table (by performing the maximum number of supported hot-add\noperatons) and attempted to remove the last region, Qemu would read an\nout of bounds value and potentially crash.\n\nThis change fixes the memmove() bounds such that this erroneous read can\nnever happen.\n\nSigned-off-by: Peter Turschmid <peter.turschm@nutanix.com>\nSigned-off-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nMessage-Id: <1594799958-31356-1-git-send-email-raphael.norwitz@nutanix.com>\nFixes: f1aeb14b0809 (""Transmit vhost-user memory regions individually"")\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nCc: qemu-stable@nongnu.org\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.99964702129364,VHOST_USER,hw/virtio/vhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8796fe40dd30cd9ffd3c958906471715c923b341,fc6bb6e67e2f2b81de765a1c1ad5956de625ab19,Richard Henderson,2020-08-03,"target/arm: Fix AddPAC error indication\n\nThe definition of top_bit used in this function is one higher\nthan that used in the Arm ARM psuedo-code, which put the error\nindication at top_bit - 1 at the wrong place, which meant that\nit wasn't visible to Auth.\n\nFixing the definition of top_bit requires more changes, because\nits most common use is for the count of bits in top_bit:bot_bit,\nwhich would then need to be computed as top_bit - bot_bit + 1.\n\nFor now, prefer the minimal fix to the error indication alone.\n\nFixes: 63ff0ca94cb\nReported-by: Derrick McKee <derrick.mckee@gmail.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20200728195706.11087-1-richard.henderson@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\n[PMM: added comment about the divergence from the pseudocode]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997349381446838,ARM,"target/arm/pauth_helper.c, tests/tcg/aarch64/Makefile.target, tests/tcg/aarch64/pauth-5.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8e0ef068942e4152f0d23e76ca1f5e35dc4456f7,5c1c3e4f02e458cf280c677c817ae4fd1ed9bf10,Philippe Mathieu-Daud,2020-08-04,"accel/xen: Fix xen_enabled() behavior on target-agnostic objects\n\nCONFIG_XEN is generated by configure and stored in ""config-target.h"",\nwhich is (obviously) only include for target-specific objects.\nThis is a problem for target-agnostic objects as CONFIG_XEN is never\ndefined and xen_enabled() is always inlined as 'false'.\n\nFix by following the KVM schema, defining CONFIG_XEN_IS_POSSIBLE\nwhen we don't know to force the call of the non-inlined function,\nreturning the xen_allowed boolean.\n\nFixes: da278d58a092 (""accel: Move Xen accelerator code under accel/xen/"")\nReported-by: Paul Durrant <pdurrant@amazon.com>\nSuggested-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Paul Durrant <paul@xen.org>\nReviewed-by: Anthony PERARD <anthony.perard@citrix.com>\nMessage-Id: <20200804074930.13104-2-philmd@redhat.com>\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>",1,0.9997382760047911,"KVM, SSI, XEN","accel/stubs/xen-stub.c, accel/xen/xen-all.c, include/sysemu/xen.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,facc68516a7ee6d4992dc47b42b47c600b20b21d,5c1c3e4f02e458cf280c677c817ae4fd1ed9bf10,Bruce Rogers,2020-07-30,"virtio-mem: Correct format specifier mismatch for RISC-V\n\nThis likely affects other, less popular host architectures as well.\nLess common host architectures under linux get QEMU_VMALLOC_ALIGN (from\nwhich VIRTIO_MEM_MIN_BLOCK_SIZE is derived) define to a variable of\ntype uintptr, which isn't compatible with the format specifier used to\nprint a user message. Since this particular usage of the underlying data\nseems unique to this file, the simple fix is to just cast\nQEMU_VMALLOC_ALIGN to uint32_t, which corresponds to the format specifier\nused.\n\nSigned-off-by: Bruce Rogers <brogers@suse.com>\nMessage-Id: <20200730130519.168475-1-brogers@suse.com>\nAcked-by: David Hildenbrand <david@redhat.com>\nReviewed-by: Stefano Garzarella <sgarzare@redhat.com>\nReviewed-by: Pankaj Gupta <pankaj.gupta.linux@gmail.com>",1,0.9993032217025756,"VIRTIO, VIRTIO_MEM",hw/virtio/virtio-mem.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6d592c557e2d7131585ea7f6a3f214aba71e8776,d0ed6a69d399ae193959225cdeaa9382746c91cc,Matthieu Bucchianeri,2020-07-27,"target/ppc: Fix TCG leak with the evmwsmiaa instruction\n\nFix double-call to tcg_temp_new_i64(), where a temp is allocated both at\ndeclaration time and further down the implementation of gen_evmwsmiaa().\n\nNote that gen_evmwsmia() and gen_evmwsmiaa() are still not implemented\ncorrectly, as they invoke gen_evmwsmi() which may return early, but the\nreturn is not propagated. This will be fixed in my patch for bug #1888918.\n\nSigned-off-by: Matthieu Bucchianeri <matthieu.bucchianeri@leostella.com>\nMessage-Id: <20200727172114.31415-1-matthieu.bucchianeri@leostella.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999736487865448,TCG,target/ppc/translate/spe-impl.inc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c55bcb1f47071a134a4b96b4137cccca831ac5cf,8d14523b1c98e7e64844a997d07dffcc32c83bef,Greg Kurz,2020-08-05,"spapr: Clarify error and documentation for broken KVM XICS\n\nWhen starting an L2 KVM guest with `ic-mode=dual,kernel-irqchip=on`,\nQEMU fails with:\n\nKVM is too old to support ic-mode=dual,kernel-irqchip=on\n\nThis error message was introduced to detect older KVM versions that\ndidn't allow destruction and re-creation of the XICS KVM device that\nwe do at reboot. But it is actually the same issue that we get with\nnested guests : when running under pseries, KVM currently provides\na genuine XICS device (not the XICS-on-XIVE device that we get\nunder powernv) which doesn't support destruction/re-creation.\n\nThis will eventually be fixed in KVM but in the meantime, update\nthe error message and documentation to mention the nested case.\nWhile here, mention that in ""No XIVE support in KVM"" section that\nthis can also happen with ""guest OSes supporting XIVE"" since\nwe check this at init time before starting the guest.\n\nReported-by: Satheesh Rajendran <sathnaga@linux.vnet.ibm.com>\nBuglink: https://bugs.launchpad.net/qemu/+bug/1890290\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <159664243614.622889.18307368735989783528.stgit@bahia.lan>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999606192111969,"KVM, XICS, XIVE","docs/specs/ppc-spapr-xive.rst, hw/ppc/spapr_irq.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,82f086b5e7ec0adff5a3972f74c446325b4fef9a,c55bcb1f47071a134a4b96b4137cccca831ac5cf,Greg Kurz,2020-08-06,"spapr/xive: Fix xive->fd if kvm_create_device() fails\n\nIf the creation of the KVM XIVE device fails for some reasons, the\nnegative errno ends up in xive->fd, but the rest of the code assumes\nthat xive->fd either contains an open fd, ie. positive value, or -1.\n\nThis doesn't cause any misbehavior except kvmppc_xive_disconnect()\nthat will try to close(xive->fd) during rollback and likely be\nrewarded with an EBADF.\n\nOnly set xive->fd with a open fd.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <159673296585.766512.15404407281299745442.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997467398643494,"KVM, XIVE",hw/intc/spapr_xive_kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a72c71b77d73f9888cbe8da8be09d7097ebca64f,e781139539f3d73ac00f2aea17f5a154b10e4302,Gustavo Romero,2020-08-11,"target/ppc: Integrate icount to purr, vtb, and tbu40\n\nCurrently if option '-icount auto' is passed to the QEMU TCG to enable\ncounting instructions the VM crashes with the following error report when\nLinux runs on it:\n\nqemu-system-ppc64: Bad icount read\n\nThis happens because read/write access to the SPRs PURR, VTB, and TBU40\nis not integrated to the icount framework.\n\nThis commit fixes that issue by making the read/write access of these\nSPRs aware of icount framework, adding the proper gen_io_start() calls\nbefore calling the helpers to load/store these SPRs in TCG and ensuring\nthat the associated TBs end immediately after, accordingly to what's in\ndocs/devel/tcg-icount.rst.\n\nSigned-off-by: Gustavo Romero <gromero@linux.ibm.com>\nMessage-Id: <20200811153235.4527-1-gromero@linux.ibm.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9993594288825988,TCG,target/ppc/translate_init.inc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b14adb4a27c80a255fb35451d7cb2bc70743e7f4,46407a2531da4ff206c1aefe8c3f6d8ad53f2de4,Greg Kurz,2020-08-10,"spapr/xive: Rework error handling of kvmppc_xive_mmap()\n\nCallers currently check failures of kvmppc_xive_mmap() through the\n@errp argument, which isn't a recommanded practice. It is preferred\nto use a return value when possible.\n\nSince NULL isn't an invalid address in theory, it seems better to\nreturn MAP_FAILED and to teach callers to handle it.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <159707845972.1489912.719896767746375765.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9993882179260254,LED,hw/intc/spapr_xive_kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,91dc2b2d12a0343f37a3ab425f2912ae0ce18187,f86d9a093dada588889bde5582c7ec320487c4b8,Max Filippov,2020-05-04,target/xtensa: make opcode properties more dynamic\n\nThere's XtensaOpcodeOps::test_ill that is used to check whether opcode\ngenerates illegal opcode exception or not. The illegal opcode exception\nis not special and so this callback can be generalized to provide any\nXTENSA_OP_* flags that are not completely static.\nIntroduce XtensaOpcodeOps::test_exceptions and convert all test_ill\nusers to test_exceptions.\n\nSigned-off-by: Max Filippov <jcmvbkbc@gmail.com>,1,0.9976871013641356,XTENSA,"target/xtensa/cpu.h, target/xtensa/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fdd33b86b20d153b131fc6259aea7a0084ab14b8,6eaf9cf56f0f6e3faf73273f93cfe3e2e9fd0786,Hou Weiying,2020-08-08,"riscv: Fix bug in setting pmpcfg CSR for RISCV64\n\nFirst, sizeof(target_ulong) equals to 4 on riscv32, so this change\ndoes not change the function on riscv32. Second, sizeof(target_ulong)\nequals to 8 on riscv64, and 'reg_index * 8 + i' is not a legal\npmp_index (we will explain later), which should be 'reg_index * 4 + i'.\n\nIf the parameter reg_index equals to 2 (means that we will change the\nvalue of pmpcfg2, or the second pmpcfg on riscv64), then\npmpcfg_csr_write(env, 2, val) will map write tasks to\npmp_write_cfg(env, 2 * 8 + [0...7], val). However, no cfg csr is indexed\nby value 16 or 23 on riscv64, so we consider it as a bug.\n\nWe are looking for constant (e.g., define a new constant named\nRISCV_WORD_SIZE) in QEMU to help others understand code better,\nbut none was found. A possible good explanation of this literal is it is\nthe minimum word length on riscv is 4 bytes (32 bit).\n\nSigned-off-by: Hongzheng-Li <Ethan.Lee.QNL@gmail.com>\nSigned-off-by: Hou Weiying <weiying_hou@outlook.com>\nSigned-off-by: Myriad-Dreamin <camiyoru@gmail.com>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nMessage-Id: <SG2PR02MB263420036254AC8841F66CE393460@SG2PR02MB2634.apcprd02.prod.outlook.com>\nSigned-off-by: Alistair Francis <alistair.francis@wdc.com>",1,0.9995599389076232,RISCV64,target/riscv/pmp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ace3d65459a01bfd8c2c59ecabb5fd6839b2de54,888468db949e8ea1641c33d97e70b70f57eb69e9,Carlo Marcelo Arenas Beln,2020-08-23,"linux-user: detect mismatched ELF ABI in qemu-mips[n32][el]\n\nMIPS provides 2 ILP32 ABIs, and therefore 4 possible qemu-mips binaries\nwith 2 pairs using the same endianess and bitness.\n\nThis could lead to an O32 image loading in the N32 binary or vice versa\nand in cryptic errors (if lucky that the CPU doesn't match the FPU used)\nlike :\n\n  qemu: Unexpected FPU mode       (o32 ELF loaded to qemu-mipsn32[el])\n  ELF binary's NaN mode not supported by CPU    (n32 -> qemu-mips[el])\n\nAdd an ABI check macro that could be used while checking the ELF header\nthat relies in the ABI2 flag to identify n32 binaries and abort instead\nearly with a more descriptive error :\n\n  Invalid ELF image for this architecture\n\nSigned-off-by: Carlo Marcelo Arenas Beln <carenas@gmail.com>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20200823101703.18451-1-carenas@gmail.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9992085099220276,MIPS,linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,af1b80ae56c9495999e8ccf7b70ef894378de642,42a62c20925e02aef0d849f92a0e9540888e79ae,Michael S. Tsirkin,2020-07-30,"i386/acpi: fix inconsistent QEMU/OVMF device paths\n\nmacOS uses ACPI UIDs to build the DevicePath for NVRAM boot options,\nwhile OVMF firmware gets them via an internal channel through QEMU.\nDue to a bug in QEMU ACPI currently UEFI firmware and ACPI have\ndifferent values, and this makes the underlying operating system\nunable to report its boot option.\n\nThe particular node in question is the primary PciRoot (PCI0 in ACPI),\nwhich for some reason gets assigned 1 in ACPI UID and 0 in the\nDevicePath. This is due to the _UID assigned to it by build_dsdt in\nhw/i386/acpi-build.c Which does not correspond to the primary PCI\nidentifier given by pcibus_num in hw/pci/pci.c\n\nReference with the device paths, OVMF startup logs, and ACPI table\ndumps (SysReport):\nhttps://github.com/acidanthera/bugtracker/issues/1050\n\nIn UEFI v2.8, section ""10.4.2 Rules with ACPI _HID and _UID"" ends with\nthe paragraph,\n\n    Root PCI bridges will use the plug and play ID of PNP0A03, This will\n    be stored in the ACPI Device Path _HID field, or in the Expanded\n    ACPI Device Path _CID field to match the ACPI name space. The _UID\n    in the ACPI Device Path structure must match the _UID in the ACPI\n    name space.\n\n(See especially the last sentence.)\n\nConsidering *extra* root bridges / root buses (with bus number > 0),\nQEMU's ACPI generator actually does the right thing; since QEMU commit\nc96d9286a6d7 (""i386/acpi-build: more traditional _UID and _HID for PXB\nroot buses"", 2015-06-11).\n\nHowever, the _UID values for root bridge zero (on both i440fx and q35)\nhave always been ""wrong"" (from UEFI perspective), going back in QEMU to\ncommit 74523b850189 (""i386: add ACPI table files from seabios"",\n2013-10-14).\n\nEven in SeaBIOS, these _UID values have always been 1; see commit\na4d357638c57 (""Port rombios32 code from bochs-bios."", 2008-03-08) for\ni440fx, and commit ecbe3fd61511 (""seabios: q35: add dsdt"", 2012-12-01)\nfor q35.\n\nCc: qemu-stable@nongnu.org\nSuggested-by: Laszlo Ersek <lersek@redhat.com>\nTested-by: Vitaly Cheptsov <vit9696@protonmail.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>",1,0.99971204996109,"ACPI, PCI, PXB",hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9b897b399eb1f6b71add88ed0bfaeabf63609115,af1b80ae56c9495999e8ccf7b70ef894378de642,Michael S. Tsirkin,2020-07-30,"arm/acpi: fix an out of spec _UID for PCI root\n\nOn ARM/virt machine type QEMU currently reports an incorrect _UID in\nACPI.\n\nThe particular node in question is the primary PciRoot (PCI0 in ACPI),\nwhich gets assigned PCI0 in ACPI UID and 0 in the\nDevicePath. This is due to the _UID assigned to it by build_dsdt in\nhw/arm/virt-acpi-build.c Which does not correspond to the primary PCI\nidentifier given by pcibus_num in hw/pci/pci.c\n\nIn UEFI v2.8, section ""10.4.2 Rules with ACPI _HID and _UID"" ends with\nthe paragraph,\n\n    Root PCI bridges will use the plug and play ID of PNP0A03, This will\n    be stored in the ACPI Device Path _HID field, or in the Expanded\n    ACPI Device Path _CID field to match the ACPI name space. The _UID\n    in the ACPI Device Path structure must match the _UID in the ACPI\n    name space.\n\n(See especially the last sentence.)\n\nA similar bug has been reported on i386, on that architecture it has\nbeen reported to confuse at least macOS which uses ACPI UIDs to build\nthe DevicePath for NVRAM boot options, while OVMF firmware gets them via\nan internal channel through QEMU.  When UEFI firmware and ACPI have\ndifferent values, this makes the underlying operating system unable to\nreport its boot option.\n\nCc: qemu-stable@nongnu.org\nReported-by: Vitaly Cheptsov <vit9696@protonmail.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>",1,0.999721348285675,"ACPI, ARM, PCI",hw/arm/virt-acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1fdbdaa7081eb1d3c9260d3a5399190688b20aed,0a258e94615fccf4faefec17378bcbc9e1f2be9c,Eduardo Habkost,2020-08-25,"versatile: Fix typo in PCI_VPB_HOST definition\n\nFixes: cd93dbf375bd (""versatile_pci: Update to realize and instance init functions"")\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Daniel P. Berrang <berrange@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nTested-By: Roman Bolshakov <r.bolshakov@yadro.com>\nMessage-Id: <20200825192110.3528606-12-ehabkost@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9994889497756958,PCI,hw/pci-host/versatile.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f58b770fbbd9a9849f98d6a7ae63027a1c56d8b9,1fdbdaa7081eb1d3c9260d3a5399190688b20aed,Eduardo Habkost,2020-08-25,virtio-ccw: Fix definition of VIRTIO_CCW_BUS_GET_CLASS\n\nThe macro was incorrectly defined using OBJECT_CHECK.\n\nAcked-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Daniel P. Berrang <berrange@redhat.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nTested-By: Roman Bolshakov <r.bolshakov@yadro.com>\nMessage-Id: <20200825192110.3528606-13-ehabkost@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>,1,0.9991849064826964,"VIRTIO, VIRTIO_CCW",hw/s390x/virtio-ccw.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,870f0051b4ada9a361f7454f833432ae8c06c095,19591e9e0938ea5066984553c256a043bd5d822f,Graeme Gregory,2020-08-28,"hw/arm/sbsa-ref: fix typo breaking PCIe IRQs\n\nFixing a typo in a previous patch that translated an ""i"" to a 1\nand therefore breaking the allocation of PCIe interrupts. This was\ndiscovered when virtio-net-pci devices ceased to function correctly.\n\nCc: qemu-stable@nongnu.org\nFixes: 48ba18e6d3f3 (""hw/arm/sbsa-ref: Simplify by moving the gic in the machine state"")\nSigned-off-by: Graeme Gregory <graeme@nuviainc.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20200821083853.356490-1-graeme@nuviainc.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996644258499146,PCI,hw/arm/sbsa-ref.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,512c65e62e9e1ae9863ae5a8493e9fad9dbf00e7,55d35c881924ce5a8ce410210865e47553762847,Eduardo Habkost,2020-08-28,"armsse: Define ARMSSEClass correctly\n\nTYPE_ARM_SSE is a TYPE_SYS_BUS_DEVICE subclass, but\nARMSSEClass::parent_class is declared as DeviceClass.\n\nIt never caused any problems by pure luck:\n\nWe were not setting class_size for TYPE_ARM_SSE, so class_size of\nTYPE_SYS_BUS_DEVICE was being used (sizeof(SysBusDeviceClass)).\nThis made the system allocate enough memory for TYPE_ARM_SSE\ndevices even though ARMSSEClass was too small for a sysbus\ndevice.\n\nAdditionally, the ARMSSEClass::info field ended up at the same\noffset as SysBusDeviceClass::explicit_ofw_unit_address.  This\nwould make sysbus_get_fw_dev_path() crash for the device.\nLuckily, sysbus_get_fw_dev_path() never gets called for\nTYPE_ARM_SSE devices, because qdev_get_fw_dev_path() is only used\nby the boot device code, and TYPE_ARM_SSE devices don't appear at\nthe fw_boot_order list.\n\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nMessage-id: 20200826181006.4097163-1-ehabkost@redhat.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995476603507996,"ARM, ARMSSE","hw/arm/armsse.c, include/hw/arm/armsse.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b946434f2659a182afc17e155be6791ebfb302eb,202d69a715a4b1824dcd7ec1683d027ed2bae6d3,Gerd Hoffmann,2020-08-25,"usb: fix setup_len init (CVE-2020-14364)\n\nStore calculated setup_len in a local variable, verify it, and only\nwrite it to the struct (USBDevice->setup_len) in case it passed the\nsanity checks.\n\nThis prevents other code (do_token_{in,out} functions specifically)\nfrom working with invalid USBDevice->setup_len values and overrunning\nthe USBDevice->setup_buf[] buffer.\n\nFixes: CVE-2020-14364\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nTested-by: Gonglei <arei.gonglei@huawei.com>\nReviewed-by: Li Qiang <liq3ea@gmail.com>\nMessage-id: 20200825053636.29648-1-kraxel@redhat.com",1,0.9997346997261048,USB,hw/usb/core.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b22c2a68c7d5a57175f13c5920a20e8297955e9b,bd7b4e1fe67561fb8b67c0617b7ea4febd1297a0,Kenta Ishiguro,2020-07-17,"hw/i386/kvm/ioapic.c: fix typo in error message\n\nFix a typo in an error message for KVM_SET_IRQCHIP ioctl:\n""KVM_GET_IRQCHIP"" should be ""KVM_SET_IRQCHIP"".\n\nFixes: a39c1d47ac (""kvm: x86: Add user space part for in-kernel IOAPIC"")\nSigned-off-by: Kenta Ishiguro <kentaishiguro@slowstart.org>\nReviewed-by: Stefano Garzarella <sgarzare@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Li Qiang <liq3ea@gmail.com>\nMessage-Id: <20200717123514.15406-1-kentaishiguro@slowstart.org>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9997076392173768,"APIC, IOAPIC, KVM",hw/i386/kvm/ioapic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f31e8f1318384a680db7280f999c01ae3ef9591c,9b9624714c979e05bb99065966c362b0315b490a,Cdric Le Goater,2020-09-01,"aspeed/sdhci: Fix reset sequence\n\nBIT(0) of the ASPEED_SDHCI_INFO register is set by SW and polled until\nthe bit is cleared by HW.\n\nUse the number of supported slots to define the default value of this\nregister (The AST2600 eMMC Controller only has one). Fix the reset\nsequence by clearing automatically the RESET bit.\n\nCc: Eddie James <eajames@linux.ibm.com>\nFixes: 2bea128c3d0b (""hw/sd/aspeed_sdhci: New device"")\nReviewed-by: Joel Stanley <joel@jms.id.au>\nMessage-Id: <20200819100956.2216690-9-clg@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.999731719493866,SDHCI,hw/sd/aspeed_sdhci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c2ab73fcbe79e0c751ab44cb6f42672f37a060e7,af6d66e23557a36491a06857a447d016f6cf9f33,Cdric Le Goater,2020-09-01,"ftgmac100: Fix integer overflow in ftgmac100_do_tx()\n\nWhen inserting the VLAN tag in packets, memmove() can generate an\ninteger overflow for packets whose length is less than 12 bytes.\n\nMove the VLAN insertion when the last segment of the frame is reached\nand check length against the size of the ethernet header (14 bytes) to\navoid the crash. Return FTGMAC100_INT_XPKT_LOST status if the frame is\ntoo small. This seems like a good modeling choice even if Aspeed does\nnot specify anything in that case.\n\nCc: Frederic Konrad <konrad.frederic@yahoo.fr>\nCc: Mauro Matteo Cascella <mcascell@redhat.com>\nReported-by: Ziming Zhang <ezrakiez@gmail.com>\nMessage-Id: <20200819100956.2216690-15-clg@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9996203184127808,FTGMAC100,hw/net/ftgmac100.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e0059c8883944605d1f5c4dc9c60a881c4b3be39,c2ab73fcbe79e0c751ab44cb6f42672f37a060e7,Cdric Le Goater,2020-09-01,"ftgmac100: Improve software reset\n\nThe software reset of the MAC needs a finer granularity. Some settings\nin MACCR are kept.\n\nCc: Frederic Konrad <konrad.frederic@yahoo.fr>\nFixes: bd44300d1afc (""net: add FTGMAC100 support"")\nMessage-Id: <20200819100956.2216690-16-clg@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9939813017845154,FTGMAC100,hw/net/ftgmac100.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,37e3d65043229bb20bd07af74dc0866e12071415,7b4433bb93f2a4e934aa451b3db4b268f440c8e3,Eduardo Habkost,2020-08-25,arm: Fix typo in AARCH64_CPU_GET_CLASS definition\n\nThere's a typo in the type name of AARCH64_CPU_GET_CLASS.  This\nwas never detected because the macro is not used by any code.\n\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nMessage-Id: <20200825192110.3528606-52-ehabkost@redhat.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>,1,0.9996071457862854,AARCH64,target/arm/cpu-qom.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,978382b453b0e40cc17a983b8c1676386fd3cc5e,ed943cc934a82fd78102f0df2084a8f3c556716f,Philippe Mathieu-Daud,2020-09-02,"tests/qtest/ipmi-kcs: Fix assert side-effect\n\nFix assert side-effect reported by Coverity:\n\n  /qemu/tests/qtest/ipmi-kcs-test.c: 84 in kcs_wait_obf()\n  83         while (IPMI_KCS_CMDREG_GET_OBF() == 0) {\n  >>>     CID 1432368:  Incorrect expression  (ASSERT_SIDE_EFFECT)\n  >>>     Argument ""--count"" of g_assert() has a side effect.  The containing function might work differently in a non-debug build.\n  84             g_assert(--count != 0);\n\nReported-by: Coverity (CID 1432368)\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20200902080801.160652-2-philmd@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9997099041938782,IPMI,tests/qtest/ipmi-kcs-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b31911c6167432edc7dc5dd37e8c01f426576224,64dbe2c8b823a64ddda5ddef52b7d5a1ddf35d8f,Cdric Le Goater,2020-08-20,"spapr/xive: Use the xics flag to check for XIVE-only IRQ backends\n\nThe sPAPR machine has four different IRQ backends, each implementing\nthe XICS or XIVE interrupt mode or both in the case of the 'dual'\nbackend.\n\nIf a machine is started in P8 compat mode, QEMU should necessarily\nsupport the XICS interrupt mode and in that case, the XIVE-only IRQ\nbackend is invalid. Currently, spapr_irq_check() tests the pointer\nvalue to the IRQ backend to check for this condition, instead use the\n'xics' flag. It's equivalent and it will ease the introduction of new\nXIVE-only IRQ backends if needed.\n\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20200820140106.2357228-1-clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9993029832839966,"XICS, XIVE",hw/ppc/spapr_irq.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,28f5a716212b891eef3eadc2c5053c0e0c512e1d,beb6073fe7f53526bc49f9cb1a3a830c2cdaf3e7,Daniel Henrique Barboza,2020-08-25,"ppc/spapr_nvdimm: do not enable support with 'nvdimm=off'\n\nThe NVDIMM support for pSeries was introduced in 5.1, but it\ndidn't contemplate the 'nvdimm' machine option that other\narchs uses. For every other arch, if no '-machine nvdimm(=on)'\nis present, it is assumed that the NVDIMM support is disabled.\nThe user must explictly inform that the machine supports\nNVDIMM. For pseries-5.1 the 'nvdimm' option is completely\nignored, and support is always assumed to exist. This\nleads to situations where the user is able to set 'nvdimm=off'\nbut the guest boots up with the NVDIMMs anyway.\n\nFixing this now, after 5.1 launch, can put the overall NVDIMM\nsupport for pseries in a strange place regarding this 'nvdimm'\nmachine option. If we force everything to be like other archs,\nexisting pseries-5.1 guests that didn't use 'nvdimm' to use NVDIMM\ndevices will break. If we attempt to make the newer pseries\nmachines (5.2+) behave like everyone else, but keep pseries-5.1\nuntouched, we'll have consistency problems on machine upgrade\n(5.1 will have different default values for NVDIMM support than\n5.2).\n\nThe common ground here is, if the user sets 'nvdimm=off', we\nmust comply regardless of being 5.1 or 5.2+. This patch\nchanges spapr_nvdimm_validate() to verify if the user set\nNVDIMM support off in the machine options and, in that\ncase, error out if we have a NVDIMM device. The default\nvalue for 5.2+ pseries machines will still be 'nvdimm=on'\nwhen there is no 'nvdimm' option declared, just like it is today\nwith pseries-5.1. In the end we'll have different default\nsemantics from everyone else in the absence of the 'nvdimm'\nmachine option, but this boat has sailed.\n\nFixes: https://bugzilla.redhat.com/show_bug.cgi?id=1848887\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20200825215749.213536-4-danielhb413@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.936394214630127,"DIMM, NVDIMM",hw/ppc/spapr_nvdimm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,554c2169e9251ca2829ab968bd9ba5641a5abe1d,6ad1da667c8e21f019d4adc21702e06dd9225790,Thiago Jung Bauermann,2020-08-26,"ppc/spapr: Use start-powered-off CPUState property\n\nPowerPC sPAPR CPUs start in the halted state, and spapr_reset_vcpu()\nattempts to implement this by setting CPUState::halted to 1. But that's too\nlate for the case of hotplugged CPUs in a machine configure with 2 or more\nthreads per core.\n\nBy then, other parts of QEMU have already caused the vCPU to run in an\nunitialized state a couple of times. For example, ppc_cpu_reset() calls\nppc_tlb_invalidate_all(), which ends up calling async_run_on_cpu(). This\nkicks the new vCPU while it has CPUState::halted = 0, causing QEMU to issue\na KVM_RUN ioctl on the new vCPU before the guest is able to make the\nstart-cpu RTAS call to initialize its register state.\n\nThis problem doesn't seem to cause visible issues for regular guests, but\non a secure guest running under the Ultravisor it does. The Ultravisor\nrelies on being able to snoop on the start-cpu RTAS call to map vCPUs to\nguests, and this issue causes it to see a stray vCPU that doesn't belong to\nany guest.\n\nFix by setting the start-powered-off CPUState property in\nspapr_create_vcpu(), which makes cpu_common_reset() initialize\nCPUState::halted to 1 at an earlier moment.\n\nSuggested-by: Eduardo Habkost <ehabkost@redhat.com>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: Thiago Jung Bauermann <bauerman@linux.ibm.com>\nMessage-Id: <20200826055535.951207-4-bauerman@linux.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.995826005935669,KVM,hw/ppc/spapr_cpu_core.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,755cfed0071496687493ac09b4746be0d17327ba,1ff5adfa5bad905e36bb7eff5e436e26793f111f,Eduardo Habkost,2020-09-02,gpex: Fix type checking function name\n\nThis looks like a copy/paste mistake: the instance type checking\nmacro for TYPE_GPEX_ROOT_DEVICE was named MCH_PCI_DEVICE.\n\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20200902224311.1321159-2-ehabkost@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>,1,0.999680519104004,PCI,include/hw/pci-host/gpex.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4969e697c15ac536d5c0700381d5d026ef7f0588,bc3bde84484e39cd922486ac7e755d3e29e8a22f,Gerd Hoffmann,2020-09-09,"usb-host: restrict workaround to new libusb versions\n\nFixes build failures with old kernels (USBDEVFS_GET_SPEED missing),\non the assumtion that distros with old kernels also have old libusb.\n\nReported-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20200902081445.3291-1-kraxel@redhat.com>\nMessage-Id: <20200909112742.25730-3-alex.bennee@linaro.org>",1,0.9995586276054382,USB,hw/usb/host-libusb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7f808687448d767e5f336c1e28e58fe112d72a8c,4969e697c15ac536d5c0700381d5d026ef7f0588,Alex Benne,2020-09-09,tests/meson.build: fp tests don't need CONFIG_TCG\n\nAs the tests build only softfloat.c no actual TCG machinary is needed\nto test them (as is evidenced by GCC check-softfloat). Might as well\nfix the wording on Travis while at it.\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20200909112742.25730-4-alex.bennee@linaro.org>,1,0.9995428323745728,TCG,".travis.yml, tests/meson.build",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,102661430cae403ce8cc5768f1a55512c92234be,7f808687448d767e5f336c1e28e58fe112d72a8c,Alex Benne,2020-09-09,target/mips: simplify gen_compute_imm_branch logic\n\nOne of the Travis builds was complaining about:\n\n  qemu/include/tcg/tcg.h:437:12: error: cond may be used uninitialized in this function [-Werror=maybe-uninitialized]\n       return (TCGCond)(c ^ 1);\n  ../target/mips/translate.c:20031:13: note: cond was declared here\n       TCGCond cond;\n\nRather than figure out exactly which one was causing the complaint I\njust defaulted to TCG_COND_ALWAYS and allowed that state to double up\nfor the now defunct bcond_compute variable.\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20200909112742.25730-5-alex.bennee@linaro.org>,1,0.983920156955719,TCG,target/mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3e292c51ff079258c40dae926f71252423cdcc98,e3624e8b1872185ff55a151b299a2cfdc3b42e78,Gerd Hoffmann,2020-09-14,meson: fix module config\n\nUse all config symbols not only the host ones.\nNeeded to make sure device configs like CONFIG_QXL\nare used for modules too.\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nMessage-id: 20200914134224.29769-3-kraxel@redhat.com,1,0.9995890259742736,QXL,meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d6892f12a5c5ca258b85dfc4d210e7604b0e3dcf,4b41c9c4a12d9fa3a38f22e5b345666c57bd087d,Dov Murik,2020-09-09,"hw/timer/hpet: Remove unused functions hpet_ram_readb, hpet_ram_readw\n\nFix compiler error about defined but not used functions when compiling\nwith -DHPET_DEBUG by deleting the unused debug functions hpet_ram_readb\nand hpet_ram_readw.\n\nSigned-off-by: Dov Murik <dovmurik@linux.vnet.ibm.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20200909083650.46771-2-dovmurik@linux.vnet.ibm.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.98796808719635,HPET,hw/timer/hpet.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,931c1d48e5e4a6c0a38476da49ed21ef6260fe45,d6892f12a5c5ca258b85dfc4d210e7604b0e3dcf,Dov Murik,2020-09-09,"hw/timer/hpet: Fix debug format strings\n\nFix compiler errors when compiling with -DHPET_DEBUG due to mismatch\nbetween format string token ""%x"" and the argument type uint64_t.\n\nAlso ""%#x"" is replaced by ""0x%"" PRIx64 according to the coding style.\n\nSigned-off-by: Dov Murik <dovmurik@linux.vnet.ibm.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20200909083650.46771-3-dovmurik@linux.vnet.ibm.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.999619722366333,HPET,hw/timer/hpet.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d03087bda4ba17076b430fd2af083020d7c5112a,4c880f363e9e43862230e22a4503e2fc0f092fba,Richard Henderson,2020-09-15,target/arm: Set instance_align on CPUARM TypeInfo\n\nFix alignment of CPUARMState.vfp.zregs.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20200916004638.2444147-4-richard.henderson@linaro.org>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>,1,0.9959081411361694,ARM,target/arm/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1b49d14459958dbc8b9f5cd44b43b440a9c9c62b,d03087bda4ba17076b430fd2af083020d7c5112a,Richard Henderson,2020-09-15,target/ppc: Set instance_align on PowerPCCPU TypeInfo\n\nFix alignment of CPUPPCState.vsr.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nMessage-Id: <20200916004638.2444147-5-richard.henderson@linaro.org>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>,1,0.999080777168274,PPC,target/ppc/translate_init.c.inc,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f62192a2fddb65e7e6e8955a29eee2fe6f0916a8,5de5b99b3101a1648ed583193db8d92eea0c4545,Richard Henderson,2020-09-15,target/s390x: Set instance_align on S390CPU TypeInfo\n\nFix alignment of CPUS390XState.vregs.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20200916004638.2444147-7-richard.henderson@linaro.org>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>,1,0.999439775943756,S390X,target/s390x/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a6704a34cf02add13964149e0de6453ae62bd9db,27eda699f59d430c33fc054a36a17251992e70dc,Stefano Garzarella,2020-09-21,"vhost-vsock-ccw: force virtio version 1\n\nvirtio-vsock was introduced after the release of VIRTIO 1.0\nspecifications, so it should be 'modern-only'.\n\nThis patch forces virtio version 1 as done for vhost-vsock-pci.\n\nTo avoid migration issues, we force virtio version 1 only when\nlegacy check is enabled in the new machine types (>= 5.1).\n\nCc: qemu-stable@nongnu.org\nSuggested-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nSigned-off-by: Stefano Garzarella <sgarzare@redhat.com>\nMessage-Id: <20200921122506.82515-5-sgarzare@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9921656847000122,VIRTIO,hw/s390x/vhost-vsock-ccw.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,10c3666658f53c5ec8fd9ec27cdf5c393ff814a0,bb99f4772f54017490e3356ecbb3df25c5d4537f,Daniel P. Berrang,2020-09-23,"hw/smbios: report error if table size is too large\n\nThe SMBIOS 2.1 entry point uses a uint16 data type for reporting the\ntotal length of the tables. If the user passes -smbios configuration to\nQEMU that causes the table size to exceed this limit then various bad\nbehaviours result, including\n\n - firmware hangs in an infinite loop\n - firmware triggers a KVM crash on bad memory access\n - firmware silently discards user's SMBIOS data replacing it with\n   a generic data set.\n\nLimiting the size to 0xffff in QEMU avoids triggering most of these\nproblems. There is a remaining bug in SeaBIOS which tries to prepend its\nown data for table 0, and does not check whether there is sufficient\nspace before attempting this.\n\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>\nMessage-Id: <20200923133804.2089190-3-berrange@redhat.com>\nTested-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996176958084106,"KVM, SMBIOS",hw/smbios/smbios.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8ad038abb98e36fa391ed1cc09a9b569a08b6bff,df00a529727d7795f9d796cddd1139ffe48eddb2,Ani Sinha,2020-09-18,"Fix a gap where acpi_pcihp_find_hotplug_bus() returns a non-hotpluggable bus\n\nWhen ACPI hotplug for the root bus is disabled, the bsel property for that\nbus is not set. Please see the following commit:\n\n3d7e78aa7777f (""Introduce a new flag for i440fx to disable PCI hotplug on the\nroot bus"").\n\nAs a result, when acpi_pcihp_find_hotplug_bus() is called\nwith bsel set to 0, it may return the root bus. This can cause devices\nattached to the root bus to get hot-unplugged if the user issues the following\nset of commmands:\n\noutl 0xae10 0\noutl 0xae08 your_slot\n\nThanks to Julia for pointing this out here:\nhttps://www.mail-archive.com/qemu-devel@nongnu.org/msg734548.html\n\nIn this patch, we fix the issue in this function by checking if the bus which\nis returned by the function is actually hotpluggable. If not, we simply return\nNULL. This avoids the scenario where we were returning a non-hotpluggable bus.\n\nSigned-off-by: Ani Sinha <ani@anisinha.ca>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20200918084111.15339-5-ani@anisinha.ca>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997112154960632,"ACPI, PCI",hw/acpi/pcihp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,15a5b25408538172bd1dafae373c729a82a1e86d,8ad038abb98e36fa391ed1cc09a9b569a08b6bff,Ani Sinha,2020-09-18,"i440fx/acpi: do not add hotplug related amls for cold plugged bridges\n\nCold plugged bridges are not hot unpluggable, even when their hotplug\nproperty (acpi-pci-hotplug-with-bridge-support) is turned off. Please see\nthe function acpi_pcihp_pc_no_hotplug(). However, with\nthe current implementaton, Windows would try to hot-unplug a pci bridge when\nit's hotplug switch is off. This is regardless of whether there are devices\nattached to the bridge. This is because we add ACPI code like _EJ0 etc for the\npci slot where the bridge is cold plugged.\n\nIn this fix, we identify a cold plugged bridge and for cold plugged bridges,\nwe do not add the appropriate ACPI methods that are used by the OS\nto identify a hot-pluggable/unpluggable pci device. After this change, Windows\ndoes not detect the cold plugged pci bridge as ejectable.\n\nAs a result of the patch, the following are the changes to the DSDT ACPI\ntable:\n\n@@ -858,38 +858,33 @@\n                     Return (Zero)\n                 }\n\n                 Method (_S2D, 0, NotSerialized)  // _S2D: S2 Device State\n                 {\n                     Return (Zero)\n                 }\n\n                 Method (_S3D, 0, NotSerialized)  // _S3D: S3 Device State\n                 {\n                     Return (Zero)\n                 }\n             }\n\n             Device (S18)\n             {\n-                Name (_SUN, 0x03)  // _SUN: Slot User Number\n                 Name (_ADR, 0x00030000)  // _ADR: Address\n-                Method (_EJ0, 1, NotSerialized)  // _EJx: Eject Device\n-                {\n-                    PCEJ (BSEL, _SUN)\n-                }\n             }\n\n             Device (S20)\n             {\n                 Name (_SUN, 0x04)  // _SUN: Slot User Number\n                 Name (_ADR, 0x00040000)  // _ADR: Address\n                 Method (_EJ0, 1, NotSerialized)  // _EJx: Eject Device\n                 {\n                     PCEJ (BSEL, _SUN)\n                 }\n             }\n\n             Device (S28)\n             {\n                 Name (_SUN, 0x05)  // _SUN: Slot User Number\n                 Name (_ADR, 0x00050000)  // _ADR: Address\n@@ -1148,37 +1143,32 @@\n                     PCEJ (BSEL, _SUN)\n                 }\n             }\n\n             Device (SF8)\n             {\n                 Name (_SUN, 0x1F)  // _SUN: Slot User Number\n                 Name (_ADR, 0x001F0000)  // _ADR: Address\n                 Method (_EJ0, 1, NotSerialized)  // _EJx: Eject Device\n                 {\n                     PCEJ (BSEL, _SUN)\n                 }\n             }\n\n             Method (DVNT, 2, NotSerialized)\n             {\n-                If ((Arg0 & 0x08))\n-                {\n-                    Notify (S18, Arg1)\n-                }\n-\n                 If ((Arg0 & 0x10))\n                 {\n                     Notify (S20, Arg1)\n                 }\n\n                 If ((Arg0 & 0x20))\n                 {\n                     Notify (S28, Arg1)\n                 }\n\n                 If ((Arg0 & 0x40))\n                 {\n                     Notify (S30, Arg1)\n                 }\n\n                 If ((Arg0 & 0x80))\n\nWhile at it, I have also updated a stale comment.\n\nSigned-off-by: Ani Sinha <ani@anisinha.ca>\nSuggested-by: Julia Suvorova <jusual@redhat.com>\nReviewed-by: Julia Suvorova <jusual@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20200918084111.15339-6-ani@anisinha.ca>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.965940535068512,ACPI,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5c8e1e832822f2e5bc630864a77eea40ee520a4f,8fe11232c8ad0fecbfab0ea804bfdef0bbec0da7,Sunil Muthuswamy,2020-07-30,WHPX: vmware cpuid leaf for tsc and apic frequency\n\nNewer versions of WHPX provide the capability to query the tsc\nand apic frequency. Expose these through the vmware cpuid leaf.\nThis patch doesnt support setting the tsc frequency; that will\ncome as a separate fix.\n\nSigned-off-by: Sunil Muthuswamy <sunilmut@microsoft.com>\nMessage-Id: <SN4PR2101MB08808DFDDC3F442BBEAADFF4C0710@SN4PR2101MB0880.namprd21.prod.outlook.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996440410614014,"DDC, WHPX","target/i386/whp-dispatch.h, target/i386/whpx-all.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,afff2db61f6ace9bb2c4d81c7c57601f5c009acd,b7dd40d40bfa44536bee4aa4d643b26621097d27,Dmitry Fomichev,2020-08-12,"scsi-generic: Fix HM-zoned device scan\n\nSeveral important steps during device scan depend on SCSI type of the\ndevice. For example, max_transfer property is only determined and\nassigned if the device has the type of TYPE_DISK.\n\nHost-managed ZBC disks retain most of the properties of regular SCSI\ndrives, but they have their own SCSI device type, 0x14. This prevents\nthe proper assignment of max_transfer property for HM-zoned devices in\nscsi-generic driver leading to I/O errors if the maximum i/o size\ncalculated at the guest exceeds the host value.\n\nTo fix this, define TYPE_ZBC to have the standard value from SCSI ZBC\nstandard spec. Several scan steps that were previously done only for\nTYPE_DISK devices, are now performed for the SCSI devices having\nTYPE_ZBC too.\n\nReported-by: Johannes Thumshirn <johannes.thumshirn@wdc.com>\nSigned-off-by: Dmitry Fomichev <dmitry.fomichev@wdc.com>\nMessage-Id: <20200811225122.17342-3-dmitry.fomichev@wdc.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997166991233826,SCSI,"hw/scsi/scsi-generic.c, include/scsi/constants.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6615be072dbb88d306cd1647c7c7b694682bac5e,56bf1c4985fb9ad24642f176cc40db0eb4f3dc31,Vitaly Kuznetsov,2020-09-17,target/i386: Fix VM migration when interrupt based APF is enabled\n\nVM with  interrupt based APF enabled fails to migrate:\nqemu-system-x86_64: error: failed to set MSR 0x4b564d02 to 0xf3\n\nWe have two issues:\n1) There is a typo in kvm_put_msrs() and we write async_pf_int_msr\nto MSR_KVM_ASYNC_PF_EN (instead of MSR_KVM_ASYNC_PF_INT)\n\n2) We restore MSR_KVM_ASYNC_PF_EN before MSR_KVM_ASYNC_PF_INT is set\nand this violates the check in KVM.\n\nRe-order MSR_KVM_ASYNC_PF_EN/MSR_KVM_ASYNC_PF_INT setting (and\nkvm_get_msrs() for consistency) and fix the typo.\n\nSigned-off-by: Vitaly Kuznetsov <vkuznets@redhat.com>\nMessage-Id: <20200917102316.814804-1-vkuznets@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996954202651978,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8700a984436e561e29903731d7db11a4b61acd76,6615be072dbb88d306cd1647c7c7b694682bac5e,Vitaly Kuznetsov,2020-09-22,"target/i386: always create kvmclock device\n\nQEMU's kvmclock device is only created when KVM PV feature bits for\nkvmclock (KVM_FEATURE_CLOCKSOURCE/KVM_FEATURE_CLOCKSOURCE2) are\nexposed to the guest. With 'kvm=off' cpu flag the device is not\ncreated and we don't call KVM_GET_CLOCK/KVM_SET_CLOCK upon migration.\nIt was reported that without these call at least Hyper-V TSC page\nclocksouce (which can be enabled independently) gets broken after\nmigration.\n\nSwitch to creating kvmclock QEMU device unconditionally, it seems\nto always make sense to call KVM_GET_CLOCK/KVM_SET_CLOCK on migration.\nUse KVM_CAP_ADJUST_CLOCK check instead of CPUID feature bits.\n\nReported-by: Antoine Damhet <antoine.damhet@blade-group.com>\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Vitaly Kuznetsov <vkuznets@redhat.com>\nMessage-Id: <20200922151934.899555-1-vkuznets@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.99875009059906,KVM,"hw/i386/kvm/clock.c, hw/i386/microvm.c, hw/i386/pc.c, hw/i386/pc_piix.c, hw/i386/pc_q35.c, include/hw/i386/pc.h, include/hw/kvm/clock.h, target/i386/kvm.c, target/i386/kvm_i386.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d1e2d46467b95b0327935db91241fed27a053af4,8700a984436e561e29903731d7db11a4b61acd76,Eduardo Habkost,2020-09-22,"bios-tables-test: Remove kernel-irqchip=off option\n\nWe don't need to use kernel-irqchip=off for irq0 override if IRQ\nrouting is supported by the host, which is the case since 2009\n(IRQ routing was added to KVM in Linux v2.6.30).\n\nThis is a more straightforward fix for Launchpad bug #1896263, as\nit doesn't require increasing the complexity of the MSR code.\nkernel-irqchip=off is for debugging only and there's no need to\nincrease the complexity of the code just to work around an issue\nthat was already fixed in the kernel.\n\nFixes: https://bugs.launchpad.net/bugs/1896263\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nMessage-Id: <20200922194732.2100510-1-ehabkost@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996275901794434,KVM,tests/qtest/bios-tables-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4487d420d0d0d9b503bfb9308e474f0bbac54700,ad1e691db208d2e04260f08f093bf22296344944,Eric Auger,2020-09-29,"util/vfio-helpers: Collect IOVA reserved regions\n\nThe IOVA allocator currently ignores host reserved regions.\nAs a result some chosen IOVAs may collide with some of them,\nresulting in VFIO MAP_DMA errors later on. This happens on ARM\nwhere the MSI reserved window quickly is encountered:\n[0x8000000, 0x8100000]. since 5.4 kernel, VFIO returns the usable\nIOVA regions. So let's enumerate them in the prospect to avoid\nthem, later on.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nMessage-id: 20200929085550.30926-2-eric.auger@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9994823932647704,"ARM, VFIO",util/vfio-helpers.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1b5e843ab68c4afa611da22f303a5b0daa979ad8,eb4c9775089f355db9cb6292a947aa5cba6c380b,Igor Mammedov,2020-10-06,"numa: hmat: require parent cache description before the next level one\n\nSpec[1] defines 0 - 3 level memory side cache, however QEMU\nCLI allows to specify an intermediate cache level without\nspecifying previous level. Such option(s) silently ignored\nwhen building HMAT table, which leads to incomplete cache\ninformation.\nMake sure that previous level exists and error out\nif it hasn't been provided.\n\n1) ACPI 6.2A 5.2.27.5 Memory Side Cache Information Structure\n\nFixes: https://bugzilla.redhat.com/show_bug.cgi?id=1842877\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>\nMessage-Id: <20201006150002.1601845-1-imammedo@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.99972265958786,ACPI,hw/core/numa.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,605751b5a5334e187761b0b8a8266a216897bf70,d2cf4af1f4af02f6f2d5827d9a06c31690084d3b,Thomas Huth,2020-07-28,"pc-bios/s390-ccw: Do not bail out early if not finding a SCSI disk\n\nIn case the user did not specify a boot device, we want to continue\nlooking for other devices if there are no valid SCSI disks on a virtio-\nscsi controller. As a first step, do not panic in this case and let\nthe control flow carry the error to the upper functions instead.\n\nMessage-Id: <20200806105349.632-6-thuth@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9840832352638244,SCSI,"pc-bios/s390-ccw/main.c, pc-bios/s390-ccw/s390-ccw.h, pc-bios/s390-ccw/virtio-blkdev.c, pc-bios/s390-ccw/virtio-scsi.c, pc-bios/s390-ccw/virtio-scsi.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,62475e9d007d83db4d0a6ccebcda8914f392e9c9,cae5d53b9e72d7a1e43cebeb36471d77a16c6e43,Kele Huang,2020-10-02,"accel/tcg: Fix computing of is_write for MIPS\n\nDetect all MIPS store instructions in cpu_signal_handler for all available\nMIPS versions, and set is_write if encountering such store instructions.\n\nThis fixed the error while dealing with self-modified code for MIPS.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Kele Huang <kele.hwang@gmail.com>\nSigned-off-by: Xu Zou <iwatchnima@gmail.com>\nMessage-Id: <20201002081420.10814-1-kele.hwang@gmail.com>\n[rth: Use uintptr_t for pc to fix n32 build error.]\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9996932744979858,MIPS,accel/tcg/user-exec.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3059344f01e1bf9625570ef2e8396fa011e9431d,04788fd5c5577cbe5fb61107cdd9732479c793ca,Philippe Mathieu-Daud,2020-10-02,"hw/char/bcm2835_aux: Allow less than 32-bit accesses\n\nThe ""BCM2835 ARM Peripherals"" datasheet [*] chapter 2\n(""Auxiliaries: UART1 & SPI1, SPI2""), list the register\nsizes as 3/8/16/32 bits. We assume this means this\nperipheral allows 8-bit accesses.\n\nThis was not an issue until commit 5d971f9e67 which reverted\n(""memory: accept mismatching sizes in memory_region_access_valid"").\n\nThe model is implemented as 32-bit accesses (see commit 97398d900c,\nall registers are 32-bit) so replace MemoryRegionOps.valid as\nMemoryRegionOps.impl, and re-introduce MemoryRegionOps.valid\nwith a 8/32-bit range.\n\n[*] https://www.raspberrypi.org/app/uploads/2012/02/BCM2835-ARM-Peripherals.pdf\n\nFixes: 97398d900c (""bcm2835_aux: add emulation of BCM2835 AUX (aka UART1) block"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20201002181032.1899463-1-f4bug@amsat.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9424965977668762,"ARM, AUX",hw/char/bcm2835_aux.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f0638a0b6bba455e8eaf518f23487d6ff1f59b5a,497d415d76b9f59fcae27f22df1ca2c3fa4df64e,Fabiano Rosas,2020-09-11,"spapr: Handle HPT allocation failure in nested guest\n\nThe nested KVM code does not yet support HPT guests. Calling the\nKVM_CAP_PPC_ALLOC_HTAB ioctl currently leads to KVM setting the guest\nas HPT and erroneously executing code in L1 that should only run in\nhypervisor mode, leading to an exception in the L1 vcpu thread when it\nenters the nested guest.\n\nThis can be reproduced with -machine max-cpu-compat=power8 in the L2\nguest command line.\n\nThe KVM code has since been modified to fail the ioctl when running in\na nested environment so QEMU needs to be able to handle that. This\npatch provides an error message informing the user about the lack of\nsupport for HPT in nested guests.\n\nReported-by: Satheesh Rajendran <sathnaga@linux.vnet.ibm.com>\nSigned-off-by: Fabiano Rosas <farosas@linux.ibm.com>\nMessage-Id: <20200911043123.204162-1-farosas@linux.ibm.com>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9988425970077516,"KVM, PPC",hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,121afbe487b7b10b9fc683be16068368e1ad0f11,a3114923d4c5f0a2ccc8b4d74b3eebad3fb6ce5d,Greg Kurz,2020-09-14,"spapr: Get rid of cas_check_pvr() error reporting\n\nThe cas_check_pvr() function has two purposes:\n- finding the ""best"" logical PVR, ie. the most recent one supported by\n  the guest for this CPU type\n- checking if the guest supports the real PVR of this CPU type, which\n  is just an optional extra information to workaround the lack of\n  support for ""compat"" mode in PR KVM\n\nThis logic doesn't need error reporting, really. If we don't find a\nsuitable logical PVR, we return the special value 0 which is definitely\nnot a valid PVR. Let the caller decide on whether it should error out\nor not.\n\nThis doesn't change the behavior.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <20200914123505.612812-6-groug@kaod.org>\nReviewed-by: Vladimir Sementsov-Ogievskiy <vsementsov@virtuozzo.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996728897094728,KVM,hw/ppc/spapr_hcall.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0c3dd50eaecbfe267db1e90c2ade165da331e143,4a7c0bd9dcb08798c6f82e55b5a3423f7ee669f1,Paolo Bonzini,2020-10-07,"configure: fix performance regression due to PIC objects\n\nBecause most files in QEMU are grouped into static libraries, Meson conservatively\ncompiles them with -fPIC.  This is overkill and produces slowdowns up to 20% on\nsome TCG tests.\n\nAs a stopgap measure, use the b_staticpic option to limit the slowdown to\n--enable-pie.  https://github.com/mesonbuild/meson/pull/7760 will allow\nus to use b_staticpic=false and let Meson do the right thing.\n\nReported-by: Ahmed Karaman <ahmedkrmn@outlook.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nMessage-Id: <20200924092314.1722645-57-pbonzini@redhat.com>\nMessage-Id: <20201007160038.26953-2-alex.bennee@linaro.org>",1,0.9995741248130798,TCG,configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fbc5884ce2774232ea5a1a7d9b4e605aefc16a2b,242fb750bd3246cd17eea1455eb7c898a4843e77,Huacai Chen,2020-10-07,"meson.build: Re-enable KVM support for MIPS\n\nAfter converting from configure to meson, KVM support is lost for MIPS,\nso re-enable it in meson.build.\n\nFixes: fdb75aeff7c212e1afaaa3a43 (""configure: remove target configuration"")\nFixes: 8a19980e3fc42239aae054bc9 (""configure: move accelerator logic to meson"")\nCc: aolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Huacai Chen <chenhc@lemote.com>\nMessage-Id: <1602059975-10115-3-git-send-email-chenhc@lemote.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.8819578289985657,"KVM, MIPS",meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eaf65114f0585a914642c1ce1379bb8339984858,a4339de2de4def4beb33e22e6f506bcc8b9d9326,Thomas Huth,2020-07-10,"softmmu/vl: Be less verbose about missing KVM when running the qtests\n\nSome of the qtests use ""-accel kvm -accel tcg"" to run real guest code.\nThis causes some error messages when kvm is not available. We do not\nreally care about these messages since the fallback to tcg is expected\nhere. So let's silence them to avoid that they spoil the output of\nthe tests.\n\nUnfortunately, we can not use the qtest_enabled() wrapper in this case,\nsince the qtest accelerator itself is not initialized. Thus we have to\ntest for the qtest_chrdev variable instead.\n\nMessage-Id: <20200710085020.28222-1-thuth@redhat.com>\nReviewed-by: Alexander Bulekov <alxndr@bu.edu>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.999631643295288,KVM,softmmu/vl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3298bbce1b0e560b88103ddbbbb6548e4b9576cd,21786c7e59847b1612406ff394958f22e5b323f8,Julia Suvorova,2020-10-06,hw/pci: Fix typo in PCI hot-plug error message\n\n'occupied' is spelled like 'ocuppied' in the message.\n\nSigned-off-by: Julia Suvorova <jusual@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20201006133958.600932-1-jusual@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>,1,0.9995965361595154,PCI,"hw/pci/pci.c, hw/ppc/spapr_pci.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1a7655d53d0f6984624f3868125774a34456ca27,217baac12db1c1a43fa643d95ffa665a4c4877ce,Zhenyu Wang,2019-08-20,"i386/kvm: fix FEATURE_HYPERV_EDX value in hyperv_passthrough case\n\nFix typo to use correct edx value for FEATURE_HYPERV_EDX when\nhyperv_passthrough is enabled.\n\nSigned-off-by: Zhenyu Wang <zhenyuw@linux.intel.com>\nMessage-Id: <20190820103030.12515-1-zhenyuw@linux.intel.com>\nFixes: e48ddcc6ce13 (""i386/kvm: implement 'hv-passthrough' mode"")\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9997190833091736,HYPERV,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4ba98e96e0d1cf8c6188a3169fbb2e1f08838a63,cf960317cb644c772610c1a275a88635af4a40d9,Philippe Mathieu-Daud,2020-10-09,"MAINTAINERS: Downgrade MIPS Boston to 'Odd Fixes', fix Paul Burton mail\n\nPaul's Wavecomp email has been bouncing for months. He told us\nhe ""no longer has access to modern MIPS CPUs or Boston hardware,\nand wouldn't currently have time to spend on them if he did."" [1]\nbut ""perhaps that might change in the future."" [2].\nBe fair and downgrade the status of the Boston board to ""Odd Fixes""\n(has a maintainer but they don't have time to do much other).\nSimilarly to commit 2b107c2c1c ("".mailmap: Update Paul Burton email\naddress""), update his email address here too.\n\n[1] https://www.mail-archive.com/qemu-devel@nongnu.org/msg718739.html\n[2] https://www.mail-archive.com/qemu-devel@nongnu.org/msg728605.html\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20201013101659.3557154-4-f4bug@amsat.org>",1,0.999433934688568,MIPS,MAINTAINERS,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ccee80c68db14b3e965582a19393992b5c2b97f4,69958d8a3d9535f43a457044b2b277c3c6a5ef3d,Anthony PERARD,2020-10-14,"usb/hcd-ehci: Fix error handling on missing device for iTD\n\nThe EHCI Host Controller emulation attempt to locate the device\nassociated with a periodic isochronous transfer description (iTD) and\nwhen this fail the host controller is reset.\n\nBut according the EHCI spec 1.0 section 5.15.2.4 Host System\nError, the host controller is supposed to reset itself only when it\nfailed to communicate with the Host (Operating System), like when\nthere's an error on the PCI bus. If a transaction fails, there's\nnothing in the spec that say to reset the host controller.\n\nThis patch rework the error path so that the host controller can keep\nworking when the OS setup a bogus transaction, it also revert to the\nbehavior of the EHCI emulation to before commits:\ne94682f1fe (""ehci: check device is not NULL before calling usb_ep_get()"")\n7011baece2 (""usb: remove unnecessary NULL device check from usb_ep_get()"")\n\nThe issue has been found while trying to passthrough a USB device to a\nWindows Server 2012 Xen guest via ""usb-ehci"", which prevent the USB\ndevice from working in Windows. (""usb-ehci"" alone works, windows only\nsetup this weird periodic iTD to device 127 endpoint 15 when the USB\ndevice is passthrough.)\n\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>\nMessage-id: 20201014104106.2962640-1-anthony.perard@citrix.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997389912605286,"PCI, USB",hw/usb/hcd-ehci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,722bde6789c55f9f872026f796ecabecbec5d82b,be95dffa326a63f6f850d389dbe358d25e8ba20b,Philippe Mathieu-Daud,2020-10-10,"hw/arm/bcm2835_peripherals: Correctly wire the SYS_timer IRQs\n\nThe SYS_timer is not directly wired to the ARM core, but to the\nSoC (peripheral) interrupt controller.\n\nFixes: 0e5bbd74064 (""hw/arm/bcm2835_peripherals: Use the SYS_timer"")\nReviewed-by: Luc Michel <luc.michel@greensocs.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20201010203709.3116542-5-f4bug@amsat.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995691180229188,ARM,hw/arm/bcm2835_peripherals.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9b1c911654e9d4937f10cb347cf581d50771ee5b,c51a5a23d87be2cfd8e2d739d11475b251f398cb,Claudio Fontana,2020-10-13,"replay: do not build if TCG is not available\n\nthis fixes non-TCG builds broken recently by replay reverse debugging.\n\nStub the needed functions in stub/, splitting roughly between functions\nneeded only by system emulation, by system emulation and tools,\nand by everyone.  This includes duplicating some code in replay/, and\nputs the logic for non-replay related events in the replay/ module (+\nthe stubs), so this should be revisited in the future.\n\nSurprisingly, only _one_ qtest was affected by this, ide-test.c, which\nresulted in a buzz as the bh events were never delivered, and the bh\nnever executed.\n\nMany other subsystems _should_ have been affected.\n\nThis fixes the immediate issue, however a better way to group replay\nfunctionality to TCG-only code could be developed in the long term.\n\nSigned-off-by: Claudio Fontana <cfontana@suse.de>\nMessage-Id: <20201013192123.22632-4-cfontana@suse.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995803236961364,TCG,"block/meson.build, net/meson.build, replay/meson.build, replay/stubs-system.c, stubs/meson.build, stubs/replay-tools.c, stubs/replay-user.c, stubs/replay.c, tests/ptimer-test-stubs.c, tests/qtest/qmp-cmd-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,57e2a1f82c6cf37cbf164d0824cca692e0db7133,c8d5450bba38560193f5648f5337199d797c5208,Sunil Muthuswamy,2020-10-22,"WHPX: Fix WHPX build break\n\nWith upstream commit#8a19980e3fc4, logic was introduced to only\nallow WHPX build on x64. But, the logic checks for the cpu family\nand not the cpu. On my fedora container build, the cpu family is\nx86 and the cpu is x86_64. Fixing the build break by checking for\nthe cpu, instead of the cpu family.\n\nSigned-off-by: Sunil Muthuswamy <sunilmut@microsoft.com>\nMessage-Id: <SN4PR2101MB0880D706A85793DDFC411304C01D0@SN4PR2101MB0880.namprd21.prod.outlook.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999710500240326,WHPX,meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,94cbcf530f9d9789b75ef1ae227ba4a4f702bf7d,195cc354696d75e9625cf303a0791404b3215501,Klaus Jensen,2019-10-11,"hw/block/nvme: handle dma errors\n\nHandling DMA errors gracefully is required for the device to pass the\nblock/011 test (""disable PCI device while doing I/O"") in the blktests\nsuite.\n\nWith this patch the device sets the Controller Fatal Status bit in the\nCSTS register when failing to read from a submission queue or writing to\na completion queue; expecting the host to reset the controller.\n\nIf DMA errors occur at any other point in the execution of the command\n(say, while mapping the PRPs), the command is aborted with a Data\nTransfer Error status code.\n\nSigned-off-by: Klaus Jensen <k.jensen@samsung.com>\nReviewed-by: Keith Busch <kbusch@kernel.org>",1,0.9997190833091736,PCI,"hw/block/nvme.c, hw/block/trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7854104897444027759d805c133d9ea16c6a6c47,83d5e19d3eedcf533d8be009a03c167b7e1ccf2e,Pavel Dovgalyuk,2020-10-23,"hw/arm: fix min_cpus for xlnx-versal-virt platform\n\nThis patch sets min_cpus field for xlnx-versal-virt platform,\nbecause it always creates XLNX_VERSAL_NR_ACPUS cpus even with\n-smp 1 command line option.\n\nSigned-off-by: Pavel Dovgalyuk <pavel.dovgalyuk@ispras.ru>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nMessage-id: 160343854912.8460.17915238517799132371.stgit@pasha-ThinkPad-X280\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9994076490402222,XLNX_VERSAL,hw/arm/xlnx-versal-virt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0a06e4d6267ca150d62fbc371afab2fbb5586cb8,c3e051ed6d2a0337fa5172d27231a193f18f92c4,Greg Kurz,2020-10-26,"target/ppc: Fix kvmppc_load_htab_chunk() error reporting\n\nIf kvmppc_load_htab_chunk() fails, its return value is propagated up\nto vmstate_load(). It should thus be a negative errno, not -1 (which\nmaps to EPERM and would lure the user into thinking that the problem\nis necessarily related to a lack of privilege).\n\nReturn the error reported by KVM or ENOSPC in case of short write.\nWhile here, propagate the error message through an @errp argument\nand have the caller to print it with error_report_err() instead\nof relying on fprintf().\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <160371604713.305923.5264900354159029580.stgit@bahia.lan>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997407793998718,KVM,"hw/ppc/spapr.c, target/ppc/kvm.c, target/ppc/kvm_ppc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a4e3a7c02bec45b1054c5e4fe3234519498fb55a,0a06e4d6267ca150d62fbc371afab2fbb5586cb8,Greg Kurz,2020-10-26,"spapr: Improve spapr_reallocate_hpt() error reporting\n\nspapr_reallocate_hpt() has three users, two of which pass &error_fatal\nand the third one, htab_load(), passes &local_err, uses it to detect\nfailures and simply propagates -EINVAL up to vmstate_load(), which will\ncause QEMU to exit. It is thus confusing that spapr_reallocate_hpt()\ndoesn't return right away when an error is detected in some cases. Also,\nthe comment suggesting that the caller is welcome to try to carry on\nseems like a remnant in this respect.\n\nThis can be improved:\n- change spapr_reallocate_hpt() to always report a negative errno on\n  failure, either as reported by KVM or -ENOSPC if the HPT is smaller\n  than what was asked,\n- use that to detect failures in htab_load() which is preferred over\n  checking &local_err,\n- propagate this negative errno to vmstate_load() because it is more\n  accurate than propagating -EINVAL for all possible errors.\n\n[dwg: Fix compile error due to omitted prelim patch]\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <160371605460.305923.5890143959901241157.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999255120754242,KVM,"hw/ppc/spapr.c, include/hw/ppc/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1a6d3bd229d429879a85a9105fb84cae049d083c,46cd1e8a4752379b1b9d24d43d7be7d5aba03e76,Greg Kurz,2020-10-23,"block: End quiescent sections when a BDS is deleted\n\nIf a BDS gets deleted during blk_drain_all(), it might miss a\ncall to bdrv_do_drained_end(). This means missing a call to\naio_enable_external() and the AIO context remains disabled for\never. This can cause a device to become irresponsive and to\ndisrupt the guest execution, ie. hang, loop forever or worse.\n\nThis scenario is quite easy to encounter with virtio-scsi\non POWER when punching multiple blockdev-create QMP commands\nwhile the guest is booting and it is still running the SLOF\nfirmware. This happens because SLOF disables/re-enables PCI\ndevices multiple times via IO/MEM/MASTER bits of PCI_COMMAND\nregister after the initial probe/feature negotiation, as it\ntends to work with a single device at a time at various stages\nlike probing and running block/network bootloaders without\ndoing a full reset in-between. This naturally generates many\ndataplane stops and starts, and thus many drain sections that\ncan race with blockdev_create_run(). In the end, SLOF bails\nout.\n\nIt is somehow reproducible on x86 but it requires to generate\narticial dataplane start/stop activity with stop/cont QMP\ncommands. In this case, seabios ends up looping for ever,\nwaiting for the virtio-scsi device to send a response to\na command it never received.\n\nAdd a helper that pairs all previously called bdrv_do_drained_begin()\nwith a bdrv_do_drained_end() and call it from bdrv_close().\nWhile at it, update the ""/bdrv-drain/graph-change/drain_all""\ntest in test-bdrv-drain so that it can catch the issue.\n\nBugId: https://bugzilla.redhat.com/show_bug.cgi?id=1874441\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <160346526998.272601.9045392804399803158.stgit@bahia.lan>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.999575674533844,PCI,"block.c, block/io.c, include/block/block.h, tests/test-bdrv-drain.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b6dd6504e303d4339df2db765433bffa36dfbf8b,e663f516830c61f1dcafd2dda810126c14327b15,Kirti Wankhede,2020-10-26,"vfio: Add vfio_listener_log_sync to mark dirty pages\n\nvfio_listener_log_sync gets list of dirty pages from container using\nVFIO_IOMMU_GET_DIRTY_BITMAP ioctl and mark those pages dirty when all\ndevices are stopped and saving state.\nReturn early for the RAM block section of mapped MMIO region.\n\nSigned-off-by: Kirti Wankhede <kwankhede@nvidia.com>\nReviewed-by: Neo Jia <cjia@nvidia.com>\n[aw: fix error_report types, fix cpu_physical_memory_set_dirty_lebitmap() cast]\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.99952495098114,VFIO,"hw/vfio/common.c, hw/vfio/trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cd7498d07fbb20fa04790ff7ee168a8a8d01cb30,7486a62845b1e12011dd99973e4739f69d57cd38,Matthew Rosato,2020-10-26,"s390x/pci: Add routine to get the vfio dma available count\n\nCreate new files for separating out vfio-specific work for s390\npci. Add the first such routine, which issues VFIO_IOMMU_GET_INFO\nioctl to collect the current dma available count.\n\nSigned-off-by: Matthew Rosato <mjrosato@linux.ibm.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\n[aw: Fix non-Linux build with CONFIG_LINUX]\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9988256096839904,"LINUX, VFIO","hw/s390x/meson.build, hw/s390x/s390-pci-vfio.c, include/hw/s390x/s390-pci-vfio.h",0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c20a135a7a14d846699b0cfc9f74bcc2a226bee6,76346b6264a9b01979829a5d4366c3799e2dd15a,Peter Maydell,2020-11-02,"hw/intc/arm_gicv3_cpuif: Make GIC maintenance interrupts work\n\nIn gicv3_init_cpuif() we copy the ARMCPU gicv3_maintenance_interrupt\ninto the GICv3CPUState struct's maintenance_irq field.  This will\nonly work if the board happens to have already wired up the CPU\nmaintenance IRQ before the GIC was realized.  Unfortunately this is\nnot the case for the 'virt' board, and so the value that gets copied\nis NULL (since a qemu_irq is really a pointer to an IRQState struct\nunder the hood).  The effect is that the CPU interface code never\nactually raises the maintenance interrupt line.\n\nInstead, since the GICv3CPUState has a pointer to the CPUState, make\nthe dereference at the point where we want to raise the interrupt, to\navoid an implicit requirement on board code to wire things up in a\nparticular order.\n\nReported-by: Jose Martins <josemartins90@gmail.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20201009153904.28529-1-peter.maydell@linaro.org\nReviewed-by: Luc Michel <luc@lmichel.fr>",1,0.9939773082733154,ARM,"hw/intc/arm_gicv3_cpuif.c, include/hw/intc/arm_gicv3_common.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8acefc79deaab1c7ee2ab07b540b0e3edf0f9f47,ef298e3826e574c712d10e38a5f2a3629d6f5e01,Markus Armbruster,2020-11-02,"sockets: Make abstract UnixSocketAddress depend on CONFIG_LINUX\n\nThe abstract socket namespace is a non-portable Linux extension.  An\nattempt to use it elsewhere should fail with ENOENT (the abstract\naddress looks like a """" pathname, which does not resolve).  We report\nthis failure like\n\n    Failed to connect socket abc: No such file or directory\n\nTolerable, although ENOTSUP would be better.\n\nHowever, introspection lies: it has @abstract regardless of host\nsupport.  Easy enough to fix: since Linux provides them since 2.2,\n'if': 'defined(CONFIG_LINUX)' should do.\n\nThe above failure becomes\n\n    Parameter 'backend.data.addr.data.abstract' is unexpected\n\nI consider this an improvement.\n\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>",1,0.9997326731681824,LINUX,"chardev/char-socket.c, chardev/char.c, qapi/sockets.json, tests/test-util-sockets.c, util/qemu-sockets.c",0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a0546a7b6f14a919b67cea1d1fc4362ac2901868,4b19e9b8159b5eecf8e90c81c56c1a13547e411a,Philippe Mathieu-Daud,2020-10-29,"block/nvme: Fix nvme_submit_command() on big-endian host\n\nThe Completion Queue Command Identifier is a 16-bit value,\nso nvme_submit_command() is unlikely to work on big-endian\nhosts, as the relevant bits are truncated.\nFix by using the correct byte-swap function.\n\nFixes: bdd6a90a9e5 (""block: Add VFIO based NVMe driver"")\nReported-by: Keith Busch <kbusch@kernel.org>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-id: 20201029093306.1063879-25-philmd@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nTested-by: Eric Auger <eric.auger@redhat.com>",1,0.9997171759605408,VFIO,block/nvme.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3d87c2d9435a4c71d588a770a8a34382c1afa9c1,a4bc212add9bd9d7a7baaa095f875d9212eb1fc9,Philippe Mathieu-Daud,2020-11-03,"util/vfio-helpers: Trace PCI I/O config accesses\n\nWe sometime get kernel panic with some devices on Aarch64\nhosts. Alex Williamson suggests it might be broken PCIe\nroot complex. Add trace event to record the latest I/O\naccess before crashing. In case, assert our accesses are\naligned.\n\nReviewed-by: Fam Zheng <fam@euphon.net>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20201103020733.2303148-3-philmd@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nTested-by: Eric Auger <eric.auger@redhat.com>",1,0.9990272521972656,PCI,"util/trace-events, util/vfio-helpers.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1b296c3def4b9b63d2fdbce6646edd108a3e616c,5c3cfe33f4185841feaedd07bea1d6d7e02011a0,Jean-Philippe Brucker,2020-10-30,"vfio: Don't issue full 2^64 unmap\n\nIOMMUs may declare memory regions spanning from 0 to UINT64_MAX. When\nattempting to deal with such region, vfio_listener_region_del() passes a\nsize of 2^64 to int128_get64() which throws an assertion failure.  Even\nignoring this, the VFIO_IOMMU_DMA_MAP ioctl cannot handle this size\nsince the size field is 64-bit. Split the request in two.\n\nAcked-by: Alex Williamson <alex.williamson@redhat.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nSigned-off-by: Jean-Philippe Brucker <jean-philippe@linaro.org>\nMessage-Id: <20201030180510.747225-11-jean-philippe@linaro.org>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996981620788574,VFIO,hw/vfio/common.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,11f60f7eaee2630dd6fa0c3a8c49f792e46c4cf1,bc15e44cb2191bbb2318878acdf5038134e56394,Stefan Hajnoczi,2020-10-27,block/export: make vhost-user-blk config space little-endian\n\nVIRTIO 1.0 devices have little-endian configuration space. The\nvhost-user-blk-server.c code already uses little-endian for virtqueue\nprocessing but not for the configuration space fields. Fix this so the\nvhost-user-blk export works on big-endian hosts.\n\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-Id: <20201027173528.213464-4-stefanha@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9994333386421204,VIRTIO,block/export/vhost-user-blk-server.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,77280d33bc9cfdbfb5b5d462259d644f5aefe9b3,5e49e89cb6e71c8bc06fe9dd1afd4037917b10bb,Cornelia Huck,2020-11-03,"s390x: fix build for --without-default-devices\n\ns390-pci-vfio.c calls into the vfio code, so we need it to be\nbuilt conditionally on vfio (which implies CONFIG_LINUX).\n\nFixes: cd7498d07fbb (""s390x/pci: Add routine to get the vfio dma available count"")\nReported-by: Philippe Mathieu-Daud <philmd@redhat.com>\nTested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Matthew Rosato <mjrosato@linux.ibm.com>\nMessage-Id: <20201103123237.718242-1-cohuck@redhat.com>\nAcked-by: Greg Kurz <groug@kaod.org>\nTested-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9997087121009828,LINUX,"hw/s390x/meson.build, include/hw/s390x/s390-pci-vfio.h",0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e6b99460b14469e0b83febc8d5a501947d1d5c7c,22e13675874dabcb314de98134fe6142cd9864a7,Philippe Mathieu-Daud,2020-11-04,"hw/9pfs: Fix Kconfig dependency problem between 9pfs and Xen\n\nCommit b2c00bce54c (""meson: convert hw/9pfs, cleanup"") introduced\nCONFIG_9PFS (probably a wrong conflict resolution). This config is\nnot used anywhere. Backends depend on CONFIG_FSDEV_9P which itself\ndepends on CONFIG_VIRTFS.\n\nRemove the invalid CONFIG_9PFS and use CONFIG_FSDEV_9P instead, to\nfix the './configure --without-default-devices --enable-xen' build:\n\n  /usr/bin/ld: libcommon.fa.p/hw_xen_xen-legacy-backend.c.o: in function `xen_be_register_common':\n  hw/xen/xen-legacy-backend.c:754: undefined reference to `xen_9pfs_ops'\n  /usr/bin/ld: libcommon.fa.p/fsdev_qemu-fsdev.c.o:(.data.rel+0x8): undefined reference to `local_ops'\n  /usr/bin/ld: libcommon.fa.p/fsdev_qemu-fsdev.c.o:(.data.rel+0x20): undefined reference to `synth_ops'\n  /usr/bin/ld: libcommon.fa.p/fsdev_qemu-fsdev.c.o:(.data.rel+0x38): undefined reference to `proxy_ops'\n  collect2: error: ld returned 1 exit status\n\nFixes: b2c00bce54c (""meson: convert hw/9pfs, cleanup"")\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nAcked-by: Greg Kurz <groug@kaod.org>\nTested-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nAcked-by: Christian Schoenebeck <qemu_oss@crudebyte.com>\nMessage-Id: <20201104115706.3101190-3-philmd@redhat.com>\nSigned-off-by: Christian Schoenebeck <qemu_oss@crudebyte.com>",1,0.9996127486228944,"FSDEV_9P, VIRTFS","hw/9pfs/Kconfig, hw/9pfs/meson.build",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a3f6be81aa95f4f80504face9bc6de6d2dc1743f,a2547c1ba911a0c53a10fe02d94a0f539dc064cc,Stefan Hajnoczi,2020-11-06,"meson: always include contrib/libvhost-user\n\nlibvhost-user is needed when CONFIG_LINUX is set. The CONFIG_VHOST_USER\ncheck in meson.build is incorrect.\n\nIn fact, no explicit check is needed since this dependency is not built\nby default. If something declares a dependency on libvhost-user then it\nwill be built, otherwise it won't be built (i.e. on non-Linux hosts).\n\nThis fixes ./configure --disable-vhost-user && make.\n\nFixes: bc15e44cb2191bbb2318878acdf5038134e56394 (""configure: introduce --enable-vhost-user-blk-server"")\nReported-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReported-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-Id: <20201106210340.698771-1-stefanha@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9997199177742004,"LINUX, VHOST_USER",meson.build,0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b8ae597f0e6df9d1d80e07083fabf763fcb46013,43afbbd9fea1b255cc81f5f4bfd0b6a88826c735,Peter Maydell,2020-11-05,"linux-user/sparc: Fix errors in target_ucontext structures\n\nThe various structs that make up the SPARC target_ucontext had some\nerrors:\n * target structures must not include fields which are host pointers,\n   which might be the wrong size.  These should be abi_ulong instead\n * because we don't have the 'long double' part of the mcfpu_fregs\n   union in our version of the target_mc_fpu struct, we need to\n   manually force it to be 16-aligned\n\nIn particular, the lack of 16-alignment caused sparc64_get_context()\nand sparc64_set_context() to read and write all the registers at the\nwrong offset, which triggered a guest glibc stack check in\nsiglongjmp:\n  *** longjmp causes uninitialized stack frame ***: terminated\nwhen trying to run bash.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20201105212314.9628-2-peter.maydell@linaro.org>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9997358918190002,SPARC,linux-user/sparc/signal.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,136fc6aa2cf38205fa3b47e155ebac11baccc789,af3bbbe98405fe2d274696abe5def679a3b0c673,Peng Liang,2020-11-12,"ACPI: Avoid infinite recursion when dump-vmstate\n\nThere is a field with vmstate_ghes_state as vmsd in vmstate_ghes_state,\nwhich will lead to infinite recursion in dump_vmstate_vmsd.\n\nFixes: a08a64627b (""ACPI: Record the Generic Error Status Block address"")\nReported-by: Euler Robot <euler.robot@huawei.com>\nSigned-off-by: Peng Liang <liangpeng10@huawei.com>\nAcked-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20201112020638.874515-1-liangpeng10@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>",1,0.9997195601463318,ACPI,hw/acpi/generic_event_device.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3009edff8192991293fe9e2b50b0d90db83c4a89,c6f28ed5075df79fef39c500362a3f4089256c9c,Stefan Hajnoczi,2020-11-09,"vhost-user: fix VHOST_USER_ADD/REM_MEM_REG truncation\n\nQEMU currently truncates the mmap_offset field when sending\nVHOST_USER_ADD_MEM_REG and VHOST_USER_REM_MEM_REG messages. The struct\nlayout looks like this:\n\n  typedef struct VhostUserMemoryRegion {\n      uint64_t guest_phys_addr;\n      uint64_t memory_size;\n      uint64_t userspace_addr;\n      uint64_t mmap_offset;\n  } VhostUserMemoryRegion;\n\n  typedef struct VhostUserMemRegMsg {\n      uint32_t padding;\n      /* WARNING: there is a 32-bit hole here! */\n      VhostUserMemoryRegion region;\n  } VhostUserMemRegMsg;\n\nThe payload size is calculated as follows when sending the message in\nhw/virtio/vhost-user.c:\n\n  msg->hdr.size = sizeof(msg->payload.mem_reg.padding) +\n      sizeof(VhostUserMemoryRegion);\n\nThis calculation produces an incorrect result of only 36 bytes.\nsizeof(VhostUserMemRegMsg) is actually 40 bytes.\n\nThe consequence of this is that the final field, mmap_offset, is\ntruncated. This breaks x86_64 TCG guests on s390 hosts. Other guest/host\ncombinations may get lucky if either of the following holds:\n1. The guest memory layout does not need mmap_offset != 0.\n2. The host is little-endian and mmap_offset <= 0xffffffff so the\n   truncation has no effect.\n\nFix this by extending the existing 32-bit padding field to 64-bit. Now\nthe padding reflects the actual compiler padding. This can be verified\nusing pahole(1).\n\nAlso document the layout properly in the vhost-user specification.  The\nvhost-user spec did not document the exact layout. It would be\nimpossible to implement the spec without looking at the QEMU source\ncode.\n\nExisting vhost-user frontends and device backends continue to work after\nthis fix has been applied. The only change in the wire protocol is that\nQEMU now sets hdr.size to 40 instead of 36. If a vhost-user\nimplementation has a hardcoded size check for 36 bytes, then it will\nfail with new QEMUs. Both QEMU and DPDK/SPDK don't check the exact\npayload size, so they continue to work.\n\nFixes: f1aeb14b0809e313c74244d838645ed25e85ea63 (""Transmit vhost-user memory regions individually"")\nCc: Raphael Norwitz <raphael.norwitz@nutanix.com>\nCc: Cornelia Huck <cohuck@redhat.com>\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Christian Borntraeger <borntraeger@de.ibm.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-Id: <20201109174355.1069147-1-stefanha@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nFixes: f1aeb14b0809 (""Transmit vhost-user memory regions individually"")\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Raphael Norwitz <raphael.norwitz@nutanix.com>",1,0.9997069239616394,"TCG, VHOST_USER","contrib/libvhost-user/libvhost-user.h, docs/interop/vhost-user.rst, hw/virtio/vhost-user.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eb6a388624ec40d9be5c965ad05531ef1b5f4eb3,e5e856c1eb4b85fe96472cf7aed48e336fe5ce74,Stefan Hajnoczi,2020-11-10,"vhost-user-blk-server: depend on CONFIG_VHOST_USER\n\nI interpreted CONFIG_VHOST_USER as controlling only QEMU's vhost-user\ndevice frontends. However, virtiofsd and contrib/ vhost-user device\nbackends are also controlled by CONFIG_VHOST_USER. Make the\nvhost-user-blk server depend on CONFIG_VHOST_USER for consistency.\n\nNow the following error is printed when the vhost-user-blk server is\nenabled without CONFIG_VHOST_USER:\n\n  $ ./configure --disable-vhost-user --enable-vhost-user-blk ...\n  ../meson.build:761:8: ERROR: Problem encountered: vhost_user_blk_server requires vhost-user support\n\nSuggested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSuggested-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-Id: <20201110171121.1265142-3-stefanha@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nTested-by: Philippe Mathieu-Daud <philmd@redhat.com>",1,0.9996384382247924,VHOST_USER,meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,727a06326c9ebf4ad8ed80eb533278bc60202804,d88618f717f948d97ae6f4401b014e30d52c68ec,Philippe Mathieu-Daud,2020-11-07,"hw/i386/acpi-build: Fix maybe-uninitialized error when ACPI hotplug off\n\nGCC 9.3.0 thinks that 'method' can be left uninitialized. This code\nis already in the ""if (bsel || pcihp_bridge_en)"" block statement,\nbut it isn't smart enough to figure it out.\n\nRestrict the code to be used only in the ""if (bsel || pcihp_bridge_en)""\nblock statement to fix (on Ubuntu):\n\n  ../hw/i386/acpi-build.c: In function 'build_append_pci_bus_devices':\n  ../hw/i386/acpi-build.c:496:9: error: 'method' may be used uninitialized\n  in this function [-Werror=maybe-uninitialized]\n    496 |         aml_append(parent_scope, method);\n        |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  cc1: all warnings being treated as errors\n\nFixes: df4008c9c59 (""piix4: don't reserve hw resources when hotplug is off globally"")\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20201107194045.438027-1-philmd@redhat.com>\nAcked-by: Ani Sinha <ani@anisinha.ca>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997075200080872,ACPI,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f0617abfd6c08a7711cb99cc02a74533846c2f7d,1cd8b9487025966123287e532636f231b46e8398,Philippe Mathieu-Daud,2020-11-09,"hw/usb/Kconfig: Fix USB_XHCI_NEC (depends on USB_XHCI_PCI)\n\nSince commit 755fba11fbc and 8ddab8dd3d8 we can not build\nUSB_XHCI_NEC without USB_XHCI_PCI. Correct the Kconfig\ndependency.\n\nFixes: 755fba11fbc (""usb/hcd-xhci: Move qemu-xhci device to hcd-xhci-pci.c"")\nReviewed-by: Sai Pavan Boddu <sai.pavan.boddu@xilinx.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20201109135300.2592982-2-philmd@redhat.com\n\n[ kraxel: restore ""default y if PCI_DEVICES"" because\n          ""qemu-system-ppc64 -M pseries,usb=on"" needs USB_XHCI_NEC=y ]\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999512791633606,"PCI, PCI_DEVICES, USB, USB_XHCI, USB_XHCI_NEC, USB_XHCI_PCI",hw/usb/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0c3e41d40828f78f182c6eb7d54624ce7b0c49f8,9cd7dde0730ed823b545910c0d5a676142015e3b,Alex Benne,2020-11-10,"meson.build: fix building of Xen support for aarch64\n\nXen is supported on ARM although weirdly using the i386-softmmu model.\nChecking based on the host CPU meant we never enabled Xen support. It\nwould be nice to enable CONFIG_XEN for aarch64-softmmu to make it not\nseem weird but that will require further build surgery.\n\nFixes: 8a19980e3f (""configure: move accelerator logic to meson"")\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nCc: Masami Hiramatsu <masami.hiramatsu@linaro.org>\nCc: Stefano Stabellini <sstabellini@kernel.org>\nCc: Anthony Perard <anthony.perard@citrix.com>\nCc: Paul Durrant <paul@xen.org>\nMessage-Id: <20201110192316.26397-4-alex.bennee@linaro.org>",1,0.9994118213653564,"ARM, XEN",meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,811c74fb657db0559274a710e50ef0096a1915a3,4bdccdec70b27a474afd4711dddbbf5a56c2040a,Philippe Mathieu-Daud,2020-11-10,"hw/i386/acpi-build: Fix maybe-uninitialized error when ACPI hotplug off\n\nGCC 9.3.0 thinks that 'method' can be left uninitialized. This code\nis already in the ""if (bsel || pcihp_bridge_en)"" block statement,\nbut it isn't smart enough to figure it out.\n\nRestrict the code to be used only in the ""if (bsel || pcihp_bridge_en)""\nblock statement to fix (on Ubuntu):\n\n  ../hw/i386/acpi-build.c: In function 'build_append_pci_bus_devices':\n  ../hw/i386/acpi-build.c:496:9: error: 'method' may be used uninitialized\n  in this function [-Werror=maybe-uninitialized]\n    496 |         aml_append(parent_scope, method);\n        |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  cc1: all warnings being treated as errors\n\nFixes: df4008c9c59 (""piix4: don't reserve hw resources when hotplug is off globally"")\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20201108204535.2319870-4-philmd@redhat.com>\nMessage-Id: <20201110192316.26397-8-alex.bennee@linaro.org>",1,0.9997075200080872,ACPI,hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2654ace151c07bd6519a7b71ab98d763137302eb,cb5ed407a1ddadf788fd373fed41c87c9e81e5b0,Tom Lendacky,2020-11-16,"kvm/i386: Set proper nested state format for SVM\n\nCurrently, the nested state format is hardcoded to VMX. This will result\nin kvm_put_nested_state() returning an error because the KVM SVM support\nchecks for the nested state to be KVM_STATE_NESTED_FORMAT_SVM. As a\nresult, kvm_arch_put_registers() errors out early.\n\nUpdate the setting of the format based on the virtualization feature:\n  VMX - KVM_STATE_NESTED_FORMAT_VMX\n  SVM - KVM_STATE_NESTED_FORMAT_SVM\n\nAlso, fix the code formatting while at it.\n\nFixes: b16c0e20c7 (""KVM: add support for AMD nested live migration"")\nCc: Eduardo Habkost <ehabkost@redhat.com>\nCc: Richard Henderson <richard.henderson@linaro.org>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Marcelo Tosatti <mtosatti@redhat.com>\nSigned-off-by: Tom Lendacky <thomas.lendacky@amd.com>\nMessage-Id: <fe53d00fe0d884e812960781284cd48ae9206acc.1605546140.git.thomas.lendacky@amd.com>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995100498199464,KVM,target/i386/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3362c56835cd171e178b754f39d3814c27670f8b,48aa8f0ac536db3550a35c295ff7de94e4c33739,Andrew Jones,2020-11-17,"hw/arm/virt: ARM_VIRT must select ARM_GIC\n\nThe removal of the selection of A15MPCORE from ARM_VIRT also\nremoved what A15MPCORE selects, ARM_GIC. We still need ARM_GIC.\n\nFixes: bec3c97e0cf9 (""hw/arm/virt: Remove dependency on Cortex-A15 MPCore peripherals"")\nReported-by: Miroslav Rezanina <mrezanin@redhat.com>\nSigned-off-by: Andrew Jones <drjones@redhat.com>\nReviewed-by: Miroslav Rezanina <mrezanin@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20201111143440.112763-1-drjones@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999237060546875,"A15MPCORE, ARM, ARM_GIC, ARM_VIRT",hw/arm/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3428455df9302b2b924e380cb90a77ca1ce5001e,8e26ae7bb58d10c04599eabd265217da050514a4,Kevin Wolf,2020-11-17,"authz-pam: Check that 'service' property is set\n\nIf the 'service' property is not set, we'll call pam_start() with a NULL\npointer for the service name. This fails and leaves a message like this\nin the syslog:\n\nqemu-storage-daemon[294015]: PAM pam_start: invalid argument: service == NULL\n\nMake specifying the property mandatory and catch the error already\nduring the creation of the object.\n\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>",1,0.9996966123580932,PAM,authz/pamacct.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e2c6cd567422bfa563be026b9741a1854aecdc06,b696f2c6ba8c92ffb5eca49b88a5c7276d0a3e1e,Collin Walling,2020-11-13,"s390/kvm: fix diag318 propagation and reset functionality\n\nThe Control Program Name Code (CPNC) portion of the diag318\ninfo must be set within the SIE block of each VCPU in the\nconfiguration. The handler will iterate through each VCPU\nand dirty the diag318_info reg to be synced with KVM on a\nsubsequent sync_regs call.\n\nAdditionally, the diag318 info resets must be handled via\nuserspace. As such, QEMU will reset this value for each\nVCPU during a modified clear, load normal, and load clear\nreset event.\n\nFixes: fabdada9357b (""s390: guest support for diagnose 0x318"")\nSigned-off-by: Collin Walling <walling@linux.ibm.com>\nMessage-Id: <20201113221022.257054-1-walling@linux.ibm.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Janosch Frank <frankja@de.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9994493126869202,KVM,"hw/s390x/s390-virtio-ccw.c, target/s390x/cpu.c, target/s390x/cpu.h, target/s390x/kvm-stub.c, target/s390x/kvm.c, target/s390x/kvm_s390x.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a4e2fff1b104f2b235ea2673968d0b0383f541dc,e67ad058e45aa8b23e9b94e793b9fcf66e70ebb0,Cornelia Huck,2020-11-18,"s390x/pci: fix endianness issues\n\nThe zPCI group and function structures are big endian. However, we do\nnot consistently store them as big endian locally, and are missing some\nconversions.\n\nLet's just store the structures as host endian instead and convert to\nbig endian when actually handling the instructions retrieving the data.\n\nAlso fix the layout of ClpReqQueryPciGrp: g is actually only 8 bit. This\nalso fixes accesses on little endian hosts, and makes accesses on big\nendian hosts consistent.\n\nFixes: 28dc86a07299 (""s390x/pci: use a PCI Group structure"")\nFixes: 9670ee752727 (""s390x/pci: use a PCI Function structure"")\nFixes: 1e7552ff5c34 (""s390x/pci: get zPCI function info from host"")\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>\nTested-by: Matthew Rosato <mjrosato@linux.ibm.com>\nTested-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Matthew Rosato <mjrosato@linux.ibm.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20201118104202.1301363-1-cohuck@redhat.com>",1,0.9996953010559082,PCI,"hw/s390x/s390-pci-bus.c, hw/s390x/s390-pci-inst.c, hw/s390x/s390-pci-vfio.c, include/hw/s390x/s390-pci-clp.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6ca2aa5cfb65f5fa791e2400a6db4e34b6f9fa27,7fbd7e710323c8f4c5f6a38a8ae0e6726b5a4599,Paolo Bonzini,2020-11-20,"usb: fix kconfig for usb-xhci-sysbus\n\nRemove the ""default y"" for USB_XHCI_SYSBUS because\nsysbus devices are not user creatable; boards that use them will\nspecify them manually with ""imply"" or ""select"" clauses.\n\nIt would be nice to keep the ability to remove PCIe and USB from microvm,\nsince thos can be disabled on the command line and therefore should not\nbe included if QEMU is configured --without-default-devices.  However\nit's too late for 5.2 to figure out a place for the DSDT creation code.\n\nReported-by: Bruce Rogers <brogers@suse.com>\nCc: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9991414546966552,"PCI, USB, USB_XHCI, USB_XHCI_SYSBUS",hw/usb/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,48e5c7f34c557afe49396a00169629d24dc3342d,e3a232cccd2445e5d9e607a65a78cdbc33ff8a0f,Mark Cave-Ayland,2020-11-20,"hw/display/tcx: add missing 64-bit access for framebuffer blitter\n\nCommit ae5643ecc6 ""hw/display/tcx: Allow 64-bit accesses to framebuffer stippler\nand blitter"" enabled 64-bit access for the TCX framebuffer stippler and blitter\nbut missed applying the change to one of the blitter MemoryRegions.\n\nWhilst the original change works for me on my local NetBSD test image, the latest\nNetBSD ISO panics on startup without this fix.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nFixes: ae5643ecc6 (""hw/display/tcx: Allow 64-bit accesses to framebuffer stippler and blitter"")\nBuglink: https://bugs.launchpad.net/bugs/1892540\nMessage-Id: <20201120081754.18250-1-mark.cave-ayland@ilande.co.uk>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>",1,0.998611330986023,TCX,hw/display/tcx.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8ad4e4519c6d0981bd511f7ad9107c16c7a94f5c,7ed3e1ebcbe542c74c32e842689af60d644fcee6,Zenghui Yu,2020-12-04,pcie_aer: Fix help message of pcie_aer_inject_error command\n\nThere is an interesting typo in the help message of pcie_aer_inject_error\ncommand. Use 'tlp' instead of 'tlb' to match the PCIe AER term.\n\nSigned-off-by: Zenghui Yu <yuzenghui@huawei.com>\nMessage-Id: <20201204030953.837-1-yuzenghui@huawei.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9996026158332824,PCI,hmp-commands.hx,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4160d5e6bd347e5d27804912b61d02df0a90ba8e,07e39012fee26267fa7cdcbc8456a3601f199d41,Laurent Vivier,2020-10-22,"target/m68k: remove useless qregs array\n\nThey are unused since the target has been converted to TCG.\n\nFixes: e1f3808e03f7 (""Convert m68k target to TCG."")\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20201022203000.1922749-2-laurent@vivier.eu>",1,0.8543193936347961,TCG,target/m68k/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7d6f01a12be534ce2ffaf0aa8741e5f5efca2362,90c429ee765ec6ca2e2384edc9e45b4ddfae9adb,Philippe Mathieu-Daud,2020-11-30,"target/mips: Allow executing MSA instructions on Loongson-3A4000\n\nThe Loongson-3A4000 is a GS464V-based processor with MIPS MSA ASE:\nhttps://www.mail-archive.com/qemu-devel@nongnu.org/msg763059.html\n\nCommit af868995e1b correctly set the 'MSA present' bit of Config3\nregister, but forgot to allow the MSA instructions decoding in\ninsn_flags, so executing them triggers a 'Reserved Instruction'.\n\nFix by adding the ASE_MSA mask to insn_flags.\n\nFixes: af868995e1b (""target/mips: Add Loongson-3 CPU definition"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Huacai Chen <chenhc@lemote.com>\nMessage-Id: <20201130102228.2395100-1-f4bug@amsat.org>",1,0.9997140765190125,MIPS,target/mips/translate_init.c.inc,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ac96807b0245f08d969a8faf0c8c754514bb6c10,9a07069958705f426180829f807f0b84ec295b93,Greg Kurz,2020-11-21,spapr: Do TPM proxy hotplug sanity checks at pre-plug\n\nThere can be only one TPM proxy at a time. This is currently\nchecked at plug time. But this can be detected at pre-plug in\norder to error out earlier.\n\nThis allows to get rid of error handling in the plug handler.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <20201120234208.683521-9-groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.999634861946106,TPM,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf77e27f1e16d8eca761e5c966ea80291254a32c,ac96807b0245f08d969a8faf0c8c754514bb6c10,Chen Qun,2020-11-16,"target/ppc: replaced the TODO with LOG_UNIMP and add break for silence warnings\n\nWhen using -Wimplicit-fallthrough in our CFLAGS, the compiler showed warning:\ntarget/ppc/mmu_helper.c: In function dump_mmu:\ntarget/ppc/mmu_helper.c:1351:12: warning: this statement may fall through [-Wimplicit-fallthrough=]\n 1351 |         if (ppc64_v3_radix(env_archcpu(env))) {\n      |            ^\ntarget/ppc/mmu_helper.c:1358:5: note: here\n 1358 |     default:\n      |     ^~~~~~~\n\nUse ""qemu_log_mask(LOG_UNIMP**)"" instead of the TODO comment.\nAnd add the break statement to fix it.\n\nReported-by: Euler Robot <euler.robot@huawei.com>\nSigned-off-by: Chen Qun <kuhn.chenqun@huawei.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nMessage-Id: <20201116024810.2415819-8-kuhn.chenqun@huawei.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9827389717102052,UNIMP,target/ppc/mmu_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,376412135d2b6d8eddf915479885638e7425bc4e,1b4ab51493f4e656a211bbb109f4cb621c598443,Greg Kurz,2020-12-01,"spapr: Abort if ppc_set_compat() fails for hot-plugged CPUs\n\nWhen a CPU is hot-plugged, we set its compat mode to match the boot\nCPU, which was either set by machine reset or by CAS. This is currently\nhandled in the plug handler after the core got realized. Potential errors\nof ppc_set_compat() are propagated to the hot-plug logic.\n\nHandling errors this late in the hot-plug sequence is generally frown\nupon. Ideally, we should do sanity checks in a pre-plug handler and pass\n&error_abort to ppc_set_compat() in the plug handler.\n\nWe can filter out some error cases of ppc_set_compat() by calling\nppc_check_compat() at pre-plug. But ppc_set_compat() also sets the\ncompat register in KVM, and KVM doesn't provide any API that would\nallow to check valid compat mode settings beforehand.\n\nHowever, at this point we know that the compat mode was already\nsuccessfully set for the boot CPU. Since this all boils down to\nsetting a register with the very same value that was valid\nfor the boot CPU, it should definitely not fail for hot-plugged\nCPUS.\n\nPass &error_abort to ppc_set_compat().\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <20201201113728.885700-3-groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999729573726654,KVM,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,07b10bc42cc83a49acaa783383a69fb59d7ff71a,0ff6b52094a7aa0cd5e989624d77e206e904916c,Daniel Henrique Barboza,2020-12-10,"spapr.c: set a 'kvm-type' default value instead of relying on NULL\n\nspapr_kvm_type() is considering 'vm_type=NULL' as a valid input, where\nthe function returns 0. This is relying on the current QEMU machine\noptions handling logic, where the absence of the 'kvm-type' option\nwill be reflected as 'vm_type=NULL' in this function.\n\nThis is not robust, and will break if QEMU options code decides to propagate\nsomething else in the case mentioned above (e.g. an empty string instead\nof NULL).\n\nLet's avoid this entirely by setting a non-NULL default value in case of\nno user input for 'kvm-type'. spapr_kvm_type() was changed to handle 3 fixed\nvalues of kvm-type: ""auto"", ""hv"", and ""pr"", with ""auto"" being the default\nif no kvm-type was set by the user. This allows us to always be predictable\nregardless of any enhancements/changes made in QEMU options mechanics.\n\nWhile we're at it, let's also document in 'kvm-type' description the\nalready existing default mode, now named 'auto'. The information provided\nabout it is based on how the pseries kernel handles the KVM_CREATE_VM\nioctl(), where the default value '0' makes the kernel choose an available\nKVM module to use, giving precedence to kvm_hv. This logic is described in\nthe kernel source file arch/powerpc/kvm/powerpc.c, function kvm_arch_init_vm().\n\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20201210145517.1532269-2-danielhb413@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Greg Kurz <groug@kaod.org>",1,0.9975703358650208,KVM,hw/ppc/spapr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1eeffbeb1114441cb1822ce0af952a283e008f31,3ddd9036389f5f577e09e1d2f54f8c384660b5ef,Peter Maydell,2020-11-27,"hw/openrisc/openrisc_sim: Use IRQ splitter when connecting IRQ to multiple CPUs\n\nopenrisc_sim_net_init() attempts to connect the IRQ line from the\nethernet device to both CPUs in an SMP configuration by simply caling\nsysbus_connect_irq() for it twice.  This doesn't work, because the\nsecond connection simply overrides the first.\n\nFix this by creating a TYPE_SPLIT_IRQ to split the IRQ in the SMP\ncase.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Stafford Horne <shorne@gmail.com>\nMessage-id: 20201127225127.14770-2-peter.maydell@linaro.org",1,0.9997037053108216,SPLIT_IRQ,"hw/openrisc/Kconfig, hw/openrisc/openrisc_sim.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,98a8cc741dad9cb4738f81a994bcf8d77d619152,144677d41bf513af64e934fba61bf3220cbe8d5a,Philippe Mathieu-Daud,2020-12-10,"hw/misc/zynq_slcr: Avoid #DIV/0! error\n\nMalicious user can set the feedback divisor for the PLLs\nto zero, triggering a floating-point exception (SIGFPE).\n\nAs the datasheet [*] is not clear how hardware behaves\nwhen these bits are zeroes, use the maximum divisor\npossible (128) to avoid the software FPE.\n\n[*] Zynq-7000 TRM, UG585 (v1.12.2)\n    B.28 System Level Control Registers (slcr)\n    -> ""Register (slcr) ARM_PLL_CTRL""\n    25.10.4 PLLs\n    -> ""Software-Controlled PLL Update""\n\nFixes: 38867cb7ec9 (""hw/misc/zynq_slcr: add clock generation for uarts"")\nReported-by: Gaoning Pan <pgn@zju.edu.cn>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nReviewed-by: Damien Hedde <damien.hedde@greensocs.com>\nMessage-id: 20201210141610.884600-1-f4bug@amsat.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999695897102356,ARM,hw/misc/zynq_slcr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,55810e90cc9a5ca18289c25aa5c1e0e2dc77eadb,2f181fbd5a9d456d1da291bea61d7e3ad10ec7d1,Igor Mammedov,2020-12-08,"ppc/spapr: cleanup -machine pseries,nvdimm=X handling\n\nSince NVDIMM support was introduced on pseries machine,\nit ignored machine's nvdimm=on|off option and effectively\nwas always enabled on machines that support NVDIMM.\nLater on commit\n  (28f5a716212 ppc/spapr_nvdimm: do not enable support with 'nvdimm=off')\nmakes QEMU error out in case user explicitly set 'nvdimm=off'\non CLI by peeking at machine_opts.\n\nHowever that's a workaround and leaves 'nvdimms_state->is_enabled'\nin inconsistent state (false) when it should be set true\nby default.\n\nInstead of using on machine_opts, set default to true for pseries\nmachine in initfn time. If user sets manually 'nvdimm=off'\nit will overwrite default value to false and QEMU will error\nas expected without need to peek into machine_opts.\n\nThat way pseries will have, nvdimm enabled by default and\nwill honor user provided 'nvdimm=on|off'.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20201208164606.4109134-1-imammedo@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995757937431335,"DIMM, NVDIMM","hw/ppc/spapr.c, hw/ppc/spapr_nvdimm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bdddc1c425e8e39031bf726b54a6e7388337a7f0,30982862b2d81e7b4a58bac319075d343c36e06a,Chen Qun,2020-12-11,"target/i386: silence the compiler warnings in gen_shiftd_rm_T1\n\nThe current ""#ifdef TARGET_X86_64"" statement affects\nthe compiler's determination of fall through.\n\nWhen using -Wimplicit-fallthrough in our CFLAGS, the compiler showed warning:\ntarget/i386/translate.c: In function gen_shiftd_rm_T1:\ntarget/i386/translate.c:1773:12: warning: this statement may fall through [-Wimplicit-fallthrough=]\n         if (is_right) {\n            ^\ntarget/i386/translate.c:1782:5: note: here\n     case MO_32:\n     ^~~~\n\nReported-by: Euler Robot <euler.robot@huawei.com>\nSigned-off-by: Chen Qun <kuhn.chenqun@huawei.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20201211152426.350966-6-thuth@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.997960925102234,X86_64,target/i386/tcg/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,54aa3de72ea2aaa2e903e7e879a4f3dda515a00e,eaedde5255842e8add96bec127567e2a8b3be9a8,Eric Blake,2020-11-12,"qapi: Use QAPI_LIST_PREPEND() where possible\n\nAnywhere we create a list of just one item or by prepending items\n(typically because order doesn't matter), we can use\nQAPI_LIST_PREPEND().  But places where we must keep the list in order\nby appending remain open-coded until later patches.\n\nNote that as a side effect, this also performs a cleanup of two minor\nissues in qga/commands-posix.c: the old code was performing\n new = g_malloc0(sizeof(*ret));\nwhich 1) is confusing because you have to verify whether 'new' and\n'ret' are variables with the same type, and 2) would conflict with C++\ncompilation (not an actual problem for this file, but makes\ncopy-and-paste harder).\n\nSigned-off-by: Eric Blake <eblake@redhat.com>\nMessage-Id: <20201113011340.463563-5-eblake@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nAcked-by: Stefan Hajnoczi <stefanha@redhat.com>\n[Straightforward conflicts due to commit a8aa94b5f8 ""qga: update\nschema for guest-get-disks 'dependents' field"" and commit a10b453a52\n""target/mips: Move mips_cpu_add_definition() from helper.c to cpu.c""\nresolved.  Commit message tweaked.]\nSigned-off-by: Markus Armbruster <armbru@redhat.com>",1,0.9995574355125428,PREP,"block/gluster.c, block/qapi.c, chardev/char.c, docs/devel/writing-qmp-commands.txt, hw/core/machine-qmp-cmds.c, hw/core/machine.c, hw/net/rocker/rocker_of_dpa.c, hw/net/virtio-net.c, migration/migration.c, migration/postcopy-ram.c, monitor/hmp-cmds.c, monitor/misc.c, monitor/qmp-cmds-control.c, qemu-img.c, qga/commands-posix-ssh.c, qga/commands-posix.c, qga/commands-win32.c, qga/commands.c, qom/qom-qmp-cmds.c, target/arm/helper.c, target/arm/monitor.c, target/i386/cpu.c, target/mips/cpu.c, target/ppc/translate_init.c.inc, target/s390x/cpu_models.c, tests/test-clone-visitor.c, tests/test-qobject-output-visitor.c, tests/test-visitor-serialization.c, trace/qmp.c, ui/input.c, ui/vnc.c, util/qemu-config.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3df1a3d070575419859cbbab1083fafa7ec2669a,63f957ac96eba545ef60abebfc6741d06fd99ade,Peter Maydell,2020-11-21,"target/i386: Check privilege level for protected mode 'int N' task gate\n\nWhen the 'int N' instruction is executed in protected mode, the\npseudocode in the architecture manual specifies that we need to check:\n\n * vector number within IDT limits\n * selected IDT descriptor is a valid type (interrupt, trap or task gate)\n * if this was a software interrupt then gate DPL < CPL\n\nThe way we had structured the code meant that the privilege check for\nsoftware interrupts ended up not in the code path taken for task gate\nhandling, because all of the task gate handling code was in the 'case 5'\nof the switch which was checking ""is this descriptor a valid type"".\n\nMove the task gate handling code out of that switch (so that it is now\npurely doing the ""valid type?"" check) and below the software interrupt\nprivilege check.\n\nThe effect of this missing check was that in a guest userspace binary\nexecuting 'int 8' would cause a guest kernel panic rather than the\nuserspace binary being handed a SEGV.\n\nThis is essentially the same bug fixed in VirtualBox in 2012:\nhttps://www.halfdog.net/Security/2012/VirtualBoxSoftwareInterrupt0x8GuestCrash/\n\nNote that for QEMU this is not a security issue because it is only\npresent when using TCG.\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1813201\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-Id: <20201121224445.16236-1-peter.maydell@linaro.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9987035989761353,TCG,target/i386/tcg/seg_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6fed2a8ea4f50377d9c4aee051c7e75d9d70de5d,df055c65e47e4f255921b4125221b8a9f8fccc00,Jiaxun Yang,2020-12-24,"hw/mips/fuloong2e: Remove define DEBUG_FULOONG2E_INIT\n\nSeems useless....\n\nFixes: 051c190bce5 (""MIPS: Initial support of fulong mini pc (machine construction)"")\nSigned-off-by: Jiaxun Yang <jiaxun.yang@flygoat.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Huacai Chen <chenhuacai@kernel.org>\nMessage-Id: <20201224031750.52146-2-jiaxun.yang@flygoat.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.998874843120575,"FULOONG, MIPS",hw/mips/fuloong2e.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,59a958bb7451758d9120697b92237c0ae706abf3,52d25464605dc20022ad94aa8bc8e8473e600833,Peter Maydell,2020-12-12,"hw/ppc/ppc4xx_devs: Make code style fixes to UIC code\n\nIn a following commit we will move the PPC UIC implementation to\nits own file in hw/intc. To prevent checkpatch complaining about that\ncode-motion, fix up the minor style issues first.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-Id: <20201212001537.24520-2-peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nTested-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999561607837677,PPC,hw/ppc/ppc4xx_devs.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,776e887f088a93c0c45b2fb98dbb737a6e7cf0ed,ab9c93c25c16e48065428f8daa760592cba3226c,Greg Kurz,2020-12-14,"spapr: Fix DR properties of the root node\n\nSection 13.5.2 of LoPAPR mandates various DR related indentifiers\nfor all hot-pluggable entities to be exposed in the ""ibm,drc-indexes"",\n""ibm,drc-power-domains"", ""ibm,drc-names"" and ""ibm,drc-types"" properties\nof their parent node. These properties are created with spapr_dt_drc().\n\nPHBs and LMBs are both children of the machine. Their DR identifiers\nare thus supposed to be exposed in the afore mentioned properties of\nthe root node.\n\nWhen PHB hot-plug support was added, an extra call to spapr_dt_drc()\nwas introduced: this overwrites the existing properties, previously\npopulated with the LMB identifiers, and they end up containing only\nPHB identifiers. This went unseen so far because linux doesn't care,\nbut this is still not conformant with LoPAPR.\n\nFortunately spapr_dt_drc() is able to handle multiple DR entity types\nat the same time. Use that to handle DR indentifiers for PHBs and LMBs\nwith a single call to spapr_dt_drc(). While here also account for PMEM\nDR identifiers, which were forgotten when NVDIMM hot-plug support was\nadded. Also add an assert to prevent further misuse of spapr_dt_drc().\n\nWith -m 1G,maxmem=2G,slots=8 passed on the QEMU command line we get:\n\nWithout this patch:\n\n/proc/device-tree/ibm,drc-indexes\n		 0000001f 20000001 20000002 20000003\n		 20000000 20000005 20000006 20000007\n		 20000004 20000009 20000008 20000010\n		 20000011 20000012 20000013 20000014\n		 20000015 20000016 20000017 20000018\n		 20000019 2000000a 2000000b 2000000c\n		 2000000d 2000000e 2000000f 2000001a\n		 2000001b 2000001c 2000001d 2000001e\n\nThese are the DRC indexes for the 31 possible PHBs.\n\nWith this patch:\n\n/proc/device-tree/ibm,drc-indexes\n		 0000002b 90000000 90000001 90000002\n		 90000003 90000004 90000005 90000006\n		 90000007 20000001 20000002 20000003\n		 20000000 20000005 20000006 20000007\n		 20000004 20000009 20000008 20000010\n		 20000011 20000012 20000013 20000014\n		 20000015 20000016 20000017 20000018\n		 20000019 2000000a 2000000b 2000000c\n		 2000000d 2000000e 2000000f 2000001a\n		 2000001b 2000001c 2000001d 2000001e\n		 80000004 80000005 80000006 80000007\n\nAnd now we also have the 4 ((2G - 1G) / 256M) LMBs and the\n8 (slots) PMEMs.\n\nFixes: 3998ccd09298 (""spapr: populate PHB DRC entries for root DT node"")\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <160794479566.35245.17809158217760761558.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996968507766724,"DIMM, NVDIMM","hw/ppc/spapr.c, hw/ppc/spapr_drc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,930ef3b5c212bf8056bd265cc43ed9fff2e31b08,cd725bd7489e52445a15dd2f0ad1aa746dfa91fc,Greg Kurz,2020-12-18,"spapr: Fix reset of transient DR connectors\n\nDocumentation of object_property_iter_init() clearly stipulates that\n""it is forbidden to modify the property list while iterating"". But this\nis exactly what we do when resetting transient DR connectors during CAS.\nThe call to spapr_drc_reset() can finalize the hot-unplug sequence of a\nPHB or a PCI bridge, both of which will then in turn destroy their PCI\nDRCs. This could potentially invalidate the iterator. It is pure luck\nthat this haven't caused any issues so far.\n\nChange spapr_drc_reset() to return true if it caused a device to be\nremoved. Restart from scratch in this case. This can potentially\nincrease the overall DRC reset time, especially with a high maxmem\nwhich generates a lot of LMB DRCs. But this kind of setup is rare,\nand so is the use case of rebooting a guest while doing hot-unplug.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <20201218103400.689660-3-groug@kaod.org>\nReviewed-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nTested-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9995121955871582,PCI,"hw/ppc/spapr_drc.c, hw/ppc/spapr_hcall.c, include/hw/ppc/spapr_drc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b040e591c5cf116b8a51821db0de09213530c689,00f46c92a036084bfed580a09eb5a3f71f9cf00c,Greg Kurz,2020-12-24,"ppc: Fix build with --without-default-devices\n\nLinking of the qemu-system-ppc64 fails on a POWER9 host when\n--without-default-devices is passed to configure:\n\n$ ./configure --without-default-devices \\n              --target-list=ppc64-softmmu && make\n\n...\n\nlibqemu-ppc64-softmmu.fa.p/hw_ppc_e500.c.o: In function `ppce500_init_mpic_kvm':\n/home/greg/Work/qemu/qemu-ppc/build/../hw/ppc/e500.c:777: undefined reference to `kvm_openpic_connect_vcpu'\nlibqemu-ppc64-softmmu.fa.p/hw_ppc_spapr_irq.c.o: In function `spapr_irq_check':\n/home/greg/Work/qemu/qemu-ppc/build/../hw/ppc/spapr_irq.c:189: undefined reference to `xics_kvm_has_broken_disconnect'\nlibqemu-ppc64-softmmu.fa.p/hw_intc_spapr_xive.c.o: In function `spapr_xive_post_load':\n/home/greg/Work/qemu/qemu-ppc/build/../hw/intc/spapr_xive.c:530: undefined reference to `kvmppc_xive_post_load'\n\n... and tons of other symbols belonging to the KVM backend of the\nopenpic, XICS and XIVE interrupt controllers.\n\nIt turns out that OPENPIC_KVM, XICS_KVM and XIVE_KVM are marked\nto depend on KVM but this has no effect when minikconf runs in\nallnoconfig mode. Such reverse dependencies should rather be\nhandled with a 'select' statement, eg.\n\nconfig OPENPIC\n    select OPENPIC_KVM if KVM\n\nor even better by getting rid of the intermediate _KVM config\nand directly checking CONFIG_KVM in the meson.build file:\n\nspecific_ss.add(when: ['CONFIG_KVM', 'CONFIG_OPENPIC'],\n		if_true: files('openpic_kvm.c'))\n\nGo for the latter with OPENPIC, XICS and XIVE.\n\nThis went unnoticed so far because CI doesn't test the build with\n--without-default-devices and KVM enabled on a POWER host.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <160883056791.253005.14924294027763955653.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9995168447494508,"KVM, OPENPIC, XICS, XIVE","hw/intc/Kconfig, hw/intc/meson.build, hw/ppc/Kconfig",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,995d955647f197e6ad658050cb7b4c2ef94347a6,27d5caec4fc5987b89257d2160d042717001dad2,Greg Kurz,2020-12-24,"pnv: Fix reverse dependency on PCI express root ports\n\nqemu-system-ppc64 built with --without-default-devices crashes:\n\nType 'pnv-phb4-root-port' is missing its parent 'pcie-root-port-base'\nAborted (core dumped)\n\nHave POWERNV to select PCIE_PORT. This is done through a\nnew PCI_POWERNV config in hw/pci-host/Kconfig since POWERNV\ndoesn't have a direct dependency on PCI. For this reason,\nPCI_EXPRESS and MSI_NONBROKEN are also moved under\nPCI_POWERNV.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <160883058299.253005.342913177952681375.stgit@bahia.lan>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996017813682556,"MSI_NONBROKEN, PCI, PCIE_PORT, PCI_EXPRESS, PCI_POWERNV, POWERNV","hw/pci-host/Kconfig, hw/pci-host/meson.build, hw/ppc/Kconfig",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5cbd51a5a58098444ffa246ece2013849be04299,2d4c816a8dcfb0d38712c3ffed5f5fcaedd7fe40,BALATON Zoltan via,2021-01-03,ppc440_pcix: Fix up pci config access\n\nThis fixes a long standing issue with MorphOS booting on sam460ex\nwhich turns out to be because of suspicious values written to PCI\nconfig address that apparently works on real machine but caused wrong\naccess on this device model. This replaces a previous work around for\nthis with a better fix that makes it work.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-Id: <6fd215ab2bc5f8d4455cd20ed1a2f059e4415fe5.1609636173.git.balaton@eik.bme.hu>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9997245669364928,PCI,hw/ppc/ppc440_pcix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cc97b0019bb590b9b3c2a623e9ebee48831e0ce3,9cd07db94b41e849dab8a547fb778718a11f487d,Richard Henderson,2020-12-21,"target/arm: Fix MTE0_ACTIVE\n\nIn 50244cc76abc we updated mte_check_fail to match the ARM\npseudocode, using the correct EL to select the TCF field.\nBut we failed to update MTE0_ACTIVE the same way, which led\nto g_assert_not_reached().\n\nCc: qemu-stable@nongnu.org\nBuglink: https://bugs.launchpad.net/bugs/1907137\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20201221204426.88514-1-richard.henderson@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9994578957557678,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,828d651c585c1c2a2b8d4e67da36c9f91124855a,73314f1384588e9dfd98b50f7232a9d8b4a60e2a,Hao Wu,2021-01-08,hw/*: Use type casting for SysBusDevice in NPCM7XX\n\nA device shouldn't access its parent object which is QOM internal.\nInstead it should use type cast for this purporse. This patch fixes this\nissue for all NPCM7XX Devices.\n\nSigned-off-by: Hao Wu <wuhaotsh@google.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20210108190945.949196-7-wuhaotsh@google.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9996864795684814,NPCM7XX,"hw/arm/npcm7xx_boards.c, hw/mem/npcm7xx_mc.c, hw/misc/npcm7xx_clk.c, hw/misc/npcm7xx_gcr.c, hw/misc/npcm7xx_rng.c, hw/nvram/npcm7xx_otp.c, hw/ssi/npcm7xx_fiu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e2665f314d80d7edbfe7f8275abed7e2c93c0ddc,7e2a619a0436a959fe2795cce829d1cc89448a43,Philippe Mathieu-Daud,2020-11-29,"target/mips: Alias MSA vector registers on FPU scalar registers\n\nCommits 863f264d10f (""add msa_reset(), global msa register"") and\ncb269f273fd (""fix multiple TCG registers covering same data"")\nremoved the FPU scalar registers and replaced them by aliases to\nthe MSA vector registers.\n\nIt is not very clear to have FPU registers displayed with MSA\nregister names, even if MSA ASE is not present.\n\nInstead of aliasing FPU registers to the MSA ones (even when MSA\nis absent), we now alias the MSA ones to the FPU ones (only when\nMSA is present).\n\nReviewed-by: Jiaxun Yang <jiaxun.yang@flygoat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nTested-by: Jiaxun Yang <jiaxun.yang@flygoat.com>\nMessage-Id: <20201208003702.4088927-7-f4bug@amsat.org>",1,0.9993345141410828,TCG,target/mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4c4465ff1cddc2543abf5ee4c2e4c283cace6da0,6f9ec653f328fe57ba490afaaa51b49d974b438f,Jiahui Cen,2021-01-14,"acpi: Fix unmatched expected DSDT.pxb file\n\nCommit fe1127da11 (""unit-test: Add the binary file and clear diff.h"") does\nnot use the up-to-date expected file for pxb for ARM virt.\n\nFix the expected DSDT.pxb file.\n\nFull diff of changed file disassembly:\n\n@@ -5,13 +5,13 @@\n  *\n  * Disassembling to symbolic ASL+ operators\n  *\n- * Disassembly of tests/data/acpi/virt/DSDT.pxb, Thu Jan 14 09:33:09 2021\n+ * Disassembly of tests/data/acpi/virt/DSDT.pxb, Thu Jan 14 13:34:47 2021\n  *\n  * Original Table Header:\n  *     Signature        ""DSDT""\n- *     Length           0x00001E7A (7802)\n+ *     Length           0x00001DF9 (7673)\n  *     Revision         0x02\n- *     Checksum         0x57\n+ *     Checksum         0x42\n  *     OEM ID           ""BOCHS ""\n  *     OEM Table ID     ""BXPCDSDT""\n  *     OEM Revision     0x00000001 (1)\n@@ -45,32 +45,6 @@\n             })\n         }\n\n-        Device (FLS0)\n-        {\n-            Name (_HID, ""LNRO0015"")  // _HID: Hardware ID\n-            Name (_UID, Zero)  // _UID: Unique ID\n-            Name (_CRS, ResourceTemplate ()  // _CRS: Current Resource Settings\n-            {\n-                Memory32Fixed (ReadWrite,\n-                    0x00000000,         // Address Base\n-                    0x04000000,         // Address Length\n-                    )\n-            })\n-        }\n-\n-        Device (FLS1)\n-        {\n-            Name (_HID, ""LNRO0015"")  // _HID: Hardware ID\n-            Name (_UID, One)  // _UID: Unique ID\n-            Name (_CRS, ResourceTemplate ()  // _CRS: Current Resource Settings\n-            {\n-                Memory32Fixed (ReadWrite,\n-                    0x04000000,         // Address Base\n-                    0x04000000,         // Address Length\n-                    )\n-            })\n-        }\n-\n         Device (FWCF)\n         {\n             Name (_HID, ""QEMU0002"")  // _HID: Hardware ID\n@@ -665,9 +639,6 @@\n         {\n             Name (_HID, ""PNP0A08"" /* PCI Express Bus */)  // _HID: Hardware ID\n             Name (_CID, ""PNP0A03"" /* PCI Bus */)  // _CID: Compatible ID\n-            Name (_ADR, Zero)  // _ADR: Address\n-            Name (_CCA, One)  // _CCA: Cache Coherency Attribute\n-            Name (_SEG, Zero)  // _SEG: PCI Segment\n             Name (_BBN, 0x80)  // _BBN: BIOS Bus Number\n             Name (_UID, 0x80)  // _UID: Unique ID\n             Name (_STR, Unicode (""pxb Device""))  // _STR: Description String\n@@ -1857,7 +1828,7 @@\n             Name (_CID, ""PNP0A03"" /* PCI Bus */)  // _CID: Compatible ID\n             Name (_SEG, Zero)  // _SEG: PCI Segment\n             Name (_BBN, Zero)  // _BBN: BIOS Bus Number\n-            Name (_UID, ""PCI0"")  // _UID: Unique ID\n+            Name (_UID, Zero)  // _UID: Unique ID\n             Name (_STR, Unicode (""PCIe 0 Device""))  // _STR: Description String\n             Name (_CCA, One)  // _CCA: Cache Coherency Attribute\n             Name (_PRT, Package (0x80)  // _PRT: PCI Routing Table\n@@ -2983,41 +2954,37 @@\n                 Return (0x0000004010000000)\n             }\n\n-            Method (_CRS, 0, NotSerialized)  // _CRS: Current Resource Settings\n+            Name (_CRS, ResourceTemplate ()  // _CRS: Current Resource Settings\n             {\n-                Return (ResourceTemplate ()\n-                {\n-                    WordBusNumber (ResourceProducer, MinFixed, MaxFixed, PosDecode,\n-                        0x0000,             // Granularity\n-                        0x0000,             // Range Minimum\n-                        0x007F,             // Range Maximum\n-                        0x0000,             // Translation Offset\n-                        0x0080,             // Length\n-                        ,, )\n-                    DWordMemory (ResourceProducer, PosDecode, MinFixed, MaxFixed, NonCacheable, ReadWrite,\n-                        0x00000000,         // Granularity\n-                        0x10000000,         // Range Minimum\n-                        0x3EFEFFFF,         // Range Maximum\n-                        0x00000000,         // Translation Offset\n-                        0x2EFF0000,         // Length\n-                        ,, , AddressRangeMemory, TypeStatic)\n-                    DWordIO (ResourceProducer, MinFixed, MaxFixed, PosDecode, EntireRange,\n-                        0x00000000,         // Granularity\n-                        0x00000000,         // Range Minimum\n-                        0x0000FFFF,         // Range Maximum\n-                        0x3EFF0000,         // Translation Offset\n-                        0x00010000,         // Length\n-                        ,, , TypeStatic, DenseTranslation)\n-                    QWordMemory (ResourceProducer, PosDecode, MinFixed, MaxFixed, NonCacheable, ReadWrite,\n-                        0x0000000000000000, // Granularity\n-                        0x0000008000000000, // Range Minimum\n-                        0x000000FFFFFFFFFF, // Range Maximum\n-                        0x0000000000000000, // Translation Offset\n-                        0x0000008000000000, // Length\n-                        ,, , AddressRangeMemory, TypeStatic)\n-                })\n-            }\n-\n+                WordBusNumber (ResourceProducer, MinFixed, MaxFixed, PosDecode,\n+                    0x0000,             // Granularity\n+                    0x0000,             // Range Minimum\n+                    0x007F,             // Range Maximum\n+                    0x0000,             // Translation Offset\n+                    0x0080,             // Length\n+                    ,, )\n+                DWordMemory (ResourceProducer, PosDecode, MinFixed, MaxFixed, NonCacheable, ReadWrite,\n+                    0x00000000,         // Granularity\n+                    0x10000000,         // Range Minimum\n+                    0x3EFEFFFF,         // Range Maximum\n+                    0x00000000,         // Translation Offset\n+                    0x2EFF0000,         // Length\n+                    ,, , AddressRangeMemory, TypeStatic)\n+                DWordIO (ResourceProducer, MinFixed, MaxFixed, PosDecode, EntireRange,\n+                    0x00000000,         // Granularity\n+                    0x00000000,         // Range Minimum\n+                    0x0000FFFF,         // Range Maximum\n+                    0x3EFF0000,         // Translation Offset\n+                    0x00010000,         // Length\n+                    ,, , TypeStatic, DenseTranslation)\n+                QWordMemory (ResourceProducer, PosDecode, MinFixed, MaxFixed, NonCacheable, ReadWrite,\n+                    0x0000000000000000, // Granularity\n+                    0x0000008000000000, // Range Minimum\n+                    0x000000FFFFFFFFFF, // Range Maximum\n+                    0x0000000000000000, // Translation Offset\n+                    0x0000008000000000, // Length\n+                    ,, , AddressRangeMemory, TypeStatic)\n+            })\n             Name (SUPP, Zero)\n             Name (CTRL, Zero)\n             Method (_OSC, 4, NotSerialized)  // _OSC: Operating System Capabilities\n\nFixes: fe1127da11 (""unit-test: Add the binary file and clear diff.h"")\nAcked-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Jiahui Cen <cenjiahui@huawei.com>\nMessage-Id: <20210114100643.10617-3-cenjiahui@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.996702253818512,"ARM, PCI",tests/data/acpi/virt/DSDT.pxb,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f17969db719ef563d2f7a1b62ea5dd5087ad774a,dbc2758921dac90c97453d601c717fb1a5768fd5,BALATON Zoltan,2021-01-08,sam460ex: Use type cast macro instead of simple cast\n\nUse the PCI_BUS type cast macro to convert result of qdev_get_child_bus().\nAlso remove the check for NULL afterwards which should not be needed\nbecause sysbus_create_simple() uses error_abort and we create the PCI\nhost object here that's expected to have a PCI bus so this shouldn't\nfail. Even if it would fail that would be due to a programmer error so\nan error message is not necessary.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-Id: <a4dc55b56eed3ce899b7bf9835b980a114c52598.1610143658.git.balaton@eik.bme.hu>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9995089769363404,PCI,hw/ppc/sam460ex.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6c85f906261226e87211506bd9f787fd48a09f17,5ca192dfc551c8a40871c4e30a8b8ceb879adc31,Rmi Denis-Courmont,2021-01-12,"target/arm: add 64-bit S-EL2 to EL exception table\n\nWith the ARMv8.4-SEL2 extension, EL2 is a legal exception level in\nsecure mode, though it can only be AArch64.\n\nThis patch adds the target EL for exceptions from 64-bit S-EL2.\n\nIt also fixes the target EL to EL2 when HCR.{A,F,I}MO are set in secure\nmode. Those values were never used in practice as the effective value of\nHCR was always 0 in secure mode.\n\nSigned-off-by: Rmi Denis-Courmont <remi.denis.courmont@huawei.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20210112104511.36576-7-remi.denis.courmont@huawei.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9994773268699646,ARM,"target/arm/helper.c, target/arm/op_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,926c1b97895879b78ca14bca2831c08740ed1c38,6b340aeb48e4f7f983e1c38790de65ae93079840,Rmi Denis-Courmont,2021-01-12,target/arm: Implement SCR_EL2.EEL2\n\nThis adds handling for the SCR_EL3.EEL2 bit.\n\nSigned-off-by: Rmi Denis-Courmont <remi.denis.courmont@huawei.com>\nMessage-id: 20210112104511.36576-17-remi.denis.courmont@huawei.com\n[PMM: Applied fixes for review issues noted by RTH:\n - check for FEATURE_AARCH64 before checking sel2 isar feature\n - correct the commit message subject line]\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9995514750480652,AARCH64,"target/arm/cpu.c, target/arm/cpu.h, target/arm/helper.c, target/arm/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a3c27ea0344d3cc7295a5f0589d5514913ec1522,0e32462630687a18039464511bd0447ada5709c3,Fabrice Fontaine,2020-12-13,"hw/usb/host-libusb.c: fix build with kernel < 5.0\n\nUSBDEVFS_GET_SPEED is used since version 5.2.0 and\nhttps://gitlab.com/qemu-project/qemu/-/commit/202d69a715a4b1824dcd7ec1683d027ed2bae6d3\nresulting in the following build failure with kernel < 5.0:\n\n../hw/usb/host-libusb.c: In function 'usb_host_open':\n../hw/usb/host-libusb.c:953:32: error: 'USBDEVFS_GET_SPEED' undeclared (first use in this function); did you mean 'USBDEVFS_GETDRIVER'?\n         int rc = ioctl(hostfd, USBDEVFS_GET_SPEED, NULL);\n                                ^~~~~~~~~~~~~~~~~~\n                                USBDEVFS_GETDRIVER\n\nA tentative was made to fix this build failure with\nhttps://gitlab.com/qemu-project/qemu/-/commit/4969e697c15ac536d5c0700381d5d026ef7f0588\n\nHowever, the assumption that distros with old kernels also have old\nlibusb is just wrong so also add a check for defined(USBDEVFS_GET_SPEED)\n\nSigned-off-by: Fabrice Fontaine <fontaine.fabrice@gmail.com>\nMessage-id: 20201213213016.457350-1-fontaine.fabrice@gmail.com\n\n[ kraxel: codestyle whitespace fixup ]\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999692678451538,USB,hw/usb/host-libusb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,281c5c95b259a0d9809977c9f407d4654c3a79aa,e93c65a6c64fa18b0c61fb9338d364cbea32b6ef,Bin Meng,2021-01-23,"hw/sd: ssi-sd: Fix incorrect card response sequence\n\nPer the ""Physical Layer Specification Version 8.00"" chapter 7.5.1,\n""Command/Response"", there is a minimum 8 clock cycles (Ncr) before\nthe card response shows up on the data out line. However current\nimplementation jumps directly to the sending response state after\nall 6 bytes command is received, which is a spec violation.\n\nAdd a new state PREP_RESP in the ssi-sd state machine to handle it.\n\nFixes: 775616c3ae8c (""Partial SD card SPI mode support"")\nSigned-off-by: Bin Meng <bin.meng@windriver.com>\nTested-by: Pragnesh Patel <pragnesh.patel@sifive.com>\nReviewed-by: Pragnesh Patel <pragnesh.patel@sifive.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20210123104016.17485-4-bmeng.cn@gmail.com>\n[PMD: Change VMState version id 2 -> 3]\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.99972802400589,"ESP, PREP",hw/sd/ssi-sd.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1fb85c42ca47e48dd0cfe153db85bdfc1213aedb,3a67cbe619179c390908bf415159290acbe96ccd,Bin Meng,2021-01-23,"hw/sd: ssi-sd: Fix the wrong command index for STOP_TRANSMISSION\n\nThis fixes the wrong command index for STOP_TRANSMISSION, the\nrequired command to interrupt the multiple block read command,\nin the old codes. It should be CMD12 (0x4c), not CMD13 (0x4d).\n\nFixes: 775616c3ae8c (""Partial SD card SPI mode support"")\nSigned-off-by: Bin Meng <bin.meng@windriver.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20210123104016.17485-10-bmeng.cn@gmail.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9997180104255676,SSI,hw/sd/ssi-sd.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,68a5b02a4684e6f9bbe5113499f88c0018469d08,31ee895047bdcf7387e3570cbd2a473c6f744b08,Roman Bolshakov,2020-12-07,"tpm: tpm_spapr: Remove unused tracepoint\n\nLinking of qemu-system-ppc64 fails on macOS with dtrace enabled:\n\n  error: probe tpm_spapr_show_buffer doesn't exist\n  error: Could not register probes\n  ld: error creating dtrace DOF section for architecture x86_64\n\nThe failure is explained in 8c8ed03850208e4 (""net/colo: Match is-enabled\nprobe to tracepoint""). In short, is-enabled probe can't be used without\na matching trace probe. And for this particular case\ntpm_util_show_buffer probe should be enabled to print TPM buffer.\n\nSigned-off-by: Roman Bolshakov <r.bolshakov@yadro.com>\nReviewed-by: Stefan Berger <stefanb@linux.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.ibm.com>",1,0.9989809393882751,TPM,"hw/tpm/tpm_spapr.c, hw/tpm/trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5fa6ab7ecc54fe5f9bbd971496c78a5b014103b3,1a0019533514e83a2bbabc0dd50b3cfa2a099b98,Philippe Mathieu-Daud,2021-01-23,"tcg/tci: Restrict tci_write_reg16() to 64-bit hosts\n\nRestrict tci_write_reg16() to 64-bit hosts to fix on 32-bit ones:\n\n  [520/1115] Compiling C object libqemu-arm-linux-user.fa.p/tcg_tci.c.o\n  FAILED: libqemu-arm-linux-user.fa.p/tcg_tci.c.o\n  tcg/tci.c:132:1: error: 'tci_write_reg16' defined but not used [-Werror=unused-function]\n   tci_write_reg16(tcg_target_ulong *regs, TCGReg index, uint16_t value)\n   ^~~~~~~~~~~~~~~\n\nFixes: 2f160e0f979 (""tci: Add implementation for INDEX_op_ld16u_i64"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Stefan Weil <sw@weilnetz.de>\nMessage-Id: <20210123094107.2340222-1-f4bug@amsat.org>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9978231191635132,"LED, TCG",tcg/tci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1e5ce6e10a1deaec6044ba8ad75431e0424dbce9,daa726d92604b72650d86ada01935e03a909d4dd,Hao Wu,2021-01-26,"hw/misc: Fix arith overflow in NPCM7XX PWM module\n\nFix potential overflow problem when calculating pwm_duty.\n1. Ensure p->cmr and p->cnr to be from [0,65535], according to the\n   hardware specification.\n2. Changed duty to uint32_t. However, since MAX_DUTY * (p->cmr+1)\n   can excceed UINT32_MAX, we convert them to uint64_t in computation\n   and converted them back to uint32_t.\n   (duty is guaranteed to be <= MAX_DUTY so it won't overflow.)\n\nFixes: CID 1442342\nSuggested-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Doug Evans <dje@google.com>\nSigned-off-by: Hao Wu <wuhaotsh@google.com>\nMessage-id: 20210127011142.2122790-1-wuhaotsh@google.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9976671934127808,NPCM7XX,"hw/misc/npcm7xx_pwm.c, tests/qtest/npcm7xx_pwm-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,edfe2eb4360cde4ed5d95bda7777edcb3510f76a,8c495d1379211554208c58be75736e3be5ad60e8,Philippe Mathieu-Daud,2021-01-31,"hw/intc/arm_gic: Fix interrupt ID in GICD_SGIR register\n\nPer the ARM Generic Interrupt Controller Architecture specification\n(document ""ARM IHI 0048B.b (ID072613)""), the SGIINTID field is 4 bit,\nnot 10:\n\n  - 4.3 Distributor register descriptions\n  - 4.3.15 Software Generated Interrupt Register, GICD_SG\n\n    - Table 4-21 GICD_SGIR bit assignments\n\n    The Interrupt ID of the SGI to forward to the specified CPU\n    interfaces. The value of this field is the Interrupt ID, in\n    the range 0-15, for example a value of 0b0011 specifies\n    Interrupt ID 3.\n\nCorrect the irq mask to fix an undefined behavior (which eventually\nlead to a heap-buffer-overflow, see [Buglink]):\n\n   $ echo 'writel 0x8000f00 0xff4affb0' | qemu-system-aarch64 -M virt,accel=qtest -qtest stdio\n   [I 1612088147.116987] OPENED\n  [R +0.278293] writel 0x8000f00 0xff4affb0\n  ../hw/intc/arm_gic.c:1498:13: runtime error: index 944 out of bounds for type 'uint8_t [16][8]'\n  SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior ../hw/intc/arm_gic.c:1498:13\n\nThis fixes a security issue when running with KVM on Arm with\nkernel-irqchip=off. (The default is kernel-irqchip=on, which is\nunaffected, and which is also the correct choice for performance.)\n\nCc: qemu-stable@nongnu.org\nFixes: CVE-2021-20221\nFixes: 9ee6e8bb853 (""ARMv7 support."")\nBuglink: https://bugs.launchpad.net/qemu/+bug/1913916\nBuglink: https://bugs.launchpad.net/qemu/+bug/1913917\nReported-by: Alexander Bulekov <alxndr@bu.edu>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20210131103401.217160-1-f4bug@amsat.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997300505638124,"ARM, KVM",hw/intc/arm_gic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9e39983e5daeedcf1d34a4d53dcf71b637886bf5,edfe2eb4360cde4ed5d95bda7777edcb3510f76a,Philippe Mathieu-Daud,2021-01-31,"hw/arm/stm32f405_soc: Add missing dependency on OR_IRQ\n\nThe STM32F405 SoC uses an OR gate on its ADC IRQs.\n\nFixes: 529fc5fd3e1 (""hw/arm: Add the STM32F4xx SoC"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nMessage-id: 20210131184449.382425-2-f4bug@amsat.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995394945144652,OR_IRQ,hw/arm/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5900c7a6d4ca1f968f51f3639ade56dba111455e,9e39983e5daeedcf1d34a4d53dcf71b637886bf5,Philippe Mathieu-Daud,2021-01-31,"hw/arm/exynos4210: Add missing dependency on OR_IRQ\n\nThe Exynos4210 SoC uses an OR gate on the PL330 IRQ lines.\n\nFixes: dab15fbe2ab (""hw/arm/exynos4210: Fix DMA initialization"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20210131184449.382425-3-f4bug@amsat.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996558427810668,"OR_IRQ, PL330",hw/arm/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6bfaec73a116e88c28ea91b10bc2a472aefcf957,5900c7a6d4ca1f968f51f3639ade56dba111455e,Philippe Mathieu-Daud,2021-01-31,hw/arm/xlnx-versal: Versal SoC requires ZDMA\n\nThe Versal SoC instantiates the TYPE_XLNX_ZDMA object in\nversal_create_admas(). Introduce the XLNX_ZDMA configuration\nand select it to fix:\n\n  $ qemu-system-aarch64 -M xlnx-versal-virt ...\n  qemu-system-aarch64: missing object type 'xlnx.zdma'\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nMessage-id: 20210131184449.382425-4-f4bug@amsat.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.8070098757743835,XLNX_ZDMA,"hw/arm/Kconfig, hw/dma/Kconfig, hw/dma/meson.build",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1de3b490179bedb253e0cf0fac659212175e4530,6bfaec73a116e88c28ea91b10bc2a472aefcf957,Philippe Mathieu-Daud,2021-01-31,hw/arm/xlnx-versal: Versal SoC requires ZynqMP peripherals\n\nThe Versal SoC instantiates the TYPE_XLNX_ZYNQMP_RTC object in\nversal_create_rtc()(). Select CONFIG_XLNX_ZYNQMP to fix:\n\n  $ make check-qtest-aarch64\n  ...\n  Running test qtest-aarch64/qom-test\n  qemu-system-aarch64: missing object type 'xlnx-zynmp.rtc'\n  Broken pipe\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nMessage-id: 20210131184449.382425-5-f4bug@amsat.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9996789693832396,"XLNX_ZYNQMP, ZYNQ",hw/arm/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e022f2a205b93f5c5203352c0482634b4ec705ea,1de3b490179bedb253e0cf0fac659212175e4530,Philippe Mathieu-Daud,2021-01-31,hw/net/can: ZynqMP CAN device requires PTIMER\n\nAdd a dependency XLNX_ZYNQMP -> PTIMER to fix:\n\n  /usr/bin/ld:\n  libcommon.fa.p/hw_net_can_xlnx-zynqmp-can.c.o: in function `xlnx_zynqmp_can_realize':\n  hw/net/can/xlnx-zynqmp-can.c:1082: undefined reference to `ptimer_init'\n  hw/net/can/xlnx-zynqmp-can.c:1085: undefined reference to `ptimer_transaction_begin'\n  hw/net/can/xlnx-zynqmp-can.c:1087: undefined reference to `ptimer_set_freq'\n  hw/net/can/xlnx-zynqmp-can.c:1088: undefined reference to `ptimer_set_limit'\n  hw/net/can/xlnx-zynqmp-can.c:1089: undefined reference to `ptimer_run'\n  hw/net/can/xlnx-zynqmp-can.c:1090: undefined reference to `ptimer_transaction_commit'\n  libcommon.fa.p/hw_net_can_xlnx-zynqmp-can.c.o:(.data.rel+0x2c8): undefined reference to `vmstate_ptimer'\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nMessage-id: 20210131184449.382425-6-f4bug@amsat.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.9995446801185608,"PTIMER, XLNX_ZYNQMP, ZYNQ",hw/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fd8f71b95da86f530aae3d02a14b0ccd9e024772,e022f2a205b93f5c5203352c0482634b4ec705ea,Philippe Mathieu-Daud,2021-01-31,hw/arm: Display CPU type in machine description\n\nMost of ARM machines display their CPU when QEMU list the available\nmachines (-M help). Some machines do not. Fix to unify the help\noutput.\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Niek Linnenbank <nieklinnenbank@gmail.com>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nMessage-id: 20210131184449.382425-7-f4bug@amsat.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.986219584941864,ARM,"hw/arm/digic_boards.c, hw/arm/microbit.c, hw/arm/netduino2.c, hw/arm/netduinoplus2.c, hw/arm/orangepi.c, hw/arm/stellaris.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a652b120130e89850edb18cebd222310b77218f7,b577ab2dda3afc7d6a7befabcf226507ff06c17c,Marc-Andr Lureau,2021-01-29,"spice: delay starting until display are initialized\n\nQEMU used to run qemu_spice.display_init() before vm_start(), and\nQXL/display interfaces where started then. Now, vm_start() happens\nbefore QXL/display interfaces are added and Spice server doesn't\nautomatically start them in this case (fixed in spice git)\n\nFixes Spice regression introduced after 5.2, with refactoring commits\nb4e1a34211 (""vl: remove separate preconfig main_loop"") and\nfacf7c60ee (""vl: initialize displays _after_ exiting preconfiguration""),\nprobably others.\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20210129152351.161971-1-marcandre.lureau@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9983270764350892,QXL,"include/ui/qemu-spice.h, ui/spice-core.c, ui/spice-display.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,326a51f32dfa56a63815c06c2ba3b14b371cef35,a652b120130e89850edb18cebd222310b77218f7,Marc-Andr Lureau,2021-02-04,"vhost-user-gpu: check backend for EDID support\n\nEDID has been enabled by default, but the backend may not implement\nit (such as the contrib backend). This results in extra warnings and\npotentially other issues in the guest.\n\nThe option shouldn't probably have been added to VIRTIO_GPU_BASE, but\nit's a bit too late now, report an error and disable EDID when it's\nnot available.\n\nFixes: 0a7196625 (""edid: flip the default to enabled"")\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20210204105232.834642-2-marcandre.lureau@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9997350573539734,"EDID, VIRTIO, VIRTIO_GPU",hw/display/vhost-user-gpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2d9e7d4cddd901a3cb57d2fc150186c70b7139a7,c126b4c57e0164549de606ca35d1512762051083,Laurent Vivier,2020-12-20,"virtio-mmio: fix guest kernel crash with SHM regions\n\nIn the kernel, virtio_gpu_init() uses virtio_get_shm_region()\nsince\ncommit 6076a9711dc5 (""drm/virtio: implement blob resources: probe for host visible region"")\nbut vm_get_shm_region() unconditionally uses VIRTIO_MMIO_SHM_SEL to\nget the address and the length of the region.\n\ncommit 38e895487afc (""virtio: Implement get_shm_region for MMIO transport""\n\nAs this is not implemented in QEMU, address and length are 0 and passed\nas is to devm_request_mem_region() that triggers a crash:\n\n  [drm:virtio_gpu_init] *ERROR* Could not reserve host visible region\n  Unable to handle kernel NULL pointer dereference at virtual address (ptrval)\n\nAccording to the comments in the kernel, a non existent shared region\nhas a length of (u64)-1.\n\nThis is what we return now with this patch to disable the region.\n\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20201220163539.2255963-1-laurent@vivier.eu>\nAcked-by: Gerd Hoffmann <kraxel@redhat.com>\nReviewed-by: Stefano Garzarella <sgarzare@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996892213821412,"VIRTIO, VIRTIO_MMIO",hw/virtio/virtio-mmio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,602b458201ffd6f261fb8ee16b5175d733d3ec32,99f84ac0512b7ce29089a63c392da706fac14cb1,Marian Postevca,2021-01-19,"acpi: Permit OEM ID and OEM table ID fields to be changed\n\nQemu's ACPI table generation sets the fields OEM ID and OEM table ID\nto ""BOCHS "" and ""BXPCxxxx"" where ""xxxx"" is replaced by the ACPI\ntable name.\n\nSome games like Red Dead Redemption 2 seem to check the ACPI OEM ID\nand OEM table ID for the strings ""BOCHS"" and ""BXPC"" and if they are\nfound, the game crashes(this may be an intentional detection\nmechanism to prevent playing the game in a virtualized environment).\n\nThis patch allows you to override these default values.\n\nThe feature can be used in this manner:\nqemu -machine oem-id=ABCDEF,oem-table-id=GHIJKLMN\n\nThe oem-id string can be up to 6 bytes in size, and the\noem-table-id string can be up to 8 bytes in size. If the string are\nsmaller than their respective sizes they will be padded with space.\nIf either of these parameters is not set, the current default values\nwill be used for the one missing.\n\nNote that the the OEM Table ID field will not be extended with the\nname of the table, but will use either the default name or the user\nprovided one.\n\nThis does not affect the -acpitable option (for user-defined ACPI\ntables), which has precedence over -machine option.\n\nSigned-off-by: Marian Postevca <posteuca@mutex.one>\nMessage-Id: <20210119003216.17637-3-posteuca@mutex.one>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.99544358253479,ACPI,"hw/acpi/aml-build.c, hw/acpi/ghes.c, hw/acpi/hmat.c, hw/acpi/hmat.h, hw/acpi/nvdimm.c, hw/acpi/pci.c, hw/acpi/vmgenid.c, hw/arm/virt-acpi-build.c, hw/arm/virt.c, hw/i386/acpi-build.c, hw/i386/acpi-common.c, hw/i386/acpi-common.h, hw/i386/acpi-microvm.c, hw/i386/microvm.c, hw/i386/pc.c, include/hw/acpi/acpi-defs.h, include/hw/acpi/aml-build.h, include/hw/acpi/ghes.h, include/hw/acpi/pci.h, include/hw/acpi/vmgenid.h, include/hw/arm/virt.h, include/hw/i386/microvm.h, include/hw/i386/pc.h, include/hw/mem/nvdimm.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2dfa2f18717f3294e8612637a60fc58576ef55b5,37c8c531d61e34b69750aaeb61f7a0d5e9d9de3d,Richard Henderson,2021-02-05,"tcg/aarch64: Do not convert TCGArg to temps that are not temps\n\nFixes INDEX_op_rotli_vec for aarch64 host, where the 3rd\nargument is an integer, not a temporary, which now tickles\nan assert added in e89b28a6350.\n\nPreviously, the value computed into v2 would be garbage for\nrotli_vec, but as the value was unused it caused no harm.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.999381422996521,TCG,tcg/aarch64/tcg-target.c.inc,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c6fbea47664466e526e40300568324ef77e5f2cc,2dfa2f18717f3294e8612637a60fc58576ef55b5,Richard Henderson,2021-01-24,"configure: Fix --enable-tcg-interpreter\n\nThe configure option was backward, and we failed to\npass the value on to meson.\n\nFixes: 23a77b2d18b (""build-system: clean up TCG/TCI configury"")\nTested-by: Stefan Weil <sw@weilnetz.de>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Daniel P. Berrang <berrange@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.997054934501648,TCG,configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,552672bae63dd2c470fc533f276b746bae90b813,187f44d9da0ca8ac08451f03f62b259080596570,Richard Henderson,2021-01-28,"tcg/tci: Fix TCG_REG_R4 misusage\n\nThis was removed from tcg_target_reg_alloc_order and\ntcg_target_call_iarg_regs on the assumption that it\nwas the stack.  This was incorrectly copied from i386.\nFor tci, the stack is R15.\n\nBy adding R4 back to tcg_target_call_iarg_regs, adjust the other\nentries so that 6 (or 12) entries are still present in the array,\nand adjust the numbers in the interpreter.\n\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9989268183708192,TCG,"tcg/tci.c, tcg/tci/tcg-target.c.inc",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,853bfef4e6d60244fd131ec55bbf1e7caa52599b,e9ce43e97a19090ae8975ef168b95ba3d29be991,Claudio Fontana,2021-02-04,"target/arm: do not use cc->do_interrupt for KVM directly\n\ncc->do_interrupt is in theory a TCG callback used in accel/tcg only,\nto prepare the emulated architecture to take an interrupt as defined\nin the hardware specifications,\n\nbut in reality the _do_interrupt style of functions in targets are\nalso occasionally reused by KVM to prepare the architecture state in a\nsimilar way where userspace code has identified that it needs to\ndeliver an exception to the guest.\n\nIn the case of ARM, that includes:\n\n1) the vcpu thread got a SIGBUS indicating a memory error,\n   and we need to deliver a Synchronous External Abort to the guest to\n   let it know about the error.\n2) the kernel told us about a debug exception (breakpoint, watchpoint)\n   but it is not for one of QEMU's own gdbstub breakpoints/watchpoints\n   so it must be a breakpoint the guest itself has set up, therefore\n   we need to deliver it to the guest.\n\nSo in order to reuse code, the same arm_do_interrupt function is used.\nThis is all fine, but we need to avoid calling it using the callback\nregistered in CPUClass, since that one is now TCG-only.\n\nFortunately this is easily solved by replacing calls to\nCPUClass::do_interrupt() with explicit calls to arm_do_interrupt().\n\nSigned-off-by: Claudio Fontana <cfontana@suse.de>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nCc: Peter Maydell <peter.maydell@linaro.org>\nMessage-Id: <20210204163931.7358-9-cfontana@suse.de>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.997897744178772,"ARM, KVM, TCG","target/arm/helper.c, target/arm/kvm64.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6742eefc9314678bba39e461fe8cdd0a841c3e92,6c8ebe30ea8055fce8b24730e970532b3c849fdb,David Gibson,2020-06-04,"spapr: PEF: prevent migration\n\nWe haven't yet implemented the fairly involved handshaking that will be\nneeded to migrate PEF protected guests.  For now, just use a migration\nblocker so we get a meaningful error if someone attempts this (this is the\nsame approach used by AMD SEV).\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Greg Kurz <groug@kaod.org>",1,0.9988355040550232,SEV,hw/ppc/pef.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,61f90e0461984438ddd5064d1c03133f561dc848,92381157dd74c27b028d4a8e9349488e55b4c22d,Alexander Bulekov,2021-01-17,"fuzz: log the arguments used to initialize QEMU\n\nThis is useful for building reproducers. Instead checking the code or\nthe QEMU_FUZZ_ARGS, the arguments are at the top of the crash log.\n\nSigned-off-by: Alexander Bulekov <alxndr@bu.edu>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20210117201014.271610-3-alxndr@bu.edu>",1,0.8744993805885315,FUZZ,tests/qtest/fuzz/fuzz.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4714791b66ae39bea6b6e3c3e84aaed8dcb005c7,c6d1b5c13bf937d3314f4bad596ced52f32106c5,zhenwei pi,2021-01-15,"hw/block/nvme: add smart_critical_warning property\n\nThere is a very low probability that hitting physical NVMe disk\nhardware critical warning case, it's hard to write & test a monitor\nagent service.\n\nFor debugging purposes, add a new 'smart_critical_warning' property\nto emulate this situation.\n\nThe orignal version of this change is implemented by adding a fixed\nproperty which could be initialized by QEMU command line. Suggested\nby Philippe & Klaus, rework like current version.\n\nTest with this patch:\n1, change smart_critical_warning property for a running VM:\n #virsh qemu-monitor-command nvme-upstream '{ ""execute"": ""qom-set"",\n  ""arguments"": { ""path"": ""/machine/peripheral-anon/device[0]"",\n  ""property"": ""smart_critical_warning"", ""value"":16 } }'\n2, run smartctl in guest\n #smartctl -H -l error /dev/nvme0n1\n\n  === START OF SMART DATA SECTION ===\n  SMART overall-health self-assessment test result: FAILED!\n  - volatile memory backup device has failed\n\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: zhenwei pi <pizhenwei@bytedance.com>\nSigned-off-by: Klaus Jensen <k.jensen@samsung.com>",1,0.9975141286849976,LED,"hw/block/nvme.c, hw/block/nvme.h, include/block/nvme.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,af903caed9fc62cc60a589da75e61ea8008c8265,83339e21d05c824ebc9131d644f25c23d0e41ecf,Aaron Lindsay,2021-02-03,"target/arm: Don't migrate CPUARMState.features\n\nAs feature flags are added or removed, the meanings of bits in the\n`features` field can change between QEMU versions, causing migration\nfailures. Additionally, migrating the field is not useful because it is\na constant function of the CPU being used.\n\nFixes: LP:1914696\nSigned-off-by: Aaron Lindsay <aaron@os.amperecomputing.com>\nSuggested-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nTested-by: Andrew Jones <drjones@redhat.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9981277585029602,ARM,target/arm/machine.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,af552644a7a2c5a4d57ae158d831bf8ef79d12dc,f4ceebdec531243dd72e38f85f085287e6e63258,Philippe Mathieu-Daud,2020-11-19,"linux-user/mips64: Restore setup_frame() for o32 ABI\n\n64-bit MIPS targets lost setup_frame() during the refactor in commit\n8949bef18b9. Restore it declaring TARGET_ARCH_HAS_SETUP_FRAME, to be\nable to build the o32 ABI target.\n\nFixes: 8949bef18b9 (""linux-user: move mips/mips64 signal.c parts to mips directory"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20201119161710.1985083-2-f4bug@amsat.org>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.8772798776626587,MIPS,linux-user/mips64/target_signal.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aa2ea7ad6c1a45f8336d9269750353ed8218a5dd,f3cb065fc42dcbeef63057d802ae313a19e166b8,Philippe Mathieu-Daud,2021-02-11,"travis-ci: Disable C++ optional objects on AArch64 container\n\nTravis-CI seems to have enforced memory limit on containers,\nand the 'GCC check-tcg' job started to fail on AArch64 [*]:\n\n  [2041/3679] Compiling C++ object libcommon.fa.p/disas_nanomips.cpp.o\n  FAILED: libcommon.fa.p/disas_nanomips.cpp.o\n  {standard input}: Assembler messages:\n  {standard input}:577781: Warning: end of file not at end of a line; newline inserted\n  {standard input}:577882: Error: unknown pseudo-op: `.lvl35769'\n  {standard input}: Error: open CFI at the end of file; missing .cfi_endproc directive\n  c++: fatal error: Killed signal terminated program cc1plus\n  compilation terminated.\n\nUntil we have a replacement for this job on Gitlab-CI, disable\ncompilation of C++ files by forcing the c++ compiler to /bin/false\nso Meson build system can not detect it:\n\n  $ ../configure --cxx=/bin/false\n\n  Compilation\n                       C compiler: cc\n                  Host C compiler: cc\n                     C++ compiler: NO\n\n[*] https://travis-ci.org/github/qemu/qemu/jobs/757819402#L3754\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Wainer dos Santos Moschetta <wainersm@redhat.com>\nMessage-Id: <20210207121239.2288530-1-f4bug@amsat.org>\nMessage-Id: <20210211122750.22645-8-alex.bennee@linaro.org>",1,0.9935439825057985,LED,.travis.yml,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f522cef9b352ac2f9880c5c8b2ea7b2033bdc9f0,9617cddb72649f563eef8114648140b8c5607a71,James Bottomley,2021-02-04,"sev: update sev-inject-launch-secret to make gpa optional\n\nIf the gpa isn't specified, it's value is extracted from the OVMF\nproperties table located below the reset vector (and if this doesn't\nexist, an error is returned).  OVMF has defined the GUID for the SEV\nsecret area as 4c2eb361-7d9b-4cc3-8081-127c90d3d294 and the format of\nthe <data> is: <base>|<size> where both are uint32_t.  We extract\n<base> and use it as the gpa for the injection.\n\nNote: it is expected that the injected secret will also be GUID\ndescribed but since qemu can't interpret it, the format is left\nundefined here.\n\nSigned-off-by: James Bottomley <jejb@linux.ibm.com>\n\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nMessage-Id: <20210204193939.16617-3-jejb@linux.ibm.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9678996205329896,SEV,"qapi/misc-target.json, target/i386/monitor.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,92a5199b29f6519aa5f774f4b96dc41954f641d1,b2f73a0784b7a5eae2022ccf3293792bd008cc64,Tom Lendacky,2021-01-26,"sev/i386: Don't allow a system reset under an SEV-ES guest\n\nAn SEV-ES guest does not allow register state to be altered once it has\nbeen measured. When an SEV-ES guest issues a reboot command, Qemu will\nreset the vCPU state and resume the guest. This will cause failures under\nSEV-ES. Prevent that from occuring by introducing an arch-specific\ncallback that returns a boolean indicating whether vCPUs are resettable.\n\nCc: Peter Maydell <peter.maydell@linaro.org>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nCc: Jiaxun Yang <jiaxun.yang@flygoat.com>\nCc: Aleksandar Rikalo <aleksandar.rikalo@syrmia.com>\nCc: David Gibson <david@gibson.dropbear.id.au>\nCc: David Hildenbrand <david@redhat.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: Tom Lendacky <thomas.lendacky@amd.com>\nReviewed-by: Venu Busireddy <venu.busireddy@oracle.com>\nMessage-Id: <1ac39c441b9a3e970e9556e1cc29d0a0814de6fd.1611682609.git.thomas.lendacky@amd.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9994955062866212,SEV,"accel/kvm/kvm-all.c, include/sysemu/cpus.h, include/sysemu/hw_accel.h, include/sysemu/kvm.h, softmmu/cpus.c, softmmu/runstate.c, target/arm/kvm.c, target/i386/kvm/kvm.c, target/mips/kvm.c, target/ppc/kvm.c, target/s390x/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0d6e6cb779ea1615b094f35bf3189ae6fd68cd95,24fa5d669d243699be3a179efc55041a291bb748,Alex Benne,2021-02-13,accel/tcg/plugin-gen: fix the call signature for inline callbacks\n\nA recent change to the handling of constants in TCG changed the\npattern of ops emitted for a constant add. We no longer emit a mov and\nthe constant can be applied directly to the TCG_op_add arguments. This\nwas causing SEGVs when running the insn plugin with arg=inline. Fix\nthis by updating copy_add_i64 to do the right thing while also adding\na comment at the top of the append section as an aide memoir if\nsomething like this happens again.\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nCc: Emilio G. Cota <cota@braap.org>\nMessage-Id: <20210213130325.14781-10-alex.bennee@linaro.org>,1,0.9995163679122924,TCG,accel/tcg/plugin-gen.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5b45a3666ef77ec65f49b0b074a28f1ef460b9c5,6ae29af3ed4b24dc733ed4186ebe906b6d1063cd,Bin Meng,2021-01-28,"hw/sd: ssi-sd: Fix STOP_TRANSMISSION (CMD12) response\n\nCMD12's response type is R1b, which is basically a R1 plus optional\naddition of the busy signal token that can be any number of bytes.\nA zero value indicates card is busy and a non-zero value indicates\nthe card is ready for the next command.\n\nCurrent implementation sends the busy signal token without sending\nthe R1 first. This does not break the U-Boot/Linux mmc_spi driver,\nbut it does not make the VxWorks driver happy.\n\nMove the testing logic of s->stopping in the SSI_SD_RESPONSE state\na bit later, after the first byte of the card reponse is sent out,\nto conform with the spec. After the busy signal token is sent, the\nstate should be transferred to SSI_SD_CMD.\n\nFixes: 775616c3ae8c (""Partial SD card SPI mode support"")\nSigned-off-by: Bin Meng <bin.meng@windriver.com>\nMessage-Id: <20210128063035.15674-9-bmeng.cn@gmail.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9996418952941896,"ESP, SSI, SSI_SD",hw/sd/ssi-sd.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1e3b675b3e946f5c2b4b1aa96dc6413af8db9f04,bca3763be27adbc12fa65aeab51e429fd75a58cd,Philippe Mathieu-Daud,2021-02-07,"target/mips: Include missing ""tcg/tcg.h"" header\n\nCommit 83be6b54123 (""Fix MSA instructions LD.<B|H|W|D> on big endian\nhost"") introduced use of typedef/prototypes declared in ""tcg/tcg.h""\nwithout including it. This was not a problem because ""tcg/tcg.h"" is\npulled in by ""exec/cpu_ldst.h"". To be able to remove this header\nthere, we first need to include it here in op_helper.c, else we get:\n\n  [222/337] Compiling C object libqemu-mips-softmmu.fa.p/target_mips_msa_helper.c.o\n  target/mips/msa_helper.c: In function helper_msa_ld_b:\n  target/mips/msa_helper.c:8214:9: error: unknown type name TCGMemOpIdx\n   8214 |         TCGMemOpIdx oi = make_memop_idx(MO_TE | DF | MO_UNALN,  \\n        |         ^~~~~~~~~~~\n  target/mips/msa_helper.c:8224:5: note: in expansion of macro MEMOP_IDX\n   8224 |     MEMOP_IDX(DF_BYTE)\n        |     ^~~~~~~~~\n  target/mips/msa_helper.c:8214:26: error: implicit declaration of function make_memop_idx [-Werror=implicit-function-declaration]\n   8214 |         TCGMemOpIdx oi = make_memop_idx(MO_TE | DF | MO_UNALN,  \\n        |                          ^~~~~~~~~~~~~~\n  target/mips/msa_helper.c:8227:18: error: implicit declaration of function helper_ret_ldub_mmu [-Werror=implicit-function-declaration]\n   8227 |     pwd->b[0]  = helper_ret_ldub_mmu(env, addr + (0  << DF_BYTE), oi, GETPC());\n        |                  ^~~~~~~~~~~~~~~~~~~\n  cc1: all warnings being treated as errors\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20210207232310.2505283-4-f4bug@amsat.org>",1,0.9996434450149536,TCG,target/mips/msa_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,911629e6d3773a8adeab48b488fadece0d7996b1,94349bffda0ae13b4d7c9c042bd6c94fc6a5b9bf,BALATON Zoltan,2021-01-09,vt82c686: Fix SMBus IO base and configuration registers\n\nThe base address of the SMBus io ports and its enabled status is set\nby registers in the PCI config space but this was not correctly\nemulated. Instead the SMBus registers were mapped on realize to the\nbase address set by a property to the address expected by fuloong2e\nfirmware.\n\nFix the base and config register handling to more closely model\nhardware which allows to remove the property and allows the guest to\ncontrol this mapping. Do all this in reset instead of realize so it's\ncorrectly updated on reset.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nReviewed-by: Jiaxun Yang <jiaxun.yang@flygoat.com>\nMessage-Id: <f2ca2ad5f08ba8cee07afd9d67b4e75cda21db09.1610223397.git.balaton@eik.bme.hu>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>,1,0.999441921710968,PCI,"hw/isa/vt82c686.c, hw/mips/fuloong2e.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3ab1eea6bced10e314625cfa13fc9c9fa586486f,9af8e529b91d6e8a0c2911281b39179f184f09bf,BALATON Zoltan,2021-01-09,"vt82c686: Fix up power management io base and config\n\nSimilar to the SMBus io registers there is a power management io range\nthat is set via similar base address reg and enable bit. Some handling\nof this was already there but with several problems: using the wrong\nregisters and bits, wrong size range, not acually updating mapping and\nhandling reset correctly, nor emulating any of the actual io\nregisters. Some of these errors are fixed up here.\n\nAfter this patch we use the correct base address register, enable bit\nand region size and allow guests to map/unmap this region, but we\nstill don't emulate any of the registers in this range.\n\nPMD notes regarding the Configuration Space Power Management Registers:\n\n  - 0x40 General Configuration 0\n\n  - 0x41 General Configuration 1\n\n    . Bit 7: I/O Enable for ACPI I/O Base\n\n  - 0x48 Power Mgmt I/O Base\n\n    . Bit 0: Always set\n    . Bits 7-15: Power Management I/O Register Base Address\n      (this explains the change 0xffc0 -> 0xff80)\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-Id: <cff9b2442d3e2e1cfbdcbc2dfbb559031b4b1cc1.1610223397.git.balaton@eik.bme.hu>\n[PMD: Split original patch, this is part 4/4, added notes]\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9997194409370422,ACPI,hw/isa/vt82c686.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fd52deea52d79192c43a1a7a0240a3cabbc55e80,91ab6d46960256d21c6c01a1f5948bf1336aa15c,Stefan Sandstrom,2021-02-19,target/cris: Plug leakage of TCG temporaries\n\nAdd and fix deallocation of temporary TCG registers in CRIS code\ngeneration.\n\nTested-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nChange-Id: I17fce5d95bdc4418337ba885d53ba97afb1bafcc\nSigned-off-by: Stefan Sandstrm <stefans@axis.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20210219124416.28178-1-stefans@axis.com>\nSigned-off-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>,1,0.99944669008255,"CRIS, TCG","target/cris/translate.c, target/cris/translate_v10.c.inc",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,df72184ec15829053b3bb5a0d5801773b6d9ec25,97ca9c5920362d5b7a9f96d4fa758e9f2ccb3301,Laurent Vivier,2021-02-12,"pcie: don't set link state active if the slot is empty\n\nWhen the pcie slot is initialized, by default PCI_EXP_LNKSTA_DLLLA\n(Data Link Layer Link Active) is set in PCI_EXP_LNKSTA\n(Link Status) without checking if the slot is empty or not.\n\nThis is confusing for the kernel because as it sees the link is up\nit tries to read the vendor ID and fails:\n\n(From https://bugzilla.kernel.org/show_bug.cgi?id=211691)\n\n[    1.661105] pcieport 0000:00:02.2: pciehp: Slot Capabilities      : 0x0002007b\n[    1.661115] pcieport 0000:00:02.2: pciehp: Slot Status            : 0x0010\n[    1.661123] pcieport 0000:00:02.2: pciehp: Slot Control           : 0x07c0\n[    1.661138] pcieport 0000:00:02.2: pciehp: Slot #0 AttnBtn+ PwrCtrl+ MRL- AttnInd+ PwrInd+ HotPlug+ Surprise+ Interlock+ NoCompl- IbPresDis- LLActRep+\n[    1.662581] pcieport 0000:00:02.2: pciehp: pciehp_get_power_status: SLOTCTRL 6c value read 7c0\n[    1.662597] pcieport 0000:00:02.2: pciehp: pciehp_check_link_active: lnk_status = 2204\n[    1.662703] pcieport 0000:00:02.2: pciehp: pending interrupts 0x0010 from Slot Status\n[    1.662706] pcieport 0000:00:02.2: pciehp: pcie_enable_notification: SLOTCTRL 6c write cmd 1031\n[    1.662730] pcieport 0000:00:02.2: pciehp: pciehp_check_link_active: lnk_status = 2204\n[    1.662748] pcieport 0000:00:02.2: pciehp: pciehp_check_link_active: lnk_status = 2204\n[    1.662750] pcieport 0000:00:02.2: pciehp: Slot(0-2): Link Up\n[    2.896132] pcieport 0000:00:02.2: pciehp: pciehp_check_link_status: lnk_status = 2204\n[    2.896135] pcieport 0000:00:02.2: pciehp: Slot(0-2): No device found\n[    2.896900] pcieport 0000:00:02.2: pciehp: pending interrupts 0x0010 from Slot Status\n[    2.896903] pcieport 0000:00:02.2: pciehp: pciehp_power_off_slot: SLOTCTRL 6c write cmd 400\n[    3.656901] pcieport 0000:00:02.2: pciehp: pending interrupts 0x0009 from Slot Status\n\nThis is really a problem with virtio-net failover that hotplugs a VFIO\ncard during the boot process. The kernel can shutdown the slot while\nQEMU is hotplugging it, and this likely ends by an automatic unplug of\nthe card. At the end of the boot sequence the card has disappeared.\n\nTo fix that, don't set the ""Link Active"" state in the init function, but\nrely on the plug function to do it, as the mechanism has already been\nintroduced by 2f2b18f60bf1.\n\nFixes: 2f2b18f60bf1 (""pcie: set link state inactive/active after hot unplug/plug"")\nCc: zhengxiang9@huawei.com\nFixes: 3d67447fe7c2 (""pcie: Fill PCIESlot link fields to support higher speeds and widths"")\nCc: alex.williamson@redhat.com\nFixes: b2101eae63ea (""pcie: Set the ""link active"" in the link status register"")\nCc: benh@kernel.crashing.org\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nMessage-Id: <20210212135250.2738750-5-lvivier@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996612071990968,"PCI, VFIO",hw/pci/pcie.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6be8cf56bc8bda2ed9a070bdb04446191f31acc9,24cd04fce06b0d54e5ca2c12f20f714894a78b95,Isaku Yamahata,2021-02-17,"acpi/core: always set SCI_EN when SMM isn't supported\n\nIf SMM is not supported, ACPI fixed hardware doesn't support\nlegacy-mode. ACPI-only platform. Where SCI_EN in PM1_CNT register is\nalways set.\nThe bit tells OS legacy mode(SCI_EN cleared) or ACPI mode(SCI_EN set).\n\nWith the next patch (setting fadt.smi_cmd = 0 when smm isn't enabled),\nguest Linux tries to switch to ACPI mode, finds smi_cmd = 0, and then\nfails to initialize acpi subsystem. This patch proactively fixes it.\n\nThis patch changes guest ABI. To keep compatibility, use\n""smm-compat"" introduced by earlier patch. If the property is true,\ndisable new behavior.\n\nACPI spec 4.8.10.1 PM1 Event Grouping\nPM1 Eanble Registers\n> For ACPI-only platforms (where SCI_EN is always set)\n\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Isaku Yamahata <isaku.yamahata@intel.com>\nMessage-Id: <500f62081626997e46f96377393d3662211763a8.1613615732.git.isaku.yamahata@intel.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996463060379028,ACPI,"hw/acpi/core.c, hw/acpi/ich9.c, hw/acpi/piix4.c, hw/core/machine.c, hw/isa/vt82c686.c, include/hw/acpi/acpi.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c9b6609b69facad0cc5425d4fa7934c33d7f2e91,106ad1f9c513f48b046e07e45406c339d16e4e2f,Hannes Reinecke,2020-11-16,"scsi: make io_timeout configurable\n\nThe current code sets an infinite timeout on SG_IO requests,\ncausing the guest to stall if the host experiences a frame\nloss.\nThis patch adds an 'io_timeout' parameter for SCSIDevice to\nmake the SG_IO timeout configurable, and also shortens the\ndefault timeout to 30 seconds to avoid infinite stalls.\n\nSigned-off-by: Hannes Reinecke <hare@suse.de>\nMessage-Id: <20201116183114.55703-3-hare@suse.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9994634985923768,SCSI,"hw/scsi/scsi-disk.c, hw/scsi/scsi-generic.c, include/hw/scsi/scsi.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ea1b90b4fcb1230b2c85f3fd4ee09a84ddca7a6f,0110253e690f37ff0add0c8d75f47747041d75fa,Thomas Huth,2021-02-05,"target/s390x/arch_dump: Fix warning for the name field in the PT_NOTE section\n\nThere is a compiler warning with GCC 9.3 when compiling with\nthe -fsanitize=thread compiler flag:\n\n In function 'strncpy',\n    inlined from 's390x_write_elf64_notes' at ../target/s390x/arch_dump.c:219:9:\n /usr/include/x86_64-linux-gnu/bits/string_fortified.h:106:10: error:\n  '__builtin_strncpy' specified bound 8 equals destination size\n  [-Werror=stringop-truncation]\n\nSince the name should always be NUL-terminated, let's use g_strlcpy() to\nsilence this warning. And while we're at it, also add an assert() to make\nsure that the provided names always fit the size field (which is fine for\nthe current callers, the function is called once with ""CORE"" and once with\n""LINUX"" as a name).\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>\nMessage-Id: <20210205093921.848260-1-thuth@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996243715286256,LINUX,target/s390x/arch_dump.c,0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,24056cbfd577fd219d55c03f69df66e6351456e7,ea1b90b4fcb1230b2c85f3fd4ee09a84ddca7a6f,Halil Pasic,2021-02-18,"hw/s390x: fix build for virtio-9p-ccw\n\nCommit  2c44220d05 (""meson: convert hw/arch*""), which migrated the old\nMakefile.objs to meson.build  accidentally excluded virtio-ccw-9p.c and\nthus the virtio-9p-ccw device from the build (and potentially also\nincluded the file virtio-ccw-blk.c twice in the source set). And since\nCONFIG_VIRTFS can't be used the way it was used here (see commit\n2c9dce0196 (""meson: do not use CONFIG_VIRTFS"")), the preconditions have\nto be written differently.\n\nLet's fix this!\n\nSigned-off-by: Halil Pasic <pasic@linux.ibm.com>\nFixes: 2c44220d05 (""meson: convert hw/arch*"")\nReported-by: Jakob Naucke <jakob.naucke@ibm.com>\nCc: qemu-stable@nongnu.org\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20210218034059.1096078-1-pasic@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9985666871070862,VIRTFS,hw/s390x/meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,403af209db8c030ed1e000640cd3cd80c6882883,24056cbfd577fd219d55c03f69df66e6351456e7,Matthew Rosato,2021-02-18,"s390x/pci: restore missing Query PCI Function CLP data\n\nSome CLP response data was accidentally dropped when fixing endianness\nissues with the Query PCI Function CLP response.  All of these values are\nsent as 0s to the guest for emulated devices, so the impact is only\nobserved on passthrough devices.\n\nFixes: a4e2fff1b104 (""s390x/pci: fix endianness issues"")\nSigned-off-by: Matthew Rosato <mjrosato@linux.ibm.com>\nMessage-Id: <1613681609-9349-1-git-send-email-mjrosato@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.999693751335144,PCI,hw/s390x/s390-pci-inst.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2d928adf8a9148510e1b2041145b8a873f4d26df,819b3496196c2a7de89ed2372182c24053443990,Peter Collingbourne,2021-02-19,"target/arm: Use TCF0 and TFSRE0 for unprivileged tag checks\n\nSection D6.7 of the ARM ARM states:\n\nFor the purpose of determining Tag Check Fault handling, unprivileged\nload and store instructions are treated as if executed at EL0 when\nexecuted at either:\n- EL1, when the Effective value of PSTATE.UAO is 0.\n- EL2, when both the Effective value of HCR_EL2.{E2H, TGE} is {1, 1}\n  and the Effective value of PSTATE.UAO is 0.\n\nARM has confirmed a defect in the pseudocode function\nAArch64.TagCheckFault that makes it inconsistent with the above\nwording. The remedy is to adjust references to PSTATE.EL in that\nfunction to instead refer to AArch64.AccessUsesEL(acctype), so\nthat unprivileged instructions use SCTLR_EL1.TCF0 and TFSRE0_EL1.\nThe exception type for synchronous tag check faults remains unchanged.\n\nThis patch implements the described change by partially reverting\ncommits 50244cc76abc and cc97b0019bb5.\n\nSigned-off-by: Peter Collingbourne <pcc@google.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20210219201820.2672077-1-pcc@google.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996110796928406,ARM,"target/arm/helper.c, target/arm/mte_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c6986f16a7022ccfb73d91bc7676c8e1d15e5342,e586edcb410543768ef009eaa22a2d9dd4a53846,Paolo Bonzini,2021-03-01,"KVM: x86: do not fail if software breakpoint has already been removed\n\nIf kvm_arch_remove_sw_breakpoint finds that a software breakpoint does not\nhave an INT3 instruction, it fails.  This can happen if one sets a\nsoftware breakpoint in a kernel module and then reloads it.  gdb then\nthinks the breakpoint cannot be deleted and there is no way to add it\nback.\n\nSuggested-by: Maxim Levitsky <mlevitsk@redhat.com>\nReviewed-by: Maxim Levitsky <mlevitsk@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9994295239448548,KVM,target/i386/kvm/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e0a8f99355c32b48c9ef867127075b5267ae23d8,10b6ee1616f984c1889d0851226a9ff14b35ac58,Keqian Zhu,2020-12-17,"accel: kvm: Fix memory waste under mismatch page size\n\nWhen handle dirty log, we face qemu_real_host_page_size and\nTARGET_PAGE_SIZE. The first one is the granule of KVM dirty\nbitmap, and the second one is the granule of QEMU dirty bitmap.\n\nAs qemu_real_host_page_size >= TARGET_PAGE_SIZE (kvm_init()\nenforced it), misuse TARGET_PAGE_SIZE to init kvmslot dirty_bmap\nmay waste memory. For example, when qemu_real_host_page_size is\n64K and TARGET_PAGE_SIZE is 4K, it wastes 93.75% (15/16) memory.\n\nSigned-off-by: Keqian Zhu <zhukeqian1@huawei.com>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nReviewed-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20201217014941.22872-2-zhukeqian1@huawei.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997172951698304,KVM,accel/kvm/kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9f9107e887a048d386ed94e52c1e22cbe4f58a4d,4fb013afcc037c27e3d0cd9af437a737106cca00,Peter Maydell,2021-02-15,"hw/arm/mps2-tz: Correct the OSCCLK settings for mps2-an505 and mps2-an511\n\nWe were previously using the default OSCCLK settings, which are\ncorrect for the older MPS2 boards (mps2-an385, mps2-an386,\nmps2-an500, mps2-an511), but wrong for the mps2-an505 and mps2-511\nimplemented in mps2-tz.c.  Now we're setting the values explicitly we\ncan fix them to be correct.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20210215115138.20465-4-peter.maydell@linaro.org",1,0.998988926410675,"MPS2, PS2",hw/arm/mps2-tz.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c3c7153f95ed48c0491a70d3be1f11990752fd04,d044adc21ac6088a414bc6a32a598d9ad89f8016,Philippe Mathieu-Daud,2021-02-21,"hw/sh4: Add missing Kconfig dependency on SH7750 for the R2D board\n\nr2d_init() calls sh7750_init() so depends on SH7750.Harmless\nat the moment because nothing actually uses CONFIG_SH7750\n(hw/sh4/meson.build always compiles sh7750.c and sh7750_regnames.c\nunconditionally).\n\nFixes: 7ab58d4c841 (""sh4-softmmu.mak: express dependencies with Kconfig"")\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-Id: <20210222141514.2646278-3-f4bug@amsat.org>",1,0.9995262622833252,"R2D, SH7750",hw/sh4/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,496913153a9d5d0b200c2ac30a541f9f294f55aa,c7bce09c0595b235ad367a12bae54cb04b33025b,Mark Cave-Ayland,2021-03-04,"esp: fix PDMA target selection\n\nCurrently the target selection for PDMA is done after the SCSI command has been\ndelivered which is not correct. Perform target selection as part of the initial\nget_cmd() call when the command is submitted: if no target is present, don't\nraise DRQ.\n\nIf the target is present then switch to the command phase since the MacOS toolbox\nROM checks for this before attempting to submit the SCSI command.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20210304221103.6369-28-mark.cave-ayland@ilande.co.uk>",1,0.9996285438537598,SCSI,hw/scsi/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf47a41e055f6f90a2cecdb9eb3c4cebfde23f2a,bb27b13d183a4fdf8d63072861e03d320e41cb0e,Mark Cave-Ayland,2021-03-04,esp: latch individual bits in ESP_RINTR register\n\nCurrently the ESP_RINTR register is set to a specific value as required within\nthe ESP state machine. In order to implement the upcoming deferred interrupt\nfunctionality it is necessary to set individual bits within ESP_RINTR so that\na deferred interrupt will not overwrite the value of any other interrupt bits.\n\nThis also requires fixing up a few locations where the ESP_RINTR and ESP_RSEQ\nregisters are set/reset unexpectedly.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20210304221103.6369-33-mark.cave-ayland@ilande.co.uk>,1,0.9989458918571472,ESP,hw/scsi/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4e78f3bf357e0ef2f67e372097f2be8fe0521814,cf47a41e055f6f90a2cecdb9eb3c4cebfde23f2a,Mark Cave-Ayland,2021-03-04,"esp: defer command completion interrupt on incoming data transfers\n\nThe MacOS toolbox ROM issues a command to the ESP controller as part of its\n""FAST"" SCSI routines and then proceeds to read the incoming data soon after\nreceiving the command completion interrupt.\n\nUnfortunately due to SCSI block transfers being asynchronous the incoming data\nmay not yet be present causing an underflow error. Resolve this by waiting for\nthe SCSI subsystem transfer_data callback before raising the command completion\ninterrupt.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20210304221103.6369-34-mark.cave-ayland@ilande.co.uk>",1,0.9996781349182128,"ESP, SCSI","hw/scsi/esp.c, include/hw/scsi/esp.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4aaa6ac38393e6657869da528ad8c35657e23f84,4e78f3bf357e0ef2f67e372097f2be8fe0521814,Mark Cave-Ayland,2021-03-04,"esp: remove old deferred command completion mechanism\n\nCommit ea84a44250 ""scsi: esp: Defer command completion until previous interrupts\nhave been handled"" provided a mechanism to delay the command completion interrupt\nuntil ESP_RINTR is read after the command has completed.\n\nWith the previous fixes for latching the ESP_RINTR bits and deferring the setting\nof the command completion interrupt for incoming data to the SCSI callback, this\nworkaround is no longer required and can be removed.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20210304221103.6369-35-mark.cave-ayland@ilande.co.uk>",1,0.999556005001068,"ESP, SCSI","hw/scsi/esp.c, include/hw/scsi/esp.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,535255b43898d2e96744057eb86f8497d4d7a461,e246bf3ddc4d61d03227373fecfdcd4fec3508db,Stefan Hajnoczi,2021-02-23,"vhost-user-blk: fix blkcfg->num_queues endianness\n\nTreat the num_queues field as virtio-endian. On big-endian hosts the\nvhost-user-blk num_queues field was in the wrong endianness.\n\nMove the blkcfg.num_queues store operation from realize to\nvhost_user_blk_update_config() so feature negotiation has finished and\nwe know the endianness of the device. VIRTIO 1.0 devices are\nlittle-endian, but in case someone wants to use legacy VIRTIO we support\nall endianness cases.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-Id: <20210223144653.811468-2-stefanha@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9993021488189696,VIRTIO,hw/block/vhost-user-blk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e44362ce317bcc46d409ed6c4a5ed2b46804bcbf,524bac0744e5abf95856fb9e31c01fd2ef102188,Stefan Hajnoczi,2021-02-23,"block/export: fix vhost-user-blk export sector number calculation\n\nThe driver is supposed to honor the blk_size field but the protocol\nstill uses 512-byte sector numbers. It is incorrect to multiply\nreq->sector_num by blk_size.\n\nVIRTIO 1.1 5.2.5 Device Initialization says:\n\n  blk_size can be read to determine the optimal sector size for the\n  driver to use. This does not affect the units used in the protocol\n  (always 512 bytes), but awareness of the correct value can affect\n  performance.\n\nFixes: 3578389bcf76c824a5d82e6586a6f0c71e56f2aa (""block/export: vhost-user block device backend server"")\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-Id: <20210223144653.811468-10-stefanha@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9997139573097228,VIRTIO,block/export/vhost-user-blk-server.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5215e60600b0bc0a011f4456e0f0a0d9376d9133,037953b5b299daec4d92253858de32c15dd4e9f4,Minwoo Im,2021-02-06,hw/block/nvme: fix namespaces array to 1-based\n\nsubsys->namespaces array used to be sized to NVME_SUBSYS_MAX_NAMESPACES.\nBut subsys->namespaces are being accessed with 1-based namespace id\nwhich means the very first array entry will always be empty(NULL).\n\nSigned-off-by: Minwoo Im <minwoo.im.dev@gmail.com>\nReviewed-by: Keith Busch <kbusch@kernel.org>\nReviewed-by: Klaus Jensen <k.jensen@samsung.com>\nTested-by: Klaus Jensen <k.jensen@samsung.com>\nSigned-off-by: Klaus Jensen <k.jensen@samsung.com>,1,0.999671220779419,ESP,hw/block/nvme-subsys.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,92cad003c131c1866580beb4c00e19551652be8d,5215e60600b0bc0a011f4456e0f0a0d9376d9133,Minwoo Im,2021-02-06,hw/block/nvme: fix allocated namespace list to 256\n\nExpand allocated namespace list (subsys->namespaces) to have 256 entries\nwhich is a value lager than at least NVME_MAX_NAMESPACES which is for\nattached namespace list in a controller.\n\nAllocated namespace list should at least larger than attached namespace\nlist.\n\n	n->num_namespaces = NVME_MAX_NAMESPACES;\n\nThe above line will set the NN field by id->nn so that the subsystem\nshould also prepare at least this number of namespace list entries.\n\nSigned-off-by: Minwoo Im <minwoo.im.dev@gmail.com>\nReviewed-by: Keith Busch <kbusch@kernel.org>\nReviewed-by: Klaus Jensen <k.jensen@samsung.com>\nTested-by: Klaus Jensen <k.jensen@samsung.com>\nSigned-off-by: Klaus Jensen <k.jensen@samsung.com>,1,0.9995816349983216,ESP,"hw/block/nvme-subsys.h, hw/block/nvme.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,32d1fd8d39475bc9ed7d3b5f1a666cce7f1d5fc2,8ee08a6a282f4bbdd79744cad79aa87121db2e03,Philippe Mathieu-Daud,2021-02-21,hw/lm32/Kconfig: Have MILKYMIST select LM32_DEVICES\n\nThe Milkymist board requires more than the PTIMER. Directly\nselect the LM32_DEVICES. This fixes:\n\n  /usr/bin/ld:\n  libqemu-lm32-softmmu.fa.p/target_lm32_gdbstub.c.o: in function `lm32_cpu_gdb_read_register':\n  target/lm32/gdbstub.c:46: undefined reference to `lm32_pic_get_im'\n  target/lm32/gdbstub.c:48: undefined reference to `lm32_pic_get_ip'\n  libqemu-lm32-softmmu.fa.p/target_lm32_op_helper.c.o: in function `helper_wcsr_im':\n  target/lm32/op_helper.c:107: undefined reference to `lm32_pic_set_im'\n  libqemu-lm32-softmmu.fa.p/target_lm32_op_helper.c.o: in function `helper_wcsr_ip':\n  target/lm32/op_helper.c:114: undefined reference to `lm32_pic_set_ip'\n  libqemu-lm32-softmmu.fa.p/target_lm32_op_helper.c.o: in function `helper_wcsr_jtx':\n  target/lm32/op_helper.c:120: undefined reference to `lm32_juart_set_jtx'\n  libqemu-lm32-softmmu.fa.p/target_lm32_op_helper.c.o: in function `helper_wcsr_jrx':\n  target/lm32/op_helper.c:125: undefined reference to `lm32_juart_set_jrx'\n  libqemu-lm32-softmmu.fa.p/target_lm32_translate.c.o: in function `lm32_cpu_dump_state':\n  target/lm32/translate.c:1161: undefined reference to `lm32_pic_get_ip'\n  target/lm32/translate.c:1161: undefined reference to `lm32_pic_get_im'\n\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20210221225626.2589247-4-f4bug@amsat.org>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>,1,0.9997162222862244,PTIMER,hw/lm32/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fe1831eff8a41e96044fe98a6b0e232daa22ef83,d1c2e3ce3d5a5424651967bce1cf1f4caa0c6d91,Daniel Henrique Barboza,2021-02-22,"spapr_drc.c: use DRC reconfiguration to cleanup DIMM unplug state\n\nHandling errors in memory hotunplug in the pSeries machine is more\ncomplex than any other device type, because there are all the\ncomplications that other devices has, and more.\n\nFor instance, determining a timeout for a DIMM hotunplug must consider\nif it's a Hash-MMU or a Radix-MMU guest, because Hash guests takes\nlonger to hotunplug DIMMs. The size of the DIMM is also a factor, given\nthat longer DIMMs naturally takes longer to be hotunplugged from the\nkernel. And there's also the guest memory usage to be considered: if\nthere's a process that is consuming memory that would be lost by the\nDIMM unplug, the kernel will postpone the unplug process until the\nprocess finishes, and then initiate the regular hotunplug process. The\nfirst two considerations are manageable, but the last one is a deal\nbreaker.\n\nThere is no sane way for the pSeries machine to determine the memory\nload in the guest when attempting a DIMM hotunplug - and even if there\nwas a way, the guest can start using all the RAM in the middle of the\nunplug process and invalidate our previous assumptions - and in result\nwe can't even begin to calculate a timeout for the operation. This means\nthat we can't implement a viable timeout mechanism for memory unplug in\npSeries.\n\nGoing back to why we would consider an unplug timeout, the reason is\nthat we can't know if the kernel is giving up the unplug. Turns out\nthat, sometimes, we can. Consider a failed memory hotunplug attempt\nwhere the kernel will error out with the following message:\n\n'pseries-hotplug-mem: Memory indexed-count-remove failed, adding any\nremoved LMBs'\n\nThis happens when there is a LMB that the kernel gave up in removing,\nand the LMBs previously marked for removal are now being added back.\nThis happens in the pseries kernel in [1], dlpar_memory_remove_by_ic()\ninto dlpar_add_lmb(), and after that update_lmb_associativity_index().\nIn this function, the kernel is configuring the LMB DRC connector again.\nNote that this is a valid usage in LOPAR, as stated in section\n""ibm,configure-connector RTAS Call"":\n\n'A subsequent sequence of calls to ibm,configure-connector with the same\nentry from the ibm,drc-indexes or ibm,drc-info property will restart\nthe configuration of devices which were not completely configured.'\n\nWe can use this kernel behavior in our favor. If a DRC connector\nreconfiguration for a LMB that we marked as unplug pending happens, this\nindicates that the kernel changed its mind about the unplug and is\nreasserting that it will keep using all the LMBs of the DIMM. In this\ncase, it's safe to assume that the whole DIMM device unplug was\ncancelled.\n\nThis patch hops into rtas_ibm_configure_connector() and, in the scenario\ndescribed above, clear the unplug state for the DIMM device. This will\nnot solve all the problems we still have with memory unplug, but it will\ncover this case where the kernel reconfigures LMBs after a failed\nunplug. We are a bit more resilient, without using an unreliable\ntimeout, and we didn't make the remaining error cases any worse.\n\n[1] arch/powerpc/platforms/pseries/hotplug-memory.c\n\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20210222194531.62717-6-danielhb413@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9953224062919616,DIMM,"hw/ppc/spapr.c, hw/ppc/spapr_drc.c, include/hw/ppc/spapr.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d1929069e355afb809a50a7f6b6affdea399cc8c,cb82340825eed168f732511926477f5f124010be,Akihiko Odaki,2021-02-23,"ui/cocoa: Fix mouse association state\n\nui/cocoa deassociates the mouse input and the mouse cursor\nposition only when relative movement inputs are expected. Such\ninputs may let the mouse cursor leave the view and cause undesired\nside effects if they are associated. On the other hand, the\nproblem does not occur when inputting absolute points, and the\nassociation allows seamless cursor movement across views.\n\nHowever, the synchronization of the association and the expected\ninput type was only done when grabbing the mouse. In reality, the\nstate whether the emulated input device expects absolute pointing\ninputs or relative movement inputs can vary dynamically due to\nUSB device hot-plugging, for example.\n\nThis change adds association state updates according to input type\nexpectation changes. It also removes an internal flag representing\nthe association state because the state can now be determined with\nthe current input type expectation and it only adds the\ncomplexity of the state tracking.\n\nSigned-off-by: Akihiko Odaki <akihiko.odaki@gmail.com>\nMessage-Id: <20210222150714.21766-1-akihiko.odaki@gmail.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999701201915741,USB,ui/cocoa.m,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,516fc0a081161eab5b3a89c7f243954945ee390e,fc49b77fd391fdcfc9c0b61a8c301ac0d15232e9,Andrew Jones,2021-03-10,"accel: kvm: Fix kvm_type invocation\n\nPrior to commit f2ce39b4f067 a MachineClass kvm_type method\nonly needed to be registered to ensure it would be executed.\nWith commit f2ce39b4f067 a kvm-type machine property must also\nbe specified. hw/arm/virt relies on the kvm_type method to pass\nits selected IPA limit to KVM, but this is not exposed as a\nmachine property. Restore the previous functionality of invoking\nkvm_type when it's present.\n\nFixes: f2ce39b4f067 (""vl: make qemu_get_machine_opts static"")\nSigned-off-by: Andrew Jones <drjones@redhat.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nMessage-id: 20210310135218.255205-2-drjones@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997034668922424,KVM,"accel/kvm/kvm-all.c, include/hw/boards.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bcb902a1ed1ad5e0ceebb9536f392bf6d46219f9,516fc0a081161eab5b3a89c7f243954945ee390e,Andrew Jones,2021-03-10,"hw/arm/virt: KVM: The IPA lower bound is 32\n\nThe virt machine already checks KVM_CAP_ARM_VM_IPA_SIZE to get the\nupper bound of the IPA size. If that bound is lower than the highest\npossible GPA for the machine, then QEMU will error out. However, the\nIPA is set to 40 when the highest GPA is less than or equal to 40,\neven when KVM may support an IPA limit as low as 32. This means KVM\nmay fail the VM creation unnecessarily. Additionally, 40 is selected\nwith the value 0, which means use the default, and that gets around\na check in some versions of KVM, causing a difficult to debug fail.\nAlways use the IPA size that corresponds to the highest possible GPA,\nunless it's lower than 32, in which case use 32. Also, we must still\nuse 0 when KVM only supports the legacy fixed 40 bit IPA.\n\nSuggested-by: Marc Zyngier <maz@kernel.org>\nSigned-off-by: Andrew Jones <drjones@redhat.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Marc Zyngier <maz@kernel.org>\nMessage-id: 20210310135218.255205-3-drjones@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996893405914308,"ARM, KVM","hw/arm/virt.c, target/arm/kvm.c, target/arm/kvm_arm.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1c8d4071ee95de26a7f1feff8e94ebc6e12e0b19,8d492c5f06e107b2f7ebeb66ccb25537cccbf269,Philippe Mathieu-Daud,2021-03-03,"hw/mips/gt64xxx: Fix typos in qemu_log_mask() formats\n\nFix the following typos:\n- GT_PCI1_CFGDATA is not a timer register but a PCI one,\n- zero-padding flag is out of the format\n\nFixes: 641ca2bfcd5 (""hw/mips/gt64xxx_pci: Use qemu_log_mask() instead of debug printf()"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-Id: <20210309142630.728014-4-f4bug@amsat.org>",1,0.9997346997261048,PCI,hw/mips/gt64xxx_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,996e7e4b72f48c2f878e269bb9252d97129b6f73,6157b0e19721aadb4c7fdcfe57b2924af6144b14,David Hildenbrand,2021-03-03,"s390x/kvm: Get rid of legacy_s390_alloc()\n\nlegacy_s390_alloc() was required for dealing with the absence of the ESOP\nfeature -- on old HW (< gen 10) and old z/VM versions (< 6.3).\n\nAs z/VM v6.2 (and even v6.3) is no longer supported since 2017 [1]\nand we don't expect to have real users on such old hardware, let's drop\nlegacy_s390_alloc().\n\nStill check+report an error just in case someone still runs on\nsuch old z/VM environments, or someone runs under weird nested KVM\nsetups (where we can manually disable ESOP via the CPU model).\n\nNo need to check for KVM_CAP_GMAP - that should always be around on\nkernels that also have KVM_CAP_DEVICE_CTRL (>= v3.15).\n\n[1] https://www.ibm.com/support/lifecycle/search?q=z%2FVM\n\nSuggested-by: Cornelia Huck <cohuck@redhat.com>\nSuggested-by: Thomas Huth <thuth@redhat.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Richard Henderson <rth@twiddle.net>\nCc: Halil Pasic <pasic@linux.ibm.com>\nCc: Cornelia Huck <cohuck@redhat.com>\nCc: Christian Borntraeger <borntraeger@de.ibm.com>\nCc: Thomas Huth <thuth@redhat.com>\nCc: Igor Mammedov <imammedo@redhat.com>\nCc: Peter Xu <peterx@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20210303130916.22553-2-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.999344289302826,KVM,target/s390x/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8dca037b484fc8caeb6d6689745bc7475ce27174,4e779bf1a55e8b951f1640e3ea46fc459066f64f,Eric Auger,2021-02-09,"vfio: Do not register any IOMMU_NOTIFIER_DEVIOTLB_UNMAP notifier\n\nIn an attempt to fix smmu/virtio-iommu - vhost regression, commit\n958ec334bca3 (""vhost: Unbreak SMMU and virtio-iommu on dev-iotlb support"")\nbroke virtio-iommu integration. This is due to the fact VFIO registers\nIOMMU_NOTIFIER_ALL notifiers, which includes IOMMU_NOTIFIER_DEVIOTLB_UNMAP\nand this latter now is rejected by the virtio-iommu. As a consequence,\nthe registration fails. VHOST behaves like a device with an ATC cache. The\nVFIO device does not support this scheme yet.\n\nLet's register only legacy MAP and UNMAP notifiers.\n\nFixes: 958ec334bca3 (""vhost: Unbreak SMMU and virtio-iommu on dev-iotlb support"")\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nMessage-Id: <20210209213233.40985-2-eric.auger@redhat.com>\nAcked-by: Jason Wang <jasowang@redhat.com>\nAcked-by: Alex Williamson <alex.williamson@redhat.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.999698281288147,VFIO,hw/vfio/common.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d329f5032e17f3ecc7f8c2c3c5f130ec671000d2,1a8e22bd20c2586df0bc0fdce8d5a3b42fffb1ac,Shenming Lu,2021-03-10,"vfio: Move the saving of the config space to the right place in VFIO migration\n\nOn ARM64 the VFIO SET_IRQS ioctl is dependent on the VM interrupt\nsetup, if the restoring of the VFIO PCI device config space is\nbefore the VGIC, an error might occur in the kernel.\n\nSo we move the saving of the config space to the non-iterable\nprocess, thus it will be called after the VGIC according to\ntheir priorities.\n\nAs for the possible dependence of the device specific migration\ndata on it's config space, we can let the vendor driver to\ninclude any config info it needs in its own data stream.\n\nSigned-off-by: Shenming Lu <lushenming@huawei.com>\nReviewed-by: Kirti Wankhede <kwankhede@nvidia.com>\nMessage-Id: <20210310030233.1133-2-lushenming@huawei.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.990429162979126,"ARM, PCI, VFIO",hw/vfio/migration.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e8a2a62106d219016f8372c3888bbf555006243b,d3d39fc0184fdf2f4b2f5ab9c35f2a5085cfad4d,Alexander Bulekov,2021-02-20,"fuzz: fix the pro100 generic-fuzzer config\n\nThe device-type names for the pro100 network cards, are i8255.. We were\nmatching ""eepro"", which catches the PCI PIO/MMIO regions for those\ndevices, however misses the actual PCI device, which we use to map the\nBARs, before fuzzing. Fix that\n\nSigned-off-by: Alexander Bulekov <alxndr@bu.edu>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996299743652344,PCI,tests/qtest/fuzz/generic_fuzz_configs.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dc293f60b02ff9a4d51ccae153b1685cc8a34d79,26dbec410e9f5194767d17fd19cb64fc1f487e1b,Paolo Bonzini,2021-03-09,"scsi: fix sense code for EREMOTEIO\n\nSENSE_CODE(LUN_COMM_FAILURE) has an ABORTED COMMAND sense key,\nso it results in a retry in Linux.  To ensure that EREMOTEIO\nis forwarded to the guest, use a HARDWARE ERROR sense key\ninstead.  Note that the code before commit d7a84021d was incorrect\nbecause it used HARDWARE_ERROR as a SCSI status, not as a sense\nkey.\n\nReported-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997201561927797,SCSI,scsi/utils.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9d39ec70f41450766cf1c41ad992706fd6507307,935cac9c80cdbf2654d5aaa37524941967e44c98,Mark Cave-Ayland,2021-03-11,mac_via: fix up adb_via_receive() trace events\n\nThe use of the post-increment operator on adb_data_in_index meant that the\ntrace-event was accidentally displaying the next byte in the incoming ADB\ndata buffer rather than the current byte.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20210311100505.22596-3-mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>,1,0.9996519088745116,ADB,hw/misc/mac_via.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5e8892db93f3fb6a7221f2d47f3c952a7e489737,98f9b467b025f58e0cb1c8b0ae91b9b0d51ca85f,Miroslav Rezanina,2021-03-12,"tcg: Fix prototypes for tcg_out_vec_op and tcg_out_op\n\nThere are two different versions of prototype for tcg_out_op and\ntcg_out_vec_op functions:\n\n1) using const TCGArg *args and const int *const_args arguments\n2) using const TCGArg args[TCG_MAX_OP_ARGS] and const int\n   const_args[TCG_MAX_OP_ARGS] aguments.\n\nThis duality causes warnings on GCC 11 and prevents build using\n--enable-werror.  As second version provides more information,\nunify functions prototypes to this variant.\n\nSigned-off-by: Miroslav Rezanina <mrezanin@redhat.com>\nMessage-Id: <20210312121418.139093-1-mrezanin@redhat.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.999717652797699,TCG,"tcg/aarch64/tcg-target.c.inc, tcg/i386/tcg-target.c.inc, tcg/mips/tcg-target.c.inc, tcg/ppc/tcg-target.c.inc, tcg/riscv/tcg-target.c.inc, tcg/s390/tcg-target.c.inc, tcg/tcg.c, tcg/tci/tcg-target.c.inc",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,561dbb41b1d752098249128d8462aaadc56fd15d,816d20c927a930f1ff66656a8dafd9861806c602,Vitaly Kuznetsov,2021-03-19,"i386: Make migration fail when Hyper-V reenlightenment was enabled but 'user_tsc_khz' is unset\n\nKVM doesn't fully support Hyper-V reenlightenment notifications on\nmigration. In particular, it doesn't support emulating TSC frequency\nof the source host by trapping all TSC accesses so unless TSC scaling\nis supported on the destination host and KVM_SET_TSC_KHZ succeeds, it\nis unsafe to proceed with migration.\n\nKVM_SET_TSC_KHZ is called from two sites: kvm_arch_init_vcpu() and\nkvm_arch_put_registers(). The later (intentionally) doesn't propagate\nerrors allowing migrations to succeed even when TSC scaling is not\nsupported on the destination. This doesn't suit 're-enlightenment'\nuse-case as we have to guarantee that TSC frequency stays constant.\n\nRequire 'tsc-frequency=' command line option to be specified for successful\nmigration when re-enlightenment was enabled by the guest.\n\nSigned-off-by: Vitaly Kuznetsov <vkuznets@redhat.com>\nMessage-Id: <20210319123801.1111090-1-vkuznets@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9994133710861206,KVM,"docs/hyperv.txt, target/i386/kvm/hyperv-proto.h, target/i386/machine.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9e06080bed293d94ec1f874e62f25f147b20bc6c,a890557d5a90b2c99988bc478bfd7f77392cfd8d,Greg Kurz,2021-03-12,"vhost-user: Fix double-close on slave_read() error path\n\nSome message types, e.g. VHOST_USER_SLAVE_VRING_HOST_NOTIFIER_MSG,\ncan convey file descriptors. These must be closed before returning\nfrom slave_read() to avoid being leaked. This can currently be done\nin two different places:\n\n[1] just after the request has been processed\n\n[2] on the error path, under the goto label err:\n\nThese path are supposed to be mutually exclusive but they are not\nactually. If the VHOST_USER_NEED_REPLY_MASK flag was passed and the\nsending of the reply fails, both [1] and [2] are performed with the\nsame descriptor values. This can potentially cause subtle bugs if one\nof the descriptor was recycled by some other thread in the meantime.\n\nThis code duplication complicates rollback for no real good benefit.\nDo the closing in a unique place, under a new fdcleanup: goto label\nat the end of the function.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <20210312092212.782255-3-groug@kaod.org>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9997362494468688,VHOST_USER,hw/virtio/vhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9d5451e077cd84809bcdf460c39b5f4fec17fc79,c346749ee9d75fcb11bb816d0665ce174425d667,Georg Kotheimer,2021-03-11,"target/riscv: Fix read and write accesses to vsip and vsie\n\nThe previous implementation was broken in many ways:\n - Used mideleg instead of hideleg to mask accesses\n - Used MIP_VSSIP instead of VS_MODE_INTERRUPTS to mask writes to vsie\n - Did not shift between S bits and VS bits (VSEIP <-> SEIP, ...)\n\nSigned-off-by: Georg Kotheimer <georg.kotheimer@kernkonzept.com>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nMessage-id: 20210311094738.1376795-1-georg.kotheimer@kernkonzept.com\nSigned-off-by: Alistair Francis <alistair.francis@wdc.com>",1,0.9995768666267396,SSI,target/riscv/csr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e6fa978d8343ec7cf20b9c8b2dcb390646242457,5ca634afcf83215a9a54ca6e66032325b5ffb5f6,Gavin Shan,2021-03-18,"hw/arm/virt: Disable pl011 clock migration if needed\n\nA clock is added by commit aac63e0e6ea3 (""hw/char/pl011: add a clock\ninput"") since v5.2.0 which corresponds to virt-5.2 machine type. It\ncauses backwards migration failure from upstream to downstream (v5.1.0)\nwhen the machine type is specified with virt-5.1.\n\nThis fixes the issue by following instructions from section ""Connecting\nsubsections to properties"" in docs/devel/migration.rst. With this applied,\nthe PL011 clock is migrated based on the machine type.\n\n   virt-5.2 or newer:  migration\n   virt-5.1 or older:  non-migration\n\nCc: qemu-stable@nongnu.org # v5.2.0+\nFixes: aac63e0e6ea3 (""hw/char/pl011: add a clock input"")\nSuggested-by: Andrew Jones <drjones@redhat.com>\nSigned-off-by: Gavin Shan <gshan@redhat.com>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nMessage-id: 20210318023801.18287-1-gshan@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996235370635986,PL011,"hw/char/pl011.c, hw/core/machine.c, include/hw/char/pl011.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dad90de78e9e9d47cefcbcd30115706b98e6ec87,75ce72b785a7c9fcb9af2779854142a34825da59,Richard Henderson,2021-03-19,"target/arm: Set ARMMMUFaultInfo.level in user-only arm_cpu_tlb_fill\n\nPretend the fault always happens at page table level 3.\n\nFailure to set this leaves level = 0, which is impossible for\nARMFault_Permission, and produces an invalid syndrome, which\nreaches g_assert_not_reached in cpu_loop.\n\nFixes: 8db94ab4e5db (""linux-user/aarch64: Pass syndrome to EXC_*_ABORT"")\nReported-by: Laurent Vivier <laurent@vivier.eu>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20210320000606.1788699-1-richard.henderson@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999726951122284,ARM,target/arm/tlb_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,35e3f029a966845e090dc8b295312751524df967,3960ca5b3ef6854ef50ef540fe9cf47d94f27704,Alex Benne,2021-03-23,"semihosting/arm-compat-semi: don't use SET_ARG to report SYS_HEAPINFO\n\nAs per the spec:\n\n  the PARAMETER REGISTER contains the address of a pointer to a\n  four-field data block.\n\nSo we need to follow arg0 and place the results of SYS_HEAPINFO there.\n\nFixes: 3c37cfe0b1 (""semihosting: Change internal common-semi interfaces to use CPUState *"")\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nCc: Bug 1915925 <1915925@bugs.launchpad.net>\nCc: Keith Packard <keithp@keithp.com>\nBug: https://bugs.launchpad.net/bugs/1915925\nMessage-Id: <20210323165308.15244-8-alex.bennee@linaro.org>",1,0.9994415640830994,REGISTER,semihosting/arm-compat-semi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2da6e36b3390501b1e3f549a87a58871be447a94,59be75e7d8693b953c072487b1fb6cef2b7bb41a,Philippe Mathieu-Daud,2021-03-23,"hw/usb/hcd-ehci-sysbus: Free USBPacket on instance finalize()\n\nWhen building with --enable-sanitizers we get:\n\n  Direct leak of 32 byte(s) in 2 object(s) allocated from:\n      #0 0x5618479ec7cf in malloc (qemu-system-aarch64+0x233b7cf)\n      #1 0x7f675745f958 in g_malloc (/lib64/libglib-2.0.so.0+0x58958)\n      #2 0x561847f02ca2 in usb_packet_init hw/usb/core.c:531:5\n      #3 0x561848df4df4 in usb_ehci_init hw/usb/hcd-ehci.c:2575:5\n      #4 0x561847c119ac in ehci_sysbus_init hw/usb/hcd-ehci-sysbus.c:73:5\n      #5 0x56184a5bdab8 in object_init_with_type qom/object.c:375:9\n      #6 0x56184a5bd955 in object_init_with_type qom/object.c:371:9\n      #7 0x56184a5a2bda in object_initialize_with_type qom/object.c:517:5\n      #8 0x56184a5a24d5 in object_initialize qom/object.c:536:5\n      #9 0x56184a5a2f6c in object_initialize_child_with_propsv qom/object.c:566:5\n      #10 0x56184a5a2e60 in object_initialize_child_with_props qom/object.c:549:10\n      #11 0x56184a5a3a1e in object_initialize_child_internal qom/object.c:603:5\n      #12 0x561849542d18 in npcm7xx_init hw/arm/npcm7xx.c:427:5\n\nSimilarly to commit d710e1e7bd3 (""usb: ehci: fix memory leak in\nehci""), fix by calling usb_ehci_finalize() to free the USBPacket.\n\nFixes: 7341ea075c0\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20210323183701.281152-1-f4bug@amsat.org>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.99939227104187,USB,hw/usb/hcd-ehci-sysbus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a40888bad602706abb0e726f96a9ea580d591de5,df2d7ca7744156aac0e05ab47bc8623654c1346a,Alexey Kardashevskiy,2021-02-25,"spapr: Fix typo in the patb_entry comment\n\nThere is no H_REGISTER_PROCESS_TABLE, it is H_REGISTER_PROC_TBL handler\nfor which is still called h_register_process_table() though.\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nMessage-Id: <20210225032335.64245-1-aik@ozlabs.ru>\nReviewed-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996352195739746,REGISTER,include/hw/ppc/spapr.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a061a71e0d8f259fbb241485f6601bd02c7d086a,10b8eb94c0902b58d83df84a9eeae709a3480e82,Paolo Bonzini,2021-03-26,"qapi: qom: do not use target-specific conditionals\n\nObjectType and ObjectOptions are defined in a target-independent file,\ntherefore they do not have access to target-specific configuration\nsymbols such as CONFIG_PSERIES or CONFIG_SEV.  For this reason,\npef-guest and sev-guest are currently omitted when compiling the\ngenerated QAPI files.  In addition, this causes ObjectType to have\ndifferent definitions depending on the file that is including\nqapi-types-qom.h (currently this is not causing any issues, but it\nis wrong).\n\nDefine the two enum entries and the SevGuestProperties type\nunconditionally to avoid the issue.  We do not expect to have\nmany target-dependent user-creatable classes, so it is not\nparticularly problematic.\n\nReported-by: Tom Lendacky <thomas.lendacky@amd.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996185302734376,"PSERIES, SEV",qapi/qom.json,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0fae92a3133f48f7fb06907c3ed2765266fad9c8,0fd7432533eea3d4d96c73f0393fcb82a6905f6d,Isaku Yamahata,2021-03-23,"vt82c686.c: don't raise SCI when PCI_INTERRUPT_PIN isn't setup\n\nWithout this patch, the following patch will triger clan runtime\nsanitizer warnings as follows. This patch proactively works around it.\nI leave a correct fix to v582c686.c maintainerfix as I'm not sure\nabout fuloong2e device model.\n\n> MALLOC_PERTURB_=${MALLOC_PERTURB_:-$(( ${RANDOM:-0} % 255 + 1))}\n> QTEST_QEMU_IMG=./qemu-img\n> G_TEST_DBUS_DAEMON=/home/petmay01/linaro/qemu-for-merges/tests/dbus-vmstate-daemon.sh\n> QTEST_QEMU_BINARY=./qemu-system-mips64el tests/qtest/qom-test --tap -k\n> PASS 1 qtest-mips64el/qom-test /mips64el/qom/loongson3-virt\n> PASS 2 qtest-mips64el/qom-test /mips64el/qom/none\n> PASS 3 qtest-mips64el/qom-test /mips64el/qom/magnum\n> PASS 4 qtest-mips64el/qom-test /mips64el/qom/mipssim\n> PASS 5 qtest-mips64el/qom-test /mips64el/qom/malta\n> ../../hw/pci/pci.c:252:30: runtime error: shift exponent -1 is negative\n> PASS 6 qtest-mips64el/qom-test /mips64el/qom/fuloong2e\n> PASS 7 qtest-mips64el/qom-test /mips64el/qom/boston\n> PASS 8 qtest-mips64el/qom-test /mips64el/qom/pica61\n>\n> and similarly for eg\n>\n> MALLOC_PERTURB_=${MALLOC_PERTURB_:-$(( ${RANDOM:-0} % 255 + 1))}\n> QTEST_QEMU_IMG=./qemu-img\n> G_TEST_DBUS_DAEMON=/home/petmay01/linaro/qemu-for-merges/tests/dbus-vmstate-daemon.sh\n> QTEST_QEMU_BINARY=./qemu-system-mips64el tests/qtest/endianness-test\n> --tap -k\n> ../../hw/pci/pci.c:252:30: runtime error: shift exponent -1 is negative\n> PASS 1 qtest-mips64el/endianness-test /mips64el/endianness/fuloong2e\n> ../../hw/pci/pci.c:252:30: runtime error: shift exponent -1 is negative\n> PASS 2 qtest-mips64el/endianness-test /mips64el/endianness/split/fuloong2e\n> ../../hw/pci/pci.c:252:30: runtime error: shift exponent -1 is negative\n> PASS 3 qtest-mips64el/endianness-test /mips64el/endianness/combine/fuloong2e\n\nCc: BALATON Zoltan <balaton@eik.bme.hu>\nCc: Huacai Chen <chenhuacai@kernel.org>\nCc: ""Philippe Mathieu-Daud"" <f4bug@amsat.org>\nCc: Jiaxun Yang <jiaxun.yang@flygoat.com>\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Isaku Yamahata <isaku.yamahata@intel.com>\nMessage-Id: <62a5fc69e453fb848bfd4794bae1852a75af73c5.1616532563.git.isaku.yamahata@intel.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999642848968506,PCI,hw/isa/vt82c686.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4e655e3cd80535328794c763681a6aa11a69178f,25d75c99b2e5941c67049ee776efdb226414f4c6,Kele Huang,2021-04-01,"tcg/mips: Fix SoftTLB comparison on mips backend\n\nThe addrl used to compare with SoftTLB entry should be sign-extended\nin common case, and it will cause constant failing in SoftTLB\ncomparisons for the addrl whose address is over 0x80000000 on the\nemulation of 32-bit guest on 64-bit host.\n\nThis is an important performance bug fix. Spec2000 gzip rate increase\nfrom ~45 to ~140 on Loongson 3A4000 (MIPS compatible platform).\n\nSigned-off-by: Kele Huang <kele.hwang@gmail.com>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20210401100457.191458-1-kele.hwang@gmail.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9996613264083862,MIPS,tcg/mips/tcg-target.c.inc,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,da64789d3a16b2c5b5f1be9c75b00c2b8ae393a0,f940b0ac6fa67deb9d0b671cf83070f0286c67e1,Philippe Mathieu-Daud,2021-04-07,"hw/block/fdc: Fix 'fallback' property on sysbus floppy disk controllers\n\nSetting the 'fallback' property corrupts the QOM instance state\n(FDCtrlSysBus) because it accesses an incorrect offset (it uses\nthe offset of the FDCtrlISABus state).\n\nCc: qemu-stable@nongnu.org\nFixes: a73275dd6fc (""fdc: Add fallback option"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20210407133742.1680424-1-f4bug@amsat.org>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9997121691703796,FDC,hw/block/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d522cb52e604c8448674d90dae09ad50223b5d3c,555249a59e9cdd6b58da103aba5cf3a2d45c899f,Daniel Henrique Barboza,2021-03-31,"spapr: rollback 'unplug timeout' for CPU hotunplugs\n\nThe pseries machines introduced the concept of 'unplug timeout' for CPU\nhotunplugs. The idea was to circunvent a deficiency in the pSeries\nspecification (PAPR), that currently does not define a proper way for\nthe hotunplug to fail. If the guest refuses to release the CPU (see [1]\nfor an example) there is no way for QEMU to detect the failure.\n\nFurther discussions about how to send a QAPI event to inform about the\nhotunplug timeout [2] exposed problems that weren't predicted back when\nthe idea was developed. Other QEMU machines don't have any type of\nhotunplug timeout mechanism for any device, e.g. ACPI based machines\nhave a way to make hotunplug errors visible to the hypervisor. This\nwould make this timeout mechanism exclusive to pSeries, which is not\nideal.\n\nThe real problem is that a QAPI event that reports hotunplug timeouts\nputs the management layer (namely Libvirt) in a weird spot. We're not\ntelling that the hotunplug failed, because we can't be 100% sure of\nthat, and yet we're resetting the unplug state back, preventing any\nDEVICE_DEL events to reach out in case the guest decides to release the\ndevice. Libvirt would need to inspect the guest itself to see if the\ndevice was released or not, otherwise the internal domain states will be\ninconsistent.  Moreover, Libvirt already has an 'unplug timeout'\nconcept, and a QEMU side timeout would need to be juggled together with\nthe existing Libvirt timeout.\n\nAll this considered, this solution ended up creating more trouble than\nit solved. This patch reverts the 3 commits that introduced the timeout\nmechanism for CPU hotplugs in pSeries machines.\n\nThis reverts commit 4515a5f786024fabf0bef4cf3d28adf5647e6e82\n""qemu_timer.c: add timer_deadline_ms() helper""\n\nThis reverts commit d1c2e3ce3d5a5424651967bce1cf1f4caa0c6d91\n""spapr_drc.c: add hotunplug timeout for CPUs""\n\nThis reverts commit 51254ffb320183a4636635840c23ee0e3a1efffa\n""spapr_drc.c: introduce unplug_timeout_timer""\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1911414\n[2] https://lists.gnu.org/archive/html/qemu-devel/2021-03/msg04682.html\n\nCC: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20210401000437.131140-2-danielhb413@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9994033575057985,ACPI,"hw/ppc/spapr.c, hw/ppc/spapr_drc.c, include/hw/ppc/spapr_drc.h, include/qemu/timer.h, util/qemu-timer.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ff4a1daba6adc8811efb5046483feb3af6bd8d83,c1e90def01bdb8fcbdbebd9d1eaa8e4827ece620,Mark Cave-Ayland,2021-04-07,"esp: fix setting of ESPState mig_version_id when launching QEMU with -S option\n\nIf QEMU is launched with the -S option then the ESPState mig_version_id property\nis left unset due to the ordering of the VMState fields in the VMStateDescription\nfor sysbusespscsi and pciespscsi. If the VM is migrated and restored in this\nstopped state, the version tests in the vmstate_esp VMStateDescription and\nesp_post_load() become confused causing the migration to fail.\n\nFix the ordering problem by moving the setting of mig_version_id to a common\nesp_pre_save() function which is invoked first by both sysbusespscsi and\npciespscsi rather than at the point where ESPState is itself serialised into the\nmigration stream.\n\nBuglink: https://bugs.launchpad.net/qemu/+bug/1922611\nFixes: 0bd005be78 (""esp: add vmstate_esp version to embedded ESPState"")\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20210407124842.32695-1-mark.cave-ayland@ilande.co.uk>",1,0.9997296929359436,ESP,"hw/scsi/esp-pci.c, hw/scsi/esp.c, include/hw/scsi/esp.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0db895361b8a82e1114372ff9f4857abea605701,ff4a1daba6adc8811efb5046483feb3af6bd8d83,Mark Cave-Ayland,2021-04-07,esp: always check current_req is not NULL before use in DMA callbacks\n\nAfter issuing a SCSI command the SCSI layer can call the SCSIBusInfo .cancel\ncallback which resets both current_req and current_dev to NULL. If any data\nis left in the transfer buffer (async_len != 0) then the next TI (Transfer\nInformation) command will attempt to reference the NULL pointer causing a\nsegfault.\n\nBuglink: https://bugs.launchpad.net/qemu/+bug/1910723\nBuglink: https://bugs.launchpad.net/qemu/+bug/1909247\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nTested-by: Alexander Bulekov <alxndr@bu.edu>\nMessage-Id: <20210407195801.685-2-mark.cave-ayland@ilande.co.uk>,1,0.9978970289230348,SCSI,hw/scsi/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,50fab4cc672233fee22fff2cf51543af57602c7d,c1e90def01bdb8fcbdbebd9d1eaa8e4827ece620,Philippe Mathieu-Daud,2021-03-02,"hw/isa/Kconfig: Add missing dependency VIA VT82C686 -> APM\n\nTYPE_VIA_PM calls apm_init() in via_pm_realize(), so\nrequires APM to be selected.\n\nReported-by: BALATON Zoltan <balaton@eik.bme.hu>\nFixes: dd0ff8191ab (""isa: express SuperIO dependencies with Kconfig"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20210302080531.913802-1-f4bug@amsat.org>",1,0.9994569420814514,"APM, VT82C686",hw/isa/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,62271205bcfaee440d06c06060ee79dac657caff,50fab4cc672233fee22fff2cf51543af57602c7d,Philippe Mathieu-Daud,2021-03-24,"hw/isa/piix4: Migrate Reset Control Register\n\nWhen adding the Reset register in commit 5790b757cfb we\nforgot to migrate it.\n\nWhile it is possible a VM using the PIIX4 is migrated just\nafter requesting a system shutdown, it is very unlikely.\nHowever when restoring a migrated VM, we might have the\nRCR bit #4 set on the stack and when the VM resume it\ndirectly shutdowns.\n\nAdd a post_load() migration handler and set the default\nRCR value to 0 for earlier versions, assuming the VM was\nnot going to shutdown before migration.\n\nFixes: 5790b757cfb (""piix4: Add the Reset Control Register"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nMessage-Id: <20210324200334.729899-1-f4bug@amsat.org>",1,0.9990373849868774,PIIX4,hw/isa/piix4.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f4349ba966abfe39f5d98694abd7c7551d5c8c02,62271205bcfaee440d06c06060ee79dac657caff,Philippe Mathieu-Daud,2021-04-06,"target/mips: Fix TCG temporary leak in gen_cache_operation()\n\nFix a TCG temporary leak when translating CACHE opcode.\n\nFixes: 0d74a222c27 (""make ITC Configuration Tags accessible to the CPU"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20210406202857.1440744-1-f4bug@amsat.org>",1,0.999674677848816,TCG,target/mips/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3791642c8d60029adf9b00bcb4e34d7d8a1aea4d,0c5393a1349a72013b577dae0e1b8c9a20d277f4,Michael Tokarev,2021-04-19,"mptsas: Remove unused MPTSASState 'pending' field (CVE-2021-3392)\n\nWhile processing SCSI i/o requests in mptsas_process_scsi_io_request(),\nthe Megaraid emulator appends new MPTSASRequest object 'req' to\nthe 's->pending' queue. In case of an error, this same object gets\ndequeued in mptsas_free_request() only if SCSIRequest object\n'req->sreq' is initialised. This may lead to a use-after-free issue.\n\nSince s->pending is actually not used, simply remove it from\nMPTSASState.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReported-by: Cheolwoo Myung <cwmyung@snu.ac.kr>\nMessage-id: 20210419134247.1467982-1-f4bug@amsat.org\nMessage-Id: <20210416102243.1293871-1-mjt@msgid.tls.msk.ru>\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nReported-by: Cheolwoo Myung <cwmyung@snu.ac.kr>\nBugLink: https://bugs.launchpad.net/qemu/+bug/1914236 (CVE-2021-3392)\nFixes: e351b826112 (""hw: Add support for LSI SAS1068 (mptsas) device"")\n[PMD: Reworded description, added more tags]\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9989903569221495,SCSI,"hw/scsi/mptsas.c, hw/scsi/mptsas.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bac9b87bd208e1d5adde7d7ba2634f957c22012c,ef71c1bc81af9f0be8cb69d01d1fd038d38a96c7,Marc-Andr Lureau,2021-04-20,"qga: fix guest-get-disks regression\n\nCommit 54aa3de72 (""qapi: Use QAPI_LIST_PREPEND() where possible"")\ninadvertently removed the has_dependencies from the partition disk\ninfo, resulting in empty list being returned.\n\nFixes: https://bugzilla.redhat.com/show_bug.cgi?id=1950833\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Daniel P. Berrang <berrange@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nMessage-id: 20210420125831.233092-1-marcandre.lureau@redhat.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997032284736632,PREP,qga/commands-posix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,05ddb25daca684121fd6c9762b016d8ff0cbd8ac,0ad975ae05f98aa94c6e785ad2af5cd39deeb2b1,Trung Nguyen,2021-04-28,I2C: Resolve warnings in linux build,1,0.999729335308075,I2C,hw/i2c/apple_i2c.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8196fe9d83d6519128b514f332418bae06513970,bf559ee4025adaf9713e22def862d31f1db5994e,Peter Maydell,2021-04-08,"target/arm: Make Thumb store insns UNDEF for Rn==1111\n\nThe Arm ARM specifies that for Thumb encodings of the various plain\nstore insns, if the Rn field is 1111 then we must UNDEF.  This is\ndifferent from the Arm encodings, where this case is either\nUNPREDICTABLE or has well-defined behaviour.  The exclusive stores,\nstore-release and STRD do not have this UNDEF case for any encoding.\n\nEnforce the UNDEF for this case in the Thumb plain store insns.\n\nFixes: https://bugs.launchpad.net/qemu/+bug/1922887\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20210408162402.5822-1-peter.maydell@linaro.org",1,0.9996665716171264,ARM,target/arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,98f96050aacb1f48956413832ae36392169801a1,8196fe9d83d6519128b514f332418bae06513970,Richard Henderson,2021-04-16,"target/arm: Fix mte_checkN\n\nWe were incorrectly assuming that only the first byte of an MTE access\nis checked against the tags.  But per the ARM, unaligned accesses are\npre-decomposed into single-byte accesses.  So by the time we reach the\nactual MTE check in the ARM pseudocode, all accesses are aligned.\n\nTherefore, the first failure is always either the first byte of the\naccess, or the first byte of the granule.\n\nIn addition, some of the arithmetic is off for last-first -> count.\nThis does not become directly visible until a later patch that passes\nsingle bytes into this function, so ptr == ptr_last.\n\nBuglink: https://bugs.launchpad.net/bugs/1921948\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20210416183106.1516563-2-richard.henderson@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\n[PMM: tweaked a comment]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996803998947144,ARM,target/arm/mte_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4a09a21345e8adb4734ecb5be59bac9c4d82aa85,f8c8a8606071b2966f83ebaccc69714ac3cad548,Richard Henderson,2021-04-16,"target/arm: Fix unaligned checks for mte_check1, mte_probe1\n\nWe were incorrectly assuming that only the first byte of an MTE access\nis checked against the tags.  But per the ARM, unaligned accesses are\npre-decomposed into single-byte accesses.  So by the time we reach the\nactual MTE check in the ARM pseudocode, all accesses are aligned.\n\nWe cannot tell a priori whether or not a given scalar access is aligned,\ntherefore we must at least check.  Use mte_probe_int, which is already\nset up for checking multiple granules.\n\nBuglink: https://bugs.launchpad.net/bugs/1921948\nTested-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20210416183106.1516563-4-richard.henderson@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996482133865356,ARM,target/arm/mte_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3902bfc6f06144016b8b25f5b6fb2211e85406fc,a729a46b05ab09e473cd757ee7a62373a175fa62,Richard Henderson,2021-04-19,"target/arm: Introduce CPUARMTBFlags\n\nIn preparation for splitting tb->flags across multiple\nfields, introduce a structure to hold the value(s).\nSo far this only migrates the one uint32_t and fixes\nall of the places that require adjustment to match.\n\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20210419202257.161730-6-richard.henderson@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.99771910905838,ARM,"target/arm/cpu.h, target/arm/helper.c, target/arm/translate-a64.c, target/arm/translate.c, target/arm/translate.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9565ac4cc7e1d1aaccf3d8c6aed423b776e7995f,37bf7a055f6b26a398dd0e953bf73d44e2312b33,Richard Henderson,2021-04-19,target/arm: Fix SCTLR_B test for TCGv_i64 load/store\n\nJust because operating on a TCGv_i64 temporary does not\nmean that we're performing a 64-bit operation.  Restrict\nthe frobbing to actual 64-bit operations.\n\nThis bug is not currently visible because all current\nusers of these two functions always pass MO_64.\n\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20210419202257.161730-14-richard.henderson@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>,1,0.999404788017273,TCG,target/arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a6091108aa44e9017af4ca13c43f55a629e3744c,da7e13c00b5962016b9c72079bef5e0a5398db0d,Peter Maydell,2021-03-25,"hw/pci-host/gpex: Don't fault for unmapped parts of MMIO and PIO windows\n\nCurrently the gpex PCI controller implements no special behaviour for\nguest accesses to areas of the PIO and MMIO where it has not mapped\nany PCI devices, which means that for Arm you end up with a CPU\nexception due to a data abort.\n\nMost host OSes expect ""like an x86 PC"" behaviour, where bad accesses\nlike this return -1 for reads and ignore writes.  In the interests of\nnot being surprising, make host CPU accesses to these windows behave\nas -1/discard where there's no mapped PCI device.\n\nThe old behaviour generally didn't cause any problems, because\nalmost always the guest OS will map the PCI devices and then only\naccess where it has mapped them. One corner case where you will see\nthis kind of access is if Linux attempts to probe legacy ISA\ndevices via a PIO window access. So far the only case where we've\nseen this has been via the syzkaller fuzzer.\n\nReported-by: Dmitry Vyukov <dvyukov@google.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-id: 20210325163315.27724-1-peter.maydell@linaro.org\nFixes: https://bugs.launchpad.net/qemu/+bug/1918917\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999326229095459,PCI,"hw/core/machine.c, hw/pci-host/gpex.c, include/hw/pci-host/gpex.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7c06a34c8c4f2c883d6ab6b15faa214d4ebfb269,db2dc7d8df15c5365dbe70f3cb0d5d61594a6807,Philippe Mathieu-Daud,2021-04-30,"ui: Fix memory leak in qemu_xkeymap_mapping_table()\n\nRefactor qemu_xkeymap_mapping_table() to have a single exit point,\nso we can easily free the memory allocated by XGetAtomName().\n\nThis fixes when running a binary configured with --enable-sanitizers:\n\n  Direct leak of 22 byte(s) in 1 object(s) allocated from:\n      #0 0x561344a7473f in malloc (qemu-system-x86_64+0x1dab73f)\n      #1 0x7fa4d9dc08aa in XGetAtomName (/lib64/libX11.so.6+0x2a8aa)\n\nFixes: 2ec78706d18 (""ui: convert GTK and SDL1 frontends to keycodemapdb"")\nReviewed-by: Daniel P. Berrang <berrange@redhat.com>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20210430155009.259755-1-philmd@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.999154567718506,X11,ui/x_keymap.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dcdf98a90155545eeadb63edccd41b7ee5ce201d,f9f0c9e2faab18a44d9f60a8653688a8f841a909,BALATON Zoltan,2021-03-25,"hw/pci-host: Add emulation of Marvell MV64361 PPC system controller\n\nThe Marvell Discovery II aka. MV64361 is a PowerPC system controller\nchip that is used on the pegasos2 PPC board. This adds emulation of it\nthat models the device enough to boot guests on this board. The\nmv643xx.h header with register definitions is taken from Linux 4.15.10\nonly fixing white space errors, removing not needed parts and changing\nformatting for QEMU coding style.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-Id: <79545ebd03bfe0665b73d2d7cbc74fdf3d62629e.1616680239.git.balaton@eik.bme.hu>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9990326166152954,"MV64361, PPC","hw/pci-host/Kconfig, hw/pci-host/meson.build, hw/pci-host/mv64361.c, hw/pci-host/mv643xx.h, hw/pci-host/trace-events, include/hw/pci-host/mv64361.h, include/hw/pci/pci_ids.h",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,87758fed7a7a7c00c1bd0c965ae8b94e04ea9359,b7573092ab6749bff4b50a7b291a74d1cbb42f57,Daniel Henrique Barboza,2021-04-20,"spapr_drc.c: handle hotunplug errors in drc_unisolate_logical()\n\nAt this moment, PAPR does not provide a way to report errors during a\ndevice removal operation. This led the pSeries machine to implement\nextra mechanisms to try to fallback and recover from an error that might\nhave happened during the hotunplug in the guest side. This started to\nchange a bit with commit fe1831eff8a4 (""spapr_drc.c: use DRC\nreconfiguration to cleanup DIMM unplug state""), where one way to\nfallback from a memory removal error was introduced.\n\nAround the same time, in [1], the idea of using RTAS set-indicator for\nthis role was first introduced. The RTAS set-indicator call, when\nattempting to UNISOLATE a DRC that is already UNISOLATED or CONFIGURED,\nreturns RTAS_OK and does nothing else for both QEMU and phyp. This gives\nus an opportunity to use this behavior to signal the hypervisor layer\nwhen a device removal errir happens, allowing QEMU/phyp to do a proper\nerror handling. Using set-indicator to report HP errors isn't strange to\nPAPR, as per R1-13.5.3.4-4. of table 13.7 of current PAPR [2]:\n\n""For all DR options: If this is a DR operation that involves the user\ninsert- ing a DR entity, then if the firmware can determine that the\ninserted entity would cause a system disturbance, then the set-indicator\nRTAS call must not unisolate the entity and must return an error status\nwhich is unique to the particular error.""\n\nA change was proposed to the pSeries Linux kernel to call set-indicator\nto move a DRC to 'unisolate' in the case of a hotunplug error in the\nguest side [3]. Setting a DRC that is already unisolated or configured to\n'unisolate' is a no-op (returns RTAS_OK) for QEMU and also for phyp.\nBeing a benign change for hypervisors that doesn't care about handling\nsuch errors, we expect the kernel to accept this change at some point.\n\nThis patch prepares the pSeries machine for this new kernel feature by\nchanging drc_unisolate_logical() to handle guest side hotunplug errors.\nFor CPUs it's a simple matter of setting drc->unplug_requested to 'false',\nwhile for LMBs the process is similar to the rollback that is done in\nrtas_ibm_configure_connector().\n\n[1] https://lists.gnu.org/archive/html/qemu-devel/2021-02/msg06395.html\n[2] https://openpowerfoundation.org/wp-content/uploads/2020/07/LoPAR-20200611.pdf\n[3] https://patchwork.ozlabs.org/project/linuxppc-dev/patch/20210416210216.380291-3-danielhb413@gmail.com/\n\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20210420165100.108368-2-danielhb413@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999706208705902,DIMM,hw/ppc/spapr_drc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7ec54f9eb62b5d177e30eb8b1cad795a5f8d8986,3f67e2e7f135b8be4117f3c2960e78d894feaa03,Gerd Hoffmann,2021-05-03,"usb/redir: avoid dynamic stack allocation (CVE-2021-3527)\n\nUse autofree heap allocation instead.\n\nFixes: 4f4321c11ff (""usb: use iovecs in USBPacket"")\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nTested-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20210503132915.2335822-3-kraxel@redhat.com>",1,0.9996015429496764,USB,hw/usb/redirect.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bb9feea43179ef8aba2c0a9cc1e670cb049ba90e,5d31e1e59a21bafb57842313dd41f0b0ff11a4ff,Igor Mammedov,2021-04-14,"x86: acpi: use offset instead of pointer when using build_header()\n\nDo the same as in commit\n (4d027afeb3a97 Virt: ACPI: fix qemu assert due to re-assigned table data address)\nfor remaining tables that happen to use saved at\nthe beginning pointer to build header to avoid assert\nwhen table_data is relocated due to implicit re-size.\n\nIn this case user is trying to start Windows 10 and getting assert at\n hw/acpi/bios-linker-loader.c:239:\n  bios_linker_loader_add_checksum: Assertion `start_offset < file->blob->len' failed.\n\nFixes: https://bugs.launchpad.net/bugs/1923497\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20210414084356.3792113-1-imammedo@redhat.com>\nCc: mst@redhat.com, qemu-stable@nongnu.org\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996218681335448,ACPI,"hw/acpi/aml-build.c, hw/i386/acpi-build.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,12841199918cc78890de99b4d0edddfd8e1fa484,bcdd781ff8c695920fe5534a34c6ab77889601c1,Philippe Mathieu-Daud,2021-04-28,"hw/sparc: Allow building without the leon3 machine\n\nWhen building without the leon3 machine, we get this link failure:\n\n  /usr/bin/ld: target_sparc_int32_helper.c.o: in function `leon3_irq_manager':\n  target/sparc/int32_helper.c:172: undefined reference to `leon3_irq_ack'\n\nThis is because the leon3_irq_ack() is declared in hw/sparc/leon3.c,\nwhich is only build when CONFIG_LEON3 is selected.\n\nFix by moving the leon3_cache_control_int() / leon3_irq_manager()\n(which are specific to the leon3 machine) to hw/sparc/leon3.c.\nMove the trace events along (but don't rename them).\n\nleon3_irq_ack() is now locally used, declare it static to reduce\nits scope.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: KONRAD Frederic <frederic.konrad@adacore.com>\nTested-by: KONRAD Frederic <frederic.konrad@adacore.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nMessage-Id: <20210428141655.387430-2-f4bug@amsat.org>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>",1,0.9987812638282776,LEON3,"hw/sparc/leon3.c, hw/sparc/trace-events, target/sparc/cpu.h, target/sparc/int32_helper.c, target/sparc/trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,10fb1340b161682d64320a5976f88f68472410bf,5aa7f68a2df9604dbd7f95e9ecece6d553e46e32,Philippe Mathieu-Daud,2021-04-28,"hw/sparc*: Move cpu_check_irqs() to target/sparc/\n\nSince cpu_check_irqs() doesn't reference to anything outside\nof CPUSPARCState, it better belongs to the architectural code\nin target/, rather than the hardware specific code in hw/.\n\nNote: while we moved the trace events, we don't rename them.\n\nRemark: this allows us to build the leon3 machine stand alone,\nfixing this link failure (because cpu_check_irqs is defined in\nhw/sparc/sun4m.c which is only built when CONFIG_SUN4M is selected):\n\n  /usr/bin/ld: target_sparc_win_helper.c.o: in function `cpu_put_psr':\n  target/sparc/win_helper.c:91: undefined reference to `cpu_check_irqs'\n\nSuggested-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20210428141655.387430-5-f4bug@amsat.org>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>",1,0.999068796634674,"SPARC, SUN4M","hw/sparc/sun4m.c, hw/sparc/trace-events, hw/sparc64/sparc64.c, hw/sparc64/trace-events, target/sparc/int32_helper.c, target/sparc/int64_helper.c, target/sparc/trace-events",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eb849d8fd542329b299be5a894d7e272eed16a49,68948d18224b93361e2880e2946ab268d0c650d7,Peter Maydell,2021-04-20,"target/arm: Fix tlbbits calculation in tlbi_aa64_vae2is_write()\n\nIn tlbi_aa64_vae2is_write() the calculation\n  bits = tlbbits_for_regime(env, secure ? ARMMMUIdx_E2 : ARMMMUIdx_SE2,\n                            pageaddr)\n\nhas the two arms of the ?: expression reversed. Fix the bug.\n\nFixes: b6ad6062f1e5\nReported-by: Rebecca Cran <rebecca@nuviainc.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Rmi Denis-Courmont <remi.denis.courmont@huawei.com>\nReviewed-by: Rebecca Cran <rebecca@nuviainc.com>\nMessage-id: 20210420123106.10861-1-peter.maydell@linaro.org",1,0.9997267127037048,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1742054f0bd5c0be2c5f94d8286435afd1330b2c,d4cad544992225105d88c3d744bce1b08947dd24,Alistair Francis,2021-04-02,"hw/riscv: Enable VIRTIO_VGA for RISC-V virt machine\n\nimply VIRTIO_VGA for the virt machine, this fixes the following error\nwhen specifying `-vga virtio` as a command line argument:\n\nqemu-system-riscv64: Virtio VGA not available\n\nSigned-off-by: Alistair Francis <alistair.francis@wdc.com>\nReviewed-by: Bin Meng <bmeng.cn@gmail.com>\nMessage-id: 7ac26fafee8bd59d2a0640f3233f8ad1ab270e1e.1617367317.git.alistair.francis@wdc.com",1,0.999610722064972,"VGA, VIRTIO, VIRTIO_VGA",hw/riscv/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d11e316d843b2d370a547700407947356e4117cb,f9e580c13ae0d42cf8989063254300c59166ffed,Alexander Wagner,2021-04-20,"hw/riscv: Fix OT IBEX reset vector\n\nThe IBEX documentation [1] specifies the reset vector to be ""the most\nsignificant 3 bytes of the boot address and the reset value (0x80) as\nthe least significant byte"".\n\n[1] https://github.com/lowRISC/ibex/blob/master/doc/03_reference/exception_interrupts.rst\n\nSigned-off-by: Alexander Wagner <alexander.wagner@ulal.de>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nMessage-id: 20210420080008.119798-1-alexander.wagner@ulal.de\nSigned-off-by: Alistair Francis <alistair.francis@wdc.com>",1,0.999292254447937,IBEX,hw/riscv/opentitan.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b51d44677193002926a7519df89153df847f5f6b,b6d003dbee81f1bf419c7cceec0c4c358184a601,Philippe Mathieu-Daud,2021-04-06,"hw/mem/meson: Fix linking sparse-mem device with fuzzer\n\nsparse-mem.c is added to the 'mem_ss' source set, which itself\nis conditionally added to softmmu_ss if CONFIG_MEM_DEVICE is\nselected.\nBut if CONFIG_MEM_DEVICE isn't selected, we get a link failure\neven if CONFIG_FUZZ is selected:\n\n  /usr/bin/ld: tests_qtest_fuzz_generic_fuzz.c.o: in function `generic_pre_fuzz':\n  tests/qtest/fuzz/generic_fuzz.c:826: undefined reference to `sparse_mem_init'\n  clang-10: error: linker command failed with exit code 1 (use -v to see invocation)\n\nFix by adding sparse-mem.c directly to the softmmu_ss set.\n\nFixes: 230376d285b (""memory: add a sparse memory device for fuzzing"")\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Alexander Bulekov <alxndr@bu.edu>\nMessage-Id: <20210406133944.4193691-1-philmd@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9997311234474182,"FUZZ, MEM_DEVICE",hw/mem/meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,52a1c621f9d56d18212273c64b4119513a2db1f1,dcf20655ffca2b0219d2914db4aadcce4b61fa0a,Philippe Mathieu-Daud,2021-05-05,"target/sh4: Return error if CPUClass::get_phys_page_debug() fails\n\nIf the get_physical_address() call fails, the SH4 get_phys_page_debug()\nhandler returns an uninitialized address. Instead return -1, which\ncorrespond to ""no page found"" (see cpu_get_phys_page_debug() doc\nstring).\n\nThis fixes a warning emitted when building with CFLAGS=-O3\n(using GCC 10.2.1 20201125):\n\n  target/sh4/helper.c: In function superh_cpu_get_phys_page_debug:\n  target/sh4/helper.c:446:12: warning: physical may be used uninitialized in this function [-Wmaybe-uninitialized]\n    446 |     return physical;\n        |            ^~~~~~~~\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Yoshinori Sato <ysato@users.sourceforge.jp>\nMessage-Id: <20210505161046.1397608-1-f4bug@amsat.org>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9996975660324096,SH4,target/sh4/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bfaa3b05a9af6acd011e772fa42eff5d05424a35,6c054176dba1c3669f7dbf0f3b6bf9e7245a0dfe,Peter Maydell,2021-05-03,"tests: Avoid side effects inside g_assert() arguments\n\nFor us, assertions are always enabled, but side-effect expressions\ninside the argument to g_assert() are bad style anyway. Fix three\noccurrences in IPMI related tests, which will silence some Coverity\nnits.\n\nFixes: CID 1432322, CID 1432287, CID 1432291\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nMessage-Id: <20210503165525.26221-4-peter.maydell@linaro.org>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9997228980064392,IPMI,"tests/qtest/ipmi-bt-test.c, tests/qtest/ipmi-kcs-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,43bd0bf30fcee4170e137ecd0929053454f7d295,13b48fb00e61dc7662da27c020c3263b74374acc,Thomas Huth,2021-04-14,"migration: Move populate_vfio_info() into a separate file\n\nThe CONFIG_VFIO switch only works in target specific code. Since\nmigration/migration.c is common code, the #ifdef does not have\nthe intended behavior here. Move the related code to a separate\nfile now which gets compiled via specific_ss instead.\n\nFixes: 3710586caa (""qapi: Add VFIO devices migration stats in Migration stats"")\nMessage-Id: <20210414112004.943383-3-thuth@redhat.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9868116974830629,VFIO,"migration/meson.build, migration/migration.c, migration/migration.h, migration/target.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e0447a834d6170485ad925344223896d0d1d3810,43bd0bf30fcee4170e137ecd0929053454f7d295,Thomas Huth,2021-04-14,"configure: Poison all current target-specific #defines\n\nWe are generating a lot of target-specific defines in the *-config-devices.h\nand *-config-target.h files. Using them in common code is wrong and leads\nto very subtle bugs since a ""#ifdef CONFIG_SOMETHING"" is not working there\nas expected. To avoid these issues, we are already poisoning many of the\nmacros in include/exec/poison.h - but it's cumbersome to maintain this\nlist manually. Thus let's generate an additional list of poisoned macros\nautomatically from the current config switches - this should give us a\nmuch better test coverage via the different CI configurations.\n\nNote that CONFIG_TCG (which is also defined in config-host.h) and\nCONFIG_USER_ONLY are special, so we have to filter these out.\n\nMessage-Id: <20210414112004.943383-5-thuth@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9996849298477172,TCG,"Makefile, configure, include/exec/poison.h",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7556a320c98812ca6648b707393f4513387faf73,5b9243d2654adc58ce472d0536a7a177b4fe0f90,Kevin Wolf,2021-04-29,"vhost-user-blk: Get more feature flags from vhost device\n\nVIRTIO_F_RING_PACKED and VIRTIO_F_IOMMU_PLATFORM need to be supported by\nthe vhost device, otherwise advertising it to the guest doesn't result\nin a working configuration. They are currently not supported by the\nvhost-user-blk export in QEMU.\n\nFixes: https://bugzilla.redhat.com/show_bug.cgi?id=1935020\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>\nAcked-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nMessage-Id: <20210429171316.162022-5-kwolf@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9997039437294006,VIRTIO,hw/block/vhost-user-blk.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,04ceb61a4075fadbf374ef89662c41999da83489,7556a320c98812ca6648b707393f4513387faf73,Kevin Wolf,2021-04-29,"virtio: Fail if iommu_platform is requested, but unsupported\n\nCommit 2943b53f6 (' virtio: force VIRTIO_F_IOMMU_PLATFORM') made sure\nthat vhost can't just reject VIRTIO_F_IOMMU_PLATFORM when it was\nrequested. However, just adding it back to the negotiated flags isn't\nright either because it promises support to the guest that the device\nactually doesn't support. One example of a vhost-user device that\ndoesn't have support for the flag is the vhost-user-blk export of QEMU.\n\nInstead of successfully creating a device that doesn't work, just fail\nto plug the device when it doesn't support the feature, but it was\nrequested. This results in much clearer error messages.\n\nFixes: https://bugzilla.redhat.com/show_bug.cgi?id=1935019\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>\nReviewed-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nMessage-Id: <20210429171316.162022-6-kwolf@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9995385408401488,VIRTIO,hw/virtio/virtio-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,172d74efdafe199eb94706827fc8b367b7452c93,87aff23827b7ffc9e1165aa41d97df8d85422b33,Bruno Larsen (billionai),2021-05-12,target/ppc: moved ppc_store_sdr1 to cpu.c\n\nMoved this function that is required in !TCG cases into a\ncommon code file\n\nSigned-off-by: Bruno Larsen (billionai) <bruno.larsen@eldorado.org.br>\nMessage-Id: <20210512140813.112884-3-bruno.larsen@eldorado.org.br>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\n[dwg: Fixed compile error with linux-user targets]\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9860066175460817,TCG,"target/ppc/cpu.c, target/ppc/mmu_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,86131c71b13257e095d8c4f4453d52cbc6553c07,fea2ad71c3e23f743701741346b51fdfbbff5ebf,Ilya Leoshkevich,2021-04-16,"target/s390x: Fix translation exception on illegal instruction\n\nHitting an uretprobe in a s390x TCG guest causes a SIGSEGV. What\nhappens is:\n\n* uretprobe maps a userspace page containing an invalid instruction.\n* uretprobe replaces the target function's return address with the\n  address of that page.\n* When tb_gen_code() is called on that page, tb->size ends up being 0\n  (because the page starts with the invalid instruction), which causes\n  virt_page2 to point to the previous page.\n* The previous page is not mapped, so this causes a spurious\n  translation exception.\n\ntb->size must never be 0: even if there is an illegal instruction, the\ninstruction bytes that have been looked at must count towards tb->size.\nSo adjust s390x's translate_one() to act this way for both illegal\ninstructions and instructions that are known to generate exceptions.\n\nSigned-off-by: Ilya Leoshkevich <iii@linux.ibm.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20210416154939.32404-2-iii@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9997005462646484,TCG,target/s390x/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,48a130923c59b706e7f33527490028eb8a86b97e,86131c71b13257e095d8c4f4453d52cbc6553c07,Ilya Leoshkevich,2021-04-16,"target/arm: Make sure that commpage's tb->size != 0\n\ntb_gen_code() assumes that tb->size must never be zero, otherwise it\nmay produce spurious exceptions. For ARM this may happen when creating\na translation block for the commpage.\n\nFix by pretending that commpage translation blocks have at least one\ninstruction.\n\nSigned-off-by: Ilya Leoshkevich <iii@linux.ibm.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20210416154939.32404-3-iii@linux.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>",1,0.9996627569198608,ARM,target/arm/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ff6e1624b33dc40545fb19cb751ea68a565036fe,c3c4a96116ac6e7a1486a74eff7e5eae04c4fac2,Volker Rmelin,2021-05-25,"pckbd: don't update OBF flags if KBD_STAT_OBF is set\n\nDon't update the OBF flags in the status register and the cor-\nresponding IRQ lines if KBD_STAT_OBF is set. Otherwise this\nmay change the PS/2 event type. If the guest ISR was already\nscheduled, the changed event type will be rather surprising for\nthe guest.\n\nThis fixes a mouse event stream corruption. To reproduce the\nproblem start a FreeDOS 1.2 guest with -machine pc,accel=kvm\nand -display gtk. The KVM in-kernel irqchip has to be enabled.\nNow open a text file with edit.exe in the guest and hold down\nthe cursor right key and at the same time move the mouse around.\nYou will quickly notice erratic mouse movements and unexpected\nmouse clicks.\n\nA trace file shows the mouse event stream corruption. Guest\nrip 0xce93 (f000:ce93) is the in al,0x60 instruction in the\nseabios mouse ISR, guest rip 0xceca (f000:ceca) is the\nin al,0x60 instruction in the seabios keyboard ISR.\n\nqemu-system-x86-5659  [007] ....   280.971116:\n tracing_mark_write: pckbd_kbd_update_irq kbd=0 aux=1\n # gtk queues a mouse event\n\nqemu-system-x86-5665  [000] ....   280.971121:\n kvm_exit: reason EXTERNAL_INTERRUPT rip 0x22da info 0 800000fd\nqemu-system-x86-5665  [000] d..1   280.971122:\n kvm_entry: vcpu 0, rip 0x22da\nqemu-system-x86-5665  [000] ....   280.971123:\n kvm_exit: reason EXTERNAL_INTERRUPT rip 0x22da info 0 800000fd\nqemu-system-x86-5665  [000] d..1   280.971124:\n kvm_entry: vcpu 0, rip 0x22da\nqemu-system-x86-5665  [000] ....   280.971126:\n kvm_exit: reason IO_INSTRUCTION rip 0x110c8c info 640008 0\nqemu-system-x86-5665  [000] ....   280.971176:\n tracing_mark_write: pckbd_kbd_read_status 0x3d\n # KBD_STAT_OBF and KBD_STAT_MOUSE_OBF set, the mouse ISR will\n # read data from the PS/2 controller.\n\nqemu-system-x86-5665  [000] d..1   280.971180:\n kvm_entry: vcpu 0, rip 0x110c8d\nqemu-system-x86-5665  [000] ....   280.971191:\n kvm_exit: reason EXTERNAL_INTERRUPT rip 0x110c8d info 0 800000f6\nqemu-system-x86-5665  [000] d..1   280.971191:\n kvm_entry: vcpu 0, rip 0x110c8d\nqemu-system-x86-5665  [000] ....   280.971193:\n kvm_exit: reason IO_INSTRUCTION rip 0xce93 info 600048 0\n # the mouse ISR wants to read data from the PS/2 controller\n\nqemu-system-x86-5659  [007] ....   280.971231:\n tracing_mark_write: pckbd_kbd_update_irq kbd=1 aux=0\nqemu-system-x86-5659  [007] ....   280.971238:\n tracing_mark_write: pckbd_kbd_update_irq kbd=1 aux=0\n # gtk queues a keyboard event 0xe0 0x4d (key right)\n\nqemu-system-x86-5665  [000] ....   280.971257:\n tracing_mark_write: pckbd_kbd_update_irq kbd=0 aux=1\nqemu-system-x86-5665  [000] ....   280.971262:\n tracing_mark_write: pckbd_kbd_update_irq kbd=1 aux=0\n # ps2_read_data() deasserts and reasserts the keyboard IRQ\n\nqemu-system-x86-5665  [000] ....   280.971266:\n tracing_mark_write: pckbd_kbd_read_data 0xe0 kbd\n # -> the mouse ISR receives keyboard data\n\nqemu-system-x86-5665  [000] d..1   280.971268:\n kvm_entry: vcpu 0, rip 0xce95\nqemu-system-x86-5665  [000] ....   280.971269:\n kvm_exit: reason IO_INSTRUCTION rip 0xe828 info a00040 0\nqemu-system-x86-5665  [000] ....   280.971270:\n kvm_ack_irq: irqchip PIC slave pin 12\nqemu-system-x86-5665  [000] d..1   280.971270:\n kvm_entry: vcpu 0, rip 0xe82a\nqemu-system-x86-5665  [000] ....   280.971271:\n kvm_exit: reason IO_INSTRUCTION rip 0xe82a info 200040 0\nqemu-system-x86-5665  [000] ....   280.971271:\n kvm_ack_irq: irqchip PIC master pin 2\nqemu-system-x86-5665  [000] d..1   280.971271:\n kvm_entry: vcpu 0, rip 0xe82c\nqemu-system-x86-5665  [000] ....   280.971272:\n kvm_exit: reason PENDING_INTERRUPT rip 0x22da info 0 0\nqemu-system-x86-5665  [000] d..1   280.971273:\n kvm_entry: vcpu 0, rip 0x22da\nqemu-system-x86-5665  [000] ....   280.971274:\n kvm_exit: reason IO_INSTRUCTION rip 0x110c8c info 640008 0\nqemu-system-x86-5665  [000] ....   280.971275:\n tracing_mark_write: pckbd_kbd_read_status 0x1d\nqemu-system-x86-5665  [000] d..1   280.971276:\n kvm_entry: vcpu 0, rip 0x110c8d\nqemu-system-x86-5665  [000] ....   280.971277:\n kvm_exit: reason IO_INSTRUCTION rip 0xceca info 600048 0\n # the keyboard ISR wants to read data from the PS/2 controller\n\nqemu-system-x86-5665  [000] ....   280.971279:\n tracing_mark_write: pckbd_kbd_update_irq kbd=0 aux=1\nqemu-system-x86-5665  [000] ....   280.971282:\n tracing_mark_write: pckbd_kbd_read_data 0x4d kbd\n # the keyboard ISR receives the second byte of the keyboard event\n\nSigned-off-by: Volker Rmelin <vr_qemu@t-online.de>\nMessage-Id: <20210525181441.27768-5-vr_qemu@t-online.de>\n\n[ kraxel: add missing include ]\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999581515789032,KVM,"hw/core/machine.c, hw/input/pckbd.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ea776d15adc021a9f38179d27227a7f4d90a8698,a2f77862ffa56b5b0aa9e96fa73620ff751460d5,Peter Xu,2021-05-06,"KVM: Create the KVMSlot dirty bitmap on flag changes\n\nPreviously we have two places that will create the per KVMSlot dirty\nbitmap:\n\n  1. When a newly created KVMSlot has dirty logging enabled,\n  2. When the first log_sync() happens for a memory slot.\n\nThe 2nd case is lazy-init, while the 1st case is not (which is a fix\nof what the 2nd case missed).\n\nTo do explicit initialization of dirty bitmaps, what we're missing is\nto create the dirty bitmap when the slot changed from not-dirty-track\nto dirty-track.  Do that in kvm_slot_update_flags().\n\nWith that, we can safely remove the 2nd lazy-init.\n\nThis change will be needed for kvm dirty ring because kvm dirty ring\ndoes not use the log_sync() interface at all.\n\nAlso move all the pre-checks into kvm_slot_init_dirty_bitmap().\n\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20210506160549.130416-4-peterx@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995591044425964,KVM,accel/kvm/kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,632a8873500d27022c584256afc11e57e2418b94,d349f92f78d26db2805ca39a7745cc70affea021,Paolo Bonzini,2021-05-18,"qemu-config: load modules when instantiating option groups\n\nRight now the SPICE module is special cased to be loaded when processing\nof the -spice command line option.  However, the spice option group\ncan also be brought in via -readconfig, in which case the module is\nnot loaded.\n\nAdd a generic hook to load modules that provide a QemuOpts group,\nand use it for the ""spice"" and ""iscsi"" groups.\n\nFixes: #194\nFixes: https://bugs.launchpad.net/qemu/+bug/1910696\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996734857559204,SPICE,"include/qemu/config-file.h, softmmu/vl.c, stubs/meson.build, stubs/module-opts.c, util/qemu-config.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ce7015d9e8669e2a45aba7a95fe6ef8a8f55bfe0,3ea32d1355d446057c17458238db2749c52ee8f0,maobibo,2021-05-18,"hw/display/qxl: Set pci rom address aligned with page size\n\nOn some MIPS system, page size is 16K, and qxl vga device can\nbe used for VM in kvm mode. Qxl pci rom size is set 8K fixed,\nsmaller than 16K page size on host system, it fails to be\nadded into memslots in kvm mode where memory_size and GPA\nare required to align with page size.\n\nThis patch fixes this issue.\n\nSigned-off-by: Bibo Mao <maobibo@loongson.cn>\nMessage-Id: <1621340448-31617-1-git-send-email-maobibo@loongson.cn>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9996836185455322,MIPS,hw/display/qxl.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fc967aad408eb4777b099d17ada1f39be5f6fd2e,3c6151cd11ae7e4a7dae10f8c17ab1fe2f0a73bf,Ruimei Yan,2021-05-21,"hw/usb: hcd-xhci-pci: Fix spec violation of IP flag for MSI/MSI-X\n\nPer xHCI spec v1.2 chapter 4.17.5 page 296:\n\n  If MSI or MSI-X interrupts are enabled, Interrupt Pending (IP)\n  shall be cleared automatically when the PCI dword write generated\n  by the interrupt assertion is complete.\n\nCurrently QEMU does not clear the IP flag in the MSI / MSI-X mode.\nThis causes subsequent spurious interrupt to be delivered to guests.\nTo solve this, we change the xhci intr_raise() hook routine to have\na bool return value that is passed to its caller (the xhci core),\nwith true indicating that IP should be self-cleared.\n\nFixes: 62c6ae04cf43 (""xhci: Initial xHCI implementation"")\nFixes: 4c47f800631a (""xhci: add msix support"")\nSigned-off-by: Ruimei Yan <ruimei.yan@windriver.com>\n[bmeng: move IP clear codes from xhci pci to xhci core]\nSigned-off-by: Bin Meng <bin.meng@windriver.com>\nMessage-Id: <20210521024224.2277634-2-bmeng.cn@gmail.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999706208705902,PCI,"hw/usb/hcd-xhci-pci.c, hw/usb/hcd-xhci-sysbus.c, hw/usb/hcd-xhci.c, hw/usb/hcd-xhci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,40b3cc354a47d9017d280cb25efbe6f94d7575bb,b7c290177ce1f035db8cdd8abf97b94a44e27f8c,Daniel P. Berrang,2021-05-07,"i386: use better matching family/model/stepping for 'max' CPU\n\nThe 'max' CPU under TCG currently reports a family/model/stepping that\napproximately corresponds to an AMD K7 vintage architecture.\nThe K7 series predates the introduction of 64-bit support by AMD\nin the K8 series. This has been reported to lead to LLVM complaints\nabout generating 64-bit code for a 32-bit CPU target\n\n  LLVM ERROR: 64-bit code requested on a subtarget that doesn't support it!\n\nIt appears LLVM looks at the family/model/stepping, despite qemu64\nreporting it is 64-bit capable.\n\nThis patch changes 'max' to report a CPUID with the family, model\nand stepping taken from a\n\n AMD Athlon(tm) 64 X2 Dual Core Processor 4000+\n\nwhich is one of the first 64-bit AMD CPUs.\n\nCloses https://gitlab.com/qemu-project/qemu/-/issues/191\n\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>\nMessage-Id: <20210507133650.645526-3-berrange@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.8937028050422668,TCG,target/i386/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5811b936bf4b0340a83fea8b5b574670d8c219c4,3ea1a80243d5b5ba23d8c2b7d3a86034ea0ade22,Connor Kuehl,2021-04-30,"sev: use explicit indices for mapping firmware error codes to strings\n\nThis can help lower any margin for error when making future additions to\nthe list, especially if they're made out of order.\n\nWhile doing so, make capitalization of ASID consistent with its usage in\nthe SEV firmware spec (Asid -> ASID).\n\nSigned-off-by: Connor Kuehl <ckuehl@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20210430134830.254741-2-ckuehl@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9964979887008668,SEV,target/i386/sev.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ac9ef668321ebb6eb871a0c4dd380fa7d7891b4e,3bf0844f3be77b24cc8f56fc8df9ff199f8324cb,Mahesh Salgaonkar,2021-05-21,"spapr: Fix EEH capability issue on KVM guest for PCI passthru\n\nWith upstream kernel, especially after commit 98ba956f6a389\n(""powerpc/pseries/eeh: Rework device EEH PE determination"") we see that KVM\nguest isn't able to enable EEH option for PCI pass-through devices anymore.\n\n[root@atest-guest ~]# dmesg | grep EEH\n[    0.032337] EEH: pSeries platform initialized\n[    0.298207] EEH: No capable adapters found: recovery disabled.\n[root@atest-guest ~]#\n\nSo far the linux kernel was assuming pe_config_addr equal to device's\nconfig_addr and using it to enable EEH on the PE through ibm,set-eeh-option\nRTAS call. Which wasn't the correct way as per PAPR. The linux kernel\ncommit 98ba956f6a389 fixed this flow. With that fixed, linux now uses PE\nconfig address returned by ibm,get-config-addr-info2 RTAS call to enable\nEEH option per-PE basis instead of per-device basis. However this has\nuncovered a bug in qemu where ibm,set-eeh-option is treating PE config\naddress as per-device config address.\n\nHence in qemu guest with recent kernel the ibm,set-eeh-option RTAS call\nfails with -3 return value indicating that there is no PCI device exist for\nthe specified PE config address. The rtas_ibm_set_eeh_option call uses\npci_find_device() to get the PC device that matches specific bus and devfn\nextracted from PE config address passed as argument. Thus it tries to map\nthe PE config address to a single specific PCI device 'bus->devices[devfn]'\nwhich always results into checking device on slot 0 'bus->devices[0]'.\nThis succeeds when there is a pass-through device (vfio-pci) present on\nslot 0. But in cases where there is no pass-through device present in slot\n0, but present in non-zero slots, ibm,set-eeh-option call fails to enable\nthe EEH capability.\n\nhw/ppc/spapr_pci_vfio.c: spapr_phb_vfio_eeh_set_option()\n   case RTAS_EEH_ENABLE: {\n        PCIHostState *phb;\n        PCIDevice *pdev;\n\n        /*\n         * The EEH functionality is enabled on basis of PCI device,\n         * instead of PE. We need check the validity of the PCI\n         * device address.\n         */\n        phb = PCI_HOST_BRIDGE(sphb);\n        pdev = pci_find_device(phb->bus,\n                               (addr >> 16) & 0xFF, (addr >> 8) & 0xFF);\n        if (!pdev || !object_dynamic_cast(OBJECT(pdev), ""vfio-pci"")) {\n            return RTAS_OUT_PARAM_ERROR;\n        }\n\nhw/pci/pci.c:pci_find_device()\n\nPCIDevice *pci_find_device(PCIBus *bus, int bus_num, uint8_t devfn)\n{\n    bus = pci_find_bus_nr(bus, bus_num);\n\n    if (!bus)\n        return NULL;\n\n    return bus->devices[devfn];\n}\n\nThis patch fixes ibm,set-eeh-option to check for presence of any PCI device\n(vfio-pci) under specified bus and enable the EEH if found. The current\ncode already makes sure that all the devices on that bus are from same\niommu group (within same PE) and fail very early if it does not.\n\nAfter this fix guest is able to find EEH capable devices and enable EEH\nrecovery on it.\n\n[root@atest-guest ~]# dmesg | grep EEH\n[    0.048139] EEH: pSeries platform initialized\n[    0.405115] EEH: Capable adapter found: recovery enabled.\n[root@atest-guest ~]#\n\nReviewed-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nSigned-off-by: Mahesh Salgaonkar <mahesh@linux.ibm.com>\nMessage-Id: <162158429107.145117.5843504911924013125.stgit@jupiter>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9993122816085817,"KVM, PCI",hw/ppc/spapr_pci_vfio.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,52e9612ee94b58a1bc57242427b4dbe6c766d8f3,ac559ecbea2649819e7b3fdd09f4e0243e0128db,Bruno Larsen (billionai),2021-05-25,"target/ppc: used ternary operator when registering MAS\n\nThe write calback decision when registering the MAS SPR has been turned\ninto a ternary operation, rather than an if-then-else block.\n\nThis was done because when building without TCG, even though the\ncompiler will optimize away the pointers to spr_write_generic*, it\ndoesn't optimize away the decision and assignment to the local pointer,\ncreating compiler errors. This cleanup looked better than using ifdefs,\nso  we decided to with it.\n\nSigned-off-by: Bruno Larsen (billionai) <bruno.larsen@eldorado.org.br>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20210525115355.8254-2-bruno.larsen@eldorado.org.br>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9969630837440492,TCG,target/ppc/cpu_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6e0c60a2be30c333b06d3558a62b0f177199cbfb,0711a634355a68cd83966872e387402a8b4b048a,Jamie Iles,2021-05-26,"target/arm: fix missing exception class\n\nThe DAIF and PAC checks used raise_exception_ra to raise an exception\nand unwind CPU state but raise_exception_ra is currently designed for\nhandling data aborts as the syndrome is partially precomputed and\nencoded in the TB and then merged in merge_syn_data_abort when handling\nthe data abort.  Using raise_exception_ra for DAIF and PAC checks\nresults in an empty syndrome being retrieved from data[2] in\nrestore_state_to_opc and setting ESR to 0.  This manifested as:\n\n  kvm [571]: Unknown exception class: esr: 0x000000 \n  Unknown/Uncategorized\n\nwhen launching a KVM guest when the host qemu used a CPU supporting\nEL2+pointer authentication and enabling pointer authentication in the\nguest.\n\nRework raise_exception_ra such that the state is restored before raising\nthe exception so that the exception is not clobbered by\nrestore_state_to_opc.\n\nFixes: 0d43e1a2d29a (""target/arm: Add PAuth helpers"")\nCc: Richard Henderson <richard.henderson@linaro.org>\nCc: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Jamie Iles <jamie@nuviainc.com>\n[PMM: added comment]\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997140765190125,KVM,target/arm/op_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c33f23a419f95da16ab4faaf08be635c89b96ff0,d0416d487bd561526486c2e43910ea9494855e16,Jason Wang,2021-06-02,"vhost-vdpa: don't initialize backend_features\n\nWe used to initialize backend_features during vhost_vdpa_init()\nregardless whether or not it was supported by vhost. This will lead\nthe unsupported features like VIRTIO_F_IN_ORDER to be included and set\nto the vhost-vdpa during vhost_dev_start. Because the\nVIRTIO_F_IN_ORDER is not supported by vhost-vdpa so it won't be\nadvertised to guest which will break the datapath.\n\nFix this by not initializing the backend_features, so the\nacked_features could be built only from guest features via\nvhost_net_ack_features().\n\nFixes: 108a64818e69b (""vhost-vdpa: introduce vhost-vdpa backend"")\nCc: qemu-stable@nongnu.org\nCc: Gautam Dawar <gdawar@xilinx.com>\nSigned-off-by: Jason Wang <jasowang@redhat.com>",1,0.9997078776359558,VIRTIO,hw/virtio/vhost-vdpa.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,228168cbb7cc40bfb1621b0b6868c018b522276a,1ea06abceec61b6f3ab33dadb0510b6e09fb61e2,Richard Henderson,2021-06-11,"linux-user: Set CF_PARALLEL when mapping shared memory\n\nSignal the translator to use host atomic instructions for\nguest operations, insofar as it is possible.  This is the\nbest we can do to allow the guest to interact atomically\nwith other processes.\n\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/121\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nMessage-Id: <20210612060828.695332-1-richard.henderson@linaro.org>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9995577931404114,PARALLEL,"linux-user/mmap.c, linux-user/syscall.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,caff255a546d12530cf7c28e60690cd0e65851fd,e542b71805dc4b7827e6c2f00a1170a61843345e,Philippe Mathieu-Daud,2021-06-15,"tpm: Return QMP error when TPM is disabled in build\n\nWhen the management layer queries a binary built using --disable-tpm\nfor TPM devices, it gets confused by getting empty responses:\n\n  { ""execute"": ""query-tpm"" }\n  {\n      ""return"": [\n      ]\n  }\n  { ""execute"": ""query-tpm-types"" }\n  {\n      ""return"": [\n      ]\n  }\n  { ""execute"": ""query-tpm-models"" }\n  {\n      ""return"": [\n      ]\n  }\n\nTo make it clearer by returning an error:\n- Make the TPM QAPI schema conditional\n  All of tpm.json is now 'if': 'defined(CONFIG_TPM)'.\n- Adapt the HMP command\n- Remove stubs which became unnecessary\n\nThe management layer now gets a 'CommandNotFound' error:\n\n  { ""execute"": ""query-tpm"" }\n  {\n      ""error"": {\n          ""class"": ""CommandNotFound"",\n          ""desc"": ""The command query-tpm has not been found""\n      }\n  }\n\nSuggested-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Stefan Berger <stefanb@linux.ibm.com>",1,0.9996843338012696,TPM,"MAINTAINERS, monitor/hmp-cmds.c, qapi/tpm.json, stubs/meson.build, stubs/tpm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf1a7a9b3721544aaa3e43d111eb383c30d71a62,6e1da3d305499d3907f3c7f6638243e2e09b5085,Mark Cave-Ayland,2021-05-18,"esp: only assert INTR_DC interrupt flag if selection fails\n\nThe datasheet sequence tables confirm that when a target selection fails, only\nthe INTR_DC interrupt flag should be asserted.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nFixes: cf47a41e05 (""esp: latch individual bits in ESP_RINTR register"")\nMessage-Id: <20210518212511.21688-2-mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997320771217346,ESP,hw/scsi/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,af947a3d853a235943681a00f07f3081f5143cc3,cf1a7a9b3721544aaa3e43d111eb383c30d71a62,Mark Cave-Ayland,2021-05-18,"esp: only set ESP_RSEQ at the start of the select sequence\n\nWhen processing a command to select a target and send a CDB, the ESP device\nmaintains a sequence step register so that if an error occurs the host can\ndetermine which part of the selection/CDB submission sequence failed.\n\nThe old Linux 2.6 driver is really pedantic here: it checks the sequence step\nregister even if a command succeeds and complains loudly on the console if the\nsequence step register doesn't match the expected bus phase and interrupt flags.\n\nThis reason this mismatch occurs is because the ESP emulation currently doesn't\nupdate the bus phase until the next TI (Transfer Information) command and so the\ncleared sequence step register is considered invalid for the stale bus phase.\n\nNormally this isn't an issue as the host only checks the sequence step register\nif an error occurs but the old Linux 2.6 driver does this in several places\ncausing a large stream of ""esp0: STEP_ASEL for tgt 0"" messages to appear on the\nconsole during the boot process.\n\nFix this by not clearing the sequence step register when reading the interrupt\nregister and clearing the DMA status, so the guest sees a valid sequence step\nand bus phase combination at the end of the command phase. No other change is\nrequired since the sequence step register is correctly updated throughout the\nselection/CDB submission sequence once one of the select commands is issued.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nFixes: 1b9e48a5bd (""esp: implement non-DMA transfers in PDMA mode"")\nMessage-Id: <20210518212511.21688-3-mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997259974479676,ESP,hw/scsi/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,35579b523cf8f441da12f968ce5dcf6ae0bfbfea,e62a959afd2b1a13b27dda9d03f10c7feb36aa9b,Mark Cave-Ayland,2021-05-19,"esp: revert 75ef849696 ""esp: correctly fill bus id with requested lun""\n\nThis commit from nearly 10 years ago is now broken due to the improvements\nin esp emulation (or perhaps was never correct).  It shows up as a bug\nin detecting the CDROM drive under MacOS. The error is caused by the\nMacOS CDROM driver sending this CDB with an ""S without ATN"" command and\nwithout DMA:\n\n    0x12 0x00 0x00 0x00 0x05 0x00 (INQUIRY)\n\nThis is a valid INQUIRY command, however with this logic present the 3rd\nbyte (0x0) is copied over the 1st byte (0x12) which silently converts the\nINQUIRY command to a TEST UNIT READY command before passing it to the\nQEMU SCSI layer.  Since the TEST UNIT READY command has a zero length\nresponse the MacOS CDROM driver never receives a response and assumes\nthe CDROM is not present.\n\nThe logic was to ignore the IDENTIFY byte and copy the LUN over from\nthe CDB, which did store the LUN in bits 5-7 of the second byte in\nolden times.  This however is all obsolete, so just drop the code.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nMessage-Id: <20210519100803.10293-5-mark.cave-ayland@ilande.co.uk>\n[Tweaked commit message. - Paolo]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9988299012184144,SCSI,hw/scsi/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c348458f357784629c36a6eb1493c0c0c33b74e7,35579b523cf8f441da12f968ce5dcf6ae0bfbfea,Mark Cave-Ayland,2021-05-19,"esp: correctly accumulate extended messages for PDMA\n\nCommit 799d90d818 ""esp: transition to message out phase after SATN and stop\ncommand"" added logic to correctly handle extended messages for DMA requests\nbut not for PDMA requests.\n\nApply the same logic in esp_do_dma() to do_dma_pdma_cb() so that extended\nmessages terminated with a PDMA request are accumulated correctly. This allows\nthe ESP device to respond correctly to the SDTR negotiation initiated by the\nNetBSD ESP driver without causing errors and timeouts on boot.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nMessage-Id: <20210519100803.10293-6-mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9987295269966124,ESP,hw/scsi/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0bcd5a18940e1c1e3350b93cfadcdc6b58ca1c0e,c348458f357784629c36a6eb1493c0c0c33b74e7,Mark Cave-Ayland,2021-06-13,"esp: fix migration version check in esp_is_version_5()\n\nCommit 4e78f3bf35 ""esp: defer command completion interrupt on incoming data\ntransfers"" added a version check for use with VMSTATE_*_TEST macros to allow\nmigration from older QEMU versions. Unfortunately the version check fails to\nwork in its current form since if the VMStateDescription version_id is\nincremented, the test returns false and so the fields are not included in the\noutgoing migration stream.\n\nChange the version check to use >= rather == to ensure that migration works\ncorrectly when the ESPState VMStateDescription has version_id > 5.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nFixes: 4e78f3bf35 (""esp: defer command completion interrupt on incoming data transfers"")\nMessage-Id: <20210613102614.5438-1-mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9994937181472778,ESP,hw/scsi/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cdfa56c551bb48f286cfe1f2daa1083d333ee45d,7ce18ca0257dac6e3ac92c8bc3d610abbf14bcce,David Hildenbrand,2021-04-06,"softmmu/physmem: Fix ram_block_discard_range() to handle shared anonymous memory\n\nWe can create shared anonymous memory via\n    ""-object memory-backend-ram,share=on,...""\nwhich is, for example, required by PVRDMA for mremap() to work.\n\nShared anonymous memory is weird, though. Instead of MADV_DONTNEED, we\nhave to use MADV_REMOVE: MADV_DONTNEED will only remove / zap all\nrelevant page table entries of the current process, the backend storage\nwill not get removed, resulting in no reduced memory consumption and\na repopulation of previous content on next access.\n\nShared anonymous memory is internally really just shmem, but without a\nfd exposed. As we cannot use fallocate() without the fd to discard the\nbacking storage, MADV_REMOVE gets the same job done without a fd as\ndocumented in ""man 2 madvise"". Removing backing storage implicitly\ninvalidates all page table entries with relevant mappings - an additional\nMADV_DONTNEED is not required.\n\nFixes: 06329ccecfa0 (""mem: add share parameter to memory-backend-ram"")\nReviewed-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20210406080126.24010-3-david@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997004270553588,PVRDMA,"include/qemu/osdep.h, softmmu/physmem.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,69647f9d51795ebea09eef05b5b2d14ffb835baf,7428e7ba15cbc2a1a801ea2697f5f47fe1153381,David Hildenbrand,2021-05-10,"qmp: Include ""reserve"" property of memory backends\n\nLet's include the new property. Instead of relying on CONFIG_LINUX,\nlet's try to unconditionally grab the property and treat errors as\n""does not exist"".\n\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Eduardo Habkost <ehabkost@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nAcked-by: Eduardo Habkost <ehabkost@redhat.com> for memory backend and machine core\nCc: Eric Blake <eblake@redhat.com>\nCc: Markus Armbruster <armbru@redhat.com>\nCc: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20210510114328.21835-15-david@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.998830020427704,LINUX,"hw/core/machine-qmp-cmds.c, qapi/machine.json",0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a2cd86a94a881b38a7d8bb67c61920ab3b23e82d,2833d697b9a418e2b9735e38ad4b33ae86f84739,Philippe Mathieu-Daud,2021-06-16,"hw/audio/sb16: Avoid assertion by restricting I/O sampling rate range\n\nWhile the SB16 seems to work up to 48000 Hz, the ""Sound Blaster Series\nHardware Programming Guide"" limit the sampling range from 4000 Hz to\n44100 Hz (Section 3-9, 3-10: Digitized Sound I/O Programming, tables\n3-2 and 3-3).\n\nLater, section 6-15 (DSP Commands) is more specific regarding the 41h /\n42h registers (Set digitized sound output sampling rate):\n\n  Valid sampling rates range from 5000 to 45000 Hz inclusive.\n\nThere is no comment regarding error handling if the register is filled\nwith an out-of-range value.  (See also section 3-28 ""8-bit or 16-bit\nAuto-initialize Transfer""). Assume limits are enforced in hardware.\n\nThis fixes triggering an assertion in audio_calloc():\n\n  #1 abort\n  #2 audio_bug audio/audio.c:119:9\n  #3 audio_calloc audio/audio.c:154:9\n  #4 audio_pcm_sw_alloc_resources_out audio/audio_template.h:116:15\n  #5 audio_pcm_sw_init_out audio/audio_template.h:175:11\n  #6 audio_pcm_create_voice_pair_out audio/audio_template.h:410:9\n  #7 AUD_open_out audio/audio_template.h:503:14\n  #8 continue_dma8 hw/audio/sb16.c:216:20\n  #9 dma_cmd8 hw/audio/sb16.c:276:5\n  #10 command hw/audio/sb16.c:0\n  #11 dsp_write hw/audio/sb16.c:949:13\n  #12 portio_write softmmu/ioport.c:205:13\n  #13 memory_region_write_accessor softmmu/memory.c:491:5\n  #14 access_with_adjusted_size softmmu/memory.c:552:18\n  #15 memory_region_dispatch_write softmmu/memory.c:0:13\n  #16 flatview_write_continue softmmu/physmem.c:2759:23\n  #17 flatview_write softmmu/physmem.c:2799:14\n  #18 address_space_write softmmu/physmem.c:2891:18\n  #19 cpu_outw softmmu/ioport.c:70:5\n\n[*] http://www.baudline.com/solutions/full_duplex/sb16_pci/index.html\n\nOSS-Fuzz Report: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=29174\n\nFixes: 85571bc7415 (""audio merge (malc)"")\nBuglink: https://bugs.launchpad.net/bugs/1910603\nTested-by: Qiang Liu <cyruscyliu@gmail.com>\nReviewed-by: Qiang Liu <cyruscyliu@gmail.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20210616104349.2398060-1-f4bug@amsat.org>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9573888778686525,SB16,"MAINTAINERS, hw/audio/sb16.c, tests/qtest/fuzz-sb16-test.c, tests/qtest/meson.build",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,22fca190e25b10761925bb1eeadeda07aabf3c26,2a5781331a08628fa5d5a0e9a5ea415ce462e707,Kunkun Jiang,2021-05-27,"vfio: Fix unregister SaveVMHandler in vfio_migration_finalize\n\nIn the vfio_migration_init(), the SaveVMHandler is registered for\nVFIO device. But it lacks the operation of 'unregister'. It will\nlead to 'Segmentation fault (core dumped)' in\nqemu_savevm_state_setup(), if performing live migration after a\nVFIO device is hot deleted.\n\nFixes: 7c2f5f75f94 (vfio: Register SaveVMHandlers for VFIO device)\nReported-by: Qixin Gan <ganqixin@huawei.com>\nSigned-off-by: Kunkun Jiang <jiangkunkun@huawei.com>\nMessage-Id: <20210527123101.289-1-jiangkunkun@huawei.com>\nReviewed by: Kirti Wankhede <kwankhede@nvidia.com>\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9997337460517884,VFIO,hw/vfio/migration.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3e92aa34434bbcf88e5cc0a8334946216dcaf233,9d87e59585784cbc6a3307a00d1493268e0daead,Richard Henderson,2021-03-18,"tcg: Store the TCGHelperInfo in the TCGOp for call\n\nThis will give us both flags and typemask for use later.\n\nWe also fix a dumping bug, wherein calls generated for plugins\nfail tcg_find_helper and print (null) instead of either a name\nor the raw function pointer.\n\nTested-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9996854066848756,TCG,"tcg/tcg-internal.h, tcg/tcg.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fc8ec9e12529eceac4eef483cdde52c14f3ca937,baa94c0d333b5eccd68450625e0c3960e85d1913,Richard Henderson,2021-02-01,"tcg/tci: Emit setcond before brcond\n\nThe encoding planned for tci does not have enough room for\nbrcond2, with 4 registers and a condition as input as well\nas the label.  Resolve the condition into TCG_REG_TMP, and\nrelax brcond to one register plus a label, considering the\ncondition to always be reg != 0.\n\nTested-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9995480179786682,TCG,"tcg/tci.c, tcg/tci/tcg-target.c.inc",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8a589aeb271bb470884f960e76cd6a7c89c022c9,1df0f5c1141958368d7473c7bfe8beac7bf86385,Khem Raj,2021-06-14,linux-user: Check for ieee128 fpbits in PPC64 HWCAP2 feature list\n\nglibc 2.34 is now checking for this in hwcaps at\nruntime [1] and failing to run the binary if machine\ndoes not support 128bit IEEE fp\n\nFixes\nFatal glibc error: CPU lacks float128 support (POWER 9 or later required)\n\n[1] https://sourceware.org/git/?p=glibc.git;a=commitdiff;h=d337345ce145e23c5f3a956f349d924fdf54ce2d;hp=eb24865637a271ab7dad13190330105eab0d478d\n\nSigned-off-by: Khem Raj <raj.khem@gmail.com>\nCc: Florian Weimer <fweimer@redhat.com>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20210614191729.2981488-1-raj.khem@gmail.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>,1,0.9996873140335084,"PPC, PPC64",linux-user/elfload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1c81f5735af3e2356bb75482a58786a4f26d8300,82faef92fb149b6bad699c3275473fda6fd486b6,Peter Maydell,2021-06-17,"hw/acpi: Provide function acpi_ghes_present()\n\nAllow code elsewhere in the system to check whether the ACPI GHES\ntable is present, so it can determine whether it is OK to try to\nrecord an error by calling acpi_ghes_record_errors().\n\n(We don't need to migrate the new 'present' field in AcpiGhesState,\nbecause it is set once at system initialization and doesn't change.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Dongjiu Geng <gengdongjiu1@gmail.com>\nMessage-id: 20210603171259.27962-3-peter.maydell@linaro.org",1,0.999497413635254,ACPI,"hw/acpi/ghes-stub.c, hw/acpi/ghes.c, include/hw/acpi/ghes.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,15613357ba53a4763594f64476058b85b3014757,1c81f5735af3e2356bb75482a58786a4f26d8300,Peter Maydell,2021-06-17,"target/arm: Use acpi_ghes_present() to see if we report ACPI memory errors\n\nThe virt_is_acpi_enabled() function is specific to the virt board, as\nis the check for its 'ras' property.  Use the new acpi_ghes_present()\nfunction to check whether we should report memory errors via\nacpi_ghes_record_errors().\n\nThis avoids a link error if QEMU was built without support for the\nvirt board, and provides a mechanism that can be used by any future\nboard models that want to add ACPI memory error reporting support\n(they only need to call acpi_ghes_add_fw_cfg()).\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Dongjiu Geng <gengdongjiu1@gmail.com>\nMessage-id: 20210603171259.27962-4-peter.maydell@linaro.org",1,0.9997239708900452,ACPI,target/arm/kvm64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,96342d53a881a5686b1e4797aead1c025985772e,2838b1d6356044eb240edd4e1b9b5ab5946c5b28,Philippe Mathieu-Daud,2021-05-30,"target/mips: Fix TCG temporary leaks in gen_pool32a5_nanomips_insn()\n\nFix a pair of TCG temporary leak when translating nanoMIPS SHILO opcode.\n\nFixes: 3285a3e4445 (""target/mips: Add emulation of DSP ASE for nanoMIPS"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20210530094538.1275329-1-f4bug@amsat.org>",1,0.9996826648712158,"MIPS, TCG",target/mips/tcg/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6eb223104c4e5cdfeaf57cff20fb1ad54084393b,96342d53a881a5686b1e4797aead1c025985772e,Philippe Mathieu-Daud,2021-06-17,"target/mips: Fix more TCG temporary leaks in gen_pool32a5_nanomips_insn\n\nFix multiple TCG temporary leaks in gen_pool32a5_nanomips_insn().\n\nFixes: 3285a3e4445 (""target/mips: Add emulation of DSP ASE for nanoMIPS - part 1"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20210617174323.2900831-3-f4bug@amsat.org>",1,0.9996646642684937,"MIPS, TCG",target/mips/tcg/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a071578b93e850dcbebbe2c0cfe86e7977ddffa7,6eb223104c4e5cdfeaf57cff20fb1ad54084393b,Philippe Mathieu-Daud,2021-05-29,"target/mips: Raise exception when DINSV opcode used with DSP disabled\n\nPer the ""MIPS DSP Module for MIPS64 Architecture"" manual, rev. 3.02,\nTable 5.3 ""SPECIAL3 Encoding of Function Field for DSP Module"":\n\n  If the Module/ASE is not implemented, executing such an instruction\n  must cause a Reserved Instruction Exception.\n\nThe DINSV instruction lists the following exceptions:\n- Reserved Instruction\n- DSP Disabled\n\nIf the MIPS core doesn't support the DSP module, or the DSP is\ndisabled, do not handle the '$rt = $0' case as a no-op but raise\nthe proper exception instead.\n\nCc: Jia Liu <proljc@gmail.com>\nFixes: 1cb6686cf92 (""target-mips: Add ASE DSP bit/manipulation instructions"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20210529165443.1114402-1-f4bug@amsat.org>",1,0.9991002082824708,"MIPS, MIPS64",target/mips/tcg/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,05d9d0359e6da7dc8255712d745d079a04fa5ae5,a071578b93e850dcbebbe2c0cfe86e7977ddffa7,Philippe Mathieu-Daud,2021-05-22,"target/mips: Do not abort on invalid instruction\n\nOn real hardware an invalid instruction doesn't halt the world,\nbut usually triggers a RESERVED INSTRUCTION exception.\nTCG guest code shouldn't abort QEMU anyway.\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20210617174323.2900831-2-f4bug@amsat.org>",1,0.9060207605361938,TCG,target/mips/tcg/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e5e6f00c3154055dba99eb3b789c38dc70578111,916e957070e1f4b697c905d0a35984e70f106ed6,Aleksandar Rikalo,2021-06-15,"target/mips: fix emulation of nanoMIPS BPOSGE32 instruction\n\nPer the ""MIPS Architecture Extension: nanoMIPS32 DSP Technical\nReference Manual  Revision 0.04"" p. 88 ""BPOSGE32C"", offset argument (imm)\nshould be left-shifted first.\nThis change was tested against test_dsp_r1_bposge32.c DSP test.\n\nReported-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Aleksandar Rikalo <aleksandar.rikalo@syrmia.com>\nSigned-off-by: Filip Vidojevic <filip.vidojevic@syrmia.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <VI1PR0302MB34869449EE56F226FC3C21129C309@VI1PR0302MB3486.eurprd03.prod.outlook.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9985468983650208,MIPS,target/mips/tcg/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,485404d3f9092f9e6d834bf4ab6d03c8a9569253,62dd169f65e37fbfbd10217d30e24bbd44d51577,Trung Nguyen,2021-06-25,T8030: Fix USB device tree,1,0.9997047781944276,USB,hw/arm/t8030.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dcafa248277732863c8a472e4e5aa1cdd41228e8,18f31e60c7f02e2fdeebce344b2f95c65cbf2bef,Peter Xu,2021-06-08,"KVM: Fix dirty ring mmap incorrect size due to renaming accident\n\nFound this when I wanted to try the per-vcpu dirty rate series out, then I\nfound that it's not really working and it can quickly hang death a guest.  I\nfound strange errors (e.g. guest crash after migration) happens even without\nthe per-vcpu dirty rate series.\n\nWhen merging dirty ring, probably no one notice that the trivial renaming diff\n[1] missed two existing references of kvm_dirty_ring_sizes; they do matter\nsince otherwise we'll mmap() a shorter range of memory after the renaming.\n\nI think it didn't SIGBUS for me easily simply because some other stuff within\nqemu mmap()ed right after the dirty rings (e.g. when testing 4096 slots, it\naligned with one small page on x86), so when we access the rings we've been\nreading/writting to random memory elsewhere of qemu.\n\nFix the two sizes when map/unmap the shared dirty gfn memory.\n\n[1] https://lore.kernel.org/qemu-devel/dac5f0c6-1bca-3daf-e5d2-6451dbbaca93@redhat.com/\n\nCc: Hyman Huang <huangy81@chinatelecom.cn>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20210609014355.217110-1-peterx@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996366500854492,KVM,accel/kvm/kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5886844e0d6a242ded952c33a01fc41cfa79d7b8,e0da9171e02f4534124b9a9e07333382b38376c6,Philippe Mathieu-Daud,2021-06-14,"hw/isa/Kconfig: Fix missing dependency ISA_SUPERIO -> FDC\n\nisa_superio_realize() calls isa_fdc_init_drives(), which is defined\nin hw/block/fdc.c, so ISA_SUPERIO needs to select the FDC symbol.\n\nReported-by: John Snow <jsnow@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20210614193220.2007159-2-philmd@redhat.com\nFixes: c0ff3795143 (""Introduce a CONFIG_ISA_SUPERIO switch for isa-superio.c"")\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.9996844530105592,"FDC, ISA_SUPERIO",hw/isa/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,50de51387f3fda9d3da049d60f8b631164f11f08,b8da65689ac18f4d288bdc679fb178031bdd929e,Kevin Wolf,2021-06-09,"vhost: Distinguish errors in vhost_dev_get_config()\n\nInstead of just returning 0/-1 and letting the caller make up a\nmeaningless error message, add an Error parameter to allow reporting the\nreal error and switch to 0/-errno so that different kind of errors can\nbe distinguished in the caller.\n\nconfig_len in vhost_user_get_config() is defined by the device, so if\nit's larger than VHOST_USER_MAX_CONFIG_SIZE, this is a programming\nerror. Turn the corresponding check into an assertion.\n\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>\nMessage-Id: <20210609154658.350308-6-kwolf@redhat.com>\nReviewed-by: Stefano Garzarella <sgarzare@redhat.com>\nReviewed-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9995670914649964,VHOST_USER,"hw/block/vhost-user-blk.c, hw/display/vhost-user-gpu.c, hw/input/vhost-user-input.c, hw/net/vhost_net.c, hw/virtio/vhost-user-vsock.c, hw/virtio/vhost-user.c, hw/virtio/vhost-vdpa.c, hw/virtio/vhost.c, include/hw/virtio/vhost-backend.h, include/hw/virtio/vhost.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8660df5ea25ea4e6ee94fca43559165fe7610199,d5bfbaca39e9a700cabf4266247c93edeaf846de,Mark Cave-Ayland,2021-06-25,"g364fb: add VMStateDescription for G364SysBusState\n\nCurrently when QEMU attempts to migrate the MIPS magnum machine it crashes due\nto a mistake in the g364fb VMStateDescription configuration which expects a\nG364SysBusState and not a G364State.\n\nResolve the issue by adding a new VMStateDescription for G364SysBusState and\nembedding the existing vmstate_g364fb VMStateDescription inside it using\nVMSTATE_STRUCT.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nFixes: 97a3f6ffbba (""g364fb: convert to qdev"")\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20210625163554.14879-3-mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9996825456619264,MIPS,hw/display/g364fb.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eb8377386d5b5ca3a844b87b5cbe1a6214f86c20,f8ffea755c3377b2c4b1800c1709ddd98b19882c,Philippe Mathieu-Daud,2021-06-17,"hw/misc/auxbus: Fix MOT/classic I2C mode\n\nSince its introduction in commit 6fc7f77fd2 i2c_start_transfer()\nuses incorrectly the direction of the transfer (the last argument\nis called 'is_recv'). Fix by inverting the argument, we now have\nis_recv = !is_write.\n\nFixes: 6fc7f77fd2 (""introduce aux-bus"")\nReported-by: BALATON Zoltan <balaton@eik.bme.hu>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nAcked-by: Corey Minyard <cminyard@mvista.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Corey Minyard <cminyard@mvista.com>",1,0.9996994733810424,I2C,hw/misc/auxbus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9e7449901d33ed0ddc0c432b15896019e3aec4f1,90603c5b894eae0e4c8a4a6fdde622143142489c,Jinhua Cao,2021-06-25,"ipmi/sim: fix watchdog_expired data type error in IPMIBmcSim struct\n\n1) watchdog_expired is set bool which value could only be 0 or 1,\nbut watchdog_expired every bit mean different Timer Use.\n\n2) Use the command  -ipmitool mc get watchdog-  to query\nipmi-watchdog status in guest.\n...\n[root@localhost ~]# ipmitool mc watchdog get\nWatchdog Timer Use:     SMS/OS (0x44)\nWatchdog Timer Is:      Started/Running\nWatchdog Timer Actions: Hard Reset (0x01)\nPre-timeout interval:   0 seconds\nTimer Expiration Flags: 0x00\nInitial Countdown:      60 sec\nPresent Countdown:      57 sec\n...\nbool for watchdog_expired results -Timer Expiration Flags- always\nbe 0x00 or 0x01, but the -Timer Expiration Flags- indicts the Timer Use\nafter timeout. So change watchdog_expired data type from bool to uint8_t\nto fix this problem.\n\nSigned-off-by: Jinhua Cao <caojinhua1@huawei.com>\nMessage-Id: <20210625021232.73614-1-caojinhua1@huawei.com>\n[I checked, a bool and uint8 are the same size for the vmstate transfer,\n so this should be fine.]\nSigned-off-by: Corey Minyard <cminyard@mvista.com>",1,0.999729335308075,IPMI,hw/ipmi/ipmi_bmc_sim.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2044969f0b27fa67f2b69bc710eaef45998cb6fb,3aca6380fdf566e518640de0d90ea6fa74b41825,David Hildenbrand,2021-04-13,"virtio-mem: Implement RamDiscardManager interface\n\nLet's properly notify when (un)plugging blocks, after discarding memory\nand before allowing the guest to consume memory. Handle errors from\nnotifiers gracefully (e.g., no remaining VFIO mappings) when plugging,\nrolling back the change and telling the guest that the VM is busy.\n\nOne special case to take care of is replaying all notifications after\nrestoring the vmstate. The device starts out with all memory discarded,\nso after loading the vmstate, we have to notify about all plugged\nblocks.\n\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: ""Michael S. Tsirkin"" <mst@redhat.com>\nCc: Alex Williamson <alex.williamson@redhat.com>\nCc: Dr. David Alan Gilbert <dgilbert@redhat.com>\nCc: Igor Mammedov <imammedo@redhat.com>\nCc: Pankaj Gupta <pankaj.gupta.linux@gmail.com>\nCc: Peter Xu <peterx@redhat.com>\nCc: Auger Eric <eric.auger@redhat.com>\nCc: Wei Yang <richard.weiyang@linux.alibaba.com>\nCc: teawater <teawaterz@linux.alibaba.com>\nCc: Marek Kedzierski <mkedzier@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20210413095531.25603-6-david@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9977407455444336,VFIO,"hw/virtio/virtio-mem.c, include/hw/virtio/virtio-mem.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a74317f636eb3352210fff5c58896ddc1e5aabdf,3eed155caf0a9a6db1e140c01bd8f0300ac475ce,David Hildenbrand,2021-04-13,"vfio: Sanity check maximum number of DMA mappings with RamDiscardManager\n\nAlthough RamDiscardManager can handle running into the maximum number of\nDMA mappings by propagating errors when creating a DMA mapping, we want\nto sanity check and warn the user early that there is a theoretical setup\nissue and that virtio-mem might not be able to provide as much memory\ntowards a VM as desired.\n\nAs suggested by Alex, let's use the number of KVM memory slots to guess\nhow many other mappings we might see over time.\n\nAcked-by: Alex Williamson <alex.williamson@redhat.com>\nReviewed-by: Alex Williamson <alex.williamson@redhat.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: ""Michael S. Tsirkin"" <mst@redhat.com>\nCc: Alex Williamson <alex.williamson@redhat.com>\nCc: Dr. David Alan Gilbert <dgilbert@redhat.com>\nCc: Igor Mammedov <imammedo@redhat.com>\nCc: Pankaj Gupta <pankaj.gupta.linux@gmail.com>\nCc: Peter Xu <peterx@redhat.com>\nCc: Auger Eric <eric.auger@redhat.com>\nCc: Wei Yang <richard.weiyang@linux.alibaba.com>\nCc: teawater <teawaterz@linux.alibaba.com>\nCc: Marek Kedzierski <mkedzier@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20210413095531.25603-9-david@redhat.com>\nSigned-off-by: Eduardo Habkost <ehabkost@redhat.com>",1,0.9997146725654602,KVM,hw/vfio/common.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,26ba91db6c0fea5ff6a696e32fc532af32f6629b,cbf35bac39265f278863f9452ceb9ad69cc311ef,Fabiano Rosas,2021-07-02,"target/ppc: Fix compilation with DUMP_PAGE_TABLES debug option\n\n../target/ppc/mmu_helper.c: In function 'get_segment_6xx_tlb':\n../target/ppc/mmu_helper.c:514:46: error: passing argument 1 of\n'ppc_hash32_hpt_mask' from incompatible pointer type [-Werror=incompatible-pointer-types]\n\n  514 |                          ppc_hash32_hpt_mask(env) + 0x80);\n      |                                              ^~~\n      |                                              |\n      |                                              CPUPPCState *\n\nFixes: 36778660d7 (""target/ppc: Eliminate htab_base and htab_mask variables"")\nSigned-off-by: Fabiano Rosas <farosas@linux.ibm.com>\nMessage-Id: <20210702215235.1941771-2-farosas@linux.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999697208404541,PPC,target/ppc/mmu_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3f9f76d5bb27c3700ae1d5336e8921f842caad2e,ba1b5df070bb4cf1632aaefa4e17d42881d49988,Bruno Larsen (billionai),2021-06-28,"target/ppc: fix address translation bug for radix mmus\n\nThis commit attempts to fix a technical hiccup first mentioned by Richard\nHenderson in\nhttps://lists.nongnu.org/archive/html/qemu-devel/2021-05/msg06247.html\n\nTo sumarize the hiccup here, when radix-style mmus are translating an\naddress, they might need to call a second level of translation, with\nhypervisor privileges. However, the way it was being done up until\nthis point meant that the second level translation had the same\nprivileges as the first level. It could lead to a bug in address\ntranslation when running KVM inside a TCG guest, but this bug was never\nexperienced by users, so this isn't as much a bug fix as it is a\ncorrectness cleanup.\n\nThis patch attempts that cleanup by making radix64_*_xlate functions\nreceive the mmu_idx, and passing one with the correct permission for the\nsecond level translation.\n\nThe mmuidx macros added by this patch are only correct for non-bookE\nmmus, because BookE style set the IS and DS bits inverted and there\nmight be other subtle differences. However, there doesn't seem to be\nBookE cpus that have radix-style mmus, so we left a comment there to\ndocument the issue, in case a machine does have that and was missed.\n\nAs part of this cleanup, we now need to send the correct mmmu_idx\nwhen calling get_phys_page_debug, otherwise we might not be able to see the\nmemory that the CPU could\n\nSuggested-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Bruno Larsen (billionai) <bruno.larsen@eldorado.org.br>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nTested-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20210628133610.1143-2-bruno.larsen@eldorado.org.br>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997337460517884,"KVM, TCG","target/ppc/mmu-book3s-v3.h, target/ppc/mmu-radix64.c, target/ppc/mmu-radix64.h, target/ppc/mmu_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,21bde1ecb6cecba1d2f0219a1b79c240bed78749,89bb5a4dfdef8316e840ab090ef04a5b7117731b,Alexey Kardashevskiy,2021-07-08,"spapr: Fix implementation of Open Firmware client interface\n\nThis addresses the comments from v22.\n\nThe functional changes are (the VOF ones need retesting with Pegasos2):\n\n(VOF) setprop will start failing if the machine class callback\ndid not handle it;\n(VOF) unit addresses are lowered in path_offset();\n(SPAPR) /chosen/bootargs is initialized from kernel_cmdline if\nthe client did not change it.\n\nFixes: 5c991e5d4378 (""spapr: Implement Open Firmware client interface"")\nCc: BALATON Zoltan <balaton@eik.bme.hu>\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nMessage-Id: <20210708065625.548396-1-aik@ozlabs.ru>\nTested-by: BALATON Zoltan <balaton@eik.bme.hu>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.999704658985138,VOF,"MAINTAINERS, hw/ppc/spapr.c, hw/ppc/spapr_hcall.c, hw/ppc/spapr_vof.c, hw/ppc/vof.c, include/hw/ppc/spapr.h, pc-bios/vof.bin, pc-bios/vof/ci.c, pc-bios/vof/libc.c, pc-bios/vof/main.c, pc-bios/vof/vof.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,84affad1fd4c5251d7cccf4df43b29e9157983a9,6d2f38eb0e2be86af6904f1b768575cc64be37c2,Kevin Wolf,2021-07-05,"vhost-user: Fix backends without multiqueue support\n\ndev->max_queues was never initialised for backends that don't support\nVHOST_USER_PROTOCOL_F_MQ, so it would use 0 as the maximum number of\nqueues to check against and consequently fail for any such backend.\n\nSet it to 1 if the backend doesn't have multiqueue support.\n\nFixes: c90bd505a3e8210c23d69fecab9ee6f56ec4a161\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>\nMessage-Id: <20210705171429.29286-1-kwolf@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.999739706516266,VHOST_USER,hw/virtio/vhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d064c19d749bc839ed243d584ba70ba65a999885,f4063f9c319e3924b0c6d09dfe43e94d01253ee0,Alex Benne,2021-07-07,"hw/arm: add dependency on OR_IRQ for XLNX_VERSAL\n\nWe need this functionality due to:\n\n    /* XRAM IRQs get ORed into a single line.  */\n    object_initialize_child(OBJECT(s), ""xram-irq-orgate"",\n                            &s->lpd.xram.irq_orgate, TYPE_OR_IRQ);\n\nFixes: a55b441b2ca (""hw/arm: versal: Add support for the XRAMs"")\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20210707131744.26027-3-alex.bennee@linaro.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9993081092834472,"OR_IRQ, XLNX_VERSAL",hw/arm/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d1c74ab3a1048a78b5fb8df06c1845e58111ee34,70c6eb46d780a1ad1a53a4cfbb1052973271a62d,Richard Henderson,2021-07-09,"tcg: Fix prologue disassembly\n\nIn tcg_region_prologue_set, we reset TCGContext.code_gen_ptr.\nSo do that after we've used it to dump the prologue contents.\n\nFixes: b0a0794a0f16\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9997205138206482,TCG,tcg/tcg.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a312aaeb4d137a1e7781c9d79c1e7c3f65921eb8,57e28d34c0cb04abf7683ac6a12c87ede447c320,BALATON Zoltan,2021-07-09,"ppc/pegasos2: Allow setprop in VOF\n\nLinux needs setprop to fix up the device tree, otherwise it's not\nfinding devices and cannot boot. Since recent VOF change now we need\nto add a callback to allow this which is what this patch does.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-Id: <20210709132920.6544E7457EF@zero.eik.bme.hu>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.967814326286316,VOF,hw/ppc/pegasos2.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d01e8dcf2749e3a3bb6e4690492bedd259784ca5,a312aaeb4d137a1e7781c9d79c1e7c3f65921eb8,Alexey Kardashevskiy,2021-07-12,"pseries: Update SLOF firmware image\n\nThis is all about TPM fixes and improvements.\n\nThe change log is:\n\nAlexey Kardashevskiy (2):\n      tcgbios: Fix warnings\n      version: update to 20210711\n\nStefan Berger (9):\n      tcgbios: Fix details in log entries\n      tcgbios: Fix a typo in the sha256 algo description\n      tcgbios: Add implementations for sha1, sha384, and sha512\n      tpm: Add firmware API call 2HASH-EXT-LOG\n      tcgbios: Change format of S_CRTM_VERSION string to ucs-2\n      tcgbios: Use assembly for 32 bit rotr in sha256\n      tcgbios: Use The proper sha function for each PCR bank\n      tcgbios: Add test cases and test script to run them\n      Travis: Add script for running tests on Travis\n\nThomas Huth (1):\n      Fix bad header guard in version.h\n\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9959527254104614,TPM,"pc-bios/README, pc-bios/slof.bin, roms/SLOF",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c785a40179b10ce2d7a4afdb04f63c98d53a1756,d01e8dcf2749e3a3bb6e4690492bedd259784ca5,BALATON Zoltan,2021-07-12,"mv64361: Remove extra break from a switch case\n\nThe switch case of writing PCI 1 IO base address had an extra break\nstatement that made part of the code unreachable. This did not cause a\nproblem as guests ususally leave this register at its default value.\n\nFixes: dcdf98a9015 (""Add emulation of Marvell MV64361 PPC system\n       controller"")\nReported-by: Coverity (CID 1458135)\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-Id: <20210712131259.B705B7456E3@zero.eik.bme.hu>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996827840805054,"MV64361, PCI, PPC",hw/pci-host/mv64361.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3cfafd317c97558b66d93b6f338b95c695ad8d39,0f1ea9c7a602f0349137672f14c4c2a9671ef28e,Paolo Bonzini,2021-07-12,"meson: fix condition for io_uring stubs\n\nCONFIG_LINUX_IO_URING is not included in config-host.mak and therefore is\nnot usable in ""when"" clauses.  Check the availability of the library,\nwhich matches the condition for the non-stubbed version block/io_uring.c.\n\nAt this point, the difference between libraries that have config-host.mak\nentries and those that do not is quite confusing.  The remaining ~dozen\nshould be converted in 6.2.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20210712151810.508249-1-pbonzini@redhat.com>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>",1,0.9995083808898926,LINUX,stubs/meson.build,0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a1b176f9046a94ae963099a055cde2323dc7c012,3cfafd317c97558b66d93b6f338b95c695ad8d39,Paolo Bonzini,2021-07-12,disable modular TCG on Darwin\n\nAccelerator modularity does not work on Darwin:\n\nld: illegal thread local variable reference to regular symbol _current_cpu for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n\nFix by avoiding modular TCG builds.\n\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-Id: <20210712122208.456264-1-pbonzini@redhat.com>\n[AJB: manually merged typo fix]\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>,1,0.9995973706245422,TCG,meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1bd9f1b14d1e9c1498bb03faf4e2bb945cf6542d,936555bc4f9efce1a9d35466845169c2c7566794,Cai Huoqing,2021-07-13,"vfio/pci: Add pba_offset PCI quirk for BAIDU KUNLUN AI processor\n\nFix pba_offset initialization value for BAIDU KUNLUN Virtual\nFunction device. The KUNLUN hardware returns an incorrect\nvalue for the VF PBA offset, and add a quirk to instead\nreturn a hardcoded value of 0xb400.\n\nSigned-off-by: Cai Huoqing <caihuoqing@baidu.com>\nLink: https://lore.kernel.org/r/20210713093743.942-1-caihuoqing@baidu.com\n[aw: comment & whitespace tuning]\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9982247948646544,PCI,"hw/vfio/pci.c, include/hw/pci/pci_ids.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,17858a169508609ca9063c544833e5a1adeb7b52,383d11f217feca0f9947f790f2deafc09fe69ec5,Julia Suvorova,2021-07-13,"hw/acpi/ich9: Set ACPI PCI hot-plug as default on Q35\n\nQ35 has three different types of PCI devices hot-plug: PCIe Native,\nSHPC Native and ACPI hot-plug. This patch changes the default choice\nfor cold-plugged bridges from PCIe Native to ACPI Hot-plug with\nability to use SHPC and PCIe Native for hot-plugged bridges.\n\nThis is a list of the PCIe Native hot-plug issues that led to this\nchange:\n    * no racy behavior during boot (see 110c477c2ed)\n    * no delay during deleting - after the actual power off software\n      must wait at least 1 second before indicating about it. This case\n      is quite important for users, it even has its own bug:\n          https://bugzilla.redhat.com/show_bug.cgi?id=1594168\n    * no timer-based behavior - in addition to the previous example,\n      the attention button has a 5-second waiting period, during which\n      the operation can be canceled with a second press. While this\n      looks fine for manual button control, automation will result in\n      the need to queue or drop events, and the software receiving\n      events in all sort of unspecified combinations of attention/power\n      indicator states, which is racy and uppredictable.\n    * fixes:\n        * https://bugzilla.redhat.com/show_bug.cgi?id=1752465\n        * https://bugzilla.redhat.com/show_bug.cgi?id=1690256\n\nTo return to PCIe Native hot-plug:\n    -global ICH9-LPC.acpi-pci-hotplug-with-bridge-support=off\n\nKnown issue: older linux guests need the following flag\nto allow hotplugged pci express devices to use io:\n        -device pcie-root-port,io-reserve=4096.\nio is unusual for pci express so this seems minor.\nWe'll fix this by a follow up patch.\n\nSigned-off-by: Julia Suvorova <jusual@redhat.com>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20210713004205.775386-6-jusual@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>",1,0.972504198551178,"ACPI, PCI, Q35","hw/acpi/ich9.c, hw/i386/pc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d43bb04c844dc6de78aa14e8e944d8302e24200a,27d764c9c0749027578351cf018e02d25e8e3f71,Philippe Mathieu-Daud,2021-05-13,"hw/arm/Kconfig: Add missing dependency NPCM7XX -> SMBUS\n\nThe TYPE_NPCM7XX_SMBUS device model exposes an SMBus, but\nthis isn't advertised with proper Kconfig symbol, leading\nto an early build failure when building NPCM7XX machines\nstandalone:\n\n  The following clauses were found for AT24C\n\n      config AT24C depends on I2C\n      select AT24C if NPCM7XX\n\nFix by adding SMBUS to NPCM7XX.\n\nFixes: 94e77879395 (""hw/i2c: Implement NPCM7XX SMBus Module Single Mode"")\nReviewed-by: Hao Wu <wuhaotsh@google.com>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Bin Meng <bmeng.cn@gmail.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20210515173716.358295-4-philmd@redhat.com>",1,0.9996626377105712,"AT24C, I2C, NPCM7XX, SMBUS",hw/arm/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ee9ffe0c8efac4f194aed288563949b09705b0de,7795b6e1523e7c8b50103df7ea1c9f325200d78b,Philippe Mathieu-Daud,2021-05-13,"hw/arm/Kconfig: Add missing SDHCI symbol to FSL_IMX25\n\nCommit bfae1772c43 (""hw/arm/fsl-imx25: Wire up eSDHC controllers"")\nadded a dependency on the TYPE_IMX_USDHC model, but forgot to add\nthe Kconfig selector. Fix that to solve when built stand-alone:\n\n  $ qemu-system-arm -M imx25-pdk\n  qemu-system-arm: missing object type 'imx-usdhc'\n  Aborted (core dumped)\n\nFixes: bfae1772c43 (""hw/arm/fsl-imx25: Wire up eSDHC controllers"")\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Bin Meng <bmeng.cn@gmail.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20210515173716.358295-6-philmd@redhat.com>",1,0.9995381832122804,"FSL_IMX25, IMX, SDHCI",hw/arm/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ed2543a256684df1e6de6706c78c76136f163861,6e4dd94f77d769daa5a56d1b02b9c6a697db5270,Philippe Mathieu-Daud,2021-05-13,"hw/ppc/Kconfig: Add missing dependency E500 -> DS1338 RTC\n\nCommit 7abb479c7ab (""PPC: E500: Add FSL I2C controller and integrate\nRTC with it"") added a global dependency on the DS1338 model, instead\nof a machine one (via Kconfig). This gives trouble when building\nstandalone machines not exposing I2C bus:\n\n  The following clauses were found for DS1338\n\n      CONFIG_DS1338=y\n      config DS1338 depends on I2C\n\nFix by selecting the DS1338 symbol in the single machine requiring\nit, the E500.\n\nFixes: 7abb479c7ab (""PPC: E500: Add FSL I2C controller and integrate RTC with it"")\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Bin Meng <bmeng.cn@gmail.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20210513163858.3928976-9-philmd@redhat.com>",1,0.9924103021621704,"DS1338, E500, I2C, PPC","configs/devices/ppc-softmmu/default.mak, hw/ppc/Kconfig",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3b78420bb14f7e439a079aee28eeec997a229c5e,a990a42b39338ffd12fb9640d792276313f75ed5,Lukas Straub,2021-07-18,"replication: Properly attach children\n\nThe replication driver needs access to the children block-nodes of\nit's child so it can issue bdrv_make_empty() and bdrv_co_pwritev()\nto manage the replication. However, it does this by directly copying\nthe BdrvChilds, which is wrong.\n\nFix this by properly attaching the block-nodes with\nbdrv_attach_child() and requesting the required permissions.\n\nThis ultimatively fixes a potential crash in replication_co_writev(),\nbecause it may write to s->secondary_disk if it is in state\nBLOCK_REPLICATION_FAILOVER_FAILED, without requesting write\npermissions first. And now the workaround in\nsecondary_do_checkpoint() can be removed.\n\nSigned-off-by: Lukas Straub <lukasstraub2@web.de>\nReviewed-by: Vladimir Sementsov-Ogievskiy <vsementsov@virtuozzo.com>\nMessage-Id: <5d0539d729afb8072d0d7cde977c5066285591b4.1626619393.git.lukasstraub2@web.de>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.999704658985138,LED,block/replication.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d2c7c18cc7f3ce6c1ac54d02e11d7bb7df9b913b,ed2543a256684df1e6de6706c78c76136f163861,Philippe Mathieu-Daud,2021-05-14,"hw/pci-host/Kconfig: Add missing dependency MV64361 -> I8259\n\nLooking at the MV64341 model source, there is a dependency on the\n8259 interrupt controller:\n\n  523     case MV64340_PCI_1_INTERRUPT_ACKNOWLEDGE_VIRTUAL_REG:\n  524         /* FIXME: Should this be sent via the PCI bus somehow? */\n  525         if (s->gpp_int_level && (s->gpp_value & BIT(31))) {\n  526             ret = pic_read_irq(isa_pic);\n  527         }\n  528         break;\n\nAdd it to Kconfig to avoid the following build failure:\n\n  /usr/bin/ld: libcommon.fa.p/hw_pci-host_mv64361.c.o: in function `mv64361_read':\n  hw/pci-host/mv64361.c:526: undefined reference to `isa_pic'\n  /usr/bin/ld: hw/pci-host/mv64361.c:526: undefined reference to `pic_read_irq'\n\nFixes: dcdf98a9015 (""hw/pci-host: Add emulation of Marvell MV64361 PPC system controller"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: BALATON Zoltan <balaton@eik.bme.hu>\nReviewed-by: Bin Meng <bmeng.cn@gmail.com>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nMessage-Id: <20210515173716.358295-10-philmd@redhat.com>",1,0.9938327074050904,"I8259, LED, MV64361, PCI, PPC",hw/pci-host/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ba4253cef26ba612d3a4413744c86c625e46bb2c,16c67cae843d29ac29cf632b47bc1f961a90b1e5,Philippe Mathieu-Daud,2021-05-14,"hw/isa/vt82c686: Add missing Kconfig dependency (runtime error)\n\nWhen building the Pegasos2 machine stand-alone we get:\n\n  $ qemu-system-ppc -M pegasos2 -bios pegasos2.rom\n  ERROR:qom/object.c:714:object_new_with_type: assertion failed: (type != NULL)\n  Bail out! ERROR:qom/object.c:714:object_new_with_type: assertion failed: (type != NULL)\n\nLooking at the backtraces:\n\n  Thread 1 ""qemu-system-ppc"" received signal SIGABRT, Aborted.\n  (gdb) bt\n  #0  0x00007ffff53877d5 in raise () at /lib64/libc.so.6\n  #1  0x00007ffff5370895 in abort () at /lib64/libc.so.6\n  #2  0x00007ffff6dc4b6c in g_assertion_message_expr.cold () at /lib64/libglib-2.0.so.0\n  #3  0x00007ffff6e229ff in g_assertion_message_expr () at /lib64/libglib-2.0.so.0\n  #4  0x0000555555a0c8f4 in object_new_with_type (type=0x0) at qom/object.c:714\n  #5  0x0000555555a0c9d5 in object_new (typename=0x555555c7afe4 ""isa-pit"") at qom/object.c:747\n  #6  0x0000555555a053b8 in qdev_new (name=0x555555c7afe4 ""isa-pit"") at hw/core/qdev.c:153\n  #7  0x00005555557cdd05 in isa_new (name=0x555555c7afe4 ""isa-pit"") at hw/isa/isa-bus.c:160\n  #8  0x00005555557cf518 in i8254_pit_init (bus=0x55555603d140, base=64, isa_irq=0, alt_irq=0x0) at include/hw/timer/i8254.h:54\n  #9  0x00005555557d12f9 in vt8231_realize (d=0x5555563d9770, errp=0x7fffffffcc28) at hw/isa/vt82c686.c:704\n\n  (gdb) bt\n  #0  0x00007ffff54bd7d5 in raise () at /lib64/libc.so.6\n  #1  0x00007ffff54a6895 in abort () at /lib64/libc.so.6\n  #2  0x00005555558f7796 in object_new (typename=0x555555ad4889 ""isa-parallel"") at qom/object.c:749\n  #3  object_new (typename=type0x555555ad4889 ""isa-parallel"") at qom/object.c:743\n  #4  0x00005555558f0d46 in qdev_new (name=0x555555ad4889 ""isa-parallel"") at hw/core/qdev.c:153\n  #5  0x000055555576b669 in isa_new (name=0x555555ad4889 ""isa-parallel"") at hw/isa/isa-bus.c:160\n  #6  0x000055555576bbe8 in isa_superio_realize (dev=0x555555f15910, errp=<optimized out>) at hw/isa/isa-superio.c:54\n  #7  0x000055555576d5ed in via_superio_realize (d=0x555555f15910, errp=0x7fffffffcb30) at hw/isa/vt82c686.c:292\n  #8  0x00005555558f12c1 in device_set_realized (obj=<optimized out>, ...) at hw/core/qdev.c:761\n  #9  0x00005555558f5066 in property_set_bool (obj=0x555555f15910, ..., errp=0x7fffffffcbb0) at qom/object.c:2262\n  #10 0x00005555558f7f38 in object_property_set (obj=0x555555f15910, name=0x555555b1b1e3 ""realized"", ...) at qom/object.c:1407\n  #11 0x00005555558fb2d0 in object_property_set_qobject (obj=0x555555f15910, name=0x555555b1b1e3 ""realized"", ...) at qom/qom-qobject.c:28\n  #12 0x00005555558f8525 in object_property_set_bool (obj=0x555555f15910, name=0x555555b1b1e3 ""realized"", ...) at qom/object.c:1477\n  #13 0x00005555558f18ee in qdev_realize (dev=0x555555f15910, bus=0x55555602a610, errp=<optimized out>) at hw/core/qdev.c:389\n  #14 0x00005555558f197f in qdev_realize_and_unref (dev=0x555555f15910, bus=0x55555602a610, errp=<optimized out>) at hw/core/qdev.c:396\n  #15 0x000055555576b709 in isa_realize_and_unref (errp=<optimized out>, bus=0x55555602a610, dev=0x555555f15910) at hw/isa/isa-bus.c:179\n  #16 isa_create_simple (bus=0x55555602a610, name=0x555555adc33b ""vt8231-superio"") at hw/isa/isa-bus.c:173\n  #17 0x000055555576d9b7 in vt8231_realize (d=0x555556186a50, errp=<optimized out>) at hw/isa/vt82c686.c:706\n\nThe ""isa-pit"" type (TYPE_I8254) and ""isa-parallel"" are missing. Add them.\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: BALATON Zoltan <balaton@eik.bme.hu>\nReviewed-by: Bin Meng <bmeng.cn@gmail.com>\nMessage-Id: <20210515173716.358295-12-philmd@redhat.com>\n[PMD: Added ""isa-parallel"" later]",1,0.8847484588623047,I8254,hw/isa/Kconfig,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,15a730e7a3aaac180df72cd5730e0617bcf44a5a,a2376507f615495b1d16685449ce0ea78c2caf9d,Philippe Mathieu-Daud,2021-07-23,"block/nvme: Fix VFIO_MAP_DMA failed: No space left on device\n\nWhen the NVMe block driver was introduced (see commit bdd6a90a9e5,\nJanuary 2018), Linux VFIO_IOMMU_MAP_DMA ioctl was only returning\n-ENOMEM in case of error. The driver was correctly handling the\nerror path to recycle its volatile IOVA mappings.\n\nTo fix CVE-2019-3882, Linux commit 492855939bdb (""vfio/type1: Limit\nDMA mappings per container"", April 2019) added the -ENOSPC error to\nsignal the user exhausted the DMA mappings available for a container.\n\nThe block driver started to mis-behave:\n\n  qemu-system-x86_64: VFIO_MAP_DMA failed: No space left on device\n  (qemu)\n  (qemu) info status\n  VM status: paused (io-error)\n  (qemu) c\n  VFIO_MAP_DMA failed: No space left on device\n  (qemu) c\n  VFIO_MAP_DMA failed: No space left on device\n\n(The VM is not resumable from here, hence stuck.)\n\nFix by handling the new -ENOSPC error (when DMA mappings are\nexhausted) without any distinction to the current -ENOMEM error,\nso we don't change the behavior on old kernels where the CVE-2019-3882\nfix is not present.\n\nAn easy way to reproduce this bug is to restrict the DMA mapping\nlimit (65535 by default) when loading the VFIO IOMMU module:\n\n  # modprobe vfio_iommu_type1 dma_entry_limit=666\n\nCc: qemu-stable@nongnu.org\nCc: Fam Zheng <fam@euphon.net>\nCc: Maxim Levitsky <mlevitsk@redhat.com>\nCc: Alex Williamson <alex.williamson@redhat.com>\nReported-by: Michal Prvoznk <mprivozn@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20210723195843.1032825-1-philmd@redhat.com\nFixes: bdd6a90a9e5 (""block: Add VFIO based NVMe driver"")\nBuglink: https://bugs.launchpad.net/qemu/+bug/1863333\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/65\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9997239708900452,VFIO,block/nvme.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d4f6883912dba8a710274e2364c440c210e4ec65,0c317eb3dd407f2ec7fcaccec79be6c3987573e2,Peter Maydell,2021-07-23,"target/arm: Report M-profile alignment faults correctly to the guest\n\nFor M-profile, we weren't reporting alignment faults triggered by the\ngeneric TCG code correctly to the guest.  These get passed into\narm_v7m_cpu_do_interrupt() as an EXCP_DATA_ABORT with an A-profile\nstyle exception.fsr value of 1.  We didn't check for this, and so\nthey fell through into the default of ""assume this is an MPU fault""\nand were reported to the guest as a data access violation MPU fault.\n\nReport these alignment faults as UsageFaults which set the UNALIGNED\nbit in the UFSR.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20210723162146.5167-4-peter.maydell@linaro.org",1,0.9996825456619264,TCG,target/arm/m_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6ebc0048dd8ff93c2847739599afa630f3d9dabd,69ea12b19a15ae006521cd5cc0f627f27f738746,BALATON Zoltan,2021-07-15,ppc/pegasos2: Fix spurious warning with -bios\n\nThe -append option is currently not compatible with -bios (as we don't\nyet emulate nvram so we can only put it in the environment with VOF).\nTherefore a warning is printed if -append is used with -bios but\nbecause the default value of kernel_cmdline seems to be an empty\nstring instead of NULL this warning was printed even without -append\nwhen -bios is used. Only print warning if -append is given.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-Id: <483ac599a1407b766179aaea2794aed60cc09f53.1626367844.git.balaton@eik.bme.hu>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9996683597564696,VOF,hw/ppc/pegasos2.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,14c7e06e722af6f5459ab92bae3023bb336fa497,2d1154bd95a8bfea30cc59de8e080e5a016a9bee,Alexey Kardashevskiy,2021-07-20,"ppc/vof: Fix Coverity issues\n\nCoverity reported issues which are caused by mixing of signed return codes\nfrom DTC and unsigned return codes of the client interface.\n\nThis introduces PROM_ERROR and makes distinction between the error types.\n\nThis fixes NEGATIVE_RETURNS, OVERRUN issues reported by Coverity.\n\nThis adds a comment about the return parameters number in the VOF hcall.\nThe reason for such counting is to keep the numbers look the same in\nvof_client_handle() and the Linux (an OF client).\n\nvmc->client_architecture_support() returns target_ulong and we want to\npropagate this to the client (for example H_MULTI_THREADS_ACTIVE).\nThe VOF path to do_client_architecture_support() needs chopping off\nthe top 32bit but SLOF's H_CAS does not; and either way the return values\nare either 0 or 32bit negative error code. For now this chops\nthe top 32bits.\n\nThis makes ""claim"" fail if the allocated address is above 4GB as\nthe client interface is 32bit. This still allows claiming memory above\n4GB as potentially initrd can be put there and the client can read\nthe address from the FDT's ""available"" property.\n\nFixes: CID 1458139, 1458138, 1458137, 1458133, 1458132\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nMessage-Id: <20210720050726.2737405-1-aik@ozlabs.ru>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997678399086,VOF,"hw/ppc/trace-events, hw/ppc/vof.c, include/hw/ppc/vof.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,380e49297c302fdcf8e5d56abdbe07868d3af8d8,14c7e06e722af6f5459ab92bae3023bb336fa497,Fabiano Rosas,2021-07-22,"kvm: ppc: Print meaningful message on KVM_CREATE_VM failure\n\nPowerPC has two KVM types (HV, PR) that translate into three kernel\nmodules:\n\nkvm.ko - common kvm code\nkvm_hv.ko - kvm running with MSR_HV=1 or MSR_HV|PR=0 in a nested guest.\nkvm_pr.ko - kvm running in usermode MSR_PR=1.\n\nSince the two KVM types can both be running at the same time, this\ncreates a situation in which it is possible for one or both of the\nmodules to fail to initialize, leaving the generic one behind. This\nleads QEMU to think it can create a guest, but KVM will fail when\ncalling the type-specific code:\n\n ioctl(KVM_CREATE_VM) failed: 22 Invalid argument\n qemu-kvm: failed to initialize KVM: Invalid argument\n\nIdeally this would be solved kernel-side, but it might be a while\nuntil we can get rid of one of the modules. So in the meantime this\npatch tries to make this less confusing for the end user by adding a\nmore elucidative message:\n\n ioctl(KVM_CREATE_VM) failed: 22 Invalid argument\n PPC KVM module is not loaded. Try 'modprobe kvm_hv'.\n\n[dwg: Fixed error in #elif which failed compile on !ppc hosts]\nSigned-off-by: Fabiano Rosas <farosas@linux.ibm.com>\nMessage-Id: <20210722141340.2367905-1-farosas@linux.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.997899293899536,"KVM, PPC",accel/kvm/kvm-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e4adb09f7952fd37b7f1ba3df377d54d0823e682,69ea12b19a15ae006521cd5cc0f627f27f738746,Vitaly Kuznetsov,2021-07-16,"i386: assert 'cs->kvm_state' is not null\n\nCoverity reports potential NULL pointer dereference in\nget_supported_hv_cpuid_legacy() when 'cs->kvm_state' is NULL. While\n'cs->kvm_state' can indeed be NULL in hv_cpuid_get_host(),\nkvm_hyperv_expand_features() makes sure that it only happens when\nKVM_CAP_SYS_HYPERV_CPUID is supported and KVM_CAP_SYS_HYPERV_CPUID\nimplies KVM_CAP_HYPERV_CPUID so get_supported_hv_cpuid_legacy() is\nnever really called. Add asserts to strengthen the protection against\nbroken KVM behavior.\n\nCoverity: CID 1458243\nSigned-off-by: Vitaly Kuznetsov <vkuznets@redhat.com>\nMessage-Id: <20210716115852.418293-1-vkuznets@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9992478489875792,"HYPERV, KVM",target/i386/kvm/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,54caccb3657e3960d8f5d57ab8e867028325d131,0ef2801423be33d80b52b14b6b55b3713a325dba,Fabian Ebner,2021-07-29,"block/io_uring: resubmit when result is -EAGAIN\n\nLinux SCSI can throw spurious -EAGAIN in some corner cases in its\ncompletion path, which will end up being the result in the completed\nio_uring request.\n\nResubmitting such requests should allow block jobs to complete, even\nif such spurious errors are encountered.\n\nCo-authored-by: Stefan Hajnoczi <stefanha@gmail.com>\nReviewed-by: Stefano Garzarella <sgarzare@redhat.com>\nSigned-off-by: Fabian Ebner <f.ebner@proxmox.com>\nMessage-id: 20210729091029.65369-1-f.ebner@proxmox.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9992893934249878,SCSI,block/io_uring.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7c6ef61a5c69e1a4f2c43b6f207d215bea714b19,b1b3e3e3bff2aec62b6d5df8491dca94e380978b,Peter Maydell,2021-07-22,"MAINTAINERS: Don't list Andrzej Zaborowski for various components\n\nAndrzej Zaborowski is listed as an ""Odd Fixes"" maintainer for the\nnSeries, Palm and PXA2XX boards, as well as the ""Maintained"" status\nArm 32-bit TCG backend.\n\nAndrzej's last email to qemu-devel was back in 2017, and the email\nbefore that was all the way back in 2013.  We don't really need to\nfill his email up with CCs on QEMU patches any more...\n\nRemove Andrzej from the various boards sections (leaving them still\nOdd Fixes with me as the backup patch reviewer).  Add Richard\nHenderson as the maintainer for the Arm TCG backend, since removing\nAndrzej would otherwise leave that section with no M: line at all.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20210722180951.29802-1-peter.maydell@linaro.org",1,0.9973264932632446,"PXA2XX, TCG",MAINTAINERS,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e2a6290aab578b2170c1f5909fa556385dc0d820,f2da205cb4142259d9bc6b9d4596ebbe2426fe49,Marcel Apfelbaum,2021-08-02,"hw/pcie-root-port: Fix hotplug for PCI devices requiring IO\n\nQ35 has now ACPI hotplug enabled by default for PCI(e) devices.\nAs opposed to native PCIe hotplug, guests like Fedora 34\nwill not assign IO range to pcie-root-ports not supporting\nnative hotplug, resulting into a regression.\n\nReproduce by:\n    qemu-bin -M q35 -device pcie-root-port,id=p1 -monitor stdio\n    device_add e1000,bus=p1\nIn the Guest OS the respective pcie-root-port will have the IO range\ndisabled.\n\nFix it by setting the ""reserve-io"" hint capability of the\npcie-root-ports so the firmware will allocate the IO range instead.\n\nAcked-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Marcel Apfelbaum <marcel@redhat.com>\nMessage-Id: <20210802090057.1709775-1-marcel@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9990733861923218,"ACPI, PCI, Q35",hw/pci-bridge/gen_pcie_root_port.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ff31cca71ef257f8da2d9bc647ddd53f080ce580,d60af909d5131300596d4f6f052b2d0f44e76560,Guenter Roeck,2021-08-10,"fsl-imx6ul: Instantiate SAI1/2/3 and ASRC as unimplemented devices\n\nInstantiate SAI1/2/3 and ASRC as unimplemented devices to avoid random\nLinux kernel crashes, such as\n\nUnhandled fault: external abort on non-linefetch (0x808) at 0xd1580010\npgd = (ptrval)\n[d1580010] *pgd=8231b811, *pte=02034653, *ppte=02034453\nInternal error: : 808 [#1] SMP ARM\n...\n[<c095e974>] (regmap_mmio_write32le) from [<c095eb48>] (regmap_mmio_write+0x3c/0x54)\n[<c095eb48>] (regmap_mmio_write) from [<c09580f4>] (_regmap_write+0x4c/0x1f0)\n[<c09580f4>] (_regmap_write) from [<c095837c>] (_regmap_update_bits+0xe4/0xec)\n[<c095837c>] (_regmap_update_bits) from [<c09599b4>] (regmap_update_bits_base+0x50/0x74)\n[<c09599b4>] (regmap_update_bits_base) from [<c0d3e9e4>] (fsl_asrc_runtime_resume+0x1e4/0x21c)\n[<c0d3e9e4>] (fsl_asrc_runtime_resume) from [<c0942464>] (__rpm_callback+0x3c/0x108)\n[<c0942464>] (__rpm_callback) from [<c0942590>] (rpm_callback+0x60/0x64)\n[<c0942590>] (rpm_callback) from [<c0942b60>] (rpm_resume+0x5cc/0x808)\n[<c0942b60>] (rpm_resume) from [<c0942dfc>] (__pm_runtime_resume+0x60/0xa0)\n[<c0942dfc>] (__pm_runtime_resume) from [<c0d3ecc4>] (fsl_asrc_probe+0x2a8/0x708)\n[<c0d3ecc4>] (fsl_asrc_probe) from [<c0935b08>] (platform_probe+0x58/0xb8)\n[<c0935b08>] (platform_probe) from [<c0933264>] (really_probe.part.0+0x9c/0x334)\n[<c0933264>] (really_probe.part.0) from [<c093359c>] (__driver_probe_device+0xa0/0x138)\n[<c093359c>] (__driver_probe_device) from [<c0933664>] (driver_probe_device+0x30/0xc8)\n[<c0933664>] (driver_probe_device) from [<c0933c88>] (__driver_attach+0x90/0x130)\n[<c0933c88>] (__driver_attach) from [<c0931060>] (bus_for_each_dev+0x78/0xb8)\n[<c0931060>] (bus_for_each_dev) from [<c093254c>] (bus_add_driver+0xf0/0x1d8)\n[<c093254c>] (bus_add_driver) from [<c0934a30>] (driver_register+0x88/0x118)\n[<c0934a30>] (driver_register) from [<c01022c0>] (do_one_initcall+0x7c/0x3a4)\n[<c01022c0>] (do_one_initcall) from [<c1601204>] (kernel_init_freeable+0x198/0x22c)\n[<c1601204>] (kernel_init_freeable) from [<c0f5ff2c>] (kernel_init+0x10/0x128)\n[<c0f5ff2c>] (kernel_init) from [<c010013c>] (ret_from_fork+0x14/0x38)\n\nor\n\nUnhandled fault: external abort on non-linefetch (0x808) at 0xd19b0000\npgd = (ptrval)\n[d19b0000] *pgd=82711811, *pte=308a0653, *ppte=308a0453\nInternal error: : 808 [#1] SMP ARM\n...\n[<c095e974>] (regmap_mmio_write32le) from [<c095eb48>] (regmap_mmio_write+0x3c/0x54)\n[<c095eb48>] (regmap_mmio_write) from [<c09580f4>] (_regmap_write+0x4c/0x1f0)\n[<c09580f4>] (_regmap_write) from [<c0959b28>] (regmap_write+0x3c/0x60)\n[<c0959b28>] (regmap_write) from [<c0d41130>] (fsl_sai_runtime_resume+0x9c/0x1ec)\n[<c0d41130>] (fsl_sai_runtime_resume) from [<c0942464>] (__rpm_callback+0x3c/0x108)\n[<c0942464>] (__rpm_callback) from [<c0942590>] (rpm_callback+0x60/0x64)\n[<c0942590>] (rpm_callback) from [<c0942b60>] (rpm_resume+0x5cc/0x808)\n[<c0942b60>] (rpm_resume) from [<c0942dfc>] (__pm_runtime_resume+0x60/0xa0)\n[<c0942dfc>] (__pm_runtime_resume) from [<c0d4231c>] (fsl_sai_probe+0x2b8/0x65c)\n[<c0d4231c>] (fsl_sai_probe) from [<c0935b08>] (platform_probe+0x58/0xb8)\n[<c0935b08>] (platform_probe) from [<c0933264>] (really_probe.part.0+0x9c/0x334)\n[<c0933264>] (really_probe.part.0) from [<c093359c>] (__driver_probe_device+0xa0/0x138)\n[<c093359c>] (__driver_probe_device) from [<c0933664>] (driver_probe_device+0x30/0xc8)\n[<c0933664>] (driver_probe_device) from [<c0933c88>] (__driver_attach+0x90/0x130)\n[<c0933c88>] (__driver_attach) from [<c0931060>] (bus_for_each_dev+0x78/0xb8)\n[<c0931060>] (bus_for_each_dev) from [<c093254c>] (bus_add_driver+0xf0/0x1d8)\n[<c093254c>] (bus_add_driver) from [<c0934a30>] (driver_register+0x88/0x118)\n[<c0934a30>] (driver_register) from [<c01022c0>] (do_one_initcall+0x7c/0x3a4)\n[<c01022c0>] (do_one_initcall) from [<c1601204>] (kernel_init_freeable+0x198/0x22c)\n[<c1601204>] (kernel_init_freeable) from [<c0f5ff2c>] (kernel_init+0x10/0x128)\n[<c0f5ff2c>] (kernel_init) from [<c010013c>] (ret_from_fork+0x14/0x38)\n\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Guenter Roeck <linux@roeck-us.net>\nMessage-id: 20210810160318.87376-1-linux@roeck-us.net\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9979063272476196,ARM,hw/arm/fsl-imx6ul.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6f287c700c5fad924585dee1308477aa9e73ae50,80d60a6d1efebcf35ff96e2d0a51373b0383bc10,Guenter Roeck,2021-08-10,"fsl-imx7: Instantiate SAI1/2/3 as unimplemented devices\n\nInstantiate SAI1/2/3 as unimplemented devices to avoid Linux kernel crashes\nsuch as the following.\n\nUnhandled fault: external abort on non-linefetch (0x808) at 0xd19b0000\npgd = (ptrval)\n[d19b0000] *pgd=82711811, *pte=308a0653, *ppte=308a0453\nInternal error: : 808 [#1] SMP ARM\nModules linked in:\nCPU: 0 PID: 1 Comm: swapper/0 Not tainted 5.14.0-rc5 #1\n...\n[<c095e974>] (regmap_mmio_write32le) from [<c095eb48>] (regmap_mmio_write+0x3c/0x54)\n[<c095eb48>] (regmap_mmio_write) from [<c09580f4>] (_regmap_write+0x4c/0x1f0)\n[<c09580f4>] (_regmap_write) from [<c0959b28>] (regmap_write+0x3c/0x60)\n[<c0959b28>] (regmap_write) from [<c0d41130>] (fsl_sai_runtime_resume+0x9c/0x1ec)\n[<c0d41130>] (fsl_sai_runtime_resume) from [<c0942464>] (__rpm_callback+0x3c/0x108)\n[<c0942464>] (__rpm_callback) from [<c0942590>] (rpm_callback+0x60/0x64)\n[<c0942590>] (rpm_callback) from [<c0942b60>] (rpm_resume+0x5cc/0x808)\n[<c0942b60>] (rpm_resume) from [<c0942dfc>] (__pm_runtime_resume+0x60/0xa0)\n[<c0942dfc>] (__pm_runtime_resume) from [<c0d4231c>] (fsl_sai_probe+0x2b8/0x65c)\n[<c0d4231c>] (fsl_sai_probe) from [<c0935b08>] (platform_probe+0x58/0xb8)\n[<c0935b08>] (platform_probe) from [<c0933264>] (really_probe.part.0+0x9c/0x334)\n[<c0933264>] (really_probe.part.0) from [<c093359c>] (__driver_probe_device+0xa0/0x138)\n[<c093359c>] (__driver_probe_device) from [<c0933664>] (driver_probe_device+0x30/0xc8)\n[<c0933664>] (driver_probe_device) from [<c0933c88>] (__driver_attach+0x90/0x130)\n[<c0933c88>] (__driver_attach) from [<c0931060>] (bus_for_each_dev+0x78/0xb8)\n[<c0931060>] (bus_for_each_dev) from [<c093254c>] (bus_add_driver+0xf0/0x1d8)\n[<c093254c>] (bus_add_driver) from [<c0934a30>] (driver_register+0x88/0x118)\n[<c0934a30>] (driver_register) from [<c01022c0>] (do_one_initcall+0x7c/0x3a4)\n[<c01022c0>] (do_one_initcall) from [<c1601204>] (kernel_init_freeable+0x198/0x22c)\n[<c1601204>] (kernel_init_freeable) from [<c0f5ff2c>] (kernel_init+0x10/0x128)\n[<c0f5ff2c>] (kernel_init) from [<c010013c>] (ret_from_fork+0x14/0x38)\n\nSigned-off-by: Guenter Roeck <linux@roeck-us.net>\nMessage-id: 20210810175607.538090-1-linux@roeck-us.net\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9992328882217408,ARM,"hw/arm/fsl-imx7.c, include/hw/arm/fsl-imx7.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6773fbf8c07c58429ca876ddea760f604d0497a8,fcc6f733690f54ed0409585db619d05b34c8e751,Peter Maydell,2021-07-30,"softmmu: Use accel_find(""xen"") instead of xen_available()\n\nThe xen_available() function is used only to produce an error\nfor some Xen-specific command line options in QEMU binaries where\nXen support was not compiled in: it just returns the value of\nthe CONFIG_XEN define.\n\nNow that accelerators are QOM classes, we can check for\n""does this binary have Xen compiled in"" with accel_find(""xen""),\nand drop the xen_available() function.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20210730105947.28215-2-peter.maydell@linaro.org",1,0.9994483590126038,XEN,"include/sysemu/arch_init.h, softmmu/arch_init.c, softmmu/vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,49e7f191cab7cdb83c6a278a8a83a3334f416c96,33c20e3caf82096e7fd50eed0d47778109f62081,Peter Maydell,2021-08-16,"target/arm: Avoid assertion trying to use KVM and multiple ASes\n\nKVM cannot support multiple address spaces per CPU; if you try to\ncreate more than one then cpu_address_space_init() will assert.\n\nIn the Arm CPU realize function, detect the configurations which\nwould cause us to need more than one AS, and cleanly fail the\nrealize rather than blundering on into the assertion. This\nturns this:\n  $ qemu-system-aarch64  -enable-kvm -display none -cpu max -machine raspi3b\n  qemu-system-aarch64: ../../softmmu/physmem.c:747: cpu_address_space_init: Assertion `asidx == 0 || !kvm_enabled()' failed.\n  Aborted\n\ninto:\n  $ qemu-system-aarch64  -enable-kvm -display none -machine raspi3b\n  qemu-system-aarch64: Cannot enable KVM when guest CPU has EL3 enabled\n\nand this:\n  $ qemu-system-aarch64  -enable-kvm -display none -machine mps3-an524\n  qemu-system-aarch64: ../../softmmu/physmem.c:747: cpu_address_space_init: Assertion `asidx == 0 || !kvm_enabled()' failed.\n  Aborted\n\ninto:\n  $ qemu-system-aarch64  -enable-kvm -display none -machine mps3-an524\n  qemu-system-aarch64: Cannot enable KVM when using an M-profile guest CPU\n\nFixes: https://gitlab.com/qemu-project/qemu/-/issues/528\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20210816135842.25302-3-peter.maydell@linaro.org",1,0.9860107898712158,KVM,target/arm/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,665cddbe15fdc5f5c66caac62472bd5af1e23e10,49e7f191cab7cdb83c6a278a8a83a3334f416c96,Peter Maydell,2021-08-16,"hw/arm/virt: Delete EL3 error checksnow provided in CPU realize\n\nNow that the CPU realize function will fail cleanly if we ask for EL3\nwhen KVM is enabled, we don't need to check for errors explicitly in\nthe virt board code. The reported message is slightly different;\nit is now:\n  qemu-system-aarch64: Cannot enable KVM when guest CPU has EL3 enabled\ninstead of:\n  qemu-system-aarch64: mach-virt: KVM does not support Security extensions\n\nWe don't delete the MTE check because there the logic is more\ncomplex; deleting the check would work but makes the error message\nless helpful, as it would read:\n  qemu-system-aarch64: MTE requested, but not supported by the guest CPU\ninstead of:\n  qemu-system-aarch64: mach-virt: KVM does not support providing MTE to the guest CPU\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20210816135842.25302-4-peter.maydell@linaro.org",1,0.9989438652992249,KVM,hw/arm/virt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7852a77f598635a67a222b6c1463c8b46098aed2,b956577af1b88e950bf2aa5f77be6c8aee04e879,Jose R. Ziviani,2021-08-17,"vga: don't abort when adding a duplicate isa-vga device\n\nIf users try to add an isa-vga device that was already registered,\nstill in command line, qemu will crash:\n\n$ qemu-system-mips64el -M pica61 -device isa-vga\nRAMBlock ""vga.vram"" already registered, abort!\nAborted (core dumped)\n\nThat particular board registers the device automaticaly, so it's\nnot obvious that a VGA device already exists. This patch changes\nthis behavior by displaying a message and exiting without crashing.\n\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/44\nSigned-off-by: Jose R. Ziviani <jziviani@suse.de>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20210817192629.12755-1-jziviani@suse.de>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9995657801628112,VGA,hw/display/vga-isa.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f2e8b87a1afeec13157094909bf129c4b64192ba,993f52f4d43ddcddcb6f68b79a528599f4f099f9,Alexander Bulekov,2021-07-13,"fuzz: make object-name matching case-insensitive\n\nWe have some configs for devices such as the AC97 and ES1370 that were\nnot matching memory-regions correctly, because the configs provided\nlowercase names. To resolve these problems and prevent them from\noccurring again in the future, convert both the pattern and names to\nlower-case, prior to checking for a match.\n\nSuggested-by: Darren Kenny <darren.kenny@oracle.com>\nReviewed-by: Darren Kenny <darren.kenny@oracle.com>\nSigned-off-by: Alexander Bulekov <alxndr@bu.edu>",1,0.9995933175086976,"AC97, ES1370",tests/qtest/fuzz/generic_fuzz.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,40e916b4bc414c730df48c7d4405e66c8691756f,d3ac658fbeb568ced3b4623f2ce4a8ee5ee5fa68,Thomas Huth,2021-08-06,"gitlab-ci: Fix ..._RUNNER_AVAILABLE variables and document them\n\nThe patch that recently introduced the S390X_RUNNER_AVAILABLE variable\nin custom-runners.yml missed that the bottom half of the file is rather\nabout aarch64 than s390x. Thus rename the S390X_RUNNER_AVAILABLE to\nAARCH64_RUNNER_AVAILABLE in those jobs.\n\nFinally mention both variables in our CI documentation, too.\n\nFixes: c5dd0f0342 (""Improve rules for the staging branch"")\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Willian Rampazzo <willianr@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20210730143809.717079-4-thuth@redhat.com>\n[AJB: moved due to docu changes]\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nMessage-Id: <20210806141015.2487502-5-alex.bennee@linaro.org>",1,0.9995858073234558,"AARCH64, S390X",".gitlab-ci.d/custom-runners.yml, docs/devel/ci-jobs.rst",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,699f2e535d930017153423e0f326b34b29ad1f54,1f89d3b91e3e222e468d98057f5eaf8ebac0e7bf,Denis Plotnikov,2021-08-09,"vhost: make SET_VRING_ADDR, SET_FEATURES send replies\n\nOn vhost-user-blk migration, qemu normally sends a number of commands\nto enable logging if VHOST_USER_PROTOCOL_F_LOG_SHMFD is negotiated.\nQemu sends VHOST_USER_SET_FEATURES to enable buffers logging and\nVHOST_USER_SET_VRING_ADDR per each started ring to enable ""used ring""\ndata logging.\nThe issue is that qemu doesn't wait for reply from the vhost daemon\nfor these commands which may result in races between qemu expectation\nof logging starting and actual login starting in vhost daemon.\n\nThe race can appear as follows: on migration setup, qemu enables dirty page\nlogging by sending VHOST_USER_SET_FEATURES. The command doesn't arrive to a\nvhost-user-blk daemon immediately and the daemon needs some time to turn the\nlogging on internally. If qemu doesn't wait for reply, after sending the\ncommand, qemu may start migrateing memory pages to a destination. At this time,\nthe logging may not be actually turned on in the daemon but some guest pages,\nwhich the daemon is about to write to, may have already been transferred\nwithout logging to the destination. Since the logging wasn't turned on,\nthose pages won't be transferred again as dirty. So we may end up with\ncorrupted data on the destination.\nThe same scenario is applicable for ""used ring"" data logging, which is\nturned on with VHOST_USER_SET_VRING_ADDR command.\n\nTo resolve this issue, this patch makes qemu wait for the command result\nexplicitly if VHOST_USER_PROTOCOL_F_REPLY_ACK is negotiated and logging enabled.\n\nSigned-off-by: Denis Plotnikov <den-plotnikov@yandex-team.ru>\n\nMessage-Id: <20210809104824.78830-1-den-plotnikov@yandex-team.ru>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995213747024536,VHOST_USER,hw/virtio/vhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fd51e54fa10221e5a8add894c38cc1cf199f4bc4,b914e741e91ad2b1515dcded57ff5a5e07ec353d,David Hildenbrand,2021-07-08,"virtio-balloon: don't start free page hinting if postcopy is possible\n\nPostcopy never worked properly with 'free-page-hint=on', as there are\nat least two issues:\n\n1) With postcopy, the guest will never receive a VIRTIO_BALLOON_CMD_ID_DONE\n   and consequently won't release free pages back to the OS once\n   migration finishes.\n\n   The issue is that for postcopy, we won't do a final bitmap sync while\n   the guest is stopped on the source and\n   virtio_balloon_free_page_hint_notify() will only call\n   virtio_balloon_free_page_done() on the source during\n   PRECOPY_NOTIFY_CLEANUP, after the VM state was already migrated to\n   the destination.\n\n2) Once the VM touches a page on the destination that has been excluded\n   from migration on the source via qemu_guest_free_page_hint() while\n   postcopy is active, that thread will stall until postcopy finishes\n   and all threads are woken up. (with older Linux kernels that won't\n   retry faults when woken up via userfaultfd, we might actually get a\n   SEGFAULT)\n\n   The issue is that the source will refuse to migrate any pages that\n   are not marked as dirty in the dirty bmap -- for example, because the\n   page might just have been sent. Consequently, the faulting thread will\n   stall, waiting for the page to be migrated -- which could take quite\n   a while and result in guest OS issues.\n\nWhile we could fix 1) comparatively easily, 2) is harder to get right and\nmight require more involved RAM migration changes on source and destination\n[1].\n\nAs it never worked properly, let's not start free page hinting in the\nprecopy notifier if the postcopy migration capability was enabled to fix\nit easily. Capabilities cannot be enabled once migration is already\nrunning.\n\nNote 1: in the future we might either adjust migration code on the source\n        to track pages that have actually been sent or adjust\n        migration code on source and destination  to eventually send\n        pages multiple times from the source and and deal with pages\n        that are sent multiple times on the destination.\n\nNote 2: virtio-mem has similar issues, however, access to ""unplugged""\n        memory by the guest is very rare and we would have to be very\n        lucky for it to happen during migration. The spec states\n        ""The driver SHOULD NOT read from unplugged memory blocks ...""\n        and ""The driver MUST NOT write to unplugged memory blocks"".\n        virtio-mem will move away from virtio_balloon_free_page_done()\n        soon and handle this case explicitly on the destination.\n\n[1] https://lkml.kernel.org/r/e79fd18c-aa62-c1d8-c7f3-ba3fc2c25fc8@redhat.com\n\nFixes: c13c4153f76d (""virtio-balloon: VIRTIO_BALLOON_F_FREE_PAGE_HINT"")\nCc: qemu-stable@nongnu.org\nCc: Wei Wang <wei.w.wang@intel.com>\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Philippe Mathieu-Daud <philmd@redhat.com>\nCc: Alexander Duyck <alexander.duyck@gmail.com>\nCc: Juan Quintela <quintela@redhat.com>\nCc: ""Dr. David Alan Gilbert"" <dgilbert@redhat.com>\nCc: Peter Xu <peterx@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20210708095339.20274-2-david@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Peter Xu <peterx@redhat.com>",1,0.9997277855873108,"VIRTIO, VIRTIO_BALLOON",hw/virtio/virtio-balloon.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9bd2788f49c331b02372cc257b11e4c984d39708,f38b376d421dcb35027e6d9bf852b4091dc87d83,Philippe Mathieu-Daud,2021-09-02,"block/nvme: Only report VFIO error on failed retry\n\nWe expect the first qemu_vfio_dma_map() to fail (indicating\nDMA mappings exhaustion, see commit 15a730e7a3a). Do not\nreport the first failure as error, since we are going to\nflush the mappings and retry.\n\nThis removes spurious error message displayed on the monitor:\n\n  (qemu) c\n  (qemu) qemu-kvm: VFIO_MAP_DMA failed: No space left on device\n  (qemu) info status\n  VM status: running\n\nReported-by: Tingting Mao <timao@redhat.com>\nReviewed-by: Klaus Jensen <k.jensen@samsung.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20210902070025.197072-12-philmd@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.999679684638977,VFIO,block/nvme.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,15a2a1a4d1eecc74a87e1552f5cc4e3668375715,99b0f0584132d942547046bc064478db5bcbe7c5,Mark Cave-Ayland,2021-09-03,"escc: fix STATUS_SYNC bit in R_STATUS register\n\nAfter an SDLC ""Enter hunt"" command has been sent the STATUS_SYNC bit should remain\nhigh until the flag byte has been detected. Whilst the ESCC device doesn't yet\nimplement SDLC mode, without this change the active low STATUS_SYNC is constantly\nasserted causing the MacOS OpenTransport extension to hang on startup as it thinks\nit is constantly receiving LocalTalk responses during its initial negotiation\nphase.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-Id: <20210903113223.19551-10-mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>",1,0.999680519104004,ESCC,hw/char/escc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,69e3895f9d37ca39536775b13ce63e8c291427ba,bd662023e683850c085e98c8ff8297142c2dd9f2,Daniel P. Berrang,2021-08-31,"target/i386: add missing bits to CR4_RESERVED_MASK\n\nBooting Fedora kernels with -cpu max hangs very early in boot. Disabling\nthe la57 CPUID bit fixes the problem. git bisect traced the regression to\n\n  commit 213ff024a2f92020290296cb9dc29c2af3d4a221 (HEAD, refs/bisect/bad)\n  Author: Lara Lazier <laramglazier@gmail.com>\n  Date:   Wed Jul 21 17:26:50 2021 +0200\n\n    target/i386: Added consistency checks for CR4\n\n    All MBZ bits in CR4 must be zero. (APM2 15.5)\n    Added reserved bitmask and added checks in both\n    helper_vmrun and helper_write_crN.\n\n    Signed-off-by: Lara Lazier <laramglazier@gmail.com>\n    Message-Id: <20210721152651.14683-2-laramglazier@gmail.com>\n    Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>\n\nIn this commit CR4_RESERVED_MASK is missing CR4_LA57_MASK and\ntwo others. Adding this lets Fedora kernels boot once again.\n\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>\nTested-by: Richard W.M. Jones <rjones@redhat.com>\nMessage-Id: <20210831175033.175584-1-berrange@redhat.com>\n[Removed VMXE/SMXE, matching the commit message. - Paolo]\nFixes: 213ff024a2 (""target/i386: Added consistency checks for CR4"", 2021-07-22)\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995800852775574,APM,target/i386/cpu.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d26f2f93c1853810fad7da7faa2fa1d590c1017b,47c305f6f2761c5be9b5a69721cd586aaae0d43e,Marc Zyngier,2021-09-13,"hw/arm/virt: KVM: Probe for KVM_CAP_ARM_VM_IPA_SIZE when creating scratch VM\n\nAlthough we probe for the IPA limits imposed by KVM (and the hardware)\nwhen computing the memory map, we still use the old style '0' when\ncreating a scratch VM in kvm_arm_create_scratch_host_vcpu().\n\nOn systems that are severely IPA challenged (such as the Apple M1),\nthis results in a failure as KVM cannot use the default 40bit that\n'0' represents.\n\nInstead, probe for the extension and use the reported IPA limit\nif available.\n\nCc: Andrew Jones <drjones@redhat.com>\nCc: Eric Auger <eric.auger@redhat.com>\nCc: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Marc Zyngier <maz@kernel.org>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nMessage-id: 20210822144441.1290891-2-maz@kernel.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995571970939636,"ARM, KVM",target/arm/kvm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,421519d82cb19dda07ee1711df30c4e29bffe97e,d216898563a1d84f6147a13ecf396ae5bd252e68,Jose R. Ziviani,2021-09-08,"tcg/arm: Fix tcg_out_vec_op function signature\n\nCommit 5e8892db93 fixed several function signatures but tcg_out_vec_op\nfor arm is missing. It causes a build error on armv6 and armv7:\n\ntcg-target.c.inc:2718:42: error: argument 5 of type 'const TCGArg *'\n{aka 'const unsigned int *'} declared as a pointer [-Werror=array-parameter=]\n   const TCGArg *args, const int *const_args)\n  ~~~~~~~~~~~~~~^~~~\n../tcg/tcg.c:120:41: note: previously declared as an array 'const TCGArg[16]'\n{aka 'const unsigned int[16]'}\n   const TCGArg args[TCG_MAX_OP_ARGS],\n  ~~~~~~~~~~~~~~^~~~\n\nSigned-off-by: Jose R. Ziviani <jziviani@suse.de>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20210908185338.7927-1-jziviani@suse.de>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.99972265958786,TCG,tcg/arm/tcg-target.c.inc,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0c33a48df4560b2c967a19b53b8e2a1c95c8483d,98edb134c35cdae0e7a2de328aa92c5efff42489,Andrew Jeffery,2021-09-20,"misc/pca9552: Fix LED status register indexing in pca955x_get_led()\n\nThere was a bit of a thinko in the state calculation where every odd pin\nin was reported in e.g. ""pwm0"" mode rather than ""off"". This was the\nresult of an incorrect bit shift for the 2-bit field representing each\nLED state.\n\nFixes: a90d8f84674d (""misc/pca9552: Add qom set and get"")\nSigned-off-by: Andrew Jeffery <andrew@aj.id.au>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20210723043624.348158-1-andrew@aj.id.au>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9997186064720154,LED,hw/misc/pca9552.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,46560cb1058af80a4c0c26eff2b07a51b02ee053,c5811bb3b76f8115f8ce3ccee64662a44dd061d9,Joel Stanley,2021-09-20,"hw/misc: Add Infineon DPS310 sensor model\n\nThis contains some hardcoded register values that were obtained from the\nhardware after reading the temperature.\n\nIt does enough to test the Linux kernel driver. The FIFO mode, IRQs and\noperation modes other than the default as used by Linux are not modelled.\n\nSigned-off-by: Joel Stanley <joel@jms.id.au>\nMessage-Id: <20210616073358.750472-2-joel@jms.id.au>\n[ clg: - Fixed sequential reading\n       - Reworked regs_reset_state array\n       - Moved model under hw/sensor/ ]\nMessage-Id: <20210629142336.750058-4-clg@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9985217452049256,DPS310,"hw/arm/Kconfig, hw/sensor/Kconfig, hw/sensor/dps310.c, hw/sensor/meson.build",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4d9b8ef9b5ab880d491b0c41d222b42ed83bdbfe,af96d2e69227fc25f663d840527dbe2a0c592400,Cdric Le Goater,2021-09-20,"target/ppc: Fix 64-bit decrementer\n\nThe current way the mask is built can overflow with a 64-bit decrementer.\nUse sextract64() to extract the signed values and remove the logic to\nhandle negative values which has become useless.\n\nCc: Luis Fernando Fujita Pires <luis.pires@eldorado.org.br>\nFixes: a8dafa525181 (""target/ppc: Implement large decrementer support for TCG"")\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20210920061203.989563-5-clg@kaod.org>\nReviewed-by: Luis Pires <luis.pires@eldorado.org.br>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996614456176758,TCG,hw/ppc/ppc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c151fd87102cbb4082ac5dbcd704196b0495d28a,46ce017167d800c5d96104a88cfaed9949c4a3b6,Igor Mammedov,2021-09-24,"acpi: add helper routines to initialize ACPI tables\n\nPatch introduces acpi_table_begin()/ acpi_table_end() API\nthat hides pointer/offset arithmetic from user as opposed\nto build_header(), to prevent errors caused by it [1].\n\n acpi_table_begin():\n     initializes table header and keeps track of\n     table data/offsets\n acpi_table_end():\n     sets actual table length and tells bios loader\n     where table is for the later initialization on\n     guest side.\n\n1) commits\n   bb9feea43179 x86: acpi: use offset instead of pointer when using build_header()\n   4d027afeb3a9 Virt: ACPI: fix qemu assert due to re-assigned table data address\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Eric Auger <eric.auger@redhat.com>\nMessage-Id: <20210924122802.1455362-2-imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nTested-by: Stefan Berger <stefanb@linux.ibm.com>\nTested-by: Yanan Wang <wangyanan55@huawei.com>",1,0.9993508458137512,ACPI,"hw/acpi/aml-build.c, include/hw/acpi/aml-build.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0e780da76a6fe283a20283856718bca3986c104f,9f29e872d5b3973003701401cf659cfb71c95013,Ani Sinha,2021-09-16,"hw/i386/acpi: fix conflicting IO address range for acpi pci hotplug in q35\n\nChange caf108bc58790 (""hw/i386/acpi-build: Add ACPI PCI hot-plug methods to Q35"")\nselects an IO address range for acpi based PCI hotplug for q35 arbitrarily. It\nstarts at address 0x0cc4 and ends at 0x0cdb. At the time when the patch was\nwritten but the final version of the patch was not yet pushed upstream, this\naddress range was free and did not conflict with any other IO address ranges.\nHowever, with the following change, this address range was no\nlonger conflict free as in this change, the IO address range\n(value of ACPI_PCIHP_SIZE) was incremented by four bytes:\n\nb32bd763a1ca92 (""pci: introduce acpi-index property for PCI device"")\n\nThis can be seen from the output of QMP command 'info mtree' :\n\n0000000000000600-0000000000000603 (prio 0, i/o): acpi-evt\n0000000000000604-0000000000000605 (prio 0, i/o): acpi-cnt\n0000000000000608-000000000000060b (prio 0, i/o): acpi-tmr\n0000000000000620-000000000000062f (prio 0, i/o): acpi-gpe0\n0000000000000630-0000000000000637 (prio 0, i/o): acpi-smi\n0000000000000cc4-0000000000000cdb (prio 0, i/o): acpi-pci-hotplug\n0000000000000cd8-0000000000000ce3 (prio 0, i/o): acpi-cpu-hotplug\n\nIt shows that there is a region of conflict between IO regions of acpi\npci hotplug and acpi cpu hotplug.\n\nUnfortunately, the change caf108bc58790 did not update the IO address range\nappropriately before it was pushed upstream to accommodate the increased\nlength of the IO address space introduced in change b32bd763a1ca92.\n\nDue to this bug, windows guests complain 'This device cannot find\nenough free resources it can use' in the device manager panel for extended\nIO buses. This issue also breaks the correct functioning of pci hotplug as the\nfollowing shows that the IO space for pci hotplug has been truncated:\n\n(qemu) info mtree -f\nFlatView #0\n AS ""I/O"", root: io\n Root memory region: io\n  0000000000000cc4-0000000000000cd7 (prio 0, i/o): acpi-pci-hotplug\n  0000000000000cd8-0000000000000cf7 (prio 0, i/o): acpi-cpu-hotplug\n\nTherefore, in this fix, we adjust the IO address range for the acpi pci\nhotplug so that it does not conflict with cpu hotplug and there is no\ntruncation of IO spaces. The starting IO address of PCI hotplug region\nhas been decremented by four bytes in order to accommodate four byte\nincrement in the IO address space introduced by change\nb32bd763a1ca92 (""pci: introduce acpi-index property for PCI device"")\n\nAfter fixing, the following are the corrected IO ranges:\n\n0000000000000600-0000000000000603 (prio 0, i/o): acpi-evt\n0000000000000604-0000000000000605 (prio 0, i/o): acpi-cnt\n0000000000000608-000000000000060b (prio 0, i/o): acpi-tmr\n0000000000000620-000000000000062f (prio 0, i/o): acpi-gpe0\n0000000000000630-0000000000000637 (prio 0, i/o): acpi-smi\n0000000000000cc0-0000000000000cd7 (prio 0, i/o): acpi-pci-hotplug\n0000000000000cd8-0000000000000ce3 (prio 0, i/o): acpi-cpu-hotplug\n\nThis change has been tested using a Windows Server 2019 guest VM. Windows\nno longer complains after this change.\n\nFixes: caf108bc58790 (""hw/i386/acpi-build: Add ACPI PCI hot-plug methods to Q35"")\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/561\n\nSigned-off-by: Ani Sinha <ani@anisinha.ca>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Julia Suvorova <jusual@redhat.com>\nMessage-Id: <20210916132838.3469580-3-ani@anisinha.ca>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999509572982788,"ACPI, ACPI_PCI, ACPI_PCIHP, PCI, Q35",include/hw/acpi/ich9.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2c7233eb103adbf567778270b69950dd7a776c72,773ab6cb16b34272dc7eb8171824924c38dbeb90,Philippe Mathieu-Daud,2021-10-07,"target/i386/sev: Prefix QMP errors with 'SEV'\n\nMultiple errors might be reported to the monitor,\nbetter to prefix the SEV ones so we can distinct them.\n\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nMessage-Id: <20211007161716.453984-6-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995630383491516,SEV,"target/i386/monitor.c, target/i386/sev.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9f885cac701325ebcbf7e4393aa9b21b32ec3c12,2c7233eb103adbf567778270b69950dd7a776c72,Philippe Mathieu-Daud,2021-10-07,"target/i386/monitor: Return QMP error when SEV is not enabled for guest\n\nIf the management layer tries to inject a secret, it gets an empty\nresponse in case the guest doesn't have SEV enabled, or the binary\nis built without SEV:\n\n  { ""execute"": ""sev-inject-launch-secret"",\n    ""arguments"": { ""packet-header"": ""mypkt"", ""secret"": ""mypass"", ""gpa"": 4294959104 }\n  }\n  {\n      ""return"": {\n      }\n  }\n\nMake it clearer by returning an error:\n\n  { ""execute"": ""sev-inject-launch-secret"",\n    ""arguments"": { ""packet-header"": ""mypkt"", ""secret"": ""mypass"", ""gpa"": 4294959104 }\n  }\n  {\n      ""error"": {\n          ""class"": ""GenericError"",\n          ""desc"": ""SEV not enabled for guest""\n      }\n  }\n\nNote: we will remove the sev_inject_launch_secret() stub in few commits,\n      so we don't bother to add error_setg() there.\n\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Connor Kuehl <ckuehl@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20211007161716.453984-7-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997065663337708,SEV,target/i386/monitor.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,719f874b83792951faa3fe67378eca4034bec3dc,c148a0572130ff485cd2249fbdd1a3260d5e10a4,Philippe Mathieu-Daud,2021-07-27,"target/mips: Check nanoMIPS DSP MULT[U] accumulator with Release 6\n\nPer the ""MIPS Architecture Extension: nanoMIPS32 DSP TRM"" rev 0.04,\nMULT and MULTU opcodes:\n\n  The value of ac selects an accumulator numbered from 0 to 3.\n  When ac=0, this refers to the original HI/LO register pair of the\n  MIPS32 architecture.\n\n  In Release 6 of the MIPS Architecture, accumulators are eliminated\n  from MIPS32.\n\nEnsure pre-Release 6 is restricted to HI/LO registers pair.\n\nFixes: 8b3698b2947 (""target/mips: Add emulation of DSP ASE for nanoMIPS - part 4"")\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9996378421783448,MIPS,target/mips/tcg/nanomips_translate.c.inc,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0e235827de65b8a0a5fa403ad9ed15d04f8b1a4f,d2db0f729da6946873b1352bfb7c12c2c9f91fb0,Philippe Mathieu-Daud,2021-10-13,"target/mips: Fix DEXTRV_S.H DSP opcode\n\nWhile for the DEXTR_S.H opcode:\n\n  ""The shift argument is provided in the instruction.""\n\nFor the DEXTRV_S.H opcode we have:\n\n  ""The five least-significant bits of register rs provide the\n   shift argument, interpreted as a five-bit unsigned integer;\n   the remaining bits in rs are ignored.""\n\nWhile 't1' contains the 'rs' register content (the shift value\nfor DEXTR_S.H), we need to load the value of 'rs' for DEXTRV_S.H.\nWe can directly use the v1_t TCG register which already contains\nthis shift value.\n\nFixes: b53371ed5d4 (""target-mips: Add ASE DSP accumulator instructions"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20211013215652.1764551-1-f4bug@amsat.org>",1,0.9996790885925292,TCG,target/mips/tcg/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e741aff0f43343d6d91242fee1072fee376d5cce,685db13a38f7599fabd353382ff65d3c244ea641,Igor Mammedov,2021-09-02,"tests: qtest: add qtest_has_accel() to check if tested binary supports accelerator\n\nCurrently it is not possible to create tests that have KVM as a hard\nrequirement on a host that doesn't support KVM for tested target\nbinary (modulo going through the trouble of compiling out\nthe offending test case).\n\nFollowing scenario makes test fail when it's run on non x86 host:\n  qemu-system-x86_64 -enable-kvm -M q35,kernel-irqchip=on -smp 1,maxcpus=288\n\nThis patch introduces qtest_has_accel() to let users check if accel is\navailable in advance and avoid executing non run-able test-cases.\n\nIt implements detection of TCG and KVM only, the rest could be\nadded later on, when we actually start testing them in qtest.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20210902113551.461632-3-imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9987927675247192,"KVM, TCG","meson.build, tests/qtest/libqos/libqtest.h, tests/qtest/libqtest.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6889eb2d431ae962e3e083b57bff47cd573cb1c4,19d20e910a586f503994acf590d5f41c314fa4c3,David Hildenbrand,2021-10-11,"libvhost-user: fix VHOST_USER_REM_MEM_REG skipping mmap_addr\n\nWe end up not copying the mmap_addr of all existing regions, resulting\nin a SEGFAULT once we actually try to map/access anything within our\nmemory regions.\n\nFixes: 875b9fd97b34 (""Support individual region unmap in libvhost-user"")\nCc: qemu-stable@nongnu.org\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Raphael Norwitz <raphael.norwitz@nutanix.com>\nCc: ""Marc-Andr Lureau"" <marcandre.lureau@redhat.com>\nCc: Stefan Hajnoczi <stefanha@redhat.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Coiby Xu <coiby.xu@gmail.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20211011201047.62587-1-david@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.999723732471466,VHOST_USER,subprojects/libvhost-user/libvhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0e464f7d993113119f0fd17b890831440734ce15,402378407dbdce79ce745a13f5c84815f929cfdd,Michael S. Tsirkin,2021-10-20,"pci: fix PCI resource reserve capability on BE\n\nPCI resource reserve capability should use LE format as all other PCI\nthings. If we don't then seabios won't boot:\n\n=== PCI new allocation pass #1 ===\nPCI: check devices\nPCI: QEMU resource reserve cap: size 10000000000000 type io\nPCI: secondary bus 1 size 10000000000000 type io\nPCI: secondary bus 1 size 00200000 type mem\nPCI: secondary bus 1 size 00200000 type prefmem\n=== PCI new allocation pass #2 ===\nPCI: out of I/O address space\n\nThis became more important since we started reserving IO by default,\npreviously no one noticed.\n\nFixes: e2a6290aab (""hw/pcie-root-port: Fix hotplug for PCI devices requiring IO"")\nCc: marcel.apfelbaum@gmail.com\nFixes: 226263fb5c (""hw/pci: add QEMU-specific PCI capability to the Generic PCI Express Root Port"")\nCc: zuban32s@gmail.com\nFixes: 6755e618d0 (""hw/pci: add PCI resource reserve capability to legacy PCI bridge"")\nCc: jing2.liu@linux.intel.com\nTested-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>",1,0.9997001886367798,PCI,hw/pci/pci_bridge.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,99abb72520cb27f2318908831abc6915e286158b,47432863ff1892870730e78630b5d0dbed7e72b2,Gavin Shan,2021-10-15,"hw/arm/virt: Don't create device-tree node for empty NUMA node\n\nThe empty NUMA node, where no memory resides, are allowed. For\nexample, the following command line specifies two empty NUMA nodes.\nWith this, QEMU fails to boot because of the conflicting device-tree\nnode names, as the following error message indicates.\n\n  /home/gavin/sandbox/qemu.main/build/qemu-system-aarch64 \\n  -accel kvm -machine virt,gic-version=host               \\n  -cpu host -smp 4,sockets=2,cores=2,threads=1            \\n  -m 1024M,slots=16,maxmem=64G                            \\n  -object memory-backend-ram,id=mem0,size=512M            \\n  -object memory-backend-ram,id=mem1,size=512M            \\n  -numa node,nodeid=0,cpus=0-1,memdev=mem0                \\n  -numa node,nodeid=1,cpus=2-3,memdev=mem1                \\n  -numa node,nodeid=2                                     \\n  -numa node,nodeid=3\n    :\n  qemu-system-aarch64: FDT: Failed to create subnode /memory@80000000: FDT_ERR_EXISTS\n\nAs specified by linux device-tree binding document, the device-tree\nnodes for these empty NUMA nodes shouldn't be generated. However,\nthe corresponding NUMA node IDs should be included in the distance\nmap. The memory hotplug through device-tree on ARM64 isn't existing\nso far and it's not necessary to require the user to provide a distance\nmap. Furthermore, the default distance map Linux generates may even be\nsufficient. So this simply skips populating the device-tree nodes for\nthese empty NUMA nodes to avoid the error, so that QEMU can be started\nsuccessfully.\n\nSigned-off-by: Gavin Shan <gshan@redhat.com>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nMessage-Id: <20211015124246.23073-1-gshan@redhat.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9995905756950378,ARM,hw/arm/boot.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,66c6b40aba13807506f20c7522f4930c9ffc76ce,252fcf36bba483493365e91c2f98569de29a43fd,Matheus Ferst,2021-10-14,"linux-user/ppc: Fix XER access in save/restore_user_regs\n\nWe should use cpu_read_xer/cpu_write_xer to save/restore the complete\nregister since some of its bits are in other fields of CPUPPCState. A\ntest is added to prevent future regressions.\n\nFixes: da91a00f191f (""target-ppc: Split out SO, OV, CA fields from XER"")\nSigned-off-by: Matheus Ferst <matheus.ferst@eldorado.org.br>\nMessage-Id: <20211014223234.127012-2-matheus.ferst@eldorado.org.br>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996484518051147,PPC,"linux-user/ppc/signal.c, tests/tcg/ppc64/Makefile.target, tests/tcg/ppc64le/Makefile.target, tests/tcg/ppc64le/signal_save_restore_xer.c",1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7974dc5900f7c128232782b0b39ccd40001bdb08,66c6b40aba13807506f20c7522f4930c9ffc76ce,Matheus Ferst,2021-10-14,"target/ppc: Fix XER access in gdbstub\n\nThe value of XER is split in multiple fields of CPUPPCState, like\nenv->xer and env->so. To get/set the whole register from gdb, we should\nuse cpu_read_xer/cpu_write_xer.\n\nFixes: da91a00f191f (""target-ppc: Split out SO, OV, CA fields from XER"")\nSigned-off-by: Matheus Ferst <matheus.ferst@eldorado.org.br>\nMessage-Id: <20211014223234.127012-3-matheus.ferst@eldorado.org.br>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9996739625930786,PPC,target/ppc/gdbstub.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,99173b679a346d6a92dbb685adecf5c419288c0c,239fec2497907f2adf7e6b9fdda4138e81bac619,BALATON Zoltan,2021-10-14,ppc/pegasos2: Warn when using VOF but no kernel is specified\n\nIssue a warning when using VOF (which is the default) but no -kernel\noption given to let users know that it will likely fail as the guest\nhas nothing to run. It is not a hard error because it may still be\nuseful to start the machine without further options for testing or\ninspecting it from monitor without actually booting it.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-Id: <a4ec9a900df772b91e9f69ca7a0799d8ae293e5a.1634241019.git.balaton@eik.bme.hu>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9995635151863098,VOF,hw/ppc/pegasos2.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd20cde50bb1a3b47fcba02432edc6141d9fb1d0,94cd1ffbe1a8b7f08df76e14d9226804cc21b56c,BALATON Zoltan,2021-10-14,ppc/pegasos2: Access MV64361 registers via their memory region\n\nInstead of relying on the mapped address of the MV64361 registers\naccess them via their memory region. This is not a problem at reset\ntime when these registers are mapped at the default address but the\nguest could change this later and then the RTAS calls accessing PCI\nconfig registers could fail. None of the guests actually do this so\nthis only avoids a theoretical problem not seen in practice.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-Id: <b6f768023603dc2c4d130720bcecdbea459b7668.1634241019.git.balaton@eik.bme.hu>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>,1,0.9996814727783204,"MV64361, PCI","hw/pci-host/mv64361.c, hw/ppc/pegasos2.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6f9e8515c106650fbba7222c8f66234c8546c025,cedf706956e7440653b18ac2c2a9452b8d710577,Thomas Huth,2021-10-19,"hw/ppc/ppc4xx_pci: Fix ppc4xx_pci_map_irq() for recent Linux kernels\n\nRecent Linux kernels are accessing the PCI device in slot 0 that\nrepresents the PCI host bridge. This causes ppc4xx_pci_map_irq()\nto return -1 which causes an assert() later:\n\n hw/pci/pci.c:262: pci_bus_change_irq_level: Assertion `irq_num >= 0' failed.\n\nThus we should allocate an IRQ line for the device in slot 0, too.\nTo avoid changes to the outside of ppc4xx_pci.c, we map it to\nthe internal IRQ number 4 which will then happily be ignored since\nppc440_bamboo.c does not wire it up.\n\nWith these changes it is now possible again to use recent Linux\nkernels for the bamboo board.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20211019091817.469003-1-thuth@redhat.com>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nTested-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>",1,0.9997289776802064,PCI,hw/ppc/ppc4xx_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b4b9a0e32f93c0700f46617524317b0580126592,4c127fdbe81d66e7cafed90908d0fd1f6f2a6cd0,Gerd Hoffmann,2021-10-22,"update seabios to master branch snapshot\n\nA new seabios release is planned for november.\n\nUpdate to a master branch snapshot, to\n  (a) increase test coverage of the changes.\n  (b) make the delta smaller when updating to the final\n      release during the qemu 6.2 freeze.\n\nMost noteworthy this fixes the nvme boot regression caused\nby adding namespace support to the qemu nvme emulation.\n\nseabios shortlog\n================\n\nAlex Martens via SeaBIOS (1):\n      nvme: fix missing newline on sq full print\n\nAlexander Graf (4):\n      nvme: Record maximum allowed request size\n      nvme: Allow to set PRP2\n      nvme: Pass large I/O requests as PRP lists\n      nvme: Split requests by maximum allowed size\n\nDaniel P. Berrang (1):\n      smbios: avoid integer overflow when adding SMBIOS type 0 table\n\nDavid Woodhouse (1):\n      nvme: Clean up nvme_cmd_readwrite()\n\nGerd Hoffmann (9):\n      output: add support for uppercase hex numbers\n      dsdt: add support for pnp ids as strings\n      usb: add boot prio support for mmio host adapters\n      usb/xhci: split xhci setup into generic and pci parts\n      usb/xhci: add support for mmio host adapters (via acpi).\n      usb boot: add xhci mmio example\n      nvme: improve namespace allocation\n      nvme: drive desc should not include the newline\n      Increase BUILD_MIN_BIOSTABLE for large roms\n\nMatt DeVillier (1):\n      usb.c: Fix devices using non-primary interface descriptor\n\nMike Banon (1):\n      Support booting USB drives with a write protect switch enabled\n\nSergei Trofimovich (1):\n      vgasrc: ignore .node.gnu.property (binutils-2.36 support)\n\nStefan Berger (4):\n      tcgbios: Fix details in log entries\n      Add implementations for sha256, sha384, and sha512\n      tcgbios: Use The proper sha function for each PCR bank\n      tcgbios: Disable platform hierarchy in case of failure\n\nStefan Ott via SeaBIOS (1):\n      usb-hid: Increase MAX_KBD_EVENT\n\nVolker Rmelin (2):\n      stacks: call check_irqs() in run_thread()\n      stacks: call check_irqs() after switch_next()\n\nweitaowang-oc@zhaoxin.com (1):\n      USB:Fix xHCI initail fail by using longer reset and CNR clear timeout value\n\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9913533329963684,"SMBIOS, USB",roms/seabios,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,44d3d8981402ce7eef435dd912f21fb84f1f7c4d,af531756d25541a1b3b3d9a14e72e7fedd941a2e,Igor Mammedov,2021-10-27,"qtest: fix 'expression is always false' build failure in qtest_has_accel()\n\nIf KVM is disabled or not present, qtest library build\nmay fail with:\n   libqtest.c: In function 'qtest_has_accel':\n      comparison of unsigned expression < 0 is always false\n      [-Werror=type-limits]\n         for (i = 0; i < ARRAY_SIZE(targets); i++) {\n\ndue to empty 'targets' array.\nFix it by making sure that CONFIG_KVM_TARGETS isn't empty.\n\nFixes: e741aff0f43343 (""tests: qtest: add qtest_has_accel() to check if tested binary supports accelerator"")\nReported-by: Jason Andryuk <jandryuk@gmail.com>\nSuggested-by: ""Michael S. Tsirkin"" <mst@redhat.com>\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20211027151012.2639284-1-imammedo@redhat.com>\nTested-by: Jason Andryuk <jandryuk@gmail.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999739944934845,KVM,meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,13a028336f2c05e7ff47dfdaf30dfac7f4883e80,8cb41fda78c7ebde0dd248c6afe1d336efb0de50,Ari Sundholm,2021-10-19,"block/file-posix: Fix return value translation for AIO discards\n\nAIO discards regressed as a result of the following commit:\n	0dfc7af2 block/file-posix: Optimize for macOS\n\nWhen trying to run blkdiscard within a Linux guest, the request would\nfail, with some errors in dmesg:\n\n---- [ snip ] ----\n[    4.010070] sd 2:0:0:0: [sda] tag#0 FAILED Result: hostbyte=DID_OK\ndriverbyte=DRIVER_SENSE\n[    4.011061] sd 2:0:0:0: [sda] tag#0 Sense Key : Aborted Command\n[current]\n[    4.011061] sd 2:0:0:0: [sda] tag#0 Add. Sense: I/O process\nterminated\n[    4.011061] sd 2:0:0:0: [sda] tag#0 CDB: Unmap/Read sub-channel 42\n00 00 00 00 00 00 00 18 00\n[    4.011061] blk_update_request: I/O error, dev sda, sector 0\n---- [ snip ] ----\n\nThis turns out to be a result of a flaw in changes to the error value\ntranslation logic in handle_aiocb_discard(). The default return value\nmay be left untranslated in some configurations, and the wrong variable\nis used in one translation.\n\nFix both issues.\n\nFixes: 0dfc7af2b28 (""block/file-posix: Optimize for macOS"")\nCc: qemu-stable@nongnu.org\nSigned-off-by: Ari Sundholm <ari@tuxera.com>\nSigned-off-by: Emil Karlson <jkarlson@tuxera.com>\nReviewed-by: Akihiko Odaki <akihiko.odaki@gmail.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-Id: <20211019110954.4170931-1-ari@tuxera.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9996833801269532,LED,block/file-posix.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,58d7d4c7869cb3addb0714aa7b6bd88f2b6b7edf,7c8d295b274f18f582b931c59dba0cba94f6ca7a,Gerd Hoffmann,2021-09-06,"usb-storage: tag usb_msd_csw as packed struct\n\nWithout this the struct has the wrong size: sizeof() evaluates\nto 16 instead of 13.  In most cases the bug is hidden by the\nfact that guests submits a buffer which is exactly 13 bytes\nlong, so the padding added by the compiler is simply ignored.\n\nBut sometimes guests submit a larger buffer and expect a short\ntransfer, which does not work properly with the wrong struct\nsize.\n\nCc: vintagepc404@protonmail.com\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\nFixes: a917d384ac0 (""SCSI TCQ support."")\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20210906045523.1259629-1-kraxel@redhat.com>",1,0.8848855495452881,SCSI,include/hw/usb/msd.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a00e37a4be88a043fea3e8be3ee3a85f6c4939cf,b8312e04c8116b7787c54eb6c3cfee712b74f2f3,Alex Benne,2021-10-26,chardev: don't exit() straight away on C-a x\n\nWhile there are a number of uses in the code-base of the exit(0)\npattern it gets in the way of clean exit which can do all of it's\nhouse-keeping. In particular it was reported that you can crash\nplugins this way because TCG can still be running on other threads\nwhen the atexit callback is called.\n\nUse qmp_quit() instead which takes care of some housekeeping before\ntriggering the shutdown.\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReported-by: Lukas Jnger <lukas.junger@greensocs.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nAcked-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-Id: <20211026102234.3961636-19-alex.bennee@linaro.org>,1,0.9923157691955566,TCG,"chardev/char-mux.c, stubs/meson.build, stubs/qmp-quit.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1c282da3958ef52bd401ece181280cd7a203253d,63a0eb69873f94bdae8a145f70b69ebd2572ffad,Philippe Mathieu-Daud,2021-05-21,"meson: Fix 'interpretor' typo\n\nFix a typo from commit fa2f7b0b9b7 (""meson: Warn when TCI is\nselected but TCG backend is available"").\n\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20210521103423.2780345-1-philmd@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.988856852054596,TCG,meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ef149763a8fcce70b85dfda27cc1222ecf765750,a0b9c5f75c05c12d30328a305377383652e62e63,Greg Kurz,2021-11-09,"rcu: Introduce force_rcu notifier\n\nThe drain_rcu_call() function can be blocked as long as an RCU reader\nstays in a read-side critical section. This is typically what happens\nwhen a TCG vCPU is executing a busy loop. It can deadlock the QEMU\nmonitor as reported in https://gitlab.com/qemu-project/qemu/-/issues/650 .\n\nThis can be avoided by allowing drain_rcu_call() to enforce an RCU grace\nperiod. Since each reader might need to do specific actions to end a\nread-side critical section, do it with notifiers.\n\nPrepare ground for this by adding a notifier list to the RCU reader\nstruct and use it in wait_for_readers() if drain_rcu_call() is in\nprogress. An API is added for readers to register their notifiers.\n\nThis is largely based on a draft from Paolo Bonzini.\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20211109183523.47726-2-groug@kaod.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9992769360542296,TCG,"include/qemu/rcu.h, util/rcu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dd47a8f654d84f666b235ce8891e17ee76f9be8b,ef149763a8fcce70b85dfda27cc1222ecf765750,Greg Kurz,2021-11-09,"accel/tcg: Register a force_rcu notifier\n\nA TCG vCPU doing a busy loop systematicaly hangs the QEMU monitor\nif the user passes 'device_add' without argument. This is because\ndrain_cpu_all() which is called from qmp_device_add() cannot return\nif readers don't exit read-side critical sections. That is typically\nwhat busy-looping TCG vCPUs do:\n\nint cpu_exec(CPUState *cpu)\n{\n[...]\n    rcu_read_lock();\n[...]\n    while (!cpu_handle_exception(cpu, &ret)) {\n        // Busy loop keeps vCPU here\n    }\n[...]\n    rcu_read_unlock();\n\n    return ret;\n}\n\nFor MTTCG, have all vCPU threads register a force_rcu notifier that will\nkick them out of the loop using async_run_on_cpu(). The notifier is called\nwith the rcu_registry_lock mutex held, using async_run_on_cpu() ensures\nthere are no deadlocks.\n\nFor RR, a single thread runs all vCPUs. Just register a single notifier\nthat kicks the current vCPU to the next one.\n\nFor MTTCG:\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\n\nFor RR:\nSuggested-by: Richard Henderson <richard.henderson@linaro.org>\n\nFixes: 7bed89958bfb (""device_core: use drain_call_rcu in in qmp_device_add"")\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/650\nSigned-off-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20211109183523.47726-3-groug@kaod.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9983458518981934,TCG,"accel/tcg/tcg-accel-ops-mttcg.c, accel/tcg/tcg-accel-ops-rr.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd989ed44f847cba20b46a743770c152e188f365,dd47a8f654d84f666b235ce8891e17ee76f9be8b,Paolo Bonzini,2021-11-10,"numa: avoid crash with SGX and ""info numa""\n\nAdd the MEMORY_DEVICE_INFO_KIND_SGX_EPC case, so that enclave\nmemory is included in the output of ""info numa"" instead of crashing\nthe monitor.\n\nFixes: a7c565a941 (""sgx-epc: Add the fill_device_info() callback support"", 2021-09-30)\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9995866417884828,SGX,hw/core/numa.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d58f01733b94845b0c2232018a2bedb6a2347ec5,8d30f0473e0beaf135f81984b3af90c23a228dc2,Miroslav Rezanina,2021-10-27,"tcg/s390x: Fix tcg_out_vec_op argument type\n\nNewly defined tcg_out_vec_op (34ef767609 tcg/s390x: Add host vector framework)\nfor s390x uses pointer argument definition.\nThis fails on gcc 11 as original declaration uses array argument:\n\nIn file included from ../tcg/tcg.c:430:\n/builddir/build/BUILD/qemu-6.1.50/tcg/s390x/tcg-target.c.inc:2702:42: error: argument 5 of type 'const TCGArg *' {aka 'const long unsigned int *'} declared as a pointer [-Werror=array-parameter=]\n 2702 |                            const TCGArg *args, const int *const_args)\n      |                            ~~~~~~~~~~~~~~^~~~\n../tcg/tcg.c:121:41: note: previously declared as an array 'const TCGArg[16]' {aka 'const long unsigned int[16]'}\n  121 |                            const TCGArg args[TCG_MAX_OP_ARGS],\n      |                            ~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~\nIn file included from ../tcg/tcg.c:430:\n/builddir/build/BUILD/qemu-6.1.50/tcg/s390x/tcg-target.c.inc:2702:59: error: argument 6 of type 'const int *' declared as a pointer [-Werror=array-parameter=]\n 2702 |                            const TCGArg *args, const int *const_args)\n      |                                                ~~~~~~~~~~~^~~~~~~~~~\n../tcg/tcg.c:122:38: note: previously declared as an array 'const int[16]'\n  122 |                            const int const_args[TCG_MAX_OP_ARGS]);\n      |                            ~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nFixing argument type to pass build.\n\nSigned-off-by: Miroslav Rezanina <mrezanin@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nAcked-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20211027085629.240704-1-mrezanin@redhat.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9995334148406982,TCG,tcg/s390x/tcg-target.c.inc,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e5cba10ee16566a479cebec3890e91df91e33ab5,046164155abe7594ad1d8729dbe150e95badeaed,Peter Maydell,2021-09-30,"hw/intc/arm_gicv3: Support multiple redistributor regions\n\nOur GICv3 QOM interface includes an array property\nredist-region-count which allows board models to specify that the\nregistributor registers are not in a single contiguous range, but\nsplit into multiple pieces.  We implemented this for KVM, but\ncurrently the TCG GICv3 model insists that there is only one region.\nYou can see the limit being hit with a setup like:\n  qemu-system-aarch64 -machine virt,gic-version=3 -smp 124\n\nAdd support for split regions to the TCG GICv3.  To do this we switch\nfrom allocating a simple array of MemoryRegions to an array of\nGICv3RedistRegion structs so that we can use the GICv3RedistRegion as\nthe opaque pointer in the MemoryRegion read/write callbacks.  Each\nGICv3RedistRegion contains the MemoryRegion, a backpointer allowing\nthe read/write callback to get hold of the GICv3State, and an index\nwhich allows us to calculate which CPU's redistributor is being\naccessed.\n\nNote that arm_gicv3_kvm always passes in NULL as the ops argument\nto gicv3_init_irqs_and_mmio(), so the only MemoryRegion read/write\ncallbacks we need to update to handle this new scheme are the\ngicv3_redist_read/write functions used by the emulated GICv3.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9935418367385864,"KVM, TCG","hw/intc/arm_gicv3.c, hw/intc/arm_gicv3_common.c, hw/intc/arm_gicv3_kvm.c, hw/intc/arm_gicv3_redist.c, include/hw/intc/arm_gicv3_common.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ebd654aabc1a9128b2ea390faa23c2fb6b4b13b8,81c9b06ea0bf7d5e0c0b00aae41df9060c063cfa,Alex Benne,2021-11-15,tests/vm: don't build using TCG by default\n\nWhile it is useful to run these images using TCG their performance\nwill not be anything like the native guests. Don't do it by default.\n\nFixes: https://gitlab.com/qemu-project/qemu/-/issues/393\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Willian Rampazzo <willianr@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20211115142915.3797652-4-alex.bennee@linaro.org>,1,0.9996682405471802,TCG,tests/vm/Makefile.include,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a0190bf15044d2410e84f9a12aeac9ed56bd58b0,5a0294a21c7677498bf40a447cc4a417d51a3cf4,Dov Murik,2021-11-11,"target/i386/sev: Fail when invalid hashes table area detected\n\nCommit cff03145ed3c (""sev/i386: Introduce sev_add_kernel_loader_hashes\nfor measured linux boot"", 2021-09-30) introduced measured direct boot\nwith -kernel, using an OVMF-designated hashes table which QEMU fills.\n\nHowever, no checks are performed on the validity of the hashes area\ndesignated by OVMF.  Specifically, if OVMF publishes the\nSEV_HASH_TABLE_RV_GUID entry but it is filled with zeroes, this will\ncause QEMU to write the hashes entries over the first page of the\nguest's memory (GPA 0).\n\nAdd validity checks to the published area.  If the hashes table area's\nbase address is zero, or its size is too small to fit the aligned hashes\ntable, display an error and stop the guest launch.  In such case, the\nfollowing error will be displayed:\n\n    qemu-system-x86_64: SEV: guest firmware hashes table area is invalid (base=0x0 size=0x0)\n\nSigned-off-by: Dov Murik <dovmurik@linux.ibm.com>\nReported-by: Brijesh Singh <brijesh.singh@amd.com>\nAcked-by: Brijesh Singh <brijesh.singh@amd.com>\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>",1,0.9996591806411744,SEV,target/i386/sev.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0cc4965049d9792ffede8fc371b58193d6ecbb02,6a23f8190fe953546ce50142d037588fb972f8ce,nia,2021-10-13,"nvmm: Fix support for stable version\n\nNVMM user version 1 is the version being shipped with netbsd-9,\nwhich is the most recent stable branch of NetBSD. This makes it\npossible to use the NVMM accelerator on the most recent NetBSD\nrelease, 9.2, which lacks nvmm_cpu_stop.\n\n(CC'ing maintainers)\n\nSigned-off-by: Nia Alarie <nia@NetBSD.org>\nReviewed-by: Kamil Rytarowski <kamil@netbsd.org>\nMessage-Id: <YWblCe2J8GwCaV9U@homeworld.netbsd.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996106028556824,NVMM,"meson.build, target/i386/nvmm/nvmm-all.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3f26c9757726918015d351fafc436b2888689985,0cc4965049d9792ffede8fc371b58193d6ecbb02,Mark Cave-Ayland,2021-11-18,esp: ensure that async_len is reset to 0 during esp_hard_reset()\n\nIf a reset command is sent after data has been transferred into the SCSI buffer\nensure that async_len is reset to 0. Otherwise a subsequent TI command assumes\nthe SCSI buffer contains data to be transferred to the device causing it to\ndereference the stale async_buf pointer.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nFixes: https://gitlab.com/qemu-project/qemu/-/issues/724\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20211118100327.29061-2-mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.999671220779419,SCSI,hw/scsi/esp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c29cd47e82df0bc7385cdd49a158d838314daa9e,8627edfb3f1fca24a96a0954148885c3241c10f8,Mark Cave-Ayland,2021-11-18,"escc: always set STATUS_TXEMPTY in R_STATUS on device reset\n\nThe ""Transmit Interrupts and Transmit Buffer Empty Bit"" section of the ESCC\ndatasheet states the following about the STATUS_TXEMPTY bit: ""After a hardware\nreset (including a hardware reset by software), or a channel reset, this bit\nis set to 1"".\n\nUpdate escc_reset() to set the STATUS_TXEMPTY bit in the R_STATUS register\non device reset as described which fixes a regression whereby the Sun PROM\nchecks this bit early on startup and gets stuck in an infinite loop if it is\nnot set.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nMessage-Id: <20211118181835.18497-2-mark.cave-ayland@ilande.co.uk>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9991255402565002,ESCC,hw/char/escc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,319e89cdc32096432b578152a47d0d156033b711,c29cd47e82df0bc7385cdd49a158d838314daa9e,Mark Cave-Ayland,2021-11-18,"escc: update the R_SPEC register SPEC_ALLSENT bit when writing to W_TXCTRL1\n\nThe ESCC datasheet states that SPEC_ALLSENT is always set in sync mode and set\nin async mode once all characters have cleared the transmitter. Since writes to\nSERIAL_DATA use a synchronous chardev API, the guest can never see the state when\ntransmission is in progress so it is possible to set SPEC_ALLSENT in the\nR_SPEC register unconditionally.\n\nThis fixes a hang when using the Sun PROM as it attempts to enumerate the\nonboard serial devices, and a similar hang in OpenBSD SPARC32 where in both cases\nthe boot process will not proceed until SPEC_ALLSENT has been set after writing\nto W_TXCTRL1.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nMessage-Id: <20211118181835.18497-3-mark.cave-ayland@ilande.co.uk>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9983079433441162,"ESCC, SERIAL, SPARC",hw/char/escc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9323f892b39d133eb69b301484bf7b2f3f49737d,7abba7c638ab809e626f379617cb8590a733eabf,Laurent Vivier,2021-11-18,"failover: fix unplug pending detection\n\nFailover needs to detect the end of the PCI unplug to start migration\nafter the VFIO card has been unplugged.\n\nTo do that, a flag is set in pcie_cap_slot_unplug_request_cb() and reset in\npcie_unplug_device().\n\nBut since\n    17858a169508 (""hw/acpi/ich9: Set ACPI PCI hot-plug as default on Q35"")\nwe have switched to ACPI unplug and these functions are not called anymore\nand the flag not set. So failover migration is not able to detect if card\nis really unplugged and acts as it's done as soon as it's started. So it\ndoesn't wait the end of the unplug to start the migration. We don't see any\nproblem when we test that because ACPI unplug is faster than PCIe native\nhotplug and when the migration really starts the unplug operation is\nalready done.\n\nSee c000a9bd06ea (""pci: mark device having guest unplug request pending"")\n    a99c4da9fc2a (""pci: mark devices partially unplugged"")\n\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nReviewed-by: Ani Sinha <ani@anisinha.ca>\nMessage-Id: <20211118133225.324937-4-lvivier@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995157718658448,"ACPI, PCI, Q35, VFIO",hw/acpi/pcihp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,90feffad2aafe856ed2af75313b2c1669ba671e9,b74d7c0e50ac4bde85c0ff629bfc23cdf378e62c,Peter Maydell,2021-11-26,"hw/intc/arm_gicv3: fix handling of LPIs in list registers\n\nIt is valid for an OS to put virtual interrupt ID values into the\nlist registers ICH_LR<n> which are greater than 1023.  This\ncorresponds to (for example) KVM using the in-kernel emulated ITS to\ngive a (nested) guest an ITS.  LPIs are delivered by the L1 kernel to\nthe L2 guest via the list registers in the same way as non-LPI\ninterrupts.\n\nQEMU's code for handling writes to ICV_IARn (which happen when the L2\nguest acknowledges an interrupt) and to ICV_EOIRn (which happen at\nthe end of the interrupt) did not consider LPIs, so it would\nincorrectly treat interrupt IDs above 1023 as invalid.  Fix this by\nusing the correct condition, which is gicv3_intid_is_special().\n\nNote that the condition in icv_dir_write() is correct -- LPIs\nare not valid there and so we want to ignore both ""special"" ID\nvalues and LPIs.\n\n(In the pseudocode this logic is in:\n - VirtualReadIAR0(), VirtualReadIAR1(), which call IsSpecial()\n - VirtualWriteEOIR0(), VirtualWriteEOIR1(), which call\n     VirtualIdentifierValid(data, TRUE) meaning ""LPIs OK""\n - VirtualWriteDIR(), which calls VirtualIdentifierValid(data, FALSE)\n     meaning ""LPIs not OK"")\n\nThis bug doesn't seem to have any visible effect on Linux L2 guests\nmost of the time, because the two bugs cancel each other out: we\nneither mark the interrupt active nor deactivate it.  However it does\nmean that the L2 vCPU priority while the LPI handler is running will\nnot be correct, so the interrupt handler could be unexpectedly\ninterrupted by a different interrupt.\n\n(NB: this has nothing to do with using QEMU's emulated ITS.)\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Marc Zyngier <maz@kernel.org>",1,0.999722182750702,KVM,hw/intc/arm_gicv3_cpuif.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bacf58ca18f06f0b464466bf8c19945f19791feb,0192d6677c383d812fb23f572fda4e449e89d3f1,Daniella Lee,2021-11-26,"Fix bad overflow check in hw/pci/pcie.c\n\nOrginal qemu commit hash:14d02cfbe4adaeebe7cb833a8cc71191352cf03b\n\nIn function pcie_add_capability, an assert contains the\n""offset < offset + size"" expression.\nBoth variable offset and variable size are uint16_t,\nthe comparison is always true due to type promotion.\nThe next expression may be the same.\n\nIt might be like this:\nThread 1 ""qemu-system-x86"" hit Breakpoint 1, pcie_add_capability (\n    dev=0x555557ce5f10, cap_id=1, cap_ver=2 '\002', offset=256, size=72)\n    at ../hw/pci/pcie.c:930\n930	{\n(gdb) n\n931	    assert(offset >= PCI_CONFIG_SPACE_SIZE);\n(gdb) n\n932	    assert(offset < offset + size);\n(gdb) p offset\n$1 = 256\n(gdb) p offset < offset + size\n$2 = 1\n(gdb) set offset=65533\n(gdb) p offset < offset + size\n$3 = 1\n(gdb) p offset < (uint16_t)(offset + size)\n$4 = 0\n\nSigned-off-by: Daniella Lee <daniellalee111@gmail.com>\nMessage-Id: <20211126061324.47331-1-daniellalee111@gmail.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997209906578064,PCI,hw/pci/pcie.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1ab95af033a419e7a64e2d58e67dd96b20af5233,b154791e7b6d4ca5cdcd54443484d97360bd7ad2,Philippe Mathieu-Daud,2021-11-24,"hw/block/fdc: Kludge missing floppy drive to fix CVE-2021-20196\n\nGuest might select another drive on the bus by setting the\nDRIVE_SEL bit of the DIGITAL OUTPUT REGISTER (DOR).\nThe current controller model doesn't expect a BlockBackend\nto be NULL. A simple way to fix CVE-2021-20196 is to create\nan empty BlockBackend when it is missing. All further\naccesses will be safely handled, and the controller state\nmachines keep behaving correctly.\n\nCc: qemu-stable@nongnu.org\nFixes: CVE-2021-20196\nReported-by: Gaoning Pan (Ant Security Light-Year Lab) <pgn@zju.edu.cn>\nReviewed-by: Darren Kenny <darren.kenny@oracle.com>\nReviewed-by: Hanna Reitz <hreitz@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-id: 20211124161536.631563-3-philmd@redhat.com\nBugLink: https://bugs.launchpad.net/qemu/+bug/1912780\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/338\nReviewed-by: Darren Kenny <darren.kenny@oracle.com>\nReviewed-by: Hanna Reitz <hreitz@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nSigned-off-by: John Snow <jsnow@redhat.com>",1,0.999745786190033,REGISTER,hw/block/fdc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a9697d0947798ec9cc8387308e1d353123639ec3,e1e3d3211815c407cacb845fc0f6c2c328b2e684,Thomas Huth,2021-12-01,"tests/qtest: Run the PPC 32-bit tests with the 64-bit target binary, too\n\nThe ppc64 target is a superset of the 32-bit target, so we should\ninclude the tests here, too. This used to be done in the past already,\nbut it got lost during the conversion to meson.\n\nFixes: a2ce7dbd91 (""meson: convert tests/qtest to meson"")\nMessage-Id: <20211201104347.51922-2-thuth@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9990047812461852,PPC,tests/qtest/meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,69a80f14ce5ce7461734698cdb919616ee9459ff,e630bc7ec9dda656a452ed28cac4d1e9ed605d71,Jean-Philippe Brucker,2021-12-16,tests/qtest/bios-tables-test: Only run VIOT test on TCG\n\nThe VIOT test does not always work under KVM on the virt machine:\n\n  PASS 5 qtest-aarch64/bios-tables-test /aarch64/acpi/virt/oem-fields\n  qemu-system-aarch64: kvm_init_vcpu: kvm_arch_init_vcpu failed (0): Invalid argument\n  Broken pipe\n\nMake it TCG only.\n\nReported-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Jean-Philippe Brucker <jean-philippe@linaro.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>,1,0.9000619649887085,"KVM, TCG",tests/qtest/bios-tables-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b2892a2b9d45d25b909108ca633d19f9d8d673f5,2c092950a4766307e3d14f3764f7610d551515b9,Matthew Rosato,2021-12-03,"s390x/pci: use a reserved ID for the default PCI group\n\nThe current default PCI group being used can technically collide with a\nreal group ID passed from a hostdev.  Let's instead use a group ID that\ncomes from a special pool (0xF0-0xFF) that is architected to be reserved\nfor simulated devices.\n\nFixes: 28dc86a072 (""s390x/pci: use a PCI Group structure"")\nSigned-off-by: Matthew Rosato <mjrosato@linux.ibm.com>\nReviewed-by: Eric Farman <farman@linux.ibm.com>\nReviewed-by: Pierre Morel <pmorel@linux.ibm.com>\nMessage-Id: <20211203142706.427279-2-mjrosato@linux.ibm.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9997096657752992,PCI,include/hw/s390x/s390-pci-bus.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,df7ce0a94d9283f0656b4bc0f21566973ff649a3,b2892a2b9d45d25b909108ca633d19f9d8d673f5,Matthew Rosato,2021-12-03,"s390x/pci: don't use hard-coded dma range in reg_ioat\n\nInstead use the values from clp info, they will either be the hard-coded\nvalues or what came from the host driver via vfio.\n\nFixes: 9670ee752727 (""s390x/pci: use a PCI Function structure"")\nSigned-off-by: Matthew Rosato <mjrosato@linux.ibm.com>\nReviewed-by: Eric Farman <farman@linux.ibm.com>\nReviewed-by: Pierre Morel <pmorel@linux.ibm.com>\nMessage-Id: <20211203142706.427279-3-mjrosato@linux.ibm.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9997043013572692,PCI,hw/s390x/s390-pci-inst.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb6d6a3e6aa1226b67fd218953dcb3866c3a6845,df7ce0a94d9283f0656b4bc0f21566973ff649a3,Matthew Rosato,2021-12-03,"s390x/pci: use the passthrough measurement update interval\n\nWe may have gotten a measurement update interval from the underlying host\nvia vfio -- Use it to set the interval via which we update the function\nmeasurement block.\n\nFixes: 28dc86a072 (""s390x/pci: use a PCI Group structure"")\nSigned-off-by: Matthew Rosato <mjrosato@linux.ibm.com>\nReviewed-by: Eric Farman <farman@linux.ibm.com>\nReviewed-by: Pierre Morel <pmorel@linux.ibm.com>\nMessage-Id: <20211203142706.427279-4-mjrosato@linux.ibm.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.999230146408081,PCI,hw/s390x/s390-pci-inst.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ef80a708b57ddc8f605d9982bfaa0536e720ed9f,9193eaa901c54dbff4a91ea0b12a99e0135dbca1,Daniel Henrique Barboza,2021-12-17,"ivshmem.c: change endianness to LITTLE_ENDIAN\n\nThe ivshmem device, as with most PCI devices, uses little endian byte\norder. However, the endianness of its mmio_ops is marked as\nDEVICE_NATIVE_ENDIAN. This presents not only the usual problems with big\nendian hosts but also with PowerPC little endian hosts as well, since\nthe Power architecture in QEMU uses big endian hardware (XIVE controller,\nPCI Host Bridges, etc) even if the host is in little endian byte order.\n\nAs it is today, the IVPosition of the device will be byte swapped when\nrunning in Power BE and LE. This can be seen by changing the existing\nqtest 'ivshmem-test' to run in ppc64 hosts and printing the IVPOSITION\nregs in test_ivshmem_server() right after the VM ids assert. For x86_64\nthe VM id values read are '0' and '1', for ppc64 (tested in a Power8\nRHEL 7.9 BE server) and ppc64le (tested in a Power9 RHEL 8.6 LE server)\nthe ids will be '0' and '0x1000000'.\n\nChange this device to LITTLE_ENDIAN fixes the issue for Power hosts of\nboth endianness, and every other big-endian architecture that might use\nthis device, without impacting x86 users.\n\nFixes: cb06608e17f8 (""ivshmem: convert to memory API"")\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/168\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nMessage-Id: <20211124092948.335389-2-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.8293076157569885,"PCI, XIVE",hw/misc/ivshmem.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ebe6c3fab8614a26130f7c72dd35ecede11a0f71,58c49ef5c4c367d13c51e7d488611f884fdd6ac8,Daniel Henrique Barboza,2021-12-17,"ppc/pnv.c: add a friendly warning when accel=kvm is used\n\nIf one tries to use -machine powernv9,accel=kvm in a Power9 host, a\ncryptic error will be shown:\n\nqemu-system-ppc64: Register sync failed... If you're using kvm-hv.ko, only ""-cpu host"" is possible\nqemu-system-ppc64: kvm_init_vcpu: kvm_arch_init_vcpu failed (0): Invalid argument\n\nAppending '-cpu host' will throw another error:\n\nqemu-system-ppc64: invalid chip model 'host' for powernv9 machine\n\nThe root cause is that in IBM PowerPC we have different specs for the bare-metal\nand the guests. The bare-metal follows OPAL, the guests follow PAPR. The kernel\nKVM modules presented in the ppc kernels implements PAPR. This means that we\ncan't use KVM accel when using the powernv machine, which is the emulation of\nthe bare-metal host.\n\nAll that said, let's give a more informative error in this case.\n\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nMessage-Id: <20211130133153.444601-2-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.999637484550476,KVM,hw/ppc/pnv.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,201fc774e0e1cc76ec23b595968004a7b14fb6e8,6518c0ede9f8b12c7eb4ab5e843bcacb7198652f,Victor Colombo,2021-12-17,"target/ppc: Fix xs{max, min}[cj]dp to use VSX registers\n\nPPC instruction xsmaxcdp, xsmincdp, xsmaxjdp, and xsminjdp are using\nvector registers when they should be using VSX ones. This happens\nbecause the instructions are using GEN_VSX_HELPER_R3, which adds 32\nto the register numbers, effectively making them vector registers.\n\nThis patch fixes it by changing these instructions to use\nGEN_VSX_HELPER_X3.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Victor Colombo <victor.colombo@eldorado.org.br>\nMessage-Id: <20211213120958.24443-2-victor.colombo@eldorado.org.br>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.999595820903778,PPC,"target/ppc/fpu_helper.c, target/ppc/helper.h, target/ppc/translate/vsx-impl.c.inc",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1f26c75191178a9c652bc98afbefa00c0d4fb486,7aeac354a6925afcec684e985d56e612f9e81b2d,Daniel Henrique Barboza,2021-12-17,"PPC64/TCG: Implement 'rfebb' instruction\n\nAn Event-Based Branch (EBB) allows applications to change the NIA when a\nevent-based exception occurs. Event-based exceptions are enabled by\nsetting the Branch Event Status and Control Register (BESCR). If the\nevent-based exception is enabled when the exception occurs, an EBB\nhappens.\n\nThe following operations happens during an EBB:\n\n- Global Enable (GE) bit of BESCR is set to 0;\n- bits 0-61 of the Event-Based Branch Return Register (EBBRR) are set\nto the the effective address of the NIA that would have executed if the EBB\ndidn't happen;\n- Instruction fetch and execution will continue in the effective address\ncontained in the Event-Based Branch Handler Register (EBBHR).\n\nThe EBB Handler will process the event and then execute the Return From\nEvent-Based Branch (rfebb) instruction. rfebb sets BESCR_GE and then\nredirects execution to the address pointed in EBBRR. This process is\ndescribed in the PowerISA v3.1, Book II, Chapter 6 [1].\n\nThis patch implements the rfebb instruction. Descriptions of all\nrelevant BESCR bits are also added - this patch is only using BESCR_GE,\nbut the next patches will use the remaining bits.\n\n[1] https://wiki.raptorcs.com/w/images/f/f5/PowerISA_public.v3.1.pdf\n\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Matheus Ferst <matheus.ferst@eldorado.org.br>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20211201151734.654994-9-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9996160268783568,"PPC, PPC64, TCG","target/ppc/cpu.h, target/ppc/excp_helper.c, target/ppc/helper.h, target/ppc/insn32.decode, target/ppc/translate.c, target/ppc/translate/branch-impl.c.inc",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4da270be1c4ac32c0e60a364e3173b57b1f79dba,d8ff892dc23e9921db49d2053036240675bb50f8,Paolo Bonzini,2021-11-09,"configure: unify x86_64 and x32\n\nThe only difference between the two, as far as either configure or\nMeson are concerned, is in the multilib flags passed to the compiler.\n\nFor QEMU, this fixes the handling of TYPE_OLDDEVT in\ninclude/exec/user/thunk.h and enables testing of dirty ring buffer,\nbecause both are using HOST_X86_64.\n\nFor tests/tcg, this means that on a hypothetical x32 host the\ncross compiler will not be used to build the tests.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.7824026942253113,X86_64,"configure, meson.build",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,97a2b074d150918a7a3a4065b946a52d4d0be8a3,7a3ce79c062117501e89a10a7768051b8b52d562,Philippe Mathieu-Daud,2021-11-19,"hw/scsi/megasas: Fails command if SGL buffer overflows\n\nIf we detect an overflow on the SGL buffer, do not\nkeep processing the command: discard it. TARGET_FAILURE\nsense code will be returned (MFI_STAT_SCSI_DONE_WITH_ERROR).\n\nReported-by: Alexander Bulekov <alxndr@bu.edu>\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/521\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Darren Kenny <darren.kenny@oracle.com>\nMessage-Id: <20211119201141.532377-2-philmd@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999707281589508,SCSI,hw/scsi/megasas.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5a3a2eb3b1096a52580c1b8c3eb0739714e7d941,08c34c642dbcb5f7d9d94b07b471f80e333541cc,Philippe Mathieu-Daud,2021-12-01,"hw/i386/vmmouse: Require 'i8042' property to be set\n\nIf the 'i8042' property is not set, mouse events handled by\nvmmouse_mouse_event() end calling i8042_isa_mouse_fake_event()\nwith a NULL argument, resulting in ps2_mouse_fake_event() being\ncalled with invalid PS2MouseState pointer. Fix by requiring\nthe 'i8042' property to be always set:\n\n  $ qemu-system-x86_64 -device vmmouse\n  qemu-system-x86_64: -device vmmouse: 'i8042' link is not set\n\nFixes: 91c9e09147b (""vmmouse: convert to qdev"")\nReported-by: Calvin Buckley <calvin@cmpct.info>\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/752\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20211201223253.36080-1-f4bug@amsat.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996474981307985,PS2,hw/i386/vmmouse.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,05bfd4db08608bc4c22de729780c1f74612fbc0e,f18155a207dbc6a23f06a4af667280743819c31e,Richard Henderson,2021-12-13,"target/hppa: Fix deposit assert from trans_shrpw_imm\n\nBecause sa may be 0,\n\n    tcg_gen_deposit_reg(dest, t0, cpu_gr[a->r1], 32 - sa, sa);\n\nmay attempt a zero-width deposit at bit 32, which will assert\nfor TARGET_REGISTER_BITS == 32.\n\nUse the newer extract2 when possible, which itself includes the\nrotri special case; otherwise mirror the code from trans_shrpw_sar,\nusing concat and shri.\n\nCc: qemu-stable@nongnu.org\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/635\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.99964439868927,REGISTER,target/hppa/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,909c476d991185720a15c36fa7fe9159ccb06ab2,fd0f79d715420eb3eac1de738983046cefc5df7d,Richard Henderson,2021-12-30,"tests/tcg: Unconditionally use 90 second timeout\n\nThe cross-i386-tci test has timeouts because we're no longer\napplying the timeout that we desired.  Hack around it.\n\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nFixes: 23a77b2d18b8 (""build-system: clean up TCG/TCI configury"")\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9963945746421814,TCG,tests/tcg/Makefile.target,1,build system,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cbd8f17d16c890e6d9316627e2d4def6f965988d,56964585a051daf2f27a6e81adf87f58952b783a,Cdric Le Goater,2022-01-04,"ppc/ppc405: Restore TCR and STR write handlers\n\nThe 405 timers were broken when booke support was added. Assumption\nwas made that the register numbers were the same but it's not :\n\n    SPR_BOOKE_TSR         (0x150)\n    SPR_BOOKE_TCR         (0x154)\n    SPR_40x_TSR           (0x3D8)\n    SPR_40x_TCR           (0x3DA)\n\nCc: Christophe Leroy <christophe.leroy@c-s.fr>\nFixes: ddd1055b07fd (""PPC: booke timers"")\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20211222064025.1541490-5-clg@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20220103063441.3424853-6-clg@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.999647617340088,PPC,"hw/ppc/ppc.c, hw/ppc/trace-events, target/ppc/cpu.h, target/ppc/cpu_init.c, target/ppc/helper.h, target/ppc/spr_tcg.h, target/ppc/timebase_helper.c, target/ppc/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c316203c1ee6f9a6c301a0a6767d27cbb6a65c46,b1273a5e13b7245e93f777c3eaa1c1477157b3de,Cdric Le Goater,2022-01-04,"ppc/ppc405: Fix timer initialization\n\nTimers are already initialized in ppc4xx_init(). No need to do it a\nsecond time with a wrong set.\n\nFixes: d715ea961254 (""PPC: 405: Fix ppc405ep initialization"")\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20211222064025.1541490-7-clg@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20220103063441.3424853-8-clg@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.999677300453186,PPC,hw/ppc/ppc405_uc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9bd6565ccee68f72d5012e24646e12a1c662827e,7656d9ce09cb1d6d76eeb2081f164a920361d1d3,Michael S. Tsirkin,2021-12-21,"acpi: validate hotplug selector on access\n\nWhen bus is looked up on a pci write, we didn't\nvalidate that the lookup succeeded.\nFuzzers thus can trigger QEMU crash by dereferencing the NULL\nbus pointer.\n\nFixes: b32bd763a1 (""pci: introduce acpi-index property for PCI device"")\nFixes: CVE-2021-4158\nCc: ""Igor Mammedov"" <imammedo@redhat.com>\nFixes: https://gitlab.com/qemu-project/qemu/-/issues/770\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Ani Sinha <ani@anisinha.ca>",1,0.9996787309646606,PCI,hw/acpi/pcihp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,09b3b7e092ca1d8c096fdda33d1d48b8c229d3c2,29b838c05dc20fa00fc08e952f710478829aa1c7,David Hildenbrand,2021-12-17,"virtio-mem: Support ""prealloc=on"" option\n\nFor scarce memory resources, such as hugetlb, we want to be able to\nprealloc such memory resources in order to not crash later on access. On\nsimple user errors we could otherwise easily run out of memory resources\nan crash the VM -- pretty much undesired.\n\nFor ordinary memory devices, such as DIMMs, we preallocate memory via the\nmemory backend for such use cases; however, with virtio-mem we're dealing\nwith sparse memory backends; preallocating the whole memory backend\ndestroys the whole purpose of virtio-mem.\n\nInstead, we want to preallocate memory when actually exposing memory to the\nVM dynamically, and fail plugging memory gracefully + warn the user in case\npreallocation fails.\n\nA common use case for hugetlb will be using ""reserve=off,prealloc=off"" for\nthe memory backend and ""prealloc=on"" for the virtio-mem device. This\nway, no huge pages will be reserved for the process, but we can recover\nif there are no actual huge pages when plugging memory. Libvirt is\nalready prepared for this.\n\nNote that preallocation cannot protect from the OOM killer -- which\nholds true for any kind of preallocation in QEMU. It's primarily useful\nonly for scarce memory resources such as hugetlb, or shared file-backed\nmemory. It's of little use for ordinary anonymous memory that can be\nswapped, KSM merged, ... but we won't forbid it.\n\nReviewed-by: Michal Privoznik <mprivozn@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20211217134611.31172-9-david@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.99945467710495,DIMM,"hw/virtio/virtio-mem.c, include/hw/virtio/virtio-mem.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,23ad8dec8d324d1fa027612eac9288e23d796a14,3ff9b192de6501e5f15de2586b8560966436bf25,David Hildenbrand,2021-12-17,"virtio-mem: Support VIRTIO_MEM_F_UNPLUGGED_INACCESSIBLE\n\nWith VIRTIO_MEM_F_UNPLUGGED_INACCESSIBLE, we signal the VM that reading\nunplugged memory is not supported. We have to fail feature negotiation\nin case the guest does not support VIRTIO_MEM_F_UNPLUGGED_INACCESSIBLE.\n\nFirst, VIRTIO_MEM_F_UNPLUGGED_INACCESSIBLE is required to properly handle\nmemory backends (or architectures) without support for the shared zeropage\nin the hypervisor cleanly. Without the shared zeropage, even reading an\nunpopulated virtual memory location can populate real memory and\nconsequently consume memory in the hypervisor. We have a guaranteed shared\nzeropage only on MAP_PRIVATE anonymous memory.\n\nSecond, we want VIRTIO_MEM_F_UNPLUGGED_INACCESSIBLE to be the default\nlong-term as even populating the shared zeropage can be problematic: for\nexample, without THP support (possible) or without support for the shared\nhuge zeropage with THP (unlikely), the PTE page tables to hold the shared\nzeropage entries can consume quite some memory that cannot be reclaimed\neasily.\n\nThird, there are other optimizations+features (e.g., protection of\nunplugged memory, reducing the total memory slot size and bitmap sizes)\nthat will require VIRTIO_MEM_F_UNPLUGGED_INACCESSIBLE.\n\nWe really only support x86 targets with virtio-mem for now (and\nLinux similarly only support x86), but that might change soon, so prepare\nfor different targets already.\n\nAdd a new ""unplugged-inaccessible"" tristate property for x86 targets:\n- ""off"" will keep VIRTIO_MEM_F_UNPLUGGED_INACCESSIBLE unset and legacy\n  guests working.\n- ""on"" will set VIRTIO_MEM_F_UNPLUGGED_INACCESSIBLE and stop legacy guests\n  from using the device.\n- ""auto"" selects the default based on support for the shared zeropage.\n\nWarn in case the property is set to ""off"" and we don't have support for the\nshared zeropage.\n\nFor existing compat machines, the property will default to ""off"", to\nnot change the behavior but eventually warn about a problematic setup.\nShort-term, we'll set the property default to ""auto"" for new QEMU machines.\nMid-term, we'll set the property default to ""on"" for new QEMU machines.\nLong-term, we'll deprecate the parameter and disallow legacy\nguests completely.\n\nThe property has to match on the migration source and destination. ""auto""\nwill result in the same VIRTIO_MEM_F_UNPLUGGED_INACCESSIBLE setting as long\nas the qemu command line (esp. memdev) match -- so ""auto"" is good enough\nfor migration purposes and the parameter doesn't have to be migrated\nexplicitly.\n\nReviewed-by: Michal Privoznik <mprivozn@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20211217134039.29670-3-david@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995982050895692,"SSI, VIRTIO, VIRTIO_MEM","hw/virtio/virtio-mem.c, include/hw/virtio/virtio-mem.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,392c278302b8e20a7c593708395a6649452d323b,5609400a422809c89ea788e4d0e13124a617582e,Daniel Henrique Barboza,2022-01-12,"pnv_phb3.c: add unique chassis and slot for pnv_phb3_root_port\n\nWhen creating a pnv_phb3_root_port using the command line, the first\nroot port is created successfully, but the second fails with the\nfollowing error:\n\nqemu-system-ppc64: -device pnv-phb3-root-port,bus=phb3-root.0,id=pcie.3:\nCan't add chassis slot, error -16\n\nThis error comes from the realize() function of its parent type,\nrp_realize() from TYPE_PCIE_ROOT_PORT. pcie_chassis_add_slot() fails\nwith -EBUSY if there's an existing PCIESlot that has the same\nchassis/slot value, regardless of being in a different bus.\n\nOne way to prevent this error is simply set chassis and slot values in\nthe command line. However, since phb3 root buses only supports a single\nroot port, we can just get an unique chassis/slot value by checking\nwhich root bus the pnv_phb3_root_port is going to be attached, get the\nequivalent phb3 device and use its chip-id and index values, which are\nguaranteed to be unique.\n\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20220105212338.49899-2-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9994321465492249,PCI,hw/pci-host/pnv_phb3.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eef3a7abff8a5eab840868fffd6195d8a2a555d0,7bdbf99aa2aac3bf483db6a08d1cea5bf1053c74,David Hildenbrand,2021-11-02,"machine: Use host_memory_backend_is_mapped() in machine_consume_memdev()\n\nmemory_region_is_mapped() is the wrong check, we actually want to check\nwhether the backend is already marked mapped.\n\nFor example, memory regions mapped via an alias, such as NVDIMMs,\ncurrently don't make memory_region_is_mapped() return ""true"". As the\nmachine is initialized before any memory devices (and thereby before\nNVDIMMs are initialized), this isn't a fix but merely a cleanup.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Peter Xu <peterx@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20211102164317.45658-2-david@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9996758699417114,"DIMM, NVDIMM",hw/core/machine.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5df69ab89527618744661d5a45ed85ca3cc7bceb,2a0c51366985890e3bf6f41a48f3cb2dfe2f153e,Peter Maydell,2022-01-11,qdev-core.h: Fix wrongly named reference to TYPE_SPLIT_IRQ\n\nFix a comment in qdev-core.h where we incorrectly referred\nto TYPE_IRQ_SPLIT when we meant TYPE_SPLIT_IRQ.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-Id: <20220111172655.3546766-1-peter.maydell@linaro.org>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>,1,0.9981790781021118,SPLIT_IRQ,include/hw/qdev-core.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,27abe66f31efa8bcd15f0f998db2127b4ffb628a,10f1ca27e0fe9930d372591cd5f302e7249aa705,Yifei Jiang,2022-01-12,"target/riscv: Add kvm_riscv_get/put_regs_timer\n\nAdd kvm_riscv_get/put_regs_timer to synchronize virtual time context\nfrom KVM.\n\nTo set register of RISCV_TIMER_REG(state) will occur a error from KVM\non kvm_timer_state == 0. It's better to adapt in KVM, but it doesn't matter\nthat adaping in QEMU.\n\nSigned-off-by: Yifei Jiang <jiangyifei@huawei.com>\nSigned-off-by: Mingwang Li <limingwang@huawei.com>\nReviewed-by: Anup Patel <anup.patel@wdc.com>\nAcked-by: Alistair Francis <alistair.francis@wdc.com>\nMessage-id: 20220112081329.1835-11-jiangyifei@huawei.com\nSigned-off-by: Alistair Francis <alistair.francis@wdc.com>",1,0.9765751957893372,KVM,"target/riscv/cpu.h, target/riscv/kvm.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0c0aac01c49cc159a37841b1954b1938f0582fb4,e9711c6149fc087f5cadd6f60e9ffa5541e421af,Daniel Henrique Barboza,2022-01-28,"target/ppc: fix 'skip KVM' cond in cpu_interrupt_exittb()\n\ncpu_interrupt_exittb() was introduced by commit 044897ef4a22\n(""target/ppc: Fix system lockups caused by interrupt_request state\ncorruption"") as a way to wrap cpu_interrupt() helper in BQL.\n\nAfter that, commit 6d38666a8931 (""ppc: Ignore the CPU_INTERRUPT_EXITTB\ninterrupt with KVM"") added a condition to skip this interrupt if we're\nrunning with KVM.\n\nProblem is that the change made by the above commit, testing for\n!kvm_enabled() at the start of cpu_interrupt_exittb():\n\nstatic inline void cpu_interrupt_exittb(CPUState *cs)\n{\n    if (!kvm_enabled()) {\n        return;\n    }\n    (... do cpu_interrupt(cs, CPU_INTERRUPT_EXITTB) ...)\n\nis doing the opposite of what it intended to do. This will return\nimmediately if not kvm_enabled(), i.e. it's a emulated CPU, and if\nkvm_enabled() it will proceed to fire CPU_INTERRUPT_EXITTB.\n\nFix the 'skip KVM' condition so the function is a no-op when\nkvm_enabled().\n\nCC: Greg Kurz <groug@kaod.org>\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/809\nFixes: 6d38666a8931 (""ppc: Ignore the CPU_INTERRUPT_EXITTB interrupt with KVM"")\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nReviewed-by: Fabiano Rosas <farosas@linux.ibm.com>\nReviewed-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <20220121160841.9102-1-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9997246861457824,KVM,target/ppc/helper_regs.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a01b64cee77061118b8cdaefeacd5440ec26107c,63f38cc3d228a0886b544e9a069b922b4416d29d,Fabiano Rosas,2022-01-28,"target/ppc: Put do_rfi under a TCG-only block\n\nThe --disable-tcg build broke when do_rfi stopped being inlined.\n\nFixes: 62e79ef914 (""target/ppc: Remove static inline"")\nSigned-off-by: Fabiano Rosas <farosas@linux.ibm.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20220124191547.1008391-1-farosas@linux.ibm.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9994996786117554,TCG,target/ppc/excp_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,47822486f5e7d6dad8d9a2381d127a831a3c5c11,dc10da64e1f704bec8ed66f6a402d22589a3c4f9,Cdric Le Goater,2022-01-28,"ppc/ppc405: Fix TLB flushing\n\nCommit cd0c6f473532 did not take into account 405 CPUs when adding\nsupport to batching of TCG tlb flushes. Set the TLB_NEED_LOCAL_FLUSH\nflag when the SPR_40x_PID is set or a TLB updated.\n\nCc: Thomas Huth <thuth@redhat.com>\nCc: Christophe Leroy <christophe.leroy@csgroup.eu>\nCc: Fabiano Rosas <farosas@linux.ibm.com>\nReviewed-by: Fabiano Rosas <farosas@linux.ibm.com>\nFixes: cd0c6f473532 (""ppc: Do some batching of TCG tlb flushes"")\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20220113180352.1234512-1-clg@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9996819496154784,TCG,"target/ppc/helper.h, target/ppc/mmu_helper.c, target/ppc/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,62a4d87d2e4af378875e0749571fe41cab8706de,fd50a00a57509623ac253614ab10c7ea0eeb8d51,Peter Maydell,2022-01-20,"hw/armv7m: Fix broken VMStateDescription\n\nIn commit d5093d961585f02 we added a VMStateDescription to\nthe TYPE_ARMV7M object, to handle migration of its Clocks.\nHowever a cut-and-paste error meant we used the wrong struct\nname in the VMSTATE_CLOCK() macro arguments. The result was\nthat attempting a 'savevm' might result in an assertion\nfailure.\n\nCc: qemu-stable@nongnu.org\nBuglink: https://gitlab.com/qemu-project/qemu/-/issues/803\nFixes: d5093d961585f02\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Ani Sinha <ani@anisinha.ca>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20220120151609.433555-1-peter.maydell@linaro.org",1,0.9997373223304749,ARM,hw/arm/armv7m.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2c023d3675a3ffb54fc30504dcd715bc6f6e234f,08048cbd5e7dc0a0359ccb8c7968e4d011174801,Peter Maydell,2022-01-17,"target/arm: Use correct entrypoint for SVC taken from Hyp to Hyp\n\nThe exception caused by an SVC instruction may be taken to AArch32\nHyp mode for two reasons:\n * HCR.TGE indicates that exceptions from EL0 should trap to EL2\n * we were already in Hyp mode\n\nThe entrypoint in the vector table to be used differs in these two\ncases: for an exception routed to Hyp mode from EL0, we enter at the\ncommon 0x14 ""hyp trap"" entrypoint.  For SVC from Hyp mode to Hyp\nmode, we enter at the 0x08 (svc/hvc trap) entrypoint.\nIn the v8A Arm ARM pseudocode this is done in AArch32.TakeSVCException.\n\nQEMU incorrectly routed both of these exceptions to the 0x14\nentrypoint.  Correct the entrypoint for SVC from Hyp to Hyp by making\nuse of the existing logic which handles ""normal entrypoint for\nHyp-to-Hyp, otherwise 0x14"" for traps like UNDEF and data/prefetch\naborts (reproduced here since it's outside the visible context\nin the diff for this commit):\n\n    if (arm_current_el(env) != 2 && addr < 0x14) {\n        addr = 0x14;\n    }\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220117131953.3936137-1-peter.maydell@linaro.org",1,0.9991790652275084,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0c83471bd75d329f4945e27dc1aa3a6cc2fda3bf,804b30d25f8d70dc2dea951883ea92235274a50c,Thomas Huth,2021-12-06,"tests/qemu-iotests: Fix 051 for binaries without 'lsi53c895a'\n\nThe lsi53c895a SCSI adaptor might not be enabled in each and every\nx86 QEMU binary, e.g. it's disabled in the RHEL/CentOS build.\nThus let's add a check to the 051 test so that it does not fail if\nthis device is not available.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20211206143404.247032-1-thuth@redhat.com>\nSigned-off-by: Hanna Reitz <hreitz@redhat.com>",1,0.9997077584266664,SCSI,tests/qemu-iotests/051,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3c9c70347b8e636c08035f39288f8cdd2e68bbda,ac50419460cc45a66214e6d1c3e9d0d670522f8a,Philippe Mathieu-Daud,2022-02-01,"block/export/fuse: Fix build failure on FreeBSD\n\nWhen building on FreeBSD we get:\n\n  [816/6851] Compiling C object libblockdev.fa.p/block_export_fuse.c.o\n  ../block/export/fuse.c:628:16: error: use of undeclared identifier 'FALLOC_FL_KEEP_SIZE'\n      if (mode & FALLOC_FL_KEEP_SIZE) {\n                 ^\n  ../block/export/fuse.c:651:16: error: use of undeclared identifier 'FALLOC_FL_PUNCH_HOLE'\n      if (mode & FALLOC_FL_PUNCH_HOLE) {\n                 ^\n  ../block/export/fuse.c:652:22: error: use of undeclared identifier 'FALLOC_FL_KEEP_SIZE'\n          if (!(mode & FALLOC_FL_KEEP_SIZE)) {\n                       ^\n  3 errors generated.\n  FAILED: libblockdev.fa.p/block_export_fuse.c.o\n\nMeson indeed reported FALLOC_FL_PUNCH_HOLE is not available:\n\n  C compiler for the host machine: cc (clang 10.0.1 ""FreeBSD clang version 10.0.1"")\n  Checking for function ""fallocate"" : NO\n  Checking for function ""posix_fallocate"" : YES\n  Header <linux/falloc.h> has symbol ""FALLOC_FL_PUNCH_HOLE"" : NO\n  Header <linux/falloc.h> has symbol ""FALLOC_FL_ZERO_RANGE"" : NO\n  ...\n\nSimilarly to commit 304332039 (""block/export/fuse.c: fix musl build""),\nguard the code requiring FALLOC_FL_KEEP_SIZE / FALLOC_FL_PUNCH_HOLE\ndefinitions under CONFIG_FALLOCATE_PUNCH_HOLE #ifdef'ry.\n\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20220201112655.344373-3-f4bug@amsat.org>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.999687671661377,LED,block/export/fuse.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3615cea4714f94d1db61bd6618a3a66a6b014f9d,3b21d998a12b380c590f1005343ab95e2d6a7669,Helge Deller,2022-01-05,"hw/display/artist: Mouse cursor fixes for HP-UX\n\nThis patch fix the behaviour and positioning of the X11 mouse cursor in HP-UX.\n\nThe current code missed to subtract the offset of the CURSOR_CTRL register from\nthe current mouse cursor position. The HP-UX graphics driver stores in this\nregister the offset of the mouse graphics compared to the current cursor\nposition.  Without this adjustment the mouse behaves strange at the screen\nborders.\n\nAdditionally, depending on the HP-UX version, the mouse cursor position\nin the cursor_pos register reports different values. To accommodate this\ntrack the current min and max reported values and auto-adjust at runtime.\n\nWith this fix the mouse now behaves as expected on HP-UX 10 and 11.\n\nSigned-off-by: Helge Deller <deller@gmx.de>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Helge Deller <deller@gmx.de>",1,0.999582588672638,X11,hw/display/artist.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,748c030f360a940fe0c9382c8ca1649096c3a80d,d1e4a4654154925eddf0fc449fa9c92b806b9c8c,Igor Mammedov,2022-01-12,"acpi: fix OEM ID/OEM Table ID padding\n\nCommit [2] broke original '\0' padding of OEM ID and OEM Table ID\nfields in headers of ACPI tables. While it doesn't have impact on\ndefault values since QEMU uses 6 and 8 characters long values\nrespectively, it broke usecase where IDs are provided on QEMU CLI.\nIt shouldn't affect guest (but may cause licensing verification\nissues in guest OS).\nOne of the broken usecases is user supplied SLIC table with IDs\nshorter than max possible length, where [2] mangles IDs with extra\nspaces in RSDT and FADT tables whereas guest OS expects those to\nmirror the respective values of the used SLIC table.\n\nFix it by replacing whitespace padding with '\0' padding in\naccordance with [1] and expectations of guest OS\n\n1) ACPI spec, v2.0b\n       17.2 AML Grammar Definition\n       ...\n       //OEM ID of up to 6 characters. If the OEM ID is\n       //shorter than 6 characters, it can be terminated\n       //with a NULL character.\n\n2)\nFixes: 602b458201 (""acpi: Permit OEM ID and OEM table ID fields to be changed"")\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/707\nReported-by: Dmitry V. Orekhov <dima.orekhov@gmail.com>\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nCc: qemu-stable@nongnu.org\nMessage-Id: <20220112130332.1648664-4-imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Ani Sinha <ani@anisinha.ca>\nTested-by: Dmitry V. Orekhov dima.orekhov@gmail.com",1,0.9997281432151794,ACPI,hw/acpi/aml-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,316ee11144e3b8e1bc97a1d0fc6b1caf1963e104,408ca92634770de5eac7965ed97c6260e770f2e7,Raphael Norwitz,2022-01-17,"libvhost-user: Add vu_rem_mem_reg input validation\n\nToday if multiple FDs are sent from the VMM to the backend in a\nVHOST_USER_REM_MEM_REG message, one FD will be unmapped and the remaining\nFDs will be leaked. Therefore if multiple FDs are sent we report an\nerror and fail the operation, closing all FDs in the message.\n\nLikewise in case the VMM sends a message with a size less than that of a\nmemory region descriptor, we add a check to gracefully report an error\nand fail the operation rather than crashing.\n\nSigned-off-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nMessage-Id: <20220117041050.19718-2-raphael.norwitz@nutanix.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: David Hildenbrand <david@redhat.com>",1,0.9994254112243652,VHOST_USER,"subprojects/libvhost-user/libvhost-user.c, subprojects/libvhost-user/libvhost-user.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9f4e63491ba7ae2f7a537bb98a337f4dcd4e1c54,316ee11144e3b8e1bc97a1d0fc6b1caf1963e104,Raphael Norwitz,2022-01-17,"libvhost-user: Add vu_add_mem_reg input validation\n\nToday if multiple FDs are sent from the VMM to the backend in a\nVHOST_USER_ADD_MEM_REG message, one FD will be mapped and the remaining\nFDs will be leaked. Therefore if multiple FDs are sent we report an\nerror and fail the operation, closing all FDs in the message.\n\nLikewise in case the VMM sends a message with a size less than that\nof a memory region descriptor, we add a check to gracefully report an\nerror and fail the operation rather than crashing.\n\nSigned-off-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nMessage-Id: <20220117041050.19718-3-raphael.norwitz@nutanix.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: David Hildenbrand <david@redhat.com>",1,0.9994476437568665,VHOST_USER,subprojects/libvhost-user/libvhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fa3d5483f0f4d4583b69ea7211c721418fca6704,4fd5ca829ae28f1f009210ab1cd42f86671015ec,David Hildenbrand,2022-01-17,"libvhost-user: fix VHOST_USER_REM_MEM_REG not closing the fd\n\nWe end up not closing the file descriptor, resulting in leaking one\nfile descriptor for each VHOST_USER_REM_MEM_REG message.\n\nFixes: 875b9fd97b34 (""Support individual region unmap in libvhost-user"")\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Raphael Norwitz <raphael.norwitz@nutanix.com>\nCc: ""Marc-Andr Lureau"" <marcandre.lureau@redhat.com>\nCc: Stefan Hajnoczi <stefanha@redhat.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Coiby Xu <coiby.xu@gmail.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nSigned-off-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nMessage-Id: <20220117041050.19718-5-raphael.norwitz@nutanix.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.99972265958786,VHOST_USER,subprojects/libvhost-user/libvhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b906a23c33673f790a67dbd631a244387be77cb5,fa3d5483f0f4d4583b69ea7211c721418fca6704,Raphael Norwitz,2022-01-17,"libvhost-user: prevent over-running max RAM slots\n\nWhen VHOST_USER_PROTOCOL_F_CONFIGURE_MEM_SLOTS support was added to\nlibvhost-user, no guardrails were added to protect against QEMU\nattempting to hot-add too many RAM slots to a VM with a libvhost-user\nbased backed attached.\n\nThis change adds the missing error handling by introducing a check on\nthe number of RAM slots the device has available before proceeding to\nprocess the VHOST_USER_ADD_MEM_REG message.\n\nSuggested-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nMessage-Id: <20220117041050.19718-6-raphael.norwitz@nutanix.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.999403953552246,VHOST_USER,subprojects/libvhost-user/libvhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a1ce993da6fc27b022075b02a2e1e1e5be329254,06985cc3fe5a5a7577ddd43406758aa79099b4f7,Peter Maydell,2022-02-01,"hw/intc/arm_gicv3_its: Fix address calculation in get_ite() and update_ite()\n\nIn get_ite() and update_ite() we work with a 12-byte in-guest-memory\ntable entry, which we intend to handle as an 8-byte value followed by\na 4-byte value.  Unfortunately the calculation of the address of the\n4-byte value is wrong, because we write it as:\n\n table_base_address + (index * entrysize) + 4\n(obfuscated by the way the expression has been written)\n\nwhen it should be + 8.  This bug meant that we overwrote the top\nbytes of the 8-byte value with the 4-byte value.  There are no\nguest-visible effects because the top half of the 8-byte value\ncontains only the doorbell interrupt field, which is used only in\nGICv4, and the two bugs in the ""write ITE"" and ""read ITE"" codepaths\ncancel each other out.\n\nWe can't simply change the calculation, because this would break\nmigration of a (TCG) guest from the old version of QEMU which had\nin-guest-memory interrupt tables written using the buggy version of\nupdate_ite().  We must also at the same time change the layout of the\nfields within the ITE_L and ITE_H values so that the in-memory\nlocations of the fields we care about (VALID, INTTYPE, INTID and\nICID) stay the same.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220201193207.2771604-7-peter.maydell@linaro.org",1,0.999706208705902,TCG,"hw/intc/arm_gicv3_its.c, hw/intc/gicv3_internal.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b583351d4b149980c07d7f7c26acc937d514783d,afdbc869412637190a7d1e11c1b830ceebb6ffda,Fabiano Rosas,2022-02-09,target/ppc: booke: Instruction storage exception cleanup\n\nThe SRR1 should be set to the MSR value. There are no diagnostic bits\nin the SRR1 for BookE.\n\nNote that this fixes a bug where MSR_GS would be set and Linux would\ngo into KVM code when there's no KVM guest.\n\nSigned-off-by: Fabiano Rosas <farosas@linux.ibm.com>\nMessage-Id: <20220128224018.1228062-7-farosas@linux.ibm.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>,1,0.9997026324272156,KVM,target/ppc/excp_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,10717c26dbe1c138ba6af6d09a3bb9958d4fe3f2,96a46def58b3b7938d200fca6bd4916c3640d2f3,Alexey Kardashevskiy,2022-02-09,"spapr/vof: Install rom and nvram binaries\n\nThis installs VOF-related binaries (the firmware and the preformatted\nNVRAM) as those were left out when the VOF was submitted initially.\n\nFixes: fc8c745d5015 (""spapr: Implement Open Firmware client interface"")\nSigned-off-by: Alexey Kardashevskiy <aik@ozlabs.ru>\nMessage-Id: <20220208103751.1587902-1-aik@ozlabs.ru>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9995585083961488,VOF,pc-bios/meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7cebc5db2eba6dc655b62af41e52716fc4fa66ae,3680e99461b6d33bd45fce9b4bd5e20475c13525,Nicholas Piggin,2022-02-18,"target/ppc: Introduce a vhyp framework for nested HV support\n\nIntroduce virtual hypervisor methods that can support a ""Nested KVM HV""\nimplementation using the bare metal 2-level radix MMU, and using HV\nexceptions to return from H_ENTER_NESTED (rather than cause interrupts).\n\nHV exceptions can now be raised in the TCG spapr machine when running a\nnested KVM HV guest. The main ones are the lev==1 syscall, the hdecr,\nhdsi and hisi, hv fu, and hv emu, and h_virt external interrupts.\n\nHV exceptions are intercepted in the exception handler code and instead\nof causing interrupts in the guest and switching the machine to HV mode,\nthey go to the vhyp where it may exit the H_ENTER_NESTED hcall with the\ninterrupt vector numer as return value as required by the hcall API.\n\nAddress translation is provided by the 2-level page table walker that is\nimplemented for the bare metal radix MMU. The partition scope page table\nis pointed to the L1's partition scope by the get_pate vhc method.\n\nReviewed-by: Fabiano Rosas <farosas@linux.ibm.com>\nSigned-off-by: Nicholas Piggin <npiggin@gmail.com>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20220216102545.1808018-9-npiggin@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.998494029045105,"KVM, TCG","hw/ppc/pegasos2.c, hw/ppc/spapr.c, target/ppc/cpu.h, target/ppc/excp_helper.c, target/ppc/mmu-radix64.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,546f292d63d6a0cfd1a5121fbd23059047d31191,d24d1ad3c4681d4aa2c606374734ea8d89d7ef4d,Thomas Huth,2022-01-21,"tests/qtest/ide-test: Remove bad retry_isa test\n\nThe retry_isa test is not doing what it was intended for: The\ntest_retry_flush() function ignores the machine parameter completely\nand thus this test does not get run with the ""isapc"" machine.\nMoreover, in the course of time, the test_retry_flush() has been\nchanged to depend on PCI-related functions, so this also cannot\nbe fixed by simply using the machine parameter now. The correct\nfix would be to switch the whole test to libqos, but until someone\nhas time to do this, let's simply drop the retry_isa test for now.\n\nMessage-Id: <20220121120635.220644-1-thuth@redhat.com>\nReviewed-by: John Snow <jsnow@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9993322491645812,PCI,tests/qtest/ide-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6ee609b7522b712af76225792e55596d85d8fd1f,ddaebdda53fc850d947e5983b14ae113e2bf805a,Peter Maydell,2022-02-04,"target/arm: Fix '-cpu max' for HVF\n\nCurrently when using hvf we mishandle '-cpu max': we fall through to\nthe TCG version of its initfn, which then sets a lot of feature bits\nthat the real host CPU doesn't have. The hvf accelerator code then\nexposes these bogus ID register values to the guest because it\ndoesn't check that the host really has the features.\n\nMake '-cpu host' be like '-cpu max' for hvf, as we do with kvm.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nReviewed-by: Alexander Graf <agraf@csgraf.de>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220204165506.2846058-6-peter.maydell@linaro.org",1,0.9996970891952516,"HVF, TCG",target/arm/cpu64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f42e09e6a6b3dd996419fe0e6c1bbc68898f3a6e,22991cfbdfacc195b982d3ee12a823e75ded4b29,Stafford Horne,2022-02-19,"hw/openrisc/openrisc_sim: Increase max_cpus to 4\n\nNow that we no longer have a limit of 2 CPUs due to fixing the\nIRQ routing issues we can increase the max.  Here we increase\nthe limit to 4, we could go higher, but currently OMPIC has a\nlimit of 4, so we align with that.\n\nSigned-off-by: Stafford Horne <shorne@gmail.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9958209991455078,OMPIC,hw/openrisc/openrisc_sim.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2092fdd97c27c0d6ef4bd0958fde0f6522100dcc,fa435db8ce1dff3b15e3f59a12f55f7b3a347b08,Nico Boehr,2022-01-26,"s390x: sck: load into a temporary not into in1\n\nWe previously loaded into in1, but in1 is not filled during\ndisassembly and hence always zero. This leads to an assertion failure:\n\n  qemu-system-s390x: /home/nrb/qemu/include/tcg/tcg.h:654: temp_idx:\n  Assertion `n >= 0 && n < tcg_ctx->nb_temps' failed.`\n\nInstead, use in2_la2_m64a to load from storage into in2 and pass that to\nthe helper, which matches what we already do for SCKC.\n\nThis fixes the SCK test I sent here under TCG:\n<https://www.spinics.net/lists/kvm/msg265169.html>\n\nFixes: 9dc67537 (""s390x/tcg: implement SET CLOCK "")\nSuggested-by: David Hildenbrand <david@redhat.com>\nSigned-off-by: Nico Boehr <nrb@linux.ibm.com>\nMessage-Id: <20220126084201.774457-1-nrb@linux.ibm.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.999585211277008,TCG,"target/s390x/tcg/insn-data.def, target/s390x/tcg/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ea0a1053e276f07b1a75b222115810e8cee71fa9,e7b3b0951d95c14bfe62e8a138c867df3f399f66,David Miller,2022-02-23,"s390x/tcg: Implement Miscellaneous-Instruction-Extensions Facility 3 for the s390x\n\nimplements:\nAND WITH COMPLEMENT   (NCRK, NCGRK)\nNAND                  (NNRK, NNGRK)\nNOT EXCLUSIVE OR      (NXRK, NXGRK)\nNOR                   (NORK, NOGRK)\nOR WITH COMPLEMENT    (OCRK, OCGRK)\nSELECT                (SELR, SELGR)\nSELECT HIGH           (SELFHR)\nMOVE RIGHT TO LEFT    (MVCRL)\nPOPULATION COUNT      (POPCNT)\n\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/737\nSigned-off-by: David Miller <dmiller423@gmail.com>\nMessage-Id: <20220223223117.66660-2-dmiller423@gmail.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9995256662368774,NAND,"target/s390x/gen-features.c, target/s390x/helper.h, target/s390x/tcg/insn-data.def, target/s390x/tcg/mem_helper.c, target/s390x/tcg/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8929906e212cbe606e361cbd32917dcbe5bb6dd0,00483d386901173e84c7965f9f0d678791a75e01,Richard Henderson,2022-02-16,"tcg: Remove dh_alias indirection for dh_typecode\n\nThe dh_alias redirect is intended to handle TCG types as distinguished\nfrom C types.  TCG does not distinguish signed int from unsigned int,\nbecause they are the same size.  However, we need to retain this\ndistinction for dh_typecode, lest we fail to extend abi types properly\nfor the host call parameters.\n\nThis bug was detected when running the 'arm' emulator on an s390\nsystem. The s390 uses TCG_TARGET_EXTEND_ARGS which triggers code\nin tcg_gen_callN to extend 32 bit values to 64 bits; the incorrect\nsign data in the typemask for each argument caused the values to be\nextended as unsigned values.\n\nThis simple program exhibits the problem:\n\n	static volatile int num = -9;\n	static volatile int den = -5;\n	int main(void)\n	{\n		int quo = num / den;\n		printf(""num %d den %d quo %d\n"", num, den, quo);\n		exit(0);\n	}\n\nWhen run on the broken qemu, this results in:\n\n	num -9 den -5 quo 0\n\nThe correct result is:\n\n	num -9 den -5 quo 1\n\nFixes: 7319d83a735 (""tcg: Combine dh_is_64bit and dh_is_signed to dh_typecode"")\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/876\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nReported-by: Christian Ehrhardt <christian.ehrhardt@canonical.com>\nTested-by: Christian Ehrhardt <christian.ehrhardt@canonical.com>\nTested-by: Keith Packard <keithp@keithp.com>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9988909363746644,TCG,"include/exec/helper-head.h, target/hppa/helper.h, target/i386/ops_sse_header.h, target/m68k/helper.h, target/ppc/helper.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cb76bbc43fda5b2540f438f849e7583293ab3569,adc4eda10352ff235f29b528220cf2b6dad35759,Daniel Henrique Barboza,2022-03-02,"target/ppc: add PPC_INTERRUPT_EBB and EBB exceptions\n\nPPC_INTERRUPT_EBB is a new interrupt that will be used to deliver EBB\nexceptions that had to be postponed because the thread wasn't in problem\nstate at the time the event-based branch was supposed to occur.\n\nISA 3.1 also defines two EBB exceptions: Performance Monitor EBB\nexception and External EBB exception. They are being added as\nPOWERPC_EXCP_PERFM_EBB and POWERPC_EXCP_EXTERNAL_EBB.\n\nPPC_INTERRUPT_EBB will check BESCR bits to see the EBB type that\noccurred and trigger the appropriate exception. Both exceptions are\ndoing the same thing in this first implementation: clear BESCR_GE and\nenter the branch with env->nip retrieved from SPR_EBBHR.\n\nThe checks being done by the interrupt code are msr_pr and BESCR_GE\nstates. All other checks (EBB facility check, BESCR_PME bit, specific\nbits related to the event type) must be done beforehand.\n\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20220225101140.1054160-4-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9995668530464172,PPC,"target/ppc/cpu.h, target/ppc/cpu_init.c, target/ppc/excp_helper.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d3412df20a321f2c4d98f5759cef2441206d5bd8,cb76bbc43fda5b2540f438f849e7583293ab3569,Daniel Henrique Barboza,2022-03-02,"target/ppc: trigger PERFM EBBs from power8-pmu.c\n\nThis patch adds the EBB exception support that are triggered by\nPerformance Monitor alerts. This happens when a Performance Monitor\nalert occurs and MMCR0_EBE, BESCR_PME and BESCR_GE are set.\n\nfire_PMC_interrupt() will execute the raise_ebb_perfm_exception() helper\nwhich will check for MMCR0_EBE, BESCR_PME and BESCR_GE bits. If all bits\nare set, do_ebb() will attempt to trigger a PERFM EBB event.\n\nIf the EBB facility is enabled in both FSCR and HFSCR we consider that\nthe EBB is valid and set BESCR_PMEO. After that, if we're running in\nproblem state, fire a POWERPC_EXCP_PERM_EBB immediately. Otherwise we'll\nqueue a PPC_INTERRUPT_EBB.\n\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20220225101140.1054160-5-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9995242357254028,PPC,"target/ppc/cpu.h, target/ppc/excp_helper.c, target/ppc/power8-pmu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f8a233dedf2560d7d592dab347ddf2a58e8a98db,604d00c76fdd7dfcaa2bf8515615ad129a4fdcc4,Cdric Le Goater,2022-03-02,"ppc/xive2: Introduce a XIVE2 core framework\n\nThe XIVE2 interrupt controller of the POWER10 processor as the same\nlogic as on POWER9 but its SW interface has been largely reworked. The\ninterrupt controller has a new register interface, different BARs,\nextra VSDs. These will be described when we add the device model for\nthe baremetal machine.\n\nThe XIVE internal structures for the EAS, END, NVT have different\nlayouts which is a problem for the current core XIVE framework. To\navoid adding too much complexity in the XIVE models, a new XIVE2 core\nframework is introduced. It duplicates the models which are closely\nlinked to the XIVE internal structures : Xive2Router and\nXive2ENDSource and reuses the XiveSource, XivePresenter, XiveTCTX\nmodels, as they are more generic.\n\nReviewed-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.995006024837494,XIVE,"hw/intc/meson.build, hw/intc/xive2.c, include/hw/ppc/xive2.h, include/hw/ppc/xive2_regs.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cc3b66ac949e28e030eeb9b5e2950f24d894be95,64ada298b98a51eb2512607f6e6180cb330c47b1,Jimmy Brisson,2022-02-10,"mps3-an547: Add missing user ahb interfaces\n\nWith these interfaces missing, TFM would delegate peripherals 0, 1,\n2, 3 and 8, and qemu would ignore the delegation of interface 8, as\nit thought interface 4 was eth & USB.\n\nThis patch corrects this behavior and allows TFM to delegate the\neth & USB peripheral to NS mode.\n\n(The old QEMU behaviour was based on revision B of the AN547\nappnote; revision C corrects this error in the documentation,\nand this commit brings QEMU in to line with how the FPGA\nimage really behaves.)\n\nSigned-off-by: Jimmy Brisson <jimmy.brisson@linaro.org>\nMessage-id: 20220210210227.3203883-1-jimmy.brisson@linaro.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\n[PMM: added commit message note clarifying that the old behaviour\nwas a docs issue, not because there were two different versions\nof the FPGA image]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9992818236351012,USB,hw/arm/mps2-tz.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bad187dfcb0834dd67d1bfa40a305a08f0d5641a,e212fb05cd2694fdb7a20abe8f0968715d67f9e5,Peter Maydell,2022-02-21,"hw/input/tsc210x: Don't abort on bad SPI word widths\n\nThe tsc210x doesn't support anything other than 16-bit reads on the\nSPI bus, but the guest can program the SPI controller to attempt\nthem anyway. If this happens, don't abort QEMU, just log this as\na guest error.\n\nThis fixes our machine_arm_n8x0.py:N8x0Machine.test_n800\nacceptance test, which hits this assertion.\n\nThe reason we hit the assertion is because the guest kernel thinks\nthere is a TSC2005 on this SPI bus address, not a TSC210x.  (The n810\n*does* have a TSC2005 at this address.) The TSC2005 supports the\n24-bit accesses which the guest driver makes, and the TSC210x does\nnot (that is, our TSC210x emulation is not missing support for a word\nwidth the hardware can handle).  It's not clear whether the problem\nhere is that the guest kernel incorrectly thinks the n800 has the\nsame device at this SPI bus address as the n810, or that QEMU's n810\nboard model doesn't get the SPI devices right.  At this late date\nthere no longer appears to be any reliable information on the web\nabout the hardware behaviour, but I am inclined to think this is a\nguest kernel bug.  In any case, we prefer not to abort QEMU for\nguest-triggerable conditions, so logging the error is the right thing\nto do.\n\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/736\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nMessage-id: 20220221140750.514557-1-peter.maydell@linaro.org",1,0.999734103679657,TSC2005,hw/input/tsc210x.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,23d5acf3d40f8010275ae9a5a80daf652a97308f,0dc71c701cd68c0c0508360944367faebc394196,Wentao_Liang,2022-02-25,"target/arm: Fix early free of TCG temp in handle_simd_shift_fpint_conv()\n\nhandle_simd_shift_fpint_conv() was accidentally freeing the TCG\ntemporary tcg_fpstatus too early, before the last use of it.  Move\nthe free down to where it belongs.\n\nSigned-off-by: Wentao_Liang <Wentao_Liang_g@163.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\n[PMM: cleaned up commit message]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9992596507072448,TCG,target/arm/translate-a64.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3a4d06f26f2606dd5029b05b4aff97f198455249,b6b0c066f5750c3c977b647509f225ba06038b60,BALATON Zoltan,2022-01-25,usb/ohci: Don't use packet from OHCIState for isochronous transfers\n\nSince isochronous transfers cannot be handled async (the function\nreturns error in that case) we don't need to remember the packet.\nAvoid using the usb_packet field in OHCIState (as that can be a\nwaiting async packet on another endpoint) and allocate and use a local\nUSBPacket for the iso transfer instead. After this we don't have to\ncare if we're called from a completion callback or not so we can drop\nthat parameter as well.\n\nSigned-off-by: BALATON Zoltan <balaton@eik.bme.hu>\nMessage-Id: <bf523d40f8088a84383cb00ffd2e6e82fa47790d.1643117600.git.balaton@eik.bme.hu>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>,1,0.99966561794281,USB,hw/usb/hcd-ohci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4377683df969e715e3cb2dbd258e44f9ff51f788,f4ba24b3857251e7531803d6a157b3495dcb5703,Akihiko Odaki,2022-02-13,"edid: Fix clock of Detailed Timing Descriptor\n\nThe clock field is 16-bits in EDID Detailed Timing Descriptor, but\nedid_desc_timing assumed it is 32-bit. Write the 16-bit value if it fits\nin 16-bit. Write DisplayID otherwise.\n\nSigned-off-by: Akihiko Odaki <akihiko.odaki@gmail.com>\nMessage-Id: <20220213021529.2248-1-akihiko.odaki@gmail.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.999512791633606,EDID,hw/display/edid-generate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a379d4550c4a949bb1ca51bc5272d68b4a619b18,3818acf56480ae07f8801f9255b82fe587ef39c1,Ani Sinha,2022-02-23,"hw/smbios: fix overlapping table handle numbers with large memory vms\n\nThe current smbios table implementation splits the main memory in 16 GiB\n(DIMM like) chunks. With the current smbios table assignment code, we can have\nonly 512 such chunks before the 16 bit handle numbers in the header for tables\n17 and 19 conflict. A guest with more than 8 TiB of memory will hit this\nlimitation and would fail with the following assertion in isa-debugcon:\n\nASSERT_EFI_ERROR (Status = Already started)\nASSERT /builddir/build/BUILD/edk2-ca407c7246bf/OvmfPkg/SmbiosPlatformDxe/SmbiosPlatformDxe.c(125): !EFI_ERROR (Status)\n\nThis change adds an additional offset between tables 17 and 19 handle numbers\nwhen configuring VMs larger than 8 TiB of memory. The value of the offset is\ncalculated to be equal to the additional space required to be reserved\nin order to accomodate more DIMM entries without the table handles colliding.\nIn normal cases where the VM memory is smaller or equal to 8 TiB, this offset\nvalue is 0. Hence in this case, no additional handle numbers are reserved and\ntable handle values remain as before.\n\nSince smbios memory is not transmitted over the wire during migration,\nthis change can break migration for large memory vms if the guest is in the\nmiddle of generating the tables during migration. However, in those\nsituations, qemu generates invalid table handles anyway with or without this\nfix. Hence, we do not preserve the old bug by introducing compat knobs/machine\ntypes.\n\nResolves: https://bugzilla.redhat.com/show_bug.cgi?id=2023977\n\nSigned-off-by: Ani Sinha <ani@anisinha.ca>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20220223143322.927136-7-ani@anisinha.ca>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997305274009703,DIMM,hw/smbios/smbios.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e65902a913bf31ba79a83a3bd3621108b85cf645,0b0af4d62f7002b31cd7b2762b26d2fcb76bb2ba,Halil Pasic,2022-02-07,"virtio: fix the condition for iommu_platform not supported\n\nThe commit 04ceb61a40 (""virtio: Fail if iommu_platform is requested, but\nunsupported"") claims to fail the device hotplug when iommu_platform\nis requested, but not supported by the (vhost) device. On the first\nglance the condition for detecting that situation looks perfect, but\nbecause a certain peculiarity of virtio_platform it ain't.\n\nIn fact the aforementioned commit introduces a regression. It breaks\nvirtio-fs support for Secure Execution, and most likely also for AMD SEV\nor any other confidential guest scenario that relies encrypted guest\nmemory.  The same also applies to any other vhost device that does not\nsupport _F_ACCESS_PLATFORM.\n\nThe peculiarity is that iommu_platform and _F_ACCESS_PLATFORM collates\n""device can not access all of the guest RAM"" and ""iova != gpa, thus\ndevice needs to translate iova"".\n\nConfidential guest technologies currently rely on the device/hypervisor\noffering _F_ACCESS_PLATFORM, so that, after the feature has been\nnegotiated, the guest  grants access to the portions of memory the\ndevice needs to see. So in for confidential guests, generally,\n_F_ACCESS_PLATFORM is about the restricted access to memory, but not\nabout the addresses used being something else than guest physical\naddresses.\n\nThis is the very reason for which commit f7ef7e6e3b (""vhost: correctly\nturn on VIRTIO_F_IOMMU_PLATFORM"") fences _F_ACCESS_PLATFORM from the\nvhost device that does not need it, because on the vhost interface it\nonly means ""I/O address translation is needed"".\n\nThis patch takes inspiration from f7ef7e6e3b (""vhost: correctly turn on\nVIRTIO_F_IOMMU_PLATFORM""), and uses the same condition for detecting the\nsituation when _F_ACCESS_PLATFORM is requested, but no I/O translation\nby the device, and thus no device capability is needed. In this\nsituation claiming that the device does not support iommu_plattform=on\nis counter-productive. So let us stop doing that!\n\nSigned-off-by: Halil Pasic <pasic@linux.ibm.com>\nReported-by: Jakob Naucke <Jakob.Naucke@ibm.com>\nFixes: 04ceb61a40 (""virtio: Fail if iommu_platform is requested, but\nunsupported"")\nAcked-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nTested-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nCc: Kevin Wolf <kwolf@redhat.com>\nCc: qemu-stable@nongnu.org\n\nMessage-Id: <20220207112857.607829-1-pasic@linux.ibm.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nAcked-by: Jason Wang <jasowang@redhat.com>",1,0.9997418522834778,"SEV, VIRTIO",hw/virtio/virtio-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e609301b458bf6daba478299dc5aea5d1fbaea39,f59fb1889f480b0324a7ed0404a68ad5a0ad4f6c,Jonathan Cameron,2022-01-18,"hw/pci-bridge/pxb: Fix missing swizzle\n\npxb_map_irq_fn() handled the necessary removal of the swizzle\napplied to the PXB interrupts by the bus to which it was attached\nbut neglected to apply the normal swizzle for PCI root ports\non the expander bridge.\n\nResult of this was on ARM virt, the PME interrupts for a second\nRP on a PXB instance were miss-routed to #45 rather than #46.\n\nTested with a selection of different configurations with 1 to 5\nRP per PXB instance.  Note on my x86 test setup the PME interrupts\nare not triggered so I haven't been able to test this.\n\nSigned-off-by: Jonathan Cameron <Jonathan.Cameron@huawei.com>\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Marcel Apfelbaum <marcel.apfelbaum@gmail.com>\nMessage-Id: <20220118174855.19325-1-Jonathan.Cameron@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9995902180671692,"ARM, PCI, PXB",hw/pci-bridge/pci_expander_bridge.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ad003b9e6872c67836133066e1dd0f13458a9370,45d8c0520bd1877d6a34f2c1abaa1df0a9ce9947,Zhenzhong Duan,2022-02-23,"pci: show id info when pci BDF conflict\n\nDuring qemu init stage, when there is pci BDF conflicts, qemu print\na warning but not showing which device the BDF is occupied by. E.x:\n\n""PCI: slot 2 function 0 not available for virtio-scsi-pci, in use by virtio-scsi-pci""\n\nTo facilitate user knowing the offending device and fixing it, showing\nthe id info in the warning.\n\nSigned-off-by: Zhenzhong Duan <zhenzhong.duan@intel.com>\nMessage-Id: <20220223094435.64495-1-zhenzhong.duan@intel.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996893405914308,PCI,hw/pci/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,31164ebf08d87b59c570af5b2c80e91940a70968,930f40e90bbc9f8f3818219cc8a17c3afe84d719,Peter Maydell,2022-03-03,"hw/intc/arm_gicv3: Specify valid and impl in MemoryRegionOps\n\nThe GICv3 has some registers that support byte accesses, and some\nthat support 8-byte accesses.  Our TCG implementation implements all\nof this, switching on the 'size' argument and handling the registers\nthat must support reads of that size while logging an error for\nattempted accesses to registers that do not support that size access.\nHowever we forgot to tell the core memory subsystem about this by\nspecifying the .impl and .valid fields in the MemoryRegionOps struct,\nso the core was happily simulating 8 byte accesses by combining two 4\nbyte accesses.  This doesn't have much guest-visible effect, since\nthere aren't many 8 byte registers and they all support being written\nin two 4 byte parts.\n\nSet the .impl and .valid fields to say that all sizes from 1 to 8\nbytes are both valid and implemented by the device.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220303202341.2232284-4-peter.maydell@linaro.org",1,0.9883291721343994,TCG,hw/intc/arm_gicv3.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cf734c2a0f6a61dd22639416a5295d0e0fd8a7cd,b45f91e1a70e70f482ed75b50e24850591db2e5e,Peter Maydell,2022-03-03,"hw/intc/arm_gicv3_cpuif: Fix register names in ICV_HPPIR read trace event\n\nThe trace_gicv3_icv_hppir_read trace event takes an integer value\nwhich it uses to form the register name, which should be either\nICV_HPPIR0 or ICV_HPPIR1.  We were passing in the 'grp' variable for\nthis, but that is either GICV3_G0 or GICV3_G1NS, which happen to be 0\nand 2, which meant that tracing for the ICV_HPPIR1 register was\nincorrectly printed as ICV_HPPIR2.\n\nUse the same approach we do for all the other similar trace events,\nand pass in 'ri->crm == 8 ?  0 : 1', deriving the index value\ndirectly from the ARMCPRegInfo struct.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220303202341.2232284-6-peter.maydell@linaro.org",1,0.9997240900993348,ARM,hw/intc/arm_gicv3_cpuif.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9bbdfe0569cc16199ed1a7deb77680b9d5051d1e,ae945a00ff465f2e08be6ca6d83946fe5f9d6018,Cdric Le Goater,2022-03-08,"aspeed/smc: Let the SSI core layer define the bus name\n\nIf no id is provided, qdev automatically assigns an unique name with\nthe following pattern ""<type>.<index>"" which avoids bus name collision\nwhen using multiple buses.\n\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nMessage-Id: <20220307071856.1410731-6-clg@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9532907605171204,SSI,hw/ssi/aspeed_smc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c291635867a03c9217bd9610fe2a16d997932ec0,5e0c126aada959f1474ab633931e22d92869c44f,Bernhard Beschow,2022-02-17,hw/mips/gt64xxx_pci: Fix PCI IRQ levels to be preserved during migration\n\nBased on commit e735b55a8c11dd455e31ccd4420e6c9485191d0c:\n\n  piix_pci: eliminate PIIX3State::pci_irq_levels\n\n  PIIX3State::pci_irq_levels are redundant which is already tracked by\n  PCIBus layer. So eliminate them.\n\nThe IRQ levels in the PCIBus layer are already preserved during\nmigration. By reusing them and rather than having a redundant implementation\nthe bug is avoided in the first place.\n\nSuggested-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Bernhard Beschow <shentey@gmail.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-Id: <20220217101924.15347-2-shentey@gmail.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>,1,0.9996033310890198,"PCI, PIIX3",hw/mips/gt64xxx_pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,34e57845d078469be94fc108d5fd283f8787bd76,19b82e3e44c8ed7a2e06eb2027f0a2808aa8142b,Bernhard Beschow,2022-02-17,"hw/isa/piix4: Resolve global instance variable\n\nNow that piix4_set_irq's opaque parameter references own PIIX4State,\npiix4_dev becomes redundant.\n\nSigned-off-by: Bernhard Beschow <shentey@gmail.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-Id: <20220217101924.15347-6-shentey@gmail.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9996685981750488,PIIX4,"hw/isa/piix4.c, include/hw/southbridge/piix.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,44d827ea69e6d0e1d7f1855b155ebe02a2b7768a,1416688c53be6535be755b44c15fb2eb9defd20f,Daniel Henrique Barboza,2022-03-14,qtest/meson.build: check CONFIG_TCG for prom-env-test in qtests_ppc\n\n'prom-env-test' is a TCG test that will fail if QEMU is compiled with\n--disable-tcg:\n\n$ QTEST_QEMU_BINARY=./qemu-system-ppc64 ./tests/qtest/prom-env-test\n/ppc64/prom-env/mac99: qemu-system-ppc64: -accel tcg: invalid accelerator tcg\n(... hangs indefinitely ...)\n\nFix it by checking CONFIG_TCG before compiling prom-env-test.\n\nCc: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20220303153517.168943-2-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>,1,0.999330997467041,TCG,tests/qtest/meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,74884cb1a6d0fa193a20b2d1bb1131f50eb2732a,44d827ea69e6d0e1d7f1855b155ebe02a2b7768a,Daniel Henrique Barboza,2022-03-14,"qtest/meson.build: check CONFIG_TCG for boot-serial-test in qtests_ppc\n\n'boot-serial-test' does not work with a QEMU built with --disable-tcg in\na IBM POWER9 host. The reason is that without TCG QEMU will default to\nKVM acceleration, but then the KVM module in IBM POWER hosts aren't able\nto handle other CPUs.\n\nThe result is that the test will break with a KVM error when trying to\nruin the ppce500 test:\n\n$ QTEST_QEMU_BINARY=./qemu-system-ppc64 ./tests/qtest/boot-serial-test\n/ppc64/boot-serial/ppce500: qemu-system-ppc64: -accel tcg: invalid accelerator tcg\nerror: kvm run failed Invalid argument\nNIP 0000000000f00000   LR 0000000000000000 CTR 0000000000000000 XER 0000000000000000 CPU#0\nMSR 0000000000000000 HID0 0000000000000000  HF 24020002 iidx 1 didx 1\nTB 00000000 00000000 DECR 0\n(...)\n** (./tests/qtest/boot-serial-test:1935760): ERROR **: 07:44:03.010: Failed to find expected string. Please check '/tmp/qtest-boot-serial-sJ78sqg'\n\nFix it by checking CONFIG_TCG before compiling boot-serial-test.\n\nCc: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20220303153517.168943-3-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.999591052532196,"KVM, TCG",tests/qtest/meson.build,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6b87d614fed76a9256cda46f4b2d11b423493b57,74884cb1a6d0fa193a20b2d1bb1131f50eb2732a,Daniel Henrique Barboza,2022-03-14,"avocado/boot_linux_console.py: check for tcg in test_ppc_powernv8/9\n\nThe PowerNV8/9 machines does not work with KVM acceleration, meaning\nthat boot_linux_console.py:BootLinuxConsole.test_ppc_powernv8/9 tests\nwill always fail when QEMU is compiled with --disable-tcg:\n\nERROR 1-tests/avocado/boot_linux_console.py:BootLinuxConsole.test_ppc_powernv8\n-> VMLaunchFailure: ConnectError: Failed to establish session:\n[Errno 104] Connection reset by peer\n        Exit code: 1\n        Command: ./qemu-system-ppc64 -display none -vga none -chardev socket,id=mon,path=/var/tmp/avo_qemu_sock_no19zg0m/qemu-1936936-7fffa77cff98-monitor.sock -mon chardev=mon,mode=control -machine powernv8 -chardev socket,id=console,path=/var/tmp/avo_qemu_sock_no19zg0m/qemu-1936936-7fffa77cff98-console.sock,server=on,wait=off -serial chardev:console -kernel /home/danielhb/avocado/data/cache/by_location/4514304e2c4ee84c5f0b5c8bacedda783891df68/zImage.epapr -append console=tty0 console=hvc0 -device pcie-pci-bridge,id=bridge1,bus=pcie.1,addr=0x0 -device nvme,bus=pcie.2,addr=0x0,serial=1234 -device e1000e,bus=bridge1,addr=0x3 -device nec-usb-xhci,bus=bridge1,addr=0x2\n        Output: qemu-system-ppc64: The powernv machine does not work with KVM acceleration\n\nLet's add the TCG accel requirement in both tests to skip them if we\ndon't have TCG support available.\n\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20220303153517.168943-4-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9996565580368042,"KVM, TCG",tests/avocado/boot_linux_console.py,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,89b65e3072d422a32897dfbe649d0df1013df80d,d78fb13d6b501f183e280f0b1bfb79480c478e84,Daniel Henrique Barboza,2022-03-14,"avocado/replay_kernel.py: make tcg-icount check in run_vm()\n\nThe icount framework relies on TCG availability. If QEMU is built with\n--disable-tcg we won't have icount either, and then this test will fail\nwith the following message in an IBM POWER9 host:\n\ntests/avocado/replay_kernel.py:ReplayKernelNormal.test_ppc64_pseries:\nERROR: ConnectError: Failed to establish session:\n(...)\n/11-tests_avocado_replay_kernel.py_ReplayKernelNormal.test_ppc64_pseries/replay.bin:\ncannot configure icount, TCG support not available\n\nAlthough this was revealed in a specific ppc64 scenario, the TCG check\nis being done in the common code inside run_vm() because all archs need\nTCG to have access to icount.\n\nCc: Pavel Dovgalyuk <pavel.dovgaluk@ispras.ru>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20220303153517.168943-6-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9995019435882568,TCG,tests/avocado/replay_kernel.py,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,daff68ccd1780dfccd890b5849bbb176f0a51ef3,89b65e3072d422a32897dfbe649d0df1013df80d,Daniel Henrique Barboza,2022-03-14,"avocado/boot_linux_console.py: check TCG accel in test_ppc_g3beige()\n\nThis test breaks when run in an IBM POWER host with a QEMU compiled\nwith --disable-tcg and the ppc-softmmu target.\n\nOne thing to note is that the error message explictly mentions kvm_pr\nsupport:\n\nCommand: ./qemu-system-ppc -display none -vga none (...)\n-machine g3beige (...)\n        Output: ioctl(KVM_CREATE_VM) failed: 22 Invalid argument\nPPC KVM module is not loaded. Try modprobe kvm_pr.\nqemu-system-ppc: failed to initialize kvm: Invalid argument\n\nThe host was running kvm_hv, not kvm_pr, and the machine failed to load.\n\nUnfortunately we don't have a way to detect whether the KVM module loaded\nis kvm_hv or kvm_pr - we do a check for /dev/kvm to detect KVM support but\nboth modules create this file so that's not helpful.\n\nLet's skip this test for now until we have a way of detecting kvm_pr support in the host.\n\nReported-by: Murilo Opsfelder Araujo <muriloo@linux.ibm.com>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20220310183011.110391-2-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9996294975280762,"KVM, PPC, TCG",tests/avocado/boot_linux_console.py,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ff110c18bf22b746b8a30c295a64f8f1045d0397,daff68ccd1780dfccd890b5849bbb176f0a51ef3,Daniel Henrique Barboza,2022-03-14,"avocado/boot_linux_console.py: check TCG accel in test_ppc_mac99()\n\nThis test breaks when run in an IBM POWER host with a QEMU compiled\nwith --disable-tcg and the ppc-softmmu target in a similar manner as\ntest_ppc_g3beige did.\n\nThere's also an observation made about kvm_pr in the error message:\n\nCommand: ./qemu-system-ppc -display none -vga none (...)\n-machine mac99 (...)\n        Output: ioctl(KVM_CREATE_VM) failed: 22 Invalid argument\nPPC KVM module is not loaded. Try modprobe kvm_pr.\nqemu-system-ppc: failed to initialize kvm: Invalid argument\n\nThis means that, when/if we're able to detect kvm_pr support in these\navocado tests, we can revisit this test to not rely solely on TCG\navailability.\n\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20220310183011.110391-3-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9995180368423462,"KVM, PPC, TCG",tests/avocado/boot_linux_console.py,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6e73b98a1b2876a565414c4db03149217190b3cd,d08b9b76580662e1064ece0b07b1c438fb6f571d,Daniel Henrique Barboza,2022-03-14,"avocado/ppc_405.py: check TCG accel in test_ppc_ref405ep()\n\nRunning this test without TCG support in an IBM POWER server results\nin the following error:\n\n        Command: ./qemu-system-ppc -display none -vga none (...)\n-machine ref405ep (...)\n        Output: qemu-system-ppc: Register sync failed... If you're using\nkvm-hv.ko, only ""-cpu host"" is possible\nqemu-system-ppc: kvm_init_vcpu: kvm_arch_init_vcpu failed (0): Invalid argument\n\nAlthough the host is running kvm_hv we don't have a way of differentiate\nbetween kvm_hv and kvm_pr, meaning that this test would've failed in the\nsame way if kvm_pr was the KVM module loaded in the host.\n\nSince we don't have a way of checking which KVM module is being loaded\nwhen using avocado, make a TCG accel check in test_ppc_ref405ep().\n\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20220310183011.110391-5-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.999665141105652,"KVM, TCG",tests/avocado/ppc_405.py,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4e653f0aa8db4fb8f4fc48f0d5231f2b9bc3a9e5,6e73b98a1b2876a565414c4db03149217190b3cd,Daniel Henrique Barboza,2022-03-14,"avocado/ppc_74xx.py: check TCG accel for all tests\n\nAll tests of this file, when running in an IBM POWER host and with\n--disable-tcg, fail in a similar manner:\n\n        Command: ./qemu-system-ppc -display none -vga none (...)\n-cpu 7400 (...)\n        Output: ioctl(KVM_CREATE_VM) failed: 22 Invalid argument\nPPC KVM module is not loaded. Try modprobe kvm_pr.\nqemu-system-ppc: failed to initialize kvm: Invalid argument\n\nWe don't have a way of telling which KVM module is loaded in a Power\nhost (kvm_hv or kvm_pr). For now let's make all the tests of this\nfile depend on TCG support.\n\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20220310183011.110391-6-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9994425177574158,"KVM, PPC, TCG",tests/avocado/ppc_74xx.py,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,486ff2896e5bab24403545068dafc1e21bb5c38c,32768847b7c902a84f8d291797206b575e105d94,Daniel Henrique Barboza,2022-03-14,"avocado/ppc_prep_40p.py: check TCG accel in all tests\n\nAll tests in the file times out when running in an IBM POWER host and\n--disable-tcg with an error like the following:\n\n        Command: ./qemu-system-ppc -display none -vga none (...)\n-machine 40p (...)\n        Output: qemu-system-ppc: Register sync failed... If you're using\nkvm-hv.ko, only ""-cpu host"" is possible\nqemu-system-ppc: kvm_init_vcpu: kvm_arch_init_vcpu failed (0): Invalid argument\n\nSince we don't have a way to detect whether the host is running kvm_hv\nor kvm_pr, skip all tests if TCG is not available.\n\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20220310183011.110391-9-danielhb413@gmail.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9996604919433594,TCG,tests/avocado/ppc_prep_40p.py,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5d927bceaf882770790800d8069fcaa0c9034a7f,52d324ff13fcf97bc31f2e24803e366d330aa7cc,Cdric Le Goater,2022-03-14,"ppc/xive2: Make type Xive2EndSource not user creatable\n\nXive2EndSource objects can only be instantiated through a Xive2Router\n(PnvXive2).\n\nReported-by: Thomas Huth <thuth@redhat.com>\nFixes: f8a233dedf25 (""ppc/xive2: Introduce a XIVE2 core framework"")\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9995142221450806,XIVE,hw/intc/xive2.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8e6f45cc3f94d5a1ba5cf0017bc846454b3d3fa3,d3df1f64704d0a189270703ff6406fcfebfd1913,Frederic Barrat,2022-03-14,"ppc/pnv: Always create the PHB5 PEC devices\n\nAlways create the PECs (PCI Express Controller) for the system. The\nPECs host the PHBs and we try to find the matching PEC when creating a\nPHB, so it must exist. It also matches what we do on POWER9\n\nFixes: 623575e16cd5 (""ppc/pnv: Add model for POWER10 PHB5 PCIe Host bridge"")\nSigned-off-by: Frederic Barrat <fbarrat@linux.ibm.com>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\n[ clg: - Rewored commit log\n       - Removed dynamic PHB5 ]\nMessage-Id: <20220310155101.294568-3-fbarrat@linux.ibm.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.99906188249588,PCI,hw/ppc/pnv.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6e5f9fb7993aa3de5295ae2dbada39258ed333ac,a66669c942077d53414ae0894e9fba3ddc18f58d,Richard Henderson,2022-03-02,"tcg/s390x: Fix INDEX_op_bitsel_vec vs VSEL\n\nThe operands are output in the wrong order: the tcg selector\nargument is first, whereas the s390x selector argument is last.\n\nTested-by: Thomas Huth <thuth@redhat.com>\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/898\nFixes: 9bca986df88 (""tcg/s390x: Implement TCG_TARGET_HAS_bitsel_vec"")\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9997127652168274,TCG,tcg/s390x/tcg-target.c.inc,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5ad93fd351b303172732f3cea953c67fa7fa336e,e561890841e8b1ab49a5610dd811ab732904fb1f,Ivan Shcherbakov,2022-02-22,"whpx: Fixed incorrect CR8/TPR synchronization\n\nThis fixes the following error triggered when stopping and resuming a 64-bit\nLinux kernel via gdb:\n\nqemu-system-x86_64.exe: WHPX: Failed to set virtual processor context, hr=c0350005\n\nThe previous logic for synchronizing the values did not take into account\nthat the lower 4 bits of the CR8 register, containing the priority level,\nmapped to bits 7:4 of the APIC.TPR register (see section 10.8.6.1 of\nVolume 3 of Intel 64 and IA-32 Architectures Software Developer's Manual).\nThe caused WHvSetVirtualProcessorRegisters() to fail with an error,\neffectively preventing GDB from changing the guest context.\n\nSigned-off-by: Ivan Shcherbakov <ivan@sysprogs.com>\nMessage-Id: <010b01d82874$bb4ef160$31ecd420$@sysprogs.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996943473815918,"APIC, WHPX",target/i386/whpx/whpx-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,131266b7565bd437127bd231563572696bb27235,1ea5208febcc068449b63282d72bb719ab67a466,Jing Liu,2022-02-16,"x86: Fix the 64-byte boundary enumeration for extended state\n\nThe extended state subleaves (EAX=0Dh, ECX=n, n>1).ECX[1]\nindicate whether the extended state component locates\non the next 64-byte boundary following the preceding state\ncomponent when the compacted format of an XSAVE area is\nused.\n\nRight now, they are all zero because no supported component\nneeded the bit to be set, but the upcoming AMX feature will\nuse it.  Fix the subleaves value according to KVM's supported\ncpuid.\n\nSigned-off-by: Jing Liu <jing2.liu@intel.com>\nSigned-off-by: Yang Zhong <yang.zhong@intel.com>\nMessage-Id: <20220217060434.52460-2-yang.zhong@intel.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996683597564696,KVM,"target/i386/cpu.c, target/i386/cpu.h, target/i386/kvm/kvm-cpu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9eb840a20998a97c0ad0f5ced6ebc7e6a88a4dc4,6832deb8ff0807e0b46a8a67f5d2abfa36ca3b47,Thomas Huth,2022-03-17,"hw/display/vga: Report a proper error when adding a 2nd ISA VGA\n\nQEMU currently abort()s if the user tries to add a second ISA VGA\ndevice, for example:\n\n$ ./qemu-system-x86_64 -device isa-vga -device isa-vga\nRAMBlock ""vga.vram"" already registered, abort!\nAborted (core dumped)\n$ ./qemu-system-x86_64 -device isa-cirrus-vga -device isa-cirrus-vga\nRAMBlock ""vga.vram"" already registered, abort!\nAborted (core dumped)\n$ ./qemu-system-mips64el -M pica61 -device isa-vga\nRAMBlock ""vga.vram"" already registered, abort!\nAborted (core dumped)\n\nSuch a crash should never happen just because of giving bad parameters\nat the command line. Let's return a proper error message instead.\n(The idea is based on an original patch by Jose R. Ziviani for the\nisa-vga device, but this now fixes it for the isa-cirrus-vga device, too)\n\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/44\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20220317083027.16688-4-thuth@redhat.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>",1,0.9993403553962708,VGA,hw/display/vga.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,39a1fd25287f5dece59fdf4752491faf59310296,c179d3be7bd03edb717c4b953faa285513b6301f,Peter Maydell,2022-03-04,"target/arm: Fix handling of LPAE block descriptors\n\nLPAE descriptors come in three forms:\n\n * table descriptors, giving the address of the next level page table\n * page descriptors, which occur only at level 3 and describe the\n   mapping of one page (which might be 4K, 16K or 64K)\n * block descriptors, which occur at higher page table levels, and\n   describe the mapping of huge pages\n\nQEMU's page-table-walk code treats block and page entries\nidentically, simply ORing in a number of bits from the input virtual\naddress that depends on the level of the page table that we stopped\nat; we depend on the previous masking of descaddr with descaddrmask\nto have already cleared out the low bits of the descriptor word.\n\nThis is not quite right: the address field in a block descriptor is\nsmaller, and so there are bits which are valid address bits in a page\ndescriptor or a table descriptor but which are not supposed to be\npart of the address in a block descriptor, and descaddrmask does not\nclear them.  We previously mostly got away with this because those\ndescriptor bits are RES0; however with FEAT_BBM (part of Armv8.4)\nblock descriptor bit 16 is defined to be the nT bit.  No emulated\nQEMU CPU has FEAT_BBM yet, but if the host CPU has it then we might\nsee it when using KVM or hvf.\n\nExplicitly zero out all the descaddr bits we're about to OR vaddr\nbits into.\n\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/790\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220304165628.2345765-1-peter.maydell@linaro.org",1,0.9997022747993468,KVM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,299b4a3ecf1c7dcc57e55150d4cb234340749854,16d91e06b37fca0772866e12d4e146a519841b0f,Eric Auger,2022-03-08,"hw/arm/virt: Fix gic-version=max when CONFIG_ARM_GICV3_TCG is unset\n\nIn TCG mode, if gic-version=max we always select GICv3 even if\nCONFIG_ARM_GICV3_TCG is unset. We shall rather select GICv2.\nThis also brings the benefit of fixing qos tests errors for tests\nusing gic-version=max with CONFIG_ARM_GICV3_TCG unset.\n\nSigned-off-by: Eric Auger <eric.auger@redhat.com>\nReviewed-by: Andrew Jones <drjones@redhat.com>\nMessage-id: 20220308182452.223473-3-eric.auger@redhat.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997268319129944,"ARM, ARM_GIC, ARM_GICV3_TCG, TCG",hw/arm/virt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,79fa99831debc9782087e834382c577215f2f511,be5a8cf347d0c47ee3e933dde075526fd8bd5c40,Philippe Mathieu-Daud,2021-12-18,hw/audio/intel-hda: Restrict DMA engine to memories (not MMIO devices)\n\nIssue #542 reports a reentrancy problem when the DMA engine accesses\nthe HDA controller I/O registers. Fix by restricting the DMA engine\nto memories regions (forbidding MMIO devices such the HDA controller).\n\nReported-by: OSS-Fuzz (Issue 28435)\nReported-by: Alexander Bulekov <alxndr@bu.edu>\nSigned-off-by: Philippe Mathieu-Daud <philmd@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/542\nCVE: CVE-2021-3611\nMessage-Id: <20211218160912.1591633-3-philmd@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>,1,0.9996485710144044,HDA,hw/audio/intel-hda.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,799f7f0104a3f2e0fea06ee7b31a1c293cd7c948,78e619cbd5d5a30f0a849c183391b8f87f8099e6,Philippe Mathieu-Daud,2021-12-15,"hw/sd/sdhci: Prohibit DMA accesses to devices\n\nThe issue reported by OSS-Fuzz produces the following backtrace:\n\n  ==447470==ERROR: AddressSanitizer: heap-buffer-overflow\n  READ of size 1 at 0x61500002a080 thread T0\n      #0 0x71766d47 in sdhci_read_dataport hw/sd/sdhci.c:474:18\n      #1 0x7175f139 in sdhci_read hw/sd/sdhci.c:1022:19\n      #2 0x721b937b in memory_region_read_accessor softmmu/memory.c:440:11\n      #3 0x72171e51 in access_with_adjusted_size softmmu/memory.c:554:18\n      #4 0x7216f47c in memory_region_dispatch_read1 softmmu/memory.c:1424:16\n      #5 0x7216ebb9 in memory_region_dispatch_read softmmu/memory.c:1452:9\n      #6 0x7212db5d in flatview_read_continue softmmu/physmem.c:2879:23\n      #7 0x7212f958 in flatview_read softmmu/physmem.c:2921:12\n      #8 0x7212f418 in address_space_read_full softmmu/physmem.c:2934:18\n      #9 0x721305a9 in address_space_rw softmmu/physmem.c:2962:16\n      #10 0x7175a392 in dma_memory_rw_relaxed include/sysemu/dma.h:89:12\n      #11 0x7175a0ea in dma_memory_rw include/sysemu/dma.h:132:12\n      #12 0x71759684 in dma_memory_read include/sysemu/dma.h:152:12\n      #13 0x7175518c in sdhci_do_adma hw/sd/sdhci.c:823:27\n      #14 0x7174bf69 in sdhci_data_transfer hw/sd/sdhci.c:935:13\n      #15 0x7176aaa7 in sdhci_send_command hw/sd/sdhci.c:376:9\n      #16 0x717629ee in sdhci_write hw/sd/sdhci.c:1212:9\n      #17 0x72172513 in memory_region_write_accessor softmmu/memory.c:492:5\n      #18 0x72171e51 in access_with_adjusted_size softmmu/memory.c:554:18\n      #19 0x72170766 in memory_region_dispatch_write softmmu/memory.c:1504:16\n      #20 0x721419ee in flatview_write_continue softmmu/physmem.c:2812:23\n      #21 0x721301eb in flatview_write softmmu/physmem.c:2854:12\n      #22 0x7212fca8 in address_space_write softmmu/physmem.c:2950:18\n      #23 0x721d9a53 in qtest_process_command softmmu/qtest.c:727:9\n\nA DMA descriptor is previously filled in RAM. An I/O access to the\ndevice (frames #22 to #16) start the DMA engine (frame #13). The\nengine fetch the descriptor and execute the request, which itself\naccesses the SDHCI I/O registers (frame #1 and #0), triggering a\nre-entrancy issue.\n\nFix by prohibit transactions from the DMA to devices. The DMA engine\nis thus restricted to memories.\n\nReported-by: OSS-Fuzz (Issue 36391)\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/451\nMessage-Id: <20211215205656.488940-3-philmd@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.99967360496521,SDHCI,hw/sd/sdhci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,17e6ffa6a5d2674cb2ebfd967d28b1048261d977,3ec5ad40081b14af28496198b4d08dbe13386790,Paolo Bonzini,2022-03-21,"hw/i386/amd_iommu: Fix maybe-uninitialized error with GCC 12\n\nBe more explicit that the loop must roll at least once.  Avoids the\nfollowing warning:\n\n  FAILED: libqemu-x86_64-softmmu.fa.p/hw_i386_amd_iommu.c.o\n  In function 'pte_get_page_mask',\n      inlined from 'amdvi_page_walk' at hw/i386/amd_iommu.c:945:25,\n      inlined from 'amdvi_do_translate' at hw/i386/amd_iommu.c:989:5,\n      inlined from 'amdvi_translate' at hw/i386/amd_iommu.c:1038:5:\n  hw/i386/amd_iommu.c:877:38: error: 'oldlevel' may be used uninitialized [-Werror=maybe-uninitialized]\n    877 |     return ~((1UL << ((oldlevel * 9) + 3)) - 1);\n        |                      ~~~~~~~~~~~~~~~~^~~~\n  hw/i386/amd_iommu.c: In function 'amdvi_translate':\n  hw/i386/amd_iommu.c:906:41: note: 'oldlevel' was declared here\n    906 |     unsigned level, present, pte_perms, oldlevel;\n        |                                         ^~~~~~~~\n  cc1: all warnings being treated as errors\n\nHaving:\n\n  $ gcc --version\n  gcc (Debian 12-20220313-1) 12.0.1 20220314 (experimental)\n\nReported-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997101426124572,LED,hw/i386/amd_iommu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3213bbaf5797cc405e57f122e72c1fb55d0b08ab,330724977b10f5b92610817e8b7d1dfed122df87,laokz,2022-03-08,"tests: add (riscv virt) machine mapping to testenv\n\nSome qemu-iotests(040 etc) use PCI disk to do test. Without the\nmapping, RISC-V flavor use spike as default machine which has no\nPCI bus, causing test failure.\n\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/894\n\nSigned-off-by: Kai Zhang <laokz@foxmail.com>\nMessage-Id: <tencent_E4219E870165A978DB5BBE50BD53D33D2E06@qq.com>\nReviewed-by: Alistair Francis <alistair.francis@wdc.com>\nSigned-off-by: Hanna Reitz <hreitz@redhat.com>",1,0.9995965361595154,PCI,tests/qemu-iotests/testenv.py,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5324e3e958e87083c87e2965b6c87db24c6afa90,48fb0a826eea2e7b0135f49e7fa63e7efe2b7677,Marc-Andr Lureau,2021-09-09,qemu-options: define -spice only #ifdef CONFIG_SPICE\n\nFixes:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1982600\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Philippe Mathieu-Daud <philmd@redhat.com>,1,0.9978012442588806,SPICE,"qemu-options.hx, softmmu/vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,80f0fe3a854081e6d2e3a35275eeec1e2e9a7794,48fb0a826eea2e7b0135f49e7fa63e7efe2b7677,WANG Xuerui,2022-03-20,"linux-user: Fix syscall parameter handling for MIPS n32\n\nThe MIPS n32 ABI is basically n64 with the address space (i.e. pointer\nwidth) shrinked to 32 bits. Meanwhile the current code treats it as\no32-like based on TARGET_ABI_BITS, which causes problems with n32\nsyscalls utilizing 64-bit offsets, like pread64, affecting most (if not\nall) recently built n32 binaries.\n\nThis partially solves issue #909 (""qemu-mipsn32(el) user mode emulator\nfails to execute any recently built n32 binaries""); with this change\napplied, the built qemu-mipsn32el is able to progress beyond the\npread64, and finish _dl_start_user for the ""getting ld.so load libc.so""\ncase. The program later dies with SIGBUS, though, due to _dl_start_user\nnot maintaining stack alignment after removing ld.so itself from argv,\nand qemu-user starting to enforce alignment recently, but that is\northogonal to the issue here; the more common case of chrooting is\nworking, verified with my own-built Gentoo n32 sysroot. (Depending on\nthe exact ISA used, one may have to explicitly specify QEMU_CPU, which\nis the case for my chroot.)\n\nBuglink: https://gitlab.com/qemu-project/qemu/-/issues/909\nSigned-off-by: WANG Xuerui <xen0n@gentoo.org>\nCc: Laurent Vivier <laurent@vivier.eu>\nCc: Philippe Mathieu-Daud <f4bug@amsat.org>\nCc: Jiaxun Yang <jiaxun.yang@flygoat.com>\nCc: Andreas K. Httel <dilfridge@gentoo.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20220320052259.1610883-1-xen0n@gentoo.org>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9997319579124452,MIPS,linux-user/user-internals.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,58f7db26f21c690cf9a669c314cfd7371506084a,cb48748af7dfd7654323eb839d1f853ffa873652,Paolo Bonzini,2022-03-23,"KVM: x86: workaround invalid CPUID[0xD,9] info on some AMD processors\n\nSome AMD processors expose the PKRU extended save state even if they do not have\nthe related PKU feature in CPUID.  Worse, when they do they report a size of\n64, whereas the expected size of the PKRU extended save state is 8, therefore\nthe esa->size == eax assertion does not hold.\n\nThe state is already ignored by KVM_GET_SUPPORTED_CPUID because it\nwas not enabled in the host XCR0.  However, QEMU kvm_cpu_xsave_init()\nruns before QEMU invokes arch_prctl() to enable dynamically-enabled\nsave states such as XTILEDATA, and KVM_GET_SUPPORTED_CPUID hides save\nstates that have yet to be enabled.  Therefore, kvm_cpu_xsave_init()\nneeds to consult the host CPUID instead of KVM_GET_SUPPORTED_CPUID,\nand dies with an assertion failure.\n\nWhen setting up the ExtSaveArea array to match the host, ignore features that\nKVM does not report as supported.  This will cause QEMU to skip the incorrect\nCPUID leaf instead of tripping the assertion.\n\nCloses: https://gitlab.com/qemu-project/qemu/-/issues/916\nReported-by: Daniel P. Berrang <berrange@redhat.com>\nAnalyzed-by: Yang Zhong <yang.zhong@intel.com>\nReported-by: Peter Krempa <pkrempa@redhat.com>\nTested-by: Daniel P. Berrang <berrange@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996854066848756,"KVM, LED","target/i386/cpu.c, target/i386/cpu.h, target/i386/kvm/kvm-cpu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5286c3662294119dc2dd1e9296757337211451f6,de65b39a517c9977769c612af716dc418ce2ea0b,Paolo Bonzini,2022-03-24,"target/i386: properly reset TSC on reset\n\nSome versions of Windows hang on reboot if their TSC value is greater\nthan 2^54.  The calibration of the Hyper-V reference time overflows\nand fails; as a result the processors' clock sources are out of sync.\n\nThe issue is that the TSC _should_ be reset to 0 on CPU reset and\nQEMU tries to do that.  However, KVM special cases writing 0 to the\nTSC and thinks that QEMU is trying to hot-plug a CPU, which is\ncorrect the first time through but not later.  Thwart this valiant\neffort and reset the TSC to 1 instead, but only if the CPU has been\nrun once.\n\nFor this to work, env->tsc has to be moved to the part of CPUArchState\nthat is not zeroed at the beginning of x86_cpu_reset.\n\nReported-by: Vadim Rozenfeld <vrozenfe@redhat.com>\nSupersedes: <20220324082346.72180-1-pbonzini@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9994555115699768,KVM,"target/i386/cpu.c, target/i386/cpu.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8cd0e66353018f63322e0dd200b2d31be265f883,a8749d7cc9210ae76bb7032970ad8a208c67a1f2,WANG Xuerui,2022-03-28,"target/mips: Fix address space range declaration on n32\n\nThis bug is probably lurking there for so long, I cannot even git-blame\nmy way to the commit first introducing it.\n\nAnyway, because n32 is also TARGET_MIPS64, the address space range\ncannot be determined by looking at TARGET_MIPS64 alone. Fix this by only\ndeclaring 48-bit address spaces for n64, or the n32 user emulation will\nhappily hand out memory ranges beyond the 31-bit limit and crash.\n\nConfirmed to make the minimal reproducing example in the linked issue\nbehave.\n\nCloses: https://gitlab.com/qemu-project/qemu/-/issues/939\nCc: Philippe Mathieu-Daud <f4bug@amsat.org>\nCc: Aurelien Jarno <aurelien@aurel32.net>\nCc: Jiaxun Yang <jiaxun.yang@flygoat.com>\nCc: Aleksandar Rikalo <aleksandar.rikalo@syrmia.com>\nSigned-off-by: WANG Xuerui <xen0n@gentoo.org>\nTested-by: Andreas K. Huettel <dilfridge@gentoo.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20220328035942.3299661-1-xen0n@gentoo.org>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.99974125623703,"MIPS, MIPS64",target/mips/cpu-param.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,69bd6cb829d3ce1913eb00cfe84f1b48849fe9e9,aecba61786c1a8dcc1ccca88695422488746ee31,Victor Toso,2022-03-28,qapi: fix example of ACPI_DEVICE_OST event\n\nExample output lacks mandatory member @timestamp.  Provide it.\n\nEvent's @data member is missing @info object. Provide it.\n\nSigned-off-by: Victor Toso <victortoso@redhat.com>\nReviewed-by: John Snow <jsnow@redhat.com>\nMessage-Id: <20220328140604.41484-14-victortoso@redhat.com>\nReviewed-by: Markus Armbruster <armbru@redhat.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>,1,0.9996521472930908,ACPI,qapi/acpi.json,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5a2e67a691501bc4dd81c46c81b8f1881c8bd5df,e7c2d7436e85ae6d1d72b7479c1137faa86f4f58,Bruno Haible,2022-03-23,"target/s390x: Fix determination of overflow condition code after addition\n\nThis program currently prints different results when run with TCG instead\nof running on real s390x hardware:\n\n #include <stdio.h>\n\n int overflow_32 (int x, int y)\n {\n   int sum;\n   return ! __builtin_add_overflow (x, y, &sum);\n }\n\n int overflow_64 (long long x, long long y)\n {\n   long sum;\n   return ! __builtin_add_overflow (x, y, &sum);\n }\n\n int a1 = -2147483648;\n int b1 = -2147483648;\n long long a2 = -9223372036854775808L;\n long long b2 = -9223372036854775808L;\n\n int main ()\n {\n   {\n     int a = a1;\n     int b = b1;\n     printf (""a = 0x%x, b = 0x%x\n"", a, b);\n     printf (""no_overflow = %d\n"", overflow_32 (a, b));\n   }\n   {\n     long long a = a2;\n     long long b = b2;\n     printf (""a = 0x%llx, b = 0x%llx\n"", a, b);\n     printf (""no_overflow = %d\n"", overflow_64 (a, b));\n   }\n }\n\nSigned-off-by: Bruno Haible <bruno@clisp.org>\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/616\nMessage-Id: <20220323162621.139313-2-thuth@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9996967315673828,TCG,target/s390x/tcg/cc_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fc6e0d0f2db5126592bb4066d484fcdfc14ccf36,5a2e67a691501bc4dd81c46c81b8f1881c8bd5df,Bruno Haible,2022-03-23,"target/s390x: Fix determination of overflow condition code after subtraction\n\nReported by Paul Eggert in\nhttps://lists.gnu.org/archive/html/bug-gnulib/2021-09/msg00050.html\n\nThis program currently prints different results when run with TCG instead\nof running on real s390x hardware:\n\n #include <stdio.h>\n\n int overflow_32 (int x, int y)\n {\n   int sum;\n   return __builtin_sub_overflow (x, y, &sum);\n }\n\n int overflow_64 (long long x, long long y)\n {\n   long sum;\n   return __builtin_sub_overflow (x, y, &sum);\n }\n\n int a1 = 0;\n int b1 = -2147483648;\n long long a2 = 0L;\n long long b2 = -9223372036854775808L;\n\n int main ()\n {\n   {\n     int a = a1;\n     int b = b1;\n     printf (""a = 0x%x, b = 0x%x\n"", a, b);\n     printf (""no_overflow = %d\n"", ! overflow_32 (a, b));\n   }\n   {\n     long long a = a2;\n     long long b = b2;\n     printf (""a = 0x%llx, b = 0x%llx\n"", a, b);\n     printf (""no_overflow = %d\n"", ! overflow_64 (a, b));\n   }\n }\n\nSigned-off-by: Bruno Haible <bruno@clisp.org>\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/618\nMessage-Id: <20220323162621.139313-3-thuth@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9996335506439208,TCG,target/s390x/tcg/cc_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7e5157696b97a5431ef8786e01bffe989c05493b,ef95a244949a15b831876fe2d4e1320784729819,Frederic Barrat,2022-04-04,"ppc/pnv: Fix number of registers in the PCIe controller on POWER9\n\nThe spec defines 3 registers, even though only index 0 and 2 are valid\non POWER9. The same model is used on POWER10. Register 1 is defined\nthere but we currently don't use it in skiboot. So we can keep\nreporting an error on write.\n\nReported by Coverity (CID 1487176).\n\nFixes: 4f9924c4d4cf (""ppc/pnv: Add models for POWER9 PHB4 PCIe Host bridge"")\nSuggested-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>\nSigned-off-by: Frederic Barrat <fbarrat@linux.ibm.com>\nReviewed-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20220401091925.770803-1-fbarrat@linux.ibm.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9997233748435974,PCI,include/hw/pci-host/pnv_phb4.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d7482ffe9756919531307330fd1c6dbec66e8c32,9d734b85ed8d89bb9ab8c456b4df23dedf8dbf76,Ivan Shcherbakov,2022-03-02,"whpx: Added support for breakpoints and stepping\n\nBelow is the updated version of the patch adding debugging support to WHPX.\nIt incorporates feedback from Alex Benne and Peter Maydell regarding not\nchanging the emulation logic depending on the gdb connection status.\n\nInstead of checking for an active gdb connection to determine whether QEMU\nshould intercept the INT1 exceptions, it now checks whether any breakpoints\nhave been set, or whether gdb has explicitly requested one or more CPUs to\ndo single-stepping. Having none of these condition present now has the same\neffect as not using gdb at all.\n\nMessage-Id: <0e7f01d82e9e$00e9c360$02bd4a20$@sysprogs.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999081254005432,WHPX,"gdbstub.c, include/sysemu/accel-ops.h, include/sysemu/runstate.h, softmmu/cpus.c, target/i386/whpx/whpx-accel-ops.c, target/i386/whpx/whpx-accel-ops.h, target/i386/whpx/whpx-all.c, target/i386/whpx/whpx-internal.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a83c2844903c45aa7d32cdd17305f23ce2c56ab9,f53faa70bb63cc0c8e2fd0752b7ad2c8a79616ba,Dr. David Alan Gilbert,2022-04-06,"acpi: fix acpi_index migration\n\nvmstate_acpi_pcihp_use_acpi_index() was expecting AcpiPciHpState\nas state but it actually received PIIX4PMState, because\nVMSTATE_PCI_HOTPLUG is a macro and not another struct.\nSo it ended up accessing random pointer, which resulted\nin 'false' return value and acpi_index field wasn't ever\nsent.\n\nHowever in 7.0 that pointer de-references to value > 0, and\ndestination QEMU starts to expect the field which isn't\nsent in migratioon stream from older QEMU (6.2 and older).\nAs result migration fails with:\n  qemu-system-x86_64: Missing section footer for 0000:00:01.3/piix4_pm\n  qemu-system-x86_64: load of migration failed: Invalid argument\n\nIn addition with QEMU-6.2, destination due to not expected\nstate, also never expects the acpi_index field in migration\nstream.\n\nQ35 is not affected as it always sends/expects the field as\nlong as acpi based PCI hotplug is enabled.\n\nFix issue by introducing compat knob to never send/expect\nacpi_index in migration stream for 6.2 and older PC machine\ntypes and always send it for 7.0 and newer PC machine types.\n\nDiagnosed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nFixes: b32bd76 (""pci: introduce acpi-index property for PCI device"")\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/932\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999721348285675,"PCI, PIIX4, Q35","hw/acpi/acpi-pci-hotplug-stub.c, hw/acpi/pcihp.c, hw/acpi/piix4.c, hw/core/machine.c, include/hw/acpi/pcihp.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4bf58c7213b0ab03209a53731c71f0861c35ef91,dde8689d1fe82e295a278ba4bf1abd9be5c7bcab,Wentao Liang,2022-04-07,"virtio-iommu: use-after-free fix\n\nA potential Use-after-free was reported in virtio_iommu_handle_command\nwhen using virtio-iommu:\n\n> I find a potential Use-after-free in QEMU 6.2.0, which is in\n> virtio_iommu_handle_command() (./hw/virtio/virtio-iommu.c).\n>\n>\n> Specifically, in the loop body, the variable 'buf' allocated at line 639 can be\n> freed by g_free() at line 659. However, if the execution path enters the loop\n> body again and the if branch takes true at line 616, the control will directly\n> jump to 'out' at line 651. At this time, 'buf' is a freed pointer, which is not\n> assigned with an allocated memory but used at line 653. As a result, a UAF bug\n> is triggered.\n>\n>\n>\n> 599     for (;;) {\n> ...\n> 615         sz = iov_to_buf(iov, iov_cnt, 0, &head, sizeof(head));\n> 616         if (unlikely(sz != sizeof(head))) {\n> 617             tail.status = VIRTIO_IOMMU_S_DEVERR;\n> 618             goto out;\n> 619         }\n> ...\n> 639             buf = g_malloc0(output_size);\n> ...\n> 651 out:\n> 652         sz = iov_from_buf(elem->in_sg, elem->in_num, 0,\n> 653                           buf ? buf : &tail, output_size);\n> ...\n> 659         g_free(buf);\n>\n> We can fix it by set buf to NULL after freeing it:\n>\n>\n> 651 out:\n> 652         sz = iov_from_buf(elem->in_sg, elem->in_num, 0,\n> 653                           buf ? buf : &tail, output_size);\n> ...\n> 659         g_free(buf);\n> +++ buf = NULL;\n> 660     }\n\nFix as suggested by the reporter.\n\nSigned-off-by: Wentao Liang <Wentao_Liang_g@163.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-id: 20220407095047.50371-1-mst@redhat.com\nMessage-ID: <20220406040445-mutt-send-email-mst@kernel.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9997040629386902,"VIRTIO, VIRTIO_IOMMU",hw/virtio/virtio-iommu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d22697dde0944e5137a8315f4e1a88979fb0ada7,a43de7980265323db4ee752b218dc784e3c69f9f,Paolo Bonzini,2022-04-11,"target/i386: do not access beyond the low 128 bits of SSE registers\n\nThe i386 target consolidates all vector registers so that instead of\nXMMReg, YMMReg and ZMMReg structs there is a single ZMMReg that can\nfit all of SSE, AVX and AVX512.\n\nWhen TCG copies data from and to the SSE registers, it uses the\nfull 64-byte width.  This is not a correctness issue because TCG\nnever lets guest code see beyond the first 128 bits of the ZMM\nregisters, however it causes uninitialized stack memory to\nmake it to the CPU's migration stream.\n\nFix it by only copying the low 16 bytes of the ZMMReg union into\nthe destination register.\n\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9996047616004944,TCG,target/i386/ops_sse.h,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c74824389e1a56781f947e23da68742e8faeaf77,55d71e0b784e03dbd15bc13d75af88ed5340fde8,Richard Henderson,2022-03-16,"tcg: Fix indirect lowering vs TCG_OPF_COND_BRANCH\n\nWith TCG_OPF_COND_BRANCH, we extended the lifetimes of\nglobals across extended basic blocks.  This means that\nthe liveness computed in pass 1 does not kill globals\nin the same way as normal temps.\n\nIntroduce TYPE_EBB to match this lifetime, so that we\nget correct register allocation for the temps that we\nintroduce during the indirect lowering pass.\n\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nFixes: b4cb76e6208 (""tcg: Do not kill globals at conditional branches"")\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>",1,0.9996955394744872,TCG,"include/tcg/tcg.h, tcg/tcg.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,747421e949fc1eb3ba66b5fcccdb7ba051918241,9c125d17e9402c232c46610802e5931b3639d77b,Sakshi Kaushik,2022-04-06,"Implements Backend Program conventions for vhost-user-scsi\n\nSigned-off-by: Sakshi Kaushik <sakshikaushik717@gmail.com>\nMessage-id: 20220406162410.8536-1-sakshikaushik717@gmail.com\n\n[Name the iSCSI URL long option --iscsi-uri instead of --iscsi_uri for\nconsistency, fix --fd which was rejected due to an outdated\n--socket-path check, and add missing entries[] terminator.\n--Stefan]\n\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.9996094107627868,SCSI,contrib/vhost-user-scsi/vhost-user-scsi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,78255ce392dc8596f9886476ad1e5c3c67f1c10a,9c125d17e9402c232c46610802e5931b3639d77b,Peter Maydell,2022-04-04,"hw/arm/virt: Check for attempt to use TrustZone with KVM or HVF\n\nIt's not possible to provide the guest with the Security extensions\n(TrustZone) when using KVM or HVF, because the hardware\nvirtualization extensions don't permit running EL3 guest code.\nHowever, we weren't checking for this combination, with the result\nthat QEMU would assert if you tried it:\n\n$ qemu-system-aarch64 -enable-kvm -machine virt,secure=on -cpu host -display none\nUnexpected error in object_property_find_err() at ../../qom/object.c:1304:\nqemu-system-aarch64: Property 'host-arm-cpu.secure-memory' not found\nAborted\n\nCheck for this combination of options and report an error, in the\nsame way we already do for attempts to give a KVM or HVF guest the\nVirtualization or MTE extensions. Now we will report:\n\nqemu-system-aarch64: mach-virt: KVM does not support providing Security extensions (TrustZone) to the guest CPU\n\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/961\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220404155301.566542-1-peter.maydell@linaro.org",1,0.9996283054351808,"HVF, KVM",hw/arm/virt.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0dee4daca37e1547b4b2a24d5a2318d5e5a5af89,7582d930dad3331bfdd7a4e1fe5d2080051d10d9,Peter Maydell,2022-04-04,"hw/arm/exynos4210: Fill in irq_table[] for internal-combiner-only IRQ lines\n\nIn exynos4210_init_board_irqs(), the loop that handles IRQ lines that\nare in a range that applies to the internal combiner only creates a\nsplitter for those interrupts which go to both the internal combiner\nand to the external GIC, but it does nothing at all for the\ninterrupts which don't go to the external GIC, leaving the\nirq_table[] array element empty for those.  (This will result in\nthose interrupts simply being lost, not in a QEMU crash.)\n\nI don't have a reliable datasheet for this SoC, but since we do wire\nup one interrupt line in this category (the HDMI I2C device on\ninterrupt 16,1), this seems like it must be a bug in the existing\nQEMU code.  Fill in the irq_table[] entries where we're not splitting\nthe IRQ to both the internal combiner and the external GIC with the\nIRQ line of the internal combiner.  (That is, these IRQ lines go to\njust one device, not multiple.)\n\nThis bug didn't have any visible guest effects because the only\nimplemented device that was affected was the HDMI I2C controller,\nand we never connect any I2C devices to that bus.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220404154658.565020-14-peter.maydell@linaro.org",1,0.9873195886611938,I2C,hw/arm/exynos4210.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e5c41835250ebb3f0297606bc7cc48cfa5474e8f,7a42e6885aab340c1fad8efea95929b673714ecc,Marc-Andr Lureau,2022-04-20,"arm/digic: replace snprintf() with g_strdup_printf()\n\nAlso fixes a GCC 12.0.1 false-positive:\n../hw/arm/digic.c: In function digic_init:\n../hw/arm/digic.c:45:54: error: %d directive output may be truncated writing between 1 and 11 bytes into a region of size 5 [-Werror=format-truncation=]\n   45 |         snprintf(name, DIGIC_TIMER_NAME_MLEN, ""timer[%d]"", i);\n      |                                                      ^~\n\nSigned-off-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Daniel P. Berrang <berrange@redhat.com>\nMessage-Id: <20220420132624.2439741-14-marcandre.lureau@redhat.com>",1,0.9988582134246826,DIGIC,hw/arm/digic.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,01d90db59978731e35c97ead30d891829929867d,c89a9d139bc8ba39c0d88840da47cc69ff9037d5,Richard Henderson,2022-04-17,"target/arm: Use tcg_constant in translate-m-nocp.c\n\nUse tcg_constant_{i32,i64} as appropriate throughout.\nThis fixes a bug in trans_VSCCLRM() where we were leaking a TCGv.\n\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9996423721313475,TCG,target/arm/translate-m-nocp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9aaf11e7f2b5487b684e900cf164f0aef25f72ab,c6b310b37c3e3f898d56955646e6d49c60ef7a63,Daniel P. Berrang,2022-03-31,hw/char: fix qcode array bounds check in ESCC impl\n\nThere was an off-by-1 in the qcode conversion array bounds\ncheck.\n\nFixes: e709a61a8fe1076a487376fd657544418a38ba06\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>,1,0.9996808767318726,ESCC,hw/char/escc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,410c6aaa3b44d5bdd1af7c1a465be7d5df2dfbf0,0e6f22c561a5e9e02dcfa535c4573b0344d4b2ba,Richard Henderson,2022-04-21,"target/nios2: Implement Misaligned destination exception\n\nIndirect branches, plus eret and bret optionally raise\nan exception when branching to a misaligned address.\nThe exception is required when an mmu is enabled, but\nenable it always because the fallback behaviour is not\ndocumented (though presumably it discards low bits).\n\nFor the purposes of the linux-user cpu loop, if EXCP_UNALIGN\n(misaligned data) were to arrive, it would be treated the\nsame as EXCP_UNALIGND (misaligned destination).  See the\n!defined(CONFIG_NIOS2_ALIGNMENT_TRAP) block in kernel/traps.c.\n\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20220421151735.31996-53-richard.henderson@linaro.org>",1,0.9992746710777284,NIOS2,"linux-user/nios2/cpu_loop.c, target/nios2/op_helper.c, target/nios2/translate.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,70335c4644f3c05456c72020ae54b1dbeba905d7,aec0730ea9a150f23a5a2bbb87903a2900e5e72f,Andrew Deason,2022-04-26,"qga/commands-posix: Fix listing ifaces for Solaris\n\nThe code for guest-network-get-interfaces needs a couple of small\nadjustments for Solaris:\n\n- The results from SIOCGIFHWADDR are documented as being in ifr_addr,\n  not ifr_hwaddr (ifr_hwaddr doesn't exist on Solaris).\n\n- The implementation of guest_get_network_stats is Linux-specific, so\n  hide it under #ifdef CONFIG_LINUX. On non-Linux, we just won't\n  provide network interface stats.\n\nSigned-off-by: Andrew Deason <adeason@sinenomine.net>\nReviewed-by: Michal Privoznik <mprivozn@redhat.com>\nMessage-Id: <20220426195526.7699-4-adeason@sinenomine.net>",1,0.9996216297149658,LINUX,qga/commands-posix.c,0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5ebfdeb21223e0406a711decbb2baceb5ec8c416,31009d13cc505b9569971fbbe50266c1727ba5db,Kevin Wolf,2022-04-07,"libvhost-user: Fix extra vu_add/rem_mem_reg reply\n\nOutside of postcopy mode, neither VHOST_USER_ADD_MEM_REG nor\nVHOST_USER_REM_MEM_REG are supposed to send a reply unless explicitly\nrequested with the need_reply flag. Their current implementation always\nsends a reply, even if it isn't requested. This confuses the master\nbecause it will interpret the reply as a reply for the next message for\nwhich it actually expects a reply.\n\nneed_reply is already handled correctly by vu_dispatch(), so just don't\nsend a reply in the non-postcopy part of the message handler for these\ntwo commands.\n\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>\nMessage-Id: <20220407133657.155281-3-kwolf@redhat.com>\nReviewed-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9997162222862244,VHOST_USER,subprojects/libvhost-user/libvhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a81d8d4a7203e4be392f9ad37af104759b7cbda5,5ebfdeb21223e0406a711decbb2baceb5ec8c416,Kevin Wolf,2022-04-07,"vhost-user: Don't pass file descriptor for VHOST_USER_REM_MEM_REG\n\nThe spec clarifies now that QEMU should not send a file descriptor in a\nrequest to remove a memory region. Change it accordingly.\n\nFor libvhost-user, this is a bug fix that makes it compatible with\nrust-vmm's implementation that doesn't send a file descriptor. Keep\naccepting, but ignoring a file descriptor for compatibility with older\nQEMU versions.\n\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>\nMessage-Id: <20220407133657.155281-4-kwolf@redhat.com>\nReviewed-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>",1,0.9932997226715088,VHOST_USER,"hw/virtio/vhost-user.c, subprojects/libvhost-user/libvhost-user.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1220ab3ee2bff4a3932cd40e09553ee6bbfaa8a4,55baf4b584709fb4d675741a4c3bd15cb0b49c91,Bin Meng,2022-04-21,"target/ppc: Fix BookE debug interrupt generation\n\nPer E500 core reference manual [1], chapter 8.4.4 ""Branch Taken Debug\nEvent"" and chapter 8.4.5 ""Instruction Complete Debug Event"":\n\n  ""A branch taken debug event occurs if both MSR[DE] and DBCR0[BRT]\n  are set ... Branch taken debug events are not recognized if MSR[DE]\n  is cleared when the branch instruction executes.""\n\n  ""An instruction complete debug event occurs when any instruction\n  completes execution so long as MSR[DE] and DBCR0[ICMP] are both\n  set ... Instruction complete debug events are not recognized if\n  MSR[DE] is cleared at the time of the instruction execution.""\n\nCurrent codes do not check MSR.DE bit before setting HFLAGS_SE and\nHFLAGS_BE flag, which would cause the immediate debug interrupt to\nbe generated, e.g.: when DBCR0.ICMP bit is set by guest software\nand MSR.DE is not set.\n\n[1] https://www.nxp.com/docs/en/reference-manual/E500CORERM.pdf\n\nSigned-off-by: Bin Meng <bin.meng@windriver.com>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nReviewed-by: Fabiano Rosas <farosas@linux.ibm.com>\nReviewed-by: Lucas Mateus Castro <lucas.araujo@eldorado.org.br>\nMessage-Id: <20220421011729.1148727-1-bmeng.cn@gmail.com>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>",1,0.9997041821479796,E500,target/ppc/helper_regs.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,97252353c1f6ecbb54385c9272378b5788749a16,1220ab3ee2bff4a3932cd40e09553ee6bbfaa8a4,Murilo Opsfelder Araujo,2022-05-03,"vhost-user: Use correct macro name TARGET_PPC64\n\nThe correct name of the macro is TARGET_PPC64.\n\nFixes: 27598393a232 (""Lift max memory slots limit imposed by vhost-user"")\nReported-by: Fabiano Rosas <farosas@linux.ibm.com>\nSigned-off-by: Murilo Opsfelder Araujo <muriloo@linux.ibm.com>\nCc: Raphael Norwitz <raphael.norwitz@nutanix.com>\nCc: Peter Turschmid <peter.turschm@nutanix.com>\nReviewed-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Raphael Norwitz <raphael.norwitz@nutanix.com>\nMessage-Id: <20220503180108.34506-1-muriloo@linux.ibm.com>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>",1,0.999552309513092,"PPC, PPC64",hw/virtio/vhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a6f5770fb2b22cb219a684469c8224ebec74ca2e,31abf61c4929a91275fe32f1fafe6e6b3e840b2a,Longpeng(Mike),2022-03-26,"vfio: simplify the conditional statements in vfio_msi_enable\n\nIt's unnecessary to test against the specific return value of\nVFIO_DEVICE_SET_IRQS, since any positive return is an error\nindicating the number of vectors we should retry with.\n\nSigned-off-by: Longpeng(Mike) <longpeng2@huawei.com>\nLink: https://lore.kernel.org/r/20220326060226.1892-2-longpeng2@huawei.com\nSigned-off-by: Alex Williamson <alex.williamson@redhat.com>",1,0.9907758831977844,VFIO,hw/vfio/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fe744ca3eee65e5d666a06e72c1e6b671eb2c74a,e004499fd52f0bb10e1e77bedc3be0dbdd2e0f52,Mark Cave-Ayland,2022-05-04,lasi: fix serial port initialisation\n\nThe existing code checks for serial_hd(1) but sets the LASI serial port chardev\nto serial_hd(0). Use serial_hd(1) for the LASI serial port and also set the\nserial port endian to DEVICE_BIG_ENDIAN (which also matches the endian of the\nexisting serial port).\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nAcked-by: Helge Deller <deller@gmx.de>\nMessage-Id: <20220504092600.10048-32-mark.cave-ayland@ilande.co.uk>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>,1,0.9996894598007202,LASI,hw/hppa/lasi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f9bcb2d68496a8fa620443edacb27cad1acc1492,26f0ee7ddb9e95b3bde1d1b51d98334bebce0e1f,Gautam Agrawal,2022-05-01,"Warn user if the vga flag is passed but no vga device is created\n\nA global boolean variable ""vga_interface_created""(declared in softmmu/globals.c)\nhas been used to track the creation of vga interface. If the vga flag is passed\nin the command line ""default_vga""(declared in softmmu/vl.c) variable is set to 0.\nTo warn user, the condition checks if vga_interface_created is false\nand default_vga is equal to 0. If ""-vga none"" is passed, this patch will not warn the\nuser regarding the creation of VGA device.\n\nThe warning ""A -vga option was passed but this\nmachine type does not use that option; no VGA device has been created""\nis logged if vga flag is passed but no vga device is created.\n\nThis patch has been tested for x86_64, i386, sparc, sparc64 and arm boards.\n\nSigned-off-by: Gautam Agrawal <gautamnagrawal@gmail.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/581\nMessage-Id: <20220501122505.29202-1-gautamnagrawal@gmail.com>\n[thuth: Fix wrong warning with ""-device"" in some cases as reported by Paolo]\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.999497890472412,VGA,"hw/hppa/machine.c, hw/isa/isa-bus.c, hw/mips/fuloong2e.c, hw/pci/pci.c, hw/ppc/spapr.c, hw/sparc/sun4m.c, hw/sparc64/sun4u.c, hw/xenpv/xen_machine_pv.c, include/sysemu/sysemu.h, softmmu/globals.c, softmmu/vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e14cc941f109cb93fab28a2b3fe79c700c7b6eeb,7e834daf0abe785041804a63f6b65b095ece8e6c,Richard Henderson,2022-05-06,"target/arm: Set ID_DFR0.PerfMon for qemu-system-arm -cpu max\n\nWe set this for qemu-system-aarch64, but failed to do so\nfor the strictly 32-bit emulation.\n\nFixes: 3bec78447a9 (""target/arm: Provide ARMv8.4-PMU in '-cpu max'"")\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220506180242.216785-8-richard.henderson@linaro.org\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995954632759094,ARM,target/arm/cpu_tcg.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4a8027363e9680d00786622ee786fc3ccd6b970b,354d2d9b87658bab5da58b4251aeb612fa7dc6e4,Bernhard Beschow,2022-03-26,hw/xen/xen_pt: Confine igd-passthrough-isa-bridge to XEN\n\nigd-passthrough-isa-bridge is only requested in xen_pt but was\nimplemented in pc_piix.c. This caused xen_pt to dependend on i386/pc\nwhich is hereby resolved.\n\nSigned-off-by: Bernhard Beschow <shentey@gmail.com>\nAcked-by: Anthony PERARD <anthony.perard@citrix.com>\nMessage-Id: <20220326165825.30794-2-shentey@gmail.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9996236562728882,XEN,"hw/i386/pc_piix.c, hw/xen/xen_pt.c, hw/xen/xen_pt.h, hw/xen/xen_pt_graphics.c, include/hw/i386/pc.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,d93e839ccd26ac95650fe31e45c91394936ddc27,f0d43b1ecef04105e0d0f55658182510b4e0f58e,Paolo Bonzini,2022-05-11,"vhost-backend: do not depend on CONFIG_VHOST_VSOCK\n\nThe vsock callbacks .vhost_vsock_set_guest_cid and\n.vhost_vsock_set_running are the only ones to be conditional\non #ifdef CONFIG_VHOST_VSOCK.  This is different from any other\ndevice-dependent callbacks like .vhost_scsi_set_endpoint, and it\nalso broke when CONFIG_VHOST_VSOCK was changed to a per-target\nsymbol.\n\nIt would be possible to also use the CONFIG_DEVICES include, but\nreally there is no reason for most virtio files to be per-target\nso just remove the #ifdef to fix the issue.\n\nReported-by: Dov Murik <dovmurik@linux.ibm.com>\nFixes: 9972ae314f (""build: move vhost-vsock configuration to Kconfig"")\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.951752245426178,VHOST_VSOCK,hw/virtio/vhost-backend.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,06134e2bc35dc21543d4cbcf31f858c03d383442,9de5f2b40860c5f8295e73fea9922df6f0b8d89a,Halil Pasic,2022-03-07,"virtio: fix feature negotiation for ACCESS_PLATFORM\n\nUnlike most virtio features ACCESS_PLATFORM is considered mandatory by\nQEMU, i.e. the driver must accept it if offered by the device. The\nvirtio specification says that the driver SHOULD accept the\nACCESS_PLATFORM feature if offered, and that the device MAY fail to\noperate if ACCESS_PLATFORM was offered but not negotiated.\n\nWhile a SHOULD ain't exactly a MUST, we are certainly allowed to fail\nthe device when the driver fences ACCESS_PLATFORM. With commit\n2943b53f68 (""virtio: force VIRTIO_F_IOMMU_PLATFORM"") we already made the\ndecision to do so whenever the get_dma_as() callback is implemented (by\nthe bus), which in practice means for the entirety of virtio-pci.\n\nThat means, if the device needs to translate I/O addresses, then\nACCESS_PLATFORM is mandatory. The aforementioned commit tells us in the\ncommit message that this is for security reasons. More precisely if we\nwere to allow a less then trusted driver (e.g. an user-space driver, or\na nested guest) to make the device bypass the IOMMU by not negotiating\nACCESS_PLATFORM, then the guest kernel would have no ability to\ncontrol/police (by programming the IOMMU) what pieces of guest memory\nthe driver may manipulate using the device. Which would break security\nassumptions within the guest.\n\nIf ACCESS_PLATFORM is offered not because we want the device to utilize\nan IOMMU and do address translation, but because the device does not\nhave access to the entire guest RAM, and needs the driver to grant\naccess to the bits it needs access to (e.g. confidential guest support),\nwe still require the guest to have the corresponding logic and to accept\nACCESS_PLATFORM. If the driver does not accept ACCESS_PLATFORM, then\nthings are bound to go wrong, and we may see failures much less graceful\nthan failing the device because the driver didn't negotiate\nACCESS_PLATFORM.\n\nSo let us make ACCESS_PLATFORM mandatory for the driver regardless\nof whether the get_dma_as() callback is implemented or not.\n\nSigned-off-by: Halil Pasic <pasic@linux.ibm.com>\nFixes: 2943b53f68 (""virtio: force VIRTIO_F_IOMMU_PLATFORM"")\n\nMessage-Id: <20220307112939.2780117-1-pasic@linux.ibm.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>",1,0.9997298121452332,VIRTIO,hw/virtio/virtio-bus.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,464e14ac438e21c532889d78caf54a1dc837012a,6364adacdfa6a24e3f5b08f6b5ffa789a5d828a7,Ben Widawsky,2022-04-29,"hw/cxl/device: Implement basic mailbox (8.2.8.4)\n\nThis is the beginning of implementing mailbox support for CXL 2.0\ndevices. The implementation recognizes when the doorbell is rung,\nhandles the command/payload, clears the doorbell while returning error\ncodes and data.\n\nGenerally the mailbox mechanism is designed to permit communication\nbetween the host OS and the firmware running on the device. For our\npurposes, we emulate both the firmware, implemented primarily in\ncxl-mailbox-utils.c, and the hardware.\n\nNo commands are implemented yet.\n\nSigned-off-by: Ben Widawsky <ben.widawsky@intel.com>\nSigned-off-by: Jonathan Cameron <Jonathan.Cameron@huawei.com>\nReviewed-by: Alex Benne <alex.bennee@linaro.org>\nMessage-Id: <20220429144110.25167-7-Jonathan.Cameron@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9971917271614076,CXL,"hw/cxl/cxl-device-utils.c, hw/cxl/cxl-mailbox-utils.c, hw/cxl/meson.build, include/hw/cxl/cxl.h, include/hw/cxl/cxl_device.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,aadfe320919b15e24ac070e9b25085e07599a613,829de299d1a4dcac3cd6c494d1c974bdbc608611,Jonathan Cameron,2022-04-29,"hw/cxl/host: Add support for CXL Fixed Memory Windows.\n\nThe concept of these is introduced in [1] in terms of the\ndescription the CEDT ACPI table. The principal is more general.\nUnlike once traffic hits the CXL root bridges, the host system\nmemory address routing is implementation defined and effectively\nstatic once observable by standard / generic system software.\nEach CXL Fixed Memory Windows (CFMW) is a region of PA space\nwhich has fixed system dependent routing configured so that\naccesses can be routed to the CXL devices below a set of target\nroot bridges. The accesses may be interleaved across multiple\nroot bridges.\n\nFor QEMU we could have fully specified these regions in terms\nof a base PA + size, but as the absolute address does not matter\nit is simpler to let individual platforms place the memory regions.\n\nExampleS:\n-cxl-fixed-memory-window targets.0=cxl.0,size=128G\n-cxl-fixed-memory-window targets.0=cxl.1,size=128G\n-cxl-fixed-memory-window targets.0=cxl0,targets.1=cxl.1,size=256G,interleave-granularity=2k\n\nSpecifies\n* 2x 128G regions not interleaved across root bridges, one for each of\n  the root bridges with ids cxl.0 and cxl.1\n* 256G region interleaved across root bridges with ids cxl.0 and cxl.1\nwith a 2k interleave granularity.\n\nWhen system software enumerates the devices below a given root bridge\nit can then decide which CFMW to use. If non interleave is desired\n(or possible) it can use the appropriate CFMW for the root bridge in\nquestion.  If there are suitable devices to interleave across the\ntwo root bridges then it may use the 3rd CFMS.\n\nA number of other designs were considered but the following constraints\nmade it hard to adapt existing QEMU approaches to this particular problem.\n1) The size must be known before a specific architecture / board brings\n   up it's PA memory map.  We need to set up an appropriate region.\n2) Using links to the host bridges provides a clean command line interface\n   but these links cannot be established until command line devices have\n   been added.\n\nHence the two step process used here of first establishing the size,\ninterleave-ways and granularity + caching the ids of the host bridges\nand then, once available finding the actual host bridges so they can\nbe used later to support interleave decoding.\n\n[1] CXL 2.0 ECN: CEDT CFMWS & QTG DSM (computeexpresslink.org / specifications)\n\nSigned-off-by: Jonathan Cameron <jonathan.cameron@huawei.com>\nAcked-by: Markus Armbruster <armbru@redhat.com> # QAPI Schema\nMessage-Id: <20220429144110.25167-28-Jonathan.Cameron@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9977642297744752,"ACPI, CXL","hw/cxl/cxl-host-stubs.c, hw/cxl/cxl-host.c, hw/cxl/meson.build, include/hw/cxl/cxl.h, qapi/machine.json, qemu-options.hx, softmmu/vl.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6d302cf46dfffa85a1a460d4431b1633c9ef2ff3,3540bf56e47dce55e5035a039db97c0affc66fba,Jonathan Cameron,2022-04-29,i386/pc: Enable CXL fixed memory windows\n\nAdd the CFMWs memory regions to the memorymap and adjust the\nPCI window to avoid hitting the same memory.\n\nSigned-off-by: Jonathan Cameron <jonathan.cameron@huawei.com>\nMessage-Id: <20220429144110.25167-36-Jonathan.Cameron@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9988471269607544,"CXL, PCI",hw/i386/pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f000bc74589247244943085b210cee32bac28c89,48de9b0916ef60d5a6bd6ca9288832deff8ee1ee,Ivan Shcherbakov,2022-05-14,"WHPX: fixed TPR/CR8 translation issues affecting VM debugging\n\nThis patch fixes the following error that would occur when trying to resume\na WHPX-accelerated VM from a breakpoint:\n\n    qemu: WHPX: Failed to set interrupt state registers, hr=c0350005\n\nThe error arises from an incorrect CR8 value being passed to\nWHvSetVirtualProcessorRegisters() that doesn't match the\nvalue set via WHvSetVirtualProcessorInterruptControllerState2().\n\nSigned-off-by: Ivan Shcherbakov <ivan@sysprogs.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997430443763732,WHPX,target/i386/whpx/whpx-all.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a92162f4f1dfc2daf1bc8f2bbc3cad3c9d1ea729,777784bda46847fc0587d711c3aacff8fff3c3f9,Jason A. Donenfeld,2022-05-03,hw/openrisc: use right OMPIC size variable\n\nThis appears to be a copy and paste error. The UART size was used\ninstead of the much smaller OMPIC size. But actually that smaller OMPIC\nsize is wrong too and doesn't allow the IPI to work in Linux. So set it\nto the old value.\n\nSigned-off-by: Jason A. Donenfeld <Jason@zx2c4.com>\n[smh:Updated OR1KSIM_OMPIC size to use OR1KSIM_CPUS_MAX]\nSigned-off-by: Stafford Horne <shorne@gmail.com>,1,0.9170156717300416,OMPIC,hw/openrisc/openrisc_sim.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dc89f32d92bba795b0665f075b78d8881cf67ab3,5181db132b587754dda3a520eec923b87a65bbb7,David Woodhouse,2022-03-14,"target/i386: Fix sanity check on max APIC ID / X2APIC enablement\n\nThe check on x86ms->apic_id_limit in pc_machine_done() had two problems.\n\nFirstly, we need KVM to support the X2APIC API in order to allow IRQ\ndelivery to APICs >= 255. So we need to call/check kvm_enable_x2apic(),\nwhich was done elsewhere in *some* cases but not all.\n\nSecondly, microvm needs the same check. So move it from pc_machine_done()\nto x86_cpus_init() where it will work for both.\n\nThe check in kvm_cpu_instance_init() is now redundant and can be dropped.\n\nSigned-off-by: David Woodhouse <dwmw2@infradead.org>\nAcked-by: Claudio Fontana <cfontana@suse.de>\nMessage-Id: <20220314142544.150555-1-dwmw2@infradead.org>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996589422225952,"APIC, KVM","hw/i386/pc.c, hw/i386/x86.c, target/i386/kvm/kvm-cpu.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,77250171bdc02aee106083fd2a068147befa1a38,175f3a59863d7263597011ae86bc57108539ba35,David Woodhouse,2022-03-14,"intel_iommu: Fix irqchip / X2APIC configuration checks\n\nWe don't need to check kvm_enable_x2apic(). It's perfectly OK to support\ninterrupt remapping even if we can't address CPUs above 254. Kind of\npointless, but still functional.\n\nThe check on kvm_enable_x2apic() needs to happen *anyway* in order to\nallow CPUs above 254 even without an IOMMU, so allow that to happen\nelsewhere.\n\nHowever, we do require the *split* irqchip in order to rewrite I/OAPIC\ndestinations. So fix that check while we're here.\n\nSigned-off-by: David Woodhouse <dwmw2@infradead.org>\nAcked-by: Claudio Fontana <cfontana@suse.de>\nMessage-Id: <20220314142544.150555-4-dwmw2@infradead.org>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996490478515624,APIC,hw/i386/intel_iommu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,fa9972662ce5b6d50fe7190efeb48a5a9fecca91,bd59f2a1823a458ac27c09e1f27f30098745381e,Alex Benne,2022-03-21,vhost-user.rst: add clarifying language about protocol negotiation\n\nMake the language about feature negotiation explicitly clear about the\nhandling of the VHOST_USER_F_PROTOCOL_FEATURES feature bit. Try and\navoid the sort of bug introduced in vhost.rs REPLY_ACK processing:\n\n  https://github.com/rust-vmm/vhost/pull/24\n\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\nCc: Jiang Liu <gerry@linux.alibaba.com>\nMessage-Id: <20210226111619.21178-1-alex.bennee@linaro.org>\n\nMessage-Id: <20220321153037.3622127-8-alex.bennee@linaro.org>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9968607425689696,VHOST_USER,docs/interop/vhost-user.rst,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,56534930b5cd3a6c7259cfeba69f08ba28c8f62a,27351992bf238f669dd08655d31ad111905bf899,Alex Benne,2022-03-21,"hw/virtio/vhost-user: don't suppress F_CONFIG when supported\n\nPreviously we would silently suppress VHOST_USER_PROTOCOL_F_CONFIG\nduring the protocol negotiation if the QEMU stub hadn't implemented\nthe vhost_dev_config_notifier. However this isn't the only way we can\nhandle config messages, the existing vdc->get/set_config can do this\nas well.\n\nLightly re-factor the code to check for both potential methods and\ninstead of silently squashing the feature error out. It is unlikely\nthat a vhost-user backend expecting to handle CONFIG messages will\nbehave correctly if they never get sent.\n\nFixes: 1c3e5a2617 (""vhost-user: back SET/GET_CONFIG requests with a protocol feature"")\nCc: Maxime Coquelin <maxime.coquelin@redhat.com>\nCc: Michael S. Tsirkin <mst@redhat.com>\nCc: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Alex Benne <alex.bennee@linaro.org>\n\nMessage-Id: <20220321153037.3622127-13-alex.bennee@linaro.org>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.998792290687561,VHOST_USER,"hw/scsi/vhost-user-scsi.c, hw/virtio/vhost-user.c, include/hw/virtio/vhost-user.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,482afe020b558d36d3b863970ad1672981b22d48,e9683fbc3738ebbf9b4058413ffc53e086da95fc,Helge Deller,2022-05-11,"artist: Fix vertical X11 cursor position in HP-UX\n\nDrop the hard-coded value of 1146 lines which seems to work with HP-UX\n11, but not with HP-UX 10. Instead encode the screen height in byte 0 of\nactive_lines_low and byte 3 of misc_video as it's expected by the Xorg\nX11 graphics driver.\n\nThis potentially allows for higher vertical screen resolutions than\n1280x1024 with X11.\n\nSigned-off-by: Helge Deller <deller@gmx.de>\nAcked-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>",1,0.9987947940826416,X11,hw/display/artist.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9ef2c6b4ab9a430ee230ee305b6994d7eae86fe7,caca6e618d5577e45be2bcdc1e626a8b747fb56b,Helge Deller,2022-05-12,artist: Fix X cursor position calculation in X11\n\nThe X cursor postion can be calculated based on the backporch and\ninterleave values.  In the emulation we ignore the HP-UX settings for\nbackporch and use instead twice the size of the emulated cursor.  With\nthose changes the X-position of the graphics cursor is now finally\nworking correctly on HP-UX 10 and HP-UX 11.\n\nBased on coding in Xorg X11R6.6\n\nSigned-off-by: Helge Deller <deller@gmx.de>,1,0.986742377281189,X11,hw/display/artist.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,75662f36e3d11b986456210670719a7837111cd7,e04bf5a793ee5e7afdda8a1d1af08888fd67a989,Peter Maydell,2022-05-09,"target/arm: Implement FEAT_IDST\n\nThe Armv8.4 feature FEAT_IDST specifies that exceptions generated by\nread accesses to the feature ID space should report a syndrome code\nof 0x18 (EC_SYSTEMREGISTERTRAP) rather than 0x00 (EC_UNCATEGORIZED).\nThe feature ID space is defined to be:\n op0 == 3, op1 == {0,1,3}, CRn == 0, CRm == {0-7}, op2 == {0-7}\n\nIn our implementation we might return the EC_UNCATEGORIZED syndrome\nvalue for a system register access in four cases:\n * no reginfo struct in the hashtable\n * cp_access_ok() fails (ie ri->access doesn't permit the access)\n * ri->accessfn returns CP_ACCESS_TRAP_UNCATEGORIZED at runtime\n * ri->type includes ARM_CP_RAISES_EXC, and the readfn raises\n   an UNDEF exception at runtime\n\nWe have very few regdefs that set ARM_CP_RAISES_EXC, and none of\nthem are in the feature ID space. (In the unlikely event that any\nare added in future they would need to take care of setting the\ncorrect syndrome themselves.) This patch deals with the other\nthree cases, and enables FEAT_IDST for AArch64 -cpu max.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220509155457.3560724-1-peter.maydell@linaro.org",1,0.9993677735328674,"ARM, REGISTER","docs/system/arm/emulation.rst, target/arm/cpregs.h, target/arm/cpu.h, target/arm/cpu64.c, target/arm/op_helper.c, target/arm/translate-a64.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,07b034ea828eb089de1a88e0043a8f3065f2d205,9598c1bb39b2d4f0d3a55072cc70251c452132cd,Florian Lugou,2022-05-17,"target/arm: Fix PAuth keys access checks for disabled SEL2\n\nAs per the description of the HCR_EL2.APK field in the ARMv8 ARM,\nPointer Authentication keys accesses should only be trapped to Secure\nEL2 if it is enabled.\n\nSigned-off-by: Florian Lugou <florian.lugou@provenrun.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220517145242.1215271-1-florian.lugou@provenrun.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999561607837677,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,267b5e7e378afd260004cb37a66a6fcd641e3b53,dba2b2941ca2ebd5275b3b2c6e72678f98f83a8a,Maciej S. Szmigiero,2022-05-23,"target/i386/kvm: Fix disabling MPX on ""-cpu host"" with MPX-capable host\n\nSince KVM commit 5f76f6f5ff96 (""KVM: nVMX: Do not expose MPX VMX controls when guest MPX disabled"")\nit is not possible to disable MPX on a ""-cpu host"" just by adding ""-mpx""\nthere if the host CPU does indeed support MPX.\nQEMU will fail to set MSR_IA32_VMX_TRUE_{EXIT,ENTRY}_CTLS MSRs in this case\nand so trigger an assertion failure.\n\nInstead, besides ""-mpx"" one has to explicitly add also\n""-vmx-exit-clear-bndcfgs"" and ""-vmx-entry-load-bndcfgs"" to QEMU command\nline to make it work, which is a bit convoluted.\n\nMake the MPX-related bits in FEAT_VMX_{EXIT,ENTRY}_CTLS dependent on MPX\nbeing actually enabled so such workarounds are no longer necessary.\n\nSigned-off-by: Maciej S. Szmigiero <maciej.szmigiero@oracle.com>\nMessage-Id: <51aa2125c76363204cc23c27165e778097c33f0b.1653323077.git.maciej.szmigiero@oracle.com>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997124075889589,KVM,target/i386/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,64ee6989c9476857ecaec5496cdc188b324af5de,58b53669e87fed0d70903e05cd42079fbbdbc195,Helge Deller,2022-05-26,"New SeaBIOS-hppa version 6\n\nStaring with SEABIOS_HPPA_VERSION 6 the serial ports are now emulated as\non physical hardware, with LASI UART being serial port #0 and DINO UART\nas serial port #1. On older versions those ports were swapped.\n\nThis SeaBIOS-hppa fix is needed to allow fixing the qemu serial\npass-through from host to guest.\n\nSigned-off-by: Helge Deller <deller@gmx.de>",1,0.999612271785736,"DINO, HPPA, LASI","pc-bios/hppa-firmware.img, roms/seabios-hppa",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,c9f8004b6adf7020ba742d16b132e84ff6e57863,162eec18c0aed28eda472bacf207b7b222894169,Murilo Opsfelder Araujo,2022-05-10,"mos6522: fix linking error when CONFIG_MOS6522 is not set\n\nWhen CONFIG_MOS6522 is not set, building ppc64-softmmu target fails:\n\n/usr/bin/ld: libqemu-ppc64-softmmu.fa.p/monitor_misc.c.o:(.data+0x1158): undefined reference to `hmp_info_via'\n\nMake devices configuration available in hmp-commands*.hx and check for\nCONFIG_MOS6522.\n\nFixes: 409e9f7131e5 (mos6522: add ""info via"" HMP command for debugging)\nSigned-off-by: Murilo Opsfelder Araujo <muriloo@linux.ibm.com>\nCc: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nCc: Fabiano Rosas <farosas@linux.ibm.com>\nCc: Thomas Huth <thuth@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20220510235439.54775-1-muriloo@linux.ibm.com>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>",1,0.9997240900993348,MOS6522,"hmp-commands-info.hx, monitor/misc.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5079892df5f113c7f2b77f53bf7663f6c7bc6be9,4de43540644962687fcd2df2a2454c1e46c2f92a,Helge Deller,2022-05-28,"hppa: Fix serial port assignments and pass-through\n\nThis fixes the serial ports in the emulation to behave as on original\nhardware.\n\nOn the real hardware, the LASI UART is serial port #0 and the DINO UART\nis serial port #1. This is fixed in SeaBIOS-hppa firmware v6, which is\nwhy at least this firmware version is required.\n\nThe serial port addresses in hppa/hppa_hardware.h have to be swapped,\nand when creating the virtual serial ports the correct port addresses\nare used.\n\nThis patch now for example allows to specify on the qemu command line:\n     -serial mon:stdio -serial /dev/ttyS4\nto use the emulated ttyS0 in the guest for console output, and pass\nttyS4 from the host to ttyS1 in the guest.\n\nSigned-off-by: Helge Deller <deller@gmx.de>\nReviewed-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>",1,0.999681830406189,"DINO, LASI","hw/hppa/hppa_hardware.h, hw/hppa/machine.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b5fb359cb5b9bf5d85932b869a707550a4e18ad1,95d0f1d80eba918b6f1d7201994a468a38134ec1,Philippe Mathieu-Daud,2022-05-25,"target/arm/hvf: Include missing ""cpregs.h""\n\nFix when building HVF on macOS Aarch64:\n\n  target/arm/hvf/hvf.c:586:15: error: unknown type name 'ARMCPRegInfo'; did you mean 'ARMCPUInfo'?\n          const ARMCPRegInfo *ri;\n                ^~~~~~~~~~~~\n                ARMCPUInfo\n  target/arm/cpu-qom.h:38:3: note: 'ARMCPUInfo' declared here\n  } ARMCPUInfo;\n    ^\n  target/arm/hvf/hvf.c:589:14: error: implicit declaration of function 'get_arm_cp_reginfo' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n          ri = get_arm_cp_reginfo(arm_cpu->cp_regs, key);\n               ^\n  target/arm/hvf/hvf.c:589:12: warning: incompatible integer to pointer conversion assigning to 'const ARMCPUInfo *' (aka 'const struct ARMCPUInfo *') from 'int' [-Wint-conversion]\n          ri = get_arm_cp_reginfo(arm_cpu->cp_regs, key);\n             ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  target/arm/hvf/hvf.c:591:26: error: no member named 'type' in 'struct ARMCPUInfo'\n              assert(!(ri->type & ARM_CP_NO_RAW));\n                       ~~  ^\n  /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/assert.h:99:25: note: expanded from macro 'assert'\n      (__builtin_expect(!(e), 0) ? __assert_rtn(__func__, __ASSERT_FILE_NAME, __LINE__, #e) : (void)0)\n                          ^\n  target/arm/hvf/hvf.c:591:33: error: use of undeclared identifier 'ARM_CP_NO_RAW'\n              assert(!(ri->type & ARM_CP_NO_RAW));\n                                  ^\n  1 warning and 4 errors generated.\n\nFixes: cf7c6d1004 (""target/arm: Split out cpregs.h"")\nReported-by: Duncan Bayne <duncan@bayne.id.au>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220525161926.34233-1-philmd@fungible.com\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/1029\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9993402361869812,"ARM, HVF",target/arm/hvf/hvf.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4d84bb6c8b42cc781a02e1ac6648875966abc877,7077fcb9b68f058809c9dd9fd1dacae1881e886c,Peter Maydell,2022-05-25,"hw/tpm/tpm_tis_common.c: Assert that locty is in range\n\nIn tpm_tis_mmio_read(), tpm_tis_mmio_write() and\ntpm_tis_dump_state(), we calculate a locality index with\ntpm_tis_locality_from_addr() and then use it as an index into the\ns->loc[] array.  In all these cases, the array index can't overflow\nbecause the MemoryRegion is sized to be TPM_TIS_NUM_LOCALITIES <<\nTPM_TIS_LOCALITY_SHIFT bytes.  However, Coverity can't see that, and\nit complains (CID 1487138, 1487180, 1487188, 1487198, 1487240).\n\nAdd an assertion to tpm_tis_locality_from_addr() that the calculated\nlocality index is valid, which will help Coverity and also catch any\npotential future bug where the MemoryRegion isn't sized exactly.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Stefan Berger <stefanb@linux.ibm.com>\nReviewed-by: Marc-Andr Lureau <marcandre.lureau@redhat.com>\nMessage-id: 20220525125904.483075-1-stefanb@linux.ibm.com",1,0.8336105346679688,"TPM, TPM_TIS",hw/tpm/tpm_tis_common.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9f9dcb96a46a60fcf95f7baebafa3ec5e2a1b5ce,ca127b3fc247517ec7d4dad291f2c0f90602ce5b,Stephen Michael Jothen,2022-05-25,"target/i386/tcg: Fix masking of real-mode addresses with A20 bit\n\nThe correct A20 masking is done if paging is enabled (protected mode) but it\nseems to have been forgotten in real mode. For example from the AMD64 APM Vol. 2\nsection 1.2.4:\n\n> If the sum of the segment base and effective address carries over into bit 20,\n> that bit can be optionally truncated to mimic the 20-bit address wrapping of the\n> 8086 processor by using the A20M# input signal to mask the A20 address bit.\n\nMost BIOSes will enable the A20 line on boot, but I found by disabling the A20 line\nafterwards, the correct wrapping wasn't taking place.\n\n`handle_mmu_fault' in target/i386/tcg/sysemu/excp_helper.c seems to be the culprit.\nIn real mode, it fills the TLB with the raw unmasked address. However, for the\nprotected mode, the `mmu_translate' function does the correct A20 masking.\n\nThe fix then should be to just apply the A20 mask in the first branch of the if\nstatement.\n\nSigned-off-by: Stephen Michael Jothen <sjothen@gmail.com>\nMessage-Id: <Yo5MUMSz80jXtvt9@air-old.local>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9991642236709596,APM,target/i386/tcg/sysemu/excp_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b0f3184e82817b700ea81bc76ebc8d999de35278,d8f3a60931a700c327aa2ee10d0beaeea2cb97da,Yang Zhong,2022-05-30,"target/i386: Fix wrong count setting\n\nThe previous patch used wrong count setting with index value, which got wrong\nvalue from CPUID(EAX=12,ECX=0):EAX. So the SGX1 instruction can't be exposed\nto VM and the SGX decice can't work in VM.\n\nFixes: d19d6ffa0710 (""target/i386: introduce helper to access supported CPUID"")\n\nSigned-off-by: Yang Zhong <yang.zhong@intel.com>\nMessage-Id: <20220530131834.1222801-1-yang.zhong@intel.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999726951122284,SGX,target/i386/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5198d7939cc1b5076e0d673f93e6074f0235f2ff,a5bf52d21c9137517cb00f006949b45b076ec80e,Igor Mammedov,2022-06-08,"acpi: pc/q35: tpm-tis: fix TPM device scope\n\ntpm-tis 2.0, is not a PCI device but ISA one, move it\nunder ISA scope to fix incorrect placement.\n\nFixes: 24cf5413aa0 (acpi: Make TPM 2.0 with TIS available as MSFT0101)\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Ani Sinha <ani@anisinha.ca>\nAcked-by: Gerd Hoffmann <kraxel@redhat.com>\nMessage-Id: <20220608135340.3304695-32-imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996052384376526,"PCI, TPM",hw/i386/acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,36f18c6989a3d1ff1d7a0e50b0868ef3958299b4,518f5f6ad6edfb17a35cc13368c4c5205fe75839,Claudio Fontana,2022-05-31,"pci: fix overflow in snprintf string formatting\n\nthe code in pcibus_get_fw_dev_path contained the potential for a\nstack buffer overflow of 1 byte, potentially writing to the stack an\nextra NUL byte.\n\nThis overflow could happen if the PCI slot is >= 0x10000000,\nand the PCI function is >= 0x10000000, due to the size parameter\nof snprintf being incorrectly calculated in the call:\n\n    if (PCI_FUNC(d->devfn))\n        snprintf(path + off, sizeof(path) + off, "",%x"", PCI_FUNC(d->devfn));\n\nsince the off obtained from a previous call to snprintf is added\ninstead of subtracted from the total available size of the buffer.\n\nWithout the accurate size guard from snprintf, we end up writing in the\nworst case:\n\nname (32) + ""@"" (1) + SLOT (8) + "","" (1) + FUNC (8) + term NUL (1) = 51 bytes\n\nIn order to provide something more robust, replace all of the code in\npcibus_get_fw_dev_path with a single call to g_strdup_printf,\nso there is no need to rely on manual calculations.\n\nFound by compiling QEMU with FORTIFY_SOURCE=3 as the error:\n\n*** buffer overflow detected ***: terminated\n\nThread 1 ""qemu-system-x86"" received signal SIGABRT, Aborted.\n[Switching to Thread 0x7ffff642c380 (LWP 121307)]\n0x00007ffff71ff55c in __pthread_kill_implementation () from /lib64/libc.so.6\n(gdb) bt\n #0  0x00007ffff71ff55c in __pthread_kill_implementation () at /lib64/libc.so.6\n #1  0x00007ffff71ac6f6 in raise () at /lib64/libc.so.6\n #2  0x00007ffff7195814 in abort () at /lib64/libc.so.6\n #3  0x00007ffff71f279e in __libc_message () at /lib64/libc.so.6\n #4  0x00007ffff729767a in __fortify_fail () at /lib64/libc.so.6\n #5  0x00007ffff7295c36 in  () at /lib64/libc.so.6\n #6  0x00007ffff72957f5 in __snprintf_chk () at /lib64/libc.so.6\n #7  0x0000555555b1c1fd in pcibus_get_fw_dev_path ()\n #8  0x0000555555f2bde4 in qdev_get_fw_dev_path_helper.constprop ()\n #9  0x0000555555f2bd86 in qdev_get_fw_dev_path_helper.constprop ()\n #10 0x00005555559a6e5d in get_boot_device_path ()\n #11 0x00005555559a712c in get_boot_devices_list ()\n #12 0x0000555555b1a3d0 in fw_cfg_machine_reset ()\n #13 0x0000555555bf4c2d in pc_machine_reset ()\n #14 0x0000555555c66988 in qemu_system_reset ()\n #15 0x0000555555a6dff6 in qdev_machine_creation_done ()\n #16 0x0000555555c79186 in qmp_x_exit_preconfig.part ()\n #17 0x0000555555c7b459 in qemu_init ()\n #18 0x0000555555960a29 in main ()\n\nFound-by: Dario Faggioli <Dario Faggioli <dfaggioli@suse.com>\nFound-by: Martin Lika <martin.liska@suse.com>\nCc: qemu-stable@nongnu.org\nSigned-off-by: Claudio Fontana <cfontana@suse.de>\nMessage-Id: <20220531114707.18830-1-cfontana@suse.de>\nReviewed-by: Ani Sinha <ani@anisinha.ca>",1,0.9997345805168152,PCI,hw/pci/pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a1b092537ac52b9a19e14ea163cb653149efcbb8,1d29f899e7f2ae9bd1bc3eb0c59e72fe932f53a6,Stefan Pejic,2022-05-04,"target/mips: Fix emulation of nanoMIPS MTHLIP instruction\n\nThe field ac in nanoMIPS instruction MTHLIP rs, ac is specified in\nnanoMIPS documentation as opcode[15..14] (2 bits). However, in the\ncurrent QEMU code, the corresponding argument passed to the helper\ngen_helper_mthlip() has the value of opcode[15..11] (5 bits). Right\nshift the value of this argument by three bits to fix this.\n\nSigned-off-by: Stefan Pejic <stefan.pejic@syrmia.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20220504110403.613168-2-stefan.pejic@syrmia.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9995062351226808,MIPS,target/mips/tcg/nanomips_translate.c.inc,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9e4f726d4f489e9f1cd675f4e5ce300f7677ed40,a1b092537ac52b9a19e14ea163cb653149efcbb8,Dragan Mladjenovic,2022-05-04,"target/mips: Fix emulation of nanoMIPS EXTRV_S.H instruction\n\nThe field rs in the instruction EXTRV_S.H rt, ac, rs is specified in\nnanoMIPS documentation as opcode[20..16]. It is, however, erroneously\nconsidered as opcode[25..21] in the current QEMU implementation. In\nfunction gen_pool32axf_2_nanomips_insn(), the variable v0_t corresponds\nto rt/opcode[25..21], and v1_t corresponds to rs/opcode[20..16]), and\nv0_t is by mistake passed to the helper gen_helper_extr_s_h().\n\nUse v1_t rather than v0_t in the invocation of gen_helper_extr_s_h()\nto fix this.\n\nSigned-off-by: Dragan Mladjenovic <dragan.mladjenovic@syrmia.com>\nSigned-off-by: Stefan Pejic <stefan.pejic@syrmia.com>\nFixes: 8b3698b294 (""target/mips: Add emulation of DSP ASE for nanoMIPS"")\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20220504110403.613168-3-stefan.pejic@syrmia.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9996351003646852,MIPS,target/mips/tcg/nanomips_translate.c.inc,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5de4359b4f303faf5eecc7c37668a6bef77cb656,9e4f726d4f489e9f1cd675f4e5ce300f7677ed40,Dragan Mladjenovic,2022-05-04,"target/mips: Fix emulation of nanoMIPS BPOSGE32C instruction\n\nThere are currently two problems related to the emulation of the\ninstruction BPOSGE32C.\n\nThe nanoMIPS instruction BPOSGE32C belongs to DSP R3 instructions\n(actually, as of now, it is the only instruction of DSP R3). The\npresence of DSP R3 instructions in QEMU is indicated by the flag\nMIPS_HFLAG_DSP_R3 (0x20000000). This flag is currently being properly\nset in CPUMIPSState's hflags (for example, for I7200 nanoMIPS CPU).\nHowever, it is not propagated to DisasContext's hflags, since the flag\nMIPS_HFLAG_DSP_R3 is not set in MIPS_HFLAG_TMASK (while similar flags\nMIPS_HFLAG_DSP_R2 and MIPS_HFLAG_DSP are set in this mask, and there\nis no problem in functioning check_dsp_r2(), check_dsp()). This means\nthe function check_dsp_r3() currently does not work properly, and the\nemulation of BPOSGE32C can not work properly as well.\n\nChange MIPS_HFLAG_TMASK from 0x1F5807FF to 0x3F5807FF (logical OR\nwith 0x20000000) to fix this.\n\nAdditionally, check_cp1_enabled() is currently incorrectly called\nwhile emulating BPOSGE32C. BPOSGE32C is in the same pool (P.BR1) as\nFPU branch instruction BC1EQZC and BC1NEZC, but it not a part of FPU\n(CP1) instructions, and check_cp1_enabled() should not be involved\nwhile emulating BPOSGE32C.\n\nRearrange invocations of check_cp1_enabled() within P.BR1 pool\nhandling to affect only BC1EQZC and BC1NEZC emulation, and not\nBPOSGE32C emulation.\n\nSigned-off-by: Dragan Mladjenovic <dragan.mladjenovic@syrmia.com>\nSigned-off-by: Stefan Pejic <stefan.pejic@syrmia.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20220504110403.613168-4-stefan.pejic@syrmia.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.999716579914093,MIPS,"target/mips/cpu.h, target/mips/tcg/nanomips_translate.c.inc",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,14668cfaaf4d6f818d9e6b58dd44b75842654e2a,5de4359b4f303faf5eecc7c37668a6bef77cb656,Dragan Mladjenovic,2022-05-04,"target/mips: Fix emulation of nanoMIPS BNEC[32] instruction\n\nIf both rs and rt are the same register, the nanoMIPS instruction\nBNEC[32] rs, rt, address is equivalent to NOP (branch is not taken and\nthere is no delay slot). This commit provides such behavior. Without\nthis commit, this scenario results in an incorrect behavior.\n\nSigned-off-by: Dragan Mladjenovic <dragan.mladjenovic@syrmia.com>\nSigned-off-by: Stefan Pejic <stefan.pejic@syrmia.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20220504110403.613168-5-stefan.pejic@syrmia.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.999679446220398,MIPS,target/mips/tcg/nanomips_translate.c.inc,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,db7596989a67a8f838416f687431f3a0ccb181a0,14668cfaaf4d6f818d9e6b58dd44b75842654e2a,Dragan Mladjenovic,2022-05-04,target/mips: Fix handling of unaligned memory access for nanoMIPS ISA\n\nnanoMIPS ISA does not support unaligned memory access. Adjust\nDisasContext's default_tcg_memop_mask to reflect this.\n\nSigned-off-by: Dragan Mladjenovic <dragan.mladjenovic@syrmia.com>\nSigned-off-by: Stefan Pejic <stefan.pejic@syrmia.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20220504110403.613168-6-stefan.pejic@syrmia.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>,1,0.9994801878929138,MIPS,target/mips/tcg/translate.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,f1663114dfb452acd2abd6585f66779ef6a84010,db7596989a67a8f838416f687431f3a0ccb181a0,Stefan Pejic,2022-05-04,"target/mips: Add missing default cases for some nanoMIPS pools\n\nSwitch statements for the code segments that handle nanoMIPS\ninstruction pools P.LL, P.SC, P.SHIFT, P.LS.S1, P.LS.E0, PP.LSXS\ndo not have proper default case, resulting in not generating\nreserved instruction exception for certain illegal opcodes.\n\nFix this by adding default cases for these switch statements that\ntrigger reserved instruction exception.\n\nSigned-off-by: Stefan Pejic <stefan.pejic@syrmia.com>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-Id: <20220504110403.613168-7-stefan.pejic@syrmia.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9993916749954224,MIPS,target/mips/tcg/nanomips_translate.c.inc,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,217c7f01adaf2853951d4725e3527ae70c45fbfc,e2848bc574fe2715c694bf8fe9a1ba7f78a1125a,Jagannathan Raman,2022-06-13,"qdev: unplug blocker for devices\n\nAdd blocker to prevent hot-unplug of devices\n\nTYPE_VFIO_USER_SERVER, which is introduced shortly, attaches itself to a\nPCIDevice on which it depends. If the attached PCIDevice gets removed\nwhile the server in use, it could cause it crash. To prevent this,\nTYPE_VFIO_USER_SERVER adds an unplug blocker for the PCIDevice.\n\nSigned-off-by: Elena Ufimtseva <elena.ufimtseva@oracle.com>\nSigned-off-by: John G Johnson <john.g.johnson@oracle.com>\nSigned-off-by: Jagannathan Raman <jag.raman@oracle.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-id: c41ef80b7cc063314d629737bed2159e5713f2e0.1655151679.git.jag.raman@oracle.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>",1,0.998953342437744,"PCI, VFIO, VFIO_USER_SERVER","hw/core/qdev.c, include/hw/qdev-core.h, softmmu/qdev-monitor.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,453eb94c7651e791c3cbc1bbf8880677a61342ca,b80bec3a0706402521f64353f87f5e8fea709057,Michael S. Tsirkin,2022-05-26,"ppc: fix boot with sam460ex\n\nRecent changes to pcie_host corrected size of its internal region to\nmatch what it expects: only the low 28 bits are ever decoded. Previous\ncode just ignored bit 29 (if size was 1 << 29) in the address which does\nnot make much sense.  We are now asserting on size > 1 << 28 instead,\nbut PPC 4xx actually allows guest to configure different sizes, and some\nfirmwares seem to set it to 1 << 29.\n\nThis caused e.g. qemu-system-ppc -M sam460ex to exit with an assert when\nthe guest writes a value to CFGMSK register when trying to map config\nspace. This is done in the board firmware in ppc4xx_init_pcie_port() in\nroms/u-boot-sam460ex/arch/powerpc/cpu/ppc4xx/4xx_pcie.c\n\nIt's not clear what the proper fix should be but for now let's force the\nsize to 256MB, so anything outside the expected address range is\nignored.\n\nFixes: commit 1f1a7b2269 (""include/hw/pci/pcie_host: Correct PCIE_MMCFG_SIZE_MAX"")\nReviewed-by: BALATON Zoltan <balaton@eik.bme.hu>\nTested-by: BALATON Zoltan <balaton@eik.bme.hu>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nAcked-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20220526224229.95183-1-mst@redhat.com>\n[danielhb: changed commit msg as BALATON Zoltan suggested]\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>",1,0.9845653176307678,"PCI, PPC",hw/ppc/ppc440_uc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4f5a09714c983a3471fd12e3c7f3196e95c650c1,803ca43e4c7fcf32f9f68c118301ccd0c83ece3f,Leonardo Bras,2022-06-20,"QIOChannelSocket: Fix zero-copy send so socket flush works\n\nSomewhere between v6 and v7 the of the zero-copy-send patchset a crucial\npart of the flushing mechanism got missing: incrementing zero_copy_queued.\n\nWithout that, the flushing interface becomes a no-op, and there is no\nguarantee the buffer is really sent.\n\nThis can go as bad as causing a corruption in RAM during migration.\n\nFixes: 2bc58ffc2926 (""QIOChannelSocket: Implement io_writev zero copy flag & io_flush for CONFIG_LINUX"")\nReported-by:  <xuchuangxclwt@bytedance.com>\nSigned-off-by: Leonardo Bras <leobras@redhat.com>\nReviewed-by: Daniel P. Berrang <berrange@redhat.com>\nReviewed-by: Peter Xu <peterx@redhat.com>\nReviewed-by: Juan Quintela <quintela@redhat.com>\nSigned-off-by: Juan Quintela <quintela@redhat.com>\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>",1,0.9996790885925292,LINUX,io/channel-socket.c,0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,58660bfa3694a2d05eacb8dca7c28ffa08917578,b7698b917abcbe673cbffc15ee41d95d3daa4af3,ukasz Gieryk,2022-05-09,"hw/acpi: Make the PCI hot-plug aware of SR-IOV\n\nPCI device capable of SR-IOV support is a new, still-experimental\nfeature with only a single working example of the Nvme device.\n\nThis patch in an attempt to fix a double-free problem when a\nSR-IOV-capable Nvme device is hot-unplugged in the following scenario:\n\nQemu CLI:\n---------\n-device pcie-root-port,slot=0,id=rp0\n-device nvme-subsys,id=subsys0\n-device nvme,id=nvme0,bus=rp0,serial=deadbeef,subsys=subsys0,sriov_max_vfs=1,sriov_vq_flexible=2,sriov_vi_flexible=1\n\nGuest OS:\n---------\nsudo nvme virt-mgmt /dev/nvme0 -c 0 -r 1 -a 1 -n 0\nsudo nvme virt-mgmt /dev/nvme0 -c 0 -r 0 -a 1 -n 0\necho 1 > /sys/bus/pci/devices/0000:01:00.0/reset\nsleep 1\necho 1 > /sys/bus/pci/devices/0000:01:00.0/sriov_numvfs\nnvme virt-mgmt /dev/nvme0 -c 1 -r 1 -a 8 -n 1\nnvme virt-mgmt /dev/nvme0 -c 1 -r 0 -a 8 -n 2\nnvme virt-mgmt /dev/nvme0 -c 1 -r 0 -a 9 -n 0\nsleep 2\necho 01:00.1 > /sys/bus/pci/drivers/nvme/bind\n\nQemu monitor:\n-------------\ndevice_del nvme0\n\nExplanation of the problem and the proposed solution:\n\n1) The current SR-IOV implementation assumes its the PhysicalFunction\n   that creates and deletes VirtualFunctions.\n2) Its a design decision (the Nvme device at least) for the VFs to be\n   of the same class as PF. Effectively, they share the dc->hotpluggable\n   value.\n3) When a VF is created, its added as a child node to PFs PCI bus\n   slot.\n4) Monitor/device_del triggers the ACPI mechanism. The implementation is\n   not aware of SR/IOV and ejects PFs PCI slot, directly unrealizing all\n   hot-pluggable (!acpi_pcihp_pc_no_hotplug) children nodes.\n5) VFs are unrealized directly, and it doesnt work well with (1).\n   SR/IOV structures are not updated, so when its PFs turn to be\n   unrealized, it works on stale pointers to already-deleted VFs.\n\nThe proposed fix is to make the PCI ACPI code aware of SR/IOV.\n\nSigned-off-by: ukasz Gieryk <lukasz.gieryk@linux.intel.com>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Klaus Jensen <k.jensen@samsung.com>",1,0.9996792078018188,"ACPI, PCI",hw/acpi/pcihp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,8e7fd6f623fb8f6c6eb9b456d9221d4c8226f3d5,ac1fc3a3a93ca57271e4ca6072aa340b30261d1e,Xie Yongji,2022-05-23,block/export: Fix incorrect length passed to vu_queue_push()\n\nNow the req->size is set to the correct value only\nwhen handling VIRTIO_BLK_T_GET_ID request. This patch\nfixes it.\n\nSigned-off-by: Xie Yongji <xieyongji@bytedance.com>\nMessage-Id: <20220523084611.91-3-xieyongji@bytedance.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>,1,0.999671220779419,"VIRTIO, VIRTIO_BLK",block/export/vhost-user-blk-server.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,423bcb234b358a46c868f6baa0483c84870825c5,c2b1747973d1ff334787d9701cf8214e24fe0798,Mark Cave-Ayland,2022-06-24,"pl050: switch over from update_irq() function to PS2 device gpio\n\nAdd a new pl050_init() function which initialises a qdev input gpio for handling\nincoming PS2 IRQs, and then wire up the PS2 device to use it. At the same time\nset update_irq() and update_arg to NULL in ps2_kbd_init() and ps2_mouse_init()\nto ensure that any accidental attempt to use the legacy update_irq() function will\ncause a NULL pointer dereference.\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nAcked-by: Helge Deller <deller@gmx.de>\nMessage-Id: <20220624134109.881989-37-mark.cave-ayland@ilande.co.uk>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9498397707939148,PS2,hw/input/pl050.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,71e3d004824724fe55cd1c4dba34477361a38319,45461aace83d961e933b27519b81d17b4c690514,Jagannathan Raman,2022-06-23,msi: fix MSI vector limit check in msi_set_mask()\n\nMSI supports a maximum of PCI_MSI_VECTORS_MAX vectors - from 0 to\nPCI_MSI_VECTORS_MAX - 1.\n\nmsi_set_mask() was previously using PCI_MSI_VECTORS_MAX as the upper\nlimit for MSI vectors. Fix the upper limit to PCI_MSI_VECTORS_MAX - 1.\n\nFixes: Coverity CID 1490141\nFixes: 08cf3dc61199 vfio-user: handle device interrupts\n\nSigned-off-by: Jagannathan Raman <jag.raman@oracle.com>\nMessage-Id: <20220623153844.7367-1-jag.raman@oracle.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>,1,0.999733030796051,PCI,hw/pci/msi.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,69a5daec06f423843ce1bb9be5fb049314996f78,ea0622060073b7bedda4a54312eeb6189983d1e3,Kevin Wolf,2022-06-27,"libvhost-user: Fix VHOST_USER_GET_MAX_MEM_SLOTS reply\n\nWith REPLY_NEEDED, libvhost-user sends both the acutal result and an\nadditional ACK reply for VHOST_USER_GET_MAX_MEM_SLOTS. This is\nincorrect, the spec mandates that it behave the same with and without\nREPLY_NEEDED because it always sends a reply.\n\nFixes: 6fb2e173d20c9bbb5466183d33a3ad7dcd0375fa\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>\nMessage-Id: <20220627134500.94842-3-kwolf@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997362494468688,VHOST_USER,subprojects/libvhost-user/libvhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7f27d20ded2f480f3e66d03f90ea71507b834276,69a5daec06f423843ce1bb9be5fb049314996f78,Kevin Wolf,2022-06-27,"libvhost-user: Fix VHOST_USER_ADD_MEM_REG reply\n\nWith REPLY_NEEDED, libvhost-user sends both the acutal result and an\nadditional ACK reply for VHOST_USER_ADD_MEM_REG. This is incorrect, the\nspec mandates that it behave the same with and without REPLY_NEEDED\nbecause it always sends a reply.\n\nFixes: ec94c8e621de96c50c2d381c8c9ec94f5beec7c1\nSigned-off-by: Kevin Wolf <kwolf@redhat.com>\nMessage-Id: <20220627134500.94842-4-kwolf@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997360110282898,VHOST_USER,subprojects/libvhost-user/libvhost-user.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,dd0b3271e55d4017fd6cd6b4feb4da6ea6c5d1d7,ece4cccd67749e9b0955159b89b48f645a6c5847,Maheswara Kurapati,2022-06-30,"hw/i2c: pmbus: Page #255 is valid page for read requests.\n\nCurrent implementation of the pmbus core driver treats the read request\nfor page 255 as invalid request and sets the invalid command bit (bit 7)\nin the STATUS_CML register. As per the PMBus specification it is a valid\nrequest.\n\nRefer to the PMBus specification, revision 1.3.1, section 11.10 PAGE,\non the page 58:\n  ""Setting the PAGE to FFh means that all subsequent comands are to be\n   applied to all outputs.\n\n   Some commands, such as READ_TEMPERATURE, may use a common sensor but\n   be available on all pages of a device. Such implementations are the\n   decision of each device manufacturer or are specified in a PMBus\n   Application Profile. Consult the manufacturer's documents or the\n   Application Profile Specification as needed.""\n\nFor e.g.,\nThe VOUT_MODE is a valid command for page 255 for maxim 31785 device.\nrefer to Table 1. PMBus Command Codes on page 14 in the datasheet.\nhttps://datasheets.maximintegrated.com/en/ds/MAX31785.pdf\n\nFixes: 38870253f1d1 (""hw/i2c: pmbus: fix error returns and guard against out of range accesses"")\n\nSigned-off-by: Maheswara Kurapati <quic_mkurapat@quicinc.com>\nSigned-off-by: Jae Hyun Yoo <quic_jaehyoo@quicinc.com>\nReviewed-by: Titus Rwantare <titusr@google.com>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20220627154703.148943-4-quic_jaehyoo@quicinc.com>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9880840182304382,MAX31785,hw/i2c/pmbus_device.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,ceb3ff0e802bf7e373b1dbcff51541eefff25513,2a7a5d5cc40d736eb11baef43bd7ee2ebcb5582c,Peter Delevoryas,2022-06-30,"hw/i2c/aspeed: Fix R_I2CD_FUN_CTRL reference\n\nVery minor, doesn't effect functionality, but this is supposed to be\nR_I2CC_FUN_CTRL (new-mode, not old-mode).\n\nFixes: ba2cccd64e9 (""aspeed: i2c: Add new mode support"")\nSigned-off-by: Peter Delevoryas <pdel@fb.com>\nMessage-Id: <20220630045133.32251-2-me@pjd.dev>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9997227787971495,I2C,hw/i2c/aspeed_i2c.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b582b7a191f23c3f862c3b3aef96d6136508c07f,ceb3ff0e802bf7e373b1dbcff51541eefff25513,Peter Delevoryas,2022-06-30,"hw/i2c/aspeed: Fix DMA len write-enable bit handling\n\nI noticed i2c rx transfers were getting shortened to ""1"" on Zephyr. It\nseems to be because the Zephyr i2c driver sets the RX DMA len with the\nRX field write-enable bit set (bit 31) to avoid a read-modify-write. [1]\n\n/* 0x1C : I2CM Master DMA Transfer Length Register   */\n\nI think we should be checking the write-enable bits on the incoming\nvalue, not checking the register array. I'm not sure we're even writing\nthe write-enable bits to the register array, actually.\n\n[1] https://github.com/AspeedTech-BMC/zephyr/blob/db3dbcc9c52e67a47180890ac938ed380b33f91c/drivers/i2c/i2c_aspeed.c#L145-L148\n\nFixes: ba2cccd64e90f34 (""aspeed: i2c: Add new mode support"")\nSigned-off-by: Peter Delevoryas <pdel@fb.com>\nMessage-Id: <20220630045133.32251-3-me@pjd.dev>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9996590614318848,I2C,hw/i2c/aspeed_i2c.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0c0f1bee6a24cf36a019aefa26d849480a31c746,b582b7a191f23c3f862c3b3aef96d6136508c07f,Peter Delevoryas,2022-06-30,"hw/i2c/aspeed: Fix MASTER_EN missing error message\n\naspeed_i2c_bus_is_master is checking if master mode is enabled in the I2C\nbus controller's function-control register, not that slave mode is enabled\nor something.  The error here is that the guest is trying to trigger an I2C\nmaster mode command while master mode is not enabled.\n\nFixes: ba2cccd64e90f342 (""aspeed: i2c: Add new mode support"")\nSigned-off-by: Peter Delevoryas <pdel@fb.com>\nMessage-Id: <20220630045133.32251-4-me@pjd.dev>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9997325539588928,I2C,hw/i2c/aspeed_i2c.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a8d48f59cd021b25359cc48cb8a897de7802f422,a78e9839ae5eb0b95d9db8dd672e2977d2831605,Klaus Jensen,2022-06-30,"hw/i2c/aspeed: add slave device in old register mode\n\nAdd slave mode functionality for the Aspeed I2C controller in old\nregister mode. This is implemented by realizing an I2C slave device\nowned by the I2C controller and attached to its own bus.\n\nThe I2C slave device only implements asynchronous sends on the bus, so\nslaves not supporting that will not be able to communicate with it.\n\nSigned-off-by: Klaus Jensen <k.jensen@samsung.com>\n[ clg: checkpatch fixes ]\nMessage-Id: <20220601210831.67259-6-its@irrelevant.dk>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20220630045133.32251-7-me@pjd.dev>\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.99897038936615,I2C,"hw/i2c/aspeed_i2c.c, include/hw/i2c/aspeed_i2c.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,55c57023b740c29151d42600af9ac43ba00e56cc,1c5d909f882ebd666224e3e1338a87616ebce4ed,Peter Delevoryas,2022-06-30,"hw/misc/aspeed: Add PECI controller\n\nThis introduces a really basic PECI controller that responses to\ncommands by always setting the response code to success and then raising\nan interrupt to indicate the command is done. This helps avoid getting\nhit with constant errors if the driver continuously attempts to send a\ncommand and keeps timing out.\n\nThe AST2400 and AST2500 only included registers up to 0x5C, not 0xFC.\nThey supported PECI 1.1, 2.0, and 3.0. The AST2600 and AST1030 support\nPECI 4.0, which includes more read/write buffer registers from 0x80 to\n0xFC to support 64-byte mode.\n\nThis patch doesn't attempt to handle that, or to create a different\nversion of the controller for the different generations, since it's only\nimplementing functionality that is common to all generations.\n\nThe basic sequence of events is that the firmware will read and write to\nvarious registers and then trigger a command by setting the FIRE bit in\nthe command register (similar to the I2C controller).\n\nThen the firmware waits for an interrupt from the PECI controller,\nexpecting the interrupt status register to be filled in with info on\nwhat happened. If the command was transmitted and received successfully,\nthen response codes from the host CPU will be found in the data buffer\nregisters.\n\nSigned-off-by: Peter Delevoryas <pdel@fb.com>\nReviewed-by: Cdric Le Goater <clg@kaod.org>\nMessage-Id: <20220630045133.32251-12-me@pjd.dev>\n[ clg: s/sysbus_mmio_map/aspeed_mmio_map/ ]\nSigned-off-by: Cdric Le Goater <clg@kaod.org>",1,0.9991318583488464,I2C,"hw/arm/aspeed_ast10x0.c, hw/arm/aspeed_ast2600.c, hw/arm/aspeed_soc.c, hw/misc/aspeed_peci.c, hw/misc/meson.build, hw/misc/trace-events, include/hw/arm/aspeed_soc.h, include/hw/misc/aspeed_peci.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,b509caceaa6dcb694015390a202002a0f3088ad0,3780e33732f88a88b444fa42d56c5938ecd33e21,Alistair Francis,2022-06-30,"target/riscv: Fixup MSECCFG minimum priv check\n\nThere is nothing in the RISC-V spec that mandates version 1.12 is\nrequired for ePMP and there is currently hardware [1] that implements\nePMP (a draft version though) with the 1.11 priv spec.\n\n1: https://ibex-core.readthedocs.io/en/latest/01_overview/compliance.html\n\nFixes: a4b2fa433125 (""target/riscv: Introduce privilege version field in the CSR ops."")\nSigned-off-by: Alistair Francis <alistair.francis@wdc.com>\nReviewed-by: Bin Meng <bmeng.cn@gmail.com>\nMessage-Id: <20220629233102.275181-2-alistair.francis@opensource.wdc.com>",1,0.996547520160675,ECC,target/riscv/csr.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,276dfd03f00358ba904ca1954d3671f94949fbf6,3a751770ee687047230eca5f25ce3844b97cd713,Daniel P. Berrang,2022-06-28,"tests: wait max 120 seconds for migration test status changes\n\nCurrently the wait_for_migration_fail and wait_for_migration_complete\nfunctions will spin in an infinite loop checking query-migrate status\nto detect a specific change/goal. This is fine when everything goes\nto plan, but when the unusual happens, these will hang the test suite\nforever.\n\nAny normally executing migration test case normally takes < 1 second\nfor a state change, with exception of the autoconverge test which\ntakes about 5 seconds. Taking into account possibility of people\nrunning tests inside TCG, allowing a factor of x20 slowdown gives\na reasonable worst case of 120 seconds. Anything taking longer than\nthis is a strong sign that the test has hung, or the test should be\nrewritten to be faster.\n\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nMessage-Id: <20220628105434.295905-2-berrange@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.998542308807373,TCG,tests/qtest/migration-helpers.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,be9c61da9fc57eb7d293f380d0805ca6f46c2657,19361471b59441cd6f2aa22d4fbee7a6e9e76586,Chuck Zmudzinski,2022-06-29,"xen/pass-through: merge emulated bits correctly\n\nIn xen_pt_config_reg_init(), there is an error in the merging of the\nemulated data with the host value. With the current Qemu, instead of\nmerging the emulated bits with the host bits as defined by emu_mask,\nthe emulated bits are merged with the host bits as defined by the\ninverse of emu_mask. In some cases, depending on the data in the\nregisters on the host, the way the registers are setup, and the\ninitial values of the emulated bits, the end result will be that\nthe register is initialized with the wrong value.\n\nTo correct this error, use the XEN_PT_MERGE_VALUE macro to help ensure\nthe merge is done correctly.\n\nThis correction is needed to resolve Qemu project issue #1061, which\ndescribes the failure of Xen HVM Linux guests to boot in certain\nconfigurations with passed through PCI devices, that is, when this error\ndisables instead of enables the PCI_STATUS_CAP_LIST bit of the\nPCI_STATUS register of a passed through PCI device, which in turn\ndisables the MSI-X capability of the device in Linux guests with the end\nresult being that the Linux guest never completes the boot process.\n\nFixes: 2e87512eccf3 (""xen/pt: Sync up the dev.config and data values"")\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/1061\nBuglink: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=988333\n\nSigned-off-by: Chuck Zmudzinski <brchuckz@aol.com>\nReviewed-by: Anthony PERARD <anthony.perard@citrix.com>\nMessage-Id: <e4392535d8e5266063dc5461d0f1d301e3dd5951.1656522217.git.brchuckz@aol.com>\nSigned-off-by: Anthony PERARD <anthony.perard@citrix.com>",1,0.9948750138282776,"PCI, XEN",hw/xen/xen_pt_config_init.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,6c8fa961da5e60f574bb52fd3ad44b1e9e8ad4b8,170ed475cd5f78261c56cebf12541ceee4807594,Mauro Matteo Cascella,2022-07-05,scsi/lsi53c895a: fix use-after-free in lsi_do_msgout (CVE-2022-0216)\n\nSet current_req->req to NULL to prevent reusing a free'd buffer in case of\nrepeated SCSI cancel requests. Thanks to Thomas Huth for suggesting the patch.\n\nFixes: CVE-2022-0216\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/972\nSigned-off-by: Mauro Matteo Cascella <mcascell@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <20220705200543.2366809-1-mcascell@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>,1,0.9997236132621764,SCSI,hw/scsi/lsi53c895a.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,71cd3e5ecb33e5f8842552bcf91aceb964bbd33c,8a69bca77a417167b743b8077c91ee43c52709cf,Daniel Henrique Barboza,2022-06-21,"ppc/pnv: remove 'INTERFACE_PCIE_DEVICE' from phb3 root bus\n\nIt's unneeded. No other PCIE_BUS implements this interface.\n\nReviewed-by: Frederic Barrat <fbarrat@linux.ibm.com>\nFixes: 9ae1329ee2fe (""ppc/pnv: Add models for POWER8 PHB3 PCIe Host bridge"")\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20220621173436.165912-8-danielhb413@gmail.com>",1,0.9831454753875732,PCI,hw/pci-host/pnv_phb3.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,21870aab36355ff5a1a0dbdb06d2071f3214cab2,71cd3e5ecb33e5f8842552bcf91aceb964bbd33c,Daniel Henrique Barboza,2022-06-21,"ppc/pnv: remove 'INTERFACE_PCIE_DEVICE' from phb4 root bus\n\nIt's unneeded. No other PCIE_BUS implements this interface.\n\nReviewed-by: Frederic Barrat <fbarrat@linux.ibm.com>\nFixes: 4f9924c4d4cf (""ppc/pnv: Add models for POWER9 PHB4 PCIe Host bridge"")\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>\nMessage-Id: <20220621173436.165912-9-danielhb413@gmail.com>",1,0.9969125986099244,PCI,hw/pci-host/pnv_phb4.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,40b200279c98ea0c223fa5a2bdeb4aee40d4e40e,f43ee493c270a27876a55e9636bc4824881d1bbd,Peter Maydell,2022-06-30,"target/arm: Suppress debug exceptions when OS Lock set\n\nThe ""OS Lock"" in the Arm debug architecture is a way for software\nto suppress debug exceptions while it is trying to power down\na CPU and save the state of the breakpoint and watchpoint\nregisters. In QEMU we implemented the support for writing\nthe OS Lock bit via OSLAR_EL1 and reading it via OSLSR_EL1,\nbut didn't implement the actual behaviour.\n\nThe required behaviour with the OS Lock set is:\n * debug exceptions (apart from BKPT insns) are suppressed\n * some MDSCR_EL1 bits allow write access to the corresponding\n   EDSCR external debug status register that they shadow\n   (we can ignore this because we don't implement external debug)\n * similarly with the OSECCR_EL1 which shadows the EDECCR\n   (but we don't implement OSECCR_EL1 anyway)\n\nImplement the missing behaviour of suppressing debug\nexceptions.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220630194116.3438513-4-peter.maydell@linaro.org",1,0.9991878867149352,ECC,target/arm/debug_helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,eb225f95c42e334807a8f28d0f071766489640c9,7e0e865ad50e1b6556aab07019e4ede9460fe756,Dom,2022-07-07,"Added missing AARCH64 target guard in arm_cpu_reset (#66)\n\nPAC keys are only defined for TARGET_AARCH64. This fixed compilation for ARM target.\n\nCo-authored-by: Dominique Bongard <dominique.bongard@0xcite.ch>\nCo-authored-by: TrungNguyen1909 <ntrung03@gmail.com>",1,0.9994832277297974,"AARCH64, ARM",target/arm/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,92e288fcfbf2908450023e85c0d53c1ebb8dbd30,52f08deaf803fa95fd12a886f854502ca632d562,Paolo Bonzini,2022-06-22,"build: try both native and cross compilers\n\nConfigure is trying to fall back on cross compilers for targets that\ncan have bi-arch or bi-endian toolchains, but there are many corner\ncases where just checking the name can go wrong.  For example, the RHEL\nppc64le compiler is bi-arch and bi-endian, but multilibs are disabled.\nTherefore it cannot be used to build 32-bit hosted binaries like the\nlinux-user TCG tests.\n\nTrying the cross compiler first also does not work, and an example for\nthis is also ppc64le.  The powerpc64-linux-gnu-gcc binary from the\ncross-gcc package is theoretically multilib-friendly, but it cannot\nfind the CRT files on a ppc64le host, because they are not in the .../le\nmultilib subdirectory.\n\nThis can be fixed by testing both the native compiler and the cross\ncompiler, and proceeding with the first one that works.  To do this,\nmove the compiler usability check from the tests/tcg snippet to inside\nprobe_target_compiler and, while at it, restrict the softmmu emulation\ntarget to basically a test for the presence of libgcc.\n\nTested-by: Matheus Kowalczuk Ferst <matheus.ferst@eldorado.org.br>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9991443157196044,TCG,configure,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4367a20cc442c56b05611b4224de9a61908f9eac,8e3d85d36b77f11ad7bded3a2d48c1f0cc334f82,Mauro Matteo Cascella,2022-07-11,"scsi/lsi53c895a: really fix use-after-free in lsi_do_msgout (CVE-2022-0216)\n\nSet current_req to NULL, not current_req->req, to prevent reusing a free'd\nbuffer in case of repeated SCSI cancel requests.  Also apply the fix to\nCLEAR QUEUE and BUS DEVICE RESET messages as well, since they also cancel\nthe request.\n\nThanks to Alexander Bulekov for providing a reproducer.\n\nFixes: CVE-2022-0216\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/972\nSigned-off-by: Mauro Matteo Cascella <mcascell@redhat.com>\nTested-by: Alexander Bulekov <alxndr@bu.edu>\nMessage-Id: <20220711123316.421279-1-mcascell@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.9997358918190002,SCSI,"hw/scsi/lsi53c895a.c, tests/qtest/fuzz-lsi53c895a-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,389e18eb9aa4877f33326afa426643769185d014,6ab717610fe7ef791454df6c61e2b5736d26c8bf,Mark Cave-Ayland,2022-06-22,"scsi-disk: add SCSI_DISK_QUIRK_MODE_PAGE_TRUNCATED quirk for Macintosh\n\nWhen A/UX configures the CDROM device it sends a truncated MODE SELECT request\nfor page 1 (MODE_PAGE_R_W_ERROR) which is only 6 bytes in length rather than\n10. This seems to be due to bug in Apple's code which calculates the CDB message\nlength incorrectly.\n\nThe work at [1] suggests that this truncated request is accepted on real\nhardware whereas in QEMU it generates an INVALID_PARAM_LEN sense code which\ncauses A/UX to get stuck in a loop retrying the command in an attempt to succeed.\n\nAlter the mode page request length check so that truncated requests are allowed\nif the SCSI_DISK_QUIRK_MODE_PAGE_TRUNCATED quirk is enabled, whilst also adding a\ntrace event to enable the condition to be detected.\n\n[1] https://68kmla.org/bb/index.php?threads/scsi2sd-project-anyone-interested.29040/page-7#post-316444\n\nSigned-off-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nMessage-Id: <20220622105314.802852-10-mark.cave-ayland@ilande.co.uk>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>",1,0.999262273311615,SCSI,"hw/scsi/scsi-disk.c, hw/scsi/trace-events, include/hw/scsi/scsi.h",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,afbb181c2deb4584666be17adfbc49532fc90ace,c1547bba7eead64575a662acd95a986ac2956213,Peter Maydell,2022-07-14,"target/arm: Fix big-endian host handling of VTCR\n\nWe have a bug in our handling of accesses to the AArch32 VTCR\nregister on big-endian hosts: we were not adjusting the part of the\nuint64_t field within TCR that the generated code would access.  That\ncan be done with offsetoflow32(), by using an ARM_CP_STATE_BOTH cpreg\nstruct, or by defining a full set of read/write/reset functions --\nthe various other TCR cpreg structs used one or another of those\nstrategies, but for VTCR we did not, so on a big-endian host VTCR\naccesses would touch the wrong half of the register.\n\nUse offsetoflow32() in the VTCR register struct.  This works even\nthough the field in the CPU struct is currently a struct TCR, because\nthe first field in that struct is the uint64_t raw_tcr.\n\nNone of the other TCR registers have this bug -- either they are\nAArch64 only, or else they define resetfn, writefn, etc, and\nexpect to be passed the full struct pointer.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 20220714132303.1287193-5-peter.maydell@linaro.org",1,0.9996907711029052,ARM,target/arm/helper.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4a84e85413acaad9e84b64786e44e190080d78a6,f04383e74926180cc56809ec8319115e4cea32b7,Hao Wu,2022-07-14,"hw/adc: Fix CONV bit in NPCM7XX ADC CON register\n\nThe correct bit for the CONV bit in NPCM7XX ADC is bit 13. This patch\nfixes that in the module, and also lower the IRQ when the guest\nis done handling an interrupt event from the ADC module.\n\nSigned-off-by: Hao Wu <wuhaotsh@google.com>\nReviewed-by: Patrick Venture<venture@google.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-id: 20220714182836.89602-4-wuhaotsh@google.com\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9995664954185486,NPCM7XX,"hw/adc/npcm7xx_adc.c, tests/qtest/npcm7xx_adc-test.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,3c2e80ad2fcf004fcf74bf690dc1c952320a5b52,3778aa970f21b475ca16befcf271078602104fe6,Leandro Lupori,2022-06-28,"ppc: Check partition and process table alignment\n\nCheck if partition and process tables are properly aligned, in\ntheir size, according to PowerISA 3.1B, Book III 6.7.6 programming\nnote. Hardware and KVM also raise an exception in these cases.\n\nSigned-off-by: Leandro Lupori <leandro.lupori@eldorado.org.br>\nReviewed-by: Fabiano Rosas <farosas@linux.ibm.com>\nMessage-Id: <20220628133959.15131-2-leandro.lupori@eldorado.org.br>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>",1,0.9266241788864136,KVM,"hw/ppc/spapr.c, hw/ppc/spapr_hcall.c, target/ppc/mmu-book3s-v3.c, target/ppc/mmu-radix64.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,63dd7bcbea143814924e2c6f1c01a7d9ca8038f5,13c59eb09bd6d1fbc13f08b708226421f14a232b,Ilya Leoshkevich,2022-07-13,"target/s390x: fix NaN propagation rules\n\ns390x has the same NaN propagation rules as ARM, and not as x86.\n\nSigned-off-by: Ilya Leoshkevich <iii@linux.ibm.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20220713182612.3780050-3-iii@linux.ibm.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.9995904564857484,ARM,fpu/softfloat-specialize.c.inc,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,cab86dea1d205f5224770de294cc718be467ccf8,d48125de38f48a61d6423ef6a01156d6dff9ee2c,Taylor Simpson,2022-07-07,"Hexagon (target/hexagon) fix store w/mem_noshuf & predicated load\n\nCall the CHECK_NOSHUF macro multiple times: once in the\nfGEN_TCG_PRED_LOAD() and again in fLOAD().\n\nBefore this commit, a packet with a store and a predicated\nload with mem_noshuf that gets encoded like this:\n\n    { P0 = cmp.eq(R17,#0x0)\n      memw(R18+#0x0) = R2\n      if (!P0.new) R3 = memw(R17+#0x4) }\n\n... would end up generating a branch over both the load\nand the store like so:\n\n    ...\n    brcond_i32 loc17,$0x0,eq,$L1\n    mov_i32 loc18,store_addr_1\n    qemu_st_i32 store_val32_1,store_addr_1,leul,0\n    qemu_ld_i32 loc16,loc7,leul,0\n    set_label $L1\n    ...\n\nTest cases added to tests/tcg/hexagon/mem_noshuf.c\n\nCo-authored-by: Taylor Simpson <tsimpson@quicinc.com>\nSigned-off-by: Brian Cain <bcain@quicinc.com>\nSigned-off-by: Taylor Simpson <tsimpson@quicinc.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20220707210546.15985-2-tsimpson@quicinc.com>",1,0.9997319579124452,TCG,"target/hexagon/gen_tcg.h, tests/tcg/hexagon/mem_noshuf.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,927f93e099c4f9184e60a1bc61624ac2d04d0223,5f87072e9532a92e6270577665aa2fa659ec0b3f,Leonardo Bras,2022-07-11,"QIOChannelSocket: Fix zero-copy flush returning code 1 when nothing sent\n\nIf flush is called when no buffer was sent with MSG_ZEROCOPY, it currently\nreturns 1. This return code should be used only when Linux fails to use\nMSG_ZEROCOPY on a lot of sendmsg().\n\nFix this by returning early from flush if no sendmsg(...,MSG_ZEROCOPY)\nwas attempted.\n\nFixes: 2bc58ffc2926 (""QIOChannelSocket: Implement io_writev zero copy flag & io_flush for CONFIG_LINUX"")\nSigned-off-by: Leonardo Bras <leobras@redhat.com>\nReviewed-by: Daniel P. Berrang <berrange@redhat.com>\nAcked-by: Daniel P. Berrang <berrange@redhat.com>\nReviewed-by: Juan Quintela <quintela@redhat.com>\nReviewed-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20220711211112.18951-2-leobras@redhat.com>\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>",1,0.9997451901435852,LINUX,io/channel-socket.c,0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4a447a710c523392b09391232d5a3dfb156a9d75,71a5f07e75ba34072a074181d37009abc28d7083,Jonathan Cameron,2022-07-01,"hw/i386/pc: Always place CXL Memory Regions after device_memory\n\nPreviously broken_reserved_end was taken into account, but Igor Mammedov\nidentified that this could lead to a clash between potential RAM being\nmapped in the region and CXL usage. Hence always add the size of the\ndevice_memory memory region.  This only affects the case where the\nbroken_reserved_end flag was set.\n\nFixes: 6e4e3ae936e6 (""hw/cxl/component: Implement host bridge MMIO (8.2.5, table 142)"")\nReported-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Jonathan Cameron <Jonathan.Cameron@huawei.com>\nMessage-Id: <20220701132300.2264-3-Jonathan.Cameron@huawei.com>\nAcked-by: Igor Mammedov <imammedo@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.999697208404541,CXL,hw/i386/pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1caab5cf86bdf02fa71079c4ca4a3c0748f39eb5,8288a8286d00e074b765f1d47ee61159ed5291fd,Joao Martins,2022-07-19,"i386/pc: bounds check phys-bits against max used GPA\n\nCalculate max *used* GPA against the CPU maximum possible address\nand error out if the former surprasses the latter. This ensures\nmax used GPA is reacheable by configured phys-bits. Default phys-bits\non Qemu is TCG_PHYS_ADDR_BITS (40) which is enough for the CPU to\naddress 1Tb (0xff ffff ffff) or 1010G (0xfc ffff ffff) in AMD hosts\nwith IOMMU.\n\nThis is preparation for AMD guests with >1010G, where it will want relocate\nram-above-4g to be after 1Tb instead of 4G.\n\nSigned-off-by: Joao Martins <joao.m.martins@oracle.com>\nAcked-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20220719170014.27028-10-joao.m.martins@oracle.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9964388608932496,TCG,hw/i386/pc.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,0522be9a0c0094088ccef7aab352c57f483ca250,b3e6982b4154c1c0ab8b25f2e1ac7838a1809824,Jean-Philippe Brucker,2022-07-18,"hw/virtio/virtio-iommu: Enforce power-of-two notify for both MAP and UNMAP\n\nCurrently we only enforce power-of-two mappings (required by the QEMU\nnotifier) for UNMAP requests. A MAP request not aligned on a\npower-of-two may be successfully handled by VFIO, and then the\ncorresponding UNMAP notify will fail because it will attempt to split\nthat mapping. Ensure MAP and UNMAP notifications are consistent.\n\nFixes: dde3f08b5cab (""virtio-iommu: Handle non power of 2 range invalidations"")\nReported-by: Tina Zhang <tina.zhang@intel.com>\nSigned-off-by: Jean-Philippe Brucker <jean-philippe@linaro.org>\nMessage-Id: <20220718135636.338264-1-jean-philippe@linaro.org>\nTested-by: Tina Zhang <tina.zhang@intel.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997257590293884,VFIO,hw/virtio/virtio-iommu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,edccf661e6205d5ffff73860ab22eaf08a611ad9,3e4abe2c92964aadd35344a635b0f32cb487fd5c,Daniel Henrique Barboza,2022-04-09,"hw/ppc: check if spapr_drc_index() returns NULL in spapr_nvdimm.c\n\nspapr_nvdimm_flush_completion_cb() and flush_worker_cb() are using the\nDRC object returned by spapr_drc_index() without checking it for NULL.\nIn this case we would be dereferencing a NULL pointer when doing\nSPAPR_NVDIMM(drc->dev) and PC_DIMM(drc->dev).\n\nThis can happen if, during a scm_flush(), the DRC object is wrongly\nfreed/released (e.g. a bug in another part of the code).\nspapr_drc_index() would then return NULL in the callbacks.\n\nFixes: Coverity CID 1487108, 1487178\nReviewed-by: Greg Kurz <groug@kaod.org>\nMessage-Id: <20220409200856.283076-2-danielhb413@gmail.com>\nSigned-off-by: Daniel Henrique Barboza <danielhb413@gmail.com>",1,0.7385197281837463,"DIMM, NVDIMM",hw/ppc/spapr_nvdimm.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,734a659ad264ac080457167e845ffabbaaa66d0e,3e4abe2c92964aadd35344a635b0f32cb487fd5c,Peter Maydell,2022-07-28,"linux-user/flatload.c: Fix setting of image_info::end_code\n\nThe flatload loader sets the end_code field in the image_info struct\nincorrectly, due to a typo.\n\nThis is a very long-standing bug (dating all the way back to when\nthe bFLT loader was added in 2006), but has gone unnoticed because\n(a) most people don't use bFLT binaries\n(b) we don't actually do anything with the end_code field, except\n    print it in debugging traces and pass it to TCG plugins\n\nFix the typo.\n\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/1119\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20220728151406.2262862-1-peter.maydell@linaro.org>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.9997467398643494,TCG,linux-user/flatload.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,1bca64a3f0490861c03ceb849821ebf42c926f82,a07d9df0fd9d449c0271e2fe358e472bc7efefc2,Thomas Huth,2022-08-01,"tests/qtest/migration-test: Run the dirty ring tests only with the x86 target\n\nkvm_dirty_ring_supported() only checks whether the dirty ring support\nis available on the x86 host, but it ignores whether the target QEMU\narchitecture is x86 or not. Thus the test_vcpu_dirty_limit() test\ncurrently fails with the assert((strcmp(arch, ""x86_64"") == 0)) statement\nin dirtylimit_start_vm() if the users run e.g. ""make check-qtest-aarch64""\non their x86 host. Fix it by only executing the tests when we're running\nwith a x86_64 target QEMU binary with KVM.\n\nMessage-Id: <20220801114644.208197-1-thuth@redhat.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: Thomas Huth <thuth@redhat.com>",1,0.999514937400818,KVM,tests/qtest/migration-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,5258a7e2c0677d16e9e1d06845f60171adf0b290,fbf8c96be3eff5f4d9fa7e7f5d989c54e62dd294,Leonardo Bras,2022-08-04,"QIOChannelSocket: Add support for MSG_ZEROCOPY + IPV6\n\nFor using MSG_ZEROCOPY, there are two steps:\n1 - io_writev() the packet, which enqueues the packet for sending, and\n2 - io_flush(), which gets confirmation that all packets got correctly sent\n\nCurrently, if MSG_ZEROCOPY is used to send packets over IPV6, no error will\nbe reported in (1), but it will fail in the first time (2) happens.\n\nThis happens because (2) currently checks for cmsg_level & cmsg_type\nassociated with IPV4 only, before reporting any error.\n\nAdd checks for cmsg_level & cmsg_type associated with IPV6, and thus enable\nsupport for MSG_ZEROCOPY + IPV6\n\nFixes: 2bc58ffc29 (""QIOChannelSocket: Implement io_writev zero copy flag & io_flush for CONFIG_LINUX"")\nSigned-off-by: Leonardo Bras <leobras@redhat.com>\nSigned-off-by: Daniel P. Berrang <berrange@redhat.com>",1,0.9980716109275818,LINUX,io/channel-socket.c,0,other,platform,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9390da5ef29a5e0f98e5b482dceeeb287c452f17,a32086de4919b9affb2ab2d0112d400eaf89f607,Qiang Liu,2022-08-08,"xlnx_dp: drop unsupported AUXCommand in xlnx_dp_aux_set_command\n\nIn xlnx_dp_aux_set_command, when the command leads to the default\nbranch, xlxn-dp will abort and then crash.\n\nThis patch removes this abort and drops this operation.\n\nFixes: 58ac482 (""introduce xlnx-dp"")\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/411\nReported-by: Qiang Liu <cyruscyliu@gmail.com>\nTested-by: Qiang Liu <cyruscyliu@gmail.com>\nSuggested-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Qiang Liu <cyruscyliu@gmail.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Frederic Konrad <fkonrad@amd.com>\nMessage-Id: <20220808080116.2184881-1-cyruscyliu@gmail.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>",1,0.99955016374588,AUX,hw/display/xlnx_dp.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,bd64c210ce2bebba993ee49d34327706ec47f685,8809baf4e40633ba01b47cd2257bbbbba14fc861,Igor Mammedov,2022-07-28,"hw/mips/malta: turn off x86 specific features of PIIX4_PM\n\nQEMU crashes trying to save VMSTATE when only MIPS target are compiled in\n  $ qemu-system-mips -monitor stdio\n  (qemu) migrate ""exec:gzip -c > STATEFILE.gz""\n  Segmentation fault (core dumped)\n\nIt happens due to PIIX4_PM trying to parse hotplug vmstate structures\nwhich are valid only for x86 and not for MIPS (as it requires ACPI\ntables support which is not existent for ithe later)\n\nIssue was probably exposed by trying to cleanup/compile out unused\nACPI bits from MIPS target (but forgetting about migration bits).\n\nDisable compiled out features using compat properties as the least\nrisky way to deal with issue.\n\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nResolves: https://gitlab.com/qemu-project/qemu/-/issues/995\nReviewed-by: Ani Sinha <ani@anisinha.ca>\nAcked-by: Michael S. Tsirkin <mst@redhat.com>\nMessage-Id: <20220728115034.1327988-1-imammedo@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>",1,0.9994051456451416,"ACPI, MIPS, PIIX4",hw/mips/malta.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,7cf745dd9c25f0740dc1009598b58dd8dd989876,ca5f3d4df1b47d7f66a109cdb504e83dfd7ec433,Peter Maydell,2022-07-29,"hw/net/rocker: Avoid undefined shifts with more than 31 ports\n\nIn rocker_port_phys_link_status() and rocker_port_phys_enable_read()\nwe construct a 64-bit value with one bit per front-panel port.\nHowever we accidentally do the shift as 32-bit arithmetic, which\nmeans that if there are more than 31 front-panel ports this is\nundefined behaviour.\n\nFix the problem by ensuring we use 64-bit arithmetic for the whole\ncalculation. (We won't ever shift off the 64-bit value because\nROCKER_FP_PORTS_MAX is 62.)\n\nResolves: Coverity CID 1487121, 1487160\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Jason Wang <jasowang@redhat.com>",1,0.9996494054794312,ROCKER,hw/net/rocker/rocker.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,2daf518dd1312be8405b4cb094cc7a9720428609,a6b1c53e79d08a99a28cc3e67a3e1a7c34102d6b,Peter Maydell,2022-08-11,"target/arm: Don't report Statistical Profiling Extension in ID registers\n\nThe newly added neoverse-n1 CPU has ID register values which indicate\nthe presence of the Statistical Profiling Extension, because the real\nhardware has this feature.  QEMU's TCG emulation does not yet\nimplement SPE, though (not even as a minimal stub implementation), so\nguests will crash if they try to use it because the SPE system\nregisters don't exist.\n\nForce ID_AA64DFR0_EL1.PMSVer to 0 in CPU realize for TCG, so that\nwe don't advertise to the guest a feature that doesn't exist.\n\n(We could alternatively do this by editing the value that\naarch64_neoverse_n1_initfn() sets for this ID register, but\nsuppressing the field in realize means we won't re-introduce this bug\nwhen we add other CPUs that have SPE in hardware, such as the\nNeoverse-V1.)\n\nAn example of a non-booting guest is current mainline Linux (5.19),\nwhen booting in EL2 on the virt board (ie with -machine\nvirtualization=on).\n\nReported-by: Zenghui Yu <yuzenghui@huawei.com>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nReviewed-by: Zenghui Yu <yuzenghui@huawei.com>\nMessage-id: 20220811131127.947334-1-peter.maydell@linaro.org",1,0.9986009001731871,TCG,target/arm/cpu.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,e1f045780ba60bc511b5acb168b32a6a41148d73,6a54ac2a9737057dc19aa584d823a3011717423b,Zenghui Yu,2022-08-12,"hw/arm/virt-acpi-build: Present the GICR structure properly for GICv4\n\nWith the introduction of the new TCG GICv4, build_madt() is badly broken\nas we do not present any GIC Redistributor structure in MADT for GICv4\nguests, so that they have no idea about where the Redistributor\nregister frames are. This fixes a Linux guest crash at boot time with\nACPI enabled and '-machine gic-version=4'.\n\nWhile at it, let's convert the remaining hard coded gic_version into\nenumeration VIRT_GIC_VERSION_2 for consistency.\n\nSigned-off-by: Zenghui Yu <yuzenghui@huawei.com>\nMessage-id: 20220812022018.1069-1-yuzenghui@huawei.com\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.999658703804016,"ACPI, TCG",hw/arm/virt-acpi-build.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,4311682ea8293f720730f260e8a7601117d79e65,e1f045780ba60bc511b5acb168b32a6a41148d73,Philippe Mathieu-Daud,2022-08-10,"cutils: Add missing dyld(3) include on macOS\n\nCommit 06680b15b4 moved qemu_*_exec_dir() to cutils but forgot\nto move the macOS dyld(3) include, resulting in the following\nerror (when building with Homebrew GCC on macOS Monterey 12.4):\n\n  [313/1197] Compiling C object libqemuutil.a.p/util_cutils.c.o\n  FAILED: libqemuutil.a.p/util_cutils.c.o\n  ../../util/cutils.c:1039:13: error: implicit declaration of function '_NSGetExecutablePath' [-Werror=implicit-function-declaration]\n   1039 |         if (_NSGetExecutablePath(fpath, &len) == 0) {\n        |             ^~~~~~~~~~~~~~~~~~~~\n  ../../util/cutils.c:1039:13: error: nested extern declaration of '_NSGetExecutablePath' [-Werror=nested-externs]\n\nFix by moving the include line to cutils.\n\nFixes: 06680b15b4 (""include: move qemu_*_exec_dir() to cutils"")\nSigned-off-by: Philippe Mathieu-Daud <f4bug@amsat.org>\nMessage-id: 20220809222046.30812-1-f4bug@amsat.org\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>",1,0.9992559552192688,LED,"util/cutils.c, util/oslib-posix.c",0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,a99fbb003b2558cb4ff426d8144eff7cc1e2d7dc,3824e25db1a84fadc50b88dfbe27047aa2f7f85d,Jonathan Cameron,2022-08-08,hw/cxl: Fix memory leak in error paths\n\nUse g_autofree to free the CXLFixedWindow structure if an\nerror occurs in configuration before we have added to\nthe list (via g_steal_pointer())\n\nFix Coverity CID: 1488872\n\nReported-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Jonathan Cameron <Jonathan.Cameron@huawei.com>\nMessage-Id: <20220808122051.14822-2-Jonathan.Cameron@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.9997267127037048,CXL,hw/cxl/cxl-host.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,66a2356485895f82b14585bda8e04bd190841fc0,29d1fbc6c6ff04492fc67626aec5ebf2439739d0,Jonathan Cameron,2022-08-17,"hw/cxl: Fix Get LSA input payload size which should be 8 bytes.\n\nGet LSA needs 4 byte offset and 4 byte length arguments.\nCXL rev 2.0 Table 178.\n\nFixes: 3ebe676a34 (""hw/cxl/device: Implement get/set Label Storage Area (LSA)"")\nSigned-off-by: Jonathan Cameron <Jonathan.Cameron@huawei.com>\nMessage-Id: <20220817145759.32603-3-Jonathan.Cameron@huawei.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9996989965438844,CXL,hw/cxl/cxl-mailbox-utils.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,888fbaaf029dde7b86d2be24bded6fda6bd80b6c,4f41b4e445d09651988df36615c3a64853d5bc4a,Igor Mammedov,2022-07-28,tests: acpi: silence applesmc warning about invalid key\n\nOSK value is irrelevant for ACPI test case.\nSupply fake OSK explicitly to prevent QEMU complaining about\ninvalid key when it fallbacks to default_osk.\n\nSuggested-by: Daniel P. Berrang <berrange@redhat.com>\nSigned-off-by: Igor Mammedov <imammedo@redhat.com>\nMessage-Id: <20220728133713.1369596-1-imammedo@redhat.com>\nReviewed-by: Daniel P. Berrang <berrange@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>,1,0.7834945321083069,ACPI,tests/qtest/bios-tables-test.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
qemu-t8030,https://github.com/TrungNguyen1909/qemu-t8030,9afb4177d66ac1eee858aba07fa2fc729b274eb4,888fbaaf029dde7b86d2be24bded6fda6bd80b6c,Michael S. Tsirkin,2022-07-27,"virtio-pci: don't touch pci on virtio reset\n\nvirtio level reset should not affect pci express\nregisters such as PM, error or link.\n\nFixes: 27ce0f3afc (""hw/virtio: fix Power Management Control Register for PCI Express virtio devices"")\nFixes: d584f1b9ca (""hw/virtio: fix Link Control Register for PCI Express virtio devices"")\nFixes: c2cabb3422 (""hw/virtio: fix error enabling flags in Device Control register"")\nCc: ""Marcel Apfelbaum"" <marcel@redhat.com>\nSigned-off-by: Michael S. Tsirkin <mst@redhat.com>",1,0.9997363686561584,PCI,hw/virtio/virtio-pci.c,0,other,other,qemu-t8030.json,repos/qemu-t8030
