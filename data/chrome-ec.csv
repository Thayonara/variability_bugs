project_name,repository_url,commit_hash,parent_commit_hash,author,date,message,variability_bug,bug_probability,matched_features,files_changed,build_system_affected,impact_scope,feature_scope,json_source_file,repo_dir
chrome-ec,https://github.com/coreboot/chrome-ec,ff3ebed7a8970e11f4169390469e4bb1d67543cc,3c90a7f2ac806bdcdb8f6a6f0f1bc8309caa2c23,Randall Spangler,2012-01-13,GPIO interrupts are disabled by default\n\nAdded gpio_enable_interrupt() to enable them.  This ensures that a\nmodule which handles GPIO interrupts doesn't get them until it's\nready.\n\nSigned-off-by: Randall Spangler <rspangler@chromium.org>\n\nBUG=chrome-os-partner:7456\nTEST=toggle power button while rebooting; without this fix it triggers a hard fault.\n\nChange-Id: I35d926053963a70dd9246ce46a4913603b2b2489,1,0.9995834231376648,GPIO,"chip/lm4/gpio.c, chip/lm4/power_button.c, include/gpio.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,c4a867984ef707d974f95f4f06f80c4b04db3bc2,028150a0591c899feae6ec08fcd7efd685ca80ee,Randall Spangler,2012-01-26,Fix missing GPIO interrupts\n\nSigned-off-by: Randall Spangler <rspangler@chromium.org>\n\nBUG=none\nTEST=push and release power button; should see debug messages\n\nChange-Id: I4a08b56247baa85555514623db7a04ab4638ca0e,1,0.9996606111526488,GPIO,"board/link/board.c, chip/lm4/gpio.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7a5832bcd87c25ed8ed7892b007daae516ff4f32,414499778d790c249ebb77dee71704616cc461d9,Randall Spangler,2012-01-26,"Fix setting GPIO outputs and keyboard scanning\n\nKeyboard scanning was not properly configuring GPIOs on link.  Among\nthe problems, it was setting GPIO level then direction, when it needs\nto set direction first.  Also fixed this in gpio pre-init.\n\nSigned-off-by: Randall Spangler <rspangler@chromium.org>\n\nBUG=chrome-os-partner:7761\nTEST=1) press keys on keyboard; see keyboard state change on console\n2) 'gpioget PCH_PWRBTNn' should report 1 after boot, not 0\n\nChange-Id: I54010aa6eef1de4822574f964de369b459ee6d0f",1,0.9996224641799928,GPIO,"chip/lm4/gpio.c, chip/lm4/keyboard_scan.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,359b9eebab8d6ae422025d01e4463b730751b7c1,8236345574850df798197878d413e87f3cdc09b6,Vincent Palatin,2012-02-15,stm32l: fix Daisy GPIO declaration\n\nThe order of the GPIO in the header was not matching the signal list.\nEC_INT is an output to trigger an interrupt on the application\nprocessor.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\n\nBUG=None\nTEST=make BOARD=daisy\n\nChange-Id: Ib0eb675ad7d7e9e105b1d486c181a6df9bd5ad9b,1,0.9997139573097228,GPIO,"board/daisy/board.c, board/daisy/board.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,b70183a9bd93cb2ffb987434cca72ccac4f505cf,36572d45faeac979ee3587bf9ae3bcc8e2fe14d8,Randall Spangler,2012-03-20,"Implement persistent flash write protect settings\n\nThis uses the last bank of flash to hold persistent settings, and\nlooks at the write protect GPIO to decide whether to protect the chip\nat boot (chrome-os-partner:7453).\n\nFor ease of debugging, I've temporarily hacked this so flash uses the\nRECOVERYn signal (dut-control goog_rec_mode:on) to enable WP instead\nof the write protect signal; this works around chrome-os-partner:8580.\n\nAlso note that if you write protect any blocks even temporarily,\nyou'll need to do a power-on reset to clear them before you can\nreprogram the flash.  See chrome-os-partner:8632.  At the EC console,\n""hibernate 1"" will do that, or you can just yank the power.\n\nThis also fixes a bug in the flash write and erase commands, where\nthey weren't properly detecting failure if you attempted to modify a\nprotected block (missed an interrupt reason...)\n\nNew ""flashwp"" console commands work.  LPC commands need reworking.\n\nSigned-off-by: Randall Spangler <rspangler@chromium.org>\n\nBUG=chrome-os-partner:8448\nTEST=manual\n\nChange-Id: I49c38cc25c793094ae3331a4586fda0761b4bac6",1,0.9989593029022216,GPIO,"board/link/board.h, chip/lm4/config.h, chip/lm4/flash.c, common/build.mk, common/flash_commands.c, common/flash_common.c, include/flash.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,285fa08d10c2e5fce6e0db6f217a83b5a42e8004,a5027ece4cb02a736db3db1e971bffd699422dec,Vincent Palatin,2012-05-01,"stm32: fix ADV compilation\n\npower related GPIO has been renamed, update the board definitions.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\n\nBUG=None\nTEST=make BOARD=adv\n\nChange-Id: I2f0e1e9e93af22c1a6f64f354336bf0c30e9c5cd",1,0.9994968175888062,GPIO,"board/adv/board.c, board/adv/board.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7cbb8df5380c8ae4401384048dedb76a66a39a6a,391925a1cbc1d8087e2087781ee01cc2862461fc,David Hendricks,2012-05-04,daisy: fix a bug in the GPIO enum listing\n\nThese GPIOs should have been removed in fd5d6c.\n\nBUG=Yes.\nTEST=built a new image and booted Daisy-EVT1\n\nSigned-off-by: David Hendricks <dhendrix@chromium.org>\n\nChange-Id: Idce4384cdbe548c2e4fe2be8b52e4275445c9f1b,1,0.9996191263198853,GPIO,board/daisy/board.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,33422ee34169123a53bf47366e3ce474a6acfb3a,d8872b6cb7e9d0f0320e62c3199da321a14cacd6,Randall Spangler,2012-05-09,"Fix polarity of radio-disable GPIOs\n\nSigned-off-by: Randall Spangler <rspangler@chromium.org>\n\nBUG=chrome-os-partner:8932\nTEST=manual\n\n1) gpioget with system off -> ENABLE_WLAN = 0, RADIO_ENABLE_* = 0\n2) gpioget with system on -> ENABLE_WLAN = 1, RADIO_ENABLE_* = 1\n\nChange-Id: I397a195b4539083c622b85d63703c334cae931fb",1,0.9996808767318726,GPIO,"board/link/board.c, board/link/board.h, common/x86_power.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9ab7beb509382a7b2e881b29c077f4342cf2b3af,aa5397e48429ee7e272164923c3754025a9cd4a0,Vincent Palatin,2012-05-22,"stm32: fix sysjump on stm32f100\n\nThe warm boot condition was badly detected since we are tweaking the\nGPIO enables in board.c. The timer enable (TIM2) is a more reliable\ncondition.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\n\nBUG=chrome-os-partner:8865\nTEST=on Snow, boot Linux then type ""sysjump A"" in the EC console and see\nthat AP & Linux are still alive.\n\nChange-Id: If375aa320c140360d313241b5d9219ffa8bcecd7",1,0.9995796084403992,GPIO,chip/stm32/gpio-stm32f100.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,37f19ecc84d506ece33d5c19b5e02b7ab71549dc,dbefb29f028108c6faadb40acebf942dfe51b92c,Vic Yang,2012-07-11,"Add GPIO get/set host command\n\nThese commands are used in factory test. If system is locked, GPIO\ncommands are disabled for security reason.\n\nBUG=chrome-os-partner:11164\nTEST= - 'ectool gpioget enable_backlight' gives 1.\n      - 'ectool gpioset enable_backlight 0' turns off display.\n      - Lock system. Check these commands return error.\n\nChange-Id: I3ea41285075ebe963ba7d30e4ae183cef9b1c105\nReviewed-on: https://gerrit.chromium.org/gerrit/27019\nCommit-Ready: Vic Yang <victoryang@chromium.org>\nReviewed-by: Vic Yang <victoryang@chromium.org>\nTested-by: Vic Yang <victoryang@chromium.org>",1,0.9984719157218932,GPIO,"common/gpio_commands.c, include/ec_commands.h, util/ectool.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,343df7227722874d74928404604d21c560d2f426,fc783fb585cec5aa8ee8bc6d0e15c78160e29b90,Doug Anderson,2012-08-23,"gpio: Fix initting pulldowns\n\nAt the moment we don't seem to have any pull downs configured,\nbut they wouldn't work.  That's because:\n\n* GPIO_PULL_UP   => 0x0006\n* GPIO_PULL_DOWN => 0x0002\n\n...so if we've got GPIO_PULL_DOWN in flags and then we run\nthe test ""if (flags & GPIO_PULL_UP)"", we'll actually test TRUE.\nOops.\n\nBUG=None\nTEST=Code inspection.\nBRANCH=snow\n\nChange-Id: Ie46ae291fe7edfc9f5237cf8bba3791de9755c5b\nSigned-off-by: Doug Anderson <dianders@chromium.org>\nReviewed-on: https://gerrit.chromium.org/gerrit/31278\nReviewed-by: David Hendricks <dhendrix@chromium.org>",1,0.9997277855873108,GPIO,"chip/stm32/gpio-stm32f100.c, chip/stm32/gpio-stm32l15x.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,60d57a81623b1189231c83cd1b914d77b022f1ad,9d8f4c40be067b9dd18377beaf14bca72f0d8c1b,Randall Spangler,2012-08-30,"Snow must assert ENTERING_RW GPIO when jumping between images\n\nBUG=chrome-os-partner:13439\nBRANCH=snow\nTEST=manual\n\n1. Ctrl+Refresh+Esc; should go to INSERT screen\n2. Ctrl+D; should show TODEV (this confirms it's still possible to get into\n   dev mode the right way)\n3. From EC console, 'sysjump rw'\n4. Ctrl+D; should NOT show TODEV (this confirms the bug is fixed)\n\nChange-Id: Ic4879cb0a7fc47527eac1a5a727f3225744ff880\nSigned-off-by: Randall Spangler <rspangler@chromium.org>\nReviewed-on: https://gerrit.chromium.org/gerrit/31932",1,0.9997027516365052,GPIO,"board/bds/board.c, board/bds/board.h, board/daisy/board.h, board/snow/board.h, common/system_common.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3e9d365e2ca9207407dbdd465f1b316de209e3fd,54ea657965b99100f591b55b13da734898981b41,Randall Spangler,2013-04-08,"Add pit board\n\nGPIO mapping is correct for current schematics.\n\nThings to fix are #ifdef'd out with PORT_TO_PIT, but those require\nchanging other files (which is most tidily done in separate CLs).\n\nBUG=chrome-os-partner:18657\nBRANCH=pit\nTEST=build pit (can't test the binary yet; no hardware)\n\nChange-Id: Id1d1bb0c2925cfc0c21ee2d91666028aa6d2a707\nSigned-off-by: Randall Spangler <rspangler@chromium.org>\nReviewed-on: https://gerrit.chromium.org/gerrit/47599\nReviewed-by: Bill Richardson <wfrichar@chromium.org>\nReviewed-by: Vic Yang <victoryang@chromium.org>",1,0.999478042125702,GPIO,"board/pit/board.c, board/pit/board.h, board/pit/build.mk, board/pit/ec.tasklist",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,108235225d2536f75a3100cd535f44f732b486c3,27459f8600d76d5a7ccc4cc1c396ef59cb26ff19,Randall Spangler,2013-04-12,"Refactor gpio_set_level() and gpio_pre_init()\n\ngpio_set_level() now allows setting the pin level if GPIO_LOW or\nGPIO_HIGH is specified.  Previously, stm32 platforms did this even\nthough the definition of gpio_set_level() said it wouldn't work.\n\nFixed gpio_set_level() not setting level after warm reboot on stm32\nbecause it was checking the GPIO_DEFAULT flag in the wrong place.\n\nFixed LM4 still mucking with alternate function settings and levels\neven if GPIO_DEFAULT was specified.\n\nAnd checked gpio_list[] and all of the calls to gpio_set_flags() to\nmake sure everything still behaves the same way it did before (or\nbetter, in the case of actual bugs).\n\nBUG=chrome-os-partner:18718\nBRANCH=none\nTEST=build all platforms; boot spring and link\n\nChange-Id: I4b84815f76060252df235ff9a37da52c54a8eac5\nSigned-off-by: Randall Spangler <rspangler@chromium.org>\nReviewed-on: https://gerrit.chromium.org/gerrit/48058\nReviewed-by: Bill Richardson <wfrichar@chromium.org>",1,0.9992770552635192,GPIO,"board/mccroskey/board.c, board/pit/board.c, board/snow/board.c, board/spring/board.c, chip/lm4/gpio.c, chip/stm32/gpio-stm32f100.c, chip/stm32/gpio-stm32l15x.c, chip/stm32/i2c.c, include/gpio.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9cbd25052e3d868c695fc41db6f8d9a32efaadea,0bc9888c83bd2bc9c1650b4d824aff67e912d598,Vic Yang,2013-04-28,"Fix kb_scan test when CONFIG_LID_SWITCH is not defined\n\nIf we don't have lid switch, don't test it.\n\nBUG=chrome-os-partner:18598\nTEST=Build on mccroskey and see errors about GPIO_LID_OPEN go away.\nBRANCH=None\n\nChange-Id: I1084e1bfc2e6bd611dc393c1b2d501e786d2a0e3\nSigned-off-by: Vic Yang <victoryang@chromium.org>\nReviewed-on: https://gerrit.chromium.org/gerrit/49450",1,0.9997022747993468,GPIO,test/kb_scan.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3ca68b3134ae53f707a464458060d45f0a8a9ce4,93ec62ebc3ae238749915f8161a2673a7d2928d9,Aaron Durbin,2013-05-22,"haswell: fix RCIN# GPIO setting\n\nThe gpio pin used for RCIN# should be configured as open drain as the\nrail is pulled up by a non-EC rail. Driving it high would leak power.\nThe current GPIO_HI_Z macro uses GPIO_HIGH as the default state.\nHowever, it has been found that this actually drives the pin to ground.\nIt is still unclear how Link works or doesn't.\n\nBUG=chrome-os-partner:19355\nBRANCH=none\nTEST=manual: boot on slippy without RCIN# causing reset and\n     the 'apreset warm' EC command works as expected.\n\nChange-Id: I71425075f8d77b3d7e576a59fc24f823790e2655\nSigned-off-by: Aaron Durbin <adurbin@chromium.org>\nReviewed-on: https://gerrit.chromium.org/gerrit/56269\nReviewed-by: Duncan Laurie <dlaurie@chromium.org>",1,0.999717891216278,GPIO,"board/slippy/board.c, common/x86_power_haswell.c, include/gpio.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a47bda8042f988929d6f981944e75146cbab2dd5,b490e866dc14b55a99e53d14ade4543daeba157a,Randall Spangler,2013-05-24,"Make flash_ec capable of writing to an incorrectly-protected STM32\n\nIf EC-RO protects itself via the WRPx option bytes, flash_ec will fail\nto reprogram it.  And if EC-RO is broken/unbootable, it won't be able\nto clear the WRPx option bytes itself when it sees the write protect\nGPIO is not asserted.\n\nAdd the -u flag to stm32mon so that it will automatically attempt to\nunprotect the flash via the option bytes.\n\nBUG=chrome-os-partner:19723\nBRANCH=none\nTEST=enable write protect GPIO.  Then from console, 'flashwp enable'.\n     Then from the chroot:\n        ./util/flash_ec --board=pit --ro --image=build/pit/ec.RO.flat\n     That should successfully reflash the board.\n\nChange-Id: Ic356d29104294d04d5e2a36dc75fd0206b89bd34\nSigned-off-by: Randall Spangler <rspangler@chromium.org>\nReviewed-on: https://gerrit.chromium.org/gerrit/56659",1,0.9963700771331788,GPIO,util/flash_ec,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f32ad15e37dd4ada6062b5f0a709d1b3c5b6e114,cf5b6daee3ee20ae70d87b599a76ec2decc01c62,Bill Richardson,2013-06-07,"Fix broken ADC gpio configuration for lm4\n\nThe ADC pins were being misconfigured for quite a while now. Let's fix 'em.\n\nBUG=none\nBRANCH=link\nTEST=none\n\nThe effect was that the adc values that measure GPIO pins were less\naccurate. Since no one noticed, there's probably not much that can\nbe done to test it.\n\nChange-Id: I9def4eb95c89f72e5df0721e6153c8caa3ef8e2a\nSigned-off-by: Bill Richardson <wfrichar@chromium.org>\nReviewed-on: https://gerrit.chromium.org/gerrit/57939\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9996830224990844,GPIO,chip/lm4/adc.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f2fa913320c274661e969a49e4dac65622971851,61ae739eef0af9aa24d15dd9d0de42456f1e6420,Duncan Laurie,2013-06-13,"falco: fix RCIN# GPIO setting\n\nThe gpio pin used for RCIN# should be configured as open drain as the\nrail is pulled up by a non-EC rail. Driving it high would leak power.\n\nBUG=chrome-os-partner:19355,chrome-os-partner:20173\nBRANCH=none\nTEST=manual: boot on falco without RCIN# causing reset and\nthe 'apreset warm' EC command works as expected.\n\nChange-Id: I197928fd3cac27db3add9dd842e3171f23c9d71e\nSigned-off-by: Duncan Laurie <dlaurie@chromium.org>\nReviewed-on: https://gerrit.chromium.org/gerrit/58590",1,0.9996623992919922,GPIO,board/falco/board.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,b5dcfef79f16fa37038ad68e1259159266c9ac1d,09329a5f4bb58c7dc454f8ae93701f6da67ba769,Aaron Durbin,2013-07-02,haswell: fix RCIN_L leakage\n\nIt's still unclear why the PL6 pin which is used\nfor RCIN_L does not behave properly when configured\nas open drain. Work around the misbehavior by\nconfiguring the PL6 pin as an input. When it is\nrequired to be driven low the pin is reconfigured to\nan output and subsequently made an input again.\nThis provides the open drain semantics that are\nrequired to eliminate leakage.\n\nBUG=chrome-os-partner:19811\nBUG=chrome-os-partner:20054\nBUG=chrome-os-partner:20173\nBUG=chrome-os-partner:20175\nBRANCH=None\nTEST=manual\n'apreset warm' causes reset as expected. The pin is\nconfigured as an input by default without open drain\nor a pullup resistor:\n> rw 0x40062400 (GPIODIR)\nread 0x40062400 = 0x00000000\n> rw 0x4006250c (GPIOODR)\nread 0x4006250c = 0x00000000\n> rw 0x40062510 (GPIOPUR)\nread 0x40062510 = 0x00000000\n\nChange-Id: Ia3ad6fa7fec06be1cbff6854d9341722d8617408\nSigned-off-by: Aaron Durbin <adurbin@chromium.org>\nReviewed-on: https://gerrit.chromium.org/gerrit/60780\nReviewed-by: Sameer Nanda <snanda@chromium.org>,1,0.9992480874061584,GPIO,"board/falco/board.c, board/peppy/board.c, board/slippy/board.c, common/x86_power_haswell.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3bc27f0627637cae6e4edb8cd26716d46e5e67d2,666bbdb3d7c48624cf22fb49e122ed8cae318959,Randall Spangler,2013-07-09,"Fix EC_ENTERING_RW not being asserted\n\nGPIO_ENTERING_RW is an enum, not a macro, so the #ifdef evaluated to false.\n\nBUG=chrome-os-partner:20761\nBRANCH=spring\nTEST=compile on all platforms; mccroskey doesn't break\n\nChange-Id: Ib50989c7d2e47ab573ebc242259709b1712297ea\nSigned-off-by: Randall Spangler <rspangler@chromium.org>\nReviewed-on: https://gerrit.chromium.org/gerrit/61295\nReviewed-by: Vincent Palatin <vpalatin@chromium.org>",1,0.9996984004974364,GPIO,"board/host/board.c, board/host/board.h, board/mccroskey/board.c, board/mccroskey/board.h, common/system_common.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,d48828757de2274938cf8ec862689c935adaae33,60a1f6cada2d068ce2644cec020cef1101d10d4e,Randall Spangler,2013-07-16,"Fix extracting CONFIG tokens from config.h\n\nWe need to use cpp -dM instead of -dN, because -dN doesn't process #undef\nstatements.  That is, if you have\n""  #define CONFIG_FOO""\n""  #undef CONFIG_FOO""\nthen -dN will happily print both lines, which results in CONFIG_FOO being\ndefined when processing the makefile.  -dM processes the defines and undefs\nso that the resulting list of macros only includes those that are defined.\n\nWe didn't notice this before, because we temporarily commented out\nconfig statements instead of #undef'ing them - or the configs which\nwere undef'd only resulted in conditional non-compilation of pieces of\ncode inside a file instead of the whole file not being compiled.\n\nThis change also tidily alphabetizes the resulting configs.\n\nIt also better filters CONFIGs to ensure that\n""  #define __CROS_EC_CONFIG_CHIP_H""\ndoes not show up as a CONFIG_CHIP_H token, as it did previously.\n\nBUG=chrome-os-partner:20985\nBRANCH=none (though may be needed if any future cherry-picked change requires\n             undefining a CONFIG)\nTEST=Add #undef CONFIG_ADC to the end of config.h and see that the ADC module\n     is not compiled.  Also helps to add\n         $(info $(_flag_cfg))\n     to the Makefile to see the list of tokens, and verify that CONFIG_ADC is\n     not among them.\n\nChange-Id: I18db60099e87857473ba54c3c9fff1116d4f1a93\nSigned-off-by: Randall Spangler <rspangler@chromium.org>\nReviewed-on: https://gerrit.chromium.org/gerrit/62230\nReviewed-by: Vincent Palatin <vpalatin@chromium.org>",1,0.998928725719452,CROS_EC,Makefile,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4f1938f6211ffad804c4cd76e91dc27a1740c5c2,19e30d9c7d1eed48e94952e5e73fdeb7d703656e,Vic Yang,2013-08-03,"Add kirby board\n\nGPIO mappings are according to current schematic. Charging and power\nsequence code need to be fixed. Charging is disabled now, and some power\nsequence code is #ifdef'd out for kirby to compile.\n\nBUG=chrome-os-partner:21607\nTEST=Build all boards (including Kirby.)\nBRANCH=None\n\nChange-Id: I3a48a7779dab8aad0d086c41e0be19223cd7d6c9\nSigned-off-by: Vic Yang <victoryang@chromium.org>\nReviewed-on: https://gerrit.chromium.org/gerrit/64364\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9993333220481871,GPIO,"board/kirby/board.c, board/kirby/board.h, board/kirby/build.mk, board/kirby/ec.tasklist, common/chipset_gaia.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,2270f2bb03c2031bad455ba5f8179a9d99cc3999,b99f91310721c50ea30fd204aa127928af37a41f,Vic Yang,2013-08-28,"Fix a bug that GPIO cannot be set as input on stm32l\n\nGPIO_INPUT is defined as 0, and any GPIO flag cannot be examined against\nGPIO_INPUT. Change GPIO_INPUT to non-zero value to avoid this.\n\nBUG=chrome-os-partner:22275\nTEST=On Kirby, set a GPIO to output and pull it low, and then set it back to\ninput. Check it can be pull high externally.\nTEST=Build all boards.\nTEST=Boot link and spring.\nBRANCH=None (unless this bug hits some other boards.)\n\nChange-Id: I84b9936c24af538ac59c36129fda27ca879bf9d1\nSigned-off-by: Vic Yang <victoryang@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/167190\nReviewed-by: Vincent Palatin <vpalatin@chromium.org>",1,0.9993491768836976,GPIO,"board/daisy/board.c, board/link/board.c, chip/lm4/gpio.c, chip/stm32/gpio-stm32f.c, chip/stm32/gpio-stm32l.c, chip/stm32/spi.c, include/gpio.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,eff7a1910a60b1d30b10257fd4a12b5ed1402594,876d4c0031ce0d277f23eb08760c83b854038064,Vic Yang,2013-09-10,"Support multi-bit mask in STM32L's GPIO functions\n\nThe definition of GPIO interface allows passing in multi-bit mask, and\nthis is what's done by gpio_config_module(). Fix STM32L's function so\nthat it doesn't accidentally set incorrect GPIO register values.\n\nBUG=chrome-os-partner:22605\nTEST=On Kirby, do 'led r 0' and check the value of 0x40020800 is\n0x01540000.\nBRANCH=None\n\nChange-Id: I9a1c8074aab7345485a590ecf138bf99d0742997\nSigned-off-by: Vic Yang <victoryang@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/168739\nReviewed-by: Vincent Palatin <vpalatin@chromium.org>\nReviewed-by: Randall Spangler <rspangler@chromium.org>\nTested-by: Randall Spangler <rspangler@chromium.org>",1,0.9997125267982484,GPIO,"chip/host/gpio.c, chip/lm4/gpio.c, chip/stm32/gpio-stm32f.c, chip/stm32/gpio-stm32l.c, common/util.c, include/gpio.h, include/util.h, test/utils.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,523b52f7502521a073bd970aa6889ffecc8f1fe7,0550d92204570ab8a87baf6a3a076a2eb2d37209,Bill Richardson,2013-10-02,"Fix typo: s/GPOI_/GPIO_/g\n\nSlippy, Peppy, and Falco should learn to spell.\n\nBUG=chrome-os-partner:18343\nBRANCH=none\nTEST=manual\n\n  make runtests\n\nNothing uses this, it's just annoying to look at.\n\nChange-Id: I61e09fc6a804c1de972b34520db1db8f0b874dbe\nSigned-off-by: Bill Richardson <wfrichar@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/171567",1,0.9995388984680176,GPIO,"board/falco/board.h, board/peppy/board.h, board/slippy/board.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,034e06febf0e3ed1daf55f66f82e7c6c804bcb3b,33f29160a0caa776a5e6e341b30d915119f84f51,Duncan Laurie,2013-11-12,samus: Fix backlight panel interrupt\n\nThe backlight_interrupt() function is defined to NULL if the magic\nCONFIG_BACKLIGHT_REQ_GPIO is not defined.\n\nEnabling that exposed an issue where the backlight workaround was\nattempted in interrupt context and should instead be deferred since\nit involves i2c transactions.\n\nBUG=chrome-os-partner:23752\nBRANCH=none\nTEST=build and boot on samus proto1b and see recovery screen\n\nChange-Id: Id1377033c791a5c279fdb4faeecc4b2c0d142eaa\nSigned-off-by: Duncan Laurie <dlaurie@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/176514\nReviewed-by: Bill Richardson <wfrichar@chromium.org>,1,0.9997342228889464,GPIO,"board/samus/board.h, board/samus/panel.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9f40f11fe815f2b8034d1863a35c0ba1854bdcba,78992e730bb663180e947650787b4c4c8253fc53,Bill Richardson,2013-12-09,"Fix bug in Samus DPTF fan control\n\nIt worked on Link because the fan number and the fan channel were both 0.\nSamus has two fans, connected to different GPIOs.\n\nIn the EC's ACPI interface block, register 0x04 is used to get and set the\nfan's target duty cycle, as a percentage value. Writing a 0 to this register\nwill set the target duty cycle to 0, writing a 100 (0x64) will set it to\n100%. Writing any other value will return the fan control to the EC, rather\nthan driving it manually from the host.\n\nLikewise, reading from this register returns the current fan target duty\ncycle, as a percentage. If the EC is controlling the fan automatically, the\nreturned value will be 0xFF.\n\nBUG=chrome-os-partner:23972\nBRANCH=samus\nTEST=manual\n\nYou can monitor the fan state from the EC console with the ""faninfo""\ncommand. From the host side, test this interface from a root shell.\n\nRead fan duty:\n\n  iotools io_write8 0x66 0x80\n  iotools io_write8 0x62 4\n  iotools io_read8 0x62\n\nSet fan duty to 100%:\n\n  iotools io_write8 0x66 0x81\n  iotools io_write8 0x62 4\n  iotools io_write8 0x62 100\n\nSet fan duty to 50%:\n\n  iotools io_write8 0x66 0x81\n  iotools io_write8 0x62 4\n  iotools io_write8 0x62 50\n\nSet fan duty to 0%:\n\n  iotools io_write8 0x66 0x81\n  iotools io_write8 0x62 4\n  iotools io_write8 0x62 0\n\nSet fan control back to automatic:\n\n  iotools io_write8 0x66 0x81\n  iotools io_write8 0x62 4\n  iotools io_write8 0x62 -1\n\nChange-Id: I3a133b0b16e2a5e1ce04b16cb2bf035a04a83daf\nSigned-off-by: Bill Richardson <wfrichar@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/179373\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9996981620788574,GPIO,common/fan.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a905b84fd1264d826b8e724839f52925a38f5926,1af1c74c100e6b72d2570d3f082f82a292a29a0e,Vic (Chun-Ju) Yang,2013-12-16,"mec1322: handle dummy GPIO gracefully\n\nWhen a GPIO signal is defined by GPIO_SIGNAL_NOT_IMPLEMENTED, it should\nstill be able to call various GPIO methods on that GPIO signal. Since\n__builtin_clz dies when the value passed in is zero, we need to check\nthis before calling __builtin_clz.\n\nBUG=chrome-os-partner:24107\nTEST='sysjump RW' and the system doesn't crash\nBRANCH=None\n\nChange-Id: I5025a2f218d549316fe096c07bd3c7207fe9dbc2\nSigned-off-by: Vic (Chun-Ju) Yang <victoryang@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/180183\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9981631636619568,GPIO,chip/mec1322/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,143763421c4f85a6d7e60bee0f7330dac6f2aeba,a0cb64374a629dbaf0415b0abbbb7882c46fe80b,Vic (Chun-Ju) Yang,2013-12-23,"Ignore all-now flag if WP GPIO is deasserted\n\nOn early snow boards, WP GPIO is not wired to the EC. Now that we have\nproperly fixed hardware, we should drop workaround for those boards.\n\nBUG=chrome-os-partner:23762\nTEST=Build all boards\nBRANCH=None\n\nChange-Id: I5dcfaf5497fc36d6b8d7bc5d8975aa18b2d36a1d\nSigned-off-by: Vic (Chun-Ju) Yang <victoryang@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/181090\nReviewed-by: Yung-chieh Lo <yjlou@chromium.org>\nReviewed-by: Randall Spangler <rspangler@chromium.org>\nReviewed-by: Vincent Palatin <vpalatin@chromium.org>",1,0.9996017813682556,GPIO,common/flash.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,1c545a85e2ed1d7bb28d155324f963f1f57d1c18,4cf4fcf1cb6a4332a27dd76ae19ba8852ddbaaec,Vic (Chun-Ju) Yang,2014-01-07,"Fix kb_8042 test\n\nThe mock power button GPIO is initially low, so we need to set it high\nbefore testing it. Also, wait for all tasks to start before starting the\ntest to prevent race condition.\n\nBUG=chrome-os-partner:19236\nTEST=Pass the test\nBRANCH=None\n\nChange-Id: I813588a9c721815c1213882f7a9458daea4d78eb\nSigned-off-by: Vic (Chun-Ju) Yang <victoryang@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/181744\nReviewed-by: Vincent Palatin <vpalatin@chromium.org>\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9996310472488404,GPIO,test/kb_8042.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,cce53bed31cbc0737bda852a6f98d279a4906e09,96ef35acba6656bd27aa7e4162d5bafa9e915900,Vincent Palatin,2014-04-25,"stm32: fix GPIO EXTINT masking\n\nThe external interrupts above 15 are not used for GPIO IRQ handling, but\nfor special purpose interrupts from internal peripherals (e.g. RTC,\ncomparator, wake-up ...). When processing the GPIO interrupts, we should\nexplicitly skip those interrupts, else if a GPIO interrupt happens\nfirst followed by another EXTINT, the loop in gpio_interrupt() will try\nto process it and do an out-of-bound read of the exti_events array.\nThis will retrieve a garbage handler triggering a memory fault.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\n\nBRANCH=none\nBUG=chrome-os-partner:28296\nTEST=on Firefly, press the buttons to trigger GPIO interrupts while\nthere are a bunch of comparator interrupt on EXTIN21 (due to on-going\nUSB PD communication). I no longer see HardFaults.\n\nChange-Id: Id90fab30215b0f7f8060c19de63a7ca8418b7b3c\nReviewed-on: https://chromium-review.googlesource.com/197019\nCommit-Queue: Vincent Palatin <vpalatin@chromium.org>\nTested-by: Vincent Palatin <vpalatin@chromium.org>\nReviewed-by: Vic Yang <victoryang@chromium.org>",1,0.9997028708457948,GPIO,"chip/stm32/gpio-stm32f.c, chip/stm32/gpio-stm32f0.c, chip/stm32/gpio-stm32l.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a0119238c7e398135c2b8e4fbb06ba81d4a6a494,6c41e626e2240c98a7620905a125e48560e81808,Duncan Laurie,2014-06-09,"samus: Power sequence changes for P2 boards\n\n- Wait for SLP_SUS to deassert before bringing up PP1050 to avoid\nleakage when PP1050 is enabled before the PCH is ready.\n- CPU PGOOD is now connected to RSMRST_L on PCH.  Configure this\nGPIO as an output and hook it into the power sequencing.\n- Add a ""chipset_force_g3()"" function to use for aborting G3->S5\ntransitions when there is an issue with a rail not coming up.\n\nBUG=chrome-os-partner:29502\nBRANCH=samus\nTEST=build for samus, tested on reworked p1.9 board\n\nChange-Id: Ib0251943864594ee89a4a9f2c71c45da2c01f44e\nSigned-off-by: Duncan Laurie <dlaurie@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/203081\nReviewed-by: Alec Berg <alecaberg@chromium.org>",1,0.998956561088562,GPIO,"board/samus/board.c, board/samus/board.h, board/samus/power_sequence.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4957dcbd87cd75d91bca772fef93ec2e0256ea4f,0d0b53e7ca6f7f9bbe0c572a48af809cfc5ac62a,Vincent Palatin,2014-06-09,twinkie: fix GPIO settings\n\nThe high FET on the TX path should be driven low to disable it by\ndefault.\nThe SCK pin (SPI clock input for TX) is on PA5.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\n\nBRANCH=none\nBUG=chrome-os-partner:28337\nTEST=scope outputs\n\nChange-Id: I72fa52a170ae0e4043beb88d4fd82680ed4aefa2\nReviewed-on: https://chromium-review.googlesource.com/204165\nTested-by: Vincent Palatin <vpalatin@chromium.org>\nReviewed-by: Todd Broch <tbroch@chromium.org>\nCommit-Queue: Vincent Palatin <vpalatin@chromium.org>,1,0.9996908903121948,GPIO,"board/twinkie/board.c, board/twinkie/board.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,eaddeb502e78f93c670fe47dc489090867ec838d,3becb4c5c3267507fa6de7e99821783b1187e8d2,Vincent Palatin,2014-07-07,"firefly: add VBUS detection\n\nEnable the VBUS detection to be able to re-negociate a PD contract when\nwe are losing power.\nThe VBUS_WAKE GPIO is broken on the current hardware (not triggered when\nVBUS is 5V), so we fall back on using the ADC on VBUS_SENSE.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\n\nBRANCH=none\nBUG=none\nTEST=With a Firefly connected to a Zinger,""fault"" the power supply to\nget it to turn off its output. See Firefly detecting the cut-off and\nre-negotiating voltage.\n\nChange-Id: Ia5f0734cbd8f20d84ce170cea191410bb72a87c3\nReviewed-on: https://chromium-review.googlesource.com/206944\nTested-by: Vincent Palatin <vpalatin@chromium.org>\nReviewed-by: Alec Berg <alecaberg@chromium.org>\nCommit-Queue: Vincent Palatin <vpalatin@chromium.org>",1,0.9989363551139832,GPIO,board/firefly/usb_pd_config.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,423c40c5a0c2b97df287e751a8ebfd326f2e6723,6ab38d8715bb49753b98b21f5430c6986dc12cf2,Alexandru Stan,2014-07-09,"Created Veyron board folder based on Big\n\nThe 2 boards are similar enough to test stuff on big for now, at least\nuntil the new hardware comes.\n\nAlso added veyron to flash_ec.\n\nAlso cleaned up the style: pre-upload.py was giving errors on files\nthat were unmodified from big(spaces instead of tabs).\nI had to ignore this though:\n> ERROR: Macros with complex values should be enclosed in parenthesis\n> #471: FILE: board/veyron/board.h:35:\n> +#define KB_OUT_PORT_LIST GPIO_A, GPIO_B, GPIO_C\n\nBRANCH=none\nBUG=chrome-os-partner:30167\nTEST=~/trunk/src/platform/ec $ make BOARD=veyron clean &&\nmake -j BOARD=veyron && util/flash_ec --board=veyron --ro\nverify ec is alive and version is reported as veyron\n\nChange-Id: I1f4bd562c0ab55360a2160a753ad8ad9b58f8c47\nSigned-off-by: Alexandru Stan <amstan@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/207270\nReviewed-by: Randall Spangler <rspangler@chromium.org>\nReviewed-by: Doug Anderson <dianders@chromium.org>",1,0.998629093170166,GPIO,"board/veyron/battery.c, board/veyron/board.c, board/veyron/board.h, board/veyron/build.mk, board/veyron/ec.tasklist, board/veyron/gpio.inc, board/veyron/led.c, util/flash_ec",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f7f9783e302a8bc39c24b892b01167f6d8b6edf1,f8fbd1e440f87502b85e71c14719b58cfa79ebea,Alexandru M Stan,2014-08-20,"Veyron: Fix power signals\n\nSeems that we were driving GPIO_PMIC_PWRON_H backwards. The only reason it\nworked before is because of a stale feature from tegra which pretty much kept it\nalways disabled(enabled in our case due to _L).\n\nAlso removed old power signals and renamed signals so they're more semantic and\nrespect convention(no _H).\n\nBUG=None\nTEST=AP should boot as normal, gpioget will show both PMIC_*PWR* pins 0 when\nsystem off and 1 when system is on. The system will also use 8mA less now\n(no more current leak into the PMIC).\nBRANCH=None\n\nChange-Id: I81b7596cb39a5c2b45d53e05478396b91040cacf\nSigned-off-by: Alexandru M Stan <amstan@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/213246\nReviewed-by: Yung-chieh Lo <yjlou@chromium.org>",1,0.9995086193084716,GPIO,"board/veyron/gpio.inc, power/rockchip.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,aa57f29aa4e458150754e4629999c0b403f57dad,cf62055270fa35fb613db3a850c81e6a9bc01af0,Alexandru M Stan,2014-09-16,"stm32/gpio: Supress overriding interrupt warning in some cases\n\nThe warning should only warn if there's an actual danger(in order to give a\nclue to developers that something might be amiss). Messages like ""Overriding\nSPI1_NSS with SPI1_NSS on EXTI4"" are just spammy. This patch makes it so it only\nwarns if the interrupt is different.\n\nBUG=chrome-os-partner:31390\nTEST=spam gpio_enable_interrupt(GPIO_SPI1_NSS); in a bunch of places (like\nspi_event), it should not complain about the interrupt being set to the same\nthing before. Whereas before it was so spammy it did not even have time to reply\nto SPI.\nBRANCH=None\n\nChange-Id: I786a821eb8167e3568d0be371c4de26bb124431a\nSigned-off-by: Alexandru M Stan <amstan@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/218563\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.999448835849762,GPIO,chip/stm32/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,1c86fa9f6dff9eaff5be29de434252daa063d4eb,911e21ccc12617c36caa1bb0a5c35ee7902f38c4,Vincent Palatin,2014-11-20,"stm32f0: fix setting GPIO in push-pull mode\n\nWhen using gpio_set_flags_by_mask() to modify a GPIO pin setting, the\nformer code was not able to revert an open-drain GPIO into push-pull\nmode (the other way round was working). Fix it to be able to transition\nin each direction.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\n\nBRANCH=all\nBUG=none\nTEST=on Twinkie, run ""tw res none RP3A0"" then ""adc"" and see the RP3A0\nGPIO set to 1 and pulling the CC to 3.3V.\n\nChange-Id: Ic2d8ed95ea21b21d261a12ba298931d8bd5e6919\nReviewed-on: https://chromium-review.googlesource.com/231150\nReviewed-by: Vic Yang <victoryang@chromium.org>\nTested-by: Vincent Palatin <vpalatin@chromium.org>\nCommit-Queue: Vincent Palatin <vpalatin@chromium.org>\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9991236329078674,GPIO,chip/stm32/gpio-f0-l.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,2d25b40b758445fa29fa003534817acc1244e132,a0395b1ea9941db5febc7fe6602b0c108644901a,Alexandru M Stan,2014-12-16,"cortex-m0: NVIC: Fix macro for the priority registers\n\nWe actually need to care about x, the PRI register is actually a list of\nregisters (and we have code that uses some of the later ones).\n\nBUG=None, discovered while chrome-os-partner:33451\nTEST=Change priorities of irqs(like UART over GPIO(spi_event)), note how they\nactually work and override each other as told\nBRANCH=None\n\nChange-Id: I9f5bf7ba9d4211f782ff260fbce17deb7c53a31f\nSigned-off-by: Alexandru M Stan <amstan@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/236087\nReviewed-by: Vincent Palatin <vpalatin@chromium.org>\nReviewed-by: Alec Berg <alecaberg@chromium.org>\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9994945526123048,GPIO,core/cortex-m0/cpu.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9da3dfb29fb7d2abf718a6f7173a9591c2c72720,7dec6938c963e83b0015ec986d9f7fcb0564debc,Duncan Laurie,2015-01-17,"charge_state_v2: Fixes for battery present reporting\n\nFix some issues with how the battery present flag is reported\nup to the host.\n\nIf there is no battery presence GPIO or custom function then\nerrors updating the smart battery info can result in the\nbattery present flag reporting BP_NOT_SURE and indicating to the\nhost that the battery is missing.  In order to prevent spurious\nevents require a second back-to-back read of a missing battery\nbefore the host is notified.\n\nWhen the battery presence does change, the host needs to be told\nto re-read the static battery info with EC_HOST_EVENT_BATTERY,\npassed to the OS via Notify command to tell the OS to re-execute\n_BIF/_BIX method on the ACPI battery device.\n\nWhen sending these events to the host the battery flags should\nfirst be updated in LPC shared memory so if the host handles\nthe event quickly it will read the correct updated flags value.\n\nBUG=chrome-os-partner:34011\nBRANCH=broadwell\nTEST=manual testing on samus:\n1) add a console command that allows the smart battery update\nfunction to set batt.is_present to BP_NOT_SURE for a specified\nnumber of update cycles.\n2) ensure that when the smart battery update only returns the\nbattery missing for one update cycle that it does not result in\nan event to the host.\n3) ensure that if the smart battery update indicates the battery\nis missing for more than one update cycle, such that the host is\nnotified the battery is missing, that it correctly gets an event\nto re-read the battery info when it is indicated as present again.\n\nChange-Id: I0da004b991ea1a89b34cd7c0f8f3628b813ffe44\nSigned-off-by: Duncan Laurie <dlaurie@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/241763\nReviewed-by: Alec Berg <alecaberg@chromium.org>",1,0.9997186064720154,GPIO,common/charge_state_v2.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,2f6f8b35480857a96ac77162155297cb80c9480d,194bde63670528c456bcc3b5701d64fd01f8fc1d,Shawn Nematbakhsh,2015-01-20,"pi3usb9281: Lock access to MUX GPIO while in use\n\nLock access to the MUX GPIO to prevent other tasks from toggling away\nfrom our active chip while in use.\n\nBUG=chrome-os-partner:35567\nTEST=Manual on samus_pd. Boot system, verify that no ""write failed""\nprint is seen. Also verify that charger detection functions as expected.\nBRANCH=Samus\n\nChange-Id: Ica02b8fbd8f9ee04f6389ce0b0e5bd58104ff698\nSigned-off-by: Shawn Nematbakhsh <shawnn@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/242125\nReviewed-by: Alec Berg <alecaberg@chromium.org>",1,0.9943119287490844,GPIO,driver/usb_switch_pi3usb9281.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3a1b5ec3dd91bac4833167cedcd68d9d4936ce6b,7aa976d3a4832389f868b054297a239eb7d6d685,Vic Yang,2015-01-27,"cortex-m: disallow rescheduling if task_start() has not yet run\n\nMost GPIO/peripheral interrupts are enabled in HOOK_INIT or some other\n*_init() functions that are called before task_start(). Quite a lot of\nthese IRQ handler wake some task to process the interrupt, and this\ncauses a race condition. If the interrupt is triggered before\ntask_start() is called, the system may crash/hang/whatever.\n\nFix this by only allowing rescheduling tasks if task_start() is called.\nThis is basically the cortex-m version of commit e541eeb2.\n\nBRANCH=Ryu\nBUG=None\nTEST=Without this fix, my Ryu P3 always crashes when cold resetting from\nbootloader mode. After applying this fix, it doesn't anymore.\n\nChange-Id: I0f81e90482ff97469c4f0423d6aa060f2ac76f74\nSigned-off-by: Vic Yang <victoryang@google.com>\nReviewed-on: https://chromium-review.googlesource.com/243626\nTested-by: Vic Yang <victoryang@chromium.org>\nReviewed-by: Alec Berg <alecaberg@chromium.org>\nCommit-Queue: Vic Yang <victoryang@chromium.org>",1,0.9997170567512512,GPIO,core/cortex-m/task.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,911da8c150d9d38b9a9f14453098bd1e0f838b49,4c75ac48d3d366e950ebb0def90e661d70a13895,Shawn Nematbakhsh,2015-03-13,"ectool: Always try v0 of GET_VERSIONS command if v1 fails\n\nThe ioctl return status for CROS_EC_DEV_IOCXCMD is inconsistent across\nkernel versions:\n\n- In 3.8 kernel, on INVALID_VERSION EC result, -EBADMSG is returned\n- In 3.14 kernel, on INVALID_VERSION EC result, success status is\n  returned\n\nIn both cases, the INVALID_VERSION result is written to the\ncros_ec_command.result parameter.\n\nThe inconsistency here should be fixed with kernel patches. In any case,\nthere is little harm with trying v0 of GET_VERSIONS on any failure of the v1\ncommand.\n\nBUG=chrome-os-partner:37668,chromium:466896\nTEST=Manual on peppy. Verify 'ectool thermalget 0 0' prints threshold info.\nBRANCH=None\n\nSigned-off-by: Shawn Nematbakhsh <shawnn@chromium.org>\nChange-Id: Ic1eb3f8f2fa95711ec15a5afb740af8f18b88b55\nReviewed-on: https://chromium-review.googlesource.com/260004\nReviewed-by: Bill Richardson <wfrichar@chromium.org>\nCommit-Queue: Bill Richardson <wfrichar@chromium.org>\nTrybot-Ready: Bill Richardson <wfrichar@chromium.org>\nTested-by: Bill Richardson <wfrichar@chromium.org>\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9997212290763856,CROS_EC,util/misc_util.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,72ca4cc9f9460c0637ea786af9f35e64c5b3da12,b5f2ca5daca566a3f8e45f8558b778c00bbbaf36,Vincent Palatin,2015-04-10,"util: workaround warm_reset issue in flash_ec\n\nThe warm_reset_l signal is an open drain output on the servo side and\nits input value can be read back as on (level 0) when the AP power rails\nare off on the DUT side and not pulling it up.\n\nSo the current mechanism of reading the warm_reset input value with\ndut-control at the beginning, then restoring it at the end is sometimes\nbroken because when the AP is OFF, we are reading input == on (while we\nhad actually set output to ""off"" but we have no pull-up) and then\nrestoring a ""hard"" on (drive low on the servo side).\n\nIn this workaround, just assume we don't want to pull warm_reset after\nflashing the EC and restore it to off.\nA better solution might be to have a mechanism in dut-control to read\nthe output register rather than the input value for GPIO, so we can save\nand restore them safely.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\n\nBRANCH=none\nBUG=chrome-os-partner:30738\nTEST=On Ryu P5 with the AP off, run ./util/flash_ec --board=ryu\nthen boot the AP properly with the power button.\n\nChange-Id: I96e65c2fec5e6d604445af3fe26fce73678b1d3b\nReviewed-on: https://chromium-review.googlesource.com/265223\nReviewed-by: Todd Broch <tbroch@chromium.org>\nReviewed-by: Randall Spangler <rspangler@chromium.org>\nTested-by: Vincent Palatin <vpalatin@chromium.org>\nCommit-Queue: Vincent Palatin <vpalatin@chromium.org>\nTrybot-Ready: Vincent Palatin <vpalatin@chromium.org>",1,0.9997326731681824,GPIO,util/flash_ec,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f782bab165c0fe551efd1e7a669b766a14dc2187,d175e507d8e3d4333b71eeee00a0cd1314179573,Vincent Palatin,2015-05-05,"ryu: fix Rp pull-ups on CC\n\nthe USBC_CC_PUENx resistors are actually stuffed on P6,\nwe need to drive the corresponding GPIOs to set the high side of the Rp\npull-ups when we are a power source.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\n\nBRANCH=none\nBUG=none\nTEST=on Ryu P6, check the ADC values on CC lines when dual role\ntoggling.\n\nChange-Id: Ic8943268615597f114672df7c42a0292c985e994\nReviewed-on: https://chromium-review.googlesource.com/269517\nReviewed-by: Alec Berg <alecaberg@chromium.org>\nCommit-Queue: Vincent Palatin <vpalatin@chromium.org>\nTested-by: Vincent Palatin <vpalatin@chromium.org>",1,0.9996920824050904,GPIO,board/ryu/usb_pd_config.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,cb29daa58c0fa5866a7847c454967ef0376c7688,628bf151769308e99f6019ce0bbd143461b57046,Vijay Hiremath,2015-05-12,"Skylake: Fix for ""apreset cold"" EC console command\n\nDebounce time for the GPIO SYS_RESET_L is 16ms hence increased the time\ndelay between SYS_RESET_L pin toggling to 20ms.\n\nBUG=chrome-os-partner:40246\nTEST=Tested ""apreset cold"" EC console command on Kunimitsu\nBRANCH=none\n\nChange-Id: If17229ce485de708b550ec84939e2696e451cb0c\nSigned-off-by: Vijay Hiremath <vijay.p.hiremath@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/270776\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9996893405914308,GPIO,power/skylake.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,e856db125850bfc38e341b7df055efea5ae59026,706fcb19ca29040a8182861aa2b44ef7496737e4,Kevin K Wong,2015-05-27,"i2c/mec1322: Lock all I2C port before sysjump.\n\nsysjump could happen anytime during an I2C transaction. After sysjump and EC\nreset, I2C pin will be programmed back as GPIO instead of alternate function,\nwhich will cause the I2C transacation to failed.\n\nMEC1322 I2C also depends on interrupt to handle the I2C transaction, however,\nsysjump will disable interrupt, which will cause watchdog timeout/reset since\ninterupt for I2C transaction are disabled.\n\nBUG=none\nTEST=After ""sysjump <RO/RW>"", ""i2cscan"" is functional and no watchdog reset.\nBRANCH=none\n\nChange-Id: I181084822f0769173c724e48afb59d7099fa1566\nSigned-off-by: Kevin K Wong <kevin.k.wong@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/273710\nReviewed-by: Randall Spangler <rspangler@chromium.org>\nReviewed-by: Alexandru Stan <amstan@chromium.org>\nReviewed-by: Alec Berg <alecaberg@chromium.org>\nTested-by: Divya Jyothi <divya.jyothi@intel.com>\nCommit-Queue: Divya Jyothi <divya.jyothi@intel.com>",1,0.999211311340332,GPIO,"common/i2c.c, common/system.c, include/i2c.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,104f811e6730e129a98fac6fc3941bbe0d0e857f,19cd951027b7bd7b726e085c46b8cc9c136b0980,Bill Richardson,2015-06-16,"cleanup: fix all the header guards\n\nThis unifies all the EC header files to use __CROS_EC_FILENAME_H\nas the include guard. Well, except for test/ util/ and extra/\nwhich use __TEST_ __UTIL_ and __EXTRA_ prefixes respectively.\n\nBUG=chromium:496895\nBRANCH=none\nTEST=make buildall -j\n\nSigned-off-by: Bill Richardson <wfrichar@chromium.org>\nChange-Id: Iea71b3a08bdec94a11239de810a2b2e152b15029\nReviewed-on: https://chromium-review.googlesource.com/278121\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.999583899974823,CROS_EC,"board/auron/board.h, board/bds/board.h, board/big/board.h, board/cr50/board.h, board/cyan/board.h, board/dingdong/board.h, board/dingdong/usb_pd_config.h, board/discovery-stm32f072/board.h, board/discovery/board.h, board/glados/board.h, board/glados_pd/board.h, board/glados_pd/usb_pd_config.h, board/glower/board.h, board/hadoken/board.h, board/hoho/board.h, board/hoho/usb_pd_config.h, board/honeybuns/board.h, board/honeybuns/usb_pd_config.h, board/host/board.h, board/host/usb_pd_config.h, board/it8380dev/board.h, board/kunimitsu/board.h, board/llama/board.h, board/mec1322_evb/board.h, board/npcx_evb/board.h, board/oak/board.h, board/oak_pd/board.h, board/oak_pd/usb_pd_config.h, board/pinky/board.h, board/pit/board.h, board/plankton/board.h, board/plankton/usb_pd_config.h, board/rambi/board.h, board/ryu/board.h, board/ryu/usb_pd_config.h, board/ryu_p4p5/board.h, board/ryu_p4p5/usb_pd_config.h, board/ryu_sh/board.h, board/ryu_sh_loader/board.h, board/samus/board.h, board/samus_pd/board.h, board/samus_pd/usb_pd_config.h, board/strago/board.h, board/twinkie/board.h, board/twinkie/injector.h, board/twinkie/usb_pd_config.h, board/zinger/board.h, board/zinger/debug.h, board/zinger/usb_pd_config.h, chip/g/cr50_a1_regdefs.h, chip/g/cr50_fpga_regdefs.h, chip/g/pmu.h, chip/host/persistence.h, chip/host/reboot.h, chip/it83xx/ec2i_chip.h, chip/it83xx/intc.h, chip/it83xx/kmsc_chip.h, chip/it83xx/pwm_chip.h, chip/lm4/pwm_chip.h, chip/mec1322/pwm_chip.h, chip/npcx/clock_chip.h, chip/npcx/fan_chip.h, chip/npcx/hwtimer_chip.h, chip/npcx/lfw/ec_lfw.h, chip/npcx/pwm_chip.h, chip/npcx/system_chip.h, chip/stm32/crc_hw.h, chip/stm32/pwm_chip.h, chip/stm32/usart-stm32f.h, chip/stm32/usart-stm32f0.h, chip/stm32/usart-stm32f3.h, chip/stm32/usart-stm32l.h, chip/stm32/usart.h, chip/stm32/usb-stream.h, chip/stm32/usb_gpio.h, chip/stm32/usb_spi.h, core/cortex-m/config_core.h, core/cortex-m/cpu.h, core/cortex-m/include/math.h, core/cortex-m/irq_handler.h, core/cortex-m0/config_core.h, core/cortex-m0/cpu.h, core/cortex-m0/irq_handler.h, core/host/cpu.h, core/host/irq_handler.h, core/nds32/config_core.h, core/nds32/cpu.h, core/nds32/irq_chip.h, core/nds32/irq_handler.h, driver/accelgyro_bmi160.h, driver/accelgyro_lsm6ds0.h, driver/als_isl29035.h, driver/battery/sb_fw_update.h, driver/charger/bq24192.h, driver/charger/bq24707a.h, driver/charger/bq24715.h, driver/charger/bq24725.h, driver/charger/bq24735.h, driver/charger/bq24738.h, driver/charger/bq24773.h, driver/charger/bq2589x.h, driver/charger/isl9237.h, driver/ina2xx.h, driver/ioexpander_pca9534.h, driver/led/lp5562.h, driver/mcdp28x0.h, driver/pi3usb30532.h, driver/pi3usb9281.h, driver/temp_sensor/g781.h, driver/temp_sensor/tmp432.h, driver/tsu6721.h, extra/lightbar/simulation.h, include/battery_smart.h, include/case_closed_debug.h, include/charge_manager.h, include/charge_ramp.h, include/compile_time_macros.h, include/consumer.h, include/crc.h, include/crc8.h, include/ec_commands.h, include/inductive_charging.h, include/math_util.h, include/pmu_tpschrome.h, include/producer.h, include/queue.h, include/queue_policies.h, include/rsa.h, include/sha1.h, include/sha256.h, include/smbus.h, include/spi_flash_reg.h, include/sps.h, include/stack_trace.h, include/task_id.h, include/temp_sensor_chip.h, include/usb.h, include/usb_api.h, include/usb_bb.h, include/usb_console.h, include/usb_hid.h, include/usb_pd.h, include/usb_pd_tcpc.h, include/usb_pd_tcpm.h, test/powerdemo.h, test/test_config.h, test/usb_pd_test_util.h, util/comm-host.h, util/cros_ec_dev.h, util/ec_flash.h, util/ec_sb_firmware_update.h, util/lock/csem.h, util/lock/gec_lock.h, util/lock/ipc_lock.h, util/lock/locks.h, util/misc_util.h, util/powerd_lock.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a3c990236fb1c492e3f00ae4955d3c1d2066c3b0,84cba61a70c9d7d67403f66414d1ff180d13d67a,Kyoung Kim,2015-07-01,Cyan: GPIO leakage fixes\n\nFixes for GPIO leakage\n1. LPC_CLKRUN\n2. JTAG pins\n3. LED ports from OD to PP\n4. NC pins\n\nBUG=None\nTEST=Booted Cyan EVT\nBRANCH=None\n\nChange-Id: I36c1f3456f0b59155ff825e981b0b38efb9ec35e\nSigned-off-by: Kyoung Kim <kyoung.il.kim@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/285131\nReviewed-by: Shawn N <shawnn@chromium.org>\nTested-by: Divya Jyothi <divya.jyothi@intel.com>\nCommit-Queue: Divya Jyothi <divya.jyothi@intel.com>,1,0.9996978044509888,GPIO,board/cyan/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,14bd917343489c09033f0f9c97e7951d5cb2aeec,7de0037538bd0016c9202ad289655cbf4f4d90aa,Ian Chao,2015-07-09,nuc:\nAdd ECST tool to modify the header used by npcx booter.\n\nModified drivers:\n1. i2c.c: Modify for i2c_port design.\n2. i2c.c: Fixed bugs when mutil-tasks use the same i2c port and pull-up issue.\n3. hwtimer.c: Fixed bug whcih event expired time is behide current timer.\n4. lpc.c: Add intializing host settings after pltrst is deasserted.\n5. uart.c/clock.c/register.h: Fixed bug which cannot enter deep-idle\n   when gpio is any-edge trigger mode.\n6. task.c: Add workaround method for hard fault issue.\n7. keyboard_raw.c: Modified for support CONFIG_KEYBOARD_KSO_BASE\n8. lpc.c: Modified for support CONFIG_KEYBOARD_IRQ_GPIO\n9. lpc.c: fixed obe interrupt bug during 8042 initialization\n10.Adjust path of flat files for new Makefile rules\n11.Fixed build error on lpc.c without CONFIG_KEYBOARD_IRQ_GPIO\n\nBUG=chrome-os-partner:34346\nTEST=make buildall -j; test nuvoton IC specific drivers\nBRANCH=none\n\nChange-Id: Icf9494174b245b4026e396be877d578f36b6f6a5\nSigned-off-by: Ian Chao <mlchao@nuvoton.com>\nReviewed-on: https://chromium-review.googlesource.com/284036\nReviewed-by: Shawn N <shawnn@chromium.org>\nTested-by: Shawn N <shawnn@chromium.org>\nCommit-Queue: Shawn N <shawnn@chromium.org>,1,0.9992817044258118,GPIO,"Makefile.rules, board/npcx_evb/gpio.inc, board/npcx_evb_arm/gpio.inc, chip/npcx/build.mk, chip/npcx/clock.c, chip/npcx/config_chip.h, chip/npcx/gpio.c, chip/npcx/hwtimer.c, chip/npcx/i2c.c, chip/npcx/keyboard_raw.c, chip/npcx/lpc.c, chip/npcx/peci.c, chip/npcx/registers.h, chip/npcx/spiflashfw/ec_npcxflash.c, chip/npcx/uart.c, core/cortex-m/task.c, util/build.mk, util/ecst.c, util/ecst.h, util/openocd/npcx.cfg, util/openocd/npcx_cmds.tcl",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,198fd7f2c2cc09df0bc28406051a14b2c8bd401c,af7fb66ae3ae4f5741a05961658f4a6fa9beae6e,Scott,2015-07-23,oak: Fix issue with pc_send_ec_int() function\n\nThere was a bug in this function where the bit for host_command was\nbeing set in the ec_status variable. This caused the ALERT# GPIO\nline to be held low which in turn caused the EC MCU to loop\nand keep reading the ALERT register.\n\nBUG=none\nBRANCH=none\nTEST=manual Tested against Zinger in both ports and Zinger and Samus\nat connected into each port. Verified that it established a PD contract\nfor both ports and that the alert line was no longer being held low\n\nChange-Id: I5540440a68581521eb002411f728a4eac2f22caf\nSigned-off-by: Scott Collyer <scollyer@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/288252\nReviewed-by: Alec Berg <alecaberg@chromium.org>\nCommit-Queue: Alec Berg <alecaberg@chromium.org>\nTested-by: Alec Berg <alecaberg@chromium.org>,1,0.999745786190033,GPIO,board/oak_pd/board.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,d27dacf214bfbd1ce628fae5b1b63e4e1f9d00e1,134406933618708db416cde59e9f4510b0ac534c,Alec Berg,2015-07-27,"host_command_pd: loop over sending PD status host command\n\nModify host_command_pd.c to loop over sending of PD status\nhost command and processing the response as long as the\nalert GPIO is active.\n\nThis fixes a potential bug that if the alert line is held\nlow for more than one PD status host command, then we would\nnot process the return status.\n\nAlso, fix a bug in which we could call alert() for a\nnon-existent port.\n\nBUG=none\nBRANCH=strago\nTEST=verified on samus and glados. connected charger and verified\nthat we negotiate a contract and set appropriate input currnet limit.\n\nChange-Id: I3b2db87b51f55fc2b20a4695bd466ff8bb09ea55\nSigned-off-by: Alec Berg <alecaberg@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/288819\nReviewed-by: Vincent Palatin <vpalatin@chromium.org>\nTrybot-Ready: David James <davidjames@chromium.org>",1,0.999716579914093,GPIO,"common/host_command_pd.c, include/ec_commands.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,b7d3f4e2841daf474941279c83ef1ca9b0c9b29f,ddc7145e082099693b60b291ab45230193d99f92,Vincent Palatin,2015-07-31,ryu: remove SH UART debug and leftovers\n\nRemove the last pieces of external Sensor Hub support:\n- Sensor hub UART exported over case closed debugging\n- Sensor hub related GPIOs\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\n\nBRANCH=smaug\nBUG=chrome-os-partner:38333\nTEST=plug Suzy-Q to Smaug and test debug UARTs and SPI flashing\n\nChange-Id: I47b42f63647735bae37b9256e2704303c48b5854\nReviewed-on: https://chromium-review.googlesource.com/290115\nReviewed-by: Gwendal Grignou <gwendal@chromium.org>\nCommit-Queue: Vincent Palatin <vpalatin@chromium.org>\nTrybot-Ready: Vincent Palatin <vpalatin@chromium.org>\nTested-by: Vincent Palatin <vpalatin@chromium.org>,1,0.986433744430542,GPIO,"board/ryu/board.c, board/ryu/board.h, board/ryu/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a7bf7b9564bf952a229d1cb4bcef5b65be777c93,1e95466f3a0d022e0a77f55423e0384a9a243224,Shawn Nematbakhsh,2015-08-05,mediatek: Fix llama build\n\nThe llama AP_RESET GPIO differs in polarity from oak.\n\nBUG=chromium:517250\nTEST=`make buildall -j`\nBRANCH=None\n\nChange-Id: Id06bf39e758b528d154936a3e8561704fdf4cce9\nSigned-off-by: Shawn Nematbakhsh <shawnn@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/290950\nCommit-Queue: Rong Chang <rongchang@chromium.org>\nTested-by: Rong Chang <rongchang@chromium.org>,1,0.9991163611412048,GPIO,"board/llama/board.c, board/llama/board.h, board/oak/board.c, board/oak/board.h, power/mediatek.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,2d515091ebf52f920e38d6d5fcdc7ebe3fc6f59f,fe150a64e972dc38c21fac4dc60f47eab1948d9a,Shawn Nematbakhsh,2015-08-12,"npcx_evb_arm: Fix build\n\nnpcx GPIO code calls out to an LPC function, which isn't defined on\nplatforms without LPC support.\n\nBUG=chromium:520207\nTEST=`make buildall -j`\nBRANCH=None\n\nChange-Id: I80c0d08fea4a2621df9646926959fc48af52a15a\nSigned-off-by: Shawn Nematbakhsh <shawnn@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/293013\nReviewed-by: Aaron Durbin <adurbin@chromium.org>",1,0.9994878768920898,GPIO,chip/npcx/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5dd75de0fb0d921ab50bd42be54a823ffc46c92d,3963d3b77d380f29829456671d82ec0e5717f5f9,Kyoung Kim,2015-09-01,"mec1322: bug fix for hibernation timer\n\nWhen system timer stops while in heavysleep idle task,\nhibernation timer maintains system time and system timer's\nrecovery is done with reading from hibernation timer.\nIf hibernation timer setting/reading is incorrect, system timer\nrecovery is incorrect and evenytually this will result in\nquicker/more frequent task scheduling and eventually faster\nsleep LED blinking at S3 and higher S3 power consumption.\n\nBRANCH=firmware-strago-7287.B\nBUG=chrome-os-partner:37576\nTEST=1. measure S3 LED blinking time(probing GPIO pin with scope\n     2. For debug purpose, let system timer keeps running and compare\n        internval from system timer reading (t1 - t0) and one from\n	hibernation timer.\n\nChange-Id: Iace3d29c9e20c0ea863c25eacb69d50858e204b7\nSigned-off-by: Kyoung Kim <kyoung.il.kim@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/297753\nReviewed-by: Shawn N <shawnn@chromium.org>\n(cherry picked from commit 86e7e64e3b5d27a80e1fac296776c0e2fb57912d)\nReviewed-on: https://chromium-review.googlesource.com/297796\nCommit-Ready: Divya Jyothi <divya.jyothi@intel.com>\nTested-by: Divya Jyothi <divya.jyothi@intel.com>",1,0.9997050166130066,GPIO,chip/mec1322/clock.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,8900884cad3b34d4716c7ed262d60f8a8547b63b,b0c82fb8a8ae50a500c0d41552ac07d90c72c4ad,Duncan Laurie,2015-09-09,"als: Disable task when host is not running\n\nIf the ALS is not enabled in S3/S5 states then it will generate\nerrors when trying to read so should be gated.\n\nThis could be done with a check for chipset_state or adding a\nnew CONFIG_ALS_POWER_GPIO to check.  However the ALS is also not\nneeded when the host is in S3/S5 yet the task continues to run\nin the background every 1 second.\n\nThis commit adds a new task enable/disable hook to disable the\ntask when the system is suspended and enable the task when it\nis resumed.\n\nIn order to fit this new task in glados the als console command\nis guarded by a new config option.  Since this is not a very\nfrequently used/needed console command it is disabled by default.\n\nAnd finally the kunimitsu and strago boards try to enable ALS\nbut they never actually enabled the ALS task so this new code was\nfailing to build because TASK_ID_ALS did not exist.  Also samus\nwas enabling it but as TASK_NOTEST so tests will fail, though\nthey are disabled globally on samus.\n\nBUG=chrome-os-partner:43493\nBRANCH=none\nTEST=enable ALS on glados and successfully build and use it,\nalso successfully build EC and tests for kunimitsu, strago,\nand samus which are the other boards that use the ALS task.\n\nChange-Id: I192940d7f306a1663c7cb789c313151bbb5f2b90\nSigned-off-by: Duncan Laurie <dlaurie@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/298156\nReviewed-by: Shawn N <shawnn@chromium.org>",1,0.9992502331733704,GPIO,"board/kunimitsu/ec.tasklist, board/samus/ec.tasklist, board/strago/ec.tasklist, common/als.c, include/config.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,1bee6648c15737a1c2b25e1dc40b0ac1fab7f4cc,dd06ad921e5a5d47c3e95f53bab95daabd8385be,Gwendal Grignou,2015-09-10,nuc: use fix point math for timer calculation\n\nRemove needs for FPU unit for calculating timer.\n\nBRANCH=none\nBUG=none\nTEST=compile\n\nChange-Id: Ice12c2d2f914974f7b4db5dadfca77257557e5a5\nSigned-off-by: Gwendal Grignou <gwendal@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/299519\nReviewed-by: Aseda Aboagye <aaboagye@chromium.org>\nReviewed-by: Randall Spangler <rspangler@chromium.org>,1,0.8692485094070435,FPU,chip/npcx/hwtimer.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3f567a98698728b8688d5e5f539c976213834dd0,b3911e8eeffe128187fc03c0e5faaa8dabe6752f,Vincent Palatin,2015-10-23,"ryu: fix lid close detection\n\nNow we are using LID_OPEN *and* BASE_PRES_L for lid close detection,\nwe need an interrupt on both to debounce arbitrarily long delay between\nthe transitions of the 2 GPIOs.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\n\nBRANCH=smaug\nBUG=chrome-os-partner:46189\nTEST=manual: activate manually LID_OPEN and BASE_PRES_L hall sensors in\nvery slow sequences and see the proper ""lid close""/""lid open"" traces,\nwhatever sequence I do.\n\nReviewed-on: https://chromium-review.googlesource.com/308513\nTrybot-Ready: Vincent Palatin <vpalatin@chromium.org>\nTested-by: Vincent Palatin <vpalatin@chromium.org>\nReviewed-by: Alec Berg <alecaberg@chromium.org>\nCommit-Queue: Vincent Palatin <vpalatin@chromium.org>\n(cherry picked from commit 659d826b4efcd391eced3d4dda319d502d028457)\n\nChange-Id: I2ee91370205a4bfc0f4b4d224cb55207f745af25\nReviewed-on: https://chromium-review.googlesource.com/308515\nCommit-Ready: Vincent Palatin <vpalatin@chromium.org>\nTested-by: Vincent Palatin <vpalatin@chromium.org>\nReviewed-by: Alec Berg <alecaberg@chromium.org>",1,0.999599277973175,GPIO,board/ryu/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,80b997dc276b099714e1c5b6eeea02adbae44081,59fd91317ce966d713b4ec077b39f385e6029e18,Kyoung Kim,2015-11-02,"mec1322: fix gpio_disable_interrupt\n\nMEC1322_INT_DISABLE(interrupt enable clear register) is 'Write 1 to Clear'\nfor each bit. To disable interrupt for specific GPIO pin, only specific\nbit should be written with 1.\n\nBUG=NONE\nBRANCH=NONE\nTEST=NONE\n\nChange-Id: Ibf40a20656c4c99f9625b516cff3e7da9bf2f69d\nSigned-off-by: Kyoung Kim <kyoung.il.kim@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/309979\nCommit-Ready: Kyoung Il Kim <kyoung.il.kim@intel.com>\nTested-by: Kyoung Il Kim <kyoung.il.kim@intel.com>\nReviewed-by: Shawn N <shawnn@chromium.org>",1,0.9996931552886964,GPIO,chip/mec1322/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,1915367112b82a2311e4938e25aee38736af44d0,0b4674500e86d0cae7b01d3bde7b6566497c38bc,Shawn Nematbakhsh,2015-11-03,"chell: Fix inverted KSO2 / GPIO101\n\nKSO / GPIO101 is inverted and needs to be driven high on scan, so it\ncan't be configured as open-drain.\n\nBUG=None\nTEST=Verify keys on KSO2 scanline are functional.\nBRANCH=None\n\nChange-Id: Ic94b9e09a74d22a6e8e4b45ae03088e9ea5c2295\nSigned-off-by: Shawn Nematbakhsh <shawnn@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/310544\nCommit-Ready: Shawn N <shawnn@chromium.org>\nTested-by: Shawn N <shawnn@chromium.org>\nReviewed-by: Duncan Laurie <dlaurie@chromium.org>",1,0.9992081522941588,GPIO,board/chell/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,dbc3f1dad52ead720c270b25dbb4547ca3ee3f46,62691cac030c4f0bd350a086e4b182673730d64c,Donald Huang,2015-11-06,"it8380dev: util: fix iteflash\n\nAdd support for flash the ite ec from usb gpio port\n\nSigned-off-by: Donald Huang <donald.huang@ite.com.tw>\n\nBRANCH=none\nBUG=none\nTEST=Test OK on ITE8390CX from both GPIO PORT (C1,C2) (H5,H6)\n     You can run ""make -j BOARD=it8380dev"" to build ec.bin\n     and flash the ec.bin via\n     ""sudo ./build/it8380dev/util/iteflash -w ./build/it8380dev/ec.bin""\n\n/* ==SNAPSHOT START== */\n(cr) (br-iteflash) donald@donald-nb ~/trunk/src/platform/ec $ sudo ./build/it8380dev/util/iteflash -w ./build/it8380dev/ec.bin\nWaiting for the EC power-on sequence ...CHIPID 8390, CHIPVER 82, Flash size 256 kB\nDone.\nCHIPID 8390, CHIPVER 82, Flash size 256 kB\nErasing chip...\n/100%\nWriting 262144 bytes at 0x00000000\nDone.\n\n/* ==SNAPSHOT END== */\n\nChange-Id: I422db6f7007622f8be624a534a482e24d53a061a\nReviewed-on: https://chromium-review.googlesource.com/311205\nCommit-Ready: Donald Huang <donald.huang@ite.com.tw>\nTested-by: Donald Huang <donald.huang@ite.com.tw>\nReviewed-by: Randall Spangler <rspangler@chromium.org>\nReviewed-by: Donald Huang <donald.huang@ite.com.tw>",1,0.9996211528778076,GPIO,util/iteflash.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,59dccac4da8c20e481c434eb9951e50d4bcd42e7,28cb6015a156fe9239784238912adc526e4fdf11,Mulin Chao,2015-11-11,nuc: Fixed wheatley bugs of SERIRQ and AC detection.\n\nSERIRQ bug:\nPMC1/2 share the same IRQ number 1 with default setting. Enable it will\ninfluence 8042 protocols since KBC has no data but IRQ 1 is issued by\nPMC.\n\nAC detection bug:\nGPIO definitions between AC_PRESENT and ACOK mismatched. AC_PRESENT will\nalways\nbe high even we don't plug the adaptor.\n\nModified drivers:\n1. lpc.c: Remove enabling SERIRQ for PMC1/2 and disable IRQ12 for Mouse.\n2. config_flash_layout.h: Modified for adjusting RAM size.\n3. gpio.inc: Modified GPIO definitions for AC issue\n4. board.h: Modified for adjusting RAM size and add support for ACC\n5. board.c: Add support for ACC and adjust ADC max value\n\nBUG=chrome-os-partner:34346\nTEST=make buildall -j; test nuvoton IC specific drivers\nBRANCH=none\n\nChange-Id: Ib330ef4078e4b06f1c01a2a6316e468b43d7a8d9\nSigned-off-by: Mulin Chao <mlchao@nuvoton.com>\nReviewed-on: https://chromium-review.googlesource.com/311933\nReviewed-by: Randall Spangler <rspangler@chromium.org>,1,0.998849868774414,GPIO,"board/wheatley/board.c, board/wheatley/board.h, board/wheatley/gpio.inc, board/wheatley/usb_pd_policy.c, chip/npcx/config_flash_layout.h, chip/npcx/lpc.c, chip/npcx/registers.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,57e703ea24bcbaf6773288335110517e7da90da3,313f2ab8c5cf2c1cf52c7316ed8600894b4fc977,Dino Li,2015-12-14,"it8380dev: Implement GPIO mode for KBS pins and fix gpio_set_level()\n\n1. KSO[0-15] and KSI[0-7] can be used as GPIO input if they are not set for\nkeyboard scan function.\n2. Critical section for gpio_set_level().\n\nSigned-off-by: Dino Li <dino.li@ite.com.tw>\n\nBRANCH=none\nBUG=none\nTEST=console commands: gpioset, gpioget, and version.\n\nChange-Id: I8edae122525e6dcebaa3489116642d8e48520569\nReviewed-on: https://chromium-review.googlesource.com/318112\nCommit-Ready: Dino Li <dino.li@ite.com.tw>\nTested-by: Dino Li <dino.li@ite.com.tw>\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9993222951889038,GPIO,"board/it8380dev/board.h, board/it8380dev/gpio.inc, chip/it83xx/gpio.c, chip/it83xx/registers.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,bbe2d886dcd81e608d58f9cd945551ddd385f6d4,ebd29d455793d048daadc2dcfef7e26edee9d46b,Duncan Laurie,2016-01-20,"skylake: Add support for asserting RTCRST if power sequencing fails\n\nIn order to pulse RTC reset to the PCH when power sequencing exit fails we\nneed to watch for SLP_S4 to deassert and if it does not then assert RTCRST\nusing a board specific method.  This is attempted up to 5 times before giving\nup and staying in G3.\n\nOn skylake the RSMRST passthru needs to be honored when the task is woken up,\nso while waiting call handle_rsmrst() if woken up early.  This is needed\nbecause it is RSMRST that actually tells the PCH to try and wake.\n\nThis is all wrapped in a config option and board specific method because not all\nboards have a GPIO to control RTCRST and if they do they may not all use the\nsame method to assert it.\n\nBUG=chrome-os-partner:49564\nBRANCH=glados\nTEST=manually tested on chell EVT:\nFirst, ensure board sequences properly if everything is OK for a normal boot.\nNext, modify handle_rsmrst() to not pass through the signal in order to\nsimulate being stuck in S5, and ensure that the EC attempts to assert RTCRST\nand power up again 5 times before giving up and staying in G3.\n\nChange-Id: Ia3c13069c92762b51beb682a19e5a074194a3c26\nSigned-off-by: Duncan Laurie <dlaurie@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/322724\nReviewed-by: Shawn N <shawnn@chromium.org>",1,0.9992700219154358,GPIO,"include/config.h, power/skylake.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,0e8928920c0ec8b00da6da477ee719671046bb31,09a1fee89210ddea70c0935b3d2eea232b7ca28e,Kyoung Kim,2016-01-20,"Kunimitsu: Fix leak on pin for battery_present.\n\nSince battery pin 5 is the voltage across internal 10Kohm\nthermistor and is not either 0V or 3.3V, typically 330mV\nwith external 100Kohm.\nUsing GPIO configuration to detect this pin causes extra\npower consumption and this pin is reconfigured as ADC.\n\nBUG=cros-bug-49610\nBRANCH=glados\nTEST=check if battery is detected. Use 'adc' console command\nand check if it shows 'BATTPRES' with volatage in mV.\n\nChange-Id: I907b94629b0581a6a27e6f0cecda12ddef09a4f0\nSigned-off-by: Kyoung Kim <kyoung.il.kim@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/322771\nCommit-Ready: Kyoung Il Kim <kyoung.il.kim@intel.com>\nTested-by: Kyoung Il Kim <kyoung.il.kim@intel.com>\nReviewed-by: Shawn N <shawnn@chromium.org>",1,0.9992846846580504,GPIO,"board/kunimitsu/board.c, board/kunimitsu/board.h, board/kunimitsu/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a313fc9b1aff224f1229f22dafa7564516eb330c,347f516d8444a95e0506640f116e102828b89527,Dino Li,2016-01-27,"chip: it83xx: fix EC interrupt vector registers issue\n\nWe have a limitation for EC interrupt vector registers.\nSystem may read incorrect interrupt number in ISR so we need to add\na workaround to prevent it.\n\nThe following is a example that got incorrect interrupt number:\n1. REG IVCTx = 0x10. (no interrupt pending)\n2. EC INT6 interrupt occurs (IVCTx = 0x16) and jump to ISR.\n3. Read interrupt vector register to determine interrupt number.\n4. Higher priority interrupt of same interrupt group occurs\n   (for example: INT134, IVCTx = 0x96) while the system is reading the\n   interrupt vector register for EC INT6, we may end up with an incorrect\n   interrupt number between 0x16 and 0x96.\n\nSigned-off-by: Dino Li <dino.li@ite.com.tw>\n\nBRANCH=none\nBUG=none\nTEST=1. EC interrupts work normally: WUI (GPIO interrupt), timer, uart,\n        LPC, I2C, and PECI.\n     2. Console command 'taskinfo'.\n\nChange-Id: I54e61f417ad506eb3b4cd5d0652f64eed9a28a17\nReviewed-on: https://chromium-review.googlesource.com/322097\nCommit-Ready: Dino Li <dino.li@ite.com.tw>\nTested-by: Dino Li <dino.li@ite.com.tw>\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9997442364692688,GPIO,"chip/it83xx/gpio.c, chip/it83xx/hwtimer.c, chip/it83xx/intc.c, chip/it83xx/intc.h, chip/it83xx/registers.h, chip/it83xx/uart.c, core/nds32/init.S, core/nds32/task.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,27ce00c164c2e27177afc1a9cf1ece380ba1e0c2,388a7fa8cff831dcb5f25a3ea4bd67de898d865a,Nadim Taha,2016-02-10,Cr50: Fixes a glitching issue during GPIO initialization.\n\nThe output enable bit was being set before the output value was\ninitialized.\n\nBRANCH=none\nBUG=none\nTEST=Confirmed the fix with a logic analyzer\n\nChange-Id: If8228d716b4924b5fd65b8f59436f4b37f05644e\nSigned-off-by: Nadim Taha <ntaha@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/327212\nReviewed-by: Bill Richardson <wfrichar@chromium.org>,1,0.9997373223304749,GPIO,chip/g/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,77ef6189299a6ac752bd45ee77ca810f86ef2fb1,4e3f5aa4a8bc96d0743fe42705ddad3379a0ff9a,David Schneider,2016-06-13,"gru/kevin: Turn PP1800_PMU on earlier in sequence\n\nPP1800_PMU impacts the initial centerlogic voltage due to DVS circuitry.\nSince there's no other sequencing dependency, turn it on earlier.\nThis fixes centerlogic from initially starting too high (1.5V).\n\nBUG=none\nBRANCH=none\nTEST=Watch PPVAR_CENTERLOGIC and confirm that it starts at the target voltage\n\nChange-Id: Icac076a7e8aef978401452a98d9f6bc8b373d94f\nSigned-off-by: David Schneider <dnschneid@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/352247\nReviewed-by: Shawn N <shawnn@chromium.org>",1,0.9996218681335448,LOG,power/rk3399.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,819239f00b0a4d1335b2f2a7cab7b4630fc9c096,aa471f87480cb0aa0e6a89df3180fdd15f5a6df5,younghun kim,2016-07-19,"Fix interrupt disabling problem for gpio volume button.\n\nRemove ""task_disable_irq()"" function call in EC_RTC_ALARM_CLEAR case.\nHost command ""RTC_SET_ALARM"" with 0 second does not disable volume key interrupt.\n\nBUG=chrome-os-partner:55401\nBRANCH=none\nTEST=check EC UART log message.\n\n     If you press volume up/down button\n     - Before HC 0x47 (RTC_SET_ALARM Command with 0 second)\n       Log : Button 'Volume Up/Down' was released.\n\n     - After HC0x47\n       Log : Button 'Volume Up/Down' was released.\n       GPIO volume key is still enable.\n\nChange-Id: I8d8a4fa4927046b76a49ac4833b6a710db2e05be\nSigned-off-by: younghun kim <young-h.kim@samsung.com>\nReviewed-on: https://chromium-review.googlesource.com/361670\nCommit-Ready: Wonjoon Lee <woojoo.lee@samsung.com>\nTested-by: Younghun Kim <young-h.kim@samsung.com>\nReviewed-by: Shawn N <shawnn@chromium.org>",1,0.999656081199646,GPIO,chip/npcx/system.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,0b6a09548825d55dd960180b8bba9fbc2705c962,62af706a02f2b9f59a1f9820b130da905298a8bd,Mulin Chao,2016-08-07,"npcx: adc: Properly wait for conversion interrupt\n\nCertain tasks (eg. chipset) may be woken directly by other tasks /\nunrelated interrupts. Add an explicit wake event for ADC conversion done\nso that we're not mistakenly woken.\n\nBUG=chrome-os-partner:54971\nBRANCH=None\nTEST=Manual on kevin rev5, run ""reboot ap-off"" then ""sysjump rw"", verify\nconsole isn't spammed with GPIO warning message due to ADC failure to\nread board version.\n\nSigned-off-by: Shawn Nematbakhsh <shawnn@chromium.org>\n\nChange-Id: I5477e11c2b434e4b350d81393f4463eea1a91e7c\nReviewed-on: https://chromium-review.googlesource.com/366943\nCommit-Ready: Shawn N <shawnn@chromium.org>\nTested-by: Shawn N <shawnn@chromium.org>\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9983049631118774,GPIO,chip/npcx/adc.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f729672b66ee6667d3266d7f43216d1cd6f5f412,0913208116137ceb6e4d399d3c4c3503b1ad1363,Dino Li,2016-08-18,it83xx: lpc: add support 'CONFIG_KEYBOARD_IRQ_GPIO' and fix lpc_init()\n\n1. To assert keyboard IRQ GPIO pin instead of SERIRQ if keyboard data\n   ready to send.\n2. Clear STATUS_PROCESSING bit in lpc_init() to avoid host waiting after\n   a sysjump.\n3. Save and restore event masks while doing a sysjump.\n\nSigned-off-by: Dino Li <dino.li@ite.com.tw>\n\nBRANCH=none\nBUG=none\nTEST=1. keyboard work normally if host support this keyboard interrupt.\n     2. Software sync done and jumping to RW and boot to kernel.\n     3. EC generate SCI normally after a sysjump.\n\nChange-Id: Ib0d9785106d4d4d21f8e9a6d1f0548f187fa7976\nReviewed-on: https://chromium-review.googlesource.com/372499\nCommit-Ready: Dino Li <Dino.Li@ite.com.tw>\nTested-by: Dino Li <Dino.Li@ite.com.tw>\nReviewed-by: Randall Spangler <rspangler@chromium.org>,1,0.9995631575584412,GPIO,chip/it83xx/lpc.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,8fd12a56f171ddc54158eace07df6b8cf79a7c3a,40a4bd1d639249abf0a5b0f71d79c486a890a1ad,Shawn Nematbakhsh,2016-08-22,"npcx: Don't enable GPIO interrupts by default\n\nGPIO interrupts must first be enabled with a call to\ngpio_enable_interrupt() to prevent ISRs from being run before\nprerequiste modules are initialized.\n\nBUG=chrome-os-partner:56486\nBRANCH=None\nTEST=Manual on kevin, stress test sysjump for ~1 hour (~700 sysjumps)\nwithout failure.\n\nChange-Id: Ia4006ef1b0c3218dfe5c92fde6713c10b0d22d2a\nSigned-off-by: Shawn Nematbakhsh <shawnn@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/374020\nCommit-Ready: Shawn N <shawnn@chromium.org>\nTested-by: Shawn N <shawnn@chromium.org>\nReviewed-by: Aseda Aboagye <aaboagye@chromium.org>\nReviewed-by: Mulin Chao <mlchao@nuvoton.com>",1,0.9935071468353271,GPIO,"board/kevin/board.c, chip/npcx/gpio.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5acf2c1e6fa310e527391587a4bca9f8d6effc46,5ee00611d4a30fc8108a6c4ff3cfa2784457d36f,Vincent Palatin,2016-09-02,"ryu: remove old workaround on GPIO C15\n\nBefore P3 (long time ago), the PI3USB9281 has an I2C requiring a\nworkaround using the GPIO C15.\nThe workaround has been removed when we switched to PI3USB9281A\non P3 and the GPIO has been re-used since.\nRemove the old GPIO definition to avoid conflicts with its new usage.\n\nSigned-off-by: Vincent Palatin <vpalatin@chromium.org>\n\nBRANCH=smaug\nBUG=chrome-os-partner:31526\nTEST=make BOARD=ryu\n\nChange-Id: Ieb7071b7ca27f3e9a4719592441b6a0b4c455b27\nReviewed-on: https://chromium-review.googlesource.com/380555\nCommit-Ready: Vincent Palatin <vpalatin@chromium.org>\nTested-by: Vincent Palatin <vpalatin@chromium.org>\nReviewed-by: Bill Richardson <wfrichar@chromium.org>",1,0.9769483208656312,GPIO,board/ryu/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,c3aec01fb66f3f85a08ef697ffd8963eaca52471,d19eb52cd1a02f11b010e9588159a6ac5fa4f261,Nick Sanders,2016-09-01,"sweetberry: remove superfluous gpios\n\nSweetberry specifies UART pins as GPIOs, however\nthis is not necessary for uart use. Let's remove these.\n\nUART4 is also dup'd with sweetberry's signal gpios, which\nis fixed with this CL.\n\nBUG=chromium:608039\nTEST=boots\nBRANCH=None\n\nChange-Id: I81ee2351c0191ff5ec3d5fad37fe10866bf1ad32\nSigned-off-by: Nick Sanders <nsanders@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/380439\nReviewed-by: Bill Richardson <wfrichar@chromium.org>",1,0.9958971738815308,GPIO,board/sweetberry/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5818cdc7286a37cf06d2f2c0d79b0f4ae5ee664c,f4cd079d057b7a89ac3a14c230a64ee4dd2e363d,Divya Sasidharan,2016-09-16,reef: Fix FAFT failure for firmware_ECUsbPorts\n\nModify USB enable GPIO name to comply with FAFT test.\nIt uses this name format USB%d_ENABLE to power\non/off all the USB ports.\n\nBRANCH=none\nBUG=none\nTEST=on Reef FAFT test firmware_ECUsbPorts passes\n\nChange-Id: I9b3b5d1668acfca5505dcff6708800f409555040\nSigned-off-by: Divya Sasidharan <divya.s.sasidharan@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/386854\nCommit-Ready: Divya S Sasidharan <divya.s.sasidharan@intel.com>\nTested-by: Divya S Sasidharan <divya.s.sasidharan@intel.com>\nReviewed-by: Shawn N <shawnn@chromium.org>,1,0.9994376301765442,GPIO,"board/reef/board.c, board/reef/board.h, board/reef/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,57ad82c27400d4e4c27fac6ec283910f64b66821,8ba8872d3f2d403099f58a184e03404e7b016ddf,CHLin,2016-10-11,"npxc: lpc: correct setting for SCI/SMI gererated from PM module\n\nIn current FW implement, there are two ways to generate SMI/SCI:\n(1) Controlled by GPIO module register.(#define CONFIG_SCI_GPIO)\n(2) Controlled by PM module register.(#undef CONFIG_SCI_GPIO)\nThis CL fix for case(2):\nIn this case, these two dedicated pins(GPIOC6/GPIO76) are used\nas SMI/SCI and must be enabled by pinmux. Set the related pinmux\nat initial.\nBy default, the SMI/SCI polarity is negative. This means SMI/SCI\nis inverted when writing to SMI/SCIB but not inverted when reading\nfrom them(see Section 5.2.2, figure 61 in datasheet). It will cause\nthe code more complicated to implement. Disable negative polarity\nat init.\n\nModified drivers:\n1. lpc.c: set pinmux for dedicated SMI/SCI pins and disable the\n          negative polarity.\n\nBUG=chrome-os-partner:34346\nBRANCH=none\nTEST=make buildall; try hostevent(lid switch) on Wheatley with\nCONFIG_SCL_GPIO undefined.\n\nChange-Id: Ia317e54deb6861d7189b3594bd7414b53408b933\nSigned-off-by: CHLin <CHLIN56@nuvoton.com>\nReviewed-on: https://chromium-review.googlesource.com/396718\nCommit-Ready: CH Lin <chlin56@nuvoton.com>\nTested-by: CH Lin <chlin56@nuvoton.com>\nReviewed-by: Furquan Shaikh <furquan@chromium.org>\nReviewed-by: Duncan Laurie <dlaurie@google.com>\nReviewed-by: Mulin Chao <mlchao@nuvoton.com>",1,0.99969220161438,GPIO,"chip/npcx/lpc.c, chip/npcx/registers.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,8d1a958263c806acee343d8b449e39cbddc99dc5,5cfa02b03c2b90918fbbb238ab736758bd601281,CHLin,2016-10-19,"npcx: espi: Fix SMI/SCI virtual wire handling\n\nWhen GPIOC6/GPIO76 are not selected as SMI/SCI function(ie. selected\nas GPIO), the reading of SMIB/SCIB will be a fixed value. This means\nit cannot reflect the actul SMI/SCI status. As a reault, use SET_BIT/\nCLEAR_BIT macro to toggle SMIB/SCIB is not feasible. Firmware should\nread the SMI/SCI status from VWEVSM(2) register before setting it.\nThis CL defines some macros to achieve it.\n\nIn the previous CL, SMI/SCI negative polarity is conditionally\ndisabled. However, the negative polarity is not used in current\nfirmware design. Set the SMI/SCI polarity as postive unconditionly by\ndefault.\n\nModified drivers:\n1. lpc.c: use macro NPCX_VW_SMI/NPCX_VW_SCI to generate Virtual wire.\n          use SMI/SCI postive polarity uncontionally by default.\n2. register.h : define macro to handle SMI/SCI virtual wire.\n\nBUG=chrome-os-partner:34346\nBRANCH=none\nTEST=make buildall; try hostevent on Wheatley and check virtual wire\nsignal is correct on logical analyzer.\n\nChange-Id: Id4a7748addeaa3b35f280ff29f6fcd8a08b9894b\nSigned-off-by: CHLin <CHLIN56@nuvoton.com>\nReviewed-on: https://chromium-review.googlesource.com/400161\nCommit-Ready: CH Lin <chlin56@nuvoton.com>\nTested-by: CH Lin <chlin56@nuvoton.com>\nTested-by: Duncan Laurie <dlaurie@chromium.org>\nReviewed-by: Duncan Laurie <dlaurie@chromium.org>",1,0.9997000694274902,GPIO,"chip/npcx/lpc.c, chip/npcx/registers.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,d5bd0bd0f6798574ff7da1ba575753a9ce39719f,c5358465b885828a510402109c7536b334d1b3cf,Gwendal Grignou,2016-12-28,"als: Define CONFIG_ALS when HAS_TASK_ALS is present.\n\nFor oak, set a different list of task (no als, no accel) for compiling\nrevision 4 or less. Fix GPIO include issue.\n\nBUG=chrome-os-partner:59423,chrome-os-partner:59084\nTEST=compile for oak with board 4 and 5, tested on Reef.\nBRANCH=kevin,reef\n\nChange-Id: I09051a69cbad6d477a7b3bf9907f4c5c144b5136\nSigned-off-by: Gwendal Grignou <gwendal@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/424220\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9997000694274902,GPIO,"board/eve/board.h, board/glados/board.h, board/kevin/board.h, board/oak/board.c, board/oak/board.h, board/oak/ec.tasklist, board/oak/gpio.inc, board/pyro/board.h, board/reef/board.h, board/samus/board.h, board/snappy/board.h, board/strago/board.h, board/wheatley/board.h, common/build.mk, include/config.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3baf37633e4e80f356d92ee5da0ddc0a0b463849,056429f1210dba694e138555e28385af46127679,Nicolas Boichat,2017-01-19,"poppy: Fix USB_C[0|1]_CHARGE_L default GPIO setting\n\nLeave the GPIO as low, without pull-up, so that system can boot\nwithout battery.\n\nAlso remove uneeded pull-up on USBC[0|1]_5V_EN.\n\nBRANCH=none\nBUG=chrome-os-partner:61998\nTEST=Boot poppy without battery\n\nChange-Id: Ib7a334d5e4ecf1ea434354b3b161111cf005418c\nReviewed-on: https://chromium-review.googlesource.com/430530\nCommit-Ready: Nicolas Boichat <drinkcat@chromium.org>\nTested-by: Nicolas Boichat <drinkcat@chromium.org>\nReviewed-by: Shawn N <shawnn@chromium.org>",1,0.9996331930160522,GPIO,board/poppy/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5307725091ccb54cb5e849fedbfc26388f13023f,be47089750c5558cf158de46629e9de323ecb230,Duncan Laurie,2017-01-22,eve: Fix hibernate GPIO states\n\n- Lid switch has an external pull-down so we should not\nenable one here in hibernate\n- LEDs should be high to turn off\n\nBUG=chrome-os-partner:58666\nBRANCH=none\nTEST=manual testing:\n1) power off and enter hibernate with alt+volup+h\n2) ensure LEDs turn off\n3) ensure system stays off when lid is closed\n4) ensure system powers up when lid is opened\n\nChange-Id: I3a13fa6e0fbcad4925f9fb1d96e6c38d7bb453c8\nSigned-off-by: Duncan Laurie <dlaurie@google.com>\nReviewed-on: https://chromium-review.googlesource.com/431137\nReviewed-by: Aaron Durbin <adurbin@chromium.org>,1,0.999637484550476,GPIO,board/eve/board.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,eb5ab132163c31c4ae7c79d279af8d1763da42f9,a76ec0aea4204f572f32e63e9bb1f78c2e5c63df,philipchen,2017-01-31,usb_pd_policy: make pd_set_vbus_discharge work with devices with one USB PD port\n\nWe see compile error in case that pd_set_vbus_discharge is called\nwhen GPIO_USB_C1_DISCHARGE is not defined.\n\nBUG=chrome-os-partner:62207\nBRANCH=gru\nTEST=make buildall -j\n\nChange-Id: I17c324d26ee6bf94c13ec7e0f92b7352de602329\nReviewed-on: https://chromium-review.googlesource.com/435458\nReviewed-by: Shawn N <shawnn@chromium.org>\nCommit-Queue: Philip Chen <philipchen@chromium.org>\nTested-by: Philip Chen <philipchen@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/435540\nCommit-Ready: Philip Chen <philipchen@chromium.org>\nReviewed-by: Philip Chen <philipchen@chromium.org>,1,0.9996379613876344,GPIO,common/usb_pd_policy.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,b73ca808be7142018b2985848b0aa5f1a1f9a969,d536724cf54452ed02b0a627040164365b9d28b4,Vadim Bendebury,2017-02-02,"g: fix pinmux command implementation\n\nThe output of pinmux command is garbled (it probably was OK until the\nconsole UART TX buffer was significantly reduced in size by\nhttps://chromium-review.googlesource.com/418948).\n\nLet's flush the console every so often.\n\nAlso, fixed the bug where the second GPIO port base address in PIMUX\nwas off, and added a newline to separate UART section of the output.\n\nBRANCH=none\nBUG=none\nTEST=ran pinmux command successfully. make -j buildall passes\n\nChange-Id: Iae0dcbbd0a55d704ffe2296d6e0e81b2c6aec527\nSigned-off-by: Vadim Bendebury <vbendeb@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/436765\nReviewed-by: Mary Ruthven <mruthven@chromium.org>",1,0.9997316002845764,GPIO,chip/g/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9ca2b4c7754cd3e8e27b5f40f1383949da0e4d97,20cf61354ca4c5c31e1d15d2f584136f241a3023,Mary Ruthven,2017-02-09,"cr50: don't disable TPM_RST_L interrupt\n\nx86 devices use TPM_RST_L to detect the AP state, so we set\ndevice_states[DETECT_AP].detect to GPIO_TPM_RST_L on those boards.\nboard_update_device_state uses this signal to poll the AP state once a\nsecond to detect if the device is off.\n\nIf for some reason TPM_RST_L is deasserted, but the tpm reset handler\nhas not yet set the state to 'on', we will catch it when we poll the AP\nstate with board_update_device_state. It will call device_state_on with\nTPM_RST_L. In that case device_state_on used to silently disable the\nTPM_RST_L interrupt and not change the AP state. This change modifies\ndevice_state_on to notify the tpm reset handler and prevent it from\ndisabling the tpm reset interrupt.\n\nBUG=chrome-os-partner:62748\nBRANCH=none\nTEST=disable the deferred_tpm_rst_isr call in\nconfigure_board_specific_gpios. Close the lid and wait 5 minutes. Open\nthe lid. Verify cr50 prints ""device_state_on: tpm_rst_isr hasn't set the\nAP state to 'on'"" and the system boots normally.\n\nChange-Id: I6e5b722fab6e7b0acb91dda0e5207e4411e97363\nSigned-off-by: Mary Ruthven <mruthven@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/439816\nReviewed-by: Aaron Durbin <adurbin@chromium.org>",1,0.9990127086639404,GPIO,board/cr50/board.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9c24fac50542e2a391f509dad98303667c82c655,c45402564f732b4bd6e6f780d255223105d24163,Mulin Chao,2017-03-03,"npcx: gpio: Fixed bug GPIO's ISRs clear the other pending bits.\n\nSince the interrupts of MIWU group E/F/G/H of table 0 are the same\n(interrupt 11), we need to handle LPCs' and GPIOs' events at the\nsame ISR. But we also found there is a leak that ec has the chance\nto skip the other events which don't belong to GPIOs unexpectedly.\n(For example, LRESET and eSPI Reset) This CL fixed this issue by\nonly clearing pending bits belong to GPIOs in their ISRs.\n\nBRANCH=none\nBUG=b:35648154\nTEST=passed warm-reset testing on pyro over 12 hours.\n\nChange-Id: Ie626db00b54cff566798b4a593f6b0267a6fadc2\nSigned-off-by: Mulin Chao <mlchao@nuvoton.com>\nReviewed-on: https://chromium-review.googlesource.com/449472\nReviewed-by: Aaron Durbin <adurbin@chromium.org>\nReviewed-by: Nicolas Boichat <drinkcat@chromium.org>",1,0.9997484087944032,GPIO,chip/npcx/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,2ed1cb0517e62f0169e151b7721dbe5fc7246103,9b2fe6349f7030a3c99381fce6968d35489eb911,Rong Chang,2017-02-11,"rowan: fix SPI2 reset sequence and chip select ALT function\n\nEC controls SPI CS pin as GPIO. This CL remove the ALT function\nconfig. And before trigger SPI hardware reset, the driver state needs to\nbe disable.\n\nBUG=chrome-os-partner:62673\nTEST=manual\n  load into Rowan and boot up AP.\n  check console command accelread\nBRANCH=none\n\nChange-Id: I511c5906efbbb42b09547c61414bcc24b0217ad3\nSigned-off-by: Rong Chang <rongchang@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/441485\nReviewed-by: Nicolas Boichat <drinkcat@chromium.org>",1,0.9996532201766968,GPIO,"board/rowan/board.c, board/rowan/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,2b4d06721a0eb5414e274919e9747eddf710e907,7b76a8a2ca2d3066fd7e7133957e06f927b1446a,Dino Li,2017-04-26,"it83xx: clock: misc fixes\n\n1. Disable USB debug interface:\nIf we don't use GPIOH.5/6 pins for debugging,\nwe should disable it to prevent any chances of entering debug mode.\n\n2. command_idle_stats() behind CONFIG_CMD_IDLE_STATS:\nWe can exclude this console command if we don't use it.\n\n3. Remove 'dsleep' console command:\nDEEP_SLEEP_ALLOWED macro is enough for us.\n\nBRANCH=none\nBUG=none\nTEST=bit7 at 0xF02030(MCCR register) is cleared after initialization.\n\nChange-Id: If34e9738351459891be8c9a6619384adbfe26335\nSigned-off-by: Dino Li <Dino.Li@ite.com.tw>\nReviewed-on: https://chromium-review.googlesource.com/487843\nReviewed-by: Randall Spangler <rspangler@chromium.org>",1,0.9996143579483032,GPIO,chip/it83xx/clock.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9a4f6e8e2ef99e0ab654d9d08ca3487c8603d7d0,e58472daf82e86824471bbbc56b92de6ee048b3a,Furquan Shaikh,2017-05-23,poppy: Fix tcpc power mode handling for ANX\n\nANX has specific sequencing requirements for PWR_EN and RESETN when\nentering active and standby modes. The order in which the two GPIOs\nwere set did not match the spec. Update board_set_tcpc_power_mode to\nensure correct ordering for both the modes.\n\nBUG=b:62043928\nBRANCH=None\nTEST=make -j buildall\n\nChange-Id: Ifc2991da87c7b7facd3384f752792371efb9fe1e\nSigned-off-by: Furquan Shaikh <furquan@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/513477\nReviewed-by: Nicolas Boichat <drinkcat@chromium.org>,1,0.998408019542694,GPIO,board/poppy/board.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4809c70bbea8743cc7c1d382d7510ed937dce914,2ef78186c980120560123b149d7092a51edbeb98,Randall Spangler,2017-07-11,"cr50: Add case closed debugging V1 configuration\n\nThis adds the CCD configuration module, and the console commands to\ncontrol it.  It is not wired up to any of the CCD capabilities; that's\ncoming in the next CL.\n\nBriefly:\n* CCD configuration is persistently stored in nvmem_vars.  Use ccdinfo to\n  print it.\n* CCD can be Locked, Unlocked (some capabilities), or Opened\n  (all capabilities), using the ccdlock / ccdunlock / ccdopen commands.\n* CCD config can be restricted by setting a password via ccdpass.\n* Individual config capabilities can be set via ccdset.  Some of those will\n  be used to gate access to things like write protect and UARTs.  Others\n  affect the requirements for ccdunlock / ccdopen (for example, is physical\n  presenc required).\n* The entire config can be reset via ccdreset.  If only unlocked, config\n  that is restricted to Opened is not reset.\n* If CR50_DEV=1, ccdoops will force-reset and open the config.\n\nSee go/cr50-ccd-wp for more information.\n\nBUG=b:62537474\nBRANCH=none\nTEST=manual with CR50_DEV=1 build\n	gpioget # make sure GPIO_BATT_PRES_L=0\n\n	ccdlock # lock, because CR50_DEV=1 builds start unlocked\n\n	ccdinfo # locked, flags=0, all capabilities default\n	ccdpass # access denied (we're locked)\n	ccdreset # access denied\n	ccdset flashap always # access denied\n\n	ccdunlock\n	ccdinfo # unlocked\n	ccdpass foo\n	ccdinfo # flags=2 (password set when unlocked)\n	ccdset flashap always # access denied\n	ccdset uartectx unlesslocked\n	ccdinfo # yes, uartectx permission changed\n	ccdlock\n\n	ccdunlock # fails without password\n	ccdunlock bar # wrong password\n	ccdunlock foo # busy\n	(wait 3 sec)\n	ccdunlock foo\n	ccdreset\n	ccdinfo # no password, flags 0, capabilities all default\n\n	ccdopen # requires physical presence; tap power or use 'pp'\n	ccdset uartectx unlesslocked\n	ccdset batterybypasspp ifopened\n	ccdpass baz\n	ccdinfo # password set, flag 0, ccdset changes worked\n\n	ccdunlock\n	ccdreset\n	ccdinfo # uartectx back to ifopened, password still set\n\n	ccdopen baz # still requires physical presence\n	ccdset opennolongpp always\n	ccdlock\n	ccdopen baz # no pp required\n	ccdset unlocknoshortpp unlesslocked\n	ccdlock\n	ccdopen baz # short pp sequence required (3 taps)\n	ccdlock\n	ccdunlock baz # short pp sequence required\n	ccdopen baz # pp not required\n	ccdset unlocknoshortpp always\n	ccdlock\n\n	testlab open # access denied\n	testlab enable # access denied\n	ccdunlock baz\n	testlab open # access denied\n	testlab enable # access denied\n	ccdopen baz\n	testlab enable # requires short pp\n	ccdinfo # flags 1\n\n	ccdreset\n	ccdinfo # no password, flags=1, caps all default\n	ccdlock\n	testlab open\n	ccdinfo # opened\n	testlab disable # requires short pp; let it time out\n	ccdinfo # still opened, flags=1\n\n	ccdlock\n	ccdoops # backdoor in CR50_DEV images to force-reset CCD\n	ccdinfo # opened, flags=0, all defaults (yes, oops wipes out testlab)\n\n	ccdreset rma\n	ccdinfo # flags = 0x400000, everything but Cr50FullConsole always\n	ccdreset # back to flags=0, all default\n\nChange-Id: I24e8d8f361874671e6e94f27492ae00db919bea9\nReviewed-on: https://chromium-review.googlesource.com/569439\nCommit-Ready: Randall Spangler <rspangler@chromium.org>\nTested-by: Randall Spangler <rspangler@chromium.org>\nReviewed-by: Vadim Bendebury <vbendeb@chromium.org>",1,0.9993038177490234,GPIO,"board/cr50/board.c, board/cr50/board.h, board/cr50/wp.c, common/build.mk, common/ccd_config.c, common/hooks.c, core/cortex-m/ec.lds.S, include/case_closed_debug.h, include/config.h, include/hooks.h, include/link_defs.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,430d55879dc0ce9567b4ee2eefed200e604091ee,a0c2fa80cd5e3c8dec89189d5c40075d6d210259,Vadim Bendebury,2017-06-29,"g: add 'recover hosed slave' i2cs capability\n\nA common failure condition on the i2c bus is when the master\nunexpectedly stops clocking the bus while the slave is driving the SDA\nline low. In this case the master is not able to issue Stop or Start\nsequences, which makes the bus unusable.\n\nGood slave controllers are able to detect this condition and recover\nfrom it by removing the pull down from the SDA line. This patch adds\nthis capability to the g chip i2c slave controller.\n\nA new timer function is created which samples the SDA line twice a\nsecond. If it detects that SDA is low in two consecutive invocations\nand the number of i2cs read interrupts has not advanced, it decides\nthat the ""hosed slave"" condition is happening and reinitializes the\ni2c driver, which removes the hold from the SDA line.\n\nEven though the state of the SDA line is supposed to be accessible\nthrough the I2CS_READVAL register, it in fact is not, reads always\nreturn zero in the SDA bit. To work around this a GPIO (port 0, bit\n14) is being allocated to allow to monitor the state of the line, it\nis multiplexed to the same pin the SDA line uses.\n\nWhen the AP is in low power modes the SDA line is held low, this state\nshould not trigger i2c reinitializations.\n\nCQ-DEPEND=CL:616300\nBRANCH=none\nBUG=b:35648537\nTEST=connected H1 on the test board to an I2c master capable of\n     stopping clocking mid byte. Observed that the existing code would\n     just sit in the ""hosed"" state indefinitely. The code with the fix\n     recovers from the condition (drives the SDA line high) 500ms to\n     1s after the failure condition is created.\n\nChange-Id: Iafc7433bbae9e49975a72ef032a923274f8aab3b\nSigned-off-by: Vadim Bendebury <vbendeb@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/614391\nReviewed-by: Aseda Aboagye <aaboagye@chromium.org>",1,0.9991955161094666,GPIO,"board/cr50/board.c, board/cr50/gpio.inc, chip/g/i2cs.c, chip/g/i2cs.h, common/i2cs_tpm.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,af6024cc08753d47d05582759a5001ae9c81b93a,00e022272938d3c3f8b5d60f11c960d9da5546ac,Scott Collyer,2017-08-21,"coral: Remove volume up/dn button flip in gpio.inc\n\nThe Coral schematics are being changed to reflect that volume up is\nconnected to GPIO83 and volume down to GPIO82. The current EC code\nimplemented this same assignment, but introduced an intermediate\nsignal name to match with previous schematics which had the opposite\nassignment. With the signal names fixed on the schematic, the\nintermediate #defines are no longer needed.\n\nBUG=b:64012307\nBRANCH=None\nTEST=manual testing on Coral proto. Verified that up button presses\ncause the volume bar to go up and volume down button presses cause the\nvolume bar to go down.\n\nChange-Id: Ib04f8416e8f36271972fc650bf1593a4babaeb82\nSigned-off-by: Scott Collyer <scollyer@google.com>\nReviewed-on: https://chromium-review.googlesource.com/625063\nCommit-Ready: Scott Collyer <scollyer@chromium.org>\nTested-by: Scott Collyer <scollyer@chromium.org>\nReviewed-by: Aaron Durbin <adurbin@chromium.org>\nReviewed-by: Patrick Georgi <pgeorgi@chromium.org>",1,0.8631770014762878,GPIO,board/coral/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,af85b4f30e41881e3e589931c250e13e045a47b1,b91ff0a480304a8b831e943d7b62c528c16b2e83,Randall Spangler,2017-08-17,"cr50: Don't enable GPIO interrupts by default\n\nEach GPIO interrupt should only be enabled after its state machine is\nready to accept interrupts.  Enabling them all by default may cause\nundefined behavior if an interrupt occurs before state machine init.\n\nAlso, EC_TX_CR50_RX was enabled, and then explicitly disabled in\nboard_init() because we didn't want it.  Simpler only to enable the\ninterrupts we do.\n\nBUG=b:35587228\nBRANCH=cr50\nTEST=boot cr50; manually wiggle platform reset and the detect GPIOs\n     and see that interrupts are still generated.\n\nChange-Id: If810eb6fee9945f0c6dfe0d4b592bdc5ff4be6e7\nSigned-off-by: Randall Spangler <rspangler@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/619749\nReviewed-by: Mary Ruthven <mruthven@chromium.org>",1,0.9990529417991638,GPIO,board/cr50/board.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5ed0c143b3cf8094640615971c9d09afa19c117f,7bf1696711c37d829b4663fa4dfce5e35b4d237e,Nick Sanders,2017-10-13,"servo_v4: fix board version GPIO access\n\nEnsure GPIOs are inputs when read: Initialize GPIO direction on startup,\nand clean up register accesses using reg names rather than magic numbers.\nAdd board version reporting with CONFIG_BOARD_SPECIFIC_VERSION.\n\nBUG=None\nBRANCH=servo\nTEST=version is correctly 3\n\nSigned-off-by: Nick Sanders <nsanders@chromium.org>\nChange-Id: Ia04b01932fc36540af64b48b5e0bb6516f1529e2\nReviewed-on: https://chromium-review.googlesource.com/749693\nReviewed-by: Shawn N <shawnn@chromium.org>",1,0.8920789361000061,GPIO,"board/servo_v4/board.c, board/servo_v4/board.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,689ace7c6665b09a29c7bc82c4425224e86ab2bb,88011d8ea5a059138ee62632564207d4711b3f21,Furquan Shaikh,2017-11-20,poppy/soraka: Add GPIO_SEL_1P8V flag for 1.8V pins\n\nJerry pointed out that certain GPIOs which are 1.8V are set as 3.3V in\ngpio.inc. Fix these gpios by add GPIO_SEL_1P8V flag to the gpio\ndescription:\nGPIOD1/I2C3_SCL0\nGPIOD0/I2C3_SDA0\nGPIO36 ACCEL_GYRO_INT_L\n\nBUG=b:69481600\nBRANCH=None\nTEST=make -j BOARD=soraka. Verified that screen rotation works in tablet mode.\n\nChange-Id: Ifbc474846aff0760f0b183a9cfeef2790738ca79\nSigned-off-by: Furquan Shaikh <furquan@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/780142\nReviewed-by: Jerry Parson <jwp@chromium.org>\nReviewed-by: Nicolas Boichat <drinkcat@chromium.org>,1,0.9994433522224426,GPIO,board/poppy/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,70a258a192787766289a2804a012337ad0bccc17,1dfe3193e7110888268c98e1e9339e79b0ee5025,Dino Li,2018-03-12,"nds32: task: allow context switching if task_start() is called\n\nWe got a symptom that keyboard didn't work without connecting\nservo board after this change (CL:897315) was merged.\nThis is because our uart RX will receive a data (0) with framing\nerror if RX level is low and trigger a re-scheduling request in\nuart ISR (HOOKS task will be wake at later and then start the\ntask scheduling).\nAnd that will cause we don't return to main() function to finish\nall operations of initialization after uart_init() is called.\n\nI think we will get the same symptom if GPIO/peripheral interrupts\nare enabled and wake some task at initialization.\n\nThis change makes sure we will start the task scheduling if\ntask_start() is called.\n\nBUG=none\nBRANCH=none\nTEST=With this change, keyboard works after EC reboot without\n     servo board connected.\n\nChange-Id: I0bda84b1cb56ced6aad2a38b0786d1b336e77211\nSigned-off-by: Dino Li <Dino.Li@ite.com.tw>\nReviewed-on: https://chromium-review.googlesource.com/956794\nReviewed-by: Vincent Palatin <vpalatin@chromium.org>",1,0.9989892840385436,GPIO,"core/nds32/switch.S, core/nds32/task.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,e889631f56776391fdd099e52d4f3f3e4ae1e66a,b73bede72dd6c176040d71cceedd58100569d444,Aaron Durbin,2018-04-24,"board/yorp: fix PMIC_EN gpio\n\nApparently the symbol in the yorp schematic is incorrect for our part.\nThe PMIC_EN signal on ball H6 is actually GPIO72 -- not GPIOD7. Adjust\nthe gpio used for PMIC_EN.\n\nNote: GPIO72 needs to be put in gpio mode since it defaults to PWRGD\nfunctionality. However, gpio_pre_init() in chip/npcx/gpio.c enables\ngpio functionality by default. If that changes, the board options will\nneed to change as well.\n\nBUG=b:78352179\nTEST=Built. Booted. PMIC_EN goes up and down as expected.\nBRANCH=none\n\nChange-Id: I955f9a24e0fbecb0cda1380c237fa44c9a575e45\nSigned-off-by: Aaron Durbin <adurbin@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1026375\nReviewed-by: Furquan Shaikh <furquan@chromium.org>\nReviewed-by: Jett Rink <jettrink@chromium.org>\nReviewed-by: Justin TerAvest <teravest@chromium.org>",1,0.9988545179367064,GPIO,board/yorp/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,72343b097eeb51eff76e8478914b1f5d83a16610,0f9a4fba96dbef6755a21c96eabf445075b182ef,Caveh Jalali,2018-05-04,"atlas: config PROCHOT GPIO as input\n\nwe need to configure EC_PROCHOT_ODL as an input because the EC isn't\ndriving it correctly.  we changed the polarity of EC_PROCHOT for atlas\nand similar boards, but the EC codebase has this hard-coded as\nactive-high.\n\nthis is a short-term fix until we implement a more general PROCHOT\n""polarity"" feature.\n\nBUG=b:78911901,b:79266467\nBRANCH=none\nTEST=checked voltage drop across in-line resistor on EC_PROCHOT and\nAP can now run above 400MHz\n\nChange-Id: I8c3224c62ea7af4f386062d39c248d418e73fa53\nSigned-off-by: Caveh Jalali <caveh@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1045556\nCommit-Ready: Caveh Jalali <caveh@google.com>\nTested-by: Caveh Jalali <caveh@google.com>\nTested-by: caveh jalali <caveh@chromium.org>\nReviewed-by: Aseda Aboagye <aaboagye@chromium.org>\nReviewed-by: Caveh Jalali <caveh@google.com>",1,0.999380588531494,GPIO,board/atlas/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a93ed9b9aa51736ce48fd4bee5cf7b3bae346855,5fb2784fc4df774bdbefd11290fd7112b6b64bb2,Jett Rink,2018-05-18,it8320: print error message if gpio triggers are misconfigured\n\nIf a GPIO interrupt is misconifgured print out a console message.\n\nBRANCH=none\nBUG=b:79942824\nTEST=verified messages get printed if I try to configure both on GPH6\n\nChange-Id: Ic7156bea7c4fb2ac0bf7d717d8b812a60d5ad16a\nSigned-off-by: Jett Rink <jettrink@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1066223\nReviewed-by: Aaron Durbin <adurbin@chromium.org>\nReviewed-by: Dino Li <Dino.Li@ite.com.tw>,1,0.9988732933998108,GPIO,chip/it83xx/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,67ed6ee3e79400996e276c87eeb32765f6d124e2,b34a5973cd8a5cc66c4c931a86317a114f68d792,scott worley,2018-05-10,ec_chip_mchp: Fix bug in GPIO interrupt handling.\n\nThe previous chip level GPIO itnerrupt change introduced\na bug in calculation of the gpio table index. Bug only\nmanifested if GPIOs in different banks were configured\nfor interrupts.\n\nBRANCH=none\nBUG=\nTEST=Configure board with at least one GPIO interrupt\nper bank. Check proper handler is called when pin\ninterrupt is triggered.\nCQ-DEPEND=CL:1053576\n\nChange-Id: I9dd5d18be5f9df0e338e76b072fb82ed2df3e2de\nSigned-off-by: scott worley <scott.worley@microchip.corp-partner.google.com>\nReviewed-on: https://chromium-review.googlesource.com/1053827\nCommit-Ready: Randall Spangler <rspangler@chromium.org>\nTested-by: Scott Worley <scott.worley@microchip.corp-partner.google.com>\nReviewed-by: Randall Spangler <rspangler@chromium.org>,1,0.999711811542511,GPIO,chip/mchp/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,bbc34f225e66f993a906eea64c45ff82b23050ee,b14614b60c511401ac0adc1d00c612666a66bf5a,Scott Collyer,2018-05-22,"charger: bq25703: Exit low power mode prior to reading ADC\n\nAn ADC conversion requires ~10 msec. However, if the bq25703 is in low\npower mode, then this conversion time jumps to ~55 msec. This CL adds\na method to exit/enter low power mode and adds a call to exit low\npower mode prior to starting the ADC conversion. Following the\nconversion, low power mode is entered again.\n\nBRANCH=none\nBUG=b:79771760\nTEST=Connected AC power and verified that EC console error message\n'Could not read input current limit ADC' is no longer shown. In\naddition, had instrumented this the ADC conversion with GPIO signals\nand verified the conversion times before/after exiting low power mode.\n\nChange-Id: I13f36e6261e219adbc8624f71bf7916bbc631b10\nSigned-off-by: Scott Collyer <scollyer@google.com>\nReviewed-on: https://chromium-review.googlesource.com/1069768\nCommit-Ready: Scott Collyer <scollyer@chromium.org>\nTested-by: Scott Collyer <scollyer@chromium.org>\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.9991819262504578,GPIO,"driver/charger/bq25703.c, driver/charger/bq25703.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,2e49341d31b292e977327a07cc5b14b212e4a1ba,ee1861e9ed39707136b3ff13f5bb007b8a9c2796,Caveh Jalali,2018-06-04,atlas: fix GPIOC2/PWM1 function\n\nwe do not need to configure alt function on GPIOC2 to get PWM1\nfunctionality.  alt function here actually means I2C6_SCL0 and that\nalso affects the function of GPIOC1/I2C6_SDA0 which is definitely not\nwhat we want.\n\nBUG=b:94613023\nBRANCH=none\nTEST=able to power-off the AP\n\nChange-Id: I68abfb7e8c64faffbe0cea0a2cc8ca6a4a620ba3\nSigned-off-by: Caveh Jalali <caveh@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1086469\nCommit-Ready: caveh jalali <caveh@chromium.org>\nTested-by: caveh jalali <caveh@chromium.org>\nReviewed-by: Aseda Aboagye <aaboagye@chromium.org>,1,0.9996417760849,GPIO,board/atlas/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,532e135d039c686dfbdf26e4dadbcd6e9b71d107,f39c9fb0466ab5729aeba13ec4a52079d561f03b,Aseda Aboagye,2018-06-07,"nocturne: Fix CPU_PROCHOT polarity.\n\nNocturne's CPU_PROCHOT is active low.  Additionally, it's a 1V signal,\nso enable 1.8V GPIO logic to give it a chance of reporting the right\nthing.\n\nBUG=b:109882953\nBRANCH=poppy\nTEST=Flash nocturne; verify that PROCHOT isn't asserted by default.\n\nChange-Id: I90126b3e495fa6e83b03c893cc3090cad90e1d5a\nSigned-off-by: Aseda Aboagye <aaboagye@google.com>\nReviewed-on: https://chromium-review.googlesource.com/1092151\nCommit-Ready: Aseda Aboagye <aaboagye@chromium.org>\nTested-by: Aseda Aboagye <aaboagye@chromium.org>\nReviewed-by: Edward Hill <ecgh@chromium.org>",1,0.9995648264884948,GPIO,"board/nocturne/board.h, board/nocturne/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,d165b0230060d42919e11477ac65a0d14fd0d6ea,350dd7d51a2eb9314b1c65c45a4da5db9d73df7d,Mulin Chao,2018-06-06,"gpio: fixed GPIO_SEL_1P8V is cleared unexpectedly during i2c unwedging.\n\nFor npcx ec, board driver needs to add GPIO_SEL_1P8V flag for SDA/SCL\npins in gpio.inc when i2c port is configured to support low-voltage\nmode (1.8V). Npcx gpio driver will set the corresponding bits in\nLV_GPIO_CTL register later. But if there is an i2c unwedging mechanism\noccurred on those 1.8V i2c port, the bits of LV_GPIO_CTL will be cleared\nunexpectedly after unweding is completed. And it also will make ec\nconsumes more 0.5mA current on each pin since IO is selected to 3.3V.\n\nThe root cause is the GPIO flags of SCL/SDA have been changed to\nzero only after i2c unweding is done. This CL which solved this issue\nincludes:\n1. Add GPIO_INPUT and GPIO_SEL_1P8V flag in ALTERNATE macro array which\n   pins belong to 1.8V i2c port.\n2. Change type of flags in structure gpio_alt_func from uint16_t to\n   uint32_t since bit overflow.\n\nBRANCH=none\nBUG=b:109884927\nTEST=No build errors for npcx7 series. Saving 3.3mW power consumption on\nyorp if this patch is applied.\n\nChange-Id: I06eadd5df36c7f69e6741f1dee13c801bac18360\nSigned-off-by: Mulin Chao <mlchao@nuvoton.com>\nReviewed-on: https://chromium-review.googlesource.com/1089604\nReviewed-by: Randall Spangler <rspangler@chromium.org>\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.9996774196624756,GPIO,board/yorp/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,02ebdbdd6b5aeee371974cc6bcbd8d6504210ea5,50bc394d5952021b170ac15260d2ff8e278ec1ed,Furquan Shaikh,2018-06-19,yorp: Fix GPIO PIN for ENTERING_RW_V0\n\nENTERING_RW_V0 is GPIO80 on yorp V0. This change fixes the pin\nconfiguration in gpio.inc\n\nBUG=b:110084012\nBRANCH=None\nTEST=Verified that firmware_DevMode test passes along with the other\nset of CLs.\n\nChange-Id: I77c80c5b6926003cc678e4a0d2a1f11bef140f92\nSigned-off-by: Furquan Shaikh <furquan@google.com>\nReviewed-on: https://chromium-review.googlesource.com/1106288\nCommit-Ready: Furquan Shaikh <furquan@chromium.org>\nTested-by: Furquan Shaikh <furquan@chromium.org>\nReviewed-by: Jett Rink <jettrink@chromium.org>\nReviewed-by: Justin TerAvest <teravest@chromium.org>,1,0.9996168613433838,GPIO,board/yorp/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,725b337a61b6250f72f392e7a6df330b7c7bcae6,c8323ec1ad9852bcf775934933c117214dd3f5d7,Edward Hill,2018-06-18,"careena: Fix power-on with cut-off battery\n\nRemove CONFIG_BATTERY_HW_PRESENT_CUSTOM, CONFIG_BATTERY_PRESENT_CUSTOM,\nand associated code in battery.c, and delay in board_tcpc_init.\nAdd CONFIG_BATTERY_PRESENT_GPIO.\n\nThis allows CONFIG_BATTERY_REVIVE_DISCONNECT to work correctly to\nrevive a cut-off battery, using battery_get_disconnect_state().\n\nBefore this change, the call to battery_get_disconnect_state() in\nthe main loop of charge_state_v2's charger_task would not be\nreached with cut-off battery, due to the earlier:\n""if (curr.batt.is_present == BP_NO) goto wait_for_it;""\n\nWith this change, curr.batt.is_present changes to BP_YES based on the\nsimple test of GPIO_EC_BATT_PRES_L. This allows charger_task to\n""try to wake battery"", then call battery_get_disconnect_state()\nand ""found battery in disconnect state"". This succeeds in getting\nthe battery out of the disconnect state.\n\nThe delay in board_tcpc_init() is removed because TCPC init doesn't\ndisturb the AC power supply. If it did, powering on with AC only\n(no battery) would fail.\n\nBUG=b:109894491\nBRANCH=none\nTEST=these combinations on grunt and careena:\ngrunt, unplug AC, cutoff battery, on AC plug: pass (AP boots)\ngrunt, unplug AC, normal battery, on EC reboot: pass (AP boots)\ngrunt, unplug AC, unplug battery, on AC plug: pass (AP boots)\ngrunt, unplug AC, discharge battery to cutoff,\n	on AC plug: pass (AP boots)\ncareena, unplug AC, cutoff battery, on AC plug: pass (AP boots)\ncareena, unplug AC, normal battery, on EC reboot: pass (AP boots)\ncareena, unplug AC, unplug battery, on AC plug: pass (AP boots)\ncareena, unplug AC, discharge battery to cutoff,\n	on AC plug: pass (AP boots)\n\nChange-Id: Ieceaa51535b9fcabc8b42681472689bfa9d0e498\nSigned-off-by: Edward Hill <ecgh@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1105338\nCommit-Ready: ChromeOS CL Exonerator Bot <chromiumos-cl-exonerator@appspot.gserviceaccount.com>\nReviewed-by: Aseda Aboagye <aaboagye@chromium.org>\nReviewed-by: Furquan Shaikh <furquan@chromium.org>",1,0.9992648959159852,GPIO,"baseboard/grunt/baseboard.h, baseboard/grunt/battery.c, baseboard/grunt/build.mk, board/careena/board.c, board/grunt/board.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,698d62e1220aef10b8a6bef866ebe4bb3bef699d,b8fc9a03a8e41602469f4476a9db9e81031f2187,Dino Li,2018-06-20,"it83xx: gpio: set input voltage 1.8v by pin\n\nAt the original implementation, we would miss 1.8V configuration\nif the param 'mask' includes two or more bits. So we fix it.\n\nBRANCH=none\nBUG=none\nTEST=on bip, the settings of input voltage 1.8v selection register\n     and the declarations of GPIO signal in gpio.inc are matched.\n\nChange-Id: Ife199a3150d29714ddcda2aa15b7a64ed9d130c9\nSigned-off-by: Dino Li <Dino.Li@ite.com.tw>\nReviewed-on: https://chromium-review.googlesource.com/1107677\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.999663472175598,GPIO,"chip/it83xx/gpio.c, chip/it83xx/registers.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,2d94ff98bb34021560f7a04df09cacadee55fccf,e013aaa016fd883a6ac545c851ecb1f5b1e60874,Daisuke Nojiri,2018-06-26,"Nami: Set GPIO42 to high Z for older boards\n\nOn board version before 0x300, GPIO42 are connected to TP_INT_CONN.\nSetting this to output causes the trackpad to stop working.\n\nThis patch configures GPIO42 to GPIO_INPUT for previous boards to\nfix the issue.\n\nSigned-off-by: Daisuke Nojiri <dnojiri@chromium.org>\n\nBUG=b:110817459\nBRANCH=none\nTEST=make BOARD=nami\n\nChange-Id: Ib9774b64732704b85a34531a55bf673db72bc601\nReviewed-on: https://chromium-review.googlesource.com/1116419\nCommit-Ready: Daisuke Nojiri <dnojiri@chromium.org>\nTested-by: Daisuke Nojiri <dnojiri@chromium.org>\nReviewed-by: Vincent Palatin <vpalatin@chromium.org>",1,0.9992371797561646,GPIO,board/nami/board.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,fde9042dbac2a273f5607e659b8e5a98c301e42b,47a1c1a0427400d5a0f5def8f69fcb70bbb4f4e7,Mulin Chao,2018-06-07,"npcx: gpio: bypass for excessive power consumption on low-voltage IOs.\n\nIt was found that for npcx ec's GPIOs that support low-voltage input,\nthere is an excessive power consumption when they are selected to\nlow-voltage mode and their Vin is 1.8V.\n\nTo bypass this issue when the chip enters deep sleep where current is\nimportant, this CL includes:\n\n1. Disable GPIOs without ISR which are selected to 1.8V and not i2c\n   ports in gpio_pre_init().\n2. Disable input buffer of 1.8V i2c ports before entering deep sleep.\n3. Enable input buffer of 1.8V i2c ports after ec wakes up.\n\nBRANCH=none\nBUG=b:110170824\nTEST=No build errors for npcx ec series. Measured power consumption on\nyorp and it saved ~1.3mA current after applying this patch at S0ix. Run\nstress test on poppy and no symptom found. Remove CONFIG_LOW_POWER_IDLE\nin board driver and no symptom occurred on poppy and yorp.\n\nChange-Id: Iaf66c81ca16104839734ba19492f2061113dafb3\nSigned-off-by: Mulin Chao <mlchao@nuvoton.com>\nReviewed-on: https://chromium-review.googlesource.com/1098864\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.9976436495780944,GPIO,"chip/npcx/clock.c, chip/npcx/gpio.c, chip/npcx/gpio_chip-npcx5.h, chip/npcx/gpio_chip-npcx7.h, chip/npcx/gpio_chip.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9520460224e391bb747149bcc14da0d155088d83,a2ef0dabfcec633d92d40a817b31dd167246bc3c,Nicolas Boichat,2018-07-02,"kukui: GPIO fixups, and mirror AP watchdog input to output\n\nWe can do more complicated things with the watchdog signal in the\nfuture.\n\nAlso fix a bunch of GPIO signals after review.\n\nBRANCH=none\nBUG=b:109900671\nTEST=make BOARD=kukui -j\n\nChange-Id: I8c9998dbec2c15d2aedd3c5d299e502d42b663fe\nSigned-off-by: Nicolas Boichat <drinkcat@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1122137\nReviewed-by: Yilun Lin <yllin@chromium.org>",1,0.9965054988861084,GPIO,"board/kukui/board.c, board/kukui/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9b3ab01f0f09cf010bad4838735606f378a98eb4,9431a997aaa195e81d3e1a96ef484dcbcfa9803f,Vijay Hiremath,2018-06-20,"octopus: Fix booting to OS from shipmode\n\nIf the battery is booting from shipmode, it cannot provide power\nhence check for the battery revive state and do not disable charge\nports instead assume the power source port as dedicated charge port\nand remain in charge manager safe mode till the battery is\ninitialized and able to provide power.\n\n1. Remove custom battery hardware present logic:\nIn case of booting from battery shipmode, though battery is\nphysically present it cannot provide power hence we need to prevent\nauto-power on till the negotiated power is >=\nCONFIG_CHARGER_MIN_POWER_MW_FOR_POWER_ON hence removed the custom\nh/w present logic\n\n2. Remove custom battery present logic\nAs we are using battery revive logic to remain in charge manager\nsafe mode till the battery is initialized, enabled logic to use the\nphysical battery GPIO for battery detection and removed the custom\nbattery present logic.\n\nBUG=b:80299100, b:74427009, b:110438520\nBRANCH=none\nTEST=Manually tested on BIP\n     1. Battery can revive from shipmode\n     2. DUT can boot to S0 when no battery connected and from\n        shipmode battery, without pressing the power button\n     3. Deeply discharged battery is recovered and DUT booted\n        to OS without pressing the power button\n\nChange-Id: I75378d5d70d07cea13ec775188ce17cb8fe9d9ae\nSigned-off-by: Vijay Hiremath <vijay.p.hiremath@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/1109443\nCommit-Ready: Vijay P Hiremath <vijay.p.hiremath@intel.com>\nTested-by: Vijay P Hiremath <vijay.p.hiremath@intel.com>\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.9989878535270692,GPIO,"baseboard/octopus/baseboard.c, baseboard/octopus/baseboard.h, baseboard/octopus/battery.c, baseboard/octopus/build.mk",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,36a62bd63bb74183c74bf4987ab6ed2af9119fa9,9b3ab01f0f09cf010bad4838735606f378a98eb4,Diana Z,2018-07-02,"bip: comment fix to clarify GPIO pins\n\nThe bip schematics name the LEDs with ""_L"", which would seem to imply\nthey are active low but they are actually active high.\n\nBRANCH=none\nBUG=none\nTEST=make buildall\n\nChange-Id: I03fe9cbf093753a53559d768cede62339da111f2\nSigned-off-by: Diana Z <dzigterman@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1123112\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.9986714124679564,GPIO,board/bip/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,ea1e1d667ae46556f86f072223030e9a57fe32cc,7b504639d9b32bc292288e03143fc0404a6a8ab1,Yilun Lin,2018-07-20,"kukui: Fix bmi160 i2c2 config on wrong GPIO PIN.\n\nAlso, we already have external pull-up, release the internal pull up\nfor saving power.\n\nBRANCH=None\nTEST=make BOARD=kukui -j & flash_ec & check i2cscan result\nBUG=b:80159522\n\nChange-Id: I2d27f68099a5a5e23f19cc00b37ec8667461b33e\nSigned-off-by: Yilun Lin <yllin@google.com>\nReviewed-on: https://chromium-review.googlesource.com/1144802\nCommit-Ready: Yilun Lin <yllin@chromium.org>\nTested-by: Yilun Lin <yllin@chromium.org>\nReviewed-by: Nicolas Boichat <drinkcat@chromium.org>",1,0.9996919631958008,GPIO,board/kukui/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,295ccc36eaa01eccb0db2079122ca12cdec55044,347d2912e71a4e1c7f962448ac22cd2c3d3e4866,Yilun Lin,2018-07-31,"charger/mt6370: Init charger IRQs.\n\nInit all the mt6370 charger IRQs. We masked out all the other IRQs\nexcept VBUS detach/attach interrupts. Also, fix GPIO typo in\nCHARGER_INT_ODL, it should be GPIO_INT_FALLING.\n\nTEST=make flash_ec BOARD=kukui; check gpioget CHARGER_INT_ODL = 1\nBUG=b:110241788\nBRANCH=None\n\nChange-Id: I57beec78d74598d161c66f25ee149b3044d020ad\nSigned-off-by: Yilun Lin <yllin@google.com>\nReviewed-on: https://chromium-review.googlesource.com/1157726\nCommit-Ready: Yilun Lin <yllin@chromium.org>\nTested-by: Yilun Lin <yllin@chromium.org>\nReviewed-by: Nicolas Boichat <drinkcat@chromium.org>",1,0.999718964099884,GPIO,"board/kukui/gpio.inc, driver/charger/rt946x.c, driver/charger/rt946x.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,fe10a59e056643e3b23a5d1b0e6142323b0e5ced,d01e71d5b4b1c20c9bd2f9acce7e3a48a1460b78,Diana Z,2018-07-31,"octopus: Refactor power LED code\n\nThe upcoming work to implement the fleex power LED will require slightly\ndifferent power LED behavior, so this refactors the power LED code to be\nmore flexible.  This change also sets the phaser power LED GPIO name to\nsomething more clear, and protects the code from a possible\ndivide-by-zero condition which can be hit with undefined states.\nCurrently, there will be prints 4 times per second that the board is in\nthe undefined state, which should draw a developer's attention to the\nissue.\n\nBRANCH=None\nBUG=None\nTEST=verified power LED behaved the same on phaser in all different\npower states, verified that removing a state's entry in the table\nresults in an error print to the console in that state\n\nChange-Id: I58733008e5e49d1e631d79a8631d2ca04127bd08\nSigned-off-by: Diana Z <dzigterman@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1156872\nReviewed-by: Furquan Shaikh <furquan@chromium.org>\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.7920497059822083,GPIO,"baseboard/octopus/led_states.c, baseboard/octopus/led_states.h, board/phaser/gpio.inc, board/phaser/led.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,70b24aad2f338f705ff4ae42150d6f7285ed9166,1a0e7d1371ea2aea694e6ffc91c08dd94927bdd3,Scott Collyer,2018-08-01,"DragonEgg: Fix the interrupt associated with GPIO_ACOK_OD\n\nThe ISR associated with this signal was mistakenly set to\npower_button_interrupt, but it needs to be extpower_interrupt. This CL\nfixes the ISR association.\n\nBUG=b:111899214\nBRANCH=none\nTEST=Manual\nWith Type C charger connected:\n> chgstate\nstate = charge\nac = 1\nbatt_is_charging = 1\n\nWith Type C charger removed:\nchgstate\nstate = discharge\nac = 0\nbatt_is_charging = 0\n\nAlso verified that the console message\n[601.408160 running with no battery and no AC]\nno longer shows up when powering up with no battery connected.\n\nChange-Id: I9801bd6e979185824e50f90a3fd4e4efccd34b7f\nSigned-off-by: Scott Collyer <scollyer@google.com>\nReviewed-on: https://chromium-review.googlesource.com/1159699\nCommit-Ready: Scott Collyer <scollyer@chromium.org>\nTested-by: Scott Collyer <scollyer@chromium.org>\nReviewed-by: Furquan Shaikh <furquan@chromium.org>\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.9997227787971495,GPIO,board/dragonegg/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3a56be1e353ac4302d2234b7e1f6f516d68c41db,a914c8df696d4fd8cc8d7bbdfe99da539606fcf9,michael_chen,2018-09-03,"rammus: Fix PD port 0 reset control behavior\n\nBecause the GPIO USB_PD_RST_C0_L is high active.\nWhen USB_PD_RST_C0_L is high, the PD port 0 i2c communication will fail.\n\nBUG=None\nBRANCH=ToT\nTEST=Manual.\n Using consol command ""i2cxfer r16 0 0x52 0x00"" to read\n TCPC port 0 VID is ok.\n\nChange-Id: I998669f85770672478a4c9131f7b5a767ffd6773\nSigned-off-by: michael_chen <michael5_chen@pegatroncorp.com>\nReviewed-on: https://chromium-review.googlesource.com/1198905\nCommit-Ready: michael chen <michael5_chen@pegatroncorp.com>\nTested-by: michael chen <michael5_chen@pegatroncorp.com>\nReviewed-by: Zhuohao Lee <zhuohao@chromium.org>",1,0.9997093081474304,GPIO,"board/rammus/board.c, board/rammus/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,ece03ab4d09b157c5e6f3c4fe0446678c0d8684b,d14d434d1981325aeeb127742cc507763e40dc5a,Yilun Lin,2018-09-26,"math_util: Support fp_div_dbz which handling division-by-zero error.\n\nFixed-point numbers has limited value range.  It is very easy to\nbe trapped in a division-by-zero error especially when doing\nmagnetometer calculation.  We only use fixed-point operations for\nmotion sensors now, so the precision and correctness for these\noperations is not the most important point to consider.  Here\nwe just let divided-by-zero result becomes INT32_MAX, to prevent\nthe system failure.\n\nTEST=undef CONFIG_FPU, build, flash on reef, and test magnetometer, and\n     see the system doesn't crash.\nBUG=b:113364863\nBRANCH=None\n\nChange-Id: I0ab657b2132666eefa9f3a04043ce29f0096d238\nSigned-off-by: Yilun Lin <yllin@google.com>\nReviewed-on: https://chromium-review.googlesource.com/1248421\nCommit-Ready: Yilun Lin <yllin@chromium.org>\nTested-by: Yilun Lin <yllin@chromium.org>\nReviewed-by: Nicolas Boichat <drinkcat@chromium.org>",1,0.9997050166130066,FPU,include/math_util.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,549f1c8567800b2d27d7a37f5cc6b4738fad40f3,95d9a9315d9bc58a85753c40b7e16a24684c073e,Jonathan Brandmeyer,2018-10-04,"grunt: Raise some task sizes\n\nA rough early (and therefore liberal) analysis of grunt task stacks\nshows that some of them will overrun on some infrequently-executed\ndebugging statements.  Raise those task sizes to reduce the risk of an\noverflow.\n\nOn Careena:\nTask: HOOKS, Max size: 320 (96 + 224), Allocated size: 800\nTask: USB_CHG_P0, Max size: 548 (324 + 224), Allocated size: 672\nTask: USB_CHG_P1, Max size: 548 (324 + 224), Allocated size: 672\nTask: CHARGER, Max size: 844 (620 + 224), Allocated size: 928\nTask: MOTIONSENSE, Max size: 588 (364 + 224), Allocated size: 928\nTask: CHIPSET, Max size: 812 (588 + 224), Allocated size: 928\nTask: KEYPROTO, Max size: 516 (292 + 224), Allocated size: 672\nTask: PDCMD, Max size: 344 (120 + 224), Allocated size: 800\nTask: HOSTCMD, Max size: 524 (300 + 224), Allocated size: 800\nTask: CONSOLE, Max size: 484 (260 + 224), Allocated size: 928\nTask: POWERBTN, Max size: 812 (588 + 224), Allocated size: 928\nTask: KEYSCAN, Max size: 556 (332 + 224), Allocated size: 672\nTask: PD_C0, Max size: 820 (596 + 224), Allocated size: 928\nTask: PD_C1, Max size: 820 (596 + 224), Allocated size: 928\nTask: PD_INT_C0, Max size: 296 (72 + 224), Allocated size: 672\nTask: PD_INT_C1, Max size: 296 (72 + 224), Allocated size: 672\n\nNote that '224' is conservative right now with CONFIG_FPU cleared on\nGrunt.\n\nBUG=b:116610278\nTEST=buildall and analyzestack\nBRANCH=grunt\n\nChange-Id: Ibf721acc3250aa1d1195546e943031c5c8617b95\nSigned-off-by: Jonathan Brandmeyer <jbrandmeyer@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1262101",1,0.9994742274284364,FPU,"board/aleena/ec.tasklist, board/careena/ec.tasklist, board/grunt/ec.tasklist, board/liara/ec.tasklist",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,b83e555952336d583c19b26bfe026908ca70e196,dfed287068488a70d13bafec0c50bc471b00d31c,CHLin,2018-10-24,"npcx: gpio: support internal pull-down when enable low voltage mode\n\nThere is the limitation that internal pull-up must be disabled when\na GPIO is configured in low voltage level. However, thers is no such\nlimitation of internal pull-down. The current GPIO driver disable no\nmatter pull-up or pull-down when low voltage mode is set.\nThis CL fixes it by:\n1. enable internal PD when low voltage mode is set.\n2. print warning message in the UART console when both low voltage and\ninternal PU flags are set for any GPIO defined in gpio.inc.\n\nBRANCH=none\nBUG=b:118339468\nTEST=No build error for make buildall\nTEST=define a gpio with internal PD+low-voltage in npcx7_evb/gpio.inc,\ncheck the releated bits of PxPULL and PxPUD are set;\nTEST=define a gpio with internal PU+low-voltage, check the warning\nmessage is printed on the console.\n\nChange-Id: I8e15125d3a2ccc73f84b8a559d12644b1d1af5f9\nSigned-off-by: CHLin <CHLIN56@nuvoton.com>\nReviewed-on: https://chromium-review.googlesource.com/1297872\nCommit-Ready: CH Lin <chlin56@nuvoton.com>\nTested-by: CH Lin <chlin56@nuvoton.com>\nReviewed-by: Wai-Hong Tam <waihong@google.com>\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.999446451663971,GPIO,chip/npcx/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,36190da7c5b8ac47aefc8eaa9fb581b9b77bd26b,09a5e0a9398a1ca9e953969d5c10d3b60cda8eac,CHLin,2018-10-26,"npcx: gpio: fix bugs of low voltage level selection\n\nThis CL fixed the following bugs of low voltage support of GPIO:\n1. fix the mismatch issue of low voltage support GPIOs when the mask\npassed to gpio_low_voltage_level_sel() has multiple bits set.\n(see more detail in the bug:118443060.)\nThe idea is to create a new function gpio_low_vol_sel_by_mask() to\niterate the match for each bit set in the mask.\ni.e.\n    while (lv_mask) {\n	bit = get_next_bit(&lv_mask);\n    	gpio_low_voltage_level_sel(p, bit, low_vol);\n    };\nThe second parameter of gpio_match()/gpio_low_voltage_level_sel is\nalso changed from ""mask"" to ""bit"" because of above modification.\n\n2. It was observed that there are some errors of the low level mapping\ntable because the older datasheet we used to develop the driver is not\ncorrect. After checking the latest datasheets of all EC sku, the low\nlevel table should have the following modification:\n   - GPIO65 cannot support low level and should be removed.\n   - GPIO86 can support low level in all EC skus.\n\nBRANCH=none\nBUG=b:118443060\nTEST=Add GPIO_SEL_1P8V flag in the ALTERNATE macros which have multiple\nbits set in the mask field in npcx7_evb board. Flash the image and make\nsure the warning message doesn't print and the related low level bits\nare set.\n\nChange-Id: I7aa23eb42dda178db34fe44a663df29757910a55\nSigned-off-by: CHLin <CHLIN56@nuvoton.com>\nReviewed-on: https://chromium-review.googlesource.com/1301674\nCommit-Ready: CH Lin <chlin56@nuvoton.com>\nTested-by: CH Lin <chlin56@nuvoton.com>\nReviewed-by: Wai-Hong Tam <waihong@google.com>",1,0.9997411370277404,GPIO,"chip/npcx/gpio.c, chip/npcx/gpio_chip-npcx7.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,efa0cb94e8cb111bb296523402bfa689e97dc92e,88a949d292d60e28c1bc548ef5cff402a18c9224,Diana Z,2018-11-02,"NPCX: Fix for alternate GPIOs on the NPCX7\n\nDuring a recent naming change to the alternate GPIO tables, a few of the\npins for the NPCX7 were missed.  This change adds those pins back in.\n\nBRANCH=None\nBUG=b:118856402\nTEST=builds, verified bobba USB 2.0 on DB type-c port works now\n\nChange-Id: Id3f3fa086b24da37eeeb49c5f4b24ffd4a5cfd6f\nSigned-off-by: Diana Z <dzigterman@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1315628\nCommit-Ready: Ryan Zhang <ryan.zhang@quanta.corp-partner.google.com>\nReviewed-by: Justin TerAvest <teravest@chromium.org>",1,0.9930094480514526,GPIO,chip/npcx/gpio_chip-npcx7.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,b765350dd51299b6606a0c837ded1cd4700dd3fb,c9b5321774df82fa153644f0ef3bf05ed08dd48a,Kyoung Kim,2018-10-29,ISH: Fix FPU flag\n\nFix bug in following CL.\nhttps://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1154187\n\nBUG=b:118628615\nTEST=check if FPU-utilzing tasks can operate properly.\n\nChange-Id: Id7f6a5f7827a9ffc81684b7f91705b4c72f03eab\nSigned-off-by: Kyoung Kim <kyoung.il.kim@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/1304893\nCommit-Ready: Caveh Jalali <caveh@google.com>\nTested-by: Caveh Jalali <caveh@google.com>\nTested-by: Kyoung Il Kim <kyoung.il.kim@intel.com>\nReviewed-by: Caveh Jalali <caveh@google.com>\nReviewed-by: Kyoung Il Kim <kyoung.il.kim@intel.com>,1,0.9995433688163756,FPU,core/minute-ia/irq_handler.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5c82e0336ba3dd6f93fdc4dd9c553cfb69c5caa3,6d6378b8d0f9a08eee75dfb794b5697cdcd4b821,Nicolas Boichat,2018-11-30,"tablet_mode: Fix tablet mode for tablet devices\n\nTablet devices would normally only define CONFIG_TABLET_MODE_SWITCH,\nand not CONFIG_TABLET_MODE, and define a tablet_get_mode function\nwhich always returns 1.\n\nSince 09a5e0a9398 ""dptf: Get rid of CONFIG_DPTF_DEVICE_ORIENTATION"",\ntablet_mode.h, when CONFIG_TABLET_MODE is not set, would define an\n_inline_ tablet_get_mode function which would always return 0,\ncausing tablets to always be in laptop mode.\n\nFix this by:\n - Removing the inline in tablet_mode.h.\n - Add CONFIG_TABLET_MODE to all our tablets (after removing the\n   inline, compilation fails if CONFIG_TABLET_MODE_SWITCH is set,\n   but not CONFIG_TABLET_MODE).\n - Remove tablet_get_mode from board/*/board.c, as the default\n   mode is tablet, anyway.\n\nBRANCH=none\nBUG=b:120252451\nTEST=Boot kukui, onscreen keyboard works\nTEST=No code size increase:\nbuild/kukui/RW/space_free_flash shrank by 36 bytes: (23968 to 23932)\nbuild/kukui/RW/space_free_ram shrank by 4 bytes: (10356 to 10352)\nbuild/rainier/RW/space_free_flash shrank by 36 bytes: (44296 to 44260)\nbuild/rainier/RW/space_free_ram shrank by 4 bytes: (12948 to 12944)\nbuild/scarlet/RW/space_free_flash shrank by 36 bytes: (28128 to 28092)\nbuild/scarlet/RW/space_free_ram shrank by 4 bytes: (10532 to 10528)\n\nChange-Id: Ifea0412bb32f1d701ad2040ad62a5c812705b14a\nSigned-off-by: Nicolas Boichat <drinkcat@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1355645\nReviewed-by: Aaron Durbin <adurbin@chromium.org>\nReviewed-by: Furquan Shaikh <furquan@chromium.org>",1,0.9996966123580932,TABLET_MODE,"board/kukui/board.c, board/kukui/board.h, board/rainier/board.c, board/rainier/board.h, board/scarlet/board.c, board/scarlet/board.h, common/acpi.c, include/tablet_mode.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,e95e95a0007fa8e69a002f551c31aee34ae94574,c65597299e493ac5bbbc668c1fcb4d0530c0b070,Diana Z,2018-12-11,"Octopus: add mux reset when applicable\n\nThe ITE based octopus boards have a PS8751 acting as a USB mux on at\nleast one port.  Since these boards have GPIOs hooked up to the PS8751\nreset pin(s), we should reset the chips on startup.  This should help\nin rare error cases, for example if the chip is hung up.\n\nBUG=b:120087080\nBRANCH=octopus\nTEST=loaded onto apel board version 0, ran several EC reboots and\nverified the DB USB-C and USB-A ports functioned well\n\nChange-Id: I04279e5e12996deedf4d22b2be2aa2f9909f4852\nSigned-off-by: Diana Z <dzigterman@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1372028\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.9291659593582152,GPIO,"baseboard/octopus/variant_usbc_ec_tcpcs.c, board/bip/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,e5ddc233ebc2285e3d145c6206c86c483bfbae11,c7d12adf74c22a1ef538ce9d7faac1a0d7c7ab66,Rushikesh S Kadam,2018-11-03,core/minute-ia: Add missing #ifdef CONFIG_FPU\n\nFix compilation error generated with CONFIG_FPU disabled.\n\nBRANCH=none\nBUG=b:120051489\nTEST=Disable CONFIG_FPU and verify code compiles fine.\n\nChange-Id: I0ddfe610a33cc2bdebebed4e149afbfa92f2543a\nReported-by: Sadashiva Rao Pv <sadashiva.rao.pv@intel.com>\nSigned-off-by: Rushikesh S Kadam <rushikesh.s.kadam@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/1316701\nReviewed-by: Caveh Jalali <caveh@google.com>,1,0.9994630217552184,FPU,core/minute-ia/task.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,93cfa8be90891a8f264fdd559c1a38278a200554,21d44090e548781f44eb4fe8a6447e0506e99f9a,Edward Hill,2019-01-04,"power_button_x86: Ensure INIT_ON presses button for 200 ms\n\nPWRBTN_STATE_INIT_ON should assert GPIO_PCH_PWRBTN_L for PWRBTN_INITIAL_US\n(200 milliseconds). It was sometimes releasing it too soon, so then the\nAP would fail to go to S0.\n\nIn the failing case:\n1) PWRBTN_STATE_INIT_ON calls set_pwrbtn_to_pch().\n2) The user has just released the physical button.\n3) I2C activity (for battery_get_disconnect_state() from charge_prevent_power_on()\n   in set_pwrbtn_to_pch()) allows power_button_change_deferred() to run to process\n   the release.\n4) set_pwrbtn_to_pch() finishes, setting GPIO_PCH_PWRBTN_L to 0.\n5) PWRBTN_STATE_INIT_ON checks power_button_is_pressed(), which returns 0, because\n   power_button_change_deferred() ran at 3.\n6) PWRBTN_STATE_INIT_ON sets pwrbtn_state to PWRBTN_STATE_RELEASED instead of\n   PWRBTN_STATE_BOOT_KB_RESET.\n7) powerbtn_x86_changed() runs (via HOOK_POWER_BUTTON_CHANGE from 3), sets\n   pwrbtn_state to PWRBTN_STATE_RELEASED (again) and also tnext_state to now.\n8) state_machine() runs, PWRBTN_STATE_RELEASED sets GPIO_PCH_PWRBTN_L to 1. This\n   is too soon.\n\nChange to always set the next state to PWRBTN_STATE_BOOT_KB_RESET after asserting\nGPIO_PCH_PWRBTN_L to fix this. This ensures powerbtn_x86_changed() will ignore all\nphysical button changes during the initial 200 ms pulse.\n\nBUG=b:121066727\nBRANCH=grunt\nTEST=Press Power+F3 many times. AP always boots.\n\nChange-Id: I29828f25793bb35fd75efea28de2af9fc2e85ce5\nSigned-off-by: Edward Hill <ecgh@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1395759\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.9995983242988586,GPIO,common/power_button_x86.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,629ee2c395850172eefdbebd57b329d4a6c17ff0,2d4116498333af946497ef9445f721d8a3e82e9e,Wai-Hong Tam,2019-01-09,"cheza: Correct the GPIO USB_C1_OC_ODL\n\nThe GPIO USB_C1_OC_ODL should be GPIO72. The schematic names it wrong\nas GPIOD7, some kind of library error.\n\nBRANCH=none\nBUG=b:120500746\nTEST=Checked the GPIO high normally; and low when over-current.\n\nChange-Id: Ic7973b3010f6d7bc9268cea134a1d2fa7d38eba8\nSigned-off-by: Wai-Hong Tam <waihong@google.com>\nReviewed-on: https://chromium-review.googlesource.com/1404143\nCommit-Ready: ChromeOS CL Exonerator Bot <chromiumos-cl-exonerator@appspot.gserviceaccount.com>\nReviewed-by: Stephen Boyd <swboyd@chromium.org>",1,0.9994106292724608,GPIO,board/cheza/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,d256379678ff4068f76a925074a79c738b77b4b7,7c20200967b367a8996866f51868feec483f1429,Jett Rink,2019-02-07,"ish: print message for misconfigured GPIOs\n\nISH does not support level-triggered GPIOs, and we should print an\nerror message when we encounter this bad configuration\n\nBRANCH=none\nBUG=none\nTEST=manually verified that print occurs\n\nChange-Id: I76d5c7bb2c70c664660a1c8fbe362fcbbde77ae6\nSigned-off-by: Jett Rink <jettrink@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1460083\nReviewed-by: Nick Crews <ncrews@chromium.org>\nReviewed-by: Diana Z <dzigterman@chromium.org>",1,0.9994031190872192,GPIO,chip/ish/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,cfcc4bc2c0f543270a91cfb30076659fbf69f32f,eed81a74e4d4c9e8616686e85281bd3e05a77ce8,Yilun Lin,2019-01-31,"kukui: Fix unable to source power to peripheral.\n\nEN_PP5000_USBC shuold be asserted when source power to peripheral,\nand EN_USBC_CHARGE_L and EN_POGO_CHARGE_L should not be asserted at\nthe same time.\n\nBRANCH=None\nBUG=b:122993147, b:123670673\nTEST=1. On kukui-p2 booted, without connecting to anything, see GPIO\n  0  EN_PP3300_POGO\n  1  EN_POGO_CHARGE_L\n  0  EN_USBC_CHARGE_L\n  0  EN_PP5000_USBC\nthat EN_POGO_CHARGE_L and EN_USBC_CHARGE_L doesn't both assert.\n\n2. Plug peripheral, and see GPIO\n  0  EN_PP3300_POGO\n  1  EN_POGO_CHARGE_L\n  1* EN_USBC_CHARGE_L\n  1* EN_PP5000_USBC\nsee EN_PP5000_USBC is asserted and EN_USBC_CHARGE_L is deasserted,\nand peripheral is sinking power.\n\n3. Plug PD charger, and see GPIO\n 0  EN_PP3300_POGO\n 1  EN_POGO_CHARGE_L\n 0* EN_USBC_CHARGE_L\n 0* EN_PP5000_USBC\nsee EN_PP5000_USBC is deasserted and EN_USBC_CHARGE_L is asserted,\nand kukui is sinking power.\n\nChange-Id: I53ddf891edee128e03c40d27d903690620b66dad\nSigned-off-by: Yilun Lin <yllin@google.com>\nSigned-off-by: Yilun Lin <yilun1204@gmail.com>\nReviewed-on: https://chromium-review.googlesource.com/1445958\nCommit-Ready: ChromeOS CL Exonerator Bot <chromiumos-cl-exonerator@appspot.gserviceaccount.com>\nTested-by: Yilun Lin <yllin@chromium.org>\nReviewed-by: Ayo Wu <ayowu@chromium.org>\nReviewed-by: Ting Shen <phoenixshen@chromium.org>",1,0.9997218251228333,GPIO,"board/kukui/gpio.inc, board/kukui/usb_pd_policy.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,247f511b36985c840d7f70f173129e85e62fcf7f,dcd378e1cde499fe3c33efd98bd7e737b034ff77,Moritz Fischer,2019-02-20,"chip: stm32: Fix GPIO base addresses for STM32F4/L\n\nThe CHIP_FAMILY_STM32L has the base addresses for the GPIO F, G\nand H  banks swapped w.r.t CHIP_FAMILY_STM32F4 and the alphabetic\norder vs the base addresses.\n\nBreak out the CHIP_FAMILY_STM32F4 case in the registers file,\nsuch that GPIOH bank works for both cases.\n\nBUG=none\nBRANCH=none\nTEST=Use pin PH0 on STM32F412/11, observe it actually toggling\n\nSigned-off-by: Moritz Fischer <moritz.fischer@ettus.com>\nChange-Id: I9a639c4872f6e4c5b384cdab9e3da2f626e32227\nReviewed-on: https://chromium-review.googlesource.com/1481650\nReviewed-by: Nicolas Boichat <drinkcat@chromium.org>",1,0.9995474219322203,GPIO,chip/stm32/registers.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,dbd0b06752030e7e96ec9ec534d354cde0a47814,62e13829506bfc2f8a1e9832fe278814fbfcdb92,Pi-Hsun Shih,2019-03-04,"build: Fix print configs when _tsk_cfg_rw is not empty\n\nThe _tsk_cfg_rw is a series of flags like HAS_TASK_MOTIONSENSE, which\ndoesn't make sense to be used as a command.\n\nBRANCH=none\nBUG=b:126308353\nTEST=make BOARD=kukui print-configs works\nTEST=print-configs on all boards, and check that output is not changed\n     except for boards that RW Config can't be printed due to this\n     bug.\n\nChange-Id: I513e88032abb8a418b22179d9e9c92a1dd8fbf3a\nSigned-off-by: Pi-Hsun Shih <pihsun@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1498954\nCommit-Ready: ChromeOS CL Exonerator Bot <chromiumos-cl-exonerator@appspot.gserviceaccount.com>\nReviewed-by: Jett Rink <jettrink@chromium.org>\nReviewed-by: Nicolas Boichat <drinkcat@chromium.org>",1,0.9996898174285888,HAS_TASK_MOTIONSENSE,Makefile.rules,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,e29edbbf0ec91a2cdd5f36c80fe48181341d6c55,2ad68a68b3b738340f05711dfa50b0894d17b20a,Nicolas Norvez,2019-03-20,"flash_fp_mcu: only control PWREN if it exists\n\nSome boards (Hatch) do not control the PWREN via a GPIO, instead the\npower is always on. In that case, do not try to handle that non-existent\nGPIO.\n\nBRANCH=None\nBUG=b:124405913\nBUG=b:126455006\nTEST=flash_fp_mcu on Hatch doesn't error out\nTEST=flash_fp_mcu on Nocturne still works\n\nChange-Id: I959024693b8af614e930f03991e11b0f44573a49\nSigned-off-by: Nicolas Norvez <norvez@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1532344\nCommit-Ready: ChromeOS CL Exonerator Bot <chromiumos-cl-exonerator@appspot.gserviceaccount.com>\nReviewed-by: Tom Hughes <tomhughes@chromium.org>",1,0.9996505975723268,GPIO,util/flash_fp_mcu_common.sh,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,e0e48a3187826d03248e35313feb1e8d068439fc,907ccfb38f9d3d08a9888a0b44c0c3a28f1dc381,Jett Rink,2019-04-03,ish: print heci error messages when occur\n\nThe error message for the HECI bus should print to the console if errors\noccur. Only the spammy debug message should be guarded by the debug\ncompiler option.\n\nBRANCH=none\nBUG=none\nTEST=see prints on console\n\nThis exposes that we are failing to send HECI (ISHTP) messages\ndue to a flow control issue (no cred)\n\nChange-Id: I7ca8d47531df8a206165d4b3f14cb367d9d5d745\nSigned-off-by: Jett Rink <jettrink@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1553299\nCommit-Ready: ChromeOS CL Exonerator Bot <chromiumos-cl-exonerator@appspot.gserviceaccount.com>\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>\nReviewed-by: Mathew King <mathewk@chromium.org>,1,0.9997254014015198,HECI,"chip/ish/heci.c, chip/ish/ipc_heci.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,289bbc2855f38aaffd3fc763f62afee07ab9a666,a24c74c759ba98df67935a344e31dfe494605237,Jack Rosenthal,2019-04-26,"ish: move REG32 macros for interrupt control into header files\n\nThis is a good portion of the fixes needed for b:130573158, but we\nstill have the HECI registers to deal with. I have those in a separate\nCL as they were giving me a significant amount of trouble.\n\nBUG=b:130573158\nBRANCH=none\nTEST=arcada_ish is functioning as normal after changes\n\nChange-Id: I9c209a329d61f7f55c260006cdffbfc705521195\nSigned-off-by: Jack Rosenthal <jrosenth@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1586458\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.9991349577903748,HECI,"chip/ish/aontaskfw/ish_aontask.c, chip/ish/power_mgt.c, chip/ish/registers.h, core/minute-ia/interrupts.c, core/minute-ia/irq_handler.h, core/minute-ia/switch.S",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7671f9d7dbe7d5590fccd5a16b97d1c8d45ce3c7,0775901e94904463328ded042bb53ee49d2c8c46,Hyungwoo Yang,2019-05-08,ish: fix bugs in fwst check functions\n\ncurrently functions to check the status of ilup(IPC link up)\nand hup(HECI up) are changing values of FW status which is bug.\n\nBRANCH=none\nBUG=none\nTEST=tested on Arcada platform\n\nChange-Id: I1839304af619a3ee5a0856fe83560aa21a99e60a\nSigned-off-by: Hyungwoo Yang <hyungwoo.yang@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1601779\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>\nReviewed-by: Jett Rink <jettrink@chromium.org>,1,0.9996999502182008,HECI,chip/ish/ish_fwst.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f2dcc64ad4d7f2bca17410e8b2036f31b0499745,a84d8055a57fe95c38df2ae1be332c57475aec27,Hyungwoo Yang,2019-05-14,ish: fix GPIO interrupt enabling and status\n\ncurrently the GPIO interrupt mask register and status register are\nnot initialized on warm reset. so some interrupts can be enabled\neven before corresponding things are ready.\n\nthis patch disables all GPIO interrupts and clears pending interrupts\nduring gpio initialization(gpio_pre_init()).\n\nBRANCH=ish\nBUG=b:130717887\nTEST=tested on Arcada platform\n\nChange-Id: I01c237f667c7a3b6d1eb63d81c9ab604a6213453\nReviewed-on: https://chromium-review.googlesource.com/1611749\nCommit-Ready: Jett Rink <jettrink@chromium.org>\nTested-by: Hyungwoo Yang <hyungwoo.yang@intel.com>\nReviewed-by: Jett Rink <jettrink@chromium.org>\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>,1,0.9996664524078368,GPIO,chip/ish/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,304a5bb34304f09f091778a72271bbf844f2089d,7b2e0d61398ad18ef0dbcad54de4f05b249f2f09,Scott Collyer,2019-04-24,"kohaku: Fix the GPIO pin assignment for USB_C0_BC12_CHG_DET_L\n\nThis was misread as GPO06, but it is connected to GPOD6.\n\nBUG=b:130197995\nBRANCH=none\nTEST=make -j BOARD=kohaku\n\nChange-Id: Ia780306b655898718e131de7fd4452a26bb07423\nSigned-off-by: Scott Collyer <scollyer@google.com>\nReviewed-on: https://chromium-review.googlesource.com/1582966\nCommit-Ready: Scott Collyer <scollyer@chromium.org>\nTested-by: Scott Collyer <scollyer@chromium.org>\nReviewed-by: Tim Wawrzynczak <twawrzynczak@chromium.org>\nReviewed-by: Furquan Shaikh <furquan@chromium.org>",1,0.9996802806854248,GPIO,board/kohaku/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,1a98cd7c32a881331828bc975be069b7a30d8eb4,931b4bd0bf604bb41438680b9eb58101863021ec,Yuval Peress,2019-05-20,"driver: lsm6dsm: Fix missing events\n\nBUG=b:129159505\nBRANCH=None\nTEST=Ran Android CTS\n\nFixes missing event errors in CTS. This is done by updating the\nlast_fifo_read_ts and checking the interrupt GPIO. If we find that\nthe GPIO is still low at the end of the read, that means that we've\ngotten new data while reading and never fully empties the FIFO. We\nknow this must have happened some time between the time we read the\ncount and when we were reading the FIFO, for now we'll use the upper\nbound of this to be safe.\n\nChange-Id: I0461f9d2703a3801e57e7769fbfe0e8de750706a\nSigned-off-by: Yuval Peress <peress@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/1620791\nLegacy-Commit-Queue: Commit Bot <commit-bot@chromium.org>\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.999726951122284,GPIO,driver/accelgyro_lsm6dsm.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,e12b71b1fe82af7bc804004147f33da5e29cced1,57361b1afa507c39d46cb4ae916fec38204ad9a0,Hyungwoo Yang,2019-05-29,"ish: fix to follow HECI spec\n\nSome of current implementaion doesn't follow HECI spec.\nThis patch fixes those wrong implementation.\n\nBRANCH=none\nBUG=b:133300213\nTEST=Tested on Arcada platform, HECI bus&clients are working fine.\n\nChange-Id: I3a7e242d3414187342aca33aa1efc789e66af105\nSigned-off-by: Hyungwoo Yang <hyungwoo.yang@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1637140\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>\nReviewed-by: Jett Rink <jettrink@chromium.org>\nCommit-Queue: Jack Rosenthal <jrosenth@chromium.org>",1,0.9996771812438964,HECI,chip/ish/heci.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,205c777b9f74667a6580d4c4d232417b92637eca,35afaa622676de0b72b727e9ed602bf0820934e7,Yilun Lin,2019-05-27,"krane: Enable BC12 detection with gpio controlled.\n\nSupport CONFIG_BC12_DETECT_POWER_ROLE_TRIGGER.\n\nKrane's BC12 detection is controlled by GPIO_BC12_DET_EN by\ndisconnecting USB-PHY, that is:\n- Assert GPIO_BC12_DET_EN, then USB-PHY is disconnected\n- Deassert GPIO_BC12_DET_EN, then USB-PHY is connected.\n\nThe current usb_chg_task will make USB devices not be enumerated, since\nGPIO_BC12_DET_EN is deasserted only when VBUS attached and BC12 device\nidentified.  However, peripherals won't trigger BC12 detection so\nGPIO_BC12_DET_EN always asserted.\n\nTo fix this problem, we trigger BC12 detection only when a port is\nattached and hook USB_PD_CONNECTED to toggle BC12 detection.\n\nWe have to\n- Assert GPIO_BC12_DET_EN on SRC device plugged to recognize BC12 charger.\n- After BC12 device detected, we have to disable BC12 to connect USB-PHY\n  back for enumerating USB devices.\n- Deassert GPIO_BC12_DET_EN on SNK device plugged to enumerate USB\n  devices.\n\nTEST=Test with https://crrev.com/c/1408751/1, and see it is able to\n     recognize Apple 2.4A charger and 5V2A DCP charger.\nTEST=Boot w/ USB hub plugged (w/ and w/o external BC1.2 charger on the hub)\n     and see USB devices are enumerated.\nBUG=b:122866184\nBRANCH=None\n\nChange-Id: I5b3362305361c0c950288fc83072e9bc79082c08\nSigned-off-by: Yilun Lin <yllin@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1575050\nTested-by: Yilun Lin <yllin@chromium.org>\nAuto-Submit: Yilun Lin <yllin@chromium.org>\nReviewed-by: Aseda Aboagye <aaboagye@chromium.org>\nCommit-Queue: Yilun Lin <yllin@chromium.org>",1,0.9196829199790956,GPIO,"driver/charger/rt946x.c, include/config.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,980e781552164e54485b13e03ab9897fefc2a45d,770f45fac4c7b33e7149ea7906ee5a6eeb852425,Nicolas Boichat,2019-06-24,"chip/stm32/gpio: Disable external interrupts in gpio_pre_init\n\nAfter a sysjump, external interrupts are left enabled. However,\nexti_events is reset to 0, so upon receiving an interrupt,\ngpio_interrupt will call the handler for signal 0 (the first\nGPIO_INT defined in gpio.inc) for these sources.\n\nThis is obviously very wrong, and the easiest (and most robust) way\nto fix this is to disable all interrupts on sysjump, and let the\nnew code re-enable if desired.\n\nBRANCH=none\nBUG=chromium:977950\nTEST=On kukui, with following CL, trigger a watchdog (stop daisydog;\n     echo > /dev/watchdog), see that no interrupt is generated.\n\nChange-Id: Ic55262f8b8dd9d154619cb0620e1889b3da3feec\nSigned-off-by: Nicolas Boichat <drinkcat@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1673950\nReviewed-by: Yilun Lin <yllin@chromium.org>\nReviewed-by: Daisuke Nojiri <dnojiri@chromium.org>",1,0.999440371990204,GPIO,chip/stm32/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9ed5a4910c477f418ba200252cd6696339ee5ba5,f38fff278e84120b3b59ced556ef562f573b45b1,Daisuke Nojiri,2019-07-11,tablet-mode: Fix header file guard and API definitions\n\nThis patch adds a usual inclusion guard (#ifdef __CROS_EC_*_H) and\nfixes API descriptions.\n\nSigned-off-by: Daisuke Nojiri <dnojiri@chromium.org>\n\nBUG=none\nBRANCH=none\nTEST=buildall\n\nChange-Id: I96149cfe76cff7ab85be4785252a600b565e4a92\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1696913\nReviewed-by: Daisuke Nojiri <dnojiri@chromium.org>\nCommit-Queue: Daisuke Nojiri <dnojiri@chromium.org>\nTested-by: Daisuke Nojiri <dnojiri@chromium.org>\nAuto-Submit: Daisuke Nojiri <dnojiri@chromium.org>,1,0.9996663331985474,CROS_EC,include/tablet_mode.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,2d4d05f6667d1fe26f9e9147fe8d6216c0679975,db49bc03b9b816e8c902a48478a18b9abe52b9a7,CHLin,2019-06-13,"driver: IO expander: nct38xx: add support for NCT38XX series chips\n\nNuvoton TCPC NCT38XX series chips have some pins which can be used as\nGPIO function. we can treat it as the IO expander chip also.\nThis commit adds the driver to support it.\n\nBRANCH=none\nBUG=none\nTEST=No error for ""make buildall""\nTEST=Apply this and related CLs, manually test each API, make sure each\nfunction works correctly with NCT3807 and NCT3808 at the same time.\n\nChange-Id: I2254c2e867445e55d1c261172e4b7175d22f28ef\nSigned-off-by: CHLin <CHLIN56@nuvoton.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1657859\nCommit-Queue: CH Lin <chlin56@nuvoton.com>\nTested-by: CH Lin <chlin56@nuvoton.com>\nReviewed-by: Aseda Aboagye <aaboagye@chromium.org>",1,0.715349018573761,GPIO,"driver/build.mk, driver/ioexpander_nct38xx.c, driver/ioexpander_nct38xx.h, driver/tcpm/nct38xx.h, include/config.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,fa6f77cd0da5b2f17494201e0770d1c8d550b7f4,73bb9370b182e4f46d37529365cb4eee78bf7c6f,Vadim Bendebury,2019-07-31,"g: allow I2CS operate without hardware resets\n\nIt is not always possible to rely on PMU for resetting the I2CS\ncontroller. Most of the AP firmware versions deploy the 'I2C unwedge'\ncycle when coming out of reset, but not all of them, this is why Cr50\nneeds to be able to recover on its own in case there was a crash and\nthe I2C bus was left mid transaction with the H1 holding down the SDA\nline.\n\nA GPIO is dedicated to monitor the I2CS_SDA line during reset. If the\nline is kept low, it could be a sign of a 'wedged' controller. The g\nI2CS FSM will reset any time the I2C 'stop' condition is detected.\n\nThe create the 'stop' condition the I2C_SCL input is disconnected from\nthe bus and connected to an internal GPIO, then I2C_SCL level is set\nto 'high' and register inverting the I2C_SDA value is toggled, which\nlooks like a transition from zero to one to the controller. thus\ncreating the 'stop' condition.\n\nBRANCH=cr50, cr50-mp\nBUG=b:135772657\n\nTEST=the test was ran on a Pyro device, which uses I2C for\n     communication with H1 and which AP firmware does not deploy the\n     'I2C unwedge' cycle.\n\n     Test instrumentation involved setting a Chrome OS startup file\n     such that once booted, the AP starts continuously polling TPM for\n     value of an NVMEM index, creating I2C traffic. The host\n     workstation sends the 'apreset cold' command to the EC within a\n     few seconds of Chrome OS coming up.\n\n     First run a special Cr50 image which is not resetting I2CS using\n     PMU on TPM restarts, is was not trying to unwedge the stuck I2C\n     bus. On five experiments, it takes on average 32 reboots for\n     until I2C bus is locked up and the DUT falls into recovery.\n\n     Then loaded the Cr50 image with this patch and ran the test\n     again, it survived for 150 cycles without a problem.\n\nChange-Id: Iffec33f97557e3acfd1cd5fb76ba158f8c23b608\nSigned-off-by: Vadim Bendebury <vbendeb@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1730143\nReviewed-by: Mary Ruthven <mruthven@chromium.org>",1,0.9822668433189392,GPIO,"board/cr50/board.c, board/cr50/board.h, board/cr50/gpio.inc, chip/g/i2cs.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,87d1b1904dc58fbadd21cd5c7c6b03da2e42d077,bd381a6ae29a4ed62d5519f2d2b3ea05ce17f23e,Namyoon Woo,2019-10-04,cr50: correct the comment on ENTERING_RW in gpio.inc\n\nThe previous comments were not correct. ENTERING_RW is not a GPIO\nat H1. The reason of marking it unimplemented in gpio.inc is to\navoid the compile error from cros FW common module.\n\nBUG=None\nBRANCH=cr50\nTEST=make buildall.\n\nChange-Id: Ieecbc9128e4071accbe4408d41ec51cefb68cffc\nSigned-off-by: Namyoon Woo <namyoon@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1842031\nReviewed-by: Vadim Bendebury <vbendeb@chromium.org>\nReviewed-by: Daisuke Nojiri <dnojiri@chromium.org>,1,0.9878740906715392,GPIO,board/cr50/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,334974ad85adc097dd942ed703590e47639d30c4,dc2e624d8387c34da2ea65a916985a147c814a48,CHLin,2019-10-07,"npcx: espi: guard to call power_signal_interrupt\n\nThe source of the SLP_Sx power signals can come from only either GPIO\nor virtual wire. The firmware now assumes that, when the GPIO is chosen,\n(i.e. CONFIG_HOSTCMD_ESPI_VW_SLP_SIGNALS is not enabled.)\nthere should be no virtual wire SLP_Sx event is triggered.\nHowever if the host accidentally sends a SLP_Sx VW to EC, EC will call\nthe power_singal_interrput(signal) by passing an invalid enum signal\nnumber. (i.e. The index is of the range of GPIO table.)\nIt may cause the system problematic when the firmware uses the\nenum signal number to access the GPIO table.\n\nBUG=b:141730279\nBRANCH=none\nTEST=No error for ""make buildall""\nTEST=Test on trembyle, the crash symptom can be fixed.\n\nChange-Id: I0fa606f812b377d6616e314ca1f1c9675a04e2a8\nSigned-off-by: CHLin <CHLIN56@nuvoton.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1844658\nReviewed-by: Edward Hill <ecgh@chromium.org>\nCommit-Queue: Edward Hill <ecgh@chromium.org>\nTested-by: Edward Hill <ecgh@chromium.org>",1,0.9992890357971193,GPIO,chip/npcx/espi.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,29b062e276b8d55788cd7157b9b38a584ca4a62f,2461586d902615cf53f335c7d9ba161533dde4b8,Keith Short,2019-10-09,"power: Fix CONFIG_HOSTCMD_ESPI_VW_SLP_SIGNALS checks\n\nRegardless of the state of CONFIG_HOSTCMD_ESPI_VW_SLP_SIGNALS, if\nCONFIG_HOSTCMD_ESPI is enabled, then the AP can still generate virtual\nwire interrupts.\nReplace checks of CONFIG_HOSTCMD_ESPI_VW_SLP_SIGNALS for power signals\nwith CONFIG_HOSTCMD_ESPI.\n\nThis fixes a processor exception that was caused by siglog_add() when\nthe AP generated a virtual wire interrupt. The VW signals start at\nGPIO_COUNT so were causing buffer overflows of gpio_list[].\n\nBUG=b:142406787\nBRANCH=none\nTEST=buildall -j\nTEST=Enable CONFIG_BRINGUP on kohaku.  Without change RO causes\nprocessor exception, with change RO and RW boots and AP boots.\n\nChange-Id: I81ab6f2fed217f5aad3ca7fae64c850e3af49f43\nSigned-off-by: Keith Short <keithshort@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1850275\nReviewed-by: Denis Brockus <dbrockus@chromium.org>\nReviewed-by: Edward Hill <ecgh@chromium.org>",1,0.9996945858001708,GPIO,power/common.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,6136a62b472f028329863e4f5adb9464d68deafa,3e3135b1b9ad2ff1a0d8f1b7448fd2c2f8198adb,Abe Levkoy,2019-10-25,"eSPI: Configure SLP_S3, SLP_S4 separately\n\nSplit the configuration option CONFIG_HOSTCMD_ESPI_VW_SLP_SIGNALS into\nseparate options controlling SLP_S3 and SLP_S4. Allow volteer to\nconfigure SLP_S3 as a GPIO and SLP_S4 as an eSPI virtual wire. Cause a\nbuild error if virtual wires are configured, but eSPI is not.\n\nBUG=b:139553375,b:143288478\nTEST=make buildall\nTEST=Build volteer with CONFIG_HOSTCMD_ESPI_VW_S4 defined but\nCONFIG_HOSTCMD_ESPI undefined; observe build error\nBRANCH=none\n\nChange-Id: I8c6737e2ccb1a77a882e5fa65c6eddb342209b61\nSigned-off-by: Abe Levkoy <alevkoy@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1881758\nReviewed-by: Keith Short <keithshort@chromium.org>",1,0.9833475947380066,GPIO,"baseboard/dragonegg/baseboard.h, baseboard/intelrvp/baseboard.h, baseboard/kalista/baseboard.h, baseboard/volteer/baseboard.h, board/akemi/gpio.inc, board/atlas/board.h, board/dragonegg/gpio.inc, board/dratini/gpio.inc, board/eve/board.h, board/fizz/board.h, board/fizz/gpio.inc, board/hatch/gpio.inc, board/helios/gpio.inc, board/kindred/gpio.inc, board/kohaku/gpio.inc, board/mchpevb1/board.h, board/nami/board.h, board/nautilus/board.h, board/nautilus/gpio.inc, board/npcx7_evb/board.h, board/poppy/board.h, board/poppy/gpio.inc, board/rammus/board.h, board/tglrvpu_ite/gpio.inc, board/volteer/board.h, board/volteer/gpio.inc, chip/npcx/espi.c, include/config.h, power/intel_x86.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,cf54e8664faaed51f4d622f84d6475f90f53e06e,b3cb8a6f818f425bfe11b817d7b873dd36d239a8,Jett Rink,2019-11-01,usbc: fix vbus discharge path for GPIO\n\nCode on Tot assumes that port count was the port to\ndischarge instead of port parameter\n\nBRANCH=none\nBUG=none\nTEST=verified with unit test (in this CL)\n\nChange-Id: I17658a0c555f9cea56fa4ec1652e0faf62e3d6cc\nSigned-off-by: Jett Rink <jettrink@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1896125,1,0.9996907711029052,GPIO,"board/host/gpio.inc, common/usbc/usb_pe_drp_sm.c, fuzz/usb_pd_fuzz.c, test/test_config.h, test/usb_pe_drp.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5b30bc23812eb0d54789851a5b951b364d28f635,e73c807595eba1bc1a1b575fb12f252522cffca3,Shelley Chen,2019-11-20,all hatch variants: Assign SYS_RST_ODL to GPIOC5\n\nThere is an error where SYS_RST_ODL is assigned to GPIO02 where it is\nactually assigned to GPIOC5 in the schematics.  This should cause AP\nreset to fail from the ec console.\n\nBUG=b:141476349\nBRANCH=hatch\nTEST=None (I don't have a hatch board to test this out on)\n\nChange-Id: I855a65489ce974ee92be4bf51a83d5af40e4e2da\nSigned-off-by: Shelley Chen <shchen@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1928421\nReviewed-by: Furquan Shaikh <furquan@chromium.org>\nCommit-Queue: Furquan Shaikh <furquan@chromium.org>\nTested-by: Furquan Shaikh <furquan@chromium.org>,1,0.999448835849762,GPIO,"board/akemi/gpio.inc, board/dratini/gpio.inc, board/hatch/gpio.inc, board/helios/gpio.inc, board/kindred/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,fee6e280e6729276e061fad8594cb2d29472411d,d112a590dd8cdebca2aaff6435345f0cd31903d8,Josh Tsai,2019-12-04,stryke: Assign SYS_RST_ODL to GPIOC5 and make sure EC_RST_ODL is LOCKED\n\nThere is an error where SYS_RST_ODL is assigned to GPIO02 where it is\nactually assigned to GPIOC5 in the schematics.\n\nBUG=b:145369657\nBRANCH=none\nTEST=make buildall\n\nChange-Id: I26a4b37baf160714bc07d8f9eb5df7234e76d96e\nSigned-off-by: Josh Tsai <josh_tsai@compal.corp-partner.google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1948701\nReviewed-by: Ruby Lee <ruby_lee@compal.corp-partner.google.com>\nReviewed-by: Paul Fagerburg <pfagerburg@chromium.org>,1,0.9995723366737366,GPIO,board/stryke/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,50f667f8531bd1b9c9b8408b7f96d294196e9b6e,e3f009f7773cc40f86b01326fe451e797b3f5080,Andrew McRae,2019-12-23,"puff: Change default EC GPIO to enable MST.\n\nThe MST has two open drain disable GPIOs, one wired to the EC\nand one to the CPU.\nFix the EC GPIO so that it doesn't disable the MST by default.\n\nBRANCH=none\nBUG=b:146368608\nTEST=EC buildall, ran on puff.\nSigned-off-by: Andrew McRae <amcrae@google.com>\n\nChange-Id: Idf3673f2c01896a3e69bc0d0ab4e2bea3a1b8951\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/1980098\nReviewed-by: Peter Marheine <pmarheine@chromium.org>\nTested-by: Andrew McRae <amcrae@chromium.org>\nCommit-Queue: Andrew McRae <amcrae@chromium.org>",1,0.849346399307251,GPIO,board/puff/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,e3cafbddc5b01bbaa7f976b7e6bb339003b3b693,49c0bcf54db9c9702637549b1425e6bfb78a3d96,Jerry Bradshaw,2020-03-06,"max32660: enabled gpio interrupts and fixed gpio level interrupts\n\nAdds enabling gpio interrupts in the gpio_init routine. The\ninitialization of the gpio level interrupts fixed.\n\nBRANCH=none\nBUG=none\nTEST=GPIO interrupts tested for each GPIO pin. Rising, Falling, and\n     Level interrupts tested.\n\nChange-Id: I83c625be8056831abfb3af7a6ebeec33d1651a73\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2092208\nReviewed-by: Tai-Hsu Lin <sheckylin@chromium.org>\nTested-by: Tai-Hsu Lin <sheckylin@chromium.org>\nCommit-Queue: Harry Cutts <hcutts@chromium.org>",1,0.9996674060821532,GPIO,chip/max32660/gpio_chip.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9be9876341fff089adb4ee3645c02f8d612ac4c4,d8993c5407e32334cac95d056b0036f399e20b4b,Andrew McRae,2020-04-16,Puff: Fix timer/GPIO assignments for fan tacho and HDMI CEC.\n\nBUG=b:152267803\nBRANCH=none\nTEST=Check fan tacho.\nSigned-off-by: Andrew McRae <amcrae@google.com>\nChange-Id: I993da17dd51dee7b3ffb174635346f6b9b1a51b0\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2152031\nReviewed-by: Peter Marheine <pmarheine@chromium.org>\nTested-by: Andrew McRae <amcrae@chromium.org>\nCommit-Queue: Andrew McRae <amcrae@chromium.org>,1,0.9993910789489746,GPIO,"board/puff/board.c, board/puff/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,ea9bcbd8a2f76cdcc341a8d183838547bf347874,2701bf1ba764b9d0da83e837c1ac8d4608a64d11,Sooraj Govindan,2020-05-15,"power/icelake: Don't cache GPIO_PCH_DSW_PWROK\n\nThere is a potential race condition for passthrough DSW_PWROK pin as the\nPCH_DSW_PWROK is set to low by chipset_force_shutdown() and is not\nupdated by dsw_pwrok_pass_thru(). To avoid this, use current values of\nEC_DSW_PWROK and PCH_DSW_PWROK to set the passthrough value.\n\nBUG=b:150985246\nBRANCH=None\nTEST=`make -j buildall`\n\nSigned-off-by: Sooraj Govindan <sooraj.govindan@intel.com>\nChange-Id: I0249a948ea8814cbc3462630e99a471010a056df\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2204337\nTested-by: Sooraj Govindan <sooraj.govindan@intel.corp-partner.google.com>\nReviewed-by: Vijay P Hiremath <vijay.p.hiremath@intel.com>\nReviewed-by: Keith Short <keithshort@chromium.org>\nReviewed-by: Aseda Aboagye <aaboagye@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>",1,0.999123990535736,GPIO,power/icelake.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a998171f5b4db4ab21cef33e80e5acc129b35097,a64e3930338fceeb258c16dfc6b713f022fbbf41,Wai-Hong Tam,2020-05-21,"Trogdor: Fix the current limitation of USB Type-A port\n\nThe ILIM pin of the load switch is through a MOFET to EC GPIO.\n\nWhen EC outputs this GPIO High, it closes the MOFET and applies\nimpedance (28.7K || 41.2K) to the ILIM pin. The load switch limits\nthe CDP current: 1413-1626 mA.\n\nWhen EC outputs this GPIO Low, it opens the MOFET and applies\nimpedance (28.7K) to the ILIM pin. The load switch limits the\nSDP current: 825-989 mA.\n\nThe original GPIO default to Low was wrong that actually limits\nthe SDP current. Should make it default to High, to limit the CDP\ncurrent.\n\nBRANCH=None\nBUG=b:156965411\nTEST=Applied a load to the USB Type-A port and checked it can\nsource ~5V @ 1.5A.\n\nChange-Id: I1d8d52d1a82b5f837bc1a2de544425c8f2aff759\nSigned-off-by: Wai-Hong Tam <waihong@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2211958\nReviewed-by: Stephen Boyd <swboyd@chromium.org>\nReviewed-by: Alexandru M Stan <amstan@chromium.org>",1,0.9995915293693542,GPIO,"board/lazor/gpio.inc, board/trogdor/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f6424dd187d7123c90f4d7a16d08e4ca01370694,8a7666863b51b8dc7cc1be467cd9c41c3dd5e932,Zick Wei,2020-05-25,driver/temp_sensor: fix tmp432 compile issue\n\ntemp sensor tmp432 will compiler fail when\nboard define CONFIG_TEMP_SENSOR_POWER_GPIO.\n\nBUG=b:154189125\nBRANCH=none\nTEST=make buildall\n\nSigned-off-by: Zick Wei <zick.wei@quanta.corp-partner.google.com>\nChange-Id: I3037a6a114b39568a42bbe2bf1f4da99a30d2044\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2214448\nReviewed-by: Denis Brockus <dbrockus@chromium.org>,1,0.9997090697288512,GPIO,driver/temp_sensor/tmp432.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,766553c62683bd93bea403f25219e3ae5ab921e5,2bb86028ddaa556fcb5edbaf0d44697e4e3bae22,Zhuohao Lee,2020-05-25,"flash_fp_mcu: fix the volteer gpio setting\n\nDue to the latest coreboot change, the gpiochip252 and gpiochip445\nwere removed and the gpiochip152 was added. Besides, the GPIO pin\nalso changed. This patch fixes the gpio pin setting.\n\nBUG=b:156993750\nBRANCH=none\nTEST=ran flash_fp_mcu on the Volteer\n\nChange-Id: I54082eea90e85746976d427523cfc0b53e87ddda\nSigned-off-by: Zhuohao Lee <zhuohao@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2214876\nTested-by: Jesper Lin <jesper_lin@wistron.corp-partner.google.com>\nReviewed-by: Tom Hughes <tomhughes@chromium.org>\nReviewed-by: Alex Levin <levinale@chromium.org>",1,0.9994490742683412,GPIO,util/flash_fp_mcu,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3bb7d7b0e62a5845ba137446b4083c32a83240c9,9397f9357992b8719eb42054d0bf1e75a96cfd12,Wai-Hong Tam,2020-06-17,"sc7180: Handle the exception cases of power on\n\nMake the switchcap and PMIC functions return a success or error\ncode. In the power on sequence, an error happening in the middle\nwill make it skip the remaining steps, and then calls the power\noff sequence to restore back S5. The power off sequence don't\ncare about any error and perform the entire procedure.\n\nBRANCH=None\nBUG=b:159101052\nTEST=Manually trigger power on and power off.\nTEST=Forced to a switchcap error, it went back to S5.\n> gpioset DA9313_GPIO0 0\n> power on\nRequesting power on\n> RTC: 0x5ed1d4a7 (1590809767.00 s)\n[7177.018477 power state 4 = G3->S5, in 0x0005]\nRTC: 0x5ed1d4a7 (1590809767.00 s)\n[7177.019409 power state 1 = S5, in 0x0005]\n[7177.019918 power on 4]\nRTC: 0x5ed1d4a7 (1590809767.00 s)\n[7177.021168 power state 5 = S5->S3, in 0x0005]\n[7177.021700 power button released in time]\n[7177.024143 set_system_power(1)]\n[7177.076708 SWITCHCAP NO POWER GOOD!]\n[7177.187407 set_system_power(0)]\nRTC: 0x5ed1d4a7 (1590809767.00 s)\n[7177.188564 power state 1 = S5, in 0x0005]\n\nChange-Id: Iaf2676d84513056b3a1deb4f4c554c607e588c37\nSigned-off-by: Wai-Hong Tam <waihong@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2250668\nReviewed-by: Alexandru M Stan <amstan@chromium.org>\nReviewed-by: Stephen Boyd <swboyd@chromium.org>",1,0.9996659755706788,GPIO,power/sc7180.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,27ee378bb78a299a0983379be83eb6d55860b4ae,d3ba44c0619ec84fc5a3615c4fa441ee44e0d645,Daisuke Nojiri,2020-06-08,"power: Clear AP_IDLE when waking up by PB or LID\n\nCurrently, AP_IDLE is cleared when EC wakes up by the power button or\nthe lid open.\n\nThis patch extends the logic from CONFIG_EXTPOWER_GPIO to\nCONFIG_EXTPOWER so that the bug (chromium:1073960) can be also fixed\non the boards using non-GPIO method for extpower_is_present.\n\nTested as follows on Trembyle:\n1. Put DUT in hibernation.\n2. Wake up DUT and observe:\n  a. When waking up by power button, AP is turned on.\n  b. When waking up by lid open, AP is turned on.\n  c. When waking up by AC, AP is left idle.\n\nBUG=b:157077589, chromium:1073960, b:159350276\nBRANCH=none\nTEST=See above.\n\nSigned-off-by: Daisuke Nojiri <dnojiri@chromium.org>\nChange-Id: I944aaac036ce58659e81b7021e52a3291f31e951\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2283946\nReviewed-by: Jett Rink <jettrink@chromium.org>",1,0.9996606111526488,GPIO,"common/vboot/efs2.c, power/common.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f8229b2b9c2a49d9b69765e946e00c0ce90048a4,0f982a35e978febfc1bab45d1afc048e0c78968a,Marco Chen,2020-07-21,"bobba: fix triggering condition for PPC interrupt of SYV682A\n\nThe ALERT_L of SYV682A will be kept low when there are any pending bits\nwaited for host to process and the driver itself will maintain the\nflags like OCP and 5V_OC by monitoring the the CONTROL_4 and STATUS\nregisters. As a result\n    1. we need to enable both GPIO_INT_[FALLING|RISING] in order to set\n       / clear self maintained flags.\n    2. CONFIG_USBC_PPC_DEDICATED_INT is defined to monitor ALERT_L\n       status by reading the GPIO state directly.\n\n BUG=b:154772847, b:161762373\n TEST=Check the interrupt handler is triggered twice for OC_5V set\n and cleared by PPC.\n\nChange-Id: I8640e4db878921be753eb6bd8d928a2702e73eeb\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2309522\nTested-by: Marco Chen <marcochen@chromium.org>\nCommit-Queue: Marco Chen <marcochen@chromium.org>\nReviewed-by: Eric Herrmann <eherrmann@chromium.org>\nReviewed-by: Diana Z <dzigterman@chromium.org>",1,0.9997325539588928,GPIO,"board/bobba/board.c, board/bobba/board.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,583fb37a3169cca8345799dbdd5ee7fde2f24dd1,2076e40db6b39396b4a3a9265d1fe52e99b414b7,Yu-An Chen,2020-07-30,dood: fix triggering condition for PPC interrupt of SYV682A\n\nThe ALERT_L of SYV682A will be kept low when there are any pending bits\nwaited for host to process and the driver itself will maintain the\nflags like OCP and 5V_OC by monitoring the the CONTROL_4 and STATUS\nregisters. As a result\n    1. we need to enable both GPIO_INT_[FALLING|RISING] in order to set\n       / clear self maintained flags.\n    2. CONFIG_USBC_PPC_DEDICATED_INT is defined to monitor ALERT_L\n       status by reading the GPIO state directly.\n\nBUG=b:162221150\nBRANCH=octopus\nTEST=Check the interrupt handler is triggered twice for OC_5V set\nand cleared by PPC.\nSigned-off-by: Yu-An Chen <yu-an.chen@quanta.corp-partner.google.com>\n\nChange-Id: Ief175f8b6044266e3e8e47d5532da86b4fc2fec9\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2328946\nReviewed-by: Henry Sun <henrysun@google.com>\nCommit-Queue: Henry Sun <henrysun@google.com>\nTested-by: Henry Sun <henrysun@google.com>,1,0.9997329115867616,GPIO,"board/dood/board.c, board/dood/board.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,381ff0ad0a67fe74eeb41d4fdfc08de710349fd6,3ba08d0ca0e423d9717d7c447bef1b9a658b08c7,Dino Li,2020-06-03,"riscv-rv32i: Enable FPU extension only if CONFIG_FPU is enabled\n\nAt default, CONFIG_FPU option isn't enabled. But currently,\nFPU extension is always enabled when building FW image.\nThis will cause problem if hardware doesn't support the extension\nand floating-point instructions are generated. So we fix it.\n\nBUG=none\nBRANCH=none\nTEST=Floating-point instructions are used for floating point\n     operation if CONFIG_FPU is enabled. Otherwise, library\n     routines are used.\n\nSigned-off-by: Dino Li <Dino.Li@ite.com.tw>\nChange-Id: Ifb77bd0cca1158ca7f6637fa9ec025ac8712bbfd\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2227779\nReviewed-by: Vincent Palatin <vpalatin@chromium.org>\nCommit-Queue: Vincent Palatin <vpalatin@chromium.org>",1,0.999723732471466,FPU,core/riscv-rv32i/build.mk,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5a0919d5d2bc4ed9cd2655181aa1024dfe46d83f,61ee794d31b4429b8991043ad35e983adf776701,Wai-Hong Tam,2020-09-02,"lazor: Fix turning switchcap off when sysjump to RW\n\nThe polarity of the enable pins of DA9313 and LN9310 are different.\nDA9313 is active-high while LN9310 is active-low. For power saving,\nthe enable pin of LN9310 has an external pull-up; so EC should\nconfigure it open-drain.\n\nThe existing code causes an issue that the switchcap is turned off\nwhen sysjump to RW. We should configure the enable pin properly.\n\nDA9313 is GPIO-controlled without needing any configuration. So the\ndefault setting in gpio.inc should favors DA9313, i.e. GPIO_OUT_LOW;\notherwise, DA9313 may turn on unexpectedly.\n\nIn the board init, should not set the level; otherwise, it will\noverride its level and shutdown the switchcap when sysjump to RW.\n\nLN9313 is similar but a bit tricky. As the gpio.inc configures it\nGPIO_OUT_LOW. When sysjump to RW, will output push-pull a short\nperiod of time. As it outputs LOW, should be fine.\n\nThe GPIO changes like:\n (1) EC boots from RO -> high-Z\n (2) GPIO init according to gpio.inc -> push-pull LOW\n (3) This function configures it -> open-drain HIGH\n (4) Power sequence turns on the switchcap -> open-drain LOW\n (5) EC sysjumps to RW\n (6) GPIO init according to gpio.inc -> push-pull LOW\n (7) This function configures it -> open-drain LOW\n\nBRANCH=None\nBUG=b:163867792, b:151393598\nTEST=Tested on Lazor: when sysjump to RW, switchcap not off.\n\nChange-Id: Iec8ea7e16f525fa431230546d712c3e081fdab5c\nSigned-off-by: Wai-Hong Tam <waihong@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2391830\nReviewed-by: Stephen Boyd <swboyd@chromium.org>",1,0.9994465708732604,GPIO,"board/lazor/board.c, board/lazor/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9eda976fbf1e49436c4973cf138211f4738d2cce,7428f14d3db1d8c70c826f5adad25a4f6fbf7766,Tom Hughes,2020-10-29,"chip/stm32: Fix transport detection in RO.\n\nThe FPSENSOR task only runs in RW, not RO, so\nIS_ENABLED(HAS_TASK_FPSENSOR) is false in RO. As a result, we were\nreturning the wrong protocol information for bloonchipper boards with\nUART when running in RO.\n\nBRANCH=none\nBUG=b:171370392\nTEST=none\nTEST=Using dragonclaw v0.2 and servo_micro:\n     ./test/run_device_tests.py -t fpsensor_uart_ro\n     ./test/run_device_tests.py -t fpsensor_uart_rw\n     ./test/run_device_tests.py -t fpsensor_spi_ro\n     ./test/run_device_tests.py -t fpsensor_spi_rw\n\nSigned-off-by: Tom Hughes <tomhughes@chromium.org>\nChange-Id: Iccf801ef453a5dc6d8a21df11af41c60818781b5\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2508861\nReviewed-by: Bhanu Prakash Maiya <bhanumaiya@google.com>\nReviewed-by: Yicheng Li <yichengli@chromium.org>",1,0.9997150301933287,HAS_TASK_FPSENSOR,"board/hatch_fp/build.mk, chip/stm32/host_command_common.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,8e7bfda78ebf723aee95674c86b33b6deec9365d,684642811f23490f52128d5e80140c410e786c37,Zick Wei,2020-11-02,"dooly: update volume down gpio\n\nIn previous CL:2504123, we replace volume down button gpio after\nEC get board version from CBI, which is too late for interrupt initial,\nso we fix volume down button on GPIO93.\n\nBUG=b:172034756\nBRANCH=puff\nTEST=verify volume down button work on board version 2.\n\nSigned-off-by: Zick Wei <zick.wei@quanta.corp-partner.google.com>\nChange-Id: Ib9deae601a00efc8df456bd6c382e4e0d95ea2a9\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2513413\nCommit-Queue: Andrew McRae <amcrae@chromium.org>\nReviewed-by: Andrew McRae <amcrae@chromium.org>",1,0.9309603571891784,GPIO,"board/dooly/board.c, board/dooly/board.h, board/dooly/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,651090dfdaf33751200492432ce0ecfb4343f762,25d19620d4c71ed5c54b04ab65c3b7ecd6de3c29,Matt Ziegelbaum,2020-11-20,"genesis: hardcode barrel jack connected state\n\nThe proto boards have an error in which GPIO_BJ_ADP_PRESENT_L never\npulls low due to an error in the board layout. Since it's not possible\nto boot genesis with type-C power anyway, just hardcode the connection.\n\nBUG=b:173566595\nTEST=Boot to AP\nBRANCH=None\n\nChange-Id: I56b4393b5ddce03ac79158c41f66e3463c064b83\nSigned-off-by: Matt Ziegelbaum <ziegs@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2552227\nReviewed-by: Joe Tessler <jrt@chromium.org>",1,0.9996898174285888,GPIO,board/genesis/board.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9094a1b13aaec6863d263042bdb4b6d9ecc48a65,8483283989e7d6080b1d757cf5309a97efd2950d,Yuval Peress,2020-11-30,"zephyr: fix build for keyboard shim\n\nSee platform/ec/common/build.mk for reference. The use of\nkeyboard_scan.c should only be allowed when HAS_TASK_KEYSCAN\nis defined. As such, we should always set HAS_TASK_KEYSCAN to\n1 if CONFIG_PLATFORM_EC_KEYBOARD is defined. Further,\nCROS_EC_TASK_LIST was defined per project and it doesn't need\nto be, we can instead define it once for all boards depending\non which tasks are set to 1 in shimmed_tasks.h\n\nNote that shimmed_tasks.h can still be used in tests.\n\nBRANCH=none\nBUG=none\nTEST=zmake testall\n\nCq-Depend: chromium:2566421\nSigned-off-by: Yuval Peress <peress@chromium.org>\nChange-Id: Id0ed49dd49e3c4eb2ac23184cf943c91dcd261eb\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2567560",1,0.9996925592422484,"CROS_EC, HAS_TASK_KEYSCAN, PLATFORM_EC, PLATFORM_EC_KEYBOARD","include/config.h, zephyr/Kconfig, zephyr/Kconfig.powerseq, zephyr/Kconfig.tasks, zephyr/shim/include/shimmed_task_id.h, zephyr/shim/include/shimmed_tasks.h, zephyr/shim/src/tasks.c",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,76b6c1082a5bb716cca5bfcbb1fb0dc2034db2ec,11dda529f98acf1fdbbc1be0cf39ff8801ea25f8,Dawid Niedzwiecki,2020-12-15,zephyr: fix misspeling in eSPI shim\n\nUse CONFIG_PLATFORM_EC_POWERSEQ instead of CONFIG_PLATFORM_EC_POWERseQ.\n\nBUG=b:171815541\nBRANCH=none\nTEST=volteer power sequencing to S0\n\nSigned-off-by: Dawid Niedzwiecki <dn@semihalf.com>\nChange-Id: If61717da8e0d80e1d55ea3d7f627105909c1650e\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2592491\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>\nCommit-Queue: Jack Rosenthal <jrosenth@chromium.org>,1,0.9996908903121948,"PLATFORM_EC, PLATFORM_EC_POWERSEQ",zephyr/shim/src/espi.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,18c253631602adb4ed84d827048487d613398ae3,2cf881abe17a5f927479b9b197e4fbca7b80ae8e,Jan Dabros,2020-12-10,"servo_v4p1: Fix GPIO assignments in ioexpanders\n\nFix improper GPIO connections and add new ones in ioexpanders to match\nEVT hardware layout. Old assignments were implemented for PVT design.\n\nBUG:b:144776402,b:168385201\nBRANCH:master\nTEST:make -b servo_v4p1.\n     Verify that usb redriver TUSB1064 is working (DP connection).\n     Verify that DUT charger is working correctly.\n\nSigned-off-by: Jan Dabros <jsd@semihalf.com>\nChange-Id: I8229690440a70fd78c5b5671368212d4eb325d51\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2582666\nReviewed-by: Brian Nemec <bnemec@chromium.org>",1,0.9924132227897644,GPIO,"board/servo_v4p1/board.c, board/servo_v4p1/gpio.inc, board/servo_v4p1/ioexpanders.c, board/servo_v4p1/ioexpanders.h, board/servo_v4p1/tusb1064.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4d4b1307e02c4b1faf56fa5918ab2962a4a42aea,53af9d188fb7e714623d4ebd4e78e83090c09e74,Simon Glass,2020-12-17,"zephyr: Fix missing GPIO header in keyboard_raw\n\nFix the warning about npcx_get_gpio_dev() not being declared.\n\nBUG=b:174871569\nBRANCH=none\nTEST=build for zephyr, see the warning gone\n\nSigned-off-by: Simon Glass <sjg@chromium.org>\nChange-Id: Ic0ef6e85baf884fa2c0d0a09044fd1da606e4bb8\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2595221\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>",1,0.9996044039726256,GPIO,zephyr/shim/chip/npcx/keyboard_raw.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7cf197d455b3afc565f03abf0b911fd4a208a52e,51d7054e1bf0f1e5c5036eba09872033b1a14fa3,Yuval Peress,2020-12-26,"zephyr: tasks: Fix collision of shimmed_tasks.h\n\nThe issue here was initially found in https://crrev.com/c/2602440\nwhere it was difficult (also not guaranteed to work) to declare\ncustom tasks for tests. The issue was that in zephyr/test/tasks/\nthe file shimmed_tasks.h was used which is intended to replace\nzephyr/shim/include/shimmed_tasks.h. So far we've been lucky in\nthat the build was resolving this to the test instance, but this\nis not guaranteed.\n\nThis change does the following:\n1. If running CONFIG_ZTEST then we add a new CONFIG_HAS_TEST_TASKS\n   option that is defaulted to 'n'.\n2. If CONFIG_HAS_TEST_TASKS is set to 'y', then we'll try to include\n   shimmed_test_tasks.h which should be defined by the test and added\n   somewhere in the include path (see zephyr/test/tasks/ for example).\n3. We can now define custom tasks for tests. Note that in zephyr we\n   can just use normal tasks via CROS_EC_TASK and don't need to use a\n   special macro for test tasks.\n\nBRANCH=none\nBUG=b:172240633\nTEST=zmake testall\n\nSigned-off-by: Yuval Peress <peress@chromium.org>\nChange-Id: Ib99c8ec08923a7e958e045d45d1aa2ec5e841ed5\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2603458\nReviewed-by: Paul Fagerburg <pfagerburg@chromium.org>\nCommit-Queue: Paul Fagerburg <pfagerburg@chromium.org>",1,0.99972802400589,"CROS_EC, HAS_TEST_TASKS","zephyr/Kconfig, zephyr/shim/include/shimmed_task_id.h, zephyr/test/tasks/prj.conf, zephyr/test/tasks/shimmed_tasks.h, zephyr/test/tasks/shimmed_test_tasks.h",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3ab745a4517ec5b1ee7f0c9bea544ea6f33a5c53,8a90ce9d8668158b3437f7a5dd73a00aa004036e,Jack Rosenthal,2021-01-05,"zephyr: usbc: disable by default for devices without a battery\n\nFor devices without a battery (e.g., posix-ec), this code has compile\nissues.\n\nNote that it's still possible to have devices with USB-C but no\nbattery (e.g., Chromeboxes), so this is not a strict ""depends on"".  If\nwe make Chromeboxes in the future with Zephyr then we can either set\nPLATFORM_EC_USBC manually or re-evaluate (e.g., ""default y if\nCHROMEBOX"")\n\nBUG=b:176828988\nBRANCH=none\nTEST=less compile errors for posix-ec\n\nSigned-off-by: Jack Rosenthal <jrosenth@chromium.org>\nChange-Id: I0fe76199bd75b93c907fd79f571f5951c350b06f\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2611984\nReviewed-by: Yuval Peress <peress@chromium.org>",1,0.9991766810417176,"PLATFORM_EC, PLATFORM_EC_USBC",zephyr/Kconfig.usbc,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4731a54d82511c1824f523866f7fd28fedf60783,7e5f1b5a13524099088d365ea4261c65942dd069,Simon Glass,2021-01-14,"zephyr: Fix mistakes in PLATFORM_EC_USB_PD_DUAL_ROLE et al\n\nSome options have an extra 'EC_' in them and so don't actually enable\nthe feature in the EC. This was not noticed when originally enabled.\n\nFix these. This has the effective actually enabling some of the\noptions.\n\nBUG=b:175434113\nBRANCH=none\nTEST=make BOARD=volteer -j30\nWith a zephyr-chrome CL, build volteer on zephyr\n\nSigned-off-by: Simon Glass <sjg@chromium.org>\nChange-Id: I7ec61191352ebbb3cb2bc20febfeffef37620329\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2631087\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>\nReviewed-by: Keith Short <keithshort@chromium.org>",1,0.9996515512466432,"PLATFORM_EC, PLATFORM_EC_USB_PD_DUAL_ROLE",zephyr/shim/include/config_chip.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,bc13cbfc7ccd70aa76cd1e1ebd690661e60938a0,de6e089385317a4379fa2e884d11da4453784a00,Jack Rosenthal,2021-01-28,"zephyr: volteer: add forgotten power sequencing interrupt\n\nDoesn't appear to fix things, but clears an error message.\n\n> gpio_shim: No interrupt defined for GPIO PG_EC_DSW_PWROK\n\nBUG=none\nBRANCH=none\nTEST=message goes away\n\nSigned-off-by: Jack Rosenthal <jrosenth@chromium.org>\nChange-Id: Ic4d2c06376c75b4c4e03eb70824685ca47f00bb5\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2657438\nCommit-Queue: Keith Short <keithshort@chromium.org>\nReviewed-by: Keith Short <keithshort@chromium.org>\nReviewed-by: Simon Glass <sjg@chromium.org>",1,0.9996647834777832,GPIO,zephyr/projects/volteer/include/gpio_map.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,19f5f16aabec08d5dd5472f208b5ab617287ce47,f529543ee11ef105b904deaba9c7a8c0f5d76454,Simon Glass,2021-02-04,"zephyr: Add support for PD logging\n\nEnable support for this command. It is not actually used on volteer\nbut seems to be commonly used.\n\nBUG=b:175434113\nBRANCH=none\nTEST=build and boot zephyr on volteer and see no errors from\nEC_CMD_PD_GET_LOG_ENTRY command (0x115)\nAlso test ectool:\nlocalhost ~ # ectool pdlog\n2020-04-27 18:24:56.460 P0 SNK Charger PD 19776mV / 3000mA, max 20000mV / 3000mA\n\nSigned-off-by: Simon Glass <sjg@chromium.org>\nChange-Id: I30951537ac48c0929cb668cdd2af1e1675696378\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2676611\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>\nReviewed-by: Keith Short <keithshort@chromium.org>",1,0.9939507246017456,LOG,"zephyr/CMakeLists.txt, zephyr/Kconfig.usbc, zephyr/shim/include/config_chip.h",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9de7ceade2b3cbd9e520e2631e81c732c7df6dd9,3305860fcf1ddb612446f7fc44225bac79a37c95,Jacky Wang,2021-02-04,"icelake : fix power sequence behavior\n\nRemove powerok signal checking the current GPIO level step.\n\nWe found the GPIO_EC_AP_PCH_PWROK_OD did not setting to low\nwhen system shutdown. The signal EC_AP_PCH_PWROK_OD is\nconnect with signal IMVP9_VRDAY_OD.\nThe gpio_get_level get GPIO status from the EC register GPDMR\nand gpio_set_level set GPIO level by EC register GPDR.\nIf signal IMVP9_VRDAY_OD is low,\nthe EC GPDRM will read EC_AP_PCH_PWROK_OD status is low\neven the GPDR is set to High.\nWe remove the signal status check to make sure power sequence is expected.\n\nBUG=b:171450533\nBRANCH=firmware-dedede-13606.B\nTEST=BOARD=galtic\nCheck system can power on.\n\nSigned-off-by: Jacky Wang <jacky5_wang@pegatron.corp-partner.google.com>\nChange-Id: Ia8d8c096b15c09644432736df5ca5fc10d91c954\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2675322\nReviewed-by: Michael5 Chen <michael5_chen1@pegatron.corp-partner.google.com>\nReviewed-by: Aseda Aboagye <aaboagye@chromium.org>\nCommit-Queue: Aseda Aboagye <aaboagye@chromium.org>",1,0.9996453523635864,GPIO,power/icelake.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a6d373348764628d23bfd6a34efe74cbdaa1bfc1,823f0f3d40e3305072a75608ff4cd4057450b76b,Keith Short,2021-02-09,"volteer: fix USB C1 reset GPIO for Zephyr builds\n\nSwitch the USB C1 reset GPIO from the legacy pin\nusb_c1_rt_rst_odl_boardid_0 (used only on obsolete boards) to pin\nusb_c1_rt_rst_odl.\n\nBUG=b:179418486\nBRANCH=none\nTEST=zmake testall\nTEST=boot zephyr-ec on Volteer, verify I2C errors from retimer chip are\nfixed.\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: I93ca1b6aa03eeff1d385cb1e06f953cd6d8a05c9\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2683924\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>\nReviewed-by: Simon Glass <sjg@chromium.org>\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nCommit-Queue: Jack Rosenthal <jrosenth@chromium.org>\nCommit-Queue: Simon Glass <sjg@chromium.org>",1,0.9995924830436708,GPIO,zephyr/projects/volteer/boards/arm/volteer/volteer.dts,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,0189fc914366562c204e8556a0ac46ef24cc320e,478a75c70f3d9892c720d000d922b497c14b5edc,Yuval Peress,2021-02-12,"zephyr: volteer: fix incorrect RW memory offset\n\nThe CONFIG_CROS_EC_RW_MEM_OFF is not the offset in flash, but instead\nthe offset in RAM which should be identical to RO.\n\nSee chip/npcx/config_flash_layout.h\n\nBRANCH=none\nBUG=b:167392037\nTEST=build/flash volteer\n\nSigned-off-by: Yuval Peress <peress@chromium.org>\nChange-Id: I2ac9148eea30241f07afdac88556b721ebf643a8\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2693686\nCommit-Queue: Keith Short <keithshort@chromium.org>\nReviewed-by: Keith Short <keithshort@chromium.org>",1,0.9997112154960632,"CROS_EC, CROS_EC_RW, CROS_EC_RW_MEM_OFF",zephyr/projects/volteer/boards/arm/volteer/volteer_defconfig,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,0c0715bdadcd6aec298e52d1faf6b33e30769a5f,30e829b73bd4299059bb8b17e6c10bad17040e7f,Keith Short,2021-02-12,zephyr: Fix the CONFIG_CPU_PROCHOT_ACTIVE_LOW option\n\nThe KConfig option CONFIG_PLATFORM_EC_POWERSEQ_CPU_PROCHOT_ACTIVE_LOW\nwas not enabling the correct platform/ec option\nCONFIG_CPU_PROCHOT_ACTIVE_LOW.\n\nThis greatly speeds up booting the kernel on Zephyr builds as the EC was\npreviously always asserting PROCHOT to the AP.\n\nBUG=b:177604307\nBRANCH=none\nTEST=Run zephyr-ec on Volteer\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: Ib0d5b6e05d480806239447885be15f1041f0df2c\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2693755\nReviewed-by: Simon Glass <sjg@chromium.org>\nCommit-Queue: Simon Glass <sjg@chromium.org>,1,0.9994970560073853,"PLATFORM_EC, PLATFORM_EC_POWERSEQ, PLATFORM_EC_POWERSEQ_CPU_PROCHOT_ACTIVE_LOW",zephyr/shim/include/config_chip.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,142acc797b1dfc92f44c443103b361ad103a976f,a6c856587d102780215243a640284a1c6e16746e,Jan Dabros,2021-02-16,"servo_v4p1: Fix BC1.2 detection pin assignment for REV2\n\nREV1 of servo_v4p1 uses HOST_CHRG_DET as a GPIO which informs about\ndetecting extended-charge connection available (CDP or DCP). On REV2\nBC1.2 detection chip was replaced with another part (PI3USB9201) and\nthis pin is asserted when detection is completed. STM needs to query I2C\ninterface of BC1.2 chip in order to get detailed info about available\npower.\n\nHOST_CHRG_DET on REV2 should be used as a trigger for reading PI3USB9201\ndetection results. This will be implemented in future.\n\nBUG=b:144776402\nBRANCH=main\nTEST=build and flash servo_v4p1. After reboot, connect to console and\nverify that there is no ""BC1.2 charger unplugged"" message visible in the\nlog.\n\nSigned-off-by: Jan Dabros <jsd@semihalf.com>\nChange-Id: I421a82d5496b6e5280f5023878c610d04fae9283\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2697071\nReviewed-by: Vincent Palatin <vpalatin@chromium.org>\nReviewed-by: Aseda Aboagye <aaboagye@chromium.org>",1,0.9996291399002076,GPIO,board/servo_v4p1/ioexpanders.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,805f47818176fb2e9409a5a7d3c85139aac811e0,521fe55155e2809f8b284283d5dc7d39abac2eb8,Jack Rosenthal,2021-02-17,"zephyr: move gpio_commands.c to CONFIG_PLATFORM_EC list\n\nAdding ${PLATFORM_EC}/common/gpio_commands.c is the only file in this\nCMakeLists.txt which can get compiled without CONFIG_PLATFORM_EC=y.\n\nThis fixes it so that that including the platform/ec module in the\nbuild should do nothing unless CONFIG_PLATFORM_EC=y, which is\nimportant for non-EC projects (i.e., chameleon).\n\nBUG=b:180545676\nBRANCH=none\nTEST=zmake testall\nTEST=build chameleon with zmake (requires follow-on CLs)\n\nSigned-off-by: Jack Rosenthal <jrosenth@chromium.org>\nChange-Id: I604378b969f143e7b3f20a7858470330e093244f\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2702318\nReviewed-by: Simon Glass <sjg@chromium.org>",1,0.9994725584983826,PLATFORM_EC,zephyr/CMakeLists.txt,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,325741e0996235b89cd8b2b7ce6e4b59705f5507,8d0f74ea314e98b0cfd1f1722f5615e5831375fd,Aseda Aboagye,2021-02-24,"system: Fix ENTERING_RW GPIO name.\n\nIn haste, I misspelled the ENTERING_RW GPIO name.  This fixes it.\n(sorry)\n\nBUG=b:180965428,b:181051734,b:181085178\nBRANCH=dedede\nTEST=make -j buildall\n\nSigned-off-by: Aseda Aboagye <aaboagye@google.com>\nChange-Id: I0d2f3dece2dcf44a0e16923f500d68216bbadf33\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2719106\nReviewed-by: Diana Z <dzigterman@chromium.org>\nTested-by: Aseda Aboagye <aaboagye@chromium.org>",1,0.9996700286865234,GPIO,common/system.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,194c032415bddc6783ba9e52de02fa5bc159191d,6026b793f8abdf22907f9f9b143c4be307cdc832,Bhanu Prakash Maiya,2021-03-01,flash_fp_mcu: Fix Zork's gpiochip base from 320 -> 256\n\nOn Zork's SoC change was caused by changing the amount of reserved\nspace for GPIO banks from 0x300 to 0x400. This resulted in base change.\nPrevious: 512 - 192 = 320\nCurrent: 512 - 256 = 256\n\nBRANCH=none\nBUG=b:181349369\nTEST=1. Run flash_fp_mcu on Zork device with FW 13434.212\n\nSigned-off-by: Bhanu Prakash Maiya <bhanumaiya@google.com>\nChange-Id: Ied4a5fd9281d59f1bfa30a4ee9677f9a0a11387e\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2727863\nCommit-Queue: Tom Hughes <tomhughes@chromium.org>\nReviewed-by: Tom Hughes <tomhughes@chromium.org>,1,0.9927754402160645,GPIO,util/flash_fp_mcu,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,c104ea6ed92dd98a76c0de6332d9b1697a3eeeb6,063839556ea54fd89273e825cf806fbbfb0a6254,Gwendal Grignou,2021-03-01,"dooly: Fix TCS3400 configuration\n\nOn dooly, TCS3400 has an interrupt line to the EC, so we don't need to\nsimulate it.\nWhen we simulate and an interrupt line is present, 2 interrupts will be\ngenerated (one for a valid sample via GPIO, the other at preset\ntimeout). When the timeout interrupt pops, there are no sample ready, so\nthe EC will wait for a one for a long time and prevent other sensors\ndata to be gathered.\n\nBUG=b:177860358\nBRANCH=puff\nTEST=With an android AP pulling sensor data, check messages in\n/var/log/cros_ec.log like\n0218/071812.170000 [45076.224405 tcs3400_post_events RGBC not valid (0x4)]\n0218/071812.174000 [45076.228719 Screen Accel Missed 23 data collections at 2126184833 - rate: 16000]\nAre gone.\n\nSigned-off-by: Gwendal Grignou <gwendal@chromium.org>\nChange-Id: I213ab02000a030572ed15e34b44a4761df615e2c\n(cherry picked from commit e5cb0b01129bceb70811156d1b1845796e493ebb)\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2728697",1,0.9997182488441468,GPIO,board/dooly/board.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,55709d8850459e63c641924fad8f2fabd33cd5e4,c8834820cb706bb9b4b31575246e5c8be4621127,Yuval Peress,2021-03-02,"zephyr: Fix version command\n\nThe current config_chip used by Zephyr defaulted to setting the RO\nheader size and offset to 0 if the header was turned off. This isn't\ncorrect as the CONFIG_PLATFORM_EC_RO_HEADER just tells us whether or\nnot to generate the header, whereas the _SIZE and _OFFSET values\nshould still be there even in the RW image.\n\nNow running `version` from both the RO and RW image shows:\n\n21-03-02 21:28:21.455 Chip:    chromeos emu\n21-03-02 21:28:21.460 Board:   1\n21-03-02 21:28:21.486 RO:      _v2.0.7727+3f8b76fa7\n21-03-02 21:28:21.496 RW:      _v2.0.7727+3f8b76fa7\n21-03-02 21:28:21.497 Build:   _v2.0.7727+3f8b76fa7\n21-03-02 21:28:21.500          2021-03-02 21:01:09\n\nBRANCH=none\nBUG=b:181599007\nTEST=built/flashed volteer and ran `version` from both RO and RW\n     images\n\nSigned-off-by: Yuval Peress <peress@chromium.org>\nChange-Id: I435f224fc2b3b3a5ca54d3335ea8cd50e9ab5a2e\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2731287\nCommit-Queue: Keith Short <keithshort@chromium.org>\nReviewed-by: Keith Short <keithshort@chromium.org>",1,0.9996492862701416,"PLATFORM_EC, PLATFORM_EC_RO_HEADER",zephyr/shim/include/config_chip.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,1a7ba0f3822829ad69d860ee41bb4ae756c4756d,0d8575e5901a4b4e701c285d6b5a0694184587c4,Tom Hughes,2021-03-04,"chip/it83xx: Fix narrowing type warning when included from C++\n\nchip/it83xx/registers.h:861:63: error: constant expression evaluates to\n-1 which cannot be narrowed to type 'uint32_t' (aka 'unsigned int')\n[-Wc++11-narrowing]\n        [GPIO_KSI]   = { 0x00F01D08, 0x00F01D09, 0x00F01D26,         -1\n	},\n\nBRANCH=none\nBUG=b:144959033\nTEST=make buildall\n\nSigned-off-by: Tom Hughes <tomhughes@chromium.org>\nChange-Id: I029cb79e132ce18158440812b26aa57e770ce423\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2740561\nCommit-Queue: Denis Brockus <dbrockus@chromium.org>\nReviewed-by: Denis Brockus <dbrockus@chromium.org>",1,0.9997015595436096,GPIO,chip/it83xx/registers.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,276b8eb49a231fbdf12ae65fa8a0598df4a06777,49b090edfc5c06d7ac92ca36fc26b6827733e4dc,Simon Glass,2021-03-10,"zephyr: Correct the config check script\n\nThis currently looks for CONFIG options in the Kconfig files, but\nthese all have a PLATFORM_EC prefix. Fix this.\n\nAlso while we are here, combine the two sed expressions for config and\nmenuconfig and don't allow trailing spaces, since these should not be\npresent.\n\nBUG=b:181253613\nBRANCH=none\nTEST=cherry-pick Rob's CL http://crrev.com/c/2659282\nmake BOARD=volteer -j30\nSee that it doesn't warn about CCD_USBC_PORT_NUMBER anymore\n\nSigned-off-by: Simon Glass <sjg@chromium.org>\nChange-Id: Iddcd4aa7884a9f10a5260aa8e71b4131ba550389\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2749761\nReviewed-by: Denis Brockus <dbrockus@chromium.org>",1,0.998465895652771,PLATFORM_EC,util/check_allowed.sh,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,ced12f83ead3bf567918b6df733719f3117cb20c,aced2136d49090f4efc2a84601902e2997260e64,Keith Short,2021-03-10,zephyr: fix Kconfig name for console commands\n\nCleanup Kconfig options to match the convention of starting with\nCONFIG_PLATFORM_EC_CONSOLE_CMD_*.\n\nBUG=b:181794644\nBRANCH=none\nTEST=zmake testall\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: Ibed3d0371483b26c17f8f8c05c088694b6f3728d\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2756981\nReviewed-by: Simon Glass <sjg@chromium.org>\nCommit-Queue: Simon Glass <sjg@chromium.org>,1,0.9996174573898317,PLATFORM_EC,"zephyr/Kconfig.battery, zephyr/Kconfig.led, zephyr/Kconfig.motionsense, zephyr/Kconfig.usbc, zephyr/projects/volteer/prj.conf, zephyr/shim/include/config_chip.h",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4d1058bf105fb8c424ae1c9d55cd365ba61c9d7a,6c837a35edd6cd6ecc8d71f7a497acb652e1870f,Caveh Jalali,2021-03-18,"brya: Fix EC_GSC_PACKET_MODE direction\n\nThis changes EC_GSC_PACKET_MODE to be an output pin instead of input\npin. The GPIO spreadsheet has been updated and this list has been\nregenerated.\n\nBRANCH=none\nBUG=b:183165732\nTEST=with EFS2 enabled, the GSC returns a hash mismatch (expected).\n\nChange-Id: I2f92a8724c9c4ea51c5a6f36a4741ed0d7380ef8\nSigned-off-by: Caveh Jalali <caveh@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2774716\nReviewed-by: Furquan Shaikh <furquan@chromium.org>",1,0.9991127848625184,GPIO,board/brya/generated-gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9327c77b1ce762084b16a16233f79e7ac61161c4,daa8ac7486cbf6cff5230d0226a66513bcd34cbd,Simon Glass,2021-03-22,"zephyr: Tidy up BATTERY_PRESENT_GPIO\n\nThis is not a boolean CONFIG in ECOS but it must be with Zephyr. There\ndoesn't seem to be any advantage to allowing an arbitrary name here,\nsince the mapping is controlled in the device tree anyway.\n\nSo hard-code it to GPIO_BATT_PRES_ODL and document this in the Kconfig.\n\nAlso drop the unnecessary logic in config_chip.h since Kconfig handles\nensuring that only one option is set. This makes the code easier to\nfollow and avoids errors. Fix the error that is there.\n\nBUG=b:183296099\nBRANCH=none\nTEST=make BOARD=lazor -j4\n\nSigned-off-by: Simon Glass <sjg@chromium.org>\nChange-Id: I55a9083ad01be2f6b1e9314f73fbbff1442e486c\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2777633\nReviewed-by: Keith Short <keithshort@chromium.org>\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>",1,0.999640941619873,GPIO,"zephyr/Kconfig.battery, zephyr/shim/include/config_chip.h",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,fa15bbf2a57daeb7593700d7d7e0ed161fa884a4,407664e2faa9a151adc52badc5af4455d1cb56a2,Wai-Hong Tam,2021-03-25,"zephyr: lazor: enable memory mapped switches\n\nEnable the CONFIG_PLATFORM_EC_SWITCH.\n\nBRANCH=None\nBUG=b:183445211\nTEST=Tested on Lazor. The following errors didn't show on depthcharge:\nerror, assuming lid is open\nerror, assuming lid is open\nerror, assuming lid is open\n...\n\nChange-Id: I8f1b6fc8772bb47cc98d559772ab6029fb6e0742\nSigned-off-by: Wai-Hong Tam <waihong@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2787595\nReviewed-by: Keith Short <keithshort@chromium.org>",1,0.9977346658706664,"PLATFORM_EC, PLATFORM_EC_SWITCH",zephyr/projects/trogdor/lazor/prj.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,28ae525ba1c093e9f3e6468f4df4f7bd504a40d7,cf08d59d6e82517ea9e748dc7b0d4136777ebc6f,Eric Yilun Lin,2021-03-30,"asurada: fix missing switching AUX with DP_STATUS command\n\nThe AUX path should be switched at DP_STATUS command.\nAlso, drop aux_* functions, since we only needs to alter the GPIO\nstatus.\n\nBUG=b:183688940, b:154565980\nTEST=plug the DP sink to C0/C1 respectively, and see the aux switching.\nBRANCH=asurada\n\nChange-Id: Ic9674b4fd6f901e756603128a6a101278d61125b\nSigned-off-by: Eric Yilun Lin <yllin@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2794021\nReviewed-by: Ting Shen <phoenixshen@chromium.org>",1,0.9936955571174622,GPIO,baseboard/asurada/usb_pd_policy.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7fba0e12ffa1d48c9f9f6da9d18125adc9aa75b4,2cbfce23cb57f4d625fa796109116420c352c541,Yuval Peress,2021-04-06,zephyr: fix initialization priority to be forward compatible\n\nIn upstream Zephyr the initialization of the GPIO module (and most other\ndrivers) was changed. This breaks our gpio and in return also flash\ninitialization.\n\nUpdate both gpio and flash initialization to work with Kconfig and add\na compile time validation to be able to catch this sooner in the future.\n\nBRANCH=none\nBUG=none\nTEST=zmake testall\n\nSigned-off-by: Yuval Peress <peress@chromium.org>\nChange-Id: I44e5867dbf4cb3d5934bf0d0807dcc1aa6c778e1\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2808335\nReviewed-by: Simon Glass <sjg@chromium.org>,1,0.9894000887870787,GPIO,"zephyr/Kconfig, zephyr/Kconfig.init_priority, zephyr/shim/src/flash.c, zephyr/shim/src/gpio.c",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a708619bfd3162e56c9776a5c880994980316bed,f7b050059033086772356760da618d51fe3dbdc4,Keith Short,2021-04-08,zephyr: Disable PLATFORM_EC_STACKOVERFLOW for tests.\n\nDisable the CONFIG_PLATFORM_EC_STACKOVERFLOW for tests and the posix-ec\nbuild to fix a compiler warning.\n\nBUG=none\nBRANCH=none\nTEST=zmake testall\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: If45fc5d342991d7aef8a5392b2eb3b8e9f6b8d2c\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2816141\nCommit-Queue: Yuval Peress <peress@chromium.org>\nReviewed-by: Yuval Peress <peress@chromium.org>,1,0.9939821362495422,PLATFORM_EC,zephyr/Kconfig.panic,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,49836da4a8993037f59a3d0c1b01b6c3692c4e1c,b686030ee72d482a9729ba54a1d6dcbaa7772d01,Dawid Niedzwiecki,2021-04-15,"zephyr: lazor: Fix GPIO interrupt table\n\nWe use GPIO edge falling interrupts for some events. These one were\ninitialized incorrectly with EC GPIO flags instead of Zephyr GPIO\nflags, thus the interrupts were not triggered.\n\nChange GPIO_INT_* to GPIO_INT_EDGE_* for all of them.\n\nBUG=b:182398910\nBRANCH=none\nTEST=Build Zephyr EC for Lazor, flash Limozeen board and boot to OS,\n\nSigned-off-by: Dawid Niedzwiecki <dn@semihalf.com>\nChange-Id: Id10aa010071d44f2d714eb9673ec7cad300bdf60\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2825909\nReviewed-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>",1,0.9972597360610962,GPIO,zephyr/projects/trogdor/lazor/include/gpio_map.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,c01b28e5da86b783917523beaa97b1b81d38019c,5cfbf60b311ac4dc0e1d4602508f609cea673301,Keith Short,2021-04-15,zephyr: validate interrupt flags at build time\n\nThe name spaces for GPIO interrupt flags are similar between Chromium EC\nand Zephyr.  Add a build time check that the flags are valid for Zephyr.\n\nBUG=b:182398910\nBRANCH=none\nTEST=zmake testall\nTEST=Set a GPIO interrupt flag to an invalid value and verify build\nerror.\n\nCq-Depend: chromium:2825909\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: I27caff1fed3827c09450c743cb62ce8a7cbdaac4\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2826415\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>\nCommit-Queue: Jack Rosenthal <jrosenth@chromium.org>,1,0.9983102083206176,GPIO,zephyr/shim/src/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,1221d6fbe3d38141604c44f120c307d5b1f12bda,a9e2234713340cdb90650a1e78e503f8f3187971,Wealian Liao,2021-04-26,zephyr: npcx: Fix PSL hibernate\n\nNPCX uses wrong config to switch hibernate PSL & disable RAM so volteer\ndoesn't enter hibernate PSL after disable RAM submitted. Change to use\nCONFIG_PLATFORM_EC_HIBERNATE_PSL to fix it.\n\nBRANCH=none\nBUG=none\nTEST=Check EC can wakeup by powerbtn on lazor(disable RAM) &\nvolteer(PSL).\n\nSigned-off-by: Wealian Liao <whliao@nuvoton.corp-partner.google.com>\nChange-Id: Iad44d68789705e9b9e729e98b1e054eae298ceb8\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2850305\nReviewed-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>,1,0.8815984129905701,"PLATFORM_EC, PLATFORM_EC_HIBERNATE, PLATFORM_EC_HIBERNATE_PSL",zephyr/drivers/cros_system/cros_system_npcx.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,39d7af5b215a544fb6fa6f8a32ea2fc3c9cb9ce5,caab3a60b0403e7059f83bbcc1deb09fa565beb7,Keith Short,2021-04-30,"zephyr: fix namespace for Kconfig check scripts\n\nUpdate both the scripts used to verify that ad-hoc CONFIG options have a\nKconfig option to use the same search criteria.\n\nThe list of Kconfigs is now all option that start with the config or\nmenuconfig keyword. The full Kconfig list is transformed to replace\nCONFIG_PLATFORM_EC_ with CONFIG_, to match the Chromium EC namespace.\n\nBUG=b:184037201\nBRANCH=none\nTEST=make buildall\nTEST=zmake testall\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: I5edeeddd4e935b4bbf2ce7321a19249a543d916e\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2860985\nReviewed-by: Simon Glass <sjg@chromium.org>",1,0.9961690306663512,PLATFORM_EC,"util/build_allowed.sh, util/check_allowed.sh",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,495dcefeba9ab01c5873686d4c33a973f3050e89,db63b8678627cf690f07792dfdbe703cf288b1c6,Dawid Niedzwiecki,2021-05-14,"zephyr: lazor: fix touchpad\n\nAdd GPIO_TRACKPAD_INT_GATE pin to let the OS manage the trackpad.\n\nBUG=b:188127604\nBRANCH=none\nTEST=Build and flash firmware for Lazar, boot to OS, verify that\ntouchpad works.\n\nSigned-off-by: Dawid Niedzwiecki <dn@semihalf.com>\nChange-Id: I526b9bc440456fdcb700c04d91c5976189840484\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2897237\nReviewed-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>",1,0.9996621608734132,GPIO,"zephyr/dts/bindings/gpio/gpio-enum-name.yaml, zephyr/projects/trogdor/lazor/gpio.dts",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,2f5cb1f3385a1e86548b66af48a37d519a1643ad,ecbd1339befef5b17e85751e4c075df5d45bdc26,Yuval Peress,2021-06-07,"zephyr: gpio: skip unimplemented GPIOs\n\nWhen setting up the callbacks, we should skip unimplemented GPIs,\notherwise we run into a fatal error during init.\n\nBRANCH=none\nBUG=b:188605676\nTEST=build and flash brya\n\nSigned-off-by: Yuval Peress <peress@chromium.org>\nChange-Id: Ic8a97fa3b714453a2b1b23073b070cb28598b4e2\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2944735\nReviewed-by: Denis Brockus <dbrockus@chromium.org>\nReviewed-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Denis Brockus <dbrockus@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>",1,0.9988816380500792,GPIO,zephyr/shim/src/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,bd2c57278e3a3c6b351c6aaccc5907d7a6de56cb,b405c16d3362cf9e213aadef23247239b3f35ff5,Wai-Hong Tam,2021-06-09,"trogdor: Change GPIO HIBERNATE_L to open drain\n\nWe stuffed an external pull-up resistor on the GPIO HIBERNATE_L for\nfixing the CCD bugs, like b/173828265, b/177611071.\n\nThe GPIO can be used as open drain.\n\nBRANCH=Trogdor\nBUG=b:189184814\nTEST=Tested on Lazor; CCD connection still worked under EC hibernate.\n\nChange-Id: I50d832f1619f976a4cb682fa1b666add96563222\nSigned-off-by: Wai-Hong Tam <waihong@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2950925\nReviewed-by: Stephen Boyd <swboyd@chromium.org>",1,0.9990347623825072,GPIO,"board/coachz/gpio.inc, board/homestar/gpio.inc, board/lazor/gpio.inc, board/marzipan/gpio.inc, board/pompom/gpio.inc, board/trogdor/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,826df25009616776d62a80fe641ac59182b101f8,66e460a5738f4a39d3f007f2f72a229699eaf19f,Simon Glass,2021-06-04,"zephyr: Tidy up PLATFORM_EC_USB_PORT_POWER_DUMB_CUSTOM_HOOK\n\nThis Kconfig should use tabs for indentation, rather than spaces. Fix\nit.\n\nBUG=b:189855648\nBRANCH=none\nTEST=with other CLs, build asurada for Zephyr\n\nSigned-off-by: Simon Glass <sjg@chromium.org>\nChange-Id: I25eed9ece49cdfe477e5107b6689d8a3890a82a9\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2941820\nReviewed-by: Denis Brockus <dbrockus@chromium.org>\nTested-by: Denis Brockus <dbrockus@chromium.org>\nCommit-Queue: Denis Brockus <dbrockus@chromium.org>",1,0.9992307424545288,"PLATFORM_EC, PLATFORM_EC_USB_PORT_POWER_DUMB, PLATFORM_EC_USB_PORT_POWER_DUMB_CUSTOM_HOOK",zephyr/Kconfig.usbc,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5030ac7c16fef646cf767ea7cae7f962a64c909c,f9b6ef8def1beefd7048edcc8d842690791abf7d,Wai-Hong Tam,2021-06-11,"trogdor: Workaround for boards without HIBERNATE_L pull-up\n\nSome hardware doesn't have the external pull-up fix for the bugs,\nlike b/164256614, b/177611071. It requires rework to stuff the\nresistor. For people who has difficulty to do the rework, this CL\nis a software workaround, which makes the GPIO push-pull, instead\nof open-drain.\n\nBRANCH=Trogdor\nBUG=b:190818143\nTEST=Booted the Coachz rev-1 board, the I2C bus didn't get wedged.\n\nChange-Id: I82116b855db49ec7c93d90727c7837a58cda8d3e\nSigned-off-by: Wai-Hong Tam <waihong@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2956832\nTested-by: Douglas Anderson <dianders@chromium.org>\nReviewed-by: Stephen Boyd <swboyd@chromium.org>\nReviewed-by: Douglas Anderson <dianders@chromium.org>",1,0.9997100234031676,GPIO,"board/coachz/board.c, board/pompom/board.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,077bb92c4a41db95d1dd1f824c19f87ac0b1d715,fd2276ad5b6403338df5dd096195cb5ceadaeae6,Caveh Jalali,2021-06-10,"bb_retimer: Return status from bb_retimer_power_handle()\n\nThis allows the implementation of bb_retimer_power_handle() to return a\nstatus value indicating whether the request was successful. The default\nimplementation simply controls a GPIO and is expected to succeed\nunconditionally. More complex implementations may run into failure cases\nthat leave the BB unreachable. When this happens, device initialization\nreturns an error so the caller can take mitigating action.\n\nUSB MUX operations tend to be called from timing sensitive code paths in\nthe TCPM, so careful error handling helps avoid cascading problems like\nPD negotiation failures.\n\nBRANCH=none\nBUG=b:181743576,b:188826559\nTEST=buildall passes, PD still works on brya\n\nChange-Id: If79078be26e47d758e2cd6cc385ff2b34fecff63\nSigned-off-by: Caveh Jalali <caveh@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2954198\nReviewed-by: Keith Short <keithshort@chromium.org>\nReviewed-by: Boris Mittelberg <bmbm@google.com>",1,0.999588429927826,GPIO,"baseboard/intelrvp/adlrvp.c, board/brya/usbc_config.c, board/primus/usbc_config.c, board/tglrvpu_ite/board.c, driver/retimer/bb_retimer.c, include/driver/retimer/bb_retimer_public.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4b76b49a4eb9e10d90ca0860382751c276661991,077bb92c4a41db95d1dd1f824c19f87ac0b1d715,Caveh Jalali,2021-06-10,"brya: Check burnside bridge RESET signal status\n\nThis adds a level check of the burnside bridge reset signal GPIO. The\nsignal is connected to a GPIO on the nct3808 which becomes\nuncontrollable when a debug accessory is connected and forces the BB\ninto reset. We can check for this case by reading back the level of the\nGPIO and return an error when the desired signal level has not been\nachieved.\n\nBRANCH=none\nBUG=b:181743576,b:188826559\nTEST=buildall passes, PD still works on brya\n\nChange-Id: Ia21cbc699f857542600cc5946868e9c58cfa6cf9\nSigned-off-by: Caveh Jalali <caveh@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2955608\nReviewed-by: Boris Mittelberg <bmbm@google.com>",1,0.9996211528778076,GPIO,board/brya/usbc_config.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f6f0ec7de7056ff6e0d72b5af7709bbfc42ec226,b5753903cb8948d88bc4d91ea81cb3e7bfc42520,Simon Glass,2021-06-04,"zephyr: Ensure that CONFIG_USBC_PPC can be defined\n\nAt present the Kconfig for this option never makes it through to the\nEC build. This does not seem to cause ill effects, but it does create\na different between the configs enabled in ECOS and Zephyr, when\nCONFIG_PLATFORM_EC_USBC_PPC is defined. Fix it by adding a\nsuitable #define.\n\nBUG=b:189855648\nBRANCH=none\nTEST=with other CLs, build asurada for Zephyr\n\nSigned-off-by: Simon Glass <sjg@chromium.org>\nChange-Id: Ifd2dd9ee63d1575effd99376f6ea5fbd1baac5a0\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2941887\nReviewed-by: Denis Brockus <dbrockus@chromium.org>",1,0.9997132420539856,"PLATFORM_EC, PLATFORM_EC_USBC, PLATFORM_EC_USBC_PPC",zephyr/shim/include/config_chip.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,d6ff89a16463231757a2490e876aec7631373915,8b53f1bdb50cfad5237a6c4aab243ba1157282b8,Wealian Liao,2021-06-21,"zephyr: npcx: Fix sysjump to RO\n\nFor npcx, sysjump to RO needs the PLATFORM_EC_RO_HEADER_SIZE\ninformation in RW image. However, the dependency of\nPLATFORM_EC_RO_HEADER lets RW image can't get this information. This CL\nremoves the dependency of PLATFORM_EC_RO_HEADER in Kconfig for those\nconfigs & lets RW get this information back.\n\nBRANCH=none\nBUG=none\nTEST='sysjump RO' correct & without abnormal delay.\n\nSigned-off-by: Wealian Liao <whliao@nuvoton.corp-partner.google.com>\nChange-Id: I434216a4bcde6663cf363372206566b210236bad\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/2975170\nReviewed-by: Yuval Peress <peress@chromium.org>\nCommit-Queue: Yuval Peress <peress@chromium.org>",1,0.9997063279151917,"PLATFORM_EC, PLATFORM_EC_RO_HEADER, PLATFORM_EC_RO_HEADER_SIZE",zephyr/Kconfig.header,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,ba0d4be2fdb8bd9bed620bead731307611bc1338,5250d3b79f86709d1029f020965456f457455f01,Dino Li,2021-07-15,"zephyr: asurada: enable CONFIG_PLATFORM_EC_SWITCH\n\nFixed the following error message from AP console:\nerror, assuming lid is open\nerror, assuming power button not pressed\n\nBRANCH=none\nBUG=b:180980668\nTEST=No the error message above.\n\nSigned-off-by: Dino Li <Dino.Li@ite.com.tw>\nChange-Id: I33c85bf69f045ce1d52821b79ff916ad9c20c250\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3030001\nReviewed-by: Denis Brockus <dbrockus@chromium.org>\nCommit-Queue: Denis Brockus <dbrockus@chromium.org>",1,0.9996991157531738,"PLATFORM_EC, PLATFORM_EC_SWITCH",zephyr/projects/asurada/hayato/prj.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a4e494dabda23e842a6861506af43c265a0bf7b5,f84a6447bbfc1e82095f1c135078a1d8b6e80913,Patryk Duda,2021-07-15,"common/gpio: Set GPIO flags after setting alternate function\n\nOn STM32, gpio_set_alternate_function() called with GPIO_ALT_FUNC_NONE\nargument causes the pin to be set to input. In gpio_reset() function,\nwe are setting flags first and then we are changing pin function to\nGPIO. As a result, using gpio_reset() on STM32 boards causes pin to be\nconfigured as input, regardles of gpio.inc file.\n\nTo fix this, we should always change pin functionality to GPIO before\nsetting GPIO flags and/or state. This approach seems to be natural also.\n\nBUG=b:170432597\nBRANCH=none\nTEST=Flash EC on some STM32 based board (eg. dartmonkey).\n     Use gpio_reset() function on some GPIO pin which is configured as\n     GPIO_OUT_LOW/GPIO_OUT_HIGH in gpio.inc file (eg. FP_RST_ODL on\n     dartmonkey).\n     Use `gpioset` and `gpioget` command to change state of the GPIO\n     pin, and verify it works.\n\nSigned-off-by: Patryk Duda <pdk@semihalf.com>\nChange-Id: I0a6c2ee8d1c1cf33b14bd54bb432c63b820427be\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3033241\nReviewed-by: Aseda Aboagye <aaboagye@chromium.org>",1,0.9992082715034484,GPIO,common/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,ce3a41fe1a9ec7e69fa790d05fa8fd8a1de2f145,9dde9ca48b4dceb0ea2155c87a83fe691d61f8be,Diana Z,2021-07-21,"Guybrush: Enable CONFIG_BACKLIGHT_LID\n\nGuybrush has the GPIO set up for backlight disable, but doesn't have the\nconfig set and so we're not compiling in the code to actually disable\nbacklight on lid close.\n\nBRANCH=None\nBUG=b:194326578\nTEST=on guybrush, open and boot to confirm backlight is on.  Close with\nthe system in S0 and confirm it goes off\n\nSigned-off-by: Diana Z <dzigterman@chromium.org>\nChange-Id: If707525d9f4bb98a577f75e7017beae03638726c\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3044410\nReviewed-by: Rob Barnes <robbarnes@google.com>\nCommit-Queue: Rob Barnes <robbarnes@google.com>",1,0.7344379425048828,GPIO,baseboard/guybrush/baseboard.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,b9f4dee01a57a95b3890c1a77298565432dc4402,679078086cf143cf93ef04b47cf21555cabaa534,Scott Chao,2021-07-19,gimble: fix GPIOE1 gpio configuration\n\nBUG=b:194269211\nBRANCH=none\nTEST=make -j BOARD=gimble\n\nSigned-off-by: Scott Chao <scott_chao@wistron.corp-partner.google.com>\nChange-Id: I8182d04cf283753dbf388a4fb30a3983fc0fe557\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3038421\nReviewed-by: Boris Mittelberg <bmbm@google.com>,1,0.9994848966598512,GPIO,board/gimble/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,c4e335d6851438aa2767189ef84dfefecca92869,15d5e2039030d22d2a65870542e7200f5f7fa335,Wealian Liao,2021-07-16,"zephyr: npcx: Add default config for npcx7m6fb & npcx9m6f\n\nNPCX series (NPCX7/9) uses the most same config in chromium projects.\nThis CL adds default config for npcx7m6fb & npcx9m6f. So we can use\nthe same config style.\n\nMoreover, fix CROS_EC_RW_MEM_OFF for npcx9 series.\n\nBUG=none\nBRANCH=none\nTEST=zmake testall\nTEST=npcx9_evb get 'version' correct in RW image.\n\nSigned-off-by: Wealian Liao <whliao@nuvoton.corp-partner.google.com>\nChange-Id: I6cbd014d006aa68851231173477c8f22e234af6f\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3033229\nReviewed-by: Keith Short <keithshort@chromium.org>\nReviewed-by: Yuval Peress <peress@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>",1,0.999392867088318,"CROS_EC, CROS_EC_RW, CROS_EC_RW_MEM_OFF","zephyr/app/ec/chip/arm/nuvoton_npcx/Kconfig.npcx7, zephyr/app/ec/chip/arm/nuvoton_npcx/Kconfig.npcx9",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,fbdb8051c96eb0ec7f533ef091d4b49a8c98d5b3,ba4017a3ec1bbd1ab7ae601da6ce194ef8e6b349,Evan Green,2021-07-28,"test: Crispen up fp host test\n\nFix some issues with the FP test in preparation for switching the host\ntests to compile in 32-bit mode. There are a few things going on with\nthe FP tests.\n\nThe first thing to know about x86 is the compiler has a hard time\nrestricting itself to 32-bits even when you're seemingly only working\nwith float types. Part of this is C's fault, since C promotes floats to\ndoubles in cases like arguments handed to printf. This results in\nweirdness. For instance, if I add a union like this:\n\nunion evanfloat {\n	float f;\n	unsigned int i;\n};\n\nAnd then print out the result and golden values from test_fpv3_dot(), I\nget this:\n\n421a5e35 421a5e35 38.592000 38.591999\n\nHow is it that the same hex value prints two different floats, even when\nthe values I'm passing are from the union, and I can see the byte value\ncontents of the floats are the same? The compiler gets exuberant\nhere and keeps the computation result in the floating point registers,\nthen lets them ride on through to printf. As an experiment, I tried\nprinting values from this union instead:\n\nunion evandouble {\n	double d;\n	unsigned long long i;\n};\n\nAnd I get the following:\n\n40434bc6a58b4390 40434bc6a0000000 38.592000 38.591999\n\nWhat this shows is that even though the return type of fpv3_dot() is a\nfloat, the compiler is carrying around the extra precision of a double\ncomputation.\n\nThe test was all carefully crafted to have the correct answers,\nunfortunately with this implicit double advantage built in. So we run\nafoul of this when we try to compile with -m32. i686 only has access to\nthe old x87 FPU instructions, rather than SSE2 that's part of AMD64. As\nsuch, the double advantages come out slightly different, resulting in\n1ULP (unit in last place) variations between x86_64 and i686. These\nare likely errors that accumulate differently in intermediate\nresults of functions like fpv3_dot().\n\nReally that's all fine, we just have to account for this in the test\nso that both x86_64 and i686 can pass correctly.\n\nIn some cases like test_fpv3_dot(), this can be achieved by creating a\nvolatile fp_t and assigning the result to that. This forces the compiler\nto dump the final value out of the FPU registers and save a float into\nmemory, truncating the hidden double bits.\n\nIn other cases, AMD64 and i686 disagreed by 1ULP, but the golden value\ndisagreed with both by a handful of ULP. Fix those golden values so\ntheir hex values lined up better.\n\nBut even with the fixed golden values, amd64 and i686 still disagreed on\nsome results by 1ULP. In these cases it was necessary to increase the\ntolerance from 0.0 to an approximation of 1ULP. As a side note,\nexpressing the tolerances as absolute values is a bit brittle, as it\nrequires that your testing values and results stay within a certain\nexponent. If we were to write a new floating point test, it might be\nbetter to have the test comparison macros decompose the values into\nexponent and mantissa, and then compare those separately with a\ntolerance on the mantissa.\n\nBUG=b:179062230\nBRANCH=none\nTEST=make -j runhosttest BOARD=host on both amd64 and i686\n\nSigned-off-by: Evan Green <evgreen@chromium.org>\nChange-Id: I3f8d36713dfa9f2f8adefb1b4db1e47b84dec1f0\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3059227\nReviewed-by: Eric Yilun Lin <yllin@google.com>",1,0.9996371269226074,FPU,test/fp.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f3c614b1b89c985f917ea1f4cb2d131d3fe7a6f4,a46efa226904918b2144f3d92721b78e10adee3d,Caveh Jalali,2021-07-27,"nx20p348x: Check device status reg for sink mode\n\nThis fixes an issue where we sometimes time out waiting for the\nHVSNK_STS bit to get set after enabling sink mode using the EN_SINK\nGPIO. Checking for HV_SNK mode in the device status register is more\nrobust as it appears to reflect the state of the EN_SINK pin as\nexpected.\n\nI'm still not sure why the HVSNK_STS bit isn't set as expected\nsometimes. I suspect that it only gets set when there is actual voltage\npresented by the connected device.\n\nBRANCH=none\nBUG=b:194833460\nTEST=with additional debug code, verified that we detect HV_SNK mode\n	even when HV sink switch is off.N\n\nChange-Id: Ifa5b9ebaedfc03755306ecb4e3e6e1fa654418d0\nSigned-off-by: Caveh Jalali <caveh@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3058079\nReviewed-by: Denis Brockus <dbrockus@chromium.org>\nReviewed-by: Diana Z <dzigterman@chromium.org>",1,0.9997360110282898,GPIO,driver/ppc/nx20p348x.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,cab1ac319919cd816b70d844fc6d8e479e989e61,cde2d8998daf2530079e8395ce79f20b1beda70e,Tomasz Michalec,2021-09-02,"zephyr: drivers: add BB retimer init test\n\nbb_retimier init function is tested with I2C communication errors and\nwrong values of BB retimer vendor/device ID.\n\nInit function checks state of AP, so CONFIG_PLATFORM_EC_POWERSEQ is\nenabled. CONFIG_PLATFORM_EC_POWERSEQ_INTEL and\nCONFIG_PLATFORM_EC_POWERSEQ_PP5000_CONTROL are disabled to reduce code\nthat needs to be mocked.\n\nBUG=b:184856919\nBRANCH=none\nTEST=make configure --test zephyr/test/drivers\n\nSigned-off-by: Tomasz Michalec <tm@semihalf.com>\nChange-Id: Ibaed931f54a797d70fa86297b3eb0181ab2a689d\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3140205\nCommit-Queue: Jeremy Bettis <jbettis@chromium.org>\nReviewed-by: Jeremy Bettis <jbettis@chromium.org>",1,0.9989245533943176,"PLATFORM_EC, PLATFORM_EC_POWERSEQ, PLATFORM_EC_POWERSEQ_INTEL, PLATFORM_EC_POWERSEQ_PP5000_CONTROL","zephyr/emul/emul_bb_retimer.c, zephyr/test/drivers/include/stubs.h, zephyr/test/drivers/overlay.dts, zephyr/test/drivers/prj.conf, zephyr/test/drivers/src/bb_retimer.c, zephyr/test/drivers/src/stubs.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f48b29920036c69793eb1fdca0af7f8d945a20ab,0b991c85aeabc67ba4c22a72db2fa452fdba674a,Ting Shen,2021-09-30,"baseboard/cherry: don't reset rt1718s gpio state in every init() call\n\nTo make the device bootable without battery, board_rt1718s_init()\nenables sink path (GPIO1) at boot, but also incorrectly enables sink\npath on subsequent low-power-mode exits.\n\nFix this incorrect behavior: board_rt1718s_init should keep the previous\nGPIO state on LPM exit.\n\nBUG=none\nTEST=verify that C1 sink path does not turn on by default when replug\nBRANCH=main\n\nSigned-off-by: Ting Shen <phoenixshen@google.com>\nChange-Id: I8ae8f65e101fc66f828168237c136ca180189c08\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3195204\nReviewed-by: Eric Yilun Lin <yllin@google.com>\nCommit-Queue: Ting Shen <phoenixshen@chromium.org>\nTested-by: Ting Shen <phoenixshen@chromium.org>",1,0.9996236562728882,GPIO,baseboard/cherry/baseboard.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,d7995163073a06e63aa1e48ed7f9a5cb8e1d6fd3,4f116d6472909632871f38cabc63c9d35249ec5e,Tom Hughes,2021-10-04,"include/power: Fix header guard typo\n\nWhen building with clang:\n\nIn file included from board/ambassador/board.c:30:\ninclude/power/cometlake-discrete.h:11:9: error:\n'__CROS_EC_COMETLAKE_DISCRETE_H' is used as a header guard here,\nfollowed by\n\ninclude/power/cometlake-discrete.h:12:9: note:\n'__CROS_EC_COMETLATE_DISCRETE_H'\nis defined here; did you mean '__CROS_EC_COMETLAKE_DISCRETE_H'?\n\nBRANCH=none\nBUG=b:172020503\nTEST=make CC=arm-none-eabi-clang BOARD=ambassador\nTEST=./util/compare_build.sh -b all -j 70\n     => MATCH\n\nSigned-off-by: Tom Hughes <tomhughes@chromium.org>\nChange-Id: I4cda48bc44720ee7ee59e558bf00f26059e58345\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3203934\nReviewed-by: Daisuke Nojiri <dnojiri@chromium.org>",1,0.9996981620788574,CROS_EC,include/power/cometlake-discrete.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,93830adaf8a499e58953c992208cff34106f05cb,0b21ad072215053b2d1a872d800fe5ad9caadac7,Tom Hughes,2021-10-05,"tree: Fix TEMP_SENSOR3 GPIO declaration\n\nWhen building with clang, it reports:\n\nboard/chronicler/gpio.inc:178:1: error: initializer overrides prior\ninitialization of this subobject [-Werror,-Winitializer-overrides]\nALTERNATE(PIN(F, 1), 0, MODULE_ADC, 0) /* TEMP_SENSOR3 */\n\nThis expands to:\n\nstatic const struct gpio_alt_func gpio_alt_funcs[] = {\n ...\n{GPIO_PORT_F, (1U << (1)), .func = (0), .module_id = (MODULE_ADC), .flags =\n (0)}\n};\n\nThe problem is that struct gpio_alt_func has the order ""module_id, func,\nport, mask, flags"", so in this case we are setting func to (1U << (1))\nand then to (0).\n\nIt looks like the intent was to use the PIN_MASK macro instead of PIN,\nwhich expands to:\n\nstatic const struct gpio_alt_func gpio_alt_funcs[] = {\n ...\n{.port = GPIO_PORT_F, .mask = ((1U << (1))), .func = (0), .module_id =\n (MODULE_ADC), .flags = (0)},\n};\n\nThe code appears to be repeated in several boards, which were found\nwith:\n\ngit grep --name-only TEMP_SENSOR3 | grep gpio.inc | sort | uniq\n\nBRANCH=none\nBUG=b:172020503\nTEST=make CC=arm-none-eabi-clang BOARD=chronicler\n\nSigned-off-by: Tom Hughes <tomhughes@chromium.org>\nChange-Id: I66a097b761c0b15466a30e53a710d532cd48256c\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3206478\nReviewed-by: Eric Yilun Lin <yllin@google.com>",1,0.9997074007987976,GPIO,"board/boldar/gpio.inc, board/chronicler/gpio.inc, board/collis/gpio.inc, board/copano/gpio.inc, board/delbin/gpio.inc, board/drobit/gpio.inc, board/eldrid/gpio.inc, board/elemi/gpio.inc, board/halvor/gpio.inc, board/lindar/gpio.inc, board/lingcod/gpio.inc, board/malefor/gpio.inc, board/terrador/gpio.inc, board/todor/gpio.inc, board/trondo/gpio.inc, board/voema/gpio.inc, board/volet/gpio.inc, board/volteer/gpio.inc, board/voxel/gpio.inc",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7cb20f372fa4ee7a5c98dfd39e06daeed24d67ca,151a967b4514e4bb1f56e5c40b9c392341b92afa,Tom Hughes,2021-10-07,"board/primus: Fix enum type\n\nWhen building with clang, it warns:\n\nboard/primus/usbc_config.c:138:16: error: implicit conversion from enumeration\ntype 'enum gpio_signal' to different enumeration type 'enum ioex_signal'\n[-Werror,-Wenum-conversion]\n                rst_signal = GPIO_USB_C0_RT_RST_ODL;\n                           ~ ^~~~~~~~~~~~~~~~~~~~~~\nboard/primus/usbc_config.c:140:16: error: implicit conversion from enumeration\ntype 'enum gpio_signal' to different enumeration type 'enum ioex_signal'\n[-Werror,-Wenum-conversion]\n                rst_signal = GPIO_USB_C1_RT_RST_ODL;\n                           ~ ^~~~~~~~~~~~~~~~~~~~~~\nboard/primus/usbc_config.c:157:18: error: implicit conversion from enumeration\ntype 'enum ioex_signal' to different enumeration type 'enum gpio_signal'\n[-Werror,-Wenum-conversion]\n                gpio_set_level(rst_signal, 1);\n                ~~~~~~~~~~~~~~ ^~~~~~~~~~\nboard/primus/usbc_config.c:167:18: error: implicit conversion from enumeration\ntype 'enum ioex_signal' to different enumeration type 'enum gpio_signal'\n[-Werror,-Wenum-conversion]\n                gpio_set_level(rst_signal, 0);\n                ~~~~~~~~~~~~~~ ^~~~~~~~~~\n\nBRANCH=none\nBUG=b:172020503\nTEST=make CC=arm-none-eabi-clang BOARD=primus\nTEST=./util/compare_build.sh -b primus\n     => MATCH\n\nSigned-off-by: Tom Hughes <tomhughes@chromium.org>\nChange-Id: I6ed40493cdce6f972300f4b9c7f49f136c6a0026\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3213108\nReviewed-by: caveh jalali <caveh@chromium.org>\nReviewed-by: Abe Levkoy <alevkoy@chromium.org>",1,0.9996715784072876,GPIO,board/primus/usbc_config.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,187f9155f684d0aeda4546bf04451ae8825f2de8,ea0cc2a17e63a07f0a4c97760292778916b2e41d,Tom Hughes,2021-10-07,"tree: Use correct enum when calling button_disable_gpio\n\nWhen building with clang, it warns:\n\nboard/puff/board.c:484:23: error: implicit conversion from enumeration type\n'enum gpio_signal' to different enumeration type 'enum button'\n[-Werror,-Wenum-conversion]\n                button_disable_gpio(GPIO_EC_RECOVERY_BTN_ODL);\n\nbutton_disable_gpio() takes an ""enum button"", not ""enum gpio_signal"".\n\nBRANCH=none\nBUG=b:172020503\nTEST=make CC=arm-none-eabi-clang BOARD=puff\n\nSigned-off-by: Tom Hughes <tomhughes@chromium.org>\nChange-Id: Ic8347e4d6cda0fde824c9edf1979f7f5197e3db4\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3213110\nReviewed-by: Keith Short <keithshort@chromium.org>\nReviewed-by: Andrew McRae <amcrae@google.com>",1,0.9991067051887512,GPIO,"board/ambassador/board.c, board/genesis/board.c, board/moonbuggy/board.c, board/puff/board.c, board/scout/board.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,6e4d2aa256c8dad7845f2d24117e734e2b74a229,b9b62ce4677a08dd847f7f3d62b09dcf7dae09a8,Tom Hughes,2021-10-15,"chip/npcx: Remove unused GPIO interrupt function\n\nWhen the interrupt handlers are made static (see followup commits), the\ncompiler complains that this function is unused (there is no\ncorresponding DECLARE_IRQ):\n\nchip/npcx/gpio-npcx9.c:182:15: error: '__gpio_wk2fg_interrupt' defined\nbut not used [-Werror=unused-function]\n GPIO_IRQ_FUNC(__gpio_wk2fg_interrupt, WUI_INT(MIWU_TABLE_2, MIWU_GROUP_6));\n\nBRANCH=none\nBUG=b:172020503\nTEST=./util/compare_build.sh -b all -j 120\n     => MATCH\n\nSigned-off-by: Tom Hughes <tomhughes@chromium.org>\nChange-Id: I3f58cdcb9b2e113fb9dd079a3e157bf8336b71d5\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3227262\nReviewed-by: Abe Levkoy <alevkoy@chromium.org>",1,0.9492806792259216,GPIO,chip/npcx/gpio-npcx9.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,596a620e9ae16b8553d67efb11f5ced3c6dc1685,544cc150adb8ed3f228cd4ce57cc43f662a6d562,Dawid Niedzwiecki,2021-10-18,"zephyr: remove option to use printk\n\nCONFIG_PLATFORM_EC_CONSOLE_USES_PRINTK was used by riscv boards to avoid\nHARD_RESET during PD negotiation. Once, it is fixed, the option can\nbe removed.\n\nBUG=b:193585176\nTEST=zmake testall\nBRANCH=main\n\nSigned-off-by: Dawid Niedzwiecki <dn@semihalf.com>\nChange-Id: I665534c569c71cdf2bb17e9657929dea53351ad5\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3229267\nTested-by: Dawid Niedzwiecki <dawidn@google.com>\nReviewed-by: Denis Brockus <dbrockus@chromium.org>\nCommit-Queue: Dawid Niedzwiecki <dawidn@google.com>",1,0.9995192289352416,PLATFORM_EC,"zephyr/Kconfig.console, zephyr/projects/corsola/krabby/prj.conf, zephyr/shim/src/console.c",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,09382e18c22f9788bba39300d4d1b1dcfc173332,ec524d7ca0af4bfd7f851cf244bd992c50013499,Tom Hughes,2021-10-25,"board/felwinter: Fix signal type\n\nWhen building with clang, it warns:\n\nboard/felwinter/usbc_config.c:206:16: error: implicit conversion from\nenumeration type 'enum gpio_signal' to different enumeration type 'enum\nioex_signal' [-Werror,-Wenum-conversion]\n                rst_signal = GPIO_USB_C1_RT_RST_R_ODL;\n                           ~ ^~~~~~~~~~~~~~~~~~~~~~~~\n\nWhen we are mixing gpio_signal and ioex_signal, we should be calling\ngpio_or_ioex_set_level, which will call gpio_set_level or ioex_set_level,\ndepending on the signal type.\n\nBRANCH=none\nBUG=b:172020503\nTEST=none\n\nSigned-off-by: Tom Hughes <tomhughes@chromium.org>\nChange-Id: Id835a1a31d686bee128e0908d3916f36447f78ec\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3243006\nReviewed-by: Keith Short <keithshort@chromium.org>\nReviewed-by: YH Lin <yueherngl@chromium.org>",1,0.9996984004974364,GPIO,board/felwinter/usbc_config.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,89b4f24840602a37da7cae29ba2e4abc616903f4,f8f839e252ab1eec2212e63a11bd470369aecbec,Diana Z,2021-10-28,"Zephyr: Fix CONFIG_USB_MUX_RUNTIME_CONFIG\n\nCONFIG_USB_MUX_RUNTIME_CONFIG should be independent of whether a board\nis setting up runtime TCPCs.  Since\nCONFIG_PLATFORM_EC_USB_MUX_RUNTIME_CONFIG is default of y, this means\nsome boards now need to set it to n explicitly.\n\nBRANCH=None\nBUG=b:195137794\nTEST=zmake testall\n\nSigned-off-by: Diana Z <dzigterman@chromium.org>\nChange-Id: I12bbb5ab1bf00dd3d56c0c960881df0774b381fe\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3252340\nCommit-Queue: Jack Rosenthal <jrosenth@chromium.org>\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>",1,0.999716341495514,"PLATFORM_EC, PLATFORM_EC_USB_MUX, PLATFORM_EC_USB_MUX_RUNTIME_CONFIG","zephyr/projects/asurada/hayato/prj.conf, zephyr/projects/corsola/krabby/prj.conf, zephyr/projects/herobrine/herobrine_npcx9/prj.conf, zephyr/projects/trogdor/lazor/prj.conf, zephyr/projects/trogdor/trogdor/prj.conf, zephyr/shim/include/config_chip.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,de15f2561387db545e056f8b2329b81753a08c90,675fd3f5c477e9de99addefabe694ed06a45754f,Ting Shen,2021-11-08,cherry: fix rt1718s frs setting\n\nBoth GPIO1/2 should reload when VBUS drop.\n\nBUG=b:204755351\nTEST=FRS works on Satechi type-c hub\nBRANCH=none\n\nSigned-off-by: Ting Shen <phoenixshen@google.com>\nChange-Id: Ic6022830e007ce2f8bfeeee7afa400090862cf20\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3267238\nTested-by: Ting Shen <phoenixshen@chromium.org>\nAuto-Submit: Ting Shen <phoenixshen@chromium.org>\nReviewed-by: Rong Chang <rongchang@chromium.org>\nCommit-Queue: Rong Chang <rongchang@chromium.org>,1,0.9996706247329712,GPIO,baseboard/cherry/baseboard.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4433b13348b354f1eca560fdbcb3c97257a36865,71a950203dbd641ef73353e14024731b892db80c,Tom Hughes,2021-10-05,"board/coral: Fix keyboard backlight GPIO\n\nWhen building with clang, it reports:\n\nboard/coral/gpio.inc:164:1: error: initializer overrides prior initialization\nof this subobject [-Werror,-Winitializer-overrides]\nALTERNATE(PIN(B, 6), 3, MODULE_PWM, 0)          /* PWM KB Backlight */\n\nThis expands to:\n\nstatic const struct gpio_alt_func gpio_alt_funcs[] = {\n ...\n{GPIO_PORT_B, (1U << (6)), .func = (3), .module_id = (MODULE_PWM), .flags =\n (0)},\n};\n\nThe problem is that struct gpio_alt_func has the order ""module_id, func,\nport, mask, flags"", so in this case we are setting func to (1U << (1))\nand then to (0).\n\nIt looks like the intent was to use the PIN_MASK macro instead of PIN,\nwhich expands to:\n\nstatic const struct gpio_alt_func gpio_alt_funcs[] = {\n ...\n{.port = GPIO_PORT_B, .mask = ((1U << (6))), .func = (3), .module_id =\n (MODULE_PWM), .flags = (0)},\n};\n\nBRANCH=none\nBUG=b:172020503\nTEST=make V=1 CC=arm-none-eabi-clang BOARD=coral\n\nSigned-off-by: Tom Hughes <tomhughes@chromium.org>\nChange-Id: Idcf0d0f9883eb46439d5b1a57c0118e496b74d44\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3205486\nReviewed-by: Abe Levkoy <alevkoy@chromium.org>",1,0.9996891021728516,GPIO,board/coral/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5d4a500896e4443bb49c640575c1651874ecf5a5,048ed1dca23971a4f17c13e131e2b188d839e912,reno.wang,2021-10-27,"taeko: Nx20p3483 cannot sink power after reset ec\n\nTo avoid nx20p3483 cannot sink power after reset ec w/ AC only in TCPC1\nport, EC shouldn't assert GPIO_USB_C1_RT_RST_R_ODL if no battery.\n\nThis is caused by ps8815 is in reset, so en_snk is asserted to low. In\nthis moment, nx20p3483 won't supply power to system. That means VBUS_IN\nis 0V. PP3300_USB_DB_Z1 may discharge to 0V, then nx20p3483 is reset to\ndefault, dead battery mode.\nHowever, adapter's pd keep in High-V because there is no De-attach\nprocess or HARD Reset event to send adapter pd.\nAs nx20p3483's datasheet, its default VBUS OVLO is 6.8V, but VBUS from\nadapter is High-V, nx20p3483 is latched and won't sink power.\n\nSo, after reset ec, it should check if battery is present or not before\nassert GPIO_USB_C1_RT_RST_R_ODL.\n\nBUG=b:202489681\nBRANCH=None\nTEST=make -j BOARD=taeko, verify ps8815 fw update in AC+DC, verify power\non/off with AC only\n\nSigned-off-by: reno.wang <reno.wang@lcfc.corp-partner.google.com>\nChange-Id: Ib403d2f3f8bbfb719c3fc932bc6a147bea8a2fcf\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3247730\nReviewed-by: Boris Mittelberg <bmbm@google.com>\nCommit-Queue: Boris Mittelberg <bmbm@google.com>",1,0.9994113445281982,GPIO,"board/taeko/gpio.inc, board/taeko/usbc_config.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,ddcd78caddb12f0ca8253e6221ca119c393f2b93,9b319bfc4ebd9c0f19d47aaaf47fb100052292e5,Rajesh Kumar,2021-12-02,"zephyr: brya: backlight lid configuration cleanup\n\nFix conflicting configuration for backlight lid.\nCONFIG_PLATFORM_EC_BACKLIGHT_LID will be enabled by default,\nno need to enable explicitly, removing this from prj.conf.\n\nBUG=b:208787653\nBRANCH=none\nTEST=zmake configure -B ~/tmp/brya/ brya -b\n\nSigned-off-by: Rajesh Kumar <rajesh3.kumar@intel.com>\nChange-Id: Ia44ae2c51b913817b1b7ac31aa1cb16ef623aa27\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3313322\nReviewed-by: Divya S Sasidharan <divya.s.sasidharan@intel.com>\nReviewed-by: Tanu Malhotra <tanu.malhotra@intel.com>\nReviewed-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>",1,0.9995373487472534,"PLATFORM_EC, PLATFORM_EC_BACKLIGHT_LID",zephyr/projects/brya/brya/prj.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4237724362e87c1b3fa048f03b636840a5d31f0f,b7e4401fc2b5f1a923b48973b9c0e3cdb8d1c8aa,Sue Chen,2021-12-02,Dewatt: fix LED behavior for Ver1 board\n\nVer1 board:\nGPIOC4(PWM2) -> Blue LED\nGPIO80(PWM3) -> Amber LED\n\nBUG=b:208179462\nBRANCH=none\nTEST=LED behavior is correct for all states.\n\nSigned-off-by: Sue Chen <sue.chen@quanta.corp-partner.google.com>\nChange-Id: I6f07b69119583675651a76cf9f0f67caff5afad1\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3312918\nReviewed-by: Rob Barnes <robbarnes@google.com>,1,0.9996659755706788,GPIO,board/dewatt/led.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5656dcd4891cd2388066c6dcd81319c20cbfdbd1,9be8edcfccb75d7a564a88218c3b845a7692ba74,Andrew McRae,2021-12-04,"pinmap: Add utility to generate Zephyr DTS GPIO configs\n\nAdd a pinmap utility to generate Zephyr DTS GPIO configs\nfrom a spreadsheet.\n\nv2: Fix test package names, add tests for reader and generator.\n\nBUG=none\nTEST=./pinmap --chip=NPCX993 --output=/tmp/x.dts /tmp/nissa.csv\nBRANCH=none\n\nSigned-off-by: Andrew McRae <amcrae@google.com>\nChange-Id: Id48ca6670f019c742f41824d6d9c41cb747aaa97\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3347353\nReviewed-by: Eizan Miyamoto <eizan@chromium.org>",1,0.98890882730484,GPIO,"util/pinmap/README.md, util/pinmap/chips/it81302.go, util/pinmap/chips/npcx993.go, util/pinmap/chips/npcx993_test.go, util/pinmap/chips/register.go, util/pinmap/go.mod, util/pinmap/pinmap/main.go, util/pinmap/pm/chip.go, util/pinmap/pm/chip_test.go, util/pinmap/pm/generate.go, util/pinmap/pm/generate_test.go, util/pinmap/pm/pins.go, util/pinmap/pm/reader.go, util/pinmap/pm/reader_test.go, util/pinmap/readers/csv/csv.go, util/pinmap/readers/csv/csv_test.go, util/pinmap/readers/csv/register.go, util/pinmap/readers/csv/testdata/data.csv",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,8c4fde9e97ed9736e07b90722903a65f2b742413,7b93b64122ee3d73689eb5f8621d173ea92936ea,Keith Short,2021-12-22,"zephyr: fix kb_raw Kconfig dependency\n\nThe cros_kb_raw driver requires the TASK_ID_KEYSCAN task, so add\ndependency on PLATFORM_EC_KEYBOARD.\n\nBUG=none\nBRANCH=none\nTEST=zmake testall\n\nChange-Id: I2f68e02bc39b0a7f013157042bfe3edc9d50d857\nSigned-off-by: Keith Short <keithshort@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3353272\nReviewed-by: Aaron Massey <aaronmassey@google.com>",1,0.99968159198761,"PLATFORM_EC, PLATFORM_EC_KEYBOARD",zephyr/drivers/cros_kb_raw/Kconfig,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,6216308f1013ed86c78fd46afe45d5e279b107a6,18fe3e8bee2329648ecad79c60c20c1fff0555aa,Dawid Niedzwiecki,2021-12-22,"zephyr: adc: verify console commands configs\n\nAdd a condition to make sure there is only one ""adc"" console command\nenabled.\n\nBUG=b:208435885\nTEST=zmake testall && Enable CONFIG_PLATFORM_EC_ADC_CMD and\nCONFIG_ADC_SHELL, then make sure the build fails\nBRANCH=main\nSigned-off-by: Dawid Niedzwiecki <dn@semihalf.com>\nChange-Id: I4f586a2c6edda457a10e4e644fb851d92c39b13f\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3352467\nReviewed-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Dawid Niedzwiecki <dawidn@google.com>",1,0.9992321729660034,"ADC_SHELL, PLATFORM_EC, PLATFORM_EC_ADC_CMD",zephyr/shim/src/adc.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4405e6cdefadb54739ddb26598420a97bee525df,84010570390193c85e657f90ae10fe45cef8ea79,Eric Yilun Lin,2021-12-07,zephyr: kingler: fix GPIO_EC_X_GPIO1 naming\n\nThe name was reversed.\n\nBUG=b:203739613\nTEST=zmake testall\nBRANCH=none\n\nChange-Id: Ib29fa1845364c6566cc4d333908da4315b4ab3ca\nSigned-off-by: Eric Yilun Lin <yllin@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3319980\nTested-by: Eric Yilun Lin <yllin@google.com>\nAuto-Submit: Eric Yilun Lin <yllin@google.com>\nReviewed-by: Rong Chang <rongchang@chromium.org>\nCommit-Queue: Eric Yilun Lin <yllin@google.com>,1,0.9995949864387512,GPIO,zephyr/projects/corsola/gpio_kingler.dts,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f4658ca0e26beeaa22b5667463ce820ca0ddf49b,f7028c8e8597b98327febc4a6855889576545bad,Peter Marheine,2021-12-29,zephyr: add kconfig support for RAA489000 charger\n\nThis has a dependency on the configuration for sense resistors because\nif those values are not configured then it instead causes a confusing\ncompile-time error in a generated source file that exposes config values\nas symbols in the output object files.\n\nBUG=b:211693800\nTEST=zmake testall; CONFIG_PLATFORM_EC_CHARGER_RAA489000 can be enabled\nBRANCH=none\n\nSigned-off-by: Peter Marheine <pmarheine@chromium.org>\nChange-Id: Ide012a5c1615efa00eb01196d48b3bf25e222521\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3359173\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>,1,0.9996328353881836,"PLATFORM_EC, PLATFORM_EC_CHARGER, PLATFORM_EC_CHARGER_RAA489000","zephyr/CMakeLists.txt, zephyr/Kconfig.battery, zephyr/shim/include/config_chip.h",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a8b62c915f5be412755b4899def265c7a117f682,4a025a423ee2adf83afd8541c471e6e9dab43f47,Eric Yilun Lin,2021-12-08,"zephyr: kingler: fix GPIO default states\n\n- Set GPIOE3, GPIO40 low-voltage pin\n- Set EC_PEN_CHG_DIS_ODL input\n- EN_PP5000_Z2 default high\n\nBUG=b:203739613\nTEST=measure the pins and ensure they are correct\nBRANCH=none\n\nChange-Id: Ib8f9ed5a3fa5aa73fd1b9acd82a36b750c1633d8\nSigned-off-by: Eric Yilun Lin <yllin@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3322213\nTested-by: Eric Yilun Lin <yllin@google.com>\nAuto-Submit: Eric Yilun Lin <yllin@google.com>\nReviewed-by: Ting Shen <phoenixshen@chromium.org>\nCommit-Queue: Ting Shen <phoenixshen@chromium.org>",1,0.9997034668922424,GPIO,zephyr/projects/corsola/gpio_kingler.dts,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,79c8dfbe762255bc322efbcd460961586c02389b,fb0455768a04653f2d2b66c270c3cc67a2d299f5,Keith Short,2021-12-16,"zephyr: ioex: Fix compile error when cros ioex drivers disabled\n\nThe link fails when the following Kconfig options are set:\n    CONFIG_PLATFORM_EC_IOEX=y\n    CONFIG_PLATFORM_EC_IOEX_CROS_DRV=n\n\nStub out the ioex_config[] array for this configuration.\n\nBUG=none\nBRANCH=none\nTEST=Using next CL, verify herobrine_npcx9 compile when enabling an\nupstream Zephyr IOEX driver.\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: I1db49fe30374b2fe329d42c9568a94ee0607e3a1\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3344029\nReviewed-by: Aaron Massey <aaronmassey@google.com>\nReviewed-by: Al Semjonovs <asemjonovs@google.com>",1,0.9997122883796692,"PLATFORM_EC, PLATFORM_EC_IOEX_CROS_DRV",zephyr/shim/src/ioex.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,e296efb28b16278fd3a94ab79f5a2f6a36abdc03,c53da4bba31391a1919c17b5b6027f2337aba714,Rob Barnes,2022-01-05,"usb_common: Fix CONFIG_USB_PD_DISCHARGE_TCPC typo\n\nTCPC discharge vbus should be called when CONFIG_USB_PD_DISCHARGE_TCPC\nis enabled. CONFIG_USB_PD_DISCHARGE_PPC was erroneously being checked\ninstead.\n\nBUG=b:205285137, b:199919093\nBRANCH=None\nTEST=Thinkvision P32p-20 works with Nipperkin on C0 and C1\n\nChange-Id: Ifadff5fd43adb22a75428e4ac1a3a4b3e024766c\nSigned-off-by: Rob Barnes <robbarnes@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3368352\nReviewed-by: Parth Malkan <parthmalkan@google.com>\nReviewed-by: Diana Z <dzigterman@chromium.org>",1,0.999723255634308,USB_PD_DISCHARGE,common/usb_common.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,596a6254a87227b57abd22c835b543b77e7cd882,e904f4224392fa96c630252e904985a361c1ad50,Sue Chen,2021-12-22,"Quackingstick: fix hibernate behavior for rev1\n\nThe power of hall sensor and the LID_OPEN_EC on rev1 are\ndifferent, and it cause LID_OPEN_EC wake the EC immediately\nwhen EC enter hibernate.\nRemove GPIO_LID_OPEN from hibernate_wake_pins for\nboard_id <= 1 to let rev1 dut can enter hibernate.\n\nRev1 needs the workaround for ACOK can't go High to wake EC up.\n\nSet GPIO_HIBERNATE_L always open-drain.\n\nBUG=none\nBRANCH=trogdor\nTEST=Rev1 dut can enter hibernate\n\nSigned-off-by: Sue Chen <sue.chen@quanta.corp-partner.google.com>\nChange-Id: Idc533cb9e216b9e220bb9b2dcc5b2f98975c40d9\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3353051\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>\nReviewed-by: Bob Moragues <moragues@chromium.org>\nCommit-Queue: Bob Moragues <moragues@chromium.org>",1,0.9996919631958008,GPIO,"baseboard/trogdor/baseboard.c, baseboard/trogdor/baseboard.h, board/quackingstick/board.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,15adfa125e101b8162ca5f74221c5cdabb960464,da4816c675b642cbac08457ab78f57bfe3f02ea7,Rajesh Kumar,2022-01-12,zephyr: ioex: Fix crash when cros ioex drivers disabled\n\nEC crash in ioex_init() if the following Kconfig options are set:\n    CONFIG_PLATFORM_EC_IOEX=y\n    CONFIG_PLATFORM_EC_IOEX_CROS_DRV=n\n\nreturning EC_SUCCESS if CONFIG_PLATFORM_EC_IOEX_CROS_DRV is not enabled.\n\nBUG=none\nBRANCH=none\nTEST=zmake testall\n\nSigned-off-by: Rajesh Kumar <rajesh3.kumar@intel.com>\nChange-Id: I51e83b14e46efd605e23922c9025a1aaa03f1098\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3384475\nReviewed-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>,1,0.9997245669364928,"PLATFORM_EC, PLATFORM_EC_IOEX_CROS_DRV",zephyr/shim/src/ioex.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,ab207f02263624b765508a17a7fea36071770b8b,f4de07783f55f5d09e2efa114b4a262498b555e8,Scott Chao,2022-01-10,primus: fix Goodix touchpad initialize failed\n\nGoodix touchpad AVDD need to pull low to 0V when poweroff.\nSetting PS2 module in GPIO.inc will let AVDD have 0.9V offset.\nSo we need to enable PS2 module later than PLTRST# to avoid the 0.9V\noffset.\n\nBUG=b:214150759\nBRANCH=none\nTEST=make -j BOARD=primus\nTEST=verified by Goodix\n\nSigned-off-by: Scott Chao <scott_chao@wistron.corp-partner.google.com>\nChange-Id: I49869d26262948f7f7242ebe494eef86e459a42c\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3376688\nReviewed-by: Boris Mittelberg <bmbm@google.com>\nReviewed-by: caveh jalali <caveh@chromium.org>\nCommit-Queue: caveh jalali <caveh@chromium.org>,1,0.9994749426841736,GPIO,"board/primus/gpio.inc, board/primus/ps2.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,c0297a6e5396a0ce4ed30e2092c5c6c63c209c17,a1ef248358601d2e994e41692f11fd2bebe6f24c,Tristan Honscheid,2022-01-19,zephyr: Kconfig: Fix behavior of VBUS detection mode\n\nMake CONFIG_PLATFORM_EC_USB_PD_VBUS_DETECT_NONE the default choice for\nVBUS detection and make it explicit. Then set the detection mode to\n_TCPC in the test `prj.conf` file.\n\nBRANCH=None\nBUG=b:215392619\nTEST=zmake -D configure --test test-drivers;\n\nSigned-off-by: Tristan Honscheid <honscheid@google.com>\nChange-Id: I9d382ba04e93480fd79f9c4407ed5a85fd5079f0\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3404938\nReviewed-by: Jeremy Bettis <jbettis@chromium.org>,1,0.9994744658470154,"PLATFORM_EC, PLATFORM_EC_USB_PD_VBUS_DETECT_NONE","zephyr/Kconfig.usbc, zephyr/test/drivers/prj.conf",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,1e6dd02f273b928cd21fa9ddea6ec9f81acdf85e,418bea4e51a4ccc6a2a86af94661709084955100,Wai-Hong Tam,2022-01-24,"zephyr: npcx9: Fix the board name in the endif\n\nThe board name should be BOARD_NPCX9.\n\nBRANCH=None\nBUG=None\nTEST=None, trivial\n\nChange-Id: I1b8863ec9b5da149c031c63034dedca7a6c00a82\nSigned-off-by: Wai-Hong Tam <waihong@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3413732\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>\nCommit-Queue: Jack Rosenthal <jrosenth@chromium.org>",1,0.9993680119514464,BOARD_NPCX9,zephyr/boards/arm/npcx9/Kconfig.defconfig,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4a1bd80365d365e6976f4fdc97251ed1f3cc2681,a67aa9e4c98ff1b5c584ac51779490092a70f332,arthur.lin,2022-01-10,taniks: fix MB PD fail due to interrupt not work\n\nDefine NPCX_SELECT_KSI_TO_GPIO to fix GPIO_USB_C0_TCPC_INT_ODL\ninterrupt function no work issue.\n\nBUG=b:213412432\nBRANCH=none\nTEST=make buildall -j\n\nCq-Depend: chromium:3369175\nSigned-off-by: arthur.lin <arthur.lin@lcfc.corp-partner.google.com>\nChange-Id: Id88ba03d39c1c03c63eb4d8f6995f0f3dacd6758\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3376687\nReviewed-by: Boris Mittelberg <bmbm@google.com>\nReviewed-by: caveh jalali <caveh@chromium.org>,1,0.9997208714485168,GPIO,"board/taniks/board.c, board/taniks/board.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4143c7deffdd18e9e112e7f7f76173db5484b591,4a6ee66519fd49ce405614de30655ff637b4788b,Al Semjonovs,2022-01-26,zephyr: drivers: Fix GPIO zephyr/ec flag conversion\n\nAny bitwise AND with 0 will always be FALSE\n\nBRANCH=none\nBUG=b:216483477\nTEST=zmake testall\n\nSigned-off-by: Al Semjonovs <asemjonovs@google.com>\nChange-Id: I5806d6f4189b587e2ae22ed836e2eb2bba649d74\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3417022\nReviewed-by: Yuval Peress <peress@google.com>,1,0.9996508359909058,GPIO,zephyr/shim/src/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,1f997a95b74503227388030c9237e998bf74b087,3c743670489e30a9843095bfc9463537c1c2f07f,Patryk Duda,2022-01-21,"cortex-m: Introduce FPU interrupt handler\n\nWhen performing some illegal operation or when result can't be\nrepresented using floats, the FPU will assert an interrupt which\nshould be handled.\n\nAfter this change, the EC will inform about type of FPU exception\nand address where it ocurred. To reduce overhead, the FPU handler will\nonly copy necessary information, schedule fpu_warn() function and clear\nFPU flags. Message is printed from fpu_warn() which is deferred function\n(it's called from HOOK task context).\n\nPlease note that:\n- FPU interrupt is not asserted immediately after problem occurred, but\n  with noticeable delay, so PC and LR might not be correct.\n- FPU interrupt will be never triggered on STM32H7 (see errata ES0392\n  Rev 8, 2.1.2 Cortex-M7 FPU interrupt not present on NVIC line 81).\n\nBUG=b:215606535\nBRANCH=none\nTEST=./test/run_device_tests.py --board bloonchipper --tests cortexm_fpu\nTEST=./test/run_device_tests.py --board dartmonkey --tests cortexm_fpu\n\nSigned-off-by: Patryk Duda <pdk@semihalf.com>\nChange-Id: Ib6f6c974082affc35302a822f0beea176e204206\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3412259\nReviewed-by: Simon Glass <sjg@chromium.org>\nReviewed-by: Bobby Casey <bobbycasey@google.com>\nReviewed-by: Tom Hughes <tomhughes@chromium.org>\nCommit-Queue: Patryk Duda <patrykd@google.com>",1,0.9993464350700378,FPU,"board/hatch_fp/board.h, board/hatch_fp/build.mk, board/nocturne_fp/board.h, board/nocturne_fp/build.mk, chip/stm32/build.mk, chip/stm32/fpu.c, core/cortex-m/build.mk, core/cortex-m/cpu.h, core/cortex-m/fpu.c, include/config.h, test/build.mk, test/cortexm_fpu.c, test/cortexm_fpu.tasklist, test/run_device_tests.py, util/config_allowed.txt",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,395edacc422dff4b74ee2a594351421dbb9ae74e,8a40e1daa12c8b8ac5051501bb60b8c0d90137c7,Wai-Hong Tam,2022-02-07,"zephyr: ec: Enable stack sentinel\n\nEnable stack sentinel by default. It makes the EC crash immediately\nwhen a stack overflow is detected. A fatal error code 2\n(K_ERR_STACK_CHK_FAIL) is reported.\n\nBRANCH=None\nBUG=b:216482396\nTEST=Enabled CONFIG_PLATFORM_EC_STACKOVERFLOW=y and ran the command\n""crash stack"".\n\nuart:~$ crash stack\n+1+2+3+4+5+6+7+8+9+10+11+12+13+14+15+...\nFatal error: 2\n   a1       = 0x00000002\n   a2       = 0x200C62D0\n   a3       = 0xF0F0F0F0\n   a4       = 0x200CA288\n   ip       = 0x0000000A\n   lr       = 0x1009F8B9\n   pc       = 0x100A1438\n   xpsr     = 0x41000031\n\nChange-Id: I19451b63124d0f90e3e1bbf62685165f539dd863\nSigned-off-by: Wai-Hong Tam <waihong@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3445451\nReviewed-by: Keith Short <keithshort@chromium.org>",1,0.9997054934501648,PLATFORM_EC,zephyr/app/ec/Kconfig,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,2e5b1b1f36ddab0a6769a0e016ba0ac92263dbfd,395edacc422dff4b74ee2a594351421dbb9ae74e,Simon Glass,2022-01-31,"Makefile: Switch to the Python script for CONFIG checking\n\nThis is the second attempt, fixing the problem with CONFIG_DAC and\nother options. These must be left in config_allowed but ignored if\nthey show up as present in Kconfig.\n\nLeave the following in config_allowed since they are defined both\nas CONFIG options in ECOS and Kconfig options in Zephyr:\n\n    AUDIO_CODEC\n    DAC\n    DMA\n    EEPROM\n    I2C_BITBANG\n    PECI\n    SPI\n    UART_CONSOLE\n\nBUG=b:181323955\nBRANCH=none\nTEST=./util/kconfig_check.py -c build/blipper/.config\n   -a util/config_allowed.txt -p PLATFORM_EC_ -s zephyr/\n   -I ~/cosarm/src/third_party/zephyr/main -i DAC check\nSee that this does not cause an error now\n\nSigned-off-by: Simon Glass <sjg@chromium.org>\nChange-Id: I1fc7ac9cde106c61dd28b30673830407aa8c1a29\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3425452\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>",1,0.9996401071548462,"PLATFORM_EC, UART_CONSOLE","Makefile.rules, util/build_allowed.sh, util/check_allowed.sh, util/config_allowed.txt",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9511fc40f584c700e6aff232a448c675d238fb7d,5c9813df84e0d0794a92108262fc255854f6565c,Yu-An Chen,2022-02-11,volmar: Fixed FRS_EN pin define\n\nDisable FRS_EN pin PWM define and setting to GPIO_OUT_LOW\n\nBUG=b:211891086\nBRANCH=none\nTEST=check pd 0 boot without battery\nSigned-off-by: Yu-An Chen <yu-an.chen@quanta.corp-partner.google.com>\nChange-Id: Ifbc2b8ace7ff5329e59136401e081c5d0fdfd177\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3454465\nReviewed-by: caveh jalali <caveh@chromium.org>\nCommit-Queue: caveh jalali <caveh@chromium.org>,1,0.9996360540390016,GPIO,board/volmar/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4a1570d51015e6833b91007d2b16181eb8e8c2d9,c555168cf63c9b8a49b783c9d410dfeb632e0601,Keith Short,2022-02-10,"zephyr: Fix GPIO includes for EC chips\n\nCode under the zephyr subdirectory should use the upstream Zephyr API\nfor accessing GPIOs. There are name conflicts for the GPIO flags, so\nensure Zephyr code always includes the Zephyr header file.\n\nBUG=b:218856245\nBRANCH=none\nTEST=zmake testall\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: I2be5ca58246bbe0679127ca4a17913dcddadc807\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3489103\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>",1,0.9996871948242188,GPIO,"zephyr/drivers/cros_flash/cros_flash_npcx.c, zephyr/drivers/cros_flash/cros_flash_xec.c, zephyr/drivers/cros_system/cros_system_it8xxx2.c, zephyr/drivers/cros_system/cros_system_npcx.c, zephyr/drivers/cros_system/cros_system_xec.c, zephyr/shim/chip/it8xxx2/gpio.c, zephyr/shim/chip/npcx/gpio.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,544df157dba6b6ebb8b8b485ac6699645e952e87,4a1570d51015e6833b91007d2b16181eb8e8c2d9,Keith Short,2022-02-10,"zephyr: Fix GPIO includes for shim drivers\n\nCode under the zephyr subdirectory should use the upstream Zephyr API\nfor accessing GPIOs. There are name conflicts for the GPIO flags, so\nensure Zephyr code always includes the Zephyr header file.\n\nBUG=b:218856245\nBRANCH=none\nTEST=zmake testall\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: Ide1081400c05957c704a2904b492efab8da3b3e5\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3489104\nReviewed-by: Yuval Peress <peress@google.com>",1,0.9996800422668456,GPIO,"zephyr/shim/src/cbi/cbi_eeprom.c, zephyr/shim/src/espi.c, zephyr/shim/src/fan.c, zephyr/shim/src/switchcap_gpio.c, zephyr/shim/src/switchcap_ln9310.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,498c8a0ad97fd1ee03ece7fbb4485c3bffff8505,544df157dba6b6ebb8b8b485ac6699645e952e87,Keith Short,2022-02-10,zephyr: Fix GPIO includes for brya\n\nUse the Zephyr driver GPIO include for Zephyr shim code instead of the\nlegacy EC GPIO header.\n\nBUG=b:218856245\nBRANCH=none\nTEST=zmake testall\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: Ic344b5038159692a35a85205fe4ac40d401f37c8\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3489105\nReviewed-by: Al Semjonovs <asemjonovs@google.com>,1,0.9996545314788818,GPIO,"zephyr/projects/brya/brya/battery_present.c, zephyr/projects/brya/brya/kblight_hooks.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,8cf6f2acfdba3b8c08610821876bf445e06de7c1,498c8a0ad97fd1ee03ece7fbb4485c3bffff8505,Keith Short,2022-02-10,zephyr: Fix GPIO includes for corsola\n\nUse the Zephyr driver GPIO include for Zephyr shim code instead of the\nlegacy EC GPIO header.\n\nBUG=b:218856245\nBRANCH=none\nTEST=zmake testall\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: I80f9cbf012a9bd49b80f2b0fad1f0663da2e34b1\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3489246\nReviewed-by: Tristan Honscheid <honscheid@google.com>,1,0.9996331930160522,GPIO,"zephyr/projects/corsola/include/baseboard_usbc_config.h, zephyr/projects/corsola/src/board_chipset.c, zephyr/projects/corsola/src/hibernate.c, zephyr/projects/corsola/src/kingler/usb_pd_policy.c, zephyr/projects/corsola/src/kingler/usbc_config.c, zephyr/projects/corsola/src/krabby/battery.c, zephyr/projects/corsola/src/krabby/hooks.c, zephyr/projects/corsola/src/krabby/led.c, zephyr/projects/corsola/src/usbc_config.c, zephyr/projects/corsola/src/variant_db_detection.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,27ea64d314de7f5da9bbd6b505ef729491f19027,8cf6f2acfdba3b8c08610821876bf445e06de7c1,Keith Short,2022-02-10,zephyr: Fix GPIO includes for herobrine\n\nUse the Zephyr driver GPIO include for Zephyr shim code instead of the\nlegacy EC GPIO header.\n\nBUG=b:218856245\nBRANCH=none\nTEST=zmake testall\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: I9ae2595e16e8b0ef95f5f0eea9f9387b2ec5e97f\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3489247\nReviewed-by: Jeremy Bettis <jbettis@chromium.org>,1,0.9996455907821656,GPIO,"zephyr/projects/herobrine/src/led.c, zephyr/projects/herobrine/src/usb_pd_policy.c, zephyr/projects/herobrine/src/usbc_config.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a9ea53137e1f2b2d856db96c6dd1b8360f32a5a2,27ea64d314de7f5da9bbd6b505ef729491f19027,Keith Short,2022-02-10,zephyr: Fix GPIO includes for intelrvp\n\nUse the Zephyr driver GPIO include for Zephyr shim code instead of the\nlegacy EC GPIO header.\n\nBUG=b:218856245\nBRANCH=none\nTEST=zmake testall\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: Ib2eb4ab3457957c1048976e6a4fa6dd0013c1abf\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3489248\nReviewed-by: Tristan Honscheid <honscheid@google.com>,1,0.9996381998062134,GPIO,"zephyr/projects/intelrvp/adlrvp/src/adlrvp.c, zephyr/projects/intelrvp/src/intelrvp.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,258b8b1f495388014852661a49d34e5a72b60aba,a9ea53137e1f2b2d856db96c6dd1b8360f32a5a2,Keith Short,2022-02-10,zephyr: Fix GPIO includes for nissa\n\nUse the Zephyr driver GPIO include for Zephyr shim code instead of the\nlegacy EC GPIO header.\n\nBUG=b:218856245\nBRANCH=none\nTEST=zmake testall\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: I6c5487ba4fbad40a764c934743c5c630339367f9\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3489249\nReviewed-by: Al Semjonovs <asemjonovs@google.com>,1,0.9996424913406372,GPIO,"zephyr/projects/nissa/src/nereid/board_config.c, zephyr/projects/nissa/src/nivviks/board_config.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a321a231a85662deec5b4b707ea4eea94c7a846e,258b8b1f495388014852661a49d34e5a72b60aba,Keith Short,2022-02-10,zephyr: Fix GPIO includes for skyrim\n\nUse the Zephyr driver GPIO include for Zephyr shim code instead of the\nlegacy EC GPIO header.\n\nBUG=b:218856245\nBRANCH=none\nTEST=zmake testall\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: Ib809dbbd438ce53482bc32a3c14603e11ebad82d\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3489250\nReviewed-by: Aaron Massey <aaronmassey@google.com>,1,0.9996206760406494,GPIO,"zephyr/projects/skyrim/led.c, zephyr/projects/skyrim/power_signals.c, zephyr/projects/skyrim/power_signals_guybrush.c, zephyr/projects/skyrim/usb_pd_policy.c, zephyr/projects/skyrim/usbc_config.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,297e07c006a3b78496de764330e5b5f0d85bd8ca,a321a231a85662deec5b4b707ea4eea94c7a846e,Keith Short,2022-02-10,zephyr: Fix GPIO includes for trogdor\n\nUse the Zephyr driver GPIO include for Zephyr shim code instead of the\nlegacy EC GPIO header.\n\nBUG=b:218856245\nBRANCH=none\nTEST=zmake testall\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: I0db2fc70e2d918c4c2a8b28e8e9f70f095fc6bf3\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3489251\nReviewed-by: Jeremy Bettis <jbettis@chromium.org>,1,0.99965238571167,GPIO,"zephyr/projects/trogdor/lazor/include/usbc_config.h, zephyr/projects/trogdor/lazor/src/led.c, zephyr/projects/trogdor/lazor/src/power.c, zephyr/projects/trogdor/lazor/src/sku.c, zephyr/projects/trogdor/lazor/src/switchcap.c, zephyr/projects/trogdor/lazor/src/usb_pd_policy.c, zephyr/projects/trogdor/lazor/src/usbc_config.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7c154028b0a89e8c133ac291c1c1577b6f45d785,fb85078a2c24ec1efc92acb0ca8583d1cb5ee3fc,Rajesh Kumar,2022-03-04,zephyr: ioex: Fix compile error when cros ioex drivers enabled\n\nThis fix Compilation error: implicit declaration of function\n'convert_from_zephyr_flags' when the following Kconfig options are set:\n    CONFIG_PLATFORM_EC_IOEX=y\n    CONFIG_PLATFORM_EC_IOEX_CROS_DRV=y\n\nBUG=none\nBRANCH=none\nTEST=Zephyr Build Succssfull\n\nSigned-off-by: Rajesh Kumar <rajesh3.kumar@intel.com>\nChange-Id: I87a0deec1f2a2cac429568af17308f7c9ff95c4f\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3503402\nReviewed-by: Wai-Hong Tam <waihong@google.com>,1,0.9997246861457824,"PLATFORM_EC, PLATFORM_EC_IOEX_CROS_DRV",zephyr/shim/src/ioex_drv.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,c07ccd305631fab82edf31c7dfe47884ae7f2cf0,2e34608dccb49c11da3aca8fddaf7247ba3cb54f,Keith Short,2022-03-15,zephyr: Fix checks for GPIO flags used in the devicetree\n\nThe EC application uses some GPIO flags that are not exposed by Zephyr\nupstream to devicetree files. The EC application duplicates these flags\nso the default GPIO pin state can be set in a central location.\n\nVerify that all duplicated flags match the expected value.\n\nBUG=b:224821728\nBRANCH=none\nTEST=zmake testall\nTEST=verify Herobrine boots the AP\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: I1f307337aafb76e09eced8c85aaf8e7e57672e73\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3526270\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>,1,0.9568520188331604,GPIO,include/gpio.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,0897b8b0b094678ee04cec85cbf0ab48c381c314,8fdeca9981e46bbf85ed56b355669a270db4a83f,"Perez Priego, Bernardo",2022-03-21,"ap_pwrseq: Increase AP_PWRSEQ_STACK_SIZE\n\nThis is required to avoid stack overflow when triggering\nsystem shutdown.\n\nBUG=b:225756599\nTEST=Boot SOC to OS; issue command 'shutdown -h now';\n     System should power down to G3.\nBRANCH=none\n\nSigned-off-by: Perez Priego, Bernardo <bernardo.perez.priego@intel.com>\nChange-Id: If7b67443b8d67ab1ff91e8b095cbcd4b28d3cabd\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3541339\nReviewed-by: Andrew McRae <amcrae@google.com>\nReviewed-by: Li1 Feng <li1.feng@intel.com>\nCommit-Queue: Andrew McRae <amcrae@google.com>",1,0.9522283673286438,"AP_PWRSEQ, AP_PWRSEQ_STACK_SIZE",zephyr/subsys/ap_pwrseq/Kconfig,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,38cc7dbe2af6d2e28e4cad02807d84dcb0b6646a,e0e0fbf3e41fc78fbbcc4e4bf4e0e955dfcef4ab,Eric Yilun Lin,2022-03-07,"zephyr: fix missing USB_PD_DISCHARGE* macros\n\nThe macros are missing in the config_chip.h.\nAlso, the config is actually not enabled in the test config, so\nto ensure the consistency and to prevent the broken test so disable it.\n\nBUG=none\nTEST=zmake test\nBRANCH=none\n\nChange-Id: I07b86fa0cc8cc9f832baa060335df14c2c340b6b\nSigned-off-by: Eric Yilun Lin <yllin@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3506873\nReviewed-by: Ting Shen <phoenixshen@chromium.org>\nCommit-Queue: Eric Yilun Lin <yllin@google.com>\nTested-by: Eric Yilun Lin <yllin@google.com>",1,0.9997155070304872,USB_PD_DISCHARGE,"zephyr/shim/include/config_chip.h, zephyr/test/drivers/prj.conf",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,932a1fb74775e75bbd122d75c24e34f975e72f70,38cc7dbe2af6d2e28e4cad02807d84dcb0b6646a,Eric Yilun Lin,2022-03-07,rt1718s: fix rt1718s_gpio index\n\nThe index is counted starting by 1 in the datasheet.\n\nBUG=b:223086905\nTEST=ec:~$ rt1718s_gpio\n           C1 GPIO1 OD=0 PU=0 PD=0 OE=1 HL=0\n           C1 GPIO2 OD=0 PU=0 PD=0 OE=1 HL=0\n           C1 GPIO3 OD=0 PU=0 PD=0 OE=1 HL=0\nBRANCH=none\n\nChange-Id: Ib7f7e9114c03fe39cc828c7942743a75351cf98d\nSigned-off-by: Eric Yilun Lin <yllin@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3506874\nReviewed-by: Ting Shen <phoenixshen@chromium.org>\nCommit-Queue: Eric Yilun Lin <yllin@google.com>\nTested-by: Eric Yilun Lin <yllin@google.com>,1,0.9997022747993468,GPIO,driver/tcpm/rt1718s.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9d951e74e8bc24e4eb8a206991bcd854cfbdc4dc,b97ba790690d1ee86c001ef0a82be5897645ae2f,felixtwchang,2022-03-29,"Banshee: Revise GPIO define for leakage issue\n\nEC keep EC_ALS_RGB_INT_L high in S5 state, which cause 0.7V leakage from\nthis pin.\nThis pin was set UNUSED(PIN(D,4)), which set GPIO to Input and Internal\npull high.\nWe neet to set it to just input.\n\nBUG=b:225943238\nBRANCH=none\nTEST=EC_ALS_RGB_INT_L get low after power off.\n\nSigned-off-by: felixtwchang <felixtw_chang@compal.corp-partner.google.com>\nChange-Id: Ie4741c0f53757adb075586e316f0a73148732f83\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3555951\nReviewed-by: Elthan Huang <elthan_huang@compal.corp-partner.google.com>\nReviewed-by: Zhuohao Lee <zhuohao@chromium.org>",1,0.9992794394493104,GPIO,board/banshee/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9198149037b783de361169e91793aba964c54ff9,3d5ddbc6e8bad5d183fbb99d832475c9ed7381aa,Keith Short,2022-03-30,"zephyr: fix build check for number of tasks\n\nThe Brya platform had 17 tasks, while the CONFIG_NUM_PREEMPT_PRIORITIES\nwas set to 16, but the build check didn't catch this.\n\nUse BUILD_ASSERT for the check instead.\n\nBUG=none\nBRANCH=none\nTEST=Verify byra platform fails to build when\nCONFIG_NUM_PREEMPT_PRIORITIES is 16.\nTEST=zmake testall\n\nSigned-off-by: Keith Short <keithshort@chromium.org>\nChange-Id: Ibbccf546f9216acdf43475d9000a29ca199da6fe\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3562040\nReviewed-by: Sam Hurst <shurst@google.com>",1,0.999727427959442,NUM_PREEMPT_PRIORITIES,zephyr/shim/src/tasks.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,543cc442c88196c2efd90c77bc89841766bbbb9a,34d717e035fddf51440cf84f9f423a9a59cca486,Pablo Ceballos,2022-03-17,"moonbuggy: Update GPIOs\n\nImplement the GPIOs that have been changed from genesis.\n\n- Removed several USB A ports\n- Added ADB I2C\n- Removed USB_C0_TCPC and USB_C0_TCPPC I2C\n- Added various misc pins: HDMI_DATA_EN_DB, EN_USB_C0_5V_OUT,\n  SBU_C0_FAULT_ODL\n- Fixed typo in the name of EN_AC_JACK_CHARGER_EC_L\n- Only support red and blue LED\n\nBUG=None\nTEST=moonbuggy boots\nBRANCH=None\n\nChange-Id: I98256236b83ffd21bd989b0aba4eaab6b38cee69\nSigned-off-by: Pablo Ceballos <pceballos@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3561031\nTested-by: Pablo Ceballos <pceballos@chromium.org>\nAuto-Submit: Pablo Ceballos <pceballos@chromium.org>\nReviewed-by: Joe Tessler <jrt@chromium.org>\nReviewed-by: Rehan Ghori <rehang@chromium.org>\nCommit-Queue: Pablo Ceballos <pceballos@chromium.org>\nFeels: Pablo Ceballos <pceballos@chromium.org>",1,0.998810887336731,GPIO,"board/moonbuggy/board.c, board/moonbuggy/board.h, board/moonbuggy/gpio.inc, board/moonbuggy/led.c, board/moonbuggy/pse.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,789325e3ce5610b79a4773acc47e2e1072885e0a,525182992861a61e582389a1f460d057423c201a,Rob Barnes,2022-04-01,"guybrush: Do not toggle eDP BL during suspend\n\nSOC is already disabling the eDP backlight. Also disabling it in the\nEC during suspend risks causing black screen failures if EC misses\nHOST_SLEEP_EVENT for any reason.\n\nbacklight_lid handling is still enabled, so this GPIO will be toggled on\nlid open and close.\n\nBUG=b:227296841,b:227806436,b:227297992\nBRANCH=guybrush\nTEST=Backlight turns off on suspend, no flicker or delay observed.\n\nChange-Id: Iae11138ade2d0f325ab1f6ed6fd1315d7d141b61\nSigned-off-by: Rob Barnes <robbarnes@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3566210\nReviewed-by: Diana Z <dzigterman@chromium.org>",1,0.9995977282524108,GPIO,baseboard/guybrush/baseboard.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,780ba119b0f5f5db2b30d5faa3ab7e7d7a6cf1fb,f8bbc4c4e00dd9a61ed281c32c2681f712396632,Andrew McRae,2022-04-04,"zephyr: Undo changes to setup GPIO outputs.\n\nIt's likely that b/218773662 was caused by an unrelated\nissue, possibly a h/w issue.\nThe GPIO driver does not reset the outputs except under\na full system reset, so do not set the outputs\nof the GPIOs when warm-booting. The change to avoid this\nfor open-drain outputs is no longer required (all outputs\nare now left as they were).\n\nBUG=b:218773662\nTEST=zmake testall; zmake build nivviks; flash & run.\nBRANCH=none\n\nSigned-off-by: Andrew McRae <amcrae@google.com>\nChange-Id: Iab46d79148e4f445c608e308a035c4e2938194e3\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3563453\nReviewed-by: Wai-Hong Tam <waihong@google.com>",1,0.999304175376892,GPIO,zephyr/shim/src/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9f8be12fa56214ee549da02f87d0887cbe123ef6,272b89865d0d98414f4cbdad3ee83c8c36d96549,Aaron Massey,2022-04-07,"zephyr: Fix Kconfig.charger charge_state_v2 help\n\nThe menuconfig PLATFORM_EC_CHARGER help section implies that enabling\nthe PLATFORM_EC_CHARGER option compiles charge_state_v2 code.\n\nCorrect the help text to move ""enables compilation of charge_state_v2\ncode"" to the appropriate Kconfig sub-option.\n\nBRANCH=none\nBUG=b:216366887\nTEST=zmake testall\n\nSigned-off-by: Aaron Massey <aaronmassey@google.com>\nChange-Id: I740990525f6b05da9e68293b0a09e27c21e62871\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3576665\nReviewed-by: Jeremy Bettis <jbettis@chromium.org>",1,0.99899822473526,"PLATFORM_EC, PLATFORM_EC_CHARGER",zephyr/Kconfig.charger,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,1b2bc18c97d888b5e2a55c8e25466b5748e1367d,b27e04aff8b4a30ff96749b6db722d6dffc3ec14,Diana Z,2022-04-08,"Skyrim: Fix GPIO typo\n\nThe USB-A lines are 5 V, not 5.5 V\n\nBRANCH=None\nBUG=None\nTEST=zmake testall\n\nSigned-off-by: Diana Z <dzigterman@chromium.org>\nChange-Id: I24fe0f68f7766d14c53dadd6d58f44b07b236a0a\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3579988\nReviewed-by: Robert Zieba <robertzieba@google.com>\nCommit-Queue: Robert Zieba <robertzieba@google.com>",1,0.9990034699440002,GPIO,zephyr/projects/skyrim/gpio.dts,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,02df0dc7d8905beecc0e149661d529ad3b30c06a,1b2bc18c97d888b5e2a55c8e25466b5748e1367d,Diana Z,2022-04-08,"Skyrim: Enable tablet mode\n\nFix the name of the tablet mode GPIO, and also enable tablet mode for\nthe board.\n\nBRANCH=None\nBUG=b:227522206\nTEST=on skyrim, verify EC reports tablet mode when the system is folded\nover with the magnet rework\n\nSigned-off-by: Diana Z <dzigterman@chromium.org>\nChange-Id: Ibae53ce3d97761d1d43dc9cc279fcd53dd3a17ec\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3579989\nReviewed-by: Robert Zieba <robertzieba@google.com>\nCommit-Queue: Robert Zieba <robertzieba@google.com>",1,0.977942943572998,GPIO,"zephyr/projects/skyrim/gpio.dts, zephyr/projects/skyrim/prj.conf",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,10cd17bb7663e56b63429b7c566bff9489f8dec7,a9c2a35fb6c7b1cfbecc8acc666f94c564a37726,Fabio Baltieri,2022-04-12,"zephyr: fans: make the option dt node based\n\nChange the Kconfig EC_FAN option to enable automatically if a a\nnamed-fans node is defined.\n\nMove the sensors config off in the prj.conf files and fix nivviks build\nwith PLATFORM_EC_FAN=n.\n\nBRANCH=none\nBUG=b:217741090\nTEST=compared the .config on brya, nivviks and skyrim\n\nSigned-off-by: Fabio Baltieri <fabiobaltieri@google.com>\nChange-Id: I520b9c195aefdeb4a3e7f97cd946f80455675eb9\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3578650\nReviewed-by: Keith Short <keithshort@chromium.org>",1,0.9569705724716188,"PLATFORM_EC, PLATFORM_EC_FAN","zephyr/Kconfig.temperature, zephyr/projects/brya/prj.conf, zephyr/projects/intelrvp/prj.conf, zephyr/projects/it8xxx2_evb/prj.conf, zephyr/projects/nissa/CMakeLists.txt, zephyr/projects/nissa/prj_nivviks.conf, zephyr/projects/npcx_evb/npcx7/prj.conf, zephyr/projects/npcx_evb/npcx9/prj.conf, zephyr/projects/skyrim/prj.conf",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,97da657e666ec812d12be74dffb27b7985d66061,ce210663f31cde61384adad6b4c4f80bbe9e7d0e,Zhuohao Lee,2022-05-13,"brask: Use GPIO and host event when generating MKBP events\n\nThe power button of the brask is passing via the MKBP event.\nAfter landing the http://crrev/c/3570523, the deptcharge would\nwait for the EC_PCH_INT_ODL interrupt to trigger the MKBP event.\nAs a result, we need to follow this http://crrev/c/3544873 to\nadd the MKBP interrupt to avoid the missing power button key\nevent in the recovery mode.\n\nBUG=b:209707579\nBRANCH=none\nTEST=test_that -b brask ${IP} firmware_ECPowerButton\n\nChange-Id: I59879d47399768ea1e4165ada71eafe6f64f1842\nSigned-off-by: Zhuohao Lee <zhuohao@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3647088\nTested-by: ChiJen Chen <chi-jen.chen@quanta.corp-partner.google.com>\nReviewed-by: Subrata Banik <subratabanik@chromium.org>",1,0.9993122816085817,GPIO,baseboard/brask/baseboard.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,caa5248e328d968f16f0ec33d5d815457a7e69f1,ba7d794b0f708c902cb1f8ea4bddeb1aa372285a,Jon Murphy,2022-04-27,"skyrim: add CONFIG_PLATFORM_EC_TABLET_MODE_SWITCH\n\nTesting shows that the tablet mode switch is malfunctioning in the\nkernel.  Enabling the tablet mode switch in zephyr to attempt to debug\nand resolve the issues with the device.\n\nBUG=b:230682161\nBRANCH=None\nTEST=Update EC with latest, show that the tablet mode switch is enabled\n\nCq-Depend: chromium:3648251\nSigned-off-by: Jon Murphy <jpmurphy@google.com>\nChange-Id: I22b35c131eb180f103d1ca731b690d36f6906f17\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3612711\nReviewed-by: Raul Rangel <rrangel@chromium.org>",1,0.9996761083602904,"PLATFORM_EC, PLATFORM_EC_TABLET_MODE, PLATFORM_EC_TABLET_MODE_SWITCH, TABLET_MODE",zephyr/projects/skyrim/prj.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,0f17ba667757ad1db1e67ffac96f0a7e52905fe1,8d2cf07a454ced967956c0ce7773b73ff9ebf75a,Brandon Breitenstein,2022-05-20,zephyr: mtlrvp: Fix fan ctrl pin to GPIO73_TA2\n\nFan Tach pin was set to the wrong value in the initial patch. Verified\nfan is working correctly and able to set duty with this change.\n\nBUG=none\nBRANCH=none\nTEST=verfied fan is turning on to correct rpm when set to duty\n\nSigned-off-by: Brandon Breitenstein <brandon.breitenstein@intel.com>\nChange-Id: Ie51dffb491869196fe193da8c85f9939e4cd7af1\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3657822\nReviewed-by: Keith Short <keithshort@chromium.org>\nReviewed-by: Vijay P Hiremath <vijay.p.hiremath@intel.com>\nReviewed-by: Tanu Malhotra <tanu.malhotra@intel.com>,1,0.9996235370635986,GPIO,zephyr/projects/intelrvp/mtlrvp/mtlrvpp_npcx/fan.dts,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,d1b15066e2f38a9cdf053e53cd8f6403e6ae7603,30d4b7c54632affecb6f042cd5be07e9fc9c0368,Gwendal Grignou,2022-04-27,"zephyr: Remove PLATFORM_EC_ACCELGYRO_LSM6DSO_AS_BASE\n\nThis variable is never used.\n\nFixes commit 36e753deee0 (""Nissa: Add base and lid sensor to nivviks config"")\n\nBUG=b:212477477\nBRANCH=none\nTEST=zmake testall; zmake build nivviks\n\nSigned-off-by: Gwendal Grignou <gwendal@chromium.org>\nChange-Id: I7e10e3b86ea855bf0da5ef3e5aaa5ad44a80c847\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3611724\nReviewed-by: Yuval Peress <peress@google.com>",1,0.9994571805000304,"PLATFORM_EC, PLATFORM_EC_ACCELGYRO_LSM6DSO","docs/zephyr/zephyr_sensor_devices.md, zephyr/projects/nissa/prj_craask.conf, zephyr/projects/nissa/prj_nivviks.conf",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,07cd645b47c06925fc198e83a98364f46e2fb321,fc85f0c71f726e5e64bb04be452723d8fefa4064,Jun Lin,2022-06-01,"zephyr: override HOOK task priority in EC APP's default Kconfig\n\nThe Zephyr-EC application leverages the system workqueue thread to\nimplement the hook task. By default, its priority level is the lowest\ncooperative priority and higher than any EC task. The priority is\noverridden to 24 (NUM_PREEMPT_PRIORITIES - 1) after the application\nstarts to run for a while. Before it is changed, it violates the\nCROS-EC's principle (HOOK task's priority should be only higher than\nthe IDLE task) and may cause unexpected behavior like #5 in b:230663570.\nThis CL overrides the priority level in APP's default Kconfig and\nremoves the runtime priority setting to make it consistent at level 24\nall the time.\n\nBRANCH:none\nBUG=b:230663570\nTEST= ""zmake testall --clobber""\nTEST= the symptom in #5 is fixed\n\nSigned-off-by: Jun Lin <CHLin56@nuvoton.com>\nChange-Id: Ia4bfe4e657b299294024cffe6e07685324f56498\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3682979\nReviewed-by: Wai-Hong Tam <waihong@google.com>\nTested-by: Wai-Hong Tam <waihong@google.com>\nTested-by: CH Lin <chlin56@nuvoton.com>\nReviewed-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: CH Lin <chlin56@nuvoton.com>",1,0.997060239315033,NUM_PREEMPT_PRIORITIES,"zephyr/app/ec/Kconfig, zephyr/app/ec/ec_app_main.c",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7e0b89302016363c8007c7c024bef3a85539b346,6078f5120bc4bf5bcd9b001e27bb6bb5c944205a,Al Semjonovs,2022-06-02,zephyr:test: Resolve linker conflict with gpio_led\n\nLOG module caused linker conflict with gpio_led when compiling\ntest-drivers\n\nBUG=b:233607287\nBRANCH=NONE\nTEST=zmake testall\n\nSigned-off-by: Al Semjonovs <asemjonovs@google.com>\nChange-Id: Ie319efe92a1b26a2c1b1294faf333f29db573edd\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3687094\nReviewed-by: Aaron Massey <aaronmassey@google.com>,1,0.999631404876709,LOG,zephyr/shim/src/led_driver/led.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,be922b799c07717c00716673504e3cf4fc0e947b,cf6440c764f7d945dfdae7cc62baf94510afe0b2,Josh Tsai,2022-06-06,"Zephyr: fix SOC Kconfig typo\n\nWhen we config the AP_X86_AMD, it should select the AP_X86 instead of\nAP_x86.\n\nBUG=b:234402115\nBRANCH=none\nTEST=Skyrim can boot normally\n\nSigned-off-by: Josh Tsai <josh_tsai@compal.corp-partner.google.com>\nChange-Id: Id6bbcae21170fe483139842e1b55ee85a9c17c41\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3690044\nReviewed-by: Elmo Lan <elmo_lan@compal.corp-partner.google.com>\nReviewed-by: Diana Z <dzigterman@chromium.org>",1,0.999652862548828,"AP_X86, AP_X86_AMD",zephyr/app/ec/soc/Kconfig,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a0be010122974a3d05a5db3a77171f2118df3c7b,b92a66983180596e8f8a9c4003c099ee1febb86e,Tom Hughes,2022-06-10,"core/cortex-m: Set FPU to auto\n\nUse ""-mfpu=auto"" so that the compiler will choose the correct FPU\nsettings based on the settings of -mcpu and -march:\nhttps://gcc.gnu.org/onlinedocs/gcc/ARM-Options.html.\n\nAccording to the above doc ""-mfpu=auto"" is the default and shouldn't be\nrequired, but compilation using gcc fails without the flag.\n\nclang does not support the ""-mfpu=auto"" flag, but will choose the\ncorrect floating point unit based on the -mcpu flag:\nhttps://lists.llvm.org/pipermail/llvm-dev/2018-September/126468.html\n\nBRANCH=none\nBUG=b:145677491, b:234181908\nTEST=./util/compare_build.sh -b all -j 120\n     => MATCH\n\nSigned-off-by: Tom Hughes <tomhughes@chromium.org>\nChange-Id: I3c255ee53e31763d29dfb2086fcebf3d8290dc56\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3699793\nReviewed-by: Andrea Grandi <agrandi@google.com>",1,0.9104347229003906,FPU,core/cortex-m/build.mk,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,edc4ea8a39eb982096867b0508ffd52278d872f1,02ad89b28808d815561d0413e41acbeaa79df2eb,Leila Lin,2022-06-09,"Felwinter: Move RT_RST to different pin\n\nFelwinter moves the USB_C2_RT_RST_ODL pin from GPIO02 to GPIO07 of\nthe nct3807. When a debug accessory is connected, GPIO02 becomes\nuncontrollable and causes FAFT setup test errors. So move RT_RST\nto different pin.\n\nBRANCH=brya\nBUG=b:234560670\nTEST=build pass and run FAFT setup test pass.\n\nSigned-off-by: Leila Lin <leilacy_lin@compal.corp-partner.google.com>\nChange-Id: I5206b66a424aab7756b0e077f3b972d0c18756bd\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3697270\nCommit-Queue: LeilaCY Lin <leilacy_lin@compal.corp-partner.google.com.test-google-a.com>\nTested-by: LeilaCY Lin <leilacy_lin@compal.corp-partner.google.com.test-google-a.com>\nReviewed-by: Ricky Chang <rickytlchang@chromium.org>\nReviewed-by: caveh jalali <caveh@chromium.org>\nAuto-Submit: LeilaCY Lin <leilacy_lin@compal.corp-partner.google.com.test-google-a.com>\nReviewed-by: Ko Ko <ko_ko@compal.corp-partner.google.com>\nReviewed-by: Elmo Lan <elmo_lan@compal.corp-partner.google.com>",1,0.7724664807319641,GPIO,board/felwinter/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,ee550514d7d113191d0f3848772fd94d0d2ec0c0,8560e20a38e7464525dcc7457470703c06e94a18,Bobby Casey,2022-06-29,"chip/stm32/debug_printf.h: Fix header guard\n\nThe include guard on debug_printf.h was __CROS_EC_DEBUG_H rather than\n__CROS_EC_DEBUG_PRINTF_H. Unfortunately, debug.h also used\n__CROS_EC_DEBUG_H which resulted in errors if both were included by a\nsingle compilation unit.\n\nBRANCH=none\nBUG=b:180144572\nTEST=./util/compare_build.sh -b all -j90\n\nSigned-off-by: Bobby Casey <bobbycasey@google.com>\nChange-Id: I2354181644e1d50bf06a20ec51d432f4d583b50a\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3735349\nReviewed-by: Tom Hughes <tomhughes@chromium.org>",1,0.9997283816337584,CROS_EC,chip/stm32/debug_printf.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,c783d1ea2970421e3cd3527bf95279c55d10dfa4,15e5211a4fddf5e472a8bc6688d2e4c5e0ee7dfc,Josie Nordrum,2022-06-07,flash_fp_mcu: fix FPMCU flashing on hatch-kernelnext\n\nCheck kernel version and adjust GPIO pin numbers accordingly.\n\nBUG=b:232379446\nBRANCH=None\nTEST= test on helios flashed with hatch-kernelnext\n  scp util/flash_fp_mcu root@${DUT_HOSTNAME}:/usr/local/bin/flash_fp_mcu\n  ssh ${DUT_HOSTNAME} flash_fp_mcu\n\nSigned-off-by: Josie Nordrum <josienordrum@google.com>\nChange-Id: I19b4ee361a34e80b941be0cbe0e3b877fd96052d\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3693056\nReviewed-by: Craig Hesling <hesling@chromium.org>,1,0.999687433242798,GPIO,util/flash_fp_mcu,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f877b4b8a462df91c4d1f9a526c5f7103edf37ea,c783d1ea2970421e3cd3527bf95279c55d10dfa4,Josie Nordrum,2022-06-07,flash_fp_mcu: fix FPMCU flashing on volteer-kernelnext\n\nCheck kernel version and set GPIO numbers accordingly.\n\nBUG=b:234856729\nBRANCH=None\nTEST= test on volteer flashed with volteer-kernelnext\n  scp util/flash_fp_mcu root@${DUT_HOSTNAME}:/usr/local/bin/flash_fp_mcu\n  ssh ${DUT_HOSTNAME} flash_fp_mcu\n\nSigned-off-by: Josie Nordrum <josienordrum@google.com>\nChange-Id: I4558b0d7f5d39913c6fe744b2ce84407db9fa58e\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3693868\nReviewed-by: Craig Hesling <hesling@chromium.org>\nReviewed-by: Bobby Casey <bobbycasey@google.com>,1,0.9997156262397766,GPIO,util/flash_fp_mcu,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,78ecef45bb5106eb24b9c39beacbf90fefa41d28,d7c224c401e08a9caf136654c07fc869e88eec01,Aaron Massey,2022-06-30,"tests: Fix chargesplash within-suite-OD failure\n\nThe chargesplash test helper function force_chipset_off restarts the\nchipset state in order to test the lid opening triggering the\nchargesplash screen. However, not enough ramp-up time seems to be\nhappening afterwards for GPIO interrupts to properly fire.\n\nAbstract the helper as a common utility function with an additional\nvirtual sleep inserted at the end so that future test-writers do not run\ninto the same problem.\n\nBRANCH=none\nBUG=b:236726670\nTEST=zmake test-drivers\nTEST=zmake test-drivers-chargesplash shuffled with shuffle_test.sh\n\nSigned-off-by: Aaron Massey <aaronmassey@google.com>\nChange-Id: Idbcfd65a7ec66ebbd759d1a85447127d570d0099\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3739317\nReviewed-by: Yuval Peress <peress@google.com>",1,0.999729573726654,GPIO,"zephyr/test/drivers/include/test/drivers/utils.h, zephyr/test/drivers/src/chargesplash.c, zephyr/test/drivers/src/utils.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3c0d6d04919b8454c4aa8d9af877d251200b6061,cc5f0bf1ddb75eead035a3e187e62ffcda571e6a,Fabio Baltieri,2022-08-01,"zephyr: shim: add default to PLATFORM_EC_USB_PID\n\nAll Kconfig symbols are added to the binary with the\nGEN_ABSOLUTE_SYM_KCONFIG. This is a problem with hex symbols with a\ndefault empty value, as they end up defined to ""0x"", causing an obscure\nbuild failure such as:\n\nFAILED: zephyr/CMakeFiles/zephyr.dir/misc/generated/configs.c.obj\n/tmp/cc5ZD1EK.s: Assembler messages:\n/tmp/cc5ZD1EK.s:1345: Error: missing expression\n\nSetting a default for the option so that that would not break the build.\n\nBUG=none\nBRANCH=none\nTEST=drop the config for a board, build it, no assembler errors\n\nSigned-off-by: Fabio Baltieri <fabiobaltieri@google.com>\nChange-Id: Ib886cafdccf7d7da21b0fe90b03aa40cc55c2715\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3801901\nReviewed-by: Madhu P <mparuchuri@google.com>\nReviewed-by: Scott Collyer <scollyer@chromium.org>",1,0.9996511936187744,"PLATFORM_EC, PLATFORM_EC_USB_PID",zephyr/Kconfig.usbc,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,6784ec01a55a487470fdffc6bee4469eb2885363,cfe06a93f1ee21ef32fe002ccc5a6c8daed27f02,Mulin Chao,2022-07-26,"zephyr: nivviks: resolve leakage caused by 1.05V bias on GPIOA4/F1\n\nIn order to resolve leakage current caused by unsuitable 1.05V bias\nvoltage on GPIOA1/F4, this CL declares them in `power_leakage_io` DT\nnode. Then, NPCX ec will disable their input buffers before entering\ndeep sleep and restore them after waking up automatically for better\npower consumption.\n\nBUG=b:228222441\nTEST=zmake testall; zmake build nivviks;\nBRANCH=none\n\nSigned-off-by: Mulin Chao <mlchao@nuvoton.com>\nChange-Id: I0774cdce97ab7080bf32a44aa97949d62a823a13\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3788018\nReviewed-by: Keith Short <keithshort@chromium.org>\nReviewed-by: Andrew McRae <amcrae@google.com>",1,0.9997069239616394,GPIO,zephyr/projects/nissa/nivviks/overlay.dts,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9d4d0c455faa7fe72bafd26da6142b961bc836c9,487174e0067ed01616f0981c0669e040f39af909,Scott Collyer,2022-08-10,"rex: Use VW for sleep S3 and enable EC_SYSTEM_UNLOCKED\n\nThis CL fixes an issue where the config option was set to use VW for\nsleep S3, but the power_signal node did not reflect this.\n\nIn addition, CONFIG_PLATFORM_EC_SYSTEM_UNLOCKED was added and\nCONFIG_PLATFORM_EC_BRINGUP was removed to allow for the AP to boot up\nautomatically.\n\nBRANCH=none\nBUG=b:240434243\nTEST=zmake build rex\n\nSigned-off-by: Scott Collyer <scollyer@google.com>\nChange-Id: I83c939d5637736a7460f8f5388ebcaddf389bd35\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3823913\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nReviewed-by: Madhu P <mparuchuri@google.com>\nTested-by: Scott Collyer <scollyer@chromium.org>\nReviewed-by: Li1 Feng <li1.feng@intel.com>\nCommit-Queue: Scott Collyer <scollyer@chromium.org>",1,0.9996823072433472,"PLATFORM_EC, PLATFORM_EC_BRINGUP, PLATFORM_EC_SYSTEM_UNLOCKED","zephyr/projects/rex/power_signals.dts, zephyr/projects/rex/prj.conf",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9ac5c481d05cd9c469b284e747e1afa8fa6fe5cb,63432ffff5441d3dfde7fc7c035436c824546ca4,Eric Yilun Lin,2022-08-16,"krabby: disable CONFIG_LOG\n\nit81202 has more strict RAM requirement, and enable this config put\nthe system into unstable state: e.g. watchdog trap, hit stack overflow\nat charger thread, broken AP-EC spi when connected to an external\ndisplay.\n\nBefore we fix the above issues, we temporarily disable the config.\n\nBUG=none\nTEST=none\nBRANCH=none\n\nChange-Id: I72189a6cb6699f8a41366319cdf683fb1c453b97\nSigned-off-by: Eric Yilun Lin <yllin@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3832983\nCommit-Queue: Ting Shen <phoenixshen@chromium.org>\nAuto-Submit: Eric Yilun Lin <yllin@google.com>\nTested-by: Eric Yilun Lin <yllin@google.com>\nReviewed-by: Ting Shen <phoenixshen@chromium.org>",1,0.9995346069335938,LOG,zephyr/projects/corsola/prj_it81202_base.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3889c96f16bb7acce7117e35e64b1807b080c52f,bf87fd73a2016893e8f3b560deab75f3eb8a69cf,Subrata Banik,2022-08-30,"zephyr: rex: enable CONFIG_PLATFORM_EC_SWITCH\n\nFixed the following error message from AP console:\nerror, assuming lid is always close and triggered shutdown request.\n\nBUG=b:243920003\nTEST=No shutdown request has triggered while booting AP at\ndepthcharge.\n\nSigned-off-by: Subrata Banik <subratabanik@google.com>\nChange-Id: I60e56912f030f6f0e3cb49282bbffc920fb389e9\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3864607\nReviewed-by: Ivy Jian <ivy.jian@quanta.corp-partner.google.com>\nTested-by: Subrata Banik <subratabanik@chromium.org>\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nCommit-Queue: Subrata Banik <subratabanik@chromium.org>\nReviewed-by: Kapil Porwal <kapilporwal@chromium.org>\nReviewed-by: Madhu P <mparuchuri@google.com>",1,0.999651312828064,"PLATFORM_EC, PLATFORM_EC_SWITCH",zephyr/projects/rex/prj.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,170c8e2f851d9da570430a1e3a915890c1023d14,db64262582a461637fd486b5a5b5b95826b2fa45,Scott Collyer,2022-08-29,"rex: Fix the gpio pin type for ec_edp_bl_en\n\nThe gpio device tree node for ec_edp_bl_en was being configured as an\nopen-drain signal, but this should be a TTL with low as its initial\nstate. This CL corrects this error. The GPIO spreadsheet that's being\nused as an input for pinmap needs to be updated. This CL provides a\nfix to enable the display panel to work until the tool that creates\nthe input for pinmap is updated.\n\nBRANCH=none\nBUG=b:243919230\nTEST=zmake build rex\n\nSigned-off-by: Scott Collyer <scollyer@google.com>\nChange-Id: I4f8db1e150572df58c1a97d1f509a556383eb0d1\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3863925\nReviewed-by: Madhu P <mparuchuri@google.com>\nReviewed-by: Subrata Banik <subratabanik@chromium.org>\nCommit-Queue: Scott Collyer <scollyer@chromium.org>\nTested-by: Scott Collyer <scollyer@chromium.org>",1,0.9997010827064514,GPIO,zephyr/projects/rex/generated.dts,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5242100ccb366df8c3a5c6897733f02c8c31cabd,2effa3959bcc08845eb095d978b3186fea8a7d60,arthur.lin,2022-08-31,"pujjo: define KEYBOARD_REFRESH_ROW3\n\nPujjo's reflash key is on KSI3.\nDefine CONFIG_PLATFORM_EC_KEYBOARD_REFRESH_ROW3 to fix issue for\npress ""esc + refresh + power button"" can't enter recovery screen.\n\nBUG=b:243728711\nBRANCH=none\nTEST=zmake build pujjo\nTEST=press ""esc + refresh + power button"" and it can show recovery screen\n\nSigned-off-by: arthur.lin <arthur.lin@lcfc.corp-partner.google.com>\nChange-Id: If7c571945dc4f689ebb69eb9738282069d2928fd\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3865128\nReviewed-by: Andrew McRae <amcrae@google.com>",1,0.99968421459198,"PLATFORM_EC, PLATFORM_EC_KEYBOARD, PLATFORM_EC_KEYBOARD_REFRESH_ROW3",zephyr/projects/nissa/pujjo/prj.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5f27f39b7b9074cb6c78f1f1ebdde0513537615f,9a323c7407d407c64bbd8499b50926695651049b,Al Semjonovs,2022-09-02,zephyr: drivers: Fix GPIO pin numbering\n\nThe max pins per GPIO is 32. Renumber pins to prevent\nbuffer overflow.\n\nBUG=None\nBRANCH=NONE\nTEST=./twister -T zephyr/test\n\nSigned-off-by: Al Semjonovs <asemjonovs@google.com>\nChange-Id: I39394f09083fb31038d2fb98080bec2771ccd29a\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3871738\nReviewed-by: Yuval Peress <peress@google.com>\nCommit-Queue: Yuval Peress <peress@google.com>,1,0.9996674060821532,GPIO,zephyr/test/drivers/boards/native_posix.overlay,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3c6192a56789f76d83676d797710eb53b3a577ac,393639b318a8c4818338ea558485f843d4200c1d,johnwc_yeh,2022-09-07,"xivu: define KEYBOARD_REFRESH_ROW3\n\nxivu's reflash key is on KSI3.\nDefine CONFIG_PLATFORM_EC_KEYBOARD_REFRESH_ROW3 to fix issue for\npress ""esc + refresh + power button"" can't enter recovery screen.\n\nBUG=b:244816295\nBRANCH=none\nTEST=zmake build xivu\nTEST=press ""esc + refresh + power button"" and it can show recovery\nscreen\n\nSigned-off-by: johnwc_yeh <johnwc_yeh@compal.corp-partner.google.com>\nChange-Id: I26efbde81d39e507702582e06bdae1a47d0bcd1d\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3878622\nReviewed-by: Peter Marheine <pmarheine@chromium.org>\nReviewed-by: Andrew McRae <amcrae@google.com>\nReviewed-by: SamSP Liu <samsp_liu2@compal.corp-partner.google.com>",1,0.9996961355209352,"PLATFORM_EC, PLATFORM_EC_KEYBOARD, PLATFORM_EC_KEYBOARD_REFRESH_ROW3",zephyr/projects/nissa/xivu/prj.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5f01e4b0c7be9124b2aa150ef92368a49df1b9e6,862f688c797dcd05239237fbf30eb7ef3e730803,Scott Collyer,2022-08-31,"rex: Fix the pin type for usb_c0_rt_3p3_sx_en\n\nThis GPIO was being set as an open drain output, but it should be a\npush-pull. This CL modifies its entry in generated.dts. There is a\nTODO to review the EC GPIO input spreadsheet so that generated.dts\nwill not require edits. This change is being added now to support\npower on activies.\n\nBRANCH=none\nBUG=b:244441996\nTEST=zmake build rex. Verified that HB is powered up when\nusb_c0_rt_3p3_sx_en is driven high.\n\nSigned-off-by: Scott Collyer <scollyer@google.com>\nChange-Id: Ia378a5772a41214c0f49de053d53d5af82c104e8\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3873651\nReviewed-by: Madhu P <mparuchuri@google.com>\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nTested-by: Scott Collyer <scollyer@chromium.org>\nCommit-Queue: Scott Collyer <scollyer@chromium.org>",1,0.9949296712875366,GPIO,zephyr/projects/rex/generated.dts,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,443ff441a754444f017b5fa509a4277909d60454,b7e38e16787312b5e855c3936ccf443c2090134d,Sue Chen,2022-09-12,"Craask: define configs for refresh key on KSI3\n\nCraask's refresh key is on KSI3.\nDefine CONFIG_PLATFORM_EC_KEYBOARD_REFRESH_ROW3 and\nCONFIG_PLATFORM_EC_KEYBOARD_PWRBTN_ASSERTS_KSI3 to fix issue for\npress ""esc + refresh + power button"" can't enter recovery screen.\n\nBUG=b:245550574\nBRANCH=none\nTEST=zmake build craask\n     Press ""esc + refresh + power button"" and the dut can show\n     recovery screen\n\nSigned-off-by: Sue Chen <sue.chen@quanta.corp-partner.google.com>\nChange-Id: I903f3f02b135c9768431878cdbcfc7f8436254ce\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3890020\nReviewed-by: Andrew McRae <amcrae@google.com>",1,0.9996767044067384,"PLATFORM_EC, PLATFORM_EC_KEYBOARD, PLATFORM_EC_KEYBOARD_PWRBTN_ASSERTS_KSI3, PLATFORM_EC_KEYBOARD_REFRESH_ROW3",zephyr/projects/nissa/craask/prj.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,25fd82d3b15aefd9d137175a6df2eefaa1e83fa5,6572e7d68bcebca5e9717f43111d68f6a3e35d14,Firas Sammoura,2022-09-13,mock: Fix format for 2-dimensional arrays\n\nDefine default_fake_fp_positive_match_salt and\ntrivial_fp_positive_match_salt explicitly as 2-dimensional arrays with\ndimensions FP_MAX_FINGER_COUNT and FP_POSITIVE_MATCH_SALT_BYTES. Include\ndriver/fingerprint/fpsensor.h to define FP_MAX_FINGER_COUNT.\n\nBRANCH=None\nBUG=b:242720387\nTEST=make run-fpsensor_state\nTEST=make runhosttests\n\nSigned-off-by: Firas Sammoura <fsammoura@google.com>\nChange-Id: Iaae2280179e99bd5098928976727aa9b3cca9954\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3893046\nReviewed-by: Craig Hesling <hesling@chromium.org>,1,0.9996955394744872,FP_MAX_FINGER_COUNT,"common/mock/fpsensor_state_mock.c, include/mock/fpsensor_state_mock.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,e19927727d86033d873aef0d36c4002d0fbb579b,211f8e08e828a0d1f961f01202b4cae25b9a3d22,Scott Collyer,2022-09-27,"rex: Change GSC packet mode signal to push-pull\n\nec_gsc_packet_mode was being configured as an open-drain signal, but\nthis needs to be a push-pull on the EC to work properly with the GSC.\nThis CL makes that change. Note, there is an issue opened to resolve\nthe Rex EC GPIO spreadsheet so that manual edits won't be required for\ngenerated.dts. This CL is being submitted to unblock validation while\nthat issue is being resolved (b/244441996).\n\nBUG=b:248775521\nBRANCH=none\nTEST=zmake build rex\nVerified that EC is now communicating with the GSC\n22-09-27 09:49:56.013 [0.416400 VB Verifying hash]\n22-09-27 09:49:56.043 [0.453200 VB Received 0xec07]\n22-09-27 09:49:56.046 [0.454000 VB Hash mismatch]\n22-09-27 09:49:56.050 [0.454700 VB Enable USB-PD]\n22-09-27 09:49:56.053 [0.455300 VB Exit]\n\nSigned-off-by: Scott Collyer <scollyer@google.com>\nChange-Id: I98fd59f3ac728981f6541aeaac997341a381ccbd\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3922461\nTested-by: Scott Collyer <scollyer@chromium.org>\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nCommit-Queue: Scott Collyer <scollyer@chromium.org>",1,0.999617338180542,GPIO,zephyr/projects/rex/generated.dts,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,b99bd46324736aabc4adae9211e5b7ac2b06e30c,79559b39876a81548766f16655dcda6879061bf1,Robert Zieba,2022-10-05,"skyrim: Remove Cr50 reset workaround config\n\nThis commit removes `CONFIG_PLATFORM_EC_BOARD_RESET_AFTER_POWER_ON` from\nSkyrim. This config enables a brief delay as a workaround for a Cr50\nissue that triggers a second reset of the EC shortly after it is reset.\nTi50 does not have this issue and this delay prevents GPIOs from being\nconfigured before the jump to RW. RW does not attempt to configure\nGPIOs again as it assumes that they were correctly configured by RO. The\nmisconfigured GPIOs cause the TCPC to be kept in reset which ultimately\ncauses a boot loop.\n\nBRANCH=none\nBUG=b:247543478\nTEST=Ran on skyrim, verified that EC no longer boot loops.\n\nChange-Id: I45562eba0a6bca2866ac173355765dd97e87d383\nSigned-off-by: Robert Zieba <robertzieba@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3933588\nReviewed-by: Diana Z <dzigterman@chromium.org>\nCommit-Queue: Diana Z <dzigterman@chromium.org>",1,0.9995867609977722,"GPIO, PLATFORM_EC, PLATFORM_EC_BOARD_RESET_AFTER_POWER_ON",zephyr/projects/skyrim/prj.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,eae5e48f0a3e741578914bd21a49fb5fe6f6ed63,319ef2112e2ea4f6f39e9b62fb354389b9281774,Tom Hughes,2022-10-13,"power/icelake: add casts for power signals\n\nWhen building with clang, it warns:\n\npower/icelake.c:43:11: error: implicit conversion from enumeration type\n'enum espi_vw_signal' to different enumeration type 'enum gpio_signal'\n[-Werror,-Wenum-conversion]\n                .gpio = SLP_S3_SIGNAL_L,\n                        ^~~~~~~~~~~~~~~\ninclude/power/intel_x86.h:36:25: note: expanded from macro 'SLP_S3_SIGNAL_L'\n                        ^~~~~~~~~~~\n\nAlthough ""enum espi_vw_signal"" and ""enum gpio_signal"" are not directly\ncompatible, it appears that the code in power/common.c takes that into\naccount by calling espi_signal_is_vw().\n\nclang also produces another warning:\n\npower/icelake.c:267:19: error: implicit conversion from enumeration type\n'enum espi_vw_signal' to different enumeration type 'enum gpio_signal'\n[-Werror,-Wenum-conversion]\n                        gpio_set_flags(SLP_S3_SIGNAL_L, GPIO_ODR_LOW);\n                        ~~~~~~~~~~~~~~ ^~~~~~~~~~~~~~~\ninclude/power/intel_x86.h:36:25: note: expanded from macro 'SLP_S3_SIGNAL_L'\n                        ^~~~~~~~~~~\n\nHowever, this warning should not be emitted because this code is inside\nan IS_ENABLED(CONFIG_CHIPSET_SLP_S3_L_OVERRIDE) block. Changing\nIS_ENABLED(CONFIG_CHIPSET_SLP_S3_L_OVERRIDE) to\n""#if defined(CONFIG_CHIPSET_SLP_S3_L_OVERRIDE)"" works around this.\n\nBRANCH=none\nBUG=b:172020503\nTEST=./util/compare_build.sh -b all -j 120\n     => MATCH\n\nSigned-off-by: Tom Hughes <tomhughes@chromium.org>\nChange-Id: I1fe6bbb1881572a3eff756220ee960d397344c69\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3953255\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Keith Short <keithshort@chromium.org>",1,0.9868000745773317,GPIO,power/icelake.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,93684a594fc840166e78686b1241a108e45ea1e6,8c134f078ccff525bfabe46229f49a98b12e786b,Scott Chao,2022-10-19,crota: configure GPIOD2 as PMU alternate function\n\nThis will fix crota cannot boot from hibernate when hibernate.\n\nBUG=b:254401750\nBRANCH=none\nTEST=verify DUT can boot from hibernate by lid open\n\nChange-Id: Ib0aee95cfd2ae0bc4338037010d0b6e26abccd35\nSigned-off-by: Scott Chao <scott_chao@wistron.corp-partner.google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3965397\nReviewed-by: Zhuohao Lee <zhuohao@chromium.org>,1,0.9743975400924684,GPIO,board/crota/gpio.inc,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7ab0fe87dd235e92e87ab81afd820b42b32f2cab,0bcc79f4ba3517488c0e7c35cd1138eacfdd500f,Jun Lin,2022-10-20,"gpio: npcx: fix incorrect report from gpio_get_flags_by_mask\n\nThe current driver reports the configured level regardless of the GPIO's\ndirection (input/output). It should report it only when the pin in\nquestion is an output. Also, it should read the level from the PxDOUT\nregister instead of the PXDIN register.\n\nBRANCH=none\nBUG=b:254739925\nTEST=build npcx9_evb with CONFIG_GPIO_GET_EXTENDED and\nCONFIG_CMD_GPIO_EXTENDED defined, check the report form `gpioget`\nconsole command is correct.\n\nSigned-off-by: Jun Lin <CHLin56@nuvoton.com>\nChange-Id: I1f40bb757c1a012697374b294b57934608d5e293\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3967955\nTested-by: CH Lin <chlin56@nuvoton.corp-partner.google.com>\nReviewed-by: Wai-Hong Tam <waihong@google.com>\nTested-by: CH Lin <chlin56@nuvoton.com>\nReviewed-by: Andrew McRae <amcrae@google.com>\nCommit-Queue: CH Lin <chlin56@nuvoton.com>",1,0.9996744394302368,GPIO,chip/npcx/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4dac9ced1a4217c20164b6537f90c46f92f6b2e7,2bdce5f825edc7a8d496f945acb97136bc4ca60d,Mark Hasemeyer,2022-10-17,"uart: chargen: Fix chargen cmd on Zephyr\n\nThe chargen command is hanging the console because it\nattempts to stop the thread that it is running in. The shell\nthread should only be stopped by a separate thread (it should not\nattempt to stop itself).\n\nModify chargen to execute as a deferred task in the work queue.  Stop\nthe console(legacy), or activate the console bypass feature(Zephyr)\nwhile chargen is running to prevent it from hijacking reads of the 'x'\ncharacter.\n\nBUG=b:251872865\nBRANCH=none\nTEST=chargen 36 50000 (run to completion)\n     chargen 36 50000 (interrupt by sending 'x')\n     uart_stress_tester.py -t 10 -d <raw_ec_uart>\n     Tested on Skyrim(Zephyr)\n     Tested on Nipperkin(legacy with and without this commit in fw)\n     ""nereid"" builds with CONFIG_UART_INTERRUPT_DRIVEN=n\nLOW_COVERAGE_REASON=The test shell does not include rx_bypass support.\nThe test serial driver does not support CONFIG_UART_INTERRUPT_DRIVEN=y\nSee b/255847699\n\nCq-Depend: chromium:3964352\nChange-Id: If536a53f646846f307a7a49dfde993329950b0c5\nSigned-off-by: Mark Hasemeyer <markhas@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3943262\nReviewed-by: Keith Short <keithshort@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>",1,0.999086856842041,UART_INTERRUPT_DRIVEN,"common/chargen.c, include/console.h, zephyr/shim/src/console.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,66cf8fb2f5b70efd21243b3bdf2598e9d2afc75b,61bf6760d456e4998745bebd72e53c9d7c8ec874,Tom Hughes,2022-10-18,"board/reef: Fix temp sensor gpios\n\nWhen compiling with clang, it warns:\n\nboard/reef/gpio.inc:168:1: error: initializer overrides prior\ninitialization of this subobject [-Werror,-Winitializer-overrides]\nALTERNATE(PIN(4, 5), 6, MODULE_ADC, 0)\n^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ncommon/gpio.c:39:53: note: expanded from macro 'ALTERNATE'\n        { GPIO_##pinmask, .func = (function), .module_id = (module), \\n                                                           ^~~~~~~~\nboard/reef/gpio.inc:168:1: note: previous initialization is here\nALTERNATE(PIN(4, 5), 6, MODULE_ADC, 0)\n^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nIt looks like the intent was to use the PIN_MASK macro instead of PIN.\n\nReplace with PIN_MASK(4, 0x10) and PIN_MASK(4, 0x30), which simplifies\nto PIN_MASK(4, 0x30).\n\nAlso change '6' to '0', since this field changes PWM type (e.g.,\nPWM_IO_FUNC) but these ports are ADC.\n\nBRANCH=none\nBUG=b:35575418, b:172020503\nTEST=make buildall\nTEST=CC=clang make BOARD=reef\n\nSigned-off-by: Tom Hughes <tomhughes@chromium.org>\nChange-Id: Icf13e8cb5eb6bd0ea95ad9b977f11f39c6ac67c8\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3965726\nReviewed-by: Daisuke Nojiri <dnojiri@chromium.org>",1,0.9996089339256288,GPIO,"board/reef/gpio.inc, util/build_with_clang.py",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,82548740a8e9bfff0f65b47b8b18c2497029b223,16c8fce71986d50d9e10ea089d9d9352818129ad,Eric Yilun Lin,2022-10-20,"corsola: set HDMI HPD in interrupt handler\n\nHPD pulse has to toggle with 0.5ms ~ 1ms. Previously,\nthis was toggled in the hook, which will be hard to\ncompliant to the requirement. This CL moves the HPD\nGPIO set function from hook to the interrupt handler to\nreduce the delay.\n\nAlso, fixed the bugs when HDMI is plugged on boot and\nsometimes won't be detected. This is due to the usb_mux_set\nfunction will be skipped before we intentionally makes the\nUSB_PD_PORT_COUNT to 2 after task inited. We fix this by\nre-configure mux setting after tasks inited.\n\nBUG=b:252999628\nTEST=1. it6505 is able to capture the HPD interrupt when unplugged\n     2. HDMI port is able to output when plugged on boot\nBRANCH=none\n\nChange-Id: I6347033e2a7996a8f3a972e9f6b3feb328d4f8c7\nSigned-off-by: Eric Yilun Lin <yllin@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3967373\nReviewed-by: Ting Shen <phoenixshen@chromium.org>\nTested-by: Eric Yilun Lin <yllin@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nCommit-Queue: Eric Yilun Lin <yllin@google.com>",1,0.9994717240333556,GPIO,"zephyr/projects/corsola/include/baseboard_usbc_config.h, zephyr/projects/corsola/src/usbc_config.c, zephyr/projects/corsola/src/variant_db_detection.c, zephyr/test/kingler/CMakeLists.txt, zephyr/test/kingler/common.dts, zephyr/test/kingler/src/db_detect_hdmi.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f6227a7e5aa850057eee9e1ca48857db42c557af,495bc21060631797a9ac93bc0327b1152e0748b4,Wai-Hong Tam,2022-11-15,lazor: Fix the typos of GPIO names\n\nTypos of mixing port-0 and port-1 names.\n\nBRANCH=none\nBUG=none\nTEST=Build the Lazor Zephyr image\nLOW_COVERAGE_REASON=Simple 2-line fix. No unit test of this file yet.\n\nChange-Id: I934fcf38d5c721c52ed6eeb3147b181cf54bd604\nSigned-off-by: Wai-Hong Tam <waihong@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4025837\nReviewed-by: Sam Hurst <shurst@google.com>\nCommit-Queue: Sam Hurst <shurst@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>,1,0.9996786117553712,GPIO,zephyr/program/trogdor/lazor/src/usbc_config.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4e5c08ec698bd54eeac6099e8d0d27db071fdf00,5ddb5d2ea879164a420fb7f4335d5c9d12fdf6cd,Fabio Baltieri,2022-11-14,zephyr: Kconfig: fix wrong helptext indentation\n\nFix wrong indentation of PLATFORM_EC_KEYBOARD_CUSTOMIZATION helptext.\n\nBRANCH=none\nBUG=none\nTEST=cq dry run\n\nSigned-off-by: Fabio Baltieri <fabiobaltieri@google.com>\nChange-Id: I3021373f917e85c5d06a2b4d1bb28d65f64d5fce\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4021955\nReviewed-by: Wai-Hong Tam <waihong@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>,1,0.9996702671051024,"PLATFORM_EC, PLATFORM_EC_KEYBOARD, PLATFORM_EC_KEYBOARD_CUSTOMIZATION",zephyr/Kconfig.keyboard,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f29bf6061eb84579864323c64d4cdd954dc5a4a8,154327acd265e3c2242676301773f32e55c0c744,Eric Yilun Lin,2022-12-02,corsola: fix spi_cs0 interrupt flag\n\nThe interrupt should be triggered with GPIO_INT_EDGE_FALLING only.\n\nBUG=none\nTEST=boot tentacruel\nBRANCH=none\n\nChange-Id: I039b6bac228a017434b918169562ee349c972c16\nSigned-off-by: Eric Yilun Lin <yllin@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4074804\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Ting Shen <phoenixshen@chromium.org>\nTested-by: Eric Yilun Lin <yllin@google.com>\nCommit-Queue: Eric Yilun Lin <yllin@google.com>,1,0.9997007846832277,GPIO,zephyr/program/corsola/ite_interrupts.dtsi,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,d0dbbbd363b58400d6bdea6935eef4d3e1da7f7d,74cf8aab5c3356574e3dadc89c67041ed8634811,Fabio Baltieri,2022-11-24,"zephyr: usb: set a bunch of USBC options automatically\n\nChange most of the USBC options with an associated compatible string to\nenable automatically when the corresponding device is defined in the\ndevicetree.\n\nMost of these don't use the actual struct device yet and only enable a\ncorresponding ECOS option, and few boards have not been ported to have\nthe whole usb-c configuration in the devicetree, so some option is a\n""default y if ..."" rather than a ""depends on"" so that that can still be\nenabled without the device tree node. That can be fixed in the future as\nall the boards are ported.\n\nThis disables an option for: hoglin, villager, zoglin, zombie due to a\nmissing dt device (CONFIG_PLATFORM_EC_USBC_PPC_SN5S330) which was\notherwise enabled for all variations.\n\nBRANCH=none\nBUG=none\nTEST=cq dry run\nTEST=zmake compare-builds -a # catches the one above\n\nSigned-off-by: Fabio Baltieri <fabiobaltieri@google.com>\nChange-Id: Ifd543965c2867b35954f48a3fb7afa5289b6e940\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4054626\nReviewed-by: Yuval Peress <peress@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>",1,0.999037504196167,"PLATFORM_EC, PLATFORM_EC_USBC, PLATFORM_EC_USBC_PPC, PLATFORM_EC_USBC_PPC_SN5S330","zephyr/Kconfig.ppc, zephyr/Kconfig.retimer, zephyr/Kconfig.tcpm, zephyr/Kconfig.usb_mux, zephyr/Kconfig.usbc_ss_mux, zephyr/program/brya/prj.conf, zephyr/program/corsola/ite_program.conf, zephyr/program/corsola/magikarp/project.conf, zephyr/program/corsola/npcx_program.conf, zephyr/program/corsola/tentacruel/project.conf, zephyr/program/geralt/program.conf, zephyr/program/herobrine/program.conf, zephyr/program/intelrvp/adlrvp/prj.conf, zephyr/program/intelrvp/mtlrvp/prj.conf, zephyr/program/nissa/npcx_program.conf, zephyr/program/nissa/program.conf, zephyr/program/rex/program.conf, zephyr/program/skyrim/crystaldrift/project.conf, zephyr/program/skyrim/morthal/project.conf, zephyr/program/skyrim/program.conf, zephyr/program/skyrim/skyrim/project.conf, zephyr/program/skyrim/winterhold/project.conf, zephyr/program/trogdor/lazor/prj.conf, zephyr/test/drivers/prj.conf, zephyr/test/krabby/prj.conf, zephyr/test/vboot_efs2/prj.conf, zephyr/test/vboot_efs2/src/main.c",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,1d4c1ef5967cb4540357654cac262d9f821eae9e,6b323cf865efce0ffb5582317994b4944ff484b7,Rajesh Kumar,2022-12-15,zephyr: mtlrvpp_npcx: Enable workaround config for the sysjump failure\n\nThere's a bug in the flash download API on the ES1 version of the\nnpcx9 chips that requires some workarounds. This is needed for sysjump\nto work properly.\n\nThis enables the below workarround configuration for mtlrvpp_npcx:\nCONFIG_PLATFORM_EC_WORKAROUND_FLASH_DOWNLOAD_API=y\n\nBRANCH=none\nBUG=none\nTEST=zmake build mtlrvpp_npcx\n     observed 'sysjump RW' EC command is working\n\nChange-Id: I64d21806c71118c4c0042b630d5d74d32e5fefdd\nSigned-off-by: Rajesh Kumar <rajesh3.kumar@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4112652\nReviewed-by: Brandon Breitenstein <brandon.breitenstein@intel.com>\nReviewed-by: Al Semjonovs <asemjonovs@google.com>\nReviewed-by: Vijay P Hiremath <vijay.p.hiremath@intel.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>,1,0.9997243285179138,"PLATFORM_EC, PLATFORM_EC_WORKAROUND_FLASH_DOWNLOAD_API",zephyr/program/intelrvp/mtlrvp/mtlrvpp_npcx/prj.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7e5283549f8be6c3efb610b55e3e37ac1da0c5e7,e6911dd9112aafa482288d54f043792144c26a1f,Fabio Baltieri,2022-12-15,"zephyr: mock: always include the include directory\n\nThere's multiple emul drivers relying on include files, change the CMake\ninclude directive to always add that to the include search path. Fixes a\nbuild fail when PWM_MOCK is used but not EMUL_CROS_FLASH.\n\nNow though this ends up causing a collision since there's multiple\nflash_chip.h files in the system, one for every supported chip. Fix that\nby using a different name when running in NATIVE_POSIX, so that there's\nno ambiguity.\n\nSort the build list while we are at it.\n\nBRANCH=none\nBUG=none\nTEST=cq dry run\n\nSigned-off-by: Fabio Baltieri <fabiobaltieri@google.com>\nChange-Id: I9858ab3ccea2631ff7b3a22ef2d1c79b4dc73b25\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4111305\nReviewed-by: Abe Levkoy <alevkoy@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>",1,0.9997184872627258,"CROS_FLASH, EMUL_CROS_FLASH, PWM_MOCK","zephyr/emul/CMakeLists.txt, zephyr/emul/include/flash_chip.h, zephyr/emul/include/flash_chip_native_posix.h, zephyr/shim/include/config_chip.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,cc3a1940419436150d363f3b74a4be9ff3037bcc,1f7e4584c7684dc95e28ea91ae6a94ab06cbf1c7,Fabio Baltieri,2022-12-23,"PRESUBMIT: add a presubmit to check for unnecessary Kconfig options\n\nAdd a presubmit to read the current Kconfig options and check any\nproject config file for options that are set automatically from\ndevicetree nodes and can be removed.\n\nExample error:\n\nERROR: zephyr/program/nissa/xivur/project.conf:7: unnecessary config\noption CONFIG_PLATFORM_EC_FAN=y (depends on DT_HAS_CROS_EC_FANS_ENABLED\n&& PLATFORM_EC)\n\nBRANCH=none\nBUG=none\nTEST=manually, creating test CLs\nTEST=./util/check_zephyr_project_config.py -d $( find -name '*.conf' )\nTEST=./util/check_zephyr_project_config.py -d $( find -name '*.overlay' )\nTEST=./util/check_zephyr_project_config.py -d $( find -name '*_defconfig' )\nTEST=./util/check_zephyr_project_config_unittest.py\n\nSigned-off-by: Fabio Baltieri <fabiobaltieri@google.com>\nChange-Id: I55c224b9bf96d6768460c182d2f11b6d33dcbab0\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4126617\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Jack Rosenthal <jrosenth@chromium.org>",1,0.9931935667991638,"CROS_EC, PLATFORM_EC, PLATFORM_EC_FAN","PRESUBMIT.cfg, util/check_zephyr_project_config.py, util/check_zephyr_project_config_unittest.py, util/run_tests.sh",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4c434db787f3e65b2ac25fac8c2d65f250a45994,0c982121aef6ac125c54a16736c616a336b417c5,Brian J. Nemec,2023-01-19,Zephyr: Remove binman.dtsi requirements\n\nStarfish uses the EC build environment but does not\nuse the CrOSEC stubs and does not use the EC partition.\nThis leads to linker errors when building due to\nCONFIG_PLATFORM_EC_RW_TOTAL_IMAGE_SIZE dependencies\nwhich is undefined on Zephyr only targets.\n\nAdds defined() guards to checks in the linker to avoid\nbuild failures.\n\nBUG=b:243700103\nBRANCH=None\nTEST=None\nChange-Id: I98b207f25edd4f6306fa9ed3a0c1a0ce91f46856\nSigned-off-by: Brian Nemec <bnemec@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4182530\nReviewed-by: Keith Short <keithshort@chromium.org>\nReviewed-by: Abe Levkoy <alevkoy@chromium.org>,1,0.999373733997345,"PLATFORM_EC, PLATFORM_EC_RW_TOTAL_IMAGE_SIZE","zephyr/linker/end-of-ram.ld, zephyr/linker/image_size.ld",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,725577c7573a0073d404809bfd9a2fe35553e9b7,2fb48809845465edb89000428c5a9b6979276713,Tim Lin,2023-01-30,"zephyr: tentacruel: Enable I2C related configuration\n\nEnable PLATFORM_EC_I2C_NACK_RETRY_COUNT configuration.\nThe retry count is set to 5 times.\n\nEnable PLATFORM_EC_SMBUS_PEC configuration.\n\nBUG=b:238921417\nBRANCH=none\nTEST=The error message:""charge problem: batt params"" did not occur\n     during the S3 stress test and frequent gpioget command testing.\n\nChange-Id: I5bfa50640185e54abc7d5e58319e8e4707ad3abd\nSigned-off-by: Tim Lin <tim2.lin@ite.corp-partner.google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4199251\nReviewed-by: Peter Marheine <pmarheine@chromium.org>\nReviewed-by: Eric Yilun Lin <yllin@google.com>\nReviewed-by: Keith Short <keithshort@chromium.org>",1,0.999656081199646,"PLATFORM_EC, PLATFORM_EC_I2C, PLATFORM_EC_I2C_NACK_RETRY_COUNT, PLATFORM_EC_SMBUS_PEC",zephyr/program/corsola/tentacruel/project.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,6b0377742e9982432cacaf3ce0a3d77209a169da,2988a887440dd63bdd7480e125ed9928a6a94ce8,luluboy_Jian,2023-02-13,"zephyr: tentacruel: Increase PLATFORM_EC_I2C_NACK_RETRY_COUNT\n\n\nAfter enable PLATFORM_EC_I2C_NACK_RETRY_COUNT configuration.\nIt is still show charge problem: batt params, 0x0 -> 0x42 once.\n\nSo follow previous kukui platform.\nThe retry count is set to 10 times.\n\nBUG=b:238921417\nBRANCH=none\nTEST=The error message:""charge problem: batt params"" did not occur\n     during the S3 stress test and frequent gpioget command testing.\n\n\nChange-Id: I1f7db82907c332b17845676d9759649a85223eb3\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4243820\nTested-by: Luluboy Jian <luluboy_jian@asus.corp-partner.google.com>\nReviewed-by: Eric Yilun Lin <yllin@google.com>\nCommit-Queue: Luluboy Jian <luluboy_jian@asus.corp-partner.google.com>",1,0.9994552731513976,"PLATFORM_EC, PLATFORM_EC_I2C, PLATFORM_EC_I2C_NACK_RETRY_COUNT",zephyr/program/corsola/tentacruel/project.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,2d45809d07944fe2488f37b644eb277e6ef35101,05046f71803cb03f6fffbfdbb88ed9c51e8724ff,Eric Yilun Lin,2023-02-15,geralt: fix ap_xhci_init_done interrupt flag\n\nThe flag has to be GPIO_INT_EDGE_BOTH.\n\nBUG=b:269059211\nTEST=depthcharge detects usb devices\nBRANCH=none\n\nChange-Id: Iead411e3175c4dece70c98fa5aaef4d0ceff61c5\nSigned-off-by: Eric Yilun Lin <yllin@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4253128\nCommit-Queue: Ting Shen <phoenixshen@chromium.org>\nAuto-Submit: Eric Yilun Lin <yllin@google.com>\nTested-by: Eric Yilun Lin <yllin@google.com>\nReviewed-by: Ting Shen <phoenixshen@chromium.org>,1,0.9996870756149292,GPIO,zephyr/program/geralt/interrupts.dtsi,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,0f0f0b289bc9f47c7a19db9693a77e754080af14,a5ee4e01225eed03fc0141b1a7b9ca015b8a5b3c,Peter Marheine,2023-02-15,"zephyr/ps8xxx: fix build with TCPC_INTERRUPT disabled\n\nThe irq_gpio field only exists if CONFIG_PLATFORM_EC_TCPC_INTERRUPT is\nenabled, otherwise the equivalent is alert_signal.\n\nBUG=b:269212593,b:254148652\nTEST=zmake build yaviks with CONFIG_PLATFORM_EC_TCPC_INTERRUPT=n\nBRANCH=nissa\n\nChange-Id: Ib2219e39eb81dcdb9f780b46a263b85adfbb6b15\nSigned-off-by: Peter Marheine <pmarheine@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4252925\nReviewed-by: zhi cheng yuan <jasonyuan@chromium.org>\nReviewed-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>",1,0.9997283816337584,"PLATFORM_EC, PLATFORM_EC_TCPC_INTERRUPT",zephyr/shim/include/usbc/tcpc_ps8xxx.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,5825d894b94ee4d1e2cc297c0e27712bc55c3855,1e9a3e7b8b96e293bf0f0ae8a65ff3b806ea929d,Peter Marheine,2023-02-15,"nissa: disable PLATFORM_EC_TCPC_INTERRUPT\n\nBecause nissa shares a physical IRQ pin between BC1.2 and TCPC on type-C\nports, using the shim interrupt handler can cause TCPC interrupts to be\nlost in some situations:\n\n1. BC1.2 asserts IRQ\n2. Type-C ISR runs, checks alerts and goes back to sleep (because no\n   TCPC interrupts are pending).\n3. TCPC asserts IRQ (which remains asserted because BC1.2 still has\n   a pending interrupt).\n4. BC1.2 task clears BC1.2 interrupt.\n5. IRQ is stuck asserted because the TCPC interrupt task will only wake\n   up on the next active IRQ edge. Port is broken.\n\nThis change restores the custom shared IRQ handling for Nissa that adds\npolling to ensure IRQs cannot become permanently stuck.\n\nBUG=b:254148652,b:269212593\nTEST=Sinking, sourcing and USB still work on Yaviks port C1\nBRANCH=nissa\n\nChange-Id: Ie45ec82c68ce7ebc8693ea2ebab9a141e96edbab\nSigned-off-by: Peter Marheine <pmarheine@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4252437\nReviewed-by: Keith Short <keithshort@chromium.org>\nReviewed-by: zhi cheng yuan <jasonyuan@chromium.org>",1,0.998082399368286,"PLATFORM_EC, PLATFORM_EC_TCPC_INTERRUPT","zephyr/program/nissa/craask/overlay.dtsi, zephyr/program/nissa/craask/src/usbc.c, zephyr/program/nissa/joxer/overlay.dtsi, zephyr/program/nissa/joxer/src/usbc.c, zephyr/program/nissa/nereid/overlay.dtsi, zephyr/program/nissa/nereid/src/usbc.c, zephyr/program/nissa/nivviks/overlay.dtsi, zephyr/program/nissa/nivviks/src/usbc.c, zephyr/program/nissa/program.conf, zephyr/program/nissa/pujjo/overlay.dtsi, zephyr/program/nissa/pujjo/src/usbc.c, zephyr/program/nissa/xivu/overlay.dtsi, zephyr/program/nissa/xivu/src/usbc.c, zephyr/program/nissa/xivur/overlay.dtsi, zephyr/program/nissa/xivur/src/board.c, zephyr/program/nissa/xivur/src/usbc.c, zephyr/program/nissa/yaviks/overlay.dtsi, zephyr/program/nissa/yaviks/src/usbc.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,c8234cc5335ad31d27d578d89bab4f2172e4f22a,bbd5c827849a4b87b945bda09821e62b848ab9ad,Li Feng,2023-03-02,"HC: check response buffer size before copying data\n\nISH has allocated 128 bytes for HECI response message; 112 bytes can be\nused to store HC response data. But EC_CMD_GET_VERSION v1 response data\nhas 132 bytes.\n\nCopying data without checking buffer size causes buffer overflow.\nAnd we observed an issue that HECI client handle is changed by this.\n\nThe fix is to add size check and return EC_RES_RESPONSE_TOO_BIG on\nerror.\n\nCL:4302834 increases ISH buffer size as well; so that host can get\nversion information.\n\nBUG=b:271502099\nBRANCH=none\nTEST=on Rex platform with ISH enabled, monitor HECI client handle value\nis the same all the time.\nNo more ""Timed out for response to host message"".\n\nChange-Id: Ibee2fb6a54d3c7d1d60d90a8f6b20bc89066ff5a\nSigned-off-by: Li Feng <li1.feng@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4305920\nReviewed-by: Tanu Malhotra <tanu.malhotra@intel.com>\nReviewed-by: Daisuke Nojiri <dnojiri@chromium.org>",1,0.999666690826416,HECI,common/system.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,ad90151ba343f63b5ce49b7aefb1010a52787cff,3aa70f706008d48967f7d79229d6c778535527cd,Keith Short,2023-03-03,"zephyr: lazor: fix duplicated GPIO\n\nBoth the gpio_switchcap_pg_int_l and gpio_da9313_gpio0 entries in the\nnamed-gpios pointed to the same GPIO pin. This causes the GPIO\ninitialization to configure this pin twice, but only properties from the\nsecond entry are active on the pin.\n\nUse multiple node-labels on the same GPIO pin so that there is only a\nsingle ""gpios"" entry created.\n\nBUG=b:271576198\nBRANCH=none\nTEST=zmake build -a\n\nChange-Id: I63a84319b13007d877b13b76a782ea1a6a51f1e9\nSigned-off-by: Keith Short <keithshort@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4307835\nReviewed-by: Aaron Massey <aaronmassey@google.com>",1,0.9957146048545836,GPIO,"zephyr/program/trogdor/lazor/gpio.dts, zephyr/program/trogdor/lazor/src/switchcap.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,64b887e8218cbd1bd16307ee4d99a2b9fce833a9,158525e724c85a930f8792300a1c4415b1016715,Peter Marheine,2023-03-14,"nissa: process shared BC1.2 interrupts alongside other PD interrupts\n\nBC1.2 runs at a low priority and can cause the same kinds of priority\ninversion as the charger can. On devices using PS8745 in particular,\nwe've found that BC1.2 interrupts can block timely processing of TCPC\ninterrupts which results in the TCPM violating the TRANSMIT register\nrequirements in TCPCI specification section 4.4.15 where the TCPM ""shall\nclear the resulting alert from a prior TRANSMIT write before writing to\nthe TRANSMIT register again"" with some particular communication patterns,\ncausing an I2CInterfaceError on the PS8745 that is never cleared (which\ncauses the affected port to stop responding completely).\n\nRunning BC1.2 interrupts synchronously and polling the shared IRQ GPIO\nto retrigger PD interrupts ensures that PD interrupts will always be\nhandled at a higher priority than regular PD communication, preventing\nthis problematic delayed interrupt processing.\n\nBUG=b:269064073\nTEST=The USB-C1 interrupt on Yaviks no longer gets stuck asserted when\n     connected to an HP U28 or M27 monitor; charging still works as\n     expected on Craask for both ports.\nBRANCH=nissa\n\nChange-Id: I2d573fcbe3b471b9f93a98fc3b401141c26daf7d\nSigned-off-by: Peter Marheine <pmarheine@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4335462\nReviewed-by: Kangheui Won <khwon@chromium.org>",1,0.9993131160736084,GPIO,"zephyr/program/nissa/craask/src/usbc.c, zephyr/program/nissa/joxer/src/usbc.c, zephyr/program/nissa/nereid/src/usbc.c, zephyr/program/nissa/nivviks/src/usbc.c, zephyr/program/nissa/pujjo/src/usbc.c, zephyr/program/nissa/xivu/src/usbc.c, zephyr/program/nissa/xivur/src/usbc.c, zephyr/program/nissa/yaviks/src/usbc.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,ba192f443638aa8834324ea8ef06f2f3c273bc61,a3db0bee1d4ec1cad46ba08b4abc52892ca2a17a,Siyu Qin,2023-03-16,"corsola: set GPIO_LID_OPEN as GPIO_INPUT_PULL_UP\n\nThe lid sensor is on daughter board, if daughter board is\ndisconnected, the EC will detect the floating pin as low,\nthen the lid state is locked as lid close. The DUT cannot\npower on by power button. So set the pin as GPIO_INPUT_PULL_UP.\n\nBUG=b:273422759\nBRANCH=corsola\nTEST=1. disconnect daughter board, 'lidstate' shows 'lid open',\n        and the DUT can power on by power button.\n     2. connect daughter board, DUT can power on by lid open.\n     3. ./twister -T zephyr/test/krabby/\n\nChange-Id: I2766d4a3a245efc28621d8a0292390c64721aae4\nSigned-off-by: Siyu Qin <qinsiyu@huaqin.corp-partner.google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4344441\nReviewed-by: Mike Lee <mike5@huaqin.corp-partner.google.com>\nReviewed-by: Ting Shen <phoenixshen@chromium.org>",1,0.994966685771942,GPIO,"zephyr/program/corsola/ite_gpio.dtsi, zephyr/program/corsola/npcx_gpio.dtsi, zephyr/test/krabby/src/power_seq.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7a935e90ccc5e25732d740a683c4f68a0de70e26,5c098877b2f7f8add7e134bcd82c07b8969d68fd,Eric Yilun Lin,2023-03-17,"mt8186: fix sysjump and hibernate actions\n\n1. fix sysjump will boot the system with AP IDLE\n1. fix boot with AP OFF\n2. fix boot from hibernate\n\nThe recent change which make the system staying at S5 for 10 seconds\nwhen AP power off. When sysjump requested, the RW part will\nautomatically boot the system from S5 due to the initial in_exiting_off\nflag defaults to true. Since the exiting_off status is controlled by the\npower_chipset_init, we don't need the flag defaults to true on boot.\n\nAlso, change the initial power state S5 to G3. They are the same in\nrail-wise on mt8186, but not in mt8188. Assign it as G3 to match\nmt8188 initial GPIO and rail states. When the AC on under hiberante,\nor the EC boots with AP OFF flag, this ensures the system stay at G3.\n\nBUG=b:274051287 b:274063396 b:274368558\nTEST=pass firmware_ECPowerButton\nTEST=pass firmware_ECWakeFromULP\nTEST=dut-control cold_reset:on sleep:1 cold_reset:off, boot to S0\nTEST=dut-control power_state:rec; dut-control power_key:tab. stay at\n     S5->G3\nTEST=hibernate, and AC on. The EC stays at G3.\nBRANCH=none\n\nChange-Id: I253f4956665a6a0edc2fe59c5a8a90a7c07a6180\nSigned-off-by: Eric Yilun Lin <yllin@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4349381\nCommit-Queue: Eric Yilun Lin <yllin@google.com>\nTested-by: Eric Yilun Lin <yllin@google.com>\nReviewed-by: Ting Shen <phoenixshen@chromium.org>",1,0.9986127614974976,GPIO,power/mt8186.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3a8317af3c8fc2279ecd98b17413d47fbc9409fb,7a935e90ccc5e25732d740a683c4f68a0de70e26,Caveh Jalali,2023-03-14,rex: Fix EC_WP_L GPIO polarity\n\nThe auto-generated generated.dtsi got the EC_WP_L pin polarity\nwrong. Add an override to fix the polarity.\n\nBRANCH=none\nBUG=b:260815079\nTEST=FAFT firmware_ECCbiEeprom passes (with next patch)\n\nChange-Id: I866669d534495d815db70bea95728d8358f9f555\nSigned-off-by: Caveh Jalali <caveh@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4334208\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nReviewed-by: Madhu  <mparuchuri@google.com>\nCommit-Queue: Fabio Baltieri <fabiobaltieri@google.com>,1,0.9996914863586426,GPIO,zephyr/program/rex/rex.dtsi,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,091ae39a38d8a91a5d2354d415c3e89b5773d74d,b3d563f6df518d7afc2dba9f9bbf33375b8a59a8,Keith Short,2023-02-28,"zmake: add verification that there are no duplicate GPIOs\n\nAdd a check that the final ""named-gpios"" node does not contain any\nduplicate GPIO entries.\n\nBUG=b:271135255\nBRANCH=none\nTEST=Build skyrim before and after CL:4297652. Verify error reported\nwhen the duplicate GPIO is present and passes after duplicate entry\nremoved.\n\nChange-Id: Ib89611f1c693456b9313b5df612dd783158806ce\nSigned-off-by: Keith Short <keithshort@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4307436\nReviewed-by: Abe Levkoy <alevkoy@chromium.org>",1,0.9988024234771729,GPIO,"zephyr/zmake/zmake/named_gpios.py, zephyr/zmake/zmake/zmake.py",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,bc0b95fb521cd28ffd06af41728bab4773f687a7,6f1231f6b42bbc723747e733a825672e6c661d72,Caveh Jalali,2023-03-17,"rex: Remove CR50 reset workaround config\n\nAdapted from chromium:3933588\n\nThis commit removes `CONFIG_PLATFORM_EC_BOARD_RESET_AFTER_POWER_ON` from\nrex. This config enables a brief delay as a workaround for a Cr50 issue\nthat triggers a second reset of the EC shortly after it is reset. Ti50\ndoes not have this issue and this delay prevents GPIOs from being\nconfigured before the jump to RW. RW does not attempt to configure GPIOs\nagain as it assumes that they were correctly configured by RO.\n\nBRANCH=none\nBUG=b:270657357\nTEST=booted on rex, GPIO config errors are gone\n\nChange-Id: I6da12616b7e31193cc1a64c0ac3d801ea77db39a\nSigned-off-by: Caveh Jalali <caveh@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4359091\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nReviewed-by: Madhu  <mparuchuri@google.com>",1,0.999525547027588,"GPIO, PLATFORM_EC, PLATFORM_EC_BOARD_RESET_AFTER_POWER_ON",zephyr/program/rex/program.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,eef3c0a846e53c28cf174556b7bb0396218b909e,d1f31d485fc13936530182bc94664e2616184e67,Keith Short,2023-03-29,zephyr: tests: Fix duplicate GPIOs\n\nFix duplicate GPIOs found in the unit tests. Duplicate GPIOs may cause\ntest instability.\n\nBUG=none\nBRANCH=none\nTEST=./twister\n\nChange-Id: Ie6df5ebd0d663488673442377b09d66e07fff38e\nSigned-off-by: Keith Short <keithshort@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4382527\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>,1,0.9987677335739136,GPIO,"zephyr/dts/board-overlays/native_posix.dts, zephyr/test/drivers/boards/native_posix.overlay, zephyr/test/rex/board_power.dtsi",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,45bdcbd13cd622e021049f2846d59716b44aa1ce,0530a57ee2530430a30ba14942873187e00b2071,Keith Short,2023-03-30,"zephyr: mtlrvpp: Fix GPIO flag mismatch\n\nThe interrupt from the NCT38xx is shared by the cros-ec TCPC driver and\nthe upstream gpio_nct38xx_alert.c driver.\n\nFix the flags set in the named-gpios node to enable the GPIO_ACTIVE_LOW\nsetting, which is required by the gpio_nct38xx_alert.c driver, but is\nignored by the custom tcpc_get_alert_status() defined on Intel RVP\nboards.\n\nBUG=none\nBRANCH=none\nTEST=zmake build -a\n\nChange-Id: Ie718cc8a2f86c13e71d1d6bbedadefded24dabd7\nSigned-off-by: Keith Short <keithshort@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4387255\nReviewed-by: Aaron Massey <aaronmassey@google.com>",1,0.9997193217277528,GPIO,"zephyr/program/intelrvp/mtlrvp/mtlrvpp_mchp/gpio.dts, zephyr/program/intelrvp/mtlrvp/mtlrvpp_npcx/gpio.dts",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9ba8369296711de6e470265a04b2b4c083908b9d,9c4f41af173d4db49e9a125925da6150e6b8663b,Keith Short,2023-03-30,"zephyr: vboot_efs2 test: Fix GPIO flag mismatch\n\nFix the GPIO flags for the GPIO04 signal, so that the flags match\nbetween the named-gpios and the tcpci_emul node.\n\nBUG=none\nBRANCH=none\nTEST=./twister\n\nChange-Id: Ie699222c89ee5169ce715e1189306ee456ea4348\nSigned-off-by: Keith Short <keithshort@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4387257\nReviewed-by: Tristan Honscheid <honscheid@google.com>",1,0.999637007713318,GPIO,zephyr/test/vboot_efs2/boards/native_posix.overlay,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,c02695e85c4978a9e58bd812c190dc5bc204e40a,d5e9eb12022a47e24366ef060e9e69aa198d4ec4,Jeremy Bettis,2023-03-29,"ec: Fix kconfig_check.py\n\nThe kconfig_check.py tool was reporting all symbols in the Kconfigs as\nconfigs, including things like\n```\nconfig PLATFORM_EC_PREINIT_HW_CYCLES_PER_SEC\n	default 100000000\n```\nwould return CONFIG_PLATFORM_EC_PREINIT_HW_CYCLES_PER_SEC and\nCONFIG_100000000 as valid configs.\n\nRead only Symbol node names instead.\nInclude Kconfigs in platform/ec but outside of platform/ec/zephyr also.\n\nAlso include Kconfig.zephyr from third_party/zephyr/main, which was\npreviously omitted. This requires setting some environment variables.\n\nBRANCH=None\nBUG=b:272518464\nTEST=make buildall\n\nChange-Id: I02e86f5c96f1e9943386d1610af1b2ab07550754\nSigned-off-by: Jeremy Bettis <jbettis@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4383371\nAuto-Submit: Jeremy Bettis <jbettis@chromium.org>\nTested-by: Jeremy Bettis <jbettis@chromium.org>\nCommit-Queue: Jeremy Bettis <jbettis@chromium.org>\nReviewed-by: Simon Glass <sjg@chromium.org>",1,0.9996252059936525,"PLATFORM_EC, PLATFORM_EC_PREINIT_HW_CYCLES_PER_SEC","Makefile.rules, util/config_allowed.txt, util/kconfig_check.py, util/test_kconfig_check.py",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,2058df4dd5acb6b301a4bfd81a90dbb2a7af247e,c833b0a0ae4bb4e371d796cf0c01b34926d682cc,Li Feng,2023-03-02,"ish: increase HECI response buffer size\n\nHC version v1 response has 132 bytes, but ISH response buffer is\nsmaller than this. We will get error as below:\n\nlocalhost ~ # ectool version --name=cros_ish\nEC result 14 (RESPONSE_TOO_BIG)\n\nHence increase ISH response buffer size to 260 bytes.\n\nBUG=b:271502099\nBRANCH=none\nTEST=on Rex platform with ISH enabled, ""ectool version --name=cros_ish""\nwill print firmware version, no error.\n\nChange-Id: I81cbea19a2b4719b88b232bfea02803b0a244b89\nSigned-off-by: Li Feng <li1.feng@intel.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4302834\nReviewed-by: Yuval Peress <peress@google.com>\nReviewed-by: Tanu Malhotra <tanu.malhotra@intel.com>",1,0.8830048441886902,HECI,chip/ish/host_command_heci.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4bebcca031504ec7f2a88088de31d777333e3c30,54f60fea2490c4bb56c387f035b175b3ddbc3960,Rob Barnes,2023-04-05,"system_safe_mode: Set test runner tid\n\nAdd CONFIG_TASKS_SET_TEST_RUNNER_TID_RULE to system safe mode unit test\nso test runner tid is set automatically.\n\nWithout this change, the look up of the task id of the current task will\ncause an assert error.\n\nBUG=none\nBRANCH=None\nTEST=Test passes without assert errors\n\nChange-Id: I35d012253d3ed907c3f1a921c894e6c43e816ef1\nSigned-off-by: Rob Barnes <robbarnes@google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4404230\nReviewed-by: Daisuke Nojiri <dnojiri@chromium.org>",1,0.999466598033905,TASKS_SET_TEST_RUNNER_TID_RULE,zephyr/test/system_safe_mode/prj.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,01263d1be211331bb97d5090ab41a062d18f437c,840d8c26c322cd518756531b93efbd4ad44a742d,Keith Short,2023-03-30,"krabby.tentacruel: test: fix GPIO flag mismatches\n\nThe krabby.tentacruel devicetree overlay doesn't override the\nunused-pins node like the real board does. The unused-pins node is not\ncovered by any tests, so delete the node.\n\nBUG=none\nBRANCH=none\nTEST=./twister\n\nChange-Id: I5fc8f0a047b9e0a922a0f51874ea0a4d5d32d200\nSigned-off-by: Keith Short <keithshort@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4387258\nReviewed-by: Aaron Massey <aaronmassey@google.com>",1,0.9996744394302368,GPIO,zephyr/test/krabby/krabby.tentacruel.overlay,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,c66818a5cc3228c298b0b819d612a5080eec872c,bfebe3b368144aeb86342cfe02252cadd9f36334,Keith Short,2023-04-13,"zephyr: test drivers: Fix GPIO mismatch\n\nMake the GPIO flags match for the PPC interrupt in the named-gpios node\nand the ppc device node.  Eventually the named-gpios node will be\neliminated, but it is currently needed to configure the GPIO pin.\n\nBUG=none\nBRANCH=none\nTEST=twister\n\nChange-Id: Iea28bdf5c29386f19576ad64ed149120a08f0f74\nSigned-off-by: Keith Short <keithshort@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4426792\nReviewed-by: Abe Levkoy <alevkoy@chromium.org>",1,0.9996447563171388,GPIO,zephyr/test/drivers/boards/native_posix.overlay,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,296a16ab4d9b80168b1a09f63c27b12a13c03180,fd2415cda6a261b92390aad04829f46f33ffc9e6,Peter Marheine,2023-04-19,"zephyr: make console buffer logging depend on non-minimal logging\n\nThe console buffer log backend depends on CONFIG_LOG_OUTPUT, which only\ndoes something if logging is enabled and not in minimal mode. Without\nthis dependency, enabling this backend while in minimal mode causes a\nlink-time error because symbols enabled by CONFIG_LOG_OUTPUT are absent.\n\nWhen in minimal mode log backends are ignored completely anyway, so this\nchange also helps prevent accidental misconfiguration because it doesn't\nmake sense to enable a log backend that will never be used.\n\nBUG=b:265781350\nTEST=zmake build -a\nBRANCH=none\n\nChange-Id: Ib0722102963b44484f07a779b2bbbde72b29b743\nSigned-off-by: Peter Marheine <pmarheine@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4445346\nReviewed-by: Rob Barnes <robbarnes@google.com>\nReviewed-by: Paul Fagerburg <pfagerburg@chromium.org>\nCommit-Queue: Paul Fagerburg <pfagerburg@chromium.org>",1,0.9995998740196228,LOG,zephyr/Kconfig.console,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3693fe33b5748bdc777457a4294a76d8ca0c69f9,0e580733f98bbc62be8ec3c7bfdad9300fb2cb9f,Peter Marheine,2023-04-21,"nissa: implement test for preventing buck-boost on SM5803\n\nWith the SM5803 emulator landed, this uses the required functionality to\ntest the board implementation of pd_is_valid_input_voltage(). The\nemulator is modified to explicitly cast dt_flags for the interrupt GPIO,\nbecause not doing so causes a warning (promoted to error) if using EC GPIO\nflags that lie outside the 16-bit range supported by gpio_dt_spec.\n\nBUG=b:267959470\nTEST=twister -T zephyr/test/nissa\nBRANCH=nissa\n\nChange-Id: I7192cce5e7e3f08a148cddbf71d68b901d93dc2d\nSigned-off-by: Peter Marheine <pmarheine@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4458507\nReviewed-by: Tristan Honscheid <honscheid@google.com>",1,0.9991614818572998,GPIO,"zephyr/emul/emul_sm5803.c, zephyr/program/nissa/src/common.c, zephyr/test/nissa/boards/chargers.dts, zephyr/test/nissa/src/common.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,404e01803921535e6105976a9c3d3f490ceb72e2,1c3cd9b9c4ef130322c643a146683c4fa0faa9dc,Jes B. Klinke,2023-04-26,"board/hyperdebug: Avoid dropping GPIO events\n\n`ccprint()` will never block, and will drop data if buffers are full.\nThis is undesirable when opentitantool is fetching a list of GPIO edge\nevents, as it could case dropped events, or errors due to garbled\noutput.\n\nThis CL uses the same approach as for instance the `gpioget` command in\n`common/gpio_commands.c`, which may also want to print a long list,\nwhich would not fit in the buffer.\n\nBUG=none\nTEST=observe a list with more than 100 events in EC console\n\nChange-Id: Ide059d615c0be32efd0f4aea29815518f4216a16\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4481569\nCommit-Queue: Jes Klinke <jbk@chromium.org>\nReviewed-by: Jett Rink <jettrink@chromium.org>\nTested-by: Jes Klinke <jbk@chromium.org>",1,0.998065173625946,GPIO,board/hyperdebug/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,bcaca9ff694f054dab1b0200a8e567081a33ad7d,fda81700ebb777cd61100eeaa7b8b0b1202473d6,Peter Marheine,2023-04-26,"sm5803: implement more driver tests\n\nThere are two behavioral changes:\n * sm5803_set_otg_current_voltage is modified to ensure it never attempts\n   to program an output voltage less than the minimum supported by the\n   chip, because that would program unintended bits.\n * the SM5803 emulator is fixed to still build correctly if no interrupt\n   GPIO is specified, because not all users of the emulator care about\n   the interrupts (such as the newly-introduced secondary charger for\n   this test, allowing it to exercise OCPC-specific functionality).\n\nBUG=b:242544165\nTEST=./twister -ci -T zephyr/tests/drivers -s drivers.sm5803\n\nChange-Id: I9df854d5e9666a833d209a0d98d6987c7b29e953\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4482276\nTested-by: Peter Marheine <pmarheine@chromium.org>\nReviewed-by: Tristan Honscheid <honscheid@google.com>\nCommit-Queue: Peter Marheine <pmarheine@chromium.org>",1,0.99874347448349,GPIO,"driver/charger/sm5803.c, zephyr/emul/emul_sm5803.c, zephyr/include/emul/emul_sm5803.h, zephyr/test/drivers/sm5803/prj.conf, zephyr/test/drivers/sm5803/sm5803.dts, zephyr/test/drivers/sm5803/src/sm5803.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,8dc42c6e8a66e3f4252069bc993cada6b58728c9,e9b1ee0e784aad16a65eeb370bcaf49d585c6666,Eric Yilun Lin,2023-05-05,"corsola: fix auto-reload GPIO config when FRS mode enabled\n\nWhen FRS enabled, the GPIO config auto-reload is enabled as well.\nWe should ensure in this period, the GPIO config auto-reload is\nworking as expected.  Sets the following accordingly:\n\nGPIO1: received VBUS SNK enabled, keep high, other commands, keep low\nGPIO2: received VBUS SRC enabled, keep high, other commands, keep low\n\nBUG=b:281177690\nTEST=trigger S0->S5 with a FRS hub with power attached, and EN_SNK is\n	enabled (rt1718s_gpio)\nBRANCH=none\n\nChange-Id: I991e779baa991dd3f1fa9d181728459cf1778461\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4507010\nCommit-Queue: Eric Yilun Lin <yllin@google.com>\nReviewed-by: Sung-Chi Li <lschyi@chromium.org>\nReviewed-by: Ting Shen <phoenixshen@chromium.org>\nTested-by: Eric Yilun Lin <yllin@google.com>",1,0.9996415376663208,GPIO,"baseboard/cherry/baseboard.c, driver/tcpm/rt1718s.h, zephyr/program/corsola/src/npcx_usbc.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9021859271012be4658c4181752849ce27e7946e,b1f7f58eadd3ada354b8465724aa476cc399a43c,Tom Hughes,2023-05-19,"test/cortexm_fpu: Fix underflow test when LTO is enabled\n\nThe interrupt for the FPU is asynchronous. When building with LTO, there\nare fewer instructions between triggering the interrupt with software on\nH7 (task_trigger_irq) and checking the fpscr variable, so it was failing\nbecause the interrupt hadn't yet been handled to set the fpscr variable.\n\nThe only test that was failing was test_cortexm_fpu_underflow, and it\nwas only failing on icetower, but this change waits for the interrupt on\nall the tests since it could theoretically happen on the others too.\n\nBRANCH=none\nBUG=b:274162810\nTEST=./test/run_device_tests.py --board dartmonkey -t cortexm_fpu => PASS\nTEST=./test/run_device_tests.py --board bloonchipper -t cortexm_fpu => PASS\n\nChange-Id: I93e1f9a0166bcb271b68d21673b796089daf4fbe\nSigned-off-by: Tom Hughes <tomhughes@chromium.org>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4550028\nReviewed-by: Patryk Duda <patrykd@google.com>",1,0.9997199177742004,FPU,test/cortexm_fpu.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,1dfaec661b5d63e0c2a37364440ddb8dde3014c8,99f1187494e8e28c68226e7e7119b6e6cf3ff5bc,Keith Short,2023-05-19,"tcpc shim: Verify the TCPC compatible is valid\n\nThe macro that creates the tcpc_config[] array builds without an error\neven when the ""tcpc"" property is present, but the reference node\ncontains an invalid compatible string.  This resulted in a NULL entry in\nthe tcpc_config() array and causes crashes or boot loops.\n\nAdd a check that generates a build error if the ""tcpc"" property is\npresent, but fails to resolve to a supported TCPC driver.\n\nDevicetree snippet:\n\n	tcpc_port0: rt1715@4e {\n		compatible = ""richtek,rt1715-tcpc-invalid"";\n		reg = <0x4e>;\n		tcpc-flags = <(\n			TCPC_FLAGS_TCPCI_REV2_0 |\n			TCPC_FLAGS_TCPCI_REV2_0_NO_VSAFE0V)>;\n		irq-gpios = <&gpio3 7 GPIO_ACTIVE_LOW>;\n	};\n\nGenerates the following error:\n  error: static assertion failed:\n    ""Invalid TCPC compatible on node:\n    DT_N_S_soc_if_S_io_i2c_ctrl0_port0_S_rt1715_4e""\n\nBUG=b:283134516\nTEST=zmake build -a\n\nChange-Id: I09257a40ba84e1fdda078faa9fea608f6da51124\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4550244\nReviewed-by: Tristan Honscheid <honscheid@google.com>\nTested-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>",1,0.9997034668922424,GPIO,zephyr/shim/src/tcpc.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,013ce9c8921ed801fd13cbdd6977fe12121fe343,9990ff36ed4ed5e06ae483656c5343cbec6c211a,Robert Zieba,2023-05-23,myst: Fix spurious thermaltrip interrupts\n\nOn myst the thermal trip GPIO has a pull-up to the S0 domain. This can\ncause spurious interrupts to happen when the S0 domain is powered off.\nEnable/disable this interrupt based on if S0 power is enabled.\n\nBUG=b:283353553\nTEST=Verified that spurious interrupts no longer occur.\n\nChange-Id: I74fe35aae68794d414281879b0e51ac00e85b5cb\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4556011\nTested-by: Robert Zieba <robertzieba@google.com>\nCommit-Queue: Robert Zieba <robertzieba@google.com>\nReviewed-by: Diana Z <dzigterman@chromium.org>,1,0.9997220635414124,GPIO,zephyr/program/myst/src/power_signals.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,598d40ad09c381e5e3ab8ae3231fd27f096f4ee0,92d4797df8a109e9889634e05504b0c7d59f4aa0,Patryk Duda,2023-05-25,"zephyr: gpio: Don't create gpio_dt_spec pointer for unimplemented GPIO\n\nIf the GPIO is unimplemented, then GPIO_SIGNAL(id) is resolved to an\ngpio_signal enum entry which has a value of -1 (GPIO_UNIMPLEMENTED).\nAs a result we point to address outside of the configs array. Also some\ncompilers don't like negative index.\n\nThis patch adds check if GPIO DT node has 'gpios' property in\nGPIO_PTRS() and GPIO_DT_PTR_DECL() macros. The pointer will be created\nonly if the condition is satisfied.\n\nBUG=b:239712345\nTEST=zmake build bloonchipper (with 'llvm' as toolchain)\n\nChange-Id: Ia66c90c14ab0621bbf567b545362ec29a053a82b\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4565516\nReviewed-by: Tom Hughes <tomhughes@chromium.org>\nTested-by: Patryk Duda <patrykd@google.com>\nReviewed-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Patryk Duda <patrykd@google.com>",1,0.9994588494300842,GPIO,"zephyr/shim/include/zephyr_gpio_signal.h, zephyr/shim/src/gpio.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3705be7e2c10f116b8b101621e25ba00c35af2ec,545261a70d586c344d2225019ed2533ed1e617f9,Gwendal Grignou,2023-06-13,"common/tablet_mode: Fix invalid transition when disabling tablet mode\n\nFor firmware that works on both clamshell and convertible, we may disable\nMEMS sensors and tablet mode at board_init(), usually running at\nHOOK_INIT/PRIO_DEFAULT.\nHowever we set the tablet mode subsystem earlier, so we may have already\nread the GMR GPIO. If not stuffed, we can read any value and go in\ntablet mode directly.\nWhen we disable tablet mode, make sure we call the\nHOOK_TABLET_MODE_CHANGE hook, to make sure everyone, including MKBP\nsubsystem, is aware of the change.\n\nBUG=b:267680317, b:270994196, b:286879602\nTEST=Unit test: `make -j run-tablet_broken_sensor`\n\nfixes: commit c1f6b2a2492 (""common/tablet: Allow getting out of tablet mode when sensors are broken"")\nChange-Id: Id12bdb92f32981033d24b5d93f1d532db84a4372\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4613436\nReviewed-by: Daisuke Nojiri <dnojiri@chromium.org>\nTested-by: Gwendal Grignou <gwendal@chromium.org>\nCommit-Queue: Gwendal Grignou <gwendal@chromium.org>",1,0.9996427297592164,"GPIO, TABLET_MODE","common/tablet_mode.c, test/motion_common.h, test/tablet_broken_sensor.c, test/test_config.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,d8d2c5d06cee644576c86a626d0a63a95e1b6616,a91f738faff1ed9a5266f6280588ca31782a5b33,Xin Ji,2023-06-12,"tcpm: anx7406: fix anx7406 cannot enter into low power mode\n\nThe ROLE_CONTROL register will lost DRP bit and keep CC1 & CC2 field\nafter waking up, driver must set DRP bit after waking up.\n\nANX7406 have 2 toggle methods(analog and digital), there is no need\nto clear CABLE_DET_DIG in ANALOG_SETTING register, just keep the\ndefault setting. Remove all I2C operation for ANALOG_SETTING register.\n\nBUG=b:285608925\nBRANCH=none\nTest=STM32\n\nChange-Id: I6eea9daf34e4589a9691d277b857367b0d360dc1\nSigned-off-by: Xin Ji <xji@analogix.corp-partner.google.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4607564\nCode-Coverage: Daisuke Nojiri <dnojiri@chromium.org>\nTested-by: Daisuke Nojiri <dnojiri@chromium.org>\nReviewed-by: Daisuke Nojiri <dnojiri@chromium.org>\nCommit-Queue: Daisuke Nojiri <dnojiri@chromium.org>",1,0.9996123909950256,LOG,driver/tcpm/anx7406.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,b5973ed8929ce4596f4620d186c38c877ca1746e,e7c42899c61d8835888bcf94e808164786ce23cc,johnwc_yeh,2023-07-03,"Uldren: Undefine KEYBOARD_REFRESH_ROW3\n\nUldren's refresh key is located on KSI02.\nUndefine CONFIG_PLATFORM_EC_KEYBOARD_REFRESH_ROW3 to fix issue for\npress ""esc + refresh + power button"" can't enter recovery screen.\n\nBUG=b:289327823\nTEST=Press ""esc + refresh + power button"" and it can show recovery\nscreen\n\nChange-Id: Iba04aa8a0491f608a58c1bcf23241bfd62247986\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4663562\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Elthan Huang <elthan_huang@compal.corp-partner.google.com>\nReviewed-by: Ivan Chen <yulunchen@google.com>\nCommit-Queue: Ivan Chen <yulunchen@google.com>\nTested-by: JohnWC Yeh <johnwc_yeh@compal.corp-partner.google.com>",1,0.9997126460075378,"PLATFORM_EC, PLATFORM_EC_KEYBOARD, PLATFORM_EC_KEYBOARD_REFRESH_ROW3",zephyr/program/nissa/uldren/project.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,9253be9365e62c66800a0a3dd242cd39484baec8,ce56530d908832fc1e59de1a742c4d5a947d0887,Jun Lin,2023-06-30,"gpio: npcx: fix compiler error when I2C is not used\n\nTo optimize the power consumption, the GPIO driver refers to\nthe i2c_ports structure which is declared in every project's board.c to\nget the related GPIO number of each I2C pin. However, it causes the\ncompiler error if a project doesn't use the I2C module (i.e. no\ni2c_ports is declared in the board.c.) This CL fixes it by guarding\nthe related codes with CONFIG_I2C.\n\nBRANCH=none\nBUG=b:289316133\nTEST=""#define CONFIG_LOW_POWER_IDLE"" in helipilot; no compiliation error\noccurs.\nTEST=pass ""make buildall""\n\nChange-Id: I5566d8e9f095006ae7625e6d3451cd7ef281cde3\nSigned-off-by: Jun Lin <CHLin56@nuvoton.com>\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4659518\nReviewed-by: David Cross <davidmcross@google.com>\nCommit-Queue: CH Lin <chlin56@nuvoton.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nTested-by: CH Lin <chlin56@nuvoton.com>\nReviewed-by: Bobby Casey <bobbycasey@google.com>\nCommit-Queue: David Cross <davidmcross@google.com>\nTested-by: David Cross <davidmcross@google.com>",1,0.9997387528419496,GPIO,chip/npcx/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,13da91e4176229f8976f6f9a81262e558db41c15,d3738c265aa87e231e149ed7d66992ed2b1f9b51,Caveh Jalali,2023-07-18,test/rex: Split GPIOs for variants\n\nAdd a 2nd GPIO bank for variants to use. This avoids GPIO assignment\nconflicts between the base definitions and variant specific definitions.\n\nBUG=b:289092921\nTEST='./twister -T zephyr/test/rex' passes\n\nChange-Id: I1293028548d0dcf98cb5d55ccfc43a502d50e2bd\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4704899\nReviewed-by: wen zhang <zhangwen6@huaqin.corp-partner.google.com>\nAuto-Submit: caveh jalali <caveh@chromium.org>\nCommit-Queue: caveh jalali <caveh@chromium.org>\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nTested-by: caveh jalali <caveh@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>,1,0.9989564418792723,GPIO,"zephyr/test/rex/boards/native_posix.overlay, zephyr/test/rex/boards/screebo/screebo.dtsi",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a9256034b2bcfc6010a630555ac4854efbcaead7,ba988b648fba4d0e5ecf002efc50b73b1bd91de9,Caveh Jalali,2023-07-24,"npcx: Fix GPIO enumeration for CONSOLE_CMD_GPIODBG\n\nThis fixes a compilation issue when PLATFORM_EC_CONSOLE_CMD_GPIODBG is\nenabled. When IO expanders are defined, the npcx support code fails to\ncompile because it tries to include definitions for GPIO pins on IO\nexpanders. These should be filtered out since this command is specific\nto npcx on-chip GPIO pins.\n\nBUG=b:292291807\nTEST='gpiodbg list' works on rex\n\nChange-Id: I89ffd61a213969bf791b6019a97e18d9bdc721fb\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4713320\nTested-by: caveh jalali <caveh@chromium.org>\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nAuto-Submit: caveh jalali <caveh@chromium.org>\nCommit-Queue: caveh jalali <caveh@chromium.org>",1,0.9997299313545228,"GPIO, PLATFORM_EC, PLATFORM_EC_CONSOLE_CMD_GPIODBG",zephyr/shim/chip/npcx/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,6edfb9bfe721c405bf1c8e89a09c58277f4116b2,925b1c94c9049669683546d2e7e170db54135489,Reka Norman,2023-07-03,"cec/bitbang: Add a port parameter to functions\n\nAdd a port parameter to all functions of the CEC bitbang driver. This\nwill allow the driver to support multiple ports in the future.\n\nFor now, ITE and Nuvoton both only support one instance of the driver,\nso a fixed port is used. If support for multiple ports is added in the\nfuture, the port should be detected based on the timer/GPIO where the\ninterrupt occurred.\n\nBUG=b:270507438\nTEST=CEC works on dibbi\n\nChange-Id: I690643dc6afa21a7fa3887091f8be43b02305254\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4663559\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Daisuke Nojiri <dnojiri@chromium.org>\nCommit-Queue: Reka Norman <rekanorman@chromium.org>\nTested-by: Reka Norman <rekanorman@chromium.org>",1,0.9395459294319152,GPIO,"chip/it83xx/cec_bitbang.c, chip/npcx/cec_bitbang.c, driver/cec/bitbang.c, driver/cec/bitbang.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,640fda9ceee4c8ff74ae7bc7c3b365a877b936ff,9108a1ff5bff14ea2471ce229919538dbee9a875,Tang Qijun,2023-08-09,"Gothrax: define KEYBOARD_REFRESH_ROW3\n\nGothrax's refresh key is located on KSI3.\ndefine CONFIG_PLATFORM_EC_KEYBOARD_REFRESH_ROW3 to fix issue for\npress ""esc + refresh + power button"" can't enter recovery screen.\n\nBUG=b:294129218\n\nTEST=Press ""esc + refresh + power button"" and it can show recovery\n  screen\n\nChange-Id: I9858545896c0e447d1f61ded92d99ff68a0043da\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4768436\nTested-by: Tang Qijun <qijun.tang@ecs.corp-partner.google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Kyle Lin <kylelinck@google.com>\nCommit-Queue: Kyle Lin <kylelinck@google.com>",1,0.9997201561927797,"PLATFORM_EC, PLATFORM_EC_KEYBOARD, PLATFORM_EC_KEYBOARD_REFRESH_ROW3",zephyr/program/nissa/gothrax/project.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,05356be78ccd432a5ce1744c63a3b3a8237238be,32775e126ad07a08f16832f337a5dbcf8079434a,Craig Hesling,2023-08-17,"Makefile: Fix CPPFLAGS usage for config parser\n\nCPPFLAGS is defined earlier in Makefile.toolchain. This definition\nincludes the following fragment:\n\n-DSECTION_IS_$(BLD)=$(EMPTY) -DSECTION=$(BLD) $(CPPFLAGS_$(BLD))\n\nSince CPPFLAGS includes the above fragment, when we evaluate CPPFLAGS\nhere, BLD is unset, so we end up with a cpp invocation that resembles\nthe following:\n\n$(CPP) ... -DSECTION_IS_= -DSECTION= ... -DSECTION_IS_RO=\n\nYou can see that we don't set the SECTION= variable correctly and we\nwill totally omit the $(CPPFLAGS_$(BLD)) flags. This results in us\nomitting HAS_TASK_* variables for tasks that only appear in RO or RW,\nexclusively, like the following:\n\nCPPFLAGS_RO is -DHAS_TASK_RWSIG= -DHAS_TASK_FPSENSOR_RW=\nCPPFLAGS_RW is -DHAS_TASK_FPSENSOR= -DHAS_TASK_RWSIG_RO=\n\nBUG=b:176500425\nTEST=buildall\nTEST=./util/compare_build.sh -b all\n\nChange-Id: I93295ba91c47fb3f772dd178032d9c90174ecb09\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4792302\nReviewed-by: Daisuke Nojiri <dnojiri@chromium.org>\nTested-by: Craig Hesling <hesling@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nCommit-Queue: Craig Hesling <hesling@chromium.org>",1,0.9997095465660096,"HAS_TASK_FPSENSOR, HAS_TASK_RWSIG",Makefile,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,e72dd0090d0eeb38009f4143e41649b9c62b5e1e,ca69dac58ef500d9661c40d368903f0edf3882ee,Sue Chen,2023-08-15,Karis: Add BOARD_KARIS in rex\n\nAdd new config BOARD_KARIS to build the subdirectory karis.\nFix build error for strcasecmp in charge.c\n\nBUG=b:296145621\nTEST=zmake build karis\n\nChange-Id: Icfb7f44a1768dd2d1d115308760d308d88b24eb6\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4775947\nCommit-Queue: Sue Chen <sue.chen@quanta.corp-partner.google.com>\nTested-by: Sue Chen <sue.chen@quanta.corp-partner.google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: caveh jalali <caveh@chromium.org>,1,0.9983751773834229,BOARD_KARIS,"zephyr/program/rex/CMakeLists.txt, zephyr/program/rex/Kconfig, zephyr/program/rex/karis/CMakeLists.txt, zephyr/program/rex/karis/project.conf, zephyr/program/rex/karis/src/charger.c",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a8a5dac5b92b883f30a1cdebb0e83fb418b41ffd,f2ac29b53dbb5e0dacdccd080379f32e84bd2702,Al Semjonovs,2023-08-28,zephyr: Make sure EC GPIO priority is after zephyr GPIO priority\n\nResolves boot-loop issue with downstream NCT38xx priority change\n\nBUG=b:297492207\nTEST=Verified skyrim device boots up\n\nChange-Id: I2abaa4ae79378b1d4ce409f97d43d513e7238828\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4817512\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nAuto-Submit: Al Semjonovs <asemjonovs@google.com>\nTested-by: Al Semjonovs <asemjonovs@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nCommit-Queue: Al Semjonovs <asemjonovs@google.com>,1,0.9994686245918274,GPIO,"zephyr/Kconfig.init_priority, zephyr/drivers/cros_shi/Kconfig",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,510a14985984c11d0e813ff39136901fd23306d4,a8a5dac5b92b883f30a1cdebb0e83fb418b41ffd,Peter Marheine,2023-08-24,"emul_power_signals: disable unneeded signal types\n\nWhen using power signals emulation without eSPI enabled (such as if all\nrequired power signals are GPIO-based), the code to handle emulated eSPI\nsignals would fail to build because no eSPI support exists. Add\npreprocessor guards to remove this support to fix the build in these\nconfigurations.\n\nThis also drops inclusion of test_state.h, which is unused in this file.\n\nBUG=b:271118604\nTEST=twister\n\nChange-Id: I29dd57a25413feba447e63c435699b6c065d6d79\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4809459\nCommit-Queue: Peter Marheine <pmarheine@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Abe Levkoy <alevkoy@chromium.org>\nReviewed-by: Bernardo Perez Priego <bernardo.perez.priego@intel.com>\nTested-by: Peter Marheine <pmarheine@chromium.org>",1,0.999247670173645,GPIO,zephyr/subsys/emul/ap_pwrseq/emul_power_signals.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7a6135ed2b8d316176994c75d62723318218fc4c,bfe227c8574b327ba81aa0937537ae7077dc1c0b,Keith Short,2023-08-02,"zephyr: gpio shim: Fix fault if GPIO is not ready\n\nThe GPIO shim checked if a GPIO is ready, but wasn't skipping the GPIO\nif the associated driver was not ready and caused a boot loop.\n\nSkip GPIO pin configure when the device is not ready.\n\nBUG=none\nTEST=zmake build -a\nTEST=On rex, verify EC boots even with a bad initialization order\n\nChange-Id: Ic0f8ab45148f1fb8a349c8e2e95ad3faf7c007b6\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4742189\nReviewed-by: Abe Levkoy <alevkoy@chromium.org>\nTested-by: Keith Short <keithshort@chromium.org>\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nCommit-Queue: Keith Short <keithshort@chromium.org>",1,0.999677300453186,GPIO,zephyr/shim/src/gpio.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,422b9084a314c7ea6a11b0bf87f71a7716f791fc,542968a22af9896177c09d3601c66e7e602fa14f,Dawid Niedzwiecki,2023-08-25,zephyr: bloonchipper: add transport detection\n\nAdd zephyr version of a function to detect the transport interface for\nhost communication.\n\nBUG=b:259667397\nTEST=call the get_fp_transport_type and make sure a proper transport\ntype is detected\nLOW_COVERAGE_REASON=limitation of the GPIO emulator - no possibility of\nreturning an error\n\nChange-Id: I68cbca438009f6f6cb0d49ce37398be03527cbad\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4813636\nTested-by: Dawid Niedzwiecki <dawidn@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Patryk Duda <patrykd@google.com>\nCommit-Queue: Patryk Duda <patrykd@google.com>,1,0.987714409828186,GPIO,"zephyr/program/fpmcu/bloonchipper/CMakeLists.txt, zephyr/program/fpmcu/bloonchipper/gpio.dtsi, zephyr/program/fpmcu/bloonchipper/src/fp_transport.c, zephyr/test/fpmcu/CMakeLists.txt, zephyr/test/fpmcu/Kconfig, zephyr/test/fpmcu/boards/bloonchipper/bloonchipper.dtsi, zephyr/test/fpmcu/boards/native_posix.overlay, zephyr/test/fpmcu/prj.conf, zephyr/test/fpmcu/testcase.yaml, zephyr/test/fpmcu/tests/bloonchipper/CMakeLists.txt, zephyr/test/fpmcu/tests/bloonchipper/src/transport_spi.c, zephyr/test/fpmcu/tests/bloonchipper/src/transport_uart.c",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,49bcb00deec2b24b08929556d4c11fffe37a9a00,d4425e3a774e404a7d3ba89f8aa47d78740d3ab3,Rob Barnes,2023-10-02,ec_coredump: Fix typo in config_chip.h\n\nCONFIG_ prefix is missing from PLATFORM_EC_HOST_COMMAND_MEMORY_DUMP\nentry in config_chip.h.\n\nBUG=b:263250131\nTEST=ectool inventory on skyrim\n\nChange-Id: I6ecf5710d029544f422032ef4b9fe749252677d7\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4907064\nTested-by: Rob Barnes <robbarnes@google.com>\nCommit-Queue: Keith Short <keithshort@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nAuto-Submit: Rob Barnes <robbarnes@google.com>\nReviewed-by: Keith Short <keithshort@chromium.org>,1,0.9996962547302246,"PLATFORM_EC, PLATFORM_EC_HOST_COMMAND_MEMORY_DUMP",zephyr/shim/include/config_chip.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,e5c69d56ad105ca2b8bca010f8efd35573439fb3,2fdd772529a12d7eb80d8a144a5f2aa6f3e8515d,Reka Norman,2023-10-05,"cec/bitbang: it83xx: Disable GPIO interrupts when debouncing\n\nCL:4899696 keeps gpio interrupts always enabled to improve timing. This\nworks fine for most situations, but it prevents the debounce logic from\nworking as intended avoid CPU stress if there's an interrupt storm on\nthe CEC line.\n\nAdd special handling for the debounce case by disabling gpio interrupts\nwhen entering CEC_STATE_FOLLOWER_DEBOUNCE, and re-enabling them when\nleaving the state. Since the debounce logic only runs in error cases,\nthis won't affect timing during normal operation.\n\nBUG=b:287676025\nTEST=Use another chromebox to generate short pulses on the CEC line. Add\nlogging to check gpio interrupts and disabled and re-enabled. Check CEC\nstill works as expected afterwards.\n\nChange-Id: I5ec65adcbd484a30b6cbb14c4c1984232bb63b72\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/4914853\nTested-by: Reka Norman <rekanorman@chromium.org>\nCommit-Queue: Reka Norman <rekanorman@chromium.org>\nReviewed-by: Stefan Adolfsson <sadolfsson@chromium.org>",1,0.7783579230308533,GPIO,"chip/it83xx/cec_bitbang.c, chip/npcx/cec_bitbang.c, driver/cec/bitbang.c, driver/cec/bitbang.h",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,865b5ee4ece7c91d290cfd9538bace8cf3548160,cdac33e59099fe2ca5070e6ada742d0f0ad1a658,Robert Zieba,2023-11-08,"skyrim: Fix KB BL not working after RO -> RW jump\n\nJumping from RO to RW can result in the keyboard backlight init code not\nrunning in RW. This results in the backlight not working. Select\n`CONFIG_PLATFORM_EC_KBLIGHT_HOOK_INIT` to ensure it always runs.\n\nBUG=b:305845750\nTEST=Start in RO, `sysjump RW`, `kblight 100`.\n\nChange-Id: Id3836dd5c001fd0bd3a662720c3378fea07ca292\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5015444\nCommit-Queue: Robert Zieba <robertzieba@google.com>\nTested-by: Robert Zieba <robertzieba@google.com>\nReviewed-by: Rob Barnes <robbarnes@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>",1,0.9996981620788574,"PLATFORM_EC, PLATFORM_EC_KBLIGHT_HOOK_INIT",zephyr/program/skyrim/program.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a8eb181d1e0f8eaf49affab3aeb61a73f2fa339b,79cfb28a756a5d3a53e4aad3fa165adcf3a0728b,Patryk Duda,2023-11-23,zephyr: bloonchipper: Restore fps_int GPIO interrupt\n\nNode 'int_fps_int' was accidentally removed instead of 'int_slp_alt_l'\nin chromium:5050182. This patch fixes this mistake\n\nBUG=b:312432974\nTEST=zmake build bloonchipper\n\nChange-Id: I5aa3ca4d89b1cba54fea5503897090640fd43758\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5054547\nTested-by: Patryk Duda <patrykd@google.com>\nReviewed-by: Dawid Niedwiecki <dawidn@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nCommit-Queue: Patryk Duda <patrykd@google.com>,1,0.9990535378456116,GPIO,zephyr/program/fpmcu/bloonchipper/gpio.dtsi,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,0c40decb8c8663b46047404eb0f35eeeedea008e,25312d12213a221d404979f85fb298a9486b3dd8,Al Semjonovs,2023-12-01,zephyr: Fix x86 CHIPSET_STACK_SIZE\n\nUse uppercase 'X' for AP_X86 config\n\nBUG=None\nTEST=zmake build markarth\n     validate config in autoconf.h\n\nChange-Id: Id2ffa95242607d6caf249ab80a584935819a60fd\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5080097\nTested-by: Al Semjonovs <asemjonovs@google.com>\nAuto-Submit: Al Semjonovs <asemjonovs@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nCommit-Queue: Al Semjonovs <asemjonovs@google.com>\nReviewed-by: Sam Hurst <shurst@google.com>,1,0.9996570348739624,AP_X86,zephyr/Kconfig.stacks,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,00bfe6c798052e908b3aeb70c958a488cf398b56,22d3083a0a0c82adabf8c9c08c9e7a3d8a1233b3,Robert Zieba,2023-12-07,"skyrim: Fix nct38xx gpio-dev device pointing to wrong device\n\nThis property needs to be point to the actually GPIO device and not the\nparent device otherwise the EC will crash on a TCPC alert.\n\nBUG=b:312519939\nTEST=Ran on skyrim, EC no longer crashes\n\nChange-Id: I7db3d55359c4ee79f6754e679822c88dbae70a33\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5106088\nAuto-Submit: Robert Zieba <robertzieba@google.com>\nReviewed-by: Keith Short <keithshort@chromium.org>\nTested-by: Robert Zieba <robertzieba@google.com>\nCommit-Queue: Keith Short <keithshort@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>",1,0.9996950626373292,GPIO,zephyr/program/skyrim/i2c.dtsi,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,6a3a473f6640d34bcaa7c6714cec93c73dde3a17,04c928133a0287416ab28adbfd61766ee96200b5,Ruihai Zhou,2023-12-13,"zephyr: Fix PLATFORM_EC_BUTTON_TRIGGERED_RECOVERY config\n\nPLATFORM_EC_BUTTON_TRIGGERED_RECOVERY cannot depends on\nPLATFORM_EC_DEDICATED_RECOVERY_BUTTON, otherwise\nPLATFORM_EC_BUTTON_TRIGGERED_RECOVERY will not be able to be enabled\nalone and will not be able to trigger recovery mode, let's remove the\ndependency to fix it.\n\nBUG=b:316076658\nTEST=zmake build ciri, no warning below:\n""warning: PLATFORM_EC_BUTTON_TRIGGERED_RECOVERY (defined at\n/mnt/host/source/src/platform/ec/zephyr/Kconfig:214) was assigned the\nvalue 'y' but got the value 'n'""\nTEST=Power button and vol +/- trigger recovery mode\n\nChange-Id: I47d07abc979ae689e7259f301aad612e73eff2fa\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5118863\nTested-by: Ruihai Zhou <zhouruihai@huaqin.corp-partner.google.com>\nReviewed-by: Ting Shen <phoenixshen@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nCommit-Queue: Ruihai Zhou <zhouruihai@huaqin.corp-partner.google.com>",1,0.9997215867042542,"PLATFORM_EC, PLATFORM_EC_BUTTON, PLATFORM_EC_BUTTON_TRIGGERED_RECOVERY, PLATFORM_EC_DEDICATED_RECOVERY_BUTTON","common/button.c, zephyr/Kconfig",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,b6e71c65d8833b05b16b8a2350eec31e5200ff72,738898382af3be1059e4f3e0ba271b569bd3ee9a,Keith Short,2023-12-26,brox: Fix RSMRST configuration\n\nThe common RSMRST pass through handler does not support the\nGPIO_ACTIVE_LOW flag.  Clear this flag in the Brox power signal\nconfiguration.\n\nBUG=b:305010521\nTEST=./twister -T zephyr/test/ap_power\n\nChange-Id: I4d2778d16c57c041bc601299c65fc2e3e7ce7d99\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5152265\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nTested-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>,1,0.999671220779419,GPIO,zephyr/program/brox/power_signals.dtsi,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,0857c520ae51b4844481db161e698fc0b88cd035,a7b415a24ba61814331b46229b88734bf3357474,Keith Short,2023-12-22,brox: Update GPIOs\n\nUpdate GPIOs to v0.15 of the schematic.  Latest arbitrage fixes some pin\nerrors so these no longer need to be configured manually.\n\nBUG=b:305009810\nTEST=zmake build brox\n\nChange-Id: I0a117f862124976882df074d488a5b1285df9455\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5150174\nTested-by: Keith Short <keithshort@chromium.org>\nReviewed-by: Sam Hurst <shurst@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nCommit-Queue: Keith Short <keithshort@chromium.org>,1,0.7323225140571594,GPIO,"zephyr/program/brox/generated.dtsi, zephyr/program/brox/gpio.dtsi",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3de20dc058167d0f3ab55975acc7443a10faa96d,e178231665f675cf92c31dd9570715b4a58eed8d,ben chen,2023-12-27,"zephyr: add BMA4xx_INT CONFIG options to allow list\n\nthis BMA4xx Kconfig opiton defined as  PLATFORM_EC_ACCEL_BMA4XX,\nthis also create config CONFIG_ACCEL_BMA4XX_INT_EVENT to allow list,\nto get rid of non-fatal errors reported in the CQ.\n\nBUG=b:299202814\nTEST=zmake build board pass\n\nChange-Id: I90bf937bfabfd088ab5d8a196e1c45c43933a5ac\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5149915\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Bob Moragues <moragues@chromium.org>\nCommit-Queue: Ben Chen <ben.chen2@quanta.corp-partner.google.com>\nTested-by: Ben Chen <ben.chen2@quanta.corp-partner.google.com>\nReviewed-by: Forest Mittelberg <bmbm@google.com>\nReviewed-by: Ben Chen <ben.chen2@quanta.corp-partner.google.com>",1,0.9975784420967102,"PLATFORM_EC, PLATFORM_EC_ACCEL_BMA4XX",util/config_allowed.txt,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,764d6c8ea4d3d51f3c124d31b08806cbab7e651e,266d0f609b91fbec751148fc01be0939b6d83761,Jes B. Klinke,2024-01-09,"board/hyperdebug: Fixes to code path for buffer overrun\n\nIt appears that in past refactorings, some bugs had been introduced in\nthe uncommon path handling the case when opentitantool does not retrieve\nGPIO monitoring events in time, and the internal buffer overruns.\n\nWe want to handle that case by stopping monitoring, and reporting the\noverrun next time opentitantool attempts to retrieve events.\n\nBUG=b:266832220\nTEST=make tast TAST_EXPR=gscdevboard.CCDCapabilitiesFlashEC.cap_always\n	  (with local modifications to capture ITE waveform)\n\nChange-Id: Ie5e82d6e47c4349239b7b268e097ea9b5c2693ba\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5182337\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Jett Rink <jettrink@google.com>\nTested-by: Jes Klinke <jbk@chromium.org>\nCommit-Queue: Jes Klinke <jbk@chromium.org>",1,0.9996552467346193,GPIO,"board/hyperdebug/gpio.c, board/hyperdebug/gpio_edge.S",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,8928f26773df221ddb6d2c202c5278c7eb070fad,bec64b342c7e9c9c48f7923788db923a0de8017c,Eric Yilun Lin,2023-12-18,rauru: add initial GPIO DTS v1.1.7 and fixes for image build\n\nAdded DTS v1.1.7 for the first GPIO driver and applied necessary fixes\nto enable image building\n\nGenerate with arbitrage:\narb export-ec-pinmap --force --chip=it82202  --output \\nzephyr/program/rauru/rauru/generated.dtsi --column=A ~/rauru.csv\n\nBUG=b:308941437\nTEST=zmake build rauru\n\nChange-Id: I987c52cbed593403d473c89cae8d5171293bdbcd\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5138296\nReviewed-by: Ting Shen <phoenixshen@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nTested-by: Eric Yilun Lin <yllin@google.com>\nCommit-Queue: Eric Yilun Lin <yllin@google.com>,1,0.9401821494102478,GPIO,"zephyr/program/rauru/arbitrage.dtsi, zephyr/program/rauru/rauru/generated.dtsi, zephyr/program/rauru/rauru/motionsense.dtsi, zephyr/program/rauru/rauru/overlay.dtsi, zephyr/program/rauru/rauru/project.overlay, zephyr/program/rauru/usbc.dtsi",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,448859ff30ce8793cf50259db0ac7a288954fb5c,3565f8ee3f4226d30b7d26348de9ee9ea4460b6f,Robert Zieba,2024-01-09,"rex: Fix NCT38xx gpio-dev pointing to wrong device\n\nAn upstream commit changed how the NCT38xx driver works and now the\n`gpio-dev` DT property now needs to point to the actual GPIO device.\n\nBUG=b:312519939\nTEST=Builds, type-C/A ports on screebo still work\n\nChange-Id: Iefd982b1a171d56adc506e97bbfd163bc4b626c6\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5185645\nTested-by: Robert Zieba <robertzieba@google.com>\nReviewed-by: caveh jalali <caveh@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nCommit-Queue: Robert Zieba <robertzieba@google.com>",1,0.9996726512908936,GPIO,"zephyr/program/rex/rex.dtsi, zephyr/program/rex/screebo/project.overlay",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,61c124c3ee76d86958d1b1ff43181ed7dcb66d0f,448859ff30ce8793cf50259db0ac7a288954fb5c,Robert Zieba,2024-01-09,intelrvp/mtlrvp: Fix NCT38xx gpio-dev pointing to wrong device\n\nAn upstream commit changed how the NCT38xx driver works and now the\n`gpio-dev` DT property now needs to point to the actual GPIO device.\n\nBUG=b:312519939\nTEST=Builds with compile-time checks from CL:5106089.\n\nChange-Id: I832857223cc3cb44263dc6da178a0a60b90cc390\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5185646\nCommit-Queue: Robert Zieba <robertzieba@google.com>\nReviewed-by: caveh jalali <caveh@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nTested-by: Robert Zieba <robertzieba@google.com>,1,0.9996135830879213,GPIO,"zephyr/program/intelrvp/mtlrvp/mtlrvpp_mchp/mtlrvp_mchp.dts, zephyr/program/intelrvp/mtlrvp/mtlrvpp_npcx/tcpc_i2c.dts",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7372bd0e1d8c84754bd74cda5a75d24294226830,bf5ec1af9b07f65718b3b9f60956451ba78d8c12,Robert Zieba,2024-01-09,nissa/nokris: Fix NCT38xx gpio-dev pointing to wrong device\n\nAn upstream commit changed how the NCT38xx driver works and now the\n`gpio-dev` DT property now needs to point to the actual GPIO device.\n\nBUG=b:312519939\nTEST=Builds with compile-time checks.\n\nChange-Id: Ic769e3863aa9f04cea62aafeff837f57545887a5\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5185647\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nTested-by: Robert Zieba <robertzieba@google.com>\nReviewed-by: Peter Marheine <pmarheine@chromium.org>\nCommit-Queue: Robert Zieba <robertzieba@google.com>,1,0.9994702935218812,GPIO,zephyr/program/nissa/nokris/overlay.dtsi,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,759b5071fbc3ab917f38877026c5e1175a726be7,7372bd0e1d8c84754bd74cda5a75d24294226830,Robert Zieba,2024-01-09,brya: Fix NCT38xx gpio-dev pointing to wrong device\n\nAn upstream commit changed how the NCT38xx driver works and now the\n`gpio-dev` DT property now needs to point to the actual GPIO device.\n\nBUG=b:312519939\nTEST=Builds with compile-time checks.\n\nChange-Id: I7a26d805146ba4415393d8b5d1adc6627a0d3f53\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5185648\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Forest Mittelberg <bmbm@google.com>\nTested-by: Robert Zieba <robertzieba@google.com>\nCommit-Queue: Robert Zieba <robertzieba@google.com>,1,0.9994833469390868,GPIO,zephyr/program/brya/i2c.dts,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,dfc533868d81cc3ca15d0454d83f9ec1c3d5f432,044e19b530a6eadd39c89c7f6a05649a2b8cc5b1,Fabio Baltieri,2024-01-19,ap_pwrseq: fix build with CONFIG_LOG=n\n\nMake the file build when logging is disabled. This is useful for\nbuilding without LTO or some other odd config.\n\nBUG=none\nTEST=zmake build craask -DCONFIG_LTO=n -DCONFIG_LOG=n\n\nChange-Id: Icc436e775b80be685fafd3cbcd9a5c3964fefb99\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5217433\nTested-by: Fabio Baltieri <fabiobaltieri@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Abe Levkoy <alevkoy@chromium.org>\nCommit-Queue: Fabio Baltieri <fabiobaltieri@google.com>,1,0.9997190833091736,LOG,zephyr/subsys/ap_pwrseq/power_signals.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,111fc492b6acda1075f6b1e22d93a56abc1292a4,dfc533868d81cc3ca15d0454d83f9ec1c3d5f432,Fabio Baltieri,2024-01-19,yavilla: fix build warning in led.c\n\nFix:\n\nzephyr/program/nissa/yavilla/src/led.c:190:12:\n	error: 'rv' may be used uninitialized\n	[-Werror=maybe-uninitialized]\n\nBUG=none\nTEST=zmake build yavilla -DCONFIG_LTO=n -DCONFIG_LOG=n\n\nChange-Id: I444a8e818fd35ad611f7e6c6d47395ed401d8a27\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5217434\nTested-by: Fabio Baltieri <fabiobaltieri@google.com>\nCommit-Queue: Fabio Baltieri <fabiobaltieri@google.com>\nReviewed-by: Keith Short <keithshort@chromium.org>,1,0.9997053742408752,LOG,zephyr/program/nissa/yavilla/src/led.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,380b184214688e473436348271fc01a29a3d739f,513b3c8ab112d5d210ca26d830be601f57a84a18,Keith Short,2024-01-26,brox-ish-ec: Fix PDC driver interrupts\n\nSkip initialization of the GPIO pins managed by the PDC driver.\n\nBUG=none\nTEST=zmake build brox-ish-ec\n\nChange-Id: I32a14ab355e152997fa17c19f2d972fbc4827125\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5241573\nTested-by: Keith Short <keithshort@chromium.org>\nReviewed-by: Tristan Honscheid <honscheid@google.com>\nCommit-Queue: Keith Short <keithshort@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>,1,0.9993698000907898,GPIO,zephyr/program/brox/brox-ish-ec/project.overlay,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,f487fa53607c731bbdfbc003b8dd9203c0a2c3fb,c88a5a0f80a4b9367d985d5eddc5374081316946,Al Semjonovs,2024-02-09,zephyr: Rename LTO to PLATFORM_EC_LTO\n\nDownstreaming fix as Kconfig option LTO has been added as\nexperimental.\nRename EC's LTO to avoid conflicts and linker errors\n\nBUG=None\nTEST=zmake compare-build -a --ref1=cros/main --ref2=HEAD\n\nChange-Id: I6ebe10c6efd8fc03be86195078d6d7aa8246b051\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5282401\nReviewed-by: Eric Peers <epeers@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nAuto-Submit: Al Semjonovs <asemjonovs@google.com>\nCommit-Queue: Al Semjonovs <asemjonovs@google.com>\nCommit-Queue: Eric Peers <epeers@google.com>\nTested-by: Al Semjonovs <asemjonovs@google.com>\nCommit-Queue: Jeremy Bettis <jbettis@chromium.org>\nReviewed-by: Jeremy Bettis <jbettis@chromium.org>,1,0.9886985421180724,"PLATFORM_EC, PLATFORM_EC_LTO","common/spi/flash_reg/CMakeLists.txt, zephyr/CMakeLists.txt, zephyr/app/ec/Kconfig, zephyr/program/brox/program.conf, zephyr/program/brya/prj.conf, zephyr/program/corsola/ite_program.conf, zephyr/program/geralt/program.conf, zephyr/program/intelrvp/prj.conf, zephyr/program/it8xxx2_evb/it82002_evb/project.conf, zephyr/program/nissa/program.conf",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,d2f19500f05cdc72aa104d6942ed6d7eed8b5a4c,5910362d6aeab8d45f3b864f51a3fb2cd3b30bfe,Patryk Duda,2024-02-15,fpmcu: Fix unsatisfied dependencies when changing RSA key parameters\n\nWhen building RW firmware with RSA key size provided in\nCONFIG_PLATFORM_EC_RSA_KEY_SIZE we get the following warning:\n\nwarning: PLATFORM_EC_RSA_KEY_SIZE (defined at\n/mnt/host/source/src/platform/ec/zephyr/Kconfig.rsa:15) was assigned\nthe value '3072' but got the value ''. Check these unsatisfied\ndependencies: PLATFORM_EC_RSA (=n).\n\nLet's redefine this option in fpmcu Kconfig to change the defaults.\n\nBUG=none\nTEST=zmake build bloonchipper\n\nChange-Id: I629faca382b39ddf7e7cfbb0f45981ebb1661e03\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5300676\nReviewed-by: Dawid Niedwiecki <dawidn@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nCommit-Queue: Patryk Duda <patrykd@google.com>\nTested-by: Patryk Duda <patrykd@google.com>,1,0.9994410872459412,"PLATFORM_EC, PLATFORM_EC_RSA, PLATFORM_EC_RSA_KEY_SIZE","zephyr/program/fpmcu/Kconfig, zephyr/program/fpmcu/prj.conf",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3ee1f05e01eba92130a736cdb2953ddc90fe66cc,f9bad03d8d36840aed8953287740e057f96f1620,Patryk Duda,2024-03-12,"chip/npcx: Clear SPR0 bit on invalid protected range\n\nFix situation when flash protect bit (SRP0) is enabled, but the size\nof protected area is 0 or it's not possible to decode protected range\nfrom SR1 and SR2 registers (spi_flash_reg_to_protect() returned\nerror). This situation can occur if flashing was interrupted\ne.g. flashrom was killed while reading from flash.\n\nStatus registers can be modified only when the SRP0 bit and the WP_IF\nbit (in DEV_CTL4 register) are not enabled at the same time. The\nWP_IF bit is cleared when MCU reboots, it means that once enabled,\nthe bit can't be cleared by the software.\n\nThe WP_IF bit is set by flash_protect_int_flash() function based on\nGPIO_WP status. In our case, the WP_IF bit is clear in RO (because we\nare after reboot), but not in RW (because it will be set later in\nthis function).\n\nClearing the status registers before the WP_IF bit is enabled avoids\nsituation in which we protect status registers with size of protected\narea set to 0. We rely on other parts of the system to enable\nprotection like we rely on them to enable protection when HW WP is\nenabled for the first time.\n\nBUG=b:328066864\nTEST=Compile helipilot firmware and run it on DUT with helipilot board.\n     Make sure the firmware works and there are no regressions.\nTEST=Try to reproduce bug using steps from b/328066864#comment12\n     Make sure the problem doesn't reproduce.\n\nChange-Id: I21d52b5742e08d9f946541607d62285c3f043a3f\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5365866\nTested-by: Patryk Duda <patrykd@google.com>\nReviewed-by: Tom Hughes <tomhughes@chromium.org>\nCommit-Queue: Patryk Duda <patrykd@google.com>\nReviewed-by: CH Lin <chlin56@nuvoton.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>",1,0.999687433242798,GPIO,chip/npcx/flash.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,fdde9079d2939ef62b9a4eb68791681f1f872ad2,01fd87251d683b91de1868cc7eff86508c83c98e,Keith Short,2024-03-27,boringssl: Fix circular dependency\n\nMake BORINGSSL_CRYPTO depend on ENTROPY_GENERATOR instead of\nautomatically selecting ENTROPY_GENERATOR.\n\nThis fixes a circular dependency on all boards that don't use\nBORINGSSL_CRYPTO.\n\nBUG=b:320527549\nTEST=zmake build -a\nTEST=Verify CONFIG_ENTROPY_GENERATOR=y on bloonchipper build\nTEST=twister -ivc -T zephyr/test/boringssl\n\nChange-Id: I53350b9b22f4f6c6a67f7d891b3f2668f5fb35d6\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5403275\nTested-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Fabio Baltieri <fabiobaltieri@google.com>\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nTested-by: Patryk Duda <patrykd@google.com>\nAuto-Submit: Keith Short <keithshort@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Patryk Duda <patrykd@google.com>,1,0.999524712562561,BORINGSSL_CRYPTO,"third_party/boringssl/Kconfig, zephyr/program/fpmcu/prj.conf, zephyr/test/boringssl/prj.conf",1,build system,security,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7f3ba08085fc7245cd192f9cac9c4858db0c060f,d36208e9b89ac3b2372afa168c86b6dca87af13e,Tinghan Shen,2022-08-22,"chip/mt_scp: fix mt8195 timer frequency\n\nThe clock frequency of mt8195 timer is 248Mhz / 8 = 31. This is not the same\nas mt8192 which is 260Mhz / 8 = 32.5.\n\nBRANCH=none\nBUG=b:193814857\nTEST=add an task to toggle a GPIO pin per 10ms.\nwith 32.5, the GPIO signal frequency is ~47.7Hz.\nwith 31, the GPIO signal frequency is ~50.1Hz.\n\nSigned-off-by: Tinghan Shen <tinghan.shen@mediatek.com>\nChange-Id: I9a129a67822a98892cfa7395879085837e6d2fe7\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/3668996\nReviewed-by: Fei Shao <fshao@chromium.org>\nCommit-Queue: Fei Shao <fshao@chromium.org>\nTested-by: Fei Shao <fshao@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>",1,0.9996984004974364,GPIO,chip/mt_scp/rv32i_common/hrtimer.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,16cf2270227050f040f567487f9e4c529cb9855d,cf14a58b122ce40001526324c46a6df05504c620,Fabio Baltieri,2024-01-30,"shim: flag __popcountsi2 as __used, build conditionally\n\nSeems like LTO likes to collect the __popcountsi2 implementation even\nthough it's actually used, building with CONFIG_LTO=y fails with\n\nundefined reference to `__popcountsi2'\n\nI guess it does not like the fact that this one goes through\n__builtin_popcount. Mark the function as __used as a workaround, but\nbuild it conditionally to CONFIG_INPUT to avoid wasting 40 bytes of\nflash in the current projects.\n\nBUG=b:274443029\nTEST=zmake build rex -DCONFIG_INPUT=y -DCONFIG_CROS_EC_KEYBOARD_INPUT=y\n\nChange-Id: Ie1556da98231a277d632cc8d5d823f50a82bef5e\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5250488\nReviewed-by: Al Semjonovs <asemjonovs@google.com>\nTested-by: Fabio Baltieri <fabiobaltieri@google.com>\nCommit-Queue: Fabio Baltieri <fabiobaltieri@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>",1,0.9996851682662964,"CROS_EC, CROS_EC_KEYBOARD_INPUT","zephyr/shim/src/CMakeLists.txt, zephyr/shim/src/popcountsi2.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,b4d20557ce55a72bb4e07f44a44155c068d00b99,90d7b9619ed6b8eae79a91db1579afd8ad7605e6,Jay Patel,2024-05-07,intelrvp: Fix board charger initialization order\n\nAdjust initialization sequence to ensure charge manager precedes board\ncharger on intelrvp boards without PD controllers.\n\nHOOK_PRIO_INIT_CHARGE_MANAGER higher priority than\nHOOK_PRIO_POST_CHARGE_MANAGER for boards without PDC.\nCHARGE_MANAGER_SYS_INIT_PRIORITY higher priority than\nAPPLICATION_INIT_PRIORITY for boards with PDC.\n\nBUG=b:333693462\nTEST=mtlrvpp_pd and mtlrvpp_npcx booting and charger working.\n     Checked using chgsup.\nLOW_COVERAGE_REASON=Board specific code b:336751447\n\nChange-Id: I6377905a57d2b51f79e9c5ee283d9c2a6f0df859\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5522662\nTested-by: Jay Patel <jay2.patel@intel.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Sam Hurst <shurst@google.com>\nReviewed-by: Vijay P Hiremath <vijay.p.hiremath@intel.com>\nCommit-Queue: Jay Patel <jay2.patel@intel.com>,1,0.9996957778930664,CHARGE_MANAGER_SYS_INIT_PRIORITY,zephyr/program/intelrvp/src/dc_jack.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4b3bee5e993a06b806a3102be6e3e414c9e8f080,4cccabeef50b39e7c21da1402d7e8c8ef81787b3,Hideo Fukuda,2024-06-07,"kyogre: Fix to enter recovery mode\n\nTo enter recovery mode with ESC + Refresh + Power Button,\nCONFIG_PLATFORM_EC_KEYBOARD_REFRESH_ROW3=y is added.\n\nBUG=b:345639990\nTEST=Press ESC + Refresh + Power Button on Kyogre.\n\nChange-Id: I58248523e2c8f06c52417c050b2f7bf19578b186\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5604608\nCommit-Queue: Kenny Pan <kennypan@google.com>\nTested-by: Hideo Fukuda <hfukuda@fujitsu.corp-partner.google.com>\nReviewed-by: Eric Yilun Lin <yllin@google.com>\nReviewed-by: Kenny Pan <kennypan@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>",1,0.999695897102356,"PLATFORM_EC, PLATFORM_EC_KEYBOARD, PLATFORM_EC_KEYBOARD_REFRESH_ROW3",zephyr/program/corsola/kyogre/project.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,4ea225a641921edbe3aaef5436b0e224281a9e5a,d1ec0263c498ad25fc6501f179e04959ca47cf54,Ridden_Liu,2024-06-14,Veluza: Fix LED control for ectool\n\nAdd condition to check led auto control flag.\nIf not check flag will cause led behavior back to auto\nwhen set the ectool led command.\nAlso fixed the typo in LOG_ERR().\n\nBUG=b:343125047\nTEST=Check led behavior keep in setting by cmd\nLOW_COVERAGE_REASON=use b:344720576 tracking test code\n\nChange-Id: Ia043cb27513f5fd855dd7fa8e4801c8e24ad1524\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5632527\nTested-by: Ridden Liu <ridden_liu@compal.corp-partner.google.com>\nCommit-Queue: Ridden Liu <ridden_liu@compal.corp-partner.google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Shawn Ku <shawnku@chromium.org>\nReviewed-by: Ting Shen <phoenixshen@chromium.org>,1,0.9996925592422484,LOG,zephyr/program/corsola/veluza/src/led.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,01e2ec5e966500c259cdc4cd6693dfbbb2617e3b,6fc77e0909fe10f3dda356f5fbaf2eef0ef6314d,Firas Sammoura,2024-02-26,"Reland: ""common: Enable SRAM MPU protection on helipilot""\n\nThis is a reland of commit cd757991f1410993715b7347387c87ef0c1e1486\n\nThe original issue was that this CL caused a regression in\nsystem_is_locked.* unit tests. This issue (b/349664212) was fixed in\nhttps://crrev.com/c/5727982 by forcing on HW WP GPIO before the boot\nprocess, which causes system to be locked before the unit tests are run.\n\nOriginal change's description:\n> Protects the code RAM section of the helipilot board, which executes\n> code from RAM. This mechanism protects the code from being modified\n> using the MPU. The MPU protection are setup at boot using\n> post_mpu_init block.\n>\n> This prevents write access to code RAM after system is locked is\n> detected and flash is initialized.\n>\n> BUG=b:324677118\n> TEST=run_device_tests.py -b helipilot -t sram_mpu_protection\n> TEST=make BOARD=bloonchipper\n> TEST=make BOARD=dartmonkey\n>\n> Change-Id: Ic2a70b04f88e9adb37afd6b9d22d8929fcc9b26a\n> Reviewed-on: https://chromium-> review.googlesource.com/c/chromiumos/platform/ec/+/5325938\n> Reviewed-by: Firas Sammoura <fsammoura@google.com>\n> Commit-Queue: Firas Sammoura <fsammoura@google.com>\n> Tested-by: Firas Sammoura <fsammoura@google.com>\n> Reviewed-by: Tom Hughes <tomhughes@chromium.org>\n> Code-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\n\nBUG=b:324677118\nTEST=run_device_tests.py -b helipilot\n\nChange-Id: Ie19b278728880583f4997df3d215696904af631f\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5727981\nTested-by: Firas Sammoura <fsammoura@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Tom Hughes <tomhughes@chromium.org>\nCommit-Queue: Firas Sammoura <fsammoura@google.com>",1,0.9997263550758362,GPIO,"baseboard/helipilot/build.mk, common/main.c, core/cortex-m/include/mpu.h, core/cortex-m/mpu.c, test/build.mk, test/run_device_tests.py, test/sram_mpu_protection.c, test/sram_mpu_protection.tasklist",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,404a208b84ec3d06884d546eeba8904dcb2a62c9,6e139b0d1ceaf15eeff0529932a6cd67c04ac514,Keith Short,2024-08-06,"ap_pwrseq: Fix suspend logging\n\nThe message printed when a host sleep hang is detected was sent directly\nto the CC_COMMAND channel using the legacy EC output.  CC_COMMAND output\nis no longer captured into the AP console buffer.\n\nConvert to a LOG_ERR message so the message can captured into the AP's\ncros_ec.log file.\n\nAlso promote the message that tracks host sleep events from the host\nfrom LOG_DBG to LOG_INF to improve debugging of AP suspend tests.\n\nBUG=none\nTEST=Run ""ectool hostsleep freeze 1"" on AP. Verify hang message logged\nto cros_ec.log.\n\nChange-Id: Ib43ea34711926017c64894d6c17199adf8d69923\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5766724\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nTested-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>\nReviewed-by: Tristan Honscheid <honscheid@google.com>",1,0.99857497215271,LOG,"zephyr/subsys/ap_pwrseq/power_host_sleep.c, zephyr/subsys/ap_pwrseq/x86_non_dsx_common_pwrseq_host_sleep.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,1822f1b6b47f8b14b1068007f8a63d91dcea01aa,d909677d23716f2a439c301b4da89a1e9fa258b2,Patryk Duda,2024-08-09,"zephyr: llvm: Indicate that Newlib is supported on ARM toolchain only\n\nCL:5297714 enabled TOOLCHAIN_HAS_NEWLIB for all LLVM toolchains. As a\nresult, tests that require Newlib are not filtered properly.\n\nThis was fixed by moving the TOOLCHAIN_HAS_NEWLIB variable from\ngeneric.cmake to target.cmake. It introduces another problem that the\nvariable is not available while processing Kconfig files, so\nCONFIG_NEWLIB_LIBC_SUPPORTED would be never enabled. This was fixed by\noverriding the config and enabling it if we are compiling for ARM\narchitecture.\n\nBUG=b:324574796\nTEST=zmake build bloonchipper\n\nChange-Id: Ib2f4cce53f33a7ba5f9419708e8edcbf1792878d\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5776405\nReviewed-by: Dawid Niedwiecki <dawidn@google.com>\nTested-by: Patryk Duda <patrykd@google.com>\nCommit-Queue: Patryk Duda <patrykd@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>",1,0.9996864795684814,NEWLIB_LIBC_SUPPORTED,"zephyr/cmake/toolchain/llvm/Kconfig, zephyr/cmake/toolchain/llvm/generic.cmake, zephyr/cmake/toolchain/llvm/target.cmake",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,b5750d2b13cd950fa1dbc2978a7b8a4902d610d1,d2adfcf2936d08cf0e0e6025481f71ce8eac806d,Keith Short,2024-08-09,"test: drivers: Fix duplicate lines in the output\n\nMost of the tests under zephyr/test/drivers had duplicate log messages\nin the output.  Disable CONFIG_LOG_BACKEND_UART because the\nCONFIG_SHELL_LOG_BACKEND also sends log messages to the UART.\n\nThe BMI tests use LOG_MODE_MINIMAL, which disables\nCONFIG_LOG_BACKEND_UART and sends all log messages to printk() directly.\nFor the BMI tests, disable CONFIG_PLATFORM_EC_CONSOLE_DEBUG to prevent\nduplicate output for legacy EC prints.\n\nBUG=none\nTEST=./twister -ivc -T zephyr/test/drivers\n\nChange-Id: Ia9643e5b444ef96ec3136a8708f37ab5e8232aee\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5775571\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Jeremy Bettis <jbettis@chromium.org>\nTested-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>",1,0.9446827173233032,"LOG, PLATFORM_EC, PLATFORM_EC_CONSOLE_DEBUG","zephyr/test/drivers/bmi3xx/prj.conf, zephyr/test/drivers/prj.conf",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,7dadef6e4fcee7ed1fd5120b3254a28f959e28c9,6174756d90835db18d5ddf48ac79467767810ced,Jay Patel,2024-08-08,"x86_non_dsx_common_pwrseq_sm_handler: Typecast s5_inactivity_timeout\n\nAP_PWRSEQ_DT_VALUE(s5_inactivity_timeout) compared to 0 to avoid\nconstant-logical-operand warning, sometimes treated as error.\n\nBUG=b:336751447\nTEST=zmake build -a\n\nChange-Id: I86a0e6c39f308e249e0ba4fa828f87c8215429c6\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5777321\nTested-by: Jay Patel <jay2.patel@intel.com>\nReviewed-by: caveh jalali <caveh@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Vijay P Hiremath <vijay.p.hiremath@intel.com>\nCommit-Queue: Jay Patel <jay2.patel@intel.com>",1,0.9996644258499146,AP_PWRSEQ,zephyr/subsys/ap_pwrseq/x86_non_dsx_common_pwrseq_sm_handler.c,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,07e0b0e33b5fc2c12a090ba401e748a3832e2a96,f24120b2daf8f1226b352eb651e5af752770e91c,Keith Short,2024-08-23,"zephyr: console: Don't filter help output\n\nThe shim that connects EC legacy commands to the Zephyr shell used\nprintk() directly.  This caused legacy command help to be filtered if\nthe CC_ZEPHYR_LOG channel was turned off.\n\nSend legacy command help directly to the Zephyr shell, which avoids the\nfiltering done by the printk hook.\n\nThe new unit test fails when the help text uses print() and passes when\nusing cprintf().\n\nBUG=b:359744043\nTEST=Run ""chan 0"" and ""pd 2 state"" on tentacruel.  Verify help text\nshown.\nTEST=./twister -ivc -T zephyr/test/console\n\nChange-Id: Ice9e26ded1dd418311e18ad6bc8ce4b90dbc0f5f\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5808525\nTested-by: Keith Short <keithshort@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>\nReviewed-by: Tristan Honscheid <honscheid@google.com>\nCode-Coverage: Keith Short <keithshort@chromium.org>\nReviewed-by: Keith Short <keithshort@chromium.org>",1,0.9995049238204956,LOG,"zephyr/shim/src/console.c, zephyr/test/console/src/console_output.c",0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,693f0153c0ba736464b2b1f24db25418e92d4122,0bc0912c49ac694322678515747e926876517fe4,Keith Short,2024-09-05,"zephyr: Fix FRS usage with Kconfig\n\nSwitch the PDC policy manager to use the correct config namespace,\nCONFIG_PLATFORM_EC_USB_PD_FRS.\n\nThis also removes the dependency on CONFIG_EC_USB_POWER_DELIVERY so FRS\nsupport can be used with PDC implementations.\n\nBUG=none\nTEST=zephyr compare-builds -a\n\nChange-Id: I9b9a343d625b48457e2941a10f654ddf1ccec49f\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5842946\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Abe Levkoy <alevkoy@chromium.org>\nCommit-Queue: Keith Short <keithshort@chromium.org>\nTested-by: Keith Short <keithshort@chromium.org>",1,0.999638557434082,"PLATFORM_EC, PLATFORM_EC_USB_PD_FRS","zephyr/Kconfig.pd_frs, zephyr/program/nissa/orisa/project.conf, zephyr/subsys/pd_controller/pdc_dpm.c",1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,99569f6393ad480878755dd8a1456e5260060639,bf2d40f6c43405841c24b15f14fb811f5287b8a4,Fabio Baltieri,2024-08-06,"Kconfig.defaults: enable I2C_ALLOW_NO_STOP_TRANSACTIONS by default\n\nSome of the operations common/i2c_controller.c depends on the I2C APIs\nbeing able to handle transactions with no stop at the end.\n\nThis is against the Zephyr I2C API definition as it breaks atomicitiy\nbetween transactions and may result in the bus left in inconsistent\nstate, but at this stage the EC code depends on it.\n\nThe option allows to use the old behavior, this is a temporary stopgap\nuntil the underlying API misuse is being reworked and fixed.\n\nBUG=none\nTEST=./twister\n\nCq-Depend: chromium:5757465\nCq-Depend: chromium:5882735\nChange-Id: I3e5db436f5b0ebd0f07679f255416d0be1df64e5\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5763259\nReviewed-by: Jeremy Bettis <jbettis@chromium.org>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nCommit-Queue: Fabio Baltieri <fabiobaltieri@google.com>\nTested-by: Fabio Baltieri <fabiobaltieri@google.com>",1,0.9993667006492616,I2C_ALLOW_NO_STOP_TRANSACTIONS,zephyr/Kconfig.defaults,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,a5339f068551b9eff9013f8320805dd60bc2de40,a242d7a2d68ed24f5667e8c2992907a48addbfea,Fabio Baltieri,2024-09-25,"Kconfig.console: fix LOG_OUTPUT_FORMAT_CUSTOM_TIMESTAMP default\n\nLOG_OUTPUT_FORMAT_CUSTOM_TIMESTAMP is now a choice option for\nLOG_BACKEND_FORMAT_TIMESTAMP_MODE so it cannot be used with ""select""\nanymore. Make it an automatic default instead.\n\nBUG=none\nTEST=cq dry run\n\nCq-Depend: chromium:5891019\nChange-Id: I78b40fdc01b6d23eb281e6dbb672f296bf2fb73e\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5890747\nReviewed-by: Al Semjonovs <asemjonovs@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nTested-by: Fabio Baltieri <fabiobaltieri@google.com>\nCommit-Queue: Fabio Baltieri <fabiobaltieri@google.com>",1,0.999710500240326,LOG,zephyr/Kconfig.console,1,build system,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,3ccf9971eabb6e1a3abba4461a8343ab3080ea7d,1510a923ec3b903201dd16bf79e8e7dd1d0e7ed5,Ruibin Chang,2024-10-21,"starmie: use default pd max voltage, max current, and max power\n\nOur Fixed SNK PDO is 20V/3A (60W), it does not match\nCONFIG_PLATFORM_EC_PD_MAX_POWER_MW=45000, then get GRL test\nfail.\n\nSo I use default pd max voltage = 20V, max current = 3A,\nmax power 60W setting. (align to baseboard krabby)\n\nBUG=b:362149208\nTEST=pass COMMON.CHECK.PD.12#1\n\nChange-Id: I68d48614a78e71d9af9ab247ea336d0125598ffd\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/5937324\nAuto-Submit: Ruibin Chang <Ruibin.Chang@ite.com.tw>\nReviewed-by: Ting Shen <phoenixshen@chromium.org>\nCommit-Queue: Ruibin Chang <Ruibin.Chang@ite.com.tw>\nTested-by: Ruibin Chang <Ruibin.Chang@ite.com.tw>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>",1,0.9997007846832277,PLATFORM_EC,zephyr/program/corsola/starmie/project.conf,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,939804cfdf9d31fe9963fac4dd5d3d841db66dc6,0f17289d86c7311d1109f121caf4c2c6f79a7615,Al Semjonovs,2024-11-18,console: Add verbosity to PW_LOG\n\nPigweed Downstreaming fix for CL/6006949\n\nBUG=None\nTEST=zmake build trulo\n\nCq-Depend: chromium:6006949\nChange-Id: I92f0a5b25539d11e329b2dd83933f4d05ffe2055\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/6031930\nReviewed-by: Fabio Baltieri <fabiobaltieri@google.com>\nCommit-Queue: Al Semjonovs <asemjonovs@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nReviewed-by: Yuval Peress <peress@google.com>\nTested-by: Al Semjonovs <asemjonovs@google.com>\nReviewed-by: Jonathon Murphy <jpmurphy@google.com>,1,0.9989172220230104,LOG,include/console.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,0f4e94221d931d1ebc692bd09fa1dda1f3414d34,939804cfdf9d31fe9963fac4dd5d3d841db66dc6,Al Semjonovs,2024-11-18,pw_zephyr_log: Add module to PW_LOG_TOKENIZED_FORMAT_STRING\n\nFix for downstreaming CL/6027739\n\nBUG=None\nTEST=zmake build trulo\n\nCq-Depend: chromium:6027739\nChange-Id: I74155d578d8c42a7e85a77560e81cce9d7f49b12\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/6033029\nCommit-Queue: Al Semjonovs <asemjonovs@google.com>\nTested-by: Al Semjonovs <asemjonovs@google.com>\nReviewed-by: Yuval Peress <peress@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>,1,0.9991326928138732,LOG,zephyr/include/pigweed/pw_zephyr_tokenized_custom_log.h,0,other,other,chrome-ec.json,repos/chrome-ec
chrome-ec,https://github.com/coreboot/chrome-ec,c7d689661b405dd38c1a9006c31e8cfad190aa6e,f6088bffe5f85a1d34d1e98463d10506e67d8227,Eric Yilun Lin,2024-11-21,"navi: Handle sleep hang for suspend workaround\n\nThis commit introduces a new hook, board_handle_sleep_hang(), enabling\nboards to customize the handling of sleep hang events.\n\nThis change implements this hook on Navi to manage sleep hang events by\ndisabling the CS interrupt and configuring the S3 indicator GPIO as an\ninput.  This workarounds an issue where the system fails to suspend\ncorrectly.\n\nThis change enhances the robustness of the sleep hang handling mechanism\nby allowing boards to take specific actions in response to sleep hang\nevents.\n\nBUG=b:354870788\nTEST=sleeptimeout 100; Reproduce sleep hang and ensure the system can then successfully suspend.\nLOW_COVERAGE_REASON=b:354870788 bringup\n\nChange-Id: I8c2dbc4ec1d323e213585ca2d10196c1869347eb\nReviewed-on: https://chromium-review.googlesource.com/c/chromiumos/platform/ec/+/6042064\nCode-Coverage: Ting Shen <phoenixshen@chromium.org>\nReviewed-by: Ting Shen <phoenixshen@chromium.org>\nCommit-Queue: Eric Yilun Lin <yllin@google.com>\nCode-Coverage: Zoss <zoss-cl-coverage@prod.google.com>\nTested-by: Eric Yilun Lin <yllin@google.com>",1,0.9992470741271972,GPIO,"include/power/mt8186.h, power/mt8186.c, zephyr/program/rauru/navi/src/suspend_resume.c",0,other,other,chrome-ec.json,repos/chrome-ec
